<div class="wrapper">

    <!-- Set up the Tabs -->
    <div class="tabs">
        <input type="hidden" class="tabstoggle" name="attr_sheetTab" value="main"/>
        <button type="action" name="act_main" class="tab main" >Main</button>
        <button type="action" name="act_skills" class="tab skills">Skills</button>

        <input  class="show-mage" name="attr_ismage" type="checkbox" checked hidden/>
        <button type="action" name="act_magic" class="tab magic">Magic</button>

        <input  class="show-critter" name="attr_iscritter" type="checkbox" hidden/>
        <button type="action" name="act_critter" class="tab critter">Critter</button>

        <input  class="show-technomancy" name="attr_istechnomancer" type="checkbox" checked hidden/>
        <button type="action" name="act_technomancy" class="tab technomancy">Technomancy</button>

        <button type="action" name="act_enhancements" class="tab enhancements">Enhancements</button>
        <button type="action" name="act_matrix" class="tab matrix">Matrix</button>
        <button type="action" name="act_vehicles" class="tab vehicles">Vehicles</button>
        <button type="action" name="act_equipment" class="tab equipment">Equipment</button>
        <button type="action" name="act_social" class="tab social">Social</button>
        <button type="action" name="act_character" class="tab character">Character</button>
    </div>

    <div class="gmroll">
        <input type="radio" class="gmrollcheckbox" name="attr_gmroll" value="" title="Switch to public Rolls" checked>
        <input type="radio" class="gmrollcheckbox" name="attr_gmroll" value="/w gm " title="Switch to GM only Rolls">
        <div class="gmrolllabel gmrollticked">GM Roll</div>
        <input type="radio" class="edgerollcheckbox" name="attr_edgeroll" value="" title="Switch to Normal rolls" checked>
        <input type="radio" class="edgerollcheckbox" name="attr_edgeroll" value="!/" title="Switch to Pre-Edged Rolls">
        <div class="gmrolllabel edgerollunticked">Edge</div>
    </div>

    <input type="hidden" class="tabstoggle" name="attr_sheetTab" value="main"/>
    <div class="contentMain">
        <div class="statblock">
            <h2>Attributes</h2>
            <div class="statcol statcol1">
                <div class="statheading">
                    <h4> </h4>
                </div>
                <div class="statlabel"><label>Body</label></div>
                <div class="statlabel"><label>Agility</label></div>
                <div class="statlabel"><label>Reaction</label></div>
                <div class="statlabel"><label>Strength</label></div>
                <div class="statlabel"><label>Willpower</label></div>
                <div class="statlabel"><label>Logic</label></div>
                <div class="statlabel"><label>Charisma</label></div>
                <div class="statlabel"><label>Intuition</label></div>
                <input  class="show-mage" name="attr_ismage" type="checkbox" checked hidden/>
                <div class="statlabel magic"><label>Magic</label></div>
                <input  class="show-technomancy" name="attr_istechnomancer" type="checkbox" checked hidden/>
                <div class="statlabel technomancy"><label>Resonance</label></div>
                <div class="statlabel"><label>Edge</label></div>
            </div>
            <div class="statcol2">
                <div class="statheading">
                    <h4>Base</h4>
                </div>
                <div class="statinputwrapper"><input type="number" class="statinput" name="attr_bod_base" title="Base Attribute unaugmented"></div>
                <div class="statinputwrapper"><input type="number" class="statinput" name="attr_agi_base" title="Base Attribute unaugmented"></div>
                <div class="statinputwrapper"><input type="number" class="statinput" name="attr_rea_base" title="Base Attribute unaugmented"></div>
                <div class="statinputwrapper"><input type="number" class="statinput" name="attr_str_base" title="Base Attribute unaugmented"></div>
                <div class="statinputwrapper"><input type="number" class="statinput" name="attr_wil_base" title="Base Attribute unaugmented"></div>
                <div class="statinputwrapper"><input type="number" class="statinput" name="attr_log_base" title="Base Attribute unaugmented"></div>
                <div class="statinputwrapper"><input type="number" class="statinput" name="attr_cha_base" title="Base Attribute unaugmented"></div>
                <div class="statinputwrapper"><input type="number" class="statinput" name="attr_int_base" title="Base Attribute unaugmented"></div>
                <input  class="show-mage" name="attr_ismage" type="checkbox" checked hidden/>
                <div class="statinputwrapper magic"><input type="number" class="statinput" name="attr_mag_base" title="Base Attribute unaugmented"></div>
                <input  class="show-technomancy" name="attr_istechnomancer" type="checkbox" checked hidden/>
                <div class="statinputwrapper technomancy"><input type="number" class="statinput" name="attr_mag_base" title="Base Attribute unaugmented"></div>
                <div class="statinputwrapper"><input type="number" class="statinput" name="attr_edg_total" title="Base Attribute unaugmented"></div>
            </div>
            <div class="statcol3">
                <div class="statsubcol">
                    <div class="statheading">
                        <h4>Bonus</h4>
                    </div>
                    <div class="statinputwrapper"><input type="number" class="statinput" name="attr_bod_aug" value="0" title="Bonuses from Augmentations"></div>
                    <div class="statinputwrapper"><input type="number" class="statinput" name="attr_agi_aug" value="0" title="Bonuses from Augmentations"></div>
                    <div class="statinputwrapper"><input type="number" class="statinput" name="attr_rea_aug" value="0" title="Bonuses from Augmentations"></div>
                    <div class="statinputwrapper"><input type="number" class="statinput" name="attr_str_aug" value="0" title="Bonuses from Augmentations"></div>
                    <div class="statinputwrapper"><input type="number" class="statinput" name="attr_wil_aug" value="0" title="Bonuses from Augmentations"></div>
                    <div class="statinputwrapper"><input type="number" class="statinput" name="attr_log_aug" value="0" title="Bonuses from Augmentations"></div>
                    <div class="statinputwrapper"><input type="number" class="statinput" name="attr_cha_aug" value="0" title="Bonuses from Augmentations"></div>
                    <div class="statinputwrapper"><input type="number" class="statinput" name="attr_int_aug" value="0" title="Bonuses from Augmentations"></div>
                    <input  class="show-mage" name="attr_ismage" type="checkbox" checked hidden/>
                    <div class="statinputwrapper magic"><input type="number" class="statinput" name="attr_mag_aug" value="0" title="Bonuses from Augmentations"></div>
                    <input  class="show-technomancy" name="attr_istechnomancer" type="checkbox" checked hidden/>
                    <div class="statinputwrapper technomancy"><input type="number" class="statinput" name="attr_mag_aug" value="0" title="Bonuses from Augmentations"></div>
                </div>
                <div class="statsubcol">
                    <div class="statheading">
                        <h4>Total</h4>
                    </div>
                    <div class="statinputwrapper"><input type="number" class="statinput" name="attr_bod_total" value="@{bod_base}+@{bod_aug}" title="Base + Bonus" disabled></div>
                    <div class="statinputwrapper"><input type="number" class="statinput" name="attr_agi_total" value="@{agi_base}+@{agi_aug}" title="Base + Bonus" disabled></div>
                    <div class="statinputwrapper"><input type="number" class="statinput" name="attr_rea_total" value="@{rea_base}+@{rea_aug}" title="Base + Bonus" disabled></div>
                    <div class="statinputwrapper"><input type="number" class="statinput" name="attr_str_total" value="@{str_base}+@{str_aug}" title="Base + Bonus" disabled></div>
                    <div class="statinputwrapper"><input type="number" class="statinput" name="attr_wil_total" value="@{wil_base}+@{wil_aug}" title="Base + Bonus" disabled></div>
                    <div class="statinputwrapper"><input type="number" class="statinput" name="attr_log_total" value="@{log_base}+@{log_aug}" title="Base + Bonus" disabled></div>
                    <div class="statinputwrapper"><input type="number" class="statinput" name="attr_cha_total" value="@{cha_base}+@{cha_aug}" title="Base + Bonus" disabled></div>
                    <div class="statinputwrapper"><input type="number" class="statinput" name="attr_int_total" value="@{int_base}+@{int_aug}" title="Base + Bonus" disabled></div>
                    <input  class="show-mage" name="attr_ismage" type="checkbox" checked hidden/>
                    <div class="statinputwrapper magic"><input type="number" class="statinput" name="attr_mag_total" value="@{mag_base}+@{mag_aug}" title="Base + Bonus" disabled></div>
                    <input  class="show-technomancy" name="attr_istechnomancer" type="checkbox" checked hidden/>
                    <div class="statinputwrapper technomancy"><input type="number" class="statinput" name="attr_mag_total" value="@{mag_base}+@{mag_aug}" title="Base + Bonus" disabled></div>
                </div>
                <div class="rollcol">
                    <div class="statheading">
                        <h4>Roll</h4>
                    </div>
                    <div class="statinputwrapper">
                        <button type="action" class="standardroll" name="act_roll" title="Roll Body" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=Body}}{{val1=Body}}{{val1_num=[[@{bod_total}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[?{Apply Wounds|Yes,1|No,0}*(@{wound_total})]]}}{{sustainedspells=[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]}}{{result=[[(@{bod_total}+?{Situational Modifiers}-?{Apply Wounds}*[[@{wound_total}]]-[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                    </div>
                    <div class="statinputwrapper">
                        <button type="action" class="standardroll" name="act_roll" title="Roll Agility" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=Agility}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[?{Apply Wounds|Yes,1|No,0}*(@{wound_total})]]}}{{sustainedspells=[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]}}{{result=[[(@{agi_total}+?{Situational Modifiers}-?{Apply Wounds}*[[@{wound_total}]]-[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                    </div>
                    <div class="statinputwrapper">
                        <button type="action" class="standardroll" name="act_roll" title="Roll Reaction" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=Reaction}}{{val1=Reaction}}{{val1_num=[[@{rea_total}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[?{Apply Wounds|Yes,1|No,0}*(@{wound_total})]]}}{{sustainedspells=[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]}}{{result=[[(@{rea_total}+?{Situational Modifiers}-?{Apply Wounds}*[[@{wound_total}]]-[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                    </div>
                    <div class="statinputwrapper">
                        <button type="action" class="standardroll" name="act_roll" title="Roll Strength" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=Strength}}{{val1=Strength}}{{val1_num=[[@{str_total}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[?{Apply Wounds|Yes,1|No,0}*(@{wound_total})]]}}{{sustainedspells=[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]}}{{result=[[(@{str_total}+?{Situational Modifiers}-?{Apply Wounds}*[[@{wound_total}]]-[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                    </div>
                    <div class="statinputwrapper">
                        <button type="action" class="standardroll" name="act_roll" title="Roll Willpower" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=Willpower}}{{val1=Willpower}}{{val1_num=[[@{wil_total}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[?{Apply Wounds|Yes,1|No,0}*(@{wound_total})]]}}{{sustainedspells=[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]}}{{result=[[(@{wil_total}+?{Situational Modifiers}-?{Apply Wounds}*[[@{wound_total}]]-[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                    </div>
                    <div class="statinputwrapper">
                        <button type="action" class="standardroll" name="act_roll" title="Roll Logic" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=Logic}}{{val1=Logic}}{{val1_num=[[@{log_total}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[?{Apply Wounds|Yes,1|No,0}*(@{wound_total})]]}}{{sustainedspells=[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]}}{{result=[[(@{log_total}+?{Situational Modifiers}-?{Apply Wounds}*[[@{wound_total}]]-[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                    </div>
                    <div class="statinputwrapper">
                        <button type="action" class="standardroll" name="act_roll" title="Roll Charisma" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=Charisma}}{{val1=Charisma}}{{val1_num=[[@{cha_total}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[?{Apply Wounds|Yes,1|No,0}*(@{wound_total})]]}}{{sustainedspells=[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]}}{{result=[[(@{cha_total}+?{Situational Modifiers}-?{Apply Wounds}*[[@{wound_total}]]-[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                    </div>
                    <div class="statinputwrapper">
                        <button type="action" class="standardroll" name="act_roll" title="Roll Intuition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=Intuition}}{{val1=Intuition}}{{val1_num=[[@{int_total}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[?{Apply Wounds|Yes,1|No,0}*(@{wound_total})]]}}{{sustainedspells=[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]}}{{result=[[(@{int_total}+?{Situational Modifiers}-?{Apply Wounds}*[[@{wound_total}]]-[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                    </div>
                    <input  class="show-mage" name="attr_ismage" type="checkbox" checked hidden/>
                    <div class="statinputwrapper magic">
                        <button type="action" class="standardroll" name="act_roll" title="Roll Magic" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=Magic/Res}}{{val1=Magic/Res}}{{val1_num=[[@{mag_total}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[?{Apply Wounds|Yes,1|No,0}*(@{wound_total})]]}}{{sustainedspells=[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]}}{{result=[[(@{mag_total}+?{Situational Modifiers}-?{Apply Wounds}*[[@{wound_total}]]-[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                    </div>
                    <input  class="show-technomancy" name="attr_istechnomancer" type="checkbox" checked hidden/>
                    <div class="statinputwrapper technomancy">
                        <button type="action" class="standardroll" name="act_roll" title="Roll Res" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=Magic/Res}}{{val1=Magic/Res}}{{val1_num=[[@{mag_total}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[?{Apply Wounds|Yes,1|No,0}*(@{wound_total})]]}}{{sustainedspells=[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]}}{{result=[[(@{mag_total}+?{Situational Modifiers}-?{Apply Wounds}*[[@{wound_total}]]-[[?{Apply sustained spells|Yes,1|No,0}*(@{sustainedspells}*2)]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                    </div>
                </div>
                <div class="edgewrapper">
                    <div class="edgecheckboxwrapper">
                        <input type="checkbox" class="hiddencheckbox edgecheckbox" name="attr_edg_1" title="Edge Used">
                        <div class="checkboxticker edgeunticked"></div>
                        <div class="checkboxticker edgeticked">X</div>
                    </div>
                    <input type="checkbox" class="edgehidebox" name="attr_edg_total" value="1">
                    <div class="edgecheckboxwrapper">
                        <input type="checkbox" class="hiddencheckbox edgecheckbox" name="attr_edg_2" title="Edge Used">
                        <div class="checkboxticker edgeunticked"></div>
                        <div class="checkboxticker edgeticked">X</div>
                    </div>
                    <input type="checkbox" class="edgehidebox" name="attr_edg_total" value="2">
                    <div class="edgecheckboxwrapper">
                        <input type="checkbox" class="hiddencheckbox edgecheckbox" name="attr_edg_3" title="Edge Used">
                        <div class="checkboxticker edgeunticked"></div>
                        <div class="checkboxticker edgeticked">X</div>
                    </div>
                    <input type="checkbox" class="edgehidebox" name="attr_edg_total" value="3">
                    <div class="edgecheckboxwrapper">
                        <input type="checkbox" class="hiddencheckbox edgecheckbox" name="attr_edg_4" title="Edge Used">
                        <div class="checkboxticker edgeunticked"></div>
                        <div class="checkboxticker edgeticked">X</div>
                    </div>
                    <br>
                    <input type="checkbox" class="edgehidebox" name="attr_edg_total" value="4">
                    <div class="edgecheckboxwrapper">
                        <input type="checkbox" class="hiddencheckbox edgecheckbox" name="attr_edg_5" title="Edge Used">
                        <div class="checkboxticker edgeunticked"></div>
                        <div class="checkboxticker edgeticked">X</div>
                    </div>
                    <input type="checkbox" class="edgehidebox" name="attr_edg_total" value="5">
                    <div class="edgecheckboxwrapper">
                        <input type="checkbox" class="hiddencheckbox edgecheckbox" name="attr_edg_6" title="Edge Used">
                        <div class="checkboxticker edgeunticked"></div>
                        <div class="checkboxticker edgeticked">X</div>
                    </div>
                    <input type="checkbox" class="edgehidebox" name="attr_edg_total" value="6">
                    <div class="edgecheckboxwrapper">
                        <input type="checkbox" class="hiddencheckbox edgecheckbox" name="attr_edg_7" title="Edge Used">
                        <div class="checkboxticker edgeunticked"></div>
                        <div class="checkboxticker edgeticked">X</div>
                    </div>
                    <input type="checkbox" class="edgehidebox" name="attr_edg_total" value="7">
                    <div class="edgecheckboxwrapper">
                        <input type="checkbox" class="hiddencheckbox edgecheckbox" name="attr_edg_8" title="Edge Used">
                        <div class="checkboxticker edgeunticked"></div>
                        <div class="checkboxticker edgeticked">X</div>
                    </div>
                </div>
            </div>
            <div class="specrolls">
                <h2>Attribute Rolls</h2>
                <div><span>Attribute - Bonus - Roll</span></div>
                <br>
                <div class="specroll"><label>Surprise (R+I)</label></div>
                <div class="specroll">
                    <input type="number" class="statinput" value="0" placeholder="Bonus" name="attr_surprise_bonus">
                    <button type="action" class="standardroll" name="act_roll" title="Roll Surprise (Reaction+Intuition)" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=Surprise}}{{val1=Reaction}}{{val1_num=[[@{rea_total}]]}}{{val2=Intuition}}{{val2_num=[[@{int_total}]]}}{{val3=Permanent Bonus}}{{val3_num=[[@{surprise_bonus}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{result=[[(@{rea_total}+@{int_total}+@{surprise_bonus}+?{Situational Modifiers}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                </div>
                <div class="specroll"><label>Composure (C+W)</label></div>
                <div class="specroll">
                    <input type="number" class="statinput" value="0" placeholder="Bonus" name="attr_composure_bonus">
                    <button type="action" class="standardroll" name="act_roll" title="Roll Composure (Charisma+Willpower)" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=Composure}}{{val1=Charisma}}{{val1_num=[[@{cha_total}]]}}{{val2=Willpower}}{{val2_num=[[@{wil_total}]]}}{{val3=Permanent Bonus}}{{val3_num=[[@{composure_bonus}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{result=[[(@{cha_total}+@{wil_total}+@{composure_bonus}+?{Situational Modifiers}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                </div>
                <div class="specroll"><label>Judge Intentions (C+I)</label></div>
                <div class="specroll">
                    <input type="number" class="statinput" value="0" placeholder="Bonus" name="attr_judge_bonus">
                    <button type="action" class="standardroll" name="act_roll" title="Roll Judge Intentions (Charisma+Intuition)" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=Judge Intentions}}{{val1=Charisma}}{{val1_num=[[@{cha_total}]]}}{{val2=Intuition}}{{val2_num=[[@{int_total}]]}}{{val3=Permanent Bonus}}{{val3_num=[[@{judge_bonus}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{result=[[(@{cha_total}+@{int_total}+@{judge_bonus}+?{Situational Modifiers}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                </div>
                <div class="specroll"><label>Memory (L+W)</label></div>
                <div class="specroll">
                    <input type="number" class="statinput" value="0" placeholder="Bonus" name="attr_memory_bonus">
                    <button type="action" class="standardroll" name="act_roll" title="Roll Memory (Logic+Willpower)" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=Memory}}{{val1=Logic}}{{val1_num=[[@{log_total}]]}}{{val2=Willpower}}{{val2_num=[[@{wil_total}]]}}{{val3=Permanent Bonus}}{{val3_num=[[@{memory_bonus}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{result=[[(@{log_total}+@{wil_total}+@{memory_bonus}+?{Situational Modifiers}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                </div>
                <div class="specroll"><label>Poison/Drug (B+W)</label></div>
                <div class="specroll">
                    <input type="number" class="statinput" value="0" placeholder="Bonus" name="attr_poison_bonus">
                    <button type="action" class="standardroll" name="act_roll" title="Roll a Poison/Drug Resistance Test (Body+Willpower)" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=Poison/Drug Resistance}}{{val1=Body}}{{val1_num=[[@{bod_total}]]}}{{val2=Willpower}}{{val2_num=[[@{wil_total}]]}}{{val3=Permanent Bonus}}{{val3_num=[[@{poison_bonus}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{result=[[(@{bod_total}+@{wil_total}+@{poison_bonus}+?{Situational Modifiers}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                </div>
                <div class="specroll"><label>Carry/Lift (B+S)</label></div>
                <div class="specroll">
                    <input type="number" class="statinput" value="0" placeholder="Bonus" name="attr_lift_bonus">
                    <button type="action" class="standardroll" name="act_roll" title="Roll Lift/Carry (Body+Strength)" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=Carry/Lift}}{{val1=Body}}{{val1_num=[[@{bod_total}]]}}{{val2=Strength}}{{val2_num=[[@{str_total}]]}}{{val3=Permanent Bonus}}{{val3_num=[[@{lift_bonus}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{result=[[(@{bod_total}+@{str_total}+@{lift_bonus}+?{Situational Modifiers}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}{{description=Can lift (Strength + Nethits) x 15kg
Can carry (Strength + Nethits) x 10kg
Can lift overhead (Strength + Nethits) x 5kg}}"></button>
                </div>
            </div>
            <div class="movement">
                <h2>Movement</h2>
                <div class="movementrow">
                    <div class="movementmethod"></div>
                    <div class="movementfactor"><label>Factor</label></div>
                    <div class="movementtotal"><label>Total</label></div>
                </div>
                <div class="movementrow">
                    <div class="movementmethod">
                        <label>Walking</label>
                    </div>
                    <div class="movementfactor">
                        <input type="text" name="attr_walkingfactor" value="2">
                    </div>
                    <div class="movementtotal">
                        <input type="number" name="attr_walkingtotal" value="(@{agi_total})*@{walkingfactor}" disabled>
                    </div>
                </div>
                <div class="movementrow">
                    <div class="movementmethod">
                        <label>Running</label>
                    </div>
                    <div class="movementfactor">
                        <input type="text" name="attr_runningfactor" value="4">
                    </div>
                    <div class="movementtotal">
                        <input type="number" name="attr_runningtotal" value="(@{agi_total})*@{runningfactor}" disabled>
                    </div>
                </div>
                <div class="movementrow">
                    <div class="movementmethod">
                        <label>Sprinting</label>
                    </div>
                    <div class="movementfactor">
                        <input type="text" name="attr_sprintingfactor" value="+2">
                    </div>
                    <div class="movementtotal">
                        <label>per Nethit</label>
                    </div>
                </div>
            </div>
            <div class="notesblock">
                <h2>Notes</h2>
                <textarea name="attr_generalnotes"></textarea>
            </div>
        </div>
        <div class="infoblock">
            <h2>Standard Rolls</h2>
            <div class="standardrolls">
                <div class="rollrow">
                    <div class="rolllabel"><label> </label></div>
                    <div class="rolllabel"><label>Standard Roll</label></div>
                    <div class="rolllabel"><label>Edge Roll</label></div>
                    <div class="rolllabel"><label>Extended Roll</label></div>
                </div>
                <div class="rollrow">
                    <div class="rolllabel"><label>Without Wounds</label></div>
                    <div class="rolllabel">
                        <button type="action" class="standardroll" name="act_roll" title="Roll with a given Dicepool without Woundpenalty" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{val1=Dice-Pool}}{{val1_num=[[?{Dice-Pool|6}]]}}{{limit=Limit}}{{limit_num=[[?{Limit|6}]]}}{{result=[[(?{Dice-Pool})d6cs>5>5sdkh[[?{Limit}]]]]}}{{description=?{Description}}}"></button>
                    </div>
                    <div class="rolllabel">
                        <button type="action" class="standardroll" name="act_roll" title="Roll with a given Dicepool + Edge and exploding sixes without Woundpenalty" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{val1=Dice-Pool}}{{val1_num=[[?{Dice-Pool|6}]]}}{{val2=Edge}}{{val2_num=[[@{edg_total}]]}}{{result=[[(?{Dice-Pool}+@{edg_total})d6!cs>5>5sd]]}}{{description=?{Description}}}"></button>
                    </div>
                    <div class="rolllabel">
                        <button type="action" class="standardroll" name="act_extendedroll" title="Roll with a given Dicepool without Woundpenalty" value="@{gmroll}&{template:extendedRoll}{{name=@{character_name}}}{{roll_name=?{Description}}}{{dice_num=[[?{Dice-Pool|6}]]}}{{limit_num=[[?{Limit|6}]]}}{{result=[[(?{Dice-Pool})d6cs>5>5sdkh[[?{Limit}]]]]}}"></button>
                    </div>
                </div>
                <div class="rollrow">
                    <div class="rolllabel"><label>With Wounds and sustained spells</label></div>
                    <div class="rolllabel">
                        <button type="action" class="standardroll" name="act_roll" title="Roll with a given Dicepool with Woundpenalty" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{val1=Dice-Pool}}{{val1_num=[[?{Dice-Pool|6}]]}}{{limit=Limit}}{{limit_num=[[?{Limit|6}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{result=[[(?{Dice-Pool}-[[@{wound_total}]]-[[@{sustainedspells}*2]])d6cs>5>5sdkh[[?{Limit}]]]]}}{{description=?{Description}}}"></button>
                    </div>
                    <div class="rolllabel">
                        <button type="action" class="standardroll" name="act_roll" title="Roll with a given Dicepool + Edge and exploding sixes with Woundpenalty" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{val1=Dice-Pool}}{{val1_num=[[?{Dice-Pool|6}]]}}{{val2=Edge}}{{val2_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{result=[[(?{Dice-Pool}+@{edg_total}-[[@{wound_total}]]-[[@{sustainedspells}*2]])d6!cs>5>5sd]]}}{{description=?{Description}}}"></button>
                    </div>
                    <div class="rolllabel">
                        <button type="action" class="standardroll" name="act_extendedroll" title="Roll with a given Dicepool with Woundpenalty" value="@{gmroll}&{template:extendedRoll}{{name=@{character_name}}}{{roll_name=?{Description}}}{{dice_num=[[?{Dice-Pool|6}]]}}{{limit_num=[[?{Limit|6}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{result=[[(?{Dice-Pool}-[[@{wound_total}]]-[[@{sustainedspells}*2]])d6cs>5>5sdkh[[?{Limit}]]]]}}"></button>
                    </div>
                </div>
            </div>
            <div class="limits">
                <h2>Limits</h2>
                <div class="limitlabels">
                    <div class="limitwrapper"><label>Physical Limit</label></div>
                    <div class="limitwrapper"><label>Mental Limit</label></div>
                    <div class="limitwrapper"><label>Social Limit</label></div>
                </div>
                <div class="limitfields">
                    <div class="limitwrapper">
                        <div class="limitmodifier"><input type="text" name="attr_physical_mod" value="0" title="Limit Modifier from e.g. Adept Powers or Cyberware"></div>
                        <div class="limitdisplay"><input type="number" name="attr_physical_total" value="@{physical_mod}+ceil((@{str_total}+@{str_total}+@{rea_total}+@{bod_total})/3)" title="Total including Bonus" disabled></div>
                        <div class="hiddentextfield"><input type="text" name="attr_physical_name" value="Physical Limit"></div>
                    </div>
                    <div class="limitwrapper">
                        <div class="limitmodifier"><input type="text" name="attr_mental_mod" value="0" title="Limit Modifier from e.g. Adept Powers or Cyberware"></div>
                        <div class="limitdisplay"><input type="number" name="attr_mental_total" value="@{mental_mod}+ceil((@{log_total}+@{log_total}+@{wil_total}+@{int_total})/3)" title="Total including Bonus" disabled></div>
                        <div class="hiddentextfield"><input type="text" name="attr_mental_name" value="Mental Limit"></div>
                    </div>
                    <div class="limitwrapper">
                        <div class="limitmodifier"><input type="text" name="attr_social_mod" value="0" title="Limit Modifier from e.g. Adept Powers or Cyberware"></div>
                        <div class="limitdisplay"><input type="number" name="attr_social_total" value="@{social_mod}+ceil((@{cha_total}+@{cha_total}+@{wil_total}+@{ess_total})/3)" title="Total including Bonus" disabled></div>
                        <div class="hiddentextfield"><input type="text" name="attr_social_name" value="Social Limit"></div>
                    </div>
                    <div class="limitwrapper">
                        <div class="hiddentextfield"><input type="text" name="attr_astral_total" value="{(@{social_total}),(@{mental_total})}kh1" title="Total including Bonus" disabled></div>
                        <div class="hiddentextfield"><input type="text" name="attr_astral_name" value="Astral Limit"></div>
                    </div>
                </div>
            </div>
            <div class="wounds">
                <h2>Damage Tracks</h2>
                <div class="woundsrow">
                    <div><label>Track</label></div>
                    <div><label>Wounds</label></div>
                    <div><label>Health</label></div>
                    <div><label>Overflow</label></div>
                </div>
                <div class="woundsrow">
                    <div><label>Physical</label></div>
                    <div><input type="text" name="attr_physicalwoundstaken" value="0" title="Physical Damage taken"></div>
                    <div><input type="number" name="attr_physicaltracktotal" value="(8+ceil((@{bod_total})/2)+@{physicaltrackmod})-@{physicalwoundstaken}" disabled title="Remaining Damage before Uncounsciousness"></div>
                    <div><input type="number" name="attr_physicaloverflow" value="@{bod_total}+@{overflowmod}+@{physicaltracktotal}" disabled title="Remaining Damage before Death"></div>
                </div>
                <div class="woundsrow">
                    <div><label>Stun</label></div>
                    <div><input type="text" name="attr_stunwoundstaken" value="0" title="Stun Damage taken"></div>
                    <div><input type="number" name="attr_stuntracktotal" value="(8+ceil((@{wil_total})/2)+@{stuntrackmod})-@{stunwoundstaken}" disabled title="Remaining Damage before Uncounsciousness"></div>
                </div>
            </div>
            <div class="defense">
                <h2>Defense</h2>
                <div class="defenserow">
                    <div class="defensebonuslabel"><label>Bonus</label></div>
                    <div class="defenselabel"><label>Dodge</label></div>
                    <div class="defenselabel"><label>Roll</label></div>
                    <div class="defensebonuslabel"><label>Bonus</label></div>
                    <div class="defenselabel"><label>Soak</label></div>
                    <div class="defenselabel"><label>Roll</label></div>
                </div>
                <div class="defenserow">
                    <div class="defensebonuslabel">
                        <input type="text" name="attr_avoid_bonus" value="0">
                    </div>
                    <div class="defenselabel">
                        <input type="number" name="attr_avoid_total" value="@{rea_total}+@{int_total}+@{avoid_bonus}" disabled>
                    </div>
                    <div class="defenselabel">
                        <button type="roll" class="defenseroll" name="roll_defenseroll" title="Roll to Dodge an incoming Attack" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=to Dodge Damage}}{{val1=Reaction}}{{val1_num=[[@{rea_total}]]}}{{val2=Intuition}}{{val2_num=[[@{int_total}]]}}{{val3=Bonus}}{{val3_num=[[@{avoid_bonus}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{result=[[(@{avoid_total}+?{Situational Modifiers}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                    </div>
                    <div class="defensebonuslabel">
                        <input type="text" name="attr_soak_bonus" value="0">
                    </div>
                    <div class="defenselabel">
                        <input type="number" name="attr_soak_total" value="@{armor_total}+@{bod_total}}+@{soak_bonus}" disabled>
                    </div>
                    <div class="defenselabel">
                        <button type="roll" class="armorroll" name="roll_armorroll" title="Roll to Absorb Damage" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=to Absorb Damage}}{{val1=Body}}{{val1_num=[[@{bod_total}]]}}{{val2=Armor}}{{val2_num=[[@{armor_total}]]}}{{val3=Bonus}}{{val3_num=[[@{soak_bonus}]]}}{{val4=Armor Penetration}}{{val4_num=[[?{Armor Penetration|-0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{result=[[(@{bod_total}+@{soak_bonus}+[[{@{armor_total}+?{Armor Penetration},0}kh1]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                    </div>
                </div>
            </div>
            <div class="initiative">
                <h2>Initiative</h2>
                <div class="initiativerow">
                    <div class="initiativelabel"><label>Physical</label></div>
                    <div class="initiativeattribute">
                        <input type="number" value="@{rea_total}+@{int_total}" name="attr_initiativeattribute" disabled>
                    </div>
                    <div class="initiativelabelwrapper"><label>+</label></div>
                    <div class="initiativebonus">
                        <input type="text" name="attr_initiativebonus" value="0">
                    </div>
                    <div class="initiativelabelwrapper"><label>+</label></div>
                    <div class="initiativedice">
                        <input type="text" name="attr_initiativedice" value="1">
                    </div>
                    <div class="initiativelabelwrapper"><label>d6</label></div>
                    <div class="initiativerollwrapper">
                        <button type="roll" class="initiativeroll" name="roll_initiativeroll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=for Initiative}}{{val1=Reaction}}{{val1_num=[[@{rea_total}]]}}{{val2=Intuition}}{{val2_num=[[@{int_total}]]}}{{val3=Bonus}}{{val3_num=[[@{initiativebonus}]]}}{{wounds_num=[[@{wound_total}]]}}{{initiative=true}}{{initiative=[[@{initiativeattribute}+@{initiativebonus}-[[@{wound_total}]]+[[{@{initiativedice},(@{edgn}*5)}kh1]]d6 &{tracker}]]}}"></button>
                    </div>
                </div>
                <div class="initiativerow">
                    <div class="initiativelabel"><label>Astral</label></div>
                    <div class="initiativeattribute">
                        <input type="number" value="@{int_total}+@{int_total}" name="attr_astralinitiativeattribute" disabled>
                    </div>
                    <div class="initiativelabelwrapper"><label>+</label></div>
                    <div class="initiativebonus">
                        <input type="text" name="attr_astralinitiativebonus" value="0">
                    </div>
                    <div class="initiativelabelwrapper"><label>+</label></div>
                    <div class="initiativedice">
                        <input type="text" name="attr_astralinitiativedice" value="2">
                    </div>
                    <div class="initiativelabelwrapper"><label>d6</label></div>
                    <div class="initiativerollwrapper">
                        <button type="roll" class="initiativeroll" name="roll_astralinitiativeroll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=for Astral Initiative}}{{val1=Intuition}}{{val1_num=[[@{int_total}]]}}{{val2=Bonus}}{{val2_num=[[@{astralinitiativebonus}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{initiative=[[@{astralinitiativeattribute}+@{astralinitiativebonus}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[{@{astralinitiativedice},(@{edgn}*5)}kh1]]d6 &{tracker}]]}}"></button>
                    </div>
                </div>
                <div class="initiativerow">
                    <div class="initiativelabel"><label>Matrix</label></div>
                    <div class="initiativeattribute">
                        <input type="number" value="@{datap_total}+@{int_total}" name="attr_matrixinitiativeattribute" disabled>
                    </div>
                    <div class="initiativelabelwrapper"><label>+</label></div>
                    <div class="initiativebonus">
                        <input type="text" name="attr_matrixinitiativebonus" value="0">
                    </div>
                    <div class="initiativelabelwrapper"><label>+</label></div>
                    <div class="initiativedice">
                        <input type="text" name="attr_matrixinitiativedice" value="3">
                    </div>
                    <div class="initiativelabelwrapper"><label>d6</label></div>
                    <div class="initiativerollwrapper">
                        <button type="roll" class="initiativeroll" name="roll_matrixinitiativeroll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=for Matrix Initiative}}{{val1=Data Processing}}{{val1_num=[[@{datap_total}]]}}{{val2=Intuition}}{{val2_num=[[@{int_total}]]}}{{val3=Bonus}}{{val3_num=[[@{matrixinitiativebonus}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{initiative=[[@{matrixinitiativeattribute}+@{matrixinitiativebonus}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[{@{matrixinitiativedice},(@{edgn}*5)}kh1]]d6 &{tracker}]]}}"></button>
                    </div>
                </div>
            </div>
            <div class="weapon">
                <label class="heading2" for="fixedweaponsMain" title="Click to hide fixed weapons">Weapons</label>
                <input id="fixedweaponsMain" type="checkbox" class="invisiblecheckbox" checked>
                <div class="collapsible">
                    <div class="weaponrow">
                        <div class="weaponmeleewrapper">
                            <label class="weaponlabel">Melee</label>
                        </div>
                        <div class="weaponnamewrapper">
                            <label class="weaponlabel">Name</label>
                        </div>
                        <div class="weaponcategorywrapper">
                            <label class="weaponlabel">Category</label>
                        </div>
                        <div class="weaponaccuracywrapper">
                            <label class="weaponlabel">Acc.</label>
                        </div>
                        <div class="weapondvwrapper">
                            <label class="weaponlabel">DV</label>
                        </div>
                        <div class="weapondmgtypewrapper">
                            <label class="weaponlabel">Damage Type</label>
                        </div>
                        <div class="weaponapwrapper">
                            <label class="weaponlabel">AP</label>
                        </div>
                        <div class="weaponrcwrapper">
                            <label class="weaponlabel">RC</label>
                        </div>
                        <div class="weaponmodewrapper">
                            <label class="weaponlabel">Mode / Reach</label>
                        </div>
                        <div class="weaponskillwrapper">
                            <label class="weaponlabel">Skill</label>
                        </div>
                        <div class="weaponbonuswrapper">
                            <label class="weaponlabel">Mod</label>
                        </div>
                        <div class="weapondicewrapper">
                            <label class="weaponlabel">Dice</label>
                        </div>
                        <div class="weaponrangerollwrapper">
                            <label class="weaponlabel">Roll</label>
                        </div>
                        <div class="weaponnoteboxwrapper">
                            <label class="weaponlabel">Notes</label>
                        </div>
                    </div>
                    <input class="meleecheckbox hiddenmelee hide1" type="checkbox" name="attr_weaponismelee1" title="Melee Weapon?" checked>
                    <div class="weaponrow">
                        <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee1" title="Melee Weapon?" checked>
                        <div class="weaponmeleewrapper">
                            <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee1" title="Melee Weapon?" checked>
                            <div class="checkboxticker meleeunticked"></div>
                            <div class="checkboxticker meleeticked">X</div>
                        </div>
                        <div class="weaponnamewrapper">
                            <input type="text" name="attr_weaponname1" title="Weapon Name">
                        </div>
                        <div class="weaponcategorywrapper">
                            <select name="attr_weaponcategory1" title="Skill to use">
                                <option value="@{skilldicepool43}">Archery</option>
                                <option value="@{skilldicepool44}">Automatics</option>
                                <option value="@{skilldicepool45}">Blades</option>
                                <option value="@{skilldicepool46}">Clubs</option>
                                <option value="@{skilldicepool47}">Heavy Weapons</option>
                                <option value="@{skilldicepool48}">Longarms</option>
                                <option selected value="@{skilldicepool49}">Pistols</option>
                                <option value="@{skilldicepool50}">Thrown Weapon</option>
                                <option value="@{skilldicepool51}">Unarmed</option>
                                <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                            </select>
                            <input type="text" class="hiddentextfield" name="attr_weaponskillname1" value="Pistols">
                        </div>
                        <div class="weaponspecwrapper">
                            <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec1" value="2" title="Apply +2 from Specialization to this Weapon">
                            <div class="checkboxticker spellspecializedunticked"></div>
                            <div class="checkboxticker spellspecializedticked">X</div>
                        </div>
                        <div class="weaponbonuswrapper">
                            <input type="number" name="attr_weaponbonus1" value="0" title="Any Bonuses to Weapon Skill">
                        </div>
                        <div class="weaponaccuracywrapper">
                            <input type="number" name="attr_weaponaccuracy1" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                        </div>
                        <div class="weapondvwrapper">
                            <input type="number" name="attr_weapondv1" value="0" title="Weapon Damage with all Modifications but Ammo">
                        </div>
                        <div class="weapondmgtypewrapper">
                            <select class="weapondmgtype" name="attr_weapondmgtype1" title="Select the Damage Type done by this Weapon">
                                <option value="P">Physical</option>
                                <option value="S">Stun</option>
                                <option value="S(e)">Stun (electric)</option>
                            </select>
                        </div>
                        <div class="weaponapwrapper">
                            <input type="text" name="attr_weaponap1" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                        </div>
                        <div class="weaponrcwrapper">
                            <input type="text" name="attr_weaponrc1" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                        </div>
                        <div class="weaponmodewrapper">
                            <select name="attr_weaponmode1" title="(optional)Firing Mode(s) of the Weapon">
                                <option value="11">SS</option>
                                <option value="31">SA</option>
                                <option value="63">BF</option>
                                <option value="106">FA</option>
                            </select>
                            <input type="text" name="attr_weaponreach1" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                        </div>
                        <div class="weapondicewrapper">
                            <input type="text" name="attr_weapondice1" value="@{weaponcategory1}+@{weaponbonus1}+@{weaponspec1}" disabled title="Total Dicepool">
                        </div>
                        <div class="weaponrangerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollWeapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname1}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname1}}}{{val2_num=[[@{weaponcategory1}+@{weaponbonus1}+@{weaponspec1}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc1}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy1}]]}}{{result=[[(@{weapondice1}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy1}]]}}{{after1=AP([[@{weaponap1}]]) ~ DV}}{{after1_num=[[@{weapondv1}]]}}{{after1dmg=@{weapondmgtype1}}}"></button>
                        </div>
                        <div class="weaponmeleerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollWeapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname1}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname1}}}{{val2_num=[[@{weaponcategory1}+@{weaponbonus1}+@{weaponspec1}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{weaponreach1}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy1}]]}}{{result=[[(@{weapondice1}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy1}]]}}{{after1=AP([[@{weaponap1}]]) ~ DV}}{{after1_num=[[@{weapondv1}]]}}{{after1dmg=@{weapondmgtype1}}}"></button>
                        </div>
                        <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes1" title="Need more Space?">
                        <div class="checkboxticker weaponunticked"></div>
                        <div class="checkboxticker weaponticked">X</div>
                        <div class="weaponnoteswrapper">
                            <textarea name="attr_weaponnotes1" title="Have more Space!"></textarea>
                        </div>
                    </div>
                    <div class="ammolabels hide1">
                        <div class="ammonamewrapper">
                            <label class="ammolabel">Ammo Name</label>
                        </div>
                        <div class="ammonumberwrapper">
                            <label class="ammolabel">Rounds</label>
                        </div>
                        <div class="ammomaxwrapper">
                            <label class="ammolabel">Max</label>
                        </div>
                        <div class="ammoaccwrapper">
                            <label class="ammolabel">Acc Mod</label>
                        </div>
                        <div class="ammodvwrapper">
                            <label class="ammolabel">DV Mod</label>
                        </div>
                        <div class="ammodmgtypewrapper">
                            <label class="ammolabel">Damage Type</label>
                        </div>
                        <div class="ammoapwrapper">
                            <label class="ammolabel">AP Mod</label>
                        </div>
                        <div class="ammodescriptionwrapper">
                            <label class="ammolabel">Description</label>
                        </div>
                        <div class="ammorollwrapper">
                            <label class="ammolabel">Simple</label>
                        </div>
                        <div class="ammorollwrapper">
                            <label class="ammolabel">Complex</label>
                        </div>
                    </div>
                    <div class="ammofieldset hide1">
                        <fieldset class="repeating_ammotype1">
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype">
                                        <option value="@{weapondmgtype1}">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_roll" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname1}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname1}}}{{val2_num=[[@{weaponcategory1}+@{weaponbonus1}+@{weaponspec1}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc1}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy1}+(@{prefix-ammoacc})]]}}{{result=[[(@{weapondice1}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{weaponaccuracy1}+(@{prefix-ammoacc})]]]]}}{{after1=AP([[@{weaponap1}+(@{prefix-ammoap})]]) ~ DV}}{{after1_num=[[@{weapondv1}+(@{prefix-ammodv})]]}}{{after1dmg=@{prefix-ammodmgtype}}}{{after2=Simple: @{prefix-ammoname} Rounds}}{{after2_num=[[@{weaponmode1}-floor(@{weaponmode1}/10)*10]]}}{{after3=Complex: @{prefix-ammoname} Rounds}}{{after3_num=[[floor(@{weaponmode1}/10)]]}}{{description=@{prefix-ammodescription}}}"></button>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <input class="meleecheckbox hiddenmelee hide2" type="checkbox" name="attr_weaponismelee2" title="Melee Weapon?" checked>
                    <div class="weaponrow">
                        <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee2" title="Melee Weapon?" checked>
                        <div class="weaponmeleewrapper">
                            <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee2" title="Melee Weapon?" checked>
                            <div class="checkboxticker meleeunticked"></div>
                            <div class="checkboxticker meleeticked">X</div>
                        </div>
                        <div class="weaponnamewrapper">
                            <input type="text" name="attr_weaponname2" title="Weapon Name">
                        </div>
                        <div class="weaponcategorywrapper">
                            <select name="attr_weaponcategory2" title="Skill to use">
                                <option value="@{skilldicepool43}">Archery</option>
                                <option value="@{skilldicepool44}">Automatics</option>
                                <option value="@{skilldicepool45}">Blades</option>
                                <option value="@{skilldicepool46}">Clubs</option>
                                <option value="@{skilldicepool47}">Heavy Weapons</option>
                                <option value="@{skilldicepool48}">Longarms</option>
                                <option selected value="@{skilldicepool49}">Pistols</option>
                                <option value="@{skilldicepool50}">Thrown Weapon</option>
                                <option value="@{skilldicepool51}">Unarmed</option>
                                <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                            </select>
                            <input type="text" class="hiddentextfield" name="attr_weaponskillname2" value="Pistols">
                        </div>
                        <div class="weaponspecwrapper">
                            <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec2" value="2" title="Apply +2 from Specialization to this Weapon">
                            <div class="checkboxticker spellspecializedunticked"></div>
                            <div class="checkboxticker spellspecializedticked">X</div>
                        </div>
                        <div class="weaponbonuswrapper">
                            <input type="number" name="attr_weaponbonus2" value="0" title="Any Bonuses to Weapon Skill">
                        </div>
                        <div class="weaponaccuracywrapper">
                            <input type="number" name="attr_weaponaccuracy2" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                        </div>
                        <div class="weapondvwrapper">
                            <input type="number" name="attr_weapondv2" value="0" title="Weapon Damage with all Modifications but Ammo">
                        </div>
                        <div class="weapondmgtypewrapper">
                            <select class="weapondmgtype" name="attr_weapondmgtype2" title="Select the Damage Type done by this Weapon">
                                <option value="P">Physical</option>
                                <option value="S">Stun</option>
                                <option value="S(e)">Stun (electric)</option>
                            </select>
                        </div>
                        <div class="weaponapwrapper">
                            <input type="text" name="attr_weaponap2" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                        </div>
                        <div class="weaponrcwrapper">
                            <input type="text" name="attr_weaponrc2" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                        </div>
                        <div class="weaponmodewrapper">
                            <select name="attr_weaponmode2" title="(optional)Firing Mode(s) of the Weapon">
                                <option value="11">SS</option>
                                <option value="31">SA</option>
                                <option value="63">BF</option>
                                <option value="106">FA</option>
                            </select>
                            <input type="text" name="attr_weaponreach2" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                        </div>
                        <div class="weapondicewrapper">
                            <input type="text" name="attr_weapondice2" value="@{weaponcategory2}+@{weaponbonus2}+@{weaponspec2}" disabled title="Total Dicepool">
                        </div>
                        <div class="weaponrangerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollWeapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname2}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname2}}}{{val2_num=[[@{weaponcategory2}+@{weaponbonus2}+@{weaponspec2}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc2}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy2}]]}}{{result=[[(@{weapondice2}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy2}]]}}{{after1=AP([[@{weaponap2}]]) ~ DV}}{{after1_num=[[@{weapondv2}]]}}{{after1dmg=@{weapondmgtype2}}}"></button>
                        </div>
                        <div class="weaponmeleerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollWeapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname2}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname2}}}{{val2_num=[[@{weaponcategory2}+@{weaponbonus2}+@{weaponspec2}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{weaponreach2}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy2}]]}}{{result=[[(@{weapondice2}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy2}]]}}{{after1=AP([[@{weaponap2}]]) ~ DV}}{{after1_num=[[@{weapondv2}]]}}{{after1dmg=@{weapondmgtype2}}}"></button>
                        </div>
                        <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes2" title="Need more Space?">
                        <div class="checkboxticker weaponunticked"></div>
                        <div class="checkboxticker weaponticked">X</div>
                        <div class="weaponnoteswrapper">
                            <textarea name="attr_weaponnotes2" title="Have more Space!"></textarea>
                        </div>
                    </div>
                    <div class="ammolabels hide2">
                        <div class="ammonamewrapper">
                            <label class="ammolabel">Ammo Name</label>
                        </div>
                        <div class="ammonumberwrapper">
                            <label class="ammolabel">Rounds</label>
                        </div>
                        <div class="ammomaxwrapper">
                            <label class="ammolabel">Max</label>
                        </div>
                        <div class="ammoaccwrapper">
                            <label class="ammolabel">Acc Mod</label>
                        </div>
                        <div class="ammodvwrapper">
                            <label class="ammolabel">DV Mod</label>
                        </div>
                        <div class="ammodmgtypewrapper">
                            <label class="ammolabel">Damage Type</label>
                        </div>
                        <div class="ammoapwrapper">
                            <label class="ammolabel">AP Mod</label>
                        </div>
                        <div class="ammodescriptionwrapper">
                            <label class="ammolabel">Description</label>
                        </div>
                        <div class="ammorollwrapper">
                            <label class="ammolabel">Simple</label>
                        </div>
                        <div class="ammorollwrapper">
                            <label class="ammolabel">Complex</label>
                        </div>
                    </div>
                    <div class="ammofieldset hide2">
                        <fieldset class="repeating_ammotype2">
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype">
                                        <option value="@{weapondmgtype2}">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_roll" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname2}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname2}}}{{val2_num=[[@{weaponcategory2}+@{weaponbonus2}+@{weaponspec2}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc2}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy2}+(@{prefix-ammoacc})]]}}{{result=[[(@{weapondice2}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{weaponaccuracy2}+(@{prefix-ammoacc})]]]]}}{{after1=AP([[@{weaponap2}+(@{prefix-ammoap})]]) ~ DV}}{{after1_num=[[@{weapondv2}+(@{prefix-ammodv})]]}}{{after1dmg=@{prefix-ammodmgtype}}}{{after2=Simple: @{prefix-ammoname} Rounds}}{{after2_num=[[@{weaponmode2}-floor(@{weaponmode2}/10)*10]]}}{{after3=Complex: @{prefix-ammoname} Rounds}}{{after3_num=[[floor(@{weaponmode2}/10)]]}}{{description=@{prefix-ammodescription}}}"></button>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <input class="meleecheckbox hiddenmelee hide3" type="checkbox" name="attr_weaponismelee3" title="Melee Weapon?" checked>
                    <div class="weaponrow">
                        <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee3" title="Melee Weapon?" checked>
                        <div class="weaponmeleewrapper">
                            <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee3" title="Melee Weapon?" checked>
                            <div class="checkboxticker meleeunticked"></div>
                            <div class="checkboxticker meleeticked">X</div>
                        </div>
                        <div class="weaponnamewrapper">
                            <input type="text" name="attr_weaponname3" title="Weapon Name">
                        </div>
                        <div class="weaponcategorywrapper">
                            <select name="attr_weaponcategory3" title="Skill to use">
                                <option value="@{skilldicepool43}">Archery</option>
                                <option value="@{skilldicepool44}">Automatics</option>
                                <option value="@{skilldicepool45}">Blades</option>
                                <option value="@{skilldicepool46}">Clubs</option>
                                <option value="@{skilldicepool47}">Heavy Weapons</option>
                                <option value="@{skilldicepool48}">Longarms</option>
                                <option selected value="@{skilldicepool49}">Pistols</option>
                                <option value="@{skilldicepool50}">Thrown Weapon</option>
                                <option value="@{skilldicepool51}">Unarmed</option>
                                <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                            </select>
                            <input type="text" class="hiddentextfield" name="attr_weaponskillname3" value="Pistols">
                        </div>
                        <div class="weaponspecwrapper">
                            <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec3" value="2" title="Apply +2 from Specialization to this Weapon">
                            <div class="checkboxticker spellspecializedunticked"></div>
                            <div class="checkboxticker spellspecializedticked">X</div>
                        </div>
                        <div class="weaponbonuswrapper">
                            <input type="number" name="attr_weaponbonus3" value="0" title="Any Bonuses to Weapon Skill">
                        </div>
                        <div class="weaponaccuracywrapper">
                            <input type="number" name="attr_weaponaccuracy3" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                        </div>
                        <div class="weapondvwrapper">
                            <input type="number" name="attr_weapondv3" value="0" title="Weapon Damage with all Modifications but Ammo">
                        </div>
                        <div class="weapondmgtypewrapper">
                            <select class="weapondmgtype" name="attr_weapondmgtype3" title="Select the Damage Type done by this Weapon">
                                <option value="P">Physical</option>
                                <option value="S">Stun</option>
                                <option value="S(e)">Stun (electric)</option>
                            </select>
                        </div>
                        <div class="weaponapwrapper">
                            <input type="text" name="attr_weaponap3" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                        </div>
                        <div class="weaponrcwrapper">
                            <input type="text" name="attr_weaponrc3" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                        </div>
                        <div class="weaponmodewrapper">
                            <select name="attr_weaponmode3" title="(optional)Firing Mode(s) of the Weapon">
                                <option value="11">SS</option>
                                <option value="31">SA</option>
                                <option value="63">BF</option>
                                <option value="106">FA</option>
                            </select>
                            <input type="text" name="attr_weaponreach3" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                        </div>
                        <div class="weapondicewrapper">
                            <input type="text" name="attr_weapondice3" value="@{weaponcategory3}+@{weaponbonus3}+@{weaponspec3}" disabled title="Total Dicepool">
                        </div>
                        <div class="weaponrangerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollWeapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname3}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname3}}}{{val2_num=[[@{weaponcategory3}+@{weaponbonus3}+@{weaponspec3}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc3}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy3}]]}}{{result=[[(@{weapondice3}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy3}]]}}{{after1=AP([[@{weaponap3}]]) ~ DV}}{{after1_num=[[@{weapondv3}]]}}{{after1dmg=@{weapondmgtype3}}}"></button>
                        </div>
                        <div class="weaponmeleerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollWeapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname3}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname3}}}{{val2_num=[[@{weaponcategory3}+@{weaponbonus3}+@{weaponspec3}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{weaponreach3}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy3}]]}}{{result=[[(@{weapondice3}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy3}]]}}{{after1=AP([[@{weaponap3}]]) ~ DV}}{{after1_num=[[@{weapondv3}]]}}{{after1dmg=@{weapondmgtype3}}}"></button>
                        </div>
                        <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes3" title="Need more Space?">
                        <div class="checkboxticker weaponunticked"></div>
                        <div class="checkboxticker weaponticked">X</div>
                        <div class="weaponnoteswrapper">
                            <textarea name="attr_weaponnotes3" title="Have more Space!"></textarea>
                        </div>
                    </div>
                    <div class="ammolabels hide3">
                        <div class="ammonamewrapper">
                            <label class="ammolabel">Ammo Name</label>
                        </div>
                        <div class="ammonumberwrapper">
                            <label class="ammolabel">Rounds</label>
                        </div>
                        <div class="ammomaxwrapper">
                            <label class="ammolabel">Max</label>
                        </div>
                        <div class="ammoaccwrapper">
                            <label class="ammolabel">Acc Mod</label>
                        </div>
                        <div class="ammodvwrapper">
                            <label class="ammolabel">DV Mod</label>
                        </div>
                        <div class="ammodmgtypewrapper">
                            <label class="ammolabel">Damage Type</label>
                        </div>
                        <div class="ammoapwrapper">
                            <label class="ammolabel">AP Mod</label>
                        </div>
                        <div class="ammodescriptionwrapper">
                            <label class="ammolabel">Description</label>
                        </div>
                        <div class="ammorollwrapper">
                            <label class="ammolabel">Simple</label>
                        </div>
                        <div class="ammorollwrapper">
                            <label class="ammolabel">Complex</label>
                        </div>
                    </div>
                    <div class="ammofieldset hide3">
                        <fieldset class="repeating_ammotype3">
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype">
                                        <option value="@{weapondmgtype3}">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_roll" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname3}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname3}}}{{val2_num=[[@{weaponcategory3}+@{weaponbonus3}+@{weaponspec3}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc3}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy3}+(@{prefix-ammoacc})]]}}{{result=[[(@{weapondice3}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{weaponaccuracy3}+(@{prefix-ammoacc})]]]]}}{{after1=AP([[@{weaponap3}+(@{prefix-ammoap})]]) ~ DV}}{{after1_num=[[@{weapondv3}+(@{prefix-ammodv})]]}}{{after1dmg=@{prefix-ammodmgtype}}}{{after2=Simple: @{prefix-ammoname} Rounds}}{{after2_num=[[@{weaponmode3}-floor(@{weaponmode3}/10)*10]]}}{{after3=Complex: @{prefix-ammoname} Rounds}}{{after3_num=[[floor(@{weaponmode3}/10)]]}}{{description=@{prefix-ammodescription}}}"></button>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <input class="meleecheckbox hiddenmelee hide4" type="checkbox" name="attr_weaponismelee4" title="Melee Weapon?" checked>
                    <div class="weaponrow">
                        <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee4" title="Melee Weapon?" checked>
                        <div class="weaponmeleewrapper">
                            <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee4" title="Melee Weapon?" checked>
                            <div class="checkboxticker meleeunticked"></div>
                            <div class="checkboxticker meleeticked">X</div>
                        </div>
                        <div class="weaponnamewrapper">
                            <input type="text" name="attr_weaponname4" title="Weapon Name">
                        </div>
                        <div class="weaponcategorywrapper">
                            <select name="attr_weaponcategory4" title="Skill to use">
                                <option value="@{skilldicepool43}">Archery</option>
                                <option value="@{skilldicepool44}">Automatics</option>
                                <option value="@{skilldicepool45}">Blades</option>
                                <option value="@{skilldicepool46}">Clubs</option>
                                <option value="@{skilldicepool47}">Heavy Weapons</option>
                                <option value="@{skilldicepool48}">Longarms</option>
                                <option selected value="@{skilldicepool49}">Pistols</option>
                                <option value="@{skilldicepool50}">Thrown Weapon</option>
                                <option value="@{skilldicepool51}">Unarmed</option>
                                <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                            </select>
                            <input type="text" class="hiddentextfield" name="attr_weaponskillname4" value="Pistols">
                        </div>
                        <div class="weaponspecwrapper">
                            <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec4" value="2" title="Apply +2 from Specialization to this Weapon">
                            <div class="checkboxticker spellspecializedunticked"></div>
                            <div class="checkboxticker spellspecializedticked">X</div>
                        </div>
                        <div class="weaponbonuswrapper">
                            <input type="number" name="attr_weaponbonus4" value="0" title="Any Bonuses to Weapon Skill">
                        </div>
                        <div class="weaponaccuracywrapper">
                            <input type="number" name="attr_weaponaccuracy4" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                        </div>
                        <div class="weapondvwrapper">
                            <input type="number" name="attr_weapondv4" value="0" title="Weapon Damage with all Modifications but Ammo">
                        </div>
                        <div class="weapondmgtypewrapper">
                            <select class="weapondmgtype" name="attr_weapondmgtype4" title="Select the Damage Type done by this Weapon">
                                <option value="P">Physical</option>
                                <option value="S">Stun</option>
                                <option value="S(e)">Stun (electric)</option>
                            </select>
                        </div>
                        <div class="weaponapwrapper">
                            <input type="text" name="attr_weaponap4" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                        </div>
                        <div class="weaponrcwrapper">
                            <input type="text" name="attr_weaponrc4" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                        </div>
                        <div class="weaponmodewrapper">
                            <select name="attr_weaponmode4" title="(optional)Firing Mode(s) of the Weapon">
                                <option value="11">SS</option>
                                <option value="31">SA</option>
                                <option value="63">BF</option>
                                <option value="106">FA</option>
                            </select>
                            <input type="text" name="attr_weaponreach4" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                        </div>
                        <div class="weapondicewrapper">
                            <input type="text" name="attr_weapondice4" value="@{weaponcategory4}+@{weaponbonus4}+@{weaponspec4}" disabled title="Total Dicepool">
                        </div>
                        <div class="weaponrangerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollWeapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname4}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname4}}}{{val2_num=[[@{weaponcategory4}+@{weaponbonus4}+@{weaponspec4}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc4}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy4}]]}}{{result=[[(@{weapondice4}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy4}]]}}{{after1=AP([[@{weaponap4}]]) ~ DV}}{{after1_num=[[@{weapondv4}]]}}{{after1dmg=@{weapondmgtype4}}}"></button>
                        </div>
                        <div class="weaponmeleerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollWeapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname4}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname4}}}{{val2_num=[[@{weaponcategory4}+@{weaponbonus4}+@{weaponspec4}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{weaponreach4}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy4}]]}}{{result=[[(@{weapondice4}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy4}]]}}{{after1=AP([[@{weaponap4}]]) ~ DV}}{{after1_num=[[@{weapondv4}]]}}{{after1dmg=@{weapondmgtype4}}}"></button>
                        </div>
                        <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes4" title="Need more Space?">
                        <div class="checkboxticker weaponunticked"></div>
                        <div class="checkboxticker weaponticked">X</div>
                        <div class="weaponnoteswrapper">
                            <textarea name="attr_weaponnotes4" title="Have more Space!"></textarea>
                        </div>
                    </div>
                    <div class="ammolabels hide4">
                        <div class="ammonamewrapper">
                            <label class="ammolabel">Ammo Name</label>
                        </div>
                        <div class="ammonumberwrapper">
                            <label class="ammolabel">Rounds</label>
                        </div>
                        <div class="ammomaxwrapper">
                            <label class="ammolabel">Max</label>
                        </div>
                        <div class="ammoaccwrapper">
                            <label class="ammolabel">Acc Mod</label>
                        </div>
                        <div class="ammodvwrapper">
                            <label class="ammolabel">DV Mod</label>
                        </div>
                        <div class="ammodmgtypewrapper">
                            <label class="ammolabel">Damage Type</label>
                        </div>
                        <div class="ammoapwrapper">
                            <label class="ammolabel">AP Mod</label>
                        </div>
                        <div class="ammodescriptionwrapper">
                            <label class="ammolabel">Description</label>
                        </div>
                        <div class="ammorollwrapper">
                            <label class="ammolabel">Simple</label>
                        </div>
                        <div class="ammorollwrapper">
                            <label class="ammolabel">Complex</label>
                        </div>
                    </div>
                    <div class="ammofieldset hide4">
                        <fieldset class="repeating_ammotype4">
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype">
                                        <option value="@{weapondmgtype4}">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_roll" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname4}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname4}}}{{val2_num=[[@{weaponcategory4}+@{weaponbonus4}+@{weaponspec4}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc4}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy4}+(@{prefix-ammoacc})]]}}{{result=[[(@{weapondice4}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{weaponaccuracy4}+(@{prefix-ammoacc})]]]]}}{{after1=AP([[@{weaponap4}+(@{prefix-ammoap})]]) ~ DV}}{{after1_num=[[@{weapondv4}+(@{prefix-ammodv})]]}}{{after1dmg=@{prefix-ammodmgtype}}}{{after2=Simple: @{prefix-ammoname} Rounds}}{{after2_num=[[@{weaponmode4}-floor(@{weaponmode4}/10)*10]]}}{{after3=Complex: @{prefix-ammoname} Rounds}}{{after3_num=[[floor(@{weaponmode4}/10)]]}}{{description=@{prefix-ammodescription}}}"></button>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <input class="meleecheckbox hiddenmelee hide5" type="checkbox" name="attr_weaponismelee5" title="Melee Weapon?" checked>
                    <div class="weaponrow">
                        <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee5" title="Melee Weapon?" checked>
                        <div class="weaponmeleewrapper">
                            <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee5" title="Melee Weapon?" checked>
                            <div class="checkboxticker meleeunticked"></div>
                            <div class="checkboxticker meleeticked">X</div>
                        </div>
                        <div class="weaponnamewrapper">
                            <input type="text" name="attr_weaponname5" title="Weapon Name">
                        </div>
                        <div class="weaponcategorywrapper">
                            <select name="attr_weaponcategory5" title="Skill to use">
                                <option value="@{skilldicepool43}">Archery</option>
                                <option value="@{skilldicepool44}">Automatics</option>
                                <option value="@{skilldicepool45}">Blades</option>
                                <option value="@{skilldicepool46}">Clubs</option>
                                <option value="@{skilldicepool47}">Heavy Weapons</option>
                                <option value="@{skilldicepool48}">Longarms</option>
                                <option selected value="@{skilldicepool49}">Pistols</option>
                                <option value="@{skilldicepool50}">Thrown Weapon</option>
                                <option value="@{skilldicepool51}">Unarmed</option>
                                <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                            </select>
                            <input type="text" class="hiddentextfield" name="attr_weaponskillname5" value="Pistols">
                        </div>
                        <div class="weaponspecwrapper">
                            <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec5" value="2" title="Apply +2 from Specialization to this Weapon">
                            <div class="checkboxticker spellspecializedunticked"></div>
                            <div class="checkboxticker spellspecializedticked">X</div>
                        </div>
                        <div class="weaponbonuswrapper">
                            <input type="number" name="attr_weaponbonus5" value="0" title="Any Bonuses to Weapon Skill">
                        </div>
                        <div class="weaponaccuracywrapper">
                            <input type="number" name="attr_weaponaccuracy5" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                        </div>
                        <div class="weapondvwrapper">
                            <input type="number" name="attr_weapondv5" value="0" title="Weapon Damage with all Modifications but Ammo">
                        </div>
                        <div class="weapondmgtypewrapper">
                            <select class="weapondmgtype" name="attr_weapondmgtype5" title="Select the Damage Type done by this Weapon">
                                <option value="P">Physical</option>
                                <option value="S">Stun</option>
                                <option value="S(e)">Stun (electric)</option>
                            </select>
                        </div>
                        <div class="weaponapwrapper">
                            <input type="text" name="attr_weaponap5" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                        </div>
                        <div class="weaponrcwrapper">
                            <input type="text" name="attr_weaponrc5" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                        </div>
                        <div class="weaponmodewrapper">
                            <select name="attr_weaponmode5" title="(optional)Firing Mode(s) of the Weapon">
                                <option value="11">SS</option>
                                <option value="31">SA</option>
                                <option value="63">BF</option>
                                <option value="106">FA</option>
                            </select>
                            <input type="text" name="attr_weaponreach5" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                        </div>
                        <div class="weapondicewrapper">
                            <input type="text" name="attr_weapondice5" value="@{weaponcategory5}+@{weaponbonus5}+@{weaponspec5}" disabled title="Total Dicepool">
                        </div>
                        <div class="weaponrangerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollWeapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname5}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname5}}}{{val2_num=[[@{weaponcategory5}+@{weaponbonus5}+@{weaponspec5}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc5}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy5}]]}}{{result=[[(@{weapondice5}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy5}]]}}{{after1=AP([[@{weaponap5}]]) ~ DV}}{{after1_num=[[@{weapondv5}]]}}{{after1dmg=@{weapondmgtype5}}}"></button>
                        </div>
                        <div class="weaponmeleerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollWeapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname5}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname5}}}{{val2_num=[[@{weaponcategory5}+@{weaponbonus5}+@{weaponspec5}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{weaponreach5}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy5}]]}}{{result=[[(@{weapondice5}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy5}]]}}{{after1=AP([[@{weaponap5}]]) ~ DV}}{{after1_num=[[@{weapondv5}]]}}{{after1dmg=@{weapondmgtype5}}}"></button>
                        </div>
                        <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes5" title="Need more Space?">
                        <div class="checkboxticker weaponunticked"></div>
                        <div class="checkboxticker weaponticked">X</div>
                        <div class="weaponnoteswrapper">
                            <textarea name="attr_weaponnotes5" title="Have more Space!"></textarea>
                        </div>
                    </div>
                    <div class="ammolabels hide5">
                        <div class="ammonamewrapper">
                            <label class="ammolabel">Ammo Name</label>
                        </div>
                        <div class="ammonumberwrapper">
                            <label class="ammolabel">Rounds</label>
                        </div>
                        <div class="ammomaxwrapper">
                            <label class="ammolabel">Max</label>
                        </div>
                        <div class="ammoaccwrapper">
                            <label class="ammolabel">Acc Mod</label>
                        </div>
                        <div class="ammodvwrapper">
                            <label class="ammolabel">DV Mod</label>
                        </div>
                        <div class="ammodmgtypewrapper">
                            <label class="ammolabel">Damage Type</label>
                        </div>
                        <div class="ammoapwrapper">
                            <label class="ammolabel">AP Mod</label>
                        </div>
                        <div class="ammodescriptionwrapper">
                            <label class="ammolabel">Description</label>
                        </div>
                        <div class="ammorollwrapper">
                            <label class="ammolabel">Simple</label>
                        </div>
                        <div class="ammorollwrapper">
                            <label class="ammolabel">Complex</label>
                        </div>
                    </div>
                    <div class="ammofieldset hide5">
                        <fieldset class="repeating_ammotype5">
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype">
                                        <option value="@{weapondmgtype5}">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_roll" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname5}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname5}}}{{val2_num=[[@{weaponcategory5}+@{weaponbonus5}+@{weaponspec5}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc5}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy5}+(@{prefix-ammoacc})]]}}{{result=[[(@{weapondice5}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{weaponaccuracy5}+(@{prefix-ammoacc})]]]]}}{{after1=AP([[@{weaponap5}+(@{prefix-ammoap})]]) ~ DV}}{{after1_num=[[@{weapondv5}+(@{prefix-ammodv})]]}}{{after1dmg=@{prefix-ammodmgtype}}}{{after2=Simpel: @{prefix-ammoname} Rounds}}{{after2_num=[[@{weaponmode5}-floor(@{weaponmode5}/10)*10]]}}{{after3=Complex: @{prefix-ammoname} Rounds}}{{after3_num=[[floor(@{weaponmode5}/10)]]}}{{description=@{prefix-ammodescription}}}"></button>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <input class="meleecheckbox hiddenmelee hide6" type="checkbox" name="attr_weaponismelee6" title="Melee Weapon?" checked>
                    <div class="weaponrow">
                        <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee6" title="Melee Weapon?" checked>
                        <div class="weaponmeleewrapper">
                            <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee6" title="Melee Weapon?" checked>
                            <div class="checkboxticker meleeunticked"></div>
                            <div class="checkboxticker meleeticked">X</div>
                        </div>
                        <div class="weaponnamewrapper">
                            <input type="text" name="attr_weaponname6" title="Weapon Name">
                        </div>
                        <div class="weaponcategorywrapper">
                            <select name="attr_weaponcategory6" title="Skill to use">
                                <option value="@{skilldicepool43}">Archery</option>
                                <option value="@{skilldicepool44}">Automatics</option>
                                <option value="@{skilldicepool45}">Blades</option>
                                <option value="@{skilldicepool46}">Clubs</option>
                                <option value="@{skilldicepool47}">Heavy Weapons</option>
                                <option value="@{skilldicepool48}">Longarms</option>
                                <option selected value="@{skilldicepool49}">Pistols</option>
                                <option value="@{skilldicepool50}">Thrown Weapon</option>
                                <option value="@{skilldicepool51}">Unarmed</option>
                                <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                            </select>
                            <input type="text" class="hiddentextfield" name="attr_weaponskillname6" value="Pistols">
                        </div>
                        <div class="weaponspecwrapper">
                            <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec6" value="2" title="Apply +2 from Specialization to this Weapon">
                            <div class="checkboxticker spellspecializedunticked"></div>
                            <div class="checkboxticker spellspecializedticked">X</div>
                        </div>
                        <div class="weaponbonuswrapper">
                            <input type="number" name="attr_weaponbonus6" value="0" title="Any Bonuses to Weapon Skill">
                        </div>
                        <div class="weaponaccuracywrapper">
                            <input type="number" name="attr_weaponaccuracy6" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                        </div>
                        <div class="weapondvwrapper">
                            <input type="number" name="attr_weapondv6" value="0" title="Weapon Damage with all Modifications but Ammo">
                        </div>
                        <div class="weapondmgtypewrapper">
                            <select class="weapondmgtype" name="attr_weapondmgtype6" title="Select the Damage Type done by this Weapon">
                                <option value="P">Physical</option>
                                <option value="S">Stun</option>
                                <option value="S(e)">Stun (electric)</option>
                            </select>
                        </div>
                        <div class="weaponapwrapper">
                            <input type="text" name="attr_weaponap6" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                        </div>
                        <div class="weaponrcwrapper">
                            <input type="text" name="attr_weaponrc6" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                        </div>
                        <div class="weaponmodewrapper">
                            <select name="attr_weaponmode6" title="(optional)Firing Mode(s) of the Weapon">
                                <option value="11">SS</option>
                                <option value="31">SA</option>
                                <option value="63">BF</option>
                                <option value="106">FA</option>
                            </select>
                            <input type="text" name="attr_weaponreach6" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                        </div>
                        <div class="weapondicewrapper">
                            <input type="text" name="attr_weapondice6" value="@{weaponcategory6}+@{weaponbonus6}+@{weaponspec6}" disabled title="Total Dicepool">
                        </div>
                        <div class="weaponrangerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollWeapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname6}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname6}}}{{val2_num=[[@{weaponcategory6}+@{weaponbonus6}+@{weaponspec6}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc6}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy6}]]}}{{result=[[(@{weapondice6}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy6}]]}}{{after1=AP([[@{weaponap6}]]) ~ DV}}{{after1_num=[[@{weapondv6}]]}}{{after1dmg=@{weapondmgtype6}}}"></button>
                        </div>
                        <div class="weaponmeleerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollWeapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname6}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname6}}}{{val2_num=[[@{weaponcategory6}+@{weaponbonus6}+@{weaponspec6}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{weaponreach6}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy6}]]}}{{result=[[(@{weapondice6}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy6}]]}}{{after1=AP([[@{weaponap6}]]) ~ DV}}{{after1_num=[[@{weapondv6}]]}}{{after1dmg=@{weapondmgtype6}}}"></button>
                        </div>
                        <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes6" title="Need more Space?">
                        <div class="checkboxticker weaponunticked"></div>
                        <div class="checkboxticker weaponticked">X</div>
                        <div class="weaponnoteswrapper">
                            <textarea name="attr_weaponnotes6" title="Have more Space!"></textarea>
                        </div>
                    </div>
                    <div class="ammolabels hide6">
                        <div class="ammonamewrapper">
                            <label class="ammolabel">Ammo Name</label>
                        </div>
                        <div class="ammonumberwrapper">
                            <label class="ammolabel">Rounds</label>
                        </div>
                        <div class="ammomaxwrapper">
                            <label class="ammolabel">Max</label>
                        </div>
                        <div class="ammoaccwrapper">
                            <label class="ammolabel">Acc Mod</label>
                        </div>
                        <div class="ammodvwrapper">
                            <label class="ammolabel">DV Mod</label>
                        </div>
                        <div class="ammodmgtypewrapper">
                            <label class="ammolabel">Damage Type</label>
                        </div>
                        <div class="ammoapwrapper">
                            <label class="ammolabel">AP Mod</label>
                        </div>
                        <div class="ammodescriptionwrapper">
                            <label class="ammolabel">Description</label>
                        </div>
                        <div class="ammorollwrapper">
                            <label class="ammolabel">Simple</label>
                        </div>
                        <div class="ammorollwrapper">
                            <label class="ammolabel">Complex</label>
                        </div>
                    </div>
                    <div class="ammofieldset hide6">
                        <fieldset class="repeating_ammotype6">
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype">
                                        <option value="@{weapondmgtype6}">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_roll" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname6}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname6}}}{{val2_num=[[@{weaponcategory6}+@{weaponbonus6}+@{weaponspec6}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc6}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy6}+(@{prefix-ammoacc})]]}}{{result=[[(@{weapondice6}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{weaponaccuracy6}+(@{prefix-ammoacc})]]]]}}{{after1=AP([[@{weaponap6}+(@{prefix-ammoap})]]) ~ DV}}{{after1_num=[[@{weapondv6}+(@{prefix-ammodv})]]}}{{after1dmg=@{prefix-ammodmgtype}}}{{after2=Simple: @{prefix-ammoname} Rounds}}{{after2_num=[[@{weaponmode6}-floor(@{weaponmode6}/10)*10]]}}{{after3=Complex: @{prefix-ammoname} Rounds}}{{after3_num=[[floor(@{weaponmode6}/10)]]}}{{description=@{prefix-ammodescription}}}"></button>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <input class="meleecheckbox hiddenmelee hide7" type="checkbox" name="attr_weaponismelee7" title="Melee Weapon?" checked>
                    <div class="weaponrow">
                        <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee7" title="Melee Weapon?" checked>
                        <div class="weaponmeleewrapper">
                            <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee7" title="Melee Weapon?" checked>
                            <div class="checkboxticker meleeunticked"></div>
                            <div class="checkboxticker meleeticked">X</div>
                        </div>
                        <div class="weaponnamewrapper">
                            <input type="text" name="attr_weaponname7" title="Weapon Name">
                        </div>
                        <div class="weaponcategorywrapper">
                            <select name="attr_weaponcategory7" title="Skill to use">
                                <option value="@{skilldicepool43}">Archery</option>
                                <option value="@{skilldicepool44}">Automatics</option>
                                <option value="@{skilldicepool45}">Blades</option>
                                <option value="@{skilldicepool46}">Clubs</option>
                                <option value="@{skilldicepool47}">Heavy Weapons</option>
                                <option value="@{skilldicepool48}">Longarms</option>
                                <option selected value="@{skilldicepool49}">Pistols</option>
                                <option value="@{skilldicepool50}">Thrown Weapon</option>
                                <option value="@{skilldicepool51}">Unarmed</option>
                                <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                            </select>
                            <input type="text" class="hiddentextfield" name="attr_weaponskillname7" value="Pistols">
                        </div>
                        <div class="weaponspecwrapper">
                            <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec7" value="2" title="Apply +2 from Specialization to this Weapon">
                            <div class="checkboxticker spellspecializedunticked"></div>
                            <div class="checkboxticker spellspecializedticked">X</div>
                        </div>
                        <div class="weaponbonuswrapper">
                            <input type="number" name="attr_weaponbonus7" value="0" title="Any Bonuses to Weapon Skill">
                        </div>
                        <div class="weaponaccuracywrapper">
                            <input type="number" name="attr_weaponaccuracy7" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                        </div>
                        <div class="weapondvwrapper">
                            <input type="number" name="attr_weapondv7" value="0" title="Weapon Damage with all Modifications but Ammo">
                        </div>
                        <div class="weapondmgtypewrapper">
                            <select class="weapondmgtype" name="attr_weapondmgtype7" title="Select the Damage Type done by this Weapon">
                                <option value="P">Physical</option>
                                <option value="S">Stun</option>
                                <option value="S(e)">Stun (electric)</option>
                            </select>
                        </div>
                        <div class="weaponapwrapper">
                            <input type="text" name="attr_weaponap7" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                        </div>
                        <div class="weaponrcwrapper">
                            <input type="text" name="attr_weaponrc7" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                        </div>
                        <div class="weaponmodewrapper">
                            <select name="attr_weaponmode7" title="(optional)Firing Mode(s) of the Weapon">
                                <option value="11">SS</option>
                                <option value="31">SA</option>
                                <option value="63">BF</option>
                                <option value="106">FA</option>
                            </select>
                            <input type="text" name="attr_weaponreach7" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                        </div>
                        <div class="weapondicewrapper">
                            <input type="text" name="attr_weapondice7" value="@{weaponcategory7}+@{weaponbonus7}+@{weaponspec7}" disabled title="Total Dicepool">
                        </div>
                        <div class="weaponrangerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollWeapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname7}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname7}}}{{val2_num=[[@{weaponcategory7}+@{weaponbonus7}+@{weaponspec7}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc7}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy7}]]}}{{result=[[(@{weapondice7}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy7}]]}}{{after1=AP([[@{weaponap7}]]) ~ DV}}{{after1_num=[[@{weapondv7}]]}}{{after1dmg=@{weapondmgtype7}}}"></button>
                        </div>
                        <div class="weaponmeleerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollWeapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname7}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname7}}}{{val2_num=[[@{weaponcategory7}+@{weaponbonus7}+@{weaponspec7}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{weaponreach7}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy7}]]}}{{result=[[(@{weapondice7}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy7}]]}}{{after1=AP([[@{weaponap7}]]) ~ DV}}{{after1_num=[[@{weapondv7}]]}}{{after1dmg=@{weapondmgtype7}}}"></button>
                        </div>
                        <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes7" title="Need more Space?">
                        <div class="checkboxticker weaponunticked"></div>
                        <div class="checkboxticker weaponticked">X</div>
                        <div class="weaponnoteswrapper">
                            <textarea name="attr_weaponnotes7" title="Have more Space!"></textarea>
                        </div>
                    </div>
                    <div class="ammolabels hide7">
                        <div class="ammonamewrapper">
                            <label class="ammolabel">Ammo Name</label>
                        </div>
                        <div class="ammonumberwrapper">
                            <label class="ammolabel">Rounds</label>
                        </div>
                        <div class="ammomaxwrapper">
                            <label class="ammolabel">Max</label>
                        </div>
                        <div class="ammoaccwrapper">
                            <label class="ammolabel">Acc Mod</label>
                        </div>
                        <div class="ammodvwrapper">
                            <label class="ammolabel">DV Mod</label>
                        </div>
                        <div class="ammodmgtypewrapper">
                            <label class="ammolabel">Damage Type</label>
                        </div>
                        <div class="ammoapwrapper">
                            <label class="ammolabel">AP Mod</label>
                        </div>
                        <div class="ammodescriptionwrapper">
                            <label class="ammolabel">Description</label>
                        </div>
                        <div class="ammorollwrapper">
                            <label class="ammolabel">Simple</label>
                        </div>
                        <div class="ammorollwrapper">
                            <label class="ammolabel">Complex</label>
                        </div>
                    </div>
                    <div class="ammofieldset hide7">
                        <fieldset class="repeating_ammotype7">
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype">
                                        <option value="@{weapondmgtype7}">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_roll" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname7}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname7}}}{{val2_num=[[@{weaponcategory7}+@{weaponbonus7}+@{weaponspec7}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc7}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy7}+(@{prefix-ammoacc})]]}}{{result=[[(@{weapondice7}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{weaponaccuracy7}+(@{prefix-ammoacc})]]]]}}{{after1=AP([[@{weaponap7}+(@{prefix-ammoap})]]) ~ DV}}{{after1_num=[[@{weapondv7}+(@{prefix-ammodv})]]}}{{after1dmg=@{prefix-ammodmgtype}}}{{after2=Simple: @{prefix-ammoname} Rounds}}{{after2_num=[[@{weaponmode7}-floor(@{weaponmode7}/10)*10]]}}{{after3=Complex: @{prefix-ammoname} Rounds}}{{after3_num=[[floor(@{weaponmode7}/10)]]}}{{description=@{prefix-ammodescription}}}"></button>
                                </div>
                            </div>
                        </fieldset>
                    </div>

                    <input class="meleecheckbox hiddenmelee hide8" type="checkbox" name="attr_weaponismelee8" title="Melee Weapon?" checked>
                    <div class="weaponrow">
                        <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee8" title="Melee Weapon?" checked>
                        <div class="weaponmeleewrapper">
                            <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee8" title="Melee Weapon?" checked>
                            <div class="checkboxticker meleeunticked"></div>
                            <div class="checkboxticker meleeticked">X</div>
                        </div>
                        <div class="weaponnamewrapper">
                            <input type="text" name="attr_weaponname8" title="Weapon Name">
                        </div>
                        <div class="weaponcategorywrapper">
                            <select name="attr_weaponcategory8" title="Skill to use">
                                <option value="@{skilldicepool43}">Archery</option>
                                <option value="@{skilldicepool44}">Automatics</option>
                                <option value="@{skilldicepool45}">Blades</option>
                                <option value="@{skilldicepool46}">Clubs</option>
                                <option value="@{skilldicepool47}">Heavy Weapons</option>
                                <option value="@{skilldicepool48}">Longarms</option>
                                <option selected value="@{skilldicepool49}">Pistols</option>
                                <option value="@{skilldicepool50}">Thrown Weapon</option>
                                <option value="@{skilldicepool51}">Unarmed</option>
                                <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                            </select>
                            <input type="text" class="hiddentextfield" name="attr_weaponskillname8" value="Pistols">
                        </div>
                        <div class="weaponspecwrapper">
                            <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec8" value="2" title="Apply +2 from Specialization to this Weapon">
                            <div class="checkboxticker spellspecializedunticked"></div>
                            <div class="checkboxticker spellspecializedticked">X</div>
                        </div>
                        <div class="weaponbonuswrapper">
                            <input type="number" name="attr_weaponbonus8" value="0" title="Any Bonuses to Weapon Skill">
                        </div>
                        <div class="weaponaccuracywrapper">
                            <input type="number" name="attr_weaponaccuracy8" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                        </div>
                        <div class="weapondvwrapper">
                            <input type="number" name="attr_weapondv8" value="0" title="Weapon Damage with all Modifications but Ammo">
                        </div>
                        <div class="weapondmgtypewrapper">
                            <select class="weapondmgtype" name="attr_weapondmgtype8" title="Select the Damage Type done by this Weapon">
                                <option value="P">Physical</option>
                                <option value="S">Stun</option>
                                <option value="S(e)">Stun (electric)</option>
                            </select>
                        </div>
                        <div class="weaponapwrapper">
                            <input type="text" name="attr_weaponap8" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                        </div>
                        <div class="weaponrcwrapper">
                            <input type="text" name="attr_weaponrc8" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                        </div>
                        <div class="weaponmodewrapper">
                            <select name="attr_weaponmode8" title="(optional)Firing Mode(s) of the Weapon">
                                <option value="11">SS</option>
                                <option value="31">SA</option>
                                <option value="63">BF</option>
                                <option value="106">FA</option>
                            </select>
                            <input type="text" name="attr_weaponreach8" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                        </div>
                        <div class="weapondicewrapper">
                            <input type="text" name="attr_weapondice8" value="@{weaponcategory8}+@{weaponbonus8}+@{weaponspec8}" disabled title="Total Dicepool">
                        </div>
                        <div class="weaponrangerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollWeapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname8}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname8}}}{{val2_num=[[@{weaponcategory8}+@{weaponbonus8}+@{weaponspec8}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc8}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy8}]]}}{{result=[[(@{weapondice8}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy8}]]}}{{after1=AP([[@{weaponap8}]]) ~ DV}}{{after1_num=[[@{weapondv8}]]}}{{after1dmg=@{weapondmgtype8}}}"></button>
                        </div>
                        <div class="weaponmeleerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollWeapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname8}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname8}}}{{val2_num=[[@{weaponcategory8}+@{weaponbonus8}+@{weaponspec8}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{weaponreach8}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy8}]]}}{{result=[[(@{weapondice8}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy8}]]}}{{after1=AP([[@{weaponap8}]]) ~ DV}}{{after1_num=[[@{weapondv8}]]}}{{after1dmg=@{weapondmgtype8}}}"></button>
                        </div>
                        <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes8" title="Need more Space?">
                        <div class="checkboxticker weaponunticked"></div>
                        <div class="checkboxticker weaponticked">X</div>
                        <div class="weaponnoteswrapper">
                            <textarea name="attr_weaponnotes8" title="Have more Space!"></textarea>
                        </div>
                    </div>
                    <div class="ammolabels hide8">
                        <div class="ammonamewrapper">
                            <label class="ammolabel">Ammo Name</label>
                        </div>
                        <div class="ammonumberwrapper">
                            <label class="ammolabel">Rounds</label>
                        </div>
                        <div class="ammomaxwrapper">
                            <label class="ammolabel">Max</label>
                        </div>
                        <div class="ammoaccwrapper">
                            <label class="ammolabel">Acc Mod</label>
                        </div>
                        <div class="ammodvwrapper">
                            <label class="ammolabel">DV Mod</label>
                        </div>
                        <div class="ammodmgtypewrapper">
                            <label class="ammolabel">Damage Type</label>
                        </div>
                        <div class="ammoapwrapper">
                            <label class="ammolabel">AP Mod</label>
                        </div>
                        <div class="ammodescriptionwrapper">
                            <label class="ammolabel">Description</label>
                        </div>
                        <div class="ammorollwrapper">
                            <label class="ammolabel">Simple</label>
                        </div>
                        <div class="ammorollwrapper">
                            <label class="ammolabel">Complex</label>
                        </div>
                    </div>
                    <div class="ammofieldset hide8">
                        <fieldset class="repeating_ammotype8">
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype">
                                        <option value="@{weapondmgtype8}">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_roll" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname8}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname8}}}{{val2_num=[[@{weaponcategory8}+@{weaponbonus8}+@{weaponspec8}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc8}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy8}+(@{prefix-ammoacc})]]}}{{result=[[(@{weapondice8}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{weaponaccuracy8}+(@{prefix-ammoacc})]]]]}}{{after1=AP([[@{weaponap8}+(@{prefix-ammoap})]]) ~ DV}}{{after1_num=[[@{weapondv8}+(@{prefix-ammodv})]]}}{{after1dmg=@{prefix-ammodmgtype}}}{{after2=Simple: @{prefix-ammoname} Rounds}}{{after2_num=[[@{weaponmode8}-floor(@{weaponmode8}/10)*10]]}}{{after3=Complex: @{prefix-ammoname} Rounds}}{{after3_num=[[floor(@{weaponmode8}/10)]]}}{{description=@{prefix-ammodescription}}}"></button>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div>
            <div class="weapon">
                <label class="heading4" for="pistolsMain" title="Click to hide pistols">Pistols</label>
                <input id="pistolsMain" type="checkbox" class="invisiblecheckbox" checked>
                <div class="collapsible">
					<div class="weaponrow">
                        <div class="weaponmeleewrapper">
                            <label class="weaponlabel">Melee</label>
                        </div>
                        <div class="weaponnamewrapper">
                            <label class="weaponlabel">Name</label>
                        </div>
                        <div class="weaponcategorywrapper">
                            <label class="weaponlabel">Category</label>
                        </div>
                        <div class="weaponaccuracywrapper">
                            <label class="weaponlabel">Acc.</label>
                        </div>
                        <div class="weapondvwrapper">
                            <label class="weaponlabel">DV</label>
                        </div>
                        <div class="weapondmgtypewrapper">
                            <label class="weaponlabel">Damage Type</label>
                        </div>
                        <div class="weaponapwrapper">
                            <label class="weaponlabel">AP</label>
                        </div>
                        <div class="weaponrcwrapper">
                            <label class="weaponlabel">RC</label>
                        </div>
                        <div class="weaponmodewrapper">
                            <label class="weaponlabel">Mode / Reach</label>
                        </div>
                        <div class="weaponskillwrapper">
                            <label class="weaponlabel">Skill</label>
                        </div>
                        <div class="weaponbonuswrapper">
                            <label class="weaponlabel">Mod</label>
                        </div>
                        <div class="weapondicewrapper">
                            <label class="weaponlabel">Dice</label>
                        </div>
                        <div class="weaponrangerollwrapper">
                            <label class="weaponlabel">Roll</label>
                        </div>
                        <div class="weaponnoteboxwrapper">
                            <label class="weaponlabel">Notes</label>
                        </div>
                    </div>
                    <fieldset class="repeating_pistols">
                        <input class="meleecheckbox hiddenmelee hide-rep" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                        <div class="weaponrow">
                            <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                            <div class="weaponmeleewrapper">
                                <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                                <div class="checkboxticker meleeunticked"></div>
                                <div class="checkboxticker meleeticked">X</div>
                            </div>
                            <div class="weaponnamewrapper">
                                <input type="text" name="attr_weaponname" title="Weapon Name">
                            </div>
                            <div class="weaponcategorywrapper">
                                <select name="attr_weaponcategory" title="Skill to use">
                                    <option value="@{skilldicepool43}">Archery</option>
                                    <option value="@{skilldicepool44}">Automatics</option>
                                    <option value="@{skilldicepool45}">Blades</option>
                                    <option value="@{skilldicepool46}">Clubs</option>
                                    <option value="@{skilldicepool47}">Heavy Weapons</option>
                                    <option value="@{skilldicepool48}">Longarms</option>
                                    <option selected value="@{skilldicepool49}">Pistols</option>
                                    <option value="@{skilldicepool50}">Thrown Weapon</option>
                                    <option value="@{skilldicepool51}">Unarmed</option>
                                    <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                    <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                    <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                    <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                                </select>
                                <input type="text" class="hiddentextfield" name="attr_weaponskillname" value="Pistols">
                            </div>
                            <div class="weaponspecwrapper">
                                <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec" value="2" title="Apply +2 from Specialization to this Weapon">
                                <div class="checkboxticker spellspecializedunticked"></div>
                                <div class="checkboxticker spellspecializedticked">X</div>
                            </div>
                            <div class="weaponbonuswrapper">
                                <input type="number" name="attr_weaponbonus" value="0" title="Any Bonuses to Weapon Skill">
                            </div>
                            <div class="weaponaccuracywrapper">
                                <input type="number" name="attr_weaponaccuracy" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                            </div>
                            <div class="weapondvwrapper">
                                <input type="number" name="attr_weapondv" value="0" title="Weapon Damage with all Modifications but Ammo">
                            </div>
                            <div class="weapondmgtypewrapper">
                                <select class="weapondmgtype" name="attr_weapondmgtype" title="Select the Damage Type done by this Weapon">
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                </select>
                            </div>
                            <div class="weaponapwrapper">
                                <input type="text" name="attr_weaponap" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                            </div>
                            <div class="weaponrcwrapper">
                                <input type="text" name="attr_weaponrc" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                            </div>
                            <div class="weaponmodewrapper">
                                <select name="attr_weaponmode" title="(optional)Firing Mode(s) of the Weapon">
                                    <option value="11">SS</option>
                                    <option value="31">SA</option>
                                    <option value="63">BF</option>
                                    <option value="106">FA</option>
                                </select>
                                <input type="text" name="attr_weaponreach" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                            </div>
                            <div class="weapondicewrapper">
                                <input type="text" name="attr_weapondice" value="@{weaponcategory}+@{weaponbonus}+@{weaponspec}" disabled title="Total Dicepool">
                            </div>
                            <div class="weaponrangerollwrapper">
                                <button type="action" class="weaponroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                            </div>
                            <div class="weaponmeleerollwrapper">
                                <button type="action" class="weaponroll" name="act_rollweapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{prefix-weaponreach}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                            </div>
                            <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes" title="Need more Space?">
                            <div class="checkboxticker weaponunticked"></div>
                            <div class="checkboxticker weaponticked">X</div>
                            <div class="weaponnoteswrapper">
                                <textarea name="attr_weaponnotes" title="Have more Space!"></textarea>
                            </div>
                        </div>
                        <div class="ammolabels hide-rep">
                            <div class="ammonamewrapper">
                                <label class="ammolabel">Ammo Name</label>
                            </div>
                            <div class="ammonumberwrapper">
                                <label class="ammolabel">Rounds</label>
                            </div>
                            <div class="ammomaxwrapper">
                                <label class="ammolabel">Max</label>
                            </div>
                            <div class="ammoaccwrapper">
                                <label class="ammolabel">Mod</label>
                            </div>
                            <div class="ammodvwrapper">
                                <label class="ammolabel">Mod</label>
                            </div>
                            <div class="ammodmgtypewrapper">
                                <label class="ammolabel">Damage Type</label>
                            </div>
                            <div class="ammoapwrapper">
                                <label class="ammolabel">Mod</label>
                            </div>
                            <div class="ammodescriptionwrapper">
                                <label class="ammolabel">Description</label>
                            </div>
                        </div>
                        <div class="ammofieldset hide-rep">
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname0" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber0" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber0" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc0" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv0" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype0">
                                        <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap0" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription0" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap0})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv0})]]}}{{after1dmg=@{prefix-ammodmgtype0}}}{{after2=Simple: @{prefix-ammoname0} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname0} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription0}}}"></button>
                                </div>
                            </div>
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname1" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber1" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber1" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc1" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv1" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype1">
                                        <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap1" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription1" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv1})]]}}{{after1dmg=@{prefix-ammodmgtype1}}}{{after2=Simple: @{prefix-ammoname1} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname1} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription1}}}"></button>
                                </div>
                            </div>
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname2" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber2" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber2" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc2" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv2" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype2">
                                        <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap2" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription2" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv2})]]}}{{after1dmg=@{prefix-ammodmgtype2}}}{{after2=Simple: @{prefix-ammoname2} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname2} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription2}}}"></button>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <label class="heading4" for="automaticsMain" title="Click to hide automatic weapon">Automatic Weapons</label>
                <input id="automaticsMain" type="checkbox" class="invisiblecheckbox" checked>
                <div class="collapsible">
					<div class="weaponrow">
                        <div class="weaponmeleewrapper">
                            <label class="weaponlabel">Melee</label>
                        </div>
                        <div class="weaponnamewrapper">
                            <label class="weaponlabel">Name</label>
                        </div>
                        <div class="weaponcategorywrapper">
                            <label class="weaponlabel">Category</label>
                        </div>
                        <div class="weaponaccuracywrapper">
                            <label class="weaponlabel">Acc.</label>
                        </div>
                        <div class="weapondvwrapper">
                            <label class="weaponlabel">DV</label>
                        </div>
                        <div class="weapondmgtypewrapper">
                            <label class="weaponlabel">Damage Type</label>
                        </div>
                        <div class="weaponapwrapper">
                            <label class="weaponlabel">AP</label>
                        </div>
                        <div class="weaponrcwrapper">
                            <label class="weaponlabel">RC</label>
                        </div>
                        <div class="weaponmodewrapper">
                            <label class="weaponlabel">Mode / Reach</label>
                        </div>
                        <div class="weaponskillwrapper">
                            <label class="weaponlabel">Skill</label>
                        </div>
                        <div class="weaponbonuswrapper">
                            <label class="weaponlabel">Mod</label>
                        </div>
                        <div class="weapondicewrapper">
                            <label class="weaponlabel">Dice</label>
                        </div>
                        <div class="weaponrangerollwrapper">
                            <label class="weaponlabel">Roll</label>
                        </div>
                        <div class="weaponnoteboxwrapper">
                            <label class="weaponlabel">Notes</label>
                        </div>
                    </div>
                    <fieldset class="repeating_automatics">
                        <input class="meleecheckbox hiddenmelee hide-rep" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                        <div class="weaponrow">
                            <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                            <div class="weaponmeleewrapper">
                                <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                                <div class="checkboxticker meleeunticked"></div>
                                <div class="checkboxticker meleeticked">X</div>
                            </div>
                            <div class="weaponnamewrapper">
                                <input type="text" name="attr_weaponname" title="Weapon Name">
                            </div>
                            <div class="weaponcategorywrapper">
                                <select name="attr_weaponcategory" title="Skill to use">
                                    <option value="@{skilldicepool43}">Archery</option>
                                    <option value="@{skilldicepool44}">Automatics</option>
                                    <option value="@{skilldicepool45}">Blades</option>
                                    <option value="@{skilldicepool46}">Clubs</option>
                                    <option value="@{skilldicepool47}">Heavy Weapons</option>
                                    <option value="@{skilldicepool48}">Longarms</option>
                                    <option selected value="@{skilldicepool49}">Pistols</option>
                                    <option value="@{skilldicepool50}">Thrown Weapon</option>
                                    <option value="@{skilldicepool51}">Unarmed</option>
                                    <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                    <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                    <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                    <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                                </select>
                                <input type="text" class="hiddentextfield" name="attr_weaponskillname" value="Pistols">
                            </div>
                            <div class="weaponspecwrapper">
                                <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec" value="2" title="Apply +2 from Specialization to this Weapon">
                                <div class="checkboxticker spellspecializedunticked"></div>
                                <div class="checkboxticker spellspecializedticked">X</div>
                            </div>
                            <div class="weaponbonuswrapper">
                                <input type="number" name="attr_weaponbonus" value="0" title="Any Bonuses to Weapon Skill">
                            </div>
                            <div class="weaponaccuracywrapper">
                                <input type="number" name="attr_weaponaccuracy" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                            </div>
                            <div class="weapondvwrapper">
                                <input type="number" name="attr_weapondv" value="0" title="Weapon Damage with all Modifications but Ammo">
                            </div>
                            <div class="weapondmgtypewrapper">
                                <select class="weapondmgtype" name="attr_weapondmgtype" title="Select the Damage Type done by this Weapon">
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                </select>
                            </div>
                            <div class="weaponapwrapper">
                                <input type="text" name="attr_weaponap" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                            </div>
                            <div class="weaponrcwrapper">
                                <input type="text" name="attr_weaponrc" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                            </div>
                            <div class="weaponmodewrapper">
                                <select name="attr_weaponmode" title="(optional)Firing Mode(s) of the Weapon">
                                    <option value="11">SS</option>
                                    <option value="31">SA</option>
                                    <option value="63">BF</option>
                                    <option value="106">FA</option>
                                </select>
                                <input type="text" name="attr_weaponreach" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                            </div>
                            <div class="weapondicewrapper">
                                <input type="text" name="attr_weapondice" value="@{weaponcategory}+@{weaponbonus}+@{weaponspec}" disabled title="Total Dicepool">
                            </div>
                            <div class="weaponrangerollwrapper">
                                <button type="action" class="weaponroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                            </div>
                            <div class="weaponmeleerollwrapper">
                                <button type="action" class="weaponroll" name="act_rollweapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{prefix-weaponreach}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                            </div>
                            <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes" title="Need more Space?">
                            <div class="checkboxticker weaponunticked"></div>
                            <div class="checkboxticker weaponticked">X</div>
                            <div class="weaponnoteswrapper">
                                <textarea name="attr_weaponnotes" title="Have more Space!"></textarea>
                            </div>
                        </div>
                        <div class="ammolabels hide-rep">
                            <div class="ammonamewrapper">
                                <label class="ammolabel">Ammo Name</label>
                            </div>
                            <div class="ammonumberwrapper">
                                <label class="ammolabel">Rounds</label>
                            </div>
                            <div class="ammomaxwrapper">
                                <label class="ammolabel">Max</label>
                            </div>
                            <div class="ammoaccwrapper">
                                <label class="ammolabel">Mod</label>
                            </div>
                            <div class="ammodvwrapper">
                                <label class="ammolabel">Mod</label>
                            </div>
                            <div class="ammodmgtypewrapper">
                                <label class="ammolabel">Damage Type</label>
                            </div>
                            <div class="ammoapwrapper">
                                <label class="ammolabel">Mod</label>
                            </div>
                            <div class="ammodescriptionwrapper">
                                <label class="ammolabel">Description</label>
                            </div>
                        </div>
                        <div class="ammofieldset hide-rep">
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname0" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber0" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber0" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc0" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv0" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype0">
                                        <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap0" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription0" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap0})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv0})]]}}{{after1dmg=@{prefix-ammodmgtype0}}}{{after2=Simple: @{prefix-ammoname0} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname0} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription0}}}"></button>
                                </div>
                            </div>
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname1" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber1" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber1" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc1" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv1" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype1">
                                        <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap1" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription1" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv1})]]}}{{after1dmg=@{prefix-ammodmgtype1}}}{{after2=Simple: @{prefix-ammoname1} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname1} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription1}}}"></button>
                                </div>
                            </div>
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname2" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber2" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber2" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc2" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv2" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype2">
                                        <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap2" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription2" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv2})]]}}{{after1dmg=@{prefix-ammodmgtype2}}}{{after2=Simple: @{prefix-ammoname2} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname2} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription2}}}"></button>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <label class="heading4" for="longarmsMain" title="Click to hide longarms">Longarms</label>
                <input id="longarmsMain" type="checkbox" class="invisiblecheckbox" checked>
                <div class="collapsible">
					<div class="weaponrow">
                        <div class="weaponmeleewrapper">
                            <label class="weaponlabel">Melee</label>
                        </div>
                        <div class="weaponnamewrapper">
                            <label class="weaponlabel">Name</label>
                        </div>
                        <div class="weaponcategorywrapper">
                            <label class="weaponlabel">Category</label>
                        </div>
                        <div class="weaponaccuracywrapper">
                            <label class="weaponlabel">Acc.</label>
                        </div>
                        <div class="weapondvwrapper">
                            <label class="weaponlabel">DV</label>
                        </div>
                        <div class="weapondmgtypewrapper">
                            <label class="weaponlabel">Damage Type</label>
                        </div>
                        <div class="weaponapwrapper">
                            <label class="weaponlabel">AP</label>
                        </div>
                        <div class="weaponrcwrapper">
                            <label class="weaponlabel">RC</label>
                        </div>
                        <div class="weaponmodewrapper">
                            <label class="weaponlabel">Mode / Reach</label>
                        </div>
                        <div class="weaponskillwrapper">
                            <label class="weaponlabel">Skill</label>
                        </div>
                        <div class="weaponbonuswrapper">
                            <label class="weaponlabel">Mod</label>
                        </div>
                        <div class="weapondicewrapper">
                            <label class="weaponlabel">Dice</label>
                        </div>
                        <div class="weaponrangerollwrapper">
                            <label class="weaponlabel">Roll</label>
                        </div>
                        <div class="weaponnoteboxwrapper">
                            <label class="weaponlabel">Notes</label>
                        </div>
                    </div>
                    <fieldset class="repeating_longarms">
                        <input class="meleecheckbox hiddenmelee hide-rep" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                        <div class="weaponrow">
                            <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                            <div class="weaponmeleewrapper">
                                <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                                <div class="checkboxticker meleeunticked"></div>
                                <div class="checkboxticker meleeticked">X</div>
                            </div>
                            <div class="weaponnamewrapper">
                                <input type="text" name="attr_weaponname" title="Weapon Name">
                            </div>
                            <div class="weaponcategorywrapper">
                                <select name="attr_weaponcategory" title="Skill to use">
                                    <option value="@{skilldicepool43}">Archery</option>
                                    <option value="@{skilldicepool44}">Automatics</option>
                                    <option value="@{skilldicepool45}">Blades</option>
                                    <option value="@{skilldicepool46}">Clubs</option>
                                    <option value="@{skilldicepool47}">Heavy Weapons</option>
                                    <option value="@{skilldicepool48}">Longarms</option>
                                    <option selected value="@{skilldicepool49}">Pistols</option>
                                    <option value="@{skilldicepool50}">Thrown Weapon</option>
                                    <option value="@{skilldicepool51}">Unarmed</option>
                                    <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                    <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                    <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                    <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                                </select>
                                <input type="text" class="hiddentextfield" name="attr_weaponskillname" value="Pistols">
                            </div>
                            <div class="weaponspecwrapper">
                                <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec" value="2" title="Apply +2 from Specialization to this Weapon">
                                <div class="checkboxticker spellspecializedunticked"></div>
                                <div class="checkboxticker spellspecializedticked">X</div>
                            </div>
                            <div class="weaponbonuswrapper">
                                <input type="number" name="attr_weaponbonus" value="0" title="Any Bonuses to Weapon Skill">
                            </div>
                            <div class="weaponaccuracywrapper">
                                <input type="number" name="attr_weaponaccuracy" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                            </div>
                            <div class="weapondvwrapper">
                                <input type="number" name="attr_weapondv" value="0" title="Weapon Damage with all Modifications but Ammo">
                            </div>
                            <div class="weapondmgtypewrapper">
                                <select class="weapondmgtype" name="attr_weapondmgtype" title="Select the Damage Type done by this Weapon">
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                </select>
                            </div>
                            <div class="weaponapwrapper">
                                <input type="text" name="attr_weaponap" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                            </div>
                            <div class="weaponrcwrapper">
                                <input type="text" name="attr_weaponrc" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                            </div>
                            <div class="weaponmodewrapper">
                                <select name="attr_weaponmode" title="(optional)Firing Mode(s) of the Weapon">
                                    <option value="11">SS</option>
                                    <option value="31">SA</option>
                                    <option value="63">BF</option>
                                    <option value="106">FA</option>
                                </select>
                                <input type="text" name="attr_weaponreach" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                            </div>
                            <div class="weapondicewrapper">
                                <input type="text" name="attr_weapondice" value="@{weaponcategory}+@{weaponbonus}+@{weaponspec}" disabled title="Total Dicepool">
                            </div>
                            <div class="weaponrangerollwrapper">
                                <button type="action" class="weaponroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                            </div>
                            <div class="weaponmeleerollwrapper">
                                <button type="action" class="weaponroll" name="act_rollweapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{prefix-weaponreach}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                            </div>
                            <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes" title="Need more Space?">
                            <div class="checkboxticker weaponunticked"></div>
                            <div class="checkboxticker weaponticked">X</div>
                            <div class="weaponnoteswrapper">
                                <textarea name="attr_weaponnotes" title="Have more Space!"></textarea>
                            </div>
                        </div>
                        <div class="ammolabels hide-rep">
                            <div class="ammonamewrapper">
                                <label class="ammolabel">Ammo Name</label>
                            </div>
                            <div class="ammonumberwrapper">
                                <label class="ammolabel">Rounds</label>
                            </div>
                            <div class="ammomaxwrapper">
                                <label class="ammolabel">Max</label>
                            </div>
                            <div class="ammoaccwrapper">
                                <label class="ammolabel">Mod</label>
                            </div>
                            <div class="ammodvwrapper">
                                <label class="ammolabel">Mod</label>
                            </div>
                            <div class="ammodmgtypewrapper">
                                <label class="ammolabel">Damage Type</label>
                            </div>
                            <div class="ammoapwrapper">
                                <label class="ammolabel">Mod</label>
                            </div>
                            <div class="ammodescriptionwrapper">
                                <label class="ammolabel">Description</label>
                            </div>
                        </div>
                        <div class="ammofieldset hide-rep">
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname0" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber0" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber0" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc0" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv0" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype0">
                                        <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap0" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription0" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap0})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv0})]]}}{{after1dmg=@{prefix-ammodmgtype0}}}{{after2=Simple: @{prefix-ammoname0} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname0} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription0}}}"></button>
                                </div>
                            </div>
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname1" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber1" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber1" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc1" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv1" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype1">
                                        <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap1" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription1" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv1})]]}}{{after1dmg=@{prefix-ammodmgtype1}}}{{after2=Simple: @{prefix-ammoname1} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname1} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription1}}}"></button>
                                </div>
                            </div>
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname2" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber2" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber2" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc2" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv2" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype2">
                                        <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap2" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription2" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv2})]]}}{{after1dmg=@{prefix-ammodmgtype2}}}{{after2=Simple: @{prefix-ammoname2} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname2} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription2}}}"></button>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <label class="heading4" for="heavyweaponsMain" title="Click to hide heavy weapon">Heavy Weapons</label>
                <input id="heavyweaponsMain" type="checkbox" class="invisiblecheckbox" checked>
                <div class="collapsible">
					<div class="weaponrow">
                        <div class="weaponmeleewrapper">
                            <label class="weaponlabel">Melee</label>
                        </div>
                        <div class="weaponnamewrapper">
                            <label class="weaponlabel">Name</label>
                        </div>
                        <div class="weaponcategorywrapper">
                            <label class="weaponlabel">Category</label>
                        </div>
                        <div class="weaponaccuracywrapper">
                            <label class="weaponlabel">Acc.</label>
                        </div>
                        <div class="weapondvwrapper">
                            <label class="weaponlabel">DV</label>
                        </div>
                        <div class="weapondmgtypewrapper">
                            <label class="weaponlabel">Damage Type</label>
                        </div>
                        <div class="weaponapwrapper">
                            <label class="weaponlabel">AP</label>
                        </div>
                        <div class="weaponrcwrapper">
                            <label class="weaponlabel">RC</label>
                        </div>
                        <div class="weaponmodewrapper">
                            <label class="weaponlabel">Mode / Reach</label>
                        </div>
                        <div class="weaponskillwrapper">
                            <label class="weaponlabel">Skill</label>
                        </div>
                        <div class="weaponbonuswrapper">
                            <label class="weaponlabel">Mod</label>
                        </div>
                        <div class="weapondicewrapper">
                            <label class="weaponlabel">Dice</label>
                        </div>
                        <div class="weaponrangerollwrapper">
                            <label class="weaponlabel">Roll</label>
                        </div>
                        <div class="weaponnoteboxwrapper">
                            <label class="weaponlabel">Notes</label>
                        </div>
                    </div>
                    <fieldset class="repeating_heavyweapons">
                        <input class="meleecheckbox hiddenmelee hide-rep" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                        <div class="weaponrow">
                            <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                            <div class="weaponmeleewrapper">
                                <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                                <div class="checkboxticker meleeunticked"></div>
                                <div class="checkboxticker meleeticked">X</div>
                            </div>
                            <div class="weaponnamewrapper">
                                <input type="text" name="attr_weaponname" title="Weapon Name">
                            </div>
                            <div class="weaponcategorywrapper">
                                <select name="attr_weaponcategory" title="Skill to use">
                                    <option value="@{skilldicepool43}">Archery</option>
                                    <option value="@{skilldicepool44}">Automatics</option>
                                    <option value="@{skilldicepool45}">Blades</option>
                                    <option value="@{skilldicepool46}">Clubs</option>
                                    <option value="@{skilldicepool47}">Heavy Weapons</option>
                                    <option value="@{skilldicepool48}">Longarms</option>
                                    <option selected value="@{skilldicepool49}">Pistols</option>
                                    <option value="@{skilldicepool50}">Thrown Weapon</option>
                                    <option value="@{skilldicepool51}">Unarmed</option>
                                    <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                    <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                    <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                    <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                                </select>
                                <input type="text" class="hiddentextfield" name="attr_weaponskillname" value="Pistols">
                            </div>
                            <div class="weaponspecwrapper">
                                <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec" value="2" title="Apply +2 from Specialization to this Weapon">
                                <div class="checkboxticker spellspecializedunticked"></div>
                                <div class="checkboxticker spellspecializedticked">X</div>
                            </div>
                            <div class="weaponbonuswrapper">
                                <input type="number" name="attr_weaponbonus" value="0" title="Any Bonuses to Weapon Skill">
                            </div>
                            <div class="weaponaccuracywrapper">
                                <input type="number" name="attr_weaponaccuracy" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                            </div>
                            <div class="weapondvwrapper">
                                <input type="number" name="attr_weapondv" value="0" title="Weapon Damage with all Modifications but Ammo">
                            </div>
                            <div class="weapondmgtypewrapper">
                                <select class="weapondmgtype" name="attr_weapondmgtype" title="Select the Damage Type done by this Weapon">
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                </select>
                            </div>
                            <div class="weaponapwrapper">
                                <input type="text" name="attr_weaponap" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                            </div>
                            <div class="weaponrcwrapper">
                                <input type="text" name="attr_weaponrc" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                            </div>
                            <div class="weaponmodewrapper">
                                <select name="attr_weaponmode" title="(optional)Firing Mode(s) of the Weapon">
                                    <option value="11">SS</option>
                                    <option value="31">SA</option>
                                    <option value="63">BF</option>
                                    <option value="106">FA</option>
                                </select>
                                <input type="text" name="attr_weaponreach" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                            </div>
                            <div class="weapondicewrapper">
                                <input type="text" name="attr_weapondice" value="@{weaponcategory}+@{weaponbonus}+@{weaponspec}" disabled title="Total Dicepool">
                            </div>
                            <div class="weaponrangerollwrapper">
                                <button type="action" class="weaponroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                            </div>
                            <div class="weaponmeleerollwrapper">
                                <button type="action" class="weaponroll" name="act_rollweapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{prefix-weaponreach}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                            </div>
                            <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes" title="Need more Space?">
                            <div class="checkboxticker weaponunticked"></div>
                            <div class="checkboxticker weaponticked">X</div>
                            <div class="weaponnoteswrapper">
                                <textarea name="attr_weaponnotes" title="Have more Space!"></textarea>
                            </div>
                        </div>
                        <div class="ammolabels hide-rep">
                            <div class="ammonamewrapper">
                                <label class="ammolabel">Ammo Name</label>
                            </div>
                            <div class="ammonumberwrapper">
                                <label class="ammolabel">Rounds</label>
                            </div>
                            <div class="ammomaxwrapper">
                                <label class="ammolabel">Max</label>
                            </div>
                            <div class="ammoaccwrapper">
                                <label class="ammolabel">Mod</label>
                            </div>
                            <div class="ammodvwrapper">
                                <label class="ammolabel">Mod</label>
                            </div>
                            <div class="ammodmgtypewrapper">
                                <label class="ammolabel">Damage Type</label>
                            </div>
                            <div class="ammoapwrapper">
                                <label class="ammolabel">Mod</label>
                            </div>
                            <div class="ammodescriptionwrapper">
                                <label class="ammolabel">Description</label>
                            </div>
                        </div>
                        <div class="ammofieldset hide-rep">
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname0" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber0" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber0" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc0" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv0" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype0">
                                        <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap0" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription0" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap0})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv0})]]}}{{after1dmg=@{prefix-ammodmgtype0}}}{{after2=Simple: @{prefix-ammoname0} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname0} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription0}}}"></button>
                                </div>
                            </div>
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname1" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber1" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber1" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc1" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv1" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype1">
                                        <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap1" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription1" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv1})]]}}{{after1dmg=@{prefix-ammodmgtype1}}}{{after2=Simple: @{prefix-ammoname1} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname1} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription1}}}"></button>
                                </div>
                            </div>
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname2" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber2" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber2" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc2" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv2" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype2">
                                        <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap2" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription2" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv2})]]}}{{after1dmg=@{prefix-ammodmgtype2}}}{{after2=Simple: @{prefix-ammoname2} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname2} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription2}}}"></button>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <label class="heading4" for="closeCombatMain" title="Click to hide close combat weapon">Close Combat</label>
                <input id="closeCombatMain" type="checkbox" class="invisiblecheckbox" checked>
                <div class="collapsible">
					<div class="weaponrow">
                        <div class="weaponmeleewrapper">
                            <label class="weaponlabel">Melee</label>
                        </div>
                        <div class="weaponnamewrapper">
                            <label class="weaponlabel">Name</label>
                        </div>
                        <div class="weaponcategorywrapper">
                            <label class="weaponlabel">Category</label>
                        </div>
                        <div class="weaponaccuracywrapper">
                            <label class="weaponlabel">Acc.</label>
                        </div>
                        <div class="weapondvwrapper">
                            <label class="weaponlabel">DV</label>
                        </div>
                        <div class="weapondmgtypewrapper">
                            <label class="weaponlabel">Damage Type</label>
                        </div>
                        <div class="weaponapwrapper">
                            <label class="weaponlabel">AP</label>
                        </div>
                        <div class="weaponrcwrapper">
                            <label class="weaponlabel">RC</label>
                        </div>
                        <div class="weaponmodewrapper">
                            <label class="weaponlabel">Mode / Reach</label>
                        </div>
                        <div class="weaponskillwrapper">
                            <label class="weaponlabel">Skill</label>
                        </div>
                        <div class="weaponbonuswrapper">
                            <label class="weaponlabel">Mod</label>
                        </div>
                        <div class="weapondicewrapper">
                            <label class="weaponlabel">Dice</label>
                        </div>
                        <div class="weaponrangerollwrapper">
                            <label class="weaponlabel">Roll</label>
                        </div>
                        <div class="weaponnoteboxwrapper">
                            <label class="weaponlabel">Notes</label>
                        </div>
                    </div>
                    <fieldset class="repeating_closecombat">
                        <input class="meleecheckbox hiddenmelee hide-rep" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                        <div class="weaponrow">
                            <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                            <div class="weaponmeleewrapper">
                                <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                                <div class="checkboxticker meleeunticked"></div>
                                <div class="checkboxticker meleeticked">X</div>
                            </div>
                            <div class="weaponnamewrapper">
                                <input type="text" name="attr_weaponname" title="Weapon Name">
                            </div>
                            <div class="weaponcategorywrapper">
                                <select name="attr_weaponcategory" title="Skill to use">
                                    <option value="@{skilldicepool43}">Archery</option>
                                    <option value="@{skilldicepool44}">Automatics</option>
                                    <option value="@{skilldicepool45}">Blades</option>
                                    <option value="@{skilldicepool46}">Clubs</option>
                                    <option value="@{skilldicepool47}">Heavy Weapons</option>
                                    <option value="@{skilldicepool48}">Longarms</option>
                                    <option selected value="@{skilldicepool49}">Pistols</option>
                                    <option value="@{skilldicepool50}">Thrown Weapon</option>
                                    <option value="@{skilldicepool51}">Unarmed</option>
                                    <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                    <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                    <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                    <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                                </select>
                                <input type="text" class="hiddentextfield" name="attr_weaponskillname" value="Pistols">
                            </div>
                            <div class="weaponspecwrapper">
                                <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec" value="2" title="Apply +2 from Specialization to this Weapon">
                                <div class="checkboxticker spellspecializedunticked"></div>
                                <div class="checkboxticker spellspecializedticked">X</div>
                            </div>
                            <div class="weaponbonuswrapper">
                                <input type="number" name="attr_weaponbonus" value="0" title="Any Bonuses to Weapon Skill">
                            </div>
                            <div class="weaponaccuracywrapper">
                                <input type="number" name="attr_weaponaccuracy" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                            </div>
                            <div class="weapondvwrapper">
                                <input type="number" name="attr_weapondv" value="0" title="Weapon Damage with all Modifications but Ammo">
                            </div>
                            <div class="weapondmgtypewrapper">
                                <select class="weapondmgtype" name="attr_weapondmgtype" title="Select the Damage Type done by this Weapon">
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                </select>
                            </div>
                            <div class="weaponapwrapper">
                                <input type="text" name="attr_weaponap" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                            </div>
                            <div class="weaponrcwrapper">
                                <input type="text" name="attr_weaponrc" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                            </div>
                            <div class="weaponmodewrapper">
                                <select name="attr_weaponmode" title="(optional)Firing Mode(s) of the Weapon">
                                    <option value="11">SS</option>
                                    <option value="31">SA</option>
                                    <option value="63">BF</option>
                                    <option value="106">FA</option>
                                </select>
                                <input type="text" name="attr_weaponreach" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                            </div>
                            <div class="weapondicewrapper">
                                <input type="text" name="attr_weapondice" value="@{weaponcategory}+@{weaponbonus}+@{weaponspec}" disabled title="Total Dicepool">
                            </div>
                            <div class="weaponrangerollwrapper">
                                <button type="action" class="weaponroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                            </div>
                            <div class="weaponmeleerollwrapper">
                                <button type="action" class="weaponroll" name="act_rollweapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{prefix-weaponreach}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                            </div>
                            <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes" title="Need more Space?">
                            <div class="checkboxticker weaponunticked"></div>
                            <div class="checkboxticker weaponticked">X</div>
                            <div class="weaponnoteswrapper">
                                <textarea name="attr_weaponnotes" title="Have more Space!"></textarea>
                            </div>
                        </div>
                        <div class="ammolabels hide-rep">
                            <div class="ammonamewrapper">
                                <label class="ammolabel">Ammo Name</label>
                            </div>
                            <div class="ammonumberwrapper">
                                <label class="ammolabel">Rounds</label>
                            </div>
                            <div class="ammomaxwrapper">
                                <label class="ammolabel">Max</label>
                            </div>
                            <div class="ammoaccwrapper">
                                <label class="ammolabel">Mod</label>
                            </div>
                            <div class="ammodvwrapper">
                                <label class="ammolabel">Mod</label>
                            </div>
                            <div class="ammodmgtypewrapper">
                                <label class="ammolabel">Damage Type</label>
                            </div>
                            <div class="ammoapwrapper">
                                <label class="ammolabel">Mod</label>
                            </div>
                            <div class="ammodescriptionwrapper">
                                <label class="ammolabel">Description</label>
                            </div>
                        </div>
                        <div class="ammofieldset hide-rep">
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname0" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber0" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber0" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc0" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv0" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype0">
                                        <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap0" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription0" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap0})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv0})]]}}{{after1dmg=@{prefix-ammodmgtype0}}}{{after2=Simple: @{prefix-ammoname0} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname0} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription0}}}"></button>
                                </div>
                            </div>
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname1" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber1" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber1" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc1" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv1" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype1">
                                        <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap1" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription1" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv1})]]}}{{after1dmg=@{prefix-ammodmgtype1}}}{{after2=Simple: @{prefix-ammoname1} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname1} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription1}}}"></button>
                                </div>
                            </div>
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname2" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber2" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber2" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc2" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv2" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype2">
                                        <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap2" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription2" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv2})]]}}{{after1dmg=@{prefix-ammodmgtype2}}}{{after2=Simple: @{prefix-ammoname2} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname2} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription2}}}"></button>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <label class="heading4" for="otherWeaponsMain" title="Click to hide other weapons">Other Weapons</label>
                <input id="otherWeaponsMain" type="checkbox" class="invisiblecheckbox" checked>
                <div class="collapsible">
					<div class="weaponrow">
                        <div class="weaponmeleewrapper">
                            <label class="weaponlabel">Melee</label>
                        </div>
                        <div class="weaponnamewrapper">
                            <label class="weaponlabel">Name</label>
                        </div>
                        <div class="weaponcategorywrapper">
                            <label class="weaponlabel">Category</label>
                        </div>
                        <div class="weaponaccuracywrapper">
                            <label class="weaponlabel">Acc.</label>
                        </div>
                        <div class="weapondvwrapper">
                            <label class="weaponlabel">DV</label>
                        </div>
                        <div class="weapondmgtypewrapper">
                            <label class="weaponlabel">Damage Type</label>
                        </div>
                        <div class="weaponapwrapper">
                            <label class="weaponlabel">AP</label>
                        </div>
                        <div class="weaponrcwrapper">
                            <label class="weaponlabel">RC</label>
                        </div>
                        <div class="weaponmodewrapper">
                            <label class="weaponlabel">Mode / Reach</label>
                        </div>
                        <div class="weaponskillwrapper">
                            <label class="weaponlabel">Skill</label>
                        </div>
                        <div class="weaponbonuswrapper">
                            <label class="weaponlabel">Mod</label>
                        </div>
                        <div class="weapondicewrapper">
                            <label class="weaponlabel">Dice</label>
                        </div>
                        <div class="weaponrangerollwrapper">
                            <label class="weaponlabel">Roll</label>
                        </div>
                        <div class="weaponnoteboxwrapper">
                            <label class="weaponlabel">Notes</label>
                        </div>
                    </div>
                    <fieldset class="repeating_weapons">
                        <input class="meleecheckbox hiddenmelee hide-rep" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                        <div class="weaponrow">
                            <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                            <div class="weaponmeleewrapper">
                                <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                                <div class="checkboxticker meleeunticked"></div>
                                <div class="checkboxticker meleeticked">X</div>
                            </div>
                            <div class="weaponnamewrapper">
                                <input type="text" name="attr_weaponname" title="Weapon Name">
                            </div>
                            <div class="weaponcategorywrapper">
                                <select name="attr_weaponcategory" title="Skill to use">
                                    <option value="@{skilldicepool43}">Archery</option>
                                    <option value="@{skilldicepool44}">Automatics</option>
                                    <option value="@{skilldicepool45}">Blades</option>
                                    <option value="@{skilldicepool46}">Clubs</option>
                                    <option value="@{skilldicepool47}">Heavy Weapons</option>
                                    <option value="@{skilldicepool48}">Longarms</option>
                                    <option selected value="@{skilldicepool49}">Pistols</option>
                                    <option value="@{skilldicepool50}">Thrown Weapon</option>
                                    <option value="@{skilldicepool51}">Unarmed</option>
                                    <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                    <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                    <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                    <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                                </select>
                                <input type="text" class="hiddentextfield" name="attr_weaponskillname" value="Pistols">
                            </div>
                            <div class="weaponspecwrapper">
                                <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec" value="2" title="Apply +2 from Specialization to this Weapon">
                                <div class="checkboxticker spellspecializedunticked"></div>
                                <div class="checkboxticker spellspecializedticked">X</div>
                            </div>
                            <div class="weaponbonuswrapper">
                                <input type="number" name="attr_weaponbonus" value="0" title="Any Bonuses to Weapon Skill">
                            </div>
                            <div class="weaponaccuracywrapper">
                                <input type="number" name="attr_weaponaccuracy" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                            </div>
                            <div class="weapondvwrapper">
                                <input type="number" name="attr_weapondv" value="0" title="Weapon Damage with all Modifications but Ammo">
                            </div>
                            <div class="weapondmgtypewrapper">
                                <select class="weapondmgtype" name="attr_weapondmgtype" title="Select the Damage Type done by this Weapon">
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                </select>
                            </div>
                            <div class="weaponapwrapper">
                                <input type="text" name="attr_weaponap" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                            </div>
                            <div class="weaponrcwrapper">
                                <input type="text" name="attr_weaponrc" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                            </div>
                            <div class="weaponmodewrapper">
                                <select name="attr_weaponmode" title="(optional)Firing Mode(s) of the Weapon">
                                    <option value="11">SS</option>
                                    <option value="31">SA</option>
                                    <option value="63">BF</option>
                                    <option value="106">FA</option>
                                </select>
                                <input type="text" name="attr_weaponreach" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                            </div>
                            <div class="weapondicewrapper">
                                <input type="text" name="attr_weapondice" value="@{weaponcategory}+@{weaponbonus}+@{weaponspec}" disabled title="Total Dicepool">
                            </div>
                            <div class="weaponrangerollwrapper">
                                <button type="action" class="weaponroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                            </div>
                            <div class="weaponmeleerollwrapper">
                                <button type="action" class="weaponroll" name="act_rollweapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{prefix-weaponreach}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                            </div>
                            <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes" title="Need more Space?">
                            <div class="checkboxticker weaponunticked"></div>
                            <div class="checkboxticker weaponticked">X</div>
                            <div class="weaponnoteswrapper">
                                <textarea name="attr_weaponnotes" title="Have more Space!"></textarea>
                            </div>
                        </div>
                        <div class="ammolabels hide-rep">
                            <div class="ammonamewrapper">
                                <label class="ammolabel">Ammo Name</label>
                            </div>
                            <div class="ammonumberwrapper">
                                <label class="ammolabel">Rounds</label>
                            </div>
                            <div class="ammomaxwrapper">
                                <label class="ammolabel">Max</label>
                            </div>
                            <div class="ammoaccwrapper">
                                <label class="ammolabel">Mod</label>
                            </div>
                            <div class="ammodvwrapper">
                                <label class="ammolabel">Mod</label>
                            </div>
                            <div class="ammodmgtypewrapper">
                                <label class="ammolabel">Damage Type</label>
                            </div>
                            <div class="ammoapwrapper">
                                <label class="ammolabel">Mod</label>
                            </div>
                            <div class="ammodescriptionwrapper">
                                <label class="ammolabel">Description</label>
                            </div>
                        </div>
                        <div class="ammofieldset hide-rep">
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname0" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber0" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber0" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc0" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv0" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype0">
                                        <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap0" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription0" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap0})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv0})]]}}{{after1dmg=@{prefix-ammodmgtype0}}}{{after2=Simple: @{prefix-ammoname0} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname0} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription0}}}"></button>
                                </div>
                            </div>
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname1" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber1" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber1" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc1" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv1" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype1">
                                        <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap1" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription1" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv1})]]}}{{after1dmg=@{prefix-ammodmgtype1}}}{{after2=Simple: @{prefix-ammoname1} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname1} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription1}}}"></button>
                                </div>
                            </div>
                            <div class="ammorow">
                                <div class="ammonamewrapper">
                                    <input type="text" name="attr_ammoname2" title="Name of the Ammunition">
                                </div>
                                <div class="ammonumberwrapper">
                                    <input type="number" name="attr_ammonumber2" title="How many still left in the Clip/Drum/etc">
                                </div>
                                <div class="ammomaxwrapper">
                                    <input type="number" name="attr_ammomaxnumber2" title="Maximum Capacity of the Clip/Drum/etc">
                                </div>
                                <div class="ammoaccwrapper">
                                    <input type="text" name="attr_ammoacc2" value="0" title="Accuracy change from the Ammunition">
                                </div>
                                <div class="ammodvwrapper">
                                    <input type="text" name="attr_ammodv2" value="0" title="DV change from the Ammunition">
                                </div>
                                <div class="ammodmgtypewrapper">
                                    <select name="attr_ammodmgtype2">
                                        <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                        <option value="P">Physical</option>
                                        <option value="S">Stun</option>
                                        <option value="S(e)">Stun (electric)</option>
                                        <option value="Sp">Special</option>
                                    </select>
                                </div>
                                <div class="ammoapwrapper">
                                    <input type="text" name="attr_ammoap2" value="0" title="AP change from the Ammunition">
                                </div>
                                <div class="ammodescriptionwrapper">
                                    <input type="text" name="attr_ammodescription2" title="Additional Description">
                                </div>
                                <div class="ammorollwrapper">
                                    <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv2})]]}}{{after1dmg=@{prefix-ammodmgtype2}}}{{after2=Simple: @{prefix-ammoname2} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname2} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription2}}}"></button>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>
            </div>
        </div>
    </div>
    <div class="contentSkills">
        <div class="skills">
            <h2>Active Skills</h2>
            <h3>Physical Skills</h3>
            <div class="topbuttonwrapper">
                <input type="checkbox" class="skillshowallcheckbox" name="attr_skillshowallcheckbox1">
                <div class="topbuttonlabel">Show All</div>
                <input type="checkbox" class="skillshowallcheckbox" name="attr_skillhideunusedcheckbox1">
                <div class="topbuttonlabel">Hide Unused</div>
            </div>
            <div class="skillspacer"> </div>
            <input type="checkbox" name="attr_skillhideheader1" class="skillhideheadercheckbox">
            <div class="skillrow">
                <div class="skillhidelabel">
                    <label class="skilllabel">Hide</label>
                </div>
                <div class="skillnamewrapper">
                    <label class="skilllabel">Active Skill</label>
                </div>
                <div class="skillattributewrapper">
                    <label class="skilllabel">Attribute</label>
                </div>
                <div class="skillratingwrapper">
                    <label class="skilllabel">Rating</label>
                </div>
                <div class="skillbonuswrapper">
                    <label class="skilllabel">Bonus</label>
                </div>
                <div class="skilllimitwrapper">
                    <label class="skilllabel">Limit</label>
                </div>
                <div class="skilllimitbonuswrapper">
                    <label class="skilllabel">Limit-Mod</label>
                </div>
                <div class="skillnoteswrapper">
                    <label class="skilllabel">Description</label>
                </div>
                <div class="skillspecwrapper">
                    <label class="skilllabel">Specialization</label>
                </div>
                <div class="skilldicepoolwrapper">
                    <label class="skilllabel">Dice</label>
                </div>
                <div class="skillbuttonwrapper">
                    <label class="skilllabel">Roll</label>
                </div>
            </div>
            <div class="skillspacer"> </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox1" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Animal Handling" name="attr_skillname1" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr1">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option selected value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name1" value="@{cha_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value1" value="@{cha_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating1" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus1" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit1">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option selected value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name1" value="@{social_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value1" value="@{social_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus1" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes1" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec1" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec1" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool1" value="@{skillattr_value1}+@{skillrating1}+@{skillbonus1}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec1" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname1}}}{{val1=@{skillattr_name1}}}{{val1_num=[[@{skillattr_value1}]]}}{{val2=@{skillname1}}}{{val2_num=[[@{skillrating1}+@{skillbonus1}]]}}{{val3=@{skillspec1}}}{{val3_num=[[(?{Specialization @{skillspec1} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name1}}}{{limit_num=[[@{skilllimit_value1}]]}}{{limit_mod=[[@{skilllimitbonus1}]]}}{{result=[[(@{skilldicepool1}+(?{Specialization @{skillspec1} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value1}]]+@{skilllimitbonus1}]]]]}}{{description=@{skillnotes1}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname1}}}{{val1=@{skillattr_name1}}}{{val1_num=[[@{skillattr_value1}]]}}{{val2=@{skillname1}}}{{val2_num=[[@{skillrating1}+@{skillbonus1}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name1}}}{{limit_num=[[@{skilllimit_value1}]]}}{{limit_mod=[[@{skilllimitbonus1}]]}}{{result=[[(@{skilldicepool1}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value1}]]+@{skilllimitbonus1}]]]]}}{{description=@{skillnotes1}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox2" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Disguise" name="attr_skillname2" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr2">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option selected value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name2" value="@{int_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value2" value="@{int_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating2" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus2" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit2">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name2" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value2" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus2" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes2" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec2" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec2" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool2" value="@{skillattr_value2}+@{skillrating2}+@{skillbonus2}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec2" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname2}}}{{val1=@{skillattr_name2}}}{{val1_num=[[@{skillattr_value2}]]}}{{val2=@{skillname2}}}{{val2_num=[[@{skillrating2}+@{skillbonus2}]]}}{{val3=@{skillspec2}}}{{val3_num=[[(?{Specialization @{skillspec2} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name2}}}{{limit_num=[[@{skilllimit_value2}]]}}{{limit_mod=[[@{skilllimitbonus2}]]}}{{result=[[(@{skilldicepool2}+(?{Specialization @{skillspec2} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value2}]]+@{skilllimitbonus2}]]]]}}{{description=@{skillnotes2}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname2}}}{{val1=@{skillattr_name2}}}{{val1_num=[[@{skillattr_value2}]]}}{{val2=@{skillname2}}}{{val2_num=[[@{skillrating2}+@{skillbonus2}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name2}}}{{limit_num=[[@{skilllimit_value2}]]}}{{limit_mod=[[@{skilllimitbonus2}]]}}{{result=[[(@{skilldicepool2}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value2}]]+@{skilllimitbonus2}]]]]}}{{description=@{skillnotes2}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox3" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Diving" name="attr_skillname3" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr3">
                        <option selected value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name3" value="@{bod_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value3" value="@{bod_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating3" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus3" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit3">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name3" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value3" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus3" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes3" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec3" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec3" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool3" value="@{skillattr_value3}+@{skillrating3}+@{skillbonus3}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec3" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname3}}}{{val1=@{skillattr_name3}}}{{val1_num=[[@{skillattr_value3}]]}}{{val2=@{skillname3}}}{{val2_num=[[@{skillrating3}+@{skillbonus3}]]}}{{val3=@{skillspec3}}}{{val3_num=[[(?{Specialization @{skillspec3} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name3}}}{{limit_num=[[@{skilllimit_value3}]]}}{{limit_mod=[[@{skilllimitbonus3}]]}}{{result=[[(@{skilldicepool3}+(?{Specialization @{skillspec3} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value3}]]+@{skilllimitbonus3}]]]]}}{{description=@{skillnotes3}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname3}}}{{val1=@{skillattr_name3}}}{{val1_num=[[@{skillattr_value3}]]}}{{val2=@{skillname3}}}{{val2_num=[[@{skillrating3}+@{skillbonus3}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name3}}}{{limit_num=[[@{skilllimit_value3}]]}}{{limit_mod=[[@{skilllimitbonus3}]]}}{{result=[[(@{skilldicepool3}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value3}]]+@{skilllimitbonus3}]]]]}}{{description=@{skillnotes3}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox4" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Escape Artist" name="attr_skillname4" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr4">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name4" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value4" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating4" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus4" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit4">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name4" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value4" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus4" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes4" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec4" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec4" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool4" value="@{skillattr_value4}+@{skillrating4}+@{skillbonus4}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec4" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname4}}}{{val1=@{skillattr_name4}}}{{val1_num=[[@{skillattr_value4}]]}}{{val2=@{skillname4}}}{{val2_num=[[@{skillrating4}+@{skillbonus4}]]}}{{val3=@{skillspec4}}}{{val3_num=[[(?{Specialization @{skillspec4} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name4}}}{{limit_num=[[@{skilllimit_value4}]]}}{{limit_mod=[[@{skilllimitbonus4}]]}}{{result=[[(@{skilldicepool4}+(?{Specialization @{skillspec4} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value4}]]+@{skilllimitbonus4}]]]]}}{{description=@{skillnotes4}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname4}}}{{val1=@{skillattr_name4}}}{{val1_num=[[@{skillattr_value4}]]}}{{val2=@{skillname4}}}{{val2_num=[[@{skillrating4}+@{skillbonus4}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name4}}}{{limit_num=[[@{skilllimit_value4}]]}}{{limit_mod=[[@{skilllimitbonus4}]]}}{{result=[[(@{skilldicepool4}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value4}]]+@{skilllimitbonus4}]]]]}}{{description=@{skillnotes4}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox5" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Free-Fall" name="attr_skillname5" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr5">
                        <option selected value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name5" value="@{bod_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value5" value="@{bod_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating5" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus5" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit5">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name5" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value5" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus5" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes5" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec5" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec5" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool5" value="@{skillattr_value5}+@{skillrating5}+@{skillbonus5}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec5" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname5}}}{{val1=@{skillattr_name5}}}{{val1_num=[[@{skillattr_value5}]]}}{{val2=@{skillname5}}}{{val2_num=[[@{skillrating5}+@{skillbonus5}]]}}{{val3=@{skillspec5}}}{{val3_num=[[(?{Specialization @{skillspec5} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name5}}}{{limit_num=[[@{skilllimit_value5}]]}}{{limit_mod=[[@{skilllimitbonus5}]]}}{{result=[[(@{skilldicepool5}+(?{Specialization @{skillspec5} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value5}]]+@{skilllimitbonus5}]]]]}}{{description=@{skillnotes5}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname5}}}{{val1=@{skillattr_name5}}}{{val1_num=[[@{skillattr_value5}]]}}{{val2=@{skillname5}}}{{val2_num=[[@{skillrating5}+@{skillbonus5}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name5}}}{{limit_num=[[@{skilllimit_value5}]]}}{{limit_mod=[[@{skilllimitbonus5}]]}}{{result=[[(@{skilldicepool5}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value5}]]+@{skilllimitbonus5}]]]]}}{{description=@{skillnotes5}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox6" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Gymnastics" name="attr_skillname6" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr6">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name6" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value6" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating6" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus6" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit6">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name6" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value6" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus6" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes6" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec6" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec6" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool6" value="@{skillattr_value6}+@{skillrating6}+@{skillbonus6}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec6" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname6}}}{{val1=@{skillattr_name6}}}{{val1_num=[[@{skillattr_value6}]]}}{{val2=@{skillname6}}}{{val2_num=[[@{skillrating6}+@{skillbonus6}]]}}{{val3=@{skillspec6}}}{{val3_num=[[(?{Specialization @{skillspec6} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name6}}}{{limit_num=[[@{skilllimit_value6}]]}}{{limit_mod=[[@{skilllimitbonus6}]]}}{{result=[[(@{skilldicepool6}+(?{Specialization @{skillspec6} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value6}]]+@{skilllimitbonus6}]]]]}}{{description=@{skillnotes6}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname6}}}{{val1=@{skillattr_name6}}}{{val1_num=[[@{skillattr_value6}]]}}{{val2=@{skillname6}}}{{val2_num=[[@{skillrating6}+@{skillbonus6}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name6}}}{{limit_num=[[@{skilllimit_value6}]]}}{{limit_mod=[[@{skilllimitbonus6}]]}}{{result=[[(@{skilldicepool6}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value6}]]+@{skilllimitbonus6}]]]]}}{{description=@{skillnotes6}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox7" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Palming" name="attr_skillname7" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr7">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name7" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value7" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating7" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus7" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit7">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name7" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value7" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus7" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes7" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec7" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec7" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool7" value="@{skillattr_value7}+@{skillrating7}+@{skillbonus7}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec7" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname7}}}{{val1=@{skillattr_name7}}}{{val1_num=[[@{skillattr_value7}]]}}{{val2=@{skillname7}}}{{val2_num=[[@{skillrating7}+@{skillbonus7}]]}}{{val3=@{skillspec7}}}{{val3_num=[[(?{Specialization @{skillspec7} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name7}}}{{limit_num=[[@{skilllimit_value7}]]}}{{limit_mod=[[@{skilllimitbonus7}]]}}{{result=[[(@{skilldicepool7}+(?{Specialization @{skillspec7} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value7}]]+@{skilllimitbonus7}]]]]}}{{description=@{skillnotes7}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname7}}}{{val1=@{skillattr_name7}}}{{val1_num=[[@{skillattr_value7}]]}}{{val2=@{skillname7}}}{{val2_num=[[@{skillrating7}+@{skillbonus7}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name7}}}{{limit_num=[[@{skilllimit_value7}]]}}{{limit_mod=[[@{skilllimitbonus7}]]}}{{result=[[(@{skilldicepool7}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value7}]]+@{skilllimitbonus7}]]]]}}{{description=@{skillnotes7}}}"></button>
                </div>
            </div>

            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox8" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div>
                    <div class="skillnamewrapper">
                        <input type="text" value="Perception" name="attr_skillname8" title="Active Skill Name" disabled>
                    </div>
                    <div class="skillattributewrapper">
                        <select name="attr_skillattr8">
                            <option value="@{bod">BOD</option>
                            <option value="@{str">STR</option>
                            <option value="@{agi">AGI</option>
                            <option value="@{rea">REA</option>
                            <option value="@{log">LOG</option>
                            <option selected value="@{int">INT</option>
                            <option value="@{cha">CHA</option>
                            <option value="@{wil">WIL</option>
                            <option value="@{mag">MAG</option>
                            <option value="@{res">RES</option>
                        </select>
                    </div>
                    <div class="hiddentextfield"><input type="text" name="attr_skillattr_name8" value="@{int_name}"></div>
                    <div class="hiddentextfield"><input type="text" name="attr_skillattr_value8" value="@{int_total}"></div>
                    <div class="skillratingwrapper">
                        <input type="text" name="attr_skillrating8" value="-1" title="Skill-Rating without Attribute">
                    </div>
                    <div class="skillbonuswrapper">
                        <input type="text" name="attr_skillbonus8" value="0" title="Bonuses from Magic or Gear">
                    </div>
                    <div class="skilllimitwrapper">
                        <select name="attr_skilllimit8">
                            <option value="@{physical">Physical</option>
                            <option selected value="@{mental">Mental</option>
                            <option value="@{social">Social</option>
                            <option value="@{astral">Astral</option>
                        </select>
                    </div>
                    <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name8" value="@{mental_name}"></div>
                    <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value8" value="@{mental_total}"></div>
                    <div class="skilllimitbonuswrapper">
                        <input type="text" name="attr_skilllimitbonus8" value="0" title="Limit-Bonuses only applying to this Skill">
                    </div>
                    <div class="skillnoteswrapper">
                        <input type="text" name="attr_skillnotes8" title="Description...">
                    </div>
                    <div class="skillspecwrapper">
                        <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec8" value="none" title="Check if Skill has Specialization">
                        <div class="checkboxticker skillspecunticked"></div>
                        <input type="text" name="attr_skillspec8" value="none" title="Name of the Specialization; input 'none' to disable.">
                    </div>
                    <div class="skilldicepoolwrapper">
                        <input type="number" name="attr_skilldicepool8" value="@{skillattr_value8}+@{skillrating8}+@{skillbonus8}" title="Base Dicepool" disabled>
                    </div>
                    <div class="skillbuttonwrapper">
                        <input type="checkbox" class="skillshowspec" name="attr_skillspec8" value="none">
                        <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname8}}}{{val1=@{skillattr_name8}}}{{val1_num=[[@{skillattr_value8}]]}}{{val2=@{skillname8}}}{{val2_num=[[@{skillrating8}+@{skillbonus8}]]}}{{val3=@{skillspec8}}}{{val3_num=[[(?{Specialization @{skillspec8} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name8}}}{{limit_num=[[@{skilllimit_value8}]]}}{{limit_mod=[[@{skilllimitbonus8}]]}}{{result=[[(@{skilldicepool8}+(?{Specialization @{skillspec8} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value8}]]+@{skilllimitbonus8}]]]]}}{{description=@{skillnotes8}}}"></button>
                        <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname8}}}{{val1=@{skillattr_name8}}}{{val1_num=[[@{skillattr_value8}]]}}{{val2=@{skillname8}}}{{val2_num=[[@{skillrating8}+@{skillbonus8}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name8}}}{{limit_num=[[@{skilllimit_value8}]]}}{{limit_mod=[[@{skilllimitbonus8}]]}}{{result=[[(@{skilldicepool8}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value8}]]+@{skilllimitbonus8}]]]]}}{{description=@{skillnotes8}}}"></button>
                    </div>
                </div>
                <div>
                    <fieldset class="repeating_perceptionusage">
                        <div class="usagerow">
                            <div class="namewrapper">
                                <input type="text" name="attr_skillname" title="Name of the special skill usage">
                            </div>
                            <div class="skillbonuswrapper">
                                <input type="text" name="attr_skillbonus" value="0" title="Bonus">
                            </div>
                            <div class="skilllimitwrapper">
                                <select name="attr_skilllimit">
                                    <option value="@{physical">Physical</option>
                                    <option selected value="@{mental">Mental</option>
                                    <option value="@{social">Social</option>
                                    <option value="@{astral">Astral</option>
                                </select>
                            </div>
                            <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name" value="@{mental_name}"></div>
                            <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value" value="@{mental_total}"></div>
                            <div class="skilllimitbonuswrapper">
                                <input type="text" name="attr_skilllimitbonus" value="0" title="Bonus to limit">
                            </div>
                            <div class="skillnoteswrapper">
                                <input type="text" name="attr_skillnotes" title="Additional Description">
                            </div>
                            <div class="skillspecwrapper">
                                <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec" value="none" title="Check if Skill has Specialization">
                                <div class="checkboxticker skillspecunticked"></div>
                                <input type="text" name="attr_skillspec" value="none" title="Name of the Specialization; input 'none' to disable.">
                            </div>
                            <div class="skilldicepoolwrapper">
                                <input type="number" name="attr_skilldicepool" value="@{skillattr_value8}+@{skillrating8}+@{skillbonus}" title="Base Dicepool" disabled>
                            </div>
                            <div class="skillbuttonwrapper">
                                <input type="checkbox" class="skillshowspec" name="attr_skillspec" value="none">
                                <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{prefix-skillname}}}{{val1=@{skillattr_name8}}}{{val1_num=[[@{skillattr_value8}]]}}{{val2=@{prefix-skillname}}}{{val2_num=[[@{skillrating8}+@{prefix-skillbonus}]]}}{{val3=@{prefix-skillspec}}}{{val3_num=[[(?{Specialization @{prefix-skillspec} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{prefix-skilllimit_name}}}{{limit_num=[[@{prefix-skilllimit_value}]]}}{{limit_mod=[[@{prefix-skilllimitbonus}]]}}{{result=[[(@{prefix-skilldicepool}+(?{Specialization @{prefix-skillspec} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{prefix-skilllimit_value}]]+@{prefix-skilllimitbonus}]]]]}}{{description=@{prefix-skillnotes}}}"></button>
                                <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{prefix-skillname}}}{{val1=@{skillattr_name8}}}{{val1_num=[[@{skillattr_value8}]]}}{{val2=@{prefix-skillname}}}{{val2_num=[[@{skillrating8}+@{prefix-skillbonus}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{prefix-skilllimit_name}}}{{limit_num=[[@{prefix-skilllimit_value}]]}}{{limit_mod=[[@{prefix-skilllimitbonus}]]}}{{result=[[(@{prefix-skilldicepool}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{prefix-skilllimit_value}]]+@{prefix-skilllimitbonus}]]]]}}{{description=@{prefix-skillnotes}}}"></button>
                            </div>
                        </div>
                    </fieldset>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox9" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Running" name="attr_skillname9" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr9">
                        <option value="@{bod">BOD</option>
                        <option selected value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name9" value="@{str_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value9" value="@{str_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating9" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus9" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit9">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name9" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value9" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus9" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes9" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec9" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec9" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool9" value="@{skillattr_value9}+@{skillrating9}+@{skillbonus9}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec9" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname9}}}{{val1=@{skillattr_name9}}}{{val1_num=[[@{skillattr_value9}]]}}{{val2=@{skillname9}}}{{val2_num=[[@{skillrating9}+@{skillbonus9}]]}}{{val3=@{skillspec9}}}{{val3_num=[[(?{Specialization @{skillspec9} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name9}}}{{limit_num=[[@{skilllimit_value9}]]}}{{limit_mod=[[@{skilllimitbonus9}]]}}{{result=[[(@{skilldicepool9}+(?{Specialization @{skillspec9} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value9}]]+@{skilllimitbonus9}]]]]}}{{description=@{skillnotes9}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname9}}}{{val1=@{skillattr_name9}}}{{val1_num=[[@{skillattr_value9}]]}}{{val2=@{skillname9}}}{{val2_num=[[@{skillrating9}+@{skillbonus9}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name9}}}{{limit_num=[[@{skilllimit_value9}]]}}{{limit_mod=[[@{skilllimitbonus9}]]}}{{result=[[(@{skilldicepool9}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value9}]]+@{skilllimitbonus9}]]]]}}{{description=@{skillnotes9}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox10" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Sneaking" name="attr_skillname10" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr10">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name10" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value10" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating10" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus10" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit10">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name10" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value10" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus10" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes10" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec10" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec10" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool10" value="@{skillattr_value10}+@{skillrating10}+@{skillbonus10}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec10" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname10}}}{{val1=@{skillattr_name10}}}{{val1_num=[[@{skillattr_value10}]]}}{{val2=@{skillname10}}}{{val2_num=[[@{skillrating10}+@{skillbonus10}]]}}{{val3=@{skillspec10}}}{{val3_num=[[(?{Specialization @{skillspec10} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name10}}}{{limit_num=[[@{skilllimit_value10}]]}}{{limit_mod=[[@{skilllimitbonus10}]]}}{{result=[[(@{skilldicepool10}+(?{Specialization @{skillspec10} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value10}]]+@{skilllimitbonus10}]]]]}}{{description=@{skillnotes10}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname10}}}{{val1=@{skillattr_name10}}}{{val1_num=[[@{skillattr_value10}]]}}{{val2=@{skillname10}}}{{val2_num=[[@{skillrating10}+@{skillbonus10}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name10}}}{{limit_num=[[@{skilllimit_value10}]]}}{{limit_mod=[[@{skilllimitbonus10}]]}}{{result=[[(@{skilldicepool10}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value10}]]+@{skilllimitbonus10}]]]]}}{{description=@{skillnotes10}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox11" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Survival" name="attr_skillname11" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr11">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option selected value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name11" value="@{wil_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value11" value="@{wil_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating11" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus11" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit11">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name11" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value11" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus11" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes11" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec11" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec11" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool11" value="@{skillattr_value11}+@{skillrating11}+@{skillbonus11}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec11" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname11}}}{{val1=@{skillattr_name11}}}{{val1_num=[[@{skillattr_value11}]]}}{{val2=@{skillname11}}}{{val2_num=[[@{skillrating11}+@{skillbonus11}]]}}{{val3=@{skillspec11}}}{{val3_num=[[(?{Specialization @{skillspec11} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name11}}}{{limit_num=[[@{skilllimit_value11}]]}}{{limit_mod=[[@{skilllimitbonus11}]]}}{{result=[[(@{skilldicepool11}+(?{Specialization @{skillspec11} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value11}]]+@{skilllimitbonus11}]]]]}}{{description=@{skillnotes11}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname11}}}{{val1=@{skillattr_name11}}}{{val1_num=[[@{skillattr_value11}]]}}{{val2=@{skillname11}}}{{val2_num=[[@{skillrating11}+@{skillbonus11}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name11}}}{{limit_num=[[@{skilllimit_value11}]]}}{{limit_mod=[[@{skilllimitbonus11}]]}}{{result=[[(@{skilldicepool11}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value11}]]+@{skilllimitbonus11}]]]]}}{{description=@{skillnotes11}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox12" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Swimming" name="attr_skillname12" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr12">
                        <option value="@{bod">BOD</option>
                        <option selected value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name12" value="@{str_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value12" value="@{str_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating12" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus12" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit12">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name12" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value12" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus12" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes12" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec12" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec12" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool12" value="@{skillattr_value12}+@{skillrating12}+@{skillbonus12}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec12" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname12}}}{{val1=@{skillattr_name12}}}{{val1_num=[[@{skillattr_value12}]]}}{{val2=@{skillname12}}}{{val2_num=[[@{skillrating12}+@{skillbonus12}]]}}{{val3=@{skillspec12}}}{{val3_num=[[(?{Specialization @{skillspec12} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name12}}}{{limit_num=[[@{skilllimit_value12}]]}}{{limit_mod=[[@{skilllimitbonus12}]]}}{{result=[[(@{skilldicepool12}+(?{Specialization @{skillspec12} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value12}]]+@{skilllimitbonus12}]]]]}}{{description=@{skillnotes12}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname12}}}{{val1=@{skillattr_name12}}}{{val1_num=[[@{skillattr_value12}]]}}{{val2=@{skillname12}}}{{val2_num=[[@{skillrating12}+@{skillbonus12}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name12}}}{{limit_num=[[@{skilllimit_value12}]]}}{{limit_mod=[[@{skilllimitbonus12}]]}}{{result=[[(@{skilldicepool12}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value12}]]+@{skilllimitbonus12}]]]]}}{{description=@{skillnotes12}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox13" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Tracking" name="attr_skillname13" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr13">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option selected value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name13" value="@{int_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value13" value="@{int_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating13" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus13" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit13">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name13" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value13" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus13" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes13" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec13" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec13" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool13" value="@{skillattr_value13}+@{skillrating13}+@{skillbonus13}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec13" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname13}}}{{val1=@{skillattr_name13}}}{{val1_num=[[@{skillattr_value13}]]}}{{val2=@{skillname13}}}{{val2_num=[[@{skillrating13}+@{skillbonus13}]]}}{{val3=@{skillspec13}}}{{val3_num=[[(?{Specialization @{skillspec13} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name13}}}{{limit_num=[[@{skilllimit_value13}]]}}{{limit_mod=[[@{skilllimitbonus13}]]}}{{result=[[(@{skilldicepool13}+(?{Specialization @{skillspec13} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value13}]]+@{skilllimitbonus13}]]]]}}{{description=@{skillnotes13}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname13}}}{{val1=@{skillattr_name13}}}{{val1_num=[[@{skillattr_value13}]]}}{{val2=@{skillname13}}}{{val2_num=[[@{skillrating13}+@{skillbonus13}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name13}}}{{limit_num=[[@{skilllimit_value13}]]}}{{limit_mod=[[@{skilllimitbonus13}]]}}{{result=[[(@{skilldicepool13}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value13}]]+@{skilllimitbonus13}]]]]}}{{description=@{skillnotes13}}}"></button>
                </div>
            </div>
            <div class="skillspacer"> </div>
            <h3>Social Skills</h3>
            <div class="topbuttonwrapper">
                <input type="checkbox" class="skillshowallcheckbox" name="attr_skillshowallcheckbox2">
                <div class="topbuttonlabel">Show All</div>
                <input type="checkbox" class="skillshowallcheckbox" name="attr_skillhideunusedcheckbox2">
                <div class="topbuttonlabel">Hide Unused</div>
            </div>
            <div class="skillspacer"> </div>
            <input type="checkbox" name="attr_skillhideheader2" class="skillhideheadercheckbox">
            <div class="skillrow">
                <div class="skillhidelabel">
                    <label class="skilllabel">Hide</label>
                </div>
                <div class="skillnamewrapper">
                    <label class="skilllabel">Active Skill</label>
                </div>
                <div class="skillattributewrapper">
                    <label class="skilllabel">Attribute</label>
                </div>
                <div class="skillratingwrapper">
                    <label class="skilllabel">Rating</label>
                </div>
                <div class="skillbonuswrapper">
                    <label class="skilllabel">Bonus</label>
                </div>
                <div class="skilllimitwrapper">
                    <label class="skilllabel">Limit</label>
                </div>
                <div class="skilllimitbonuswrapper">
                    <label class="skilllabel">Limit-Mod</label>
                </div>
                <div class="skillnoteswrapper">
                    <label class="skilllabel">Description</label>
                </div>
                <div class="skillspecwrapper">
                    <label class="skilllabel">Specialization</label>
                </div>
                <div class="skilldicepoolwrapper">
                    <label class="skilllabel">Dice</label>
                </div>
                <div class="skillbuttonwrapper">
                    <label class="skilllabel">Roll</label>
                </div>
            </div>
            <div class="skillspacer"> </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox14" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Con" name="attr_skillname14" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr14">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option selected value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name14" value="@{cha_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value14" value="@{cha_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating14" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus14" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit14">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option selected value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name14" value="@{social_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value14" value="@{social_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus14" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes14" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec14" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec14" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool14" value="@{skillattr_value14}+@{skillrating14}+@{skillbonus14}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec14" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname14}}}{{val1=@{skillattr_name14}}}{{val1_num=[[@{skillattr_value14}]]}}{{val2=@{skillname14}}}{{val2_num=[[@{skillrating14}+@{skillbonus14}]]}}{{val3=@{skillspec14}}}{{val3_num=[[(?{Specialization @{skillspec14} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name14}}}{{limit_num=[[@{skilllimit_value14}]]}}{{limit_mod=[[@{skilllimitbonus14}]]}}{{result=[[(@{skilldicepool14}+(?{Specialization @{skillspec14} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value14}]]+@{skilllimitbonus14}]]]]}}{{description=@{skillnotes14}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname14}}}{{val1=@{skillattr_name14}}}{{val1_num=[[@{skillattr_value14}]]}}{{val2=@{skillname14}}}{{val2_num=[[@{skillrating14}+@{skillbonus14}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name14}}}{{limit_num=[[@{skilllimit_value14}]]}}{{limit_mod=[[@{skilllimitbonus14}]]}}{{result=[[(@{skilldicepool14}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value14}]]+@{skilllimitbonus14}]]]]}}{{description=@{skillnotes14}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox15" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Etiquette" name="attr_skillname15" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr15">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option selected value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name15" value="@{cha_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value15" value="@{cha_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating15" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus15" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit15">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option selected value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name15" value="@{social_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value15" value="@{social_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus15" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes15" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec15" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec15" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool15" value="@{skillattr_value15}+@{skillrating15}+@{skillbonus15}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec15" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname15}}}{{val1=@{skillattr_name15}}}{{val1_num=[[@{skillattr_value15}]]}}{{val2=@{skillname15}}}{{val2_num=[[@{skillrating15}+@{skillbonus15}]]}}{{val3=@{skillspec15}}}{{val3_num=[[(?{Specialization @{skillspec15} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name15}}}{{limit_num=[[@{skilllimit_value15}]]}}{{limit_mod=[[@{skilllimitbonus15}]]}}{{result=[[(@{skilldicepool15}+(?{Specialization @{skillspec15} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value15}]]+@{skilllimitbonus15}]]]]}}{{description=@{skillnotes15}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname15}}}{{val1=@{skillattr_name15}}}{{val1_num=[[@{skillattr_value15}]]}}{{val2=@{skillname15}}}{{val2_num=[[@{skillrating15}+@{skillbonus15}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name15}}}{{limit_num=[[@{skilllimit_value15}]]}}{{limit_mod=[[@{skilllimitbonus15}]]}}{{result=[[(@{skilldicepool15}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value15}]]+@{skilllimitbonus15}]]]]}}{{description=@{skillnotes15}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox16" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Impersonation" name="attr_skillname16" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr16">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option selected value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name16" value="@{cha_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value16" value="@{cha_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating16" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus16" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit16">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option selected value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name16" value="@{social_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value16" value="@{social_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus16" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes16" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec16" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec16" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool16" value="@{skillattr_value16}+@{skillrating16}+@{skillbonus16}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec16" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname16}}}{{val1=@{skillattr_name16}}}{{val1_num=[[@{skillattr_value16}]]}}{{val2=@{skillname16}}}{{val2_num=[[@{skillrating16}+@{skillbonus16}]]}}{{val3=@{skillspec16}}}{{val3_num=[[(?{Specialization @{skillspec16} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name16}}}{{limit_num=[[@{skilllimit_value16}]]}}{{limit_mod=[[@{skilllimitbonus16}]]}}{{result=[[(@{skilldicepool16}+(?{Specialization @{skillspec16} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value16}]]+@{skilllimitbonus16}]]]]}}{{description=@{skillnotes16}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname16}}}{{val1=@{skillattr_name16}}}{{val1_num=[[@{skillattr_value16}]]}}{{val2=@{skillname16}}}{{val2_num=[[@{skillrating16}+@{skillbonus16}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name16}}}{{limit_num=[[@{skilllimit_value16}]]}}{{limit_mod=[[@{skilllimitbonus16}]]}}{{result=[[(@{skilldicepool16}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value16}]]+@{skilllimitbonus16}]]]]}}{{description=@{skillnotes16}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox17" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Instruction" name="attr_skillname17" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr17">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option selected value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name17" value="@{cha_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value17" value="@{cha_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating17" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus17" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit17">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option selected value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name17" value="@{social_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value17" value="@{social_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus17" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes17" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec17" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec17" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool17" value="@{skillattr_value17}+@{skillrating17}+@{skillbonus17}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec17" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname17}}}{{val1=@{skillattr_name17}}}{{val1_num=[[@{skillattr_value17}]]}}{{val2=@{skillname17}}}{{val2_num=[[@{skillrating17}+@{skillbonus17}]]}}{{val3=@{skillspec17}}}{{val3_num=[[(?{Specialization @{skillspec17} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name17}}}{{limit_num=[[@{skilllimit_value17}]]}}{{limit_mod=[[@{skilllimitbonus17}]]}}{{result=[[(@{skilldicepool17}+(?{Specialization @{skillspec17} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value17}]]+@{skilllimitbonus17}]]]]}}{{description=@{skillnotes17}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname17}}}{{val1=@{skillattr_name17}}}{{val1_num=[[@{skillattr_value17}]]}}{{val2=@{skillname17}}}{{val2_num=[[@{skillrating17}+@{skillbonus17}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name17}}}{{limit_num=[[@{skilllimit_value17}]]}}{{limit_mod=[[@{skilllimitbonus17}]]}}{{result=[[(@{skilldicepool17}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value17}]]+@{skilllimitbonus17}]]]]}}{{description=@{skillnotes17}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox18" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Intimidation" name="attr_skillname18" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr18">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option selected value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name18" value="@{cha_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value18" value="@{cha_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating18" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus18" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit18">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option selected value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name18" value="@{social_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value18" value="@{social_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus18" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes18" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec18" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec18" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool18" value="@{skillattr_value18}+@{skillrating18}+@{skillbonus18}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec18" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname18}}}{{val1=@{skillattr_name18}}}{{val1_num=[[@{skillattr_value18}]]}}{{val2=@{skillname18}}}{{val2_num=[[@{skillrating18}+@{skillbonus18}]]}}{{val3=@{skillspec18}}}{{val3_num=[[(?{Specialization @{skillspec18} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name18}}}{{limit_num=[[@{skilllimit_value18}]]}}{{limit_mod=[[@{skilllimitbonus18}]]}}{{result=[[(@{skilldicepool18}+(?{Specialization @{skillspec18} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value18}]]+@{skilllimitbonus18}]]]]}}{{description=@{skillnotes18}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname18}}}{{val1=@{skillattr_name18}}}{{val1_num=[[@{skillattr_value18}]]}}{{val2=@{skillname18}}}{{val2_num=[[@{skillrating18}+@{skillbonus18}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name18}}}{{limit_num=[[@{skilllimit_value18}]]}}{{limit_mod=[[@{skilllimitbonus18}]]}}{{result=[[(@{skilldicepool18}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value18}]]+@{skilllimitbonus18}]]]]}}{{description=@{skillnotes18}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox19" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Leadership" name="attr_skillname19" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr19">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option selected value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name19" value="@{cha_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value19" value="@{cha_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating19" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus19" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit19">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option selected value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name19" value="@{social_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value19" value="@{social_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus19" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes19" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec19" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec19" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool19" value="@{skillattr_value19}+@{skillrating19}+@{skillbonus19}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec19" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname19}}}{{val1=@{skillattr_name19}}}{{val1_num=[[@{skillattr_value19}]]}}{{val2=@{skillname19}}}{{val2_num=[[@{skillrating19}+@{skillbonus19}]]}}{{val3=@{skillspec19}}}{{val3_num=[[(?{Specialization @{skillspec19} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name19}}}{{limit_num=[[@{skilllimit_value19}]]}}{{limit_mod=[[@{skilllimitbonus19}]]}}{{result=[[(@{skilldicepool19}+(?{Specialization @{skillspec19} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value19}]]+@{skilllimitbonus19}]]]]}}{{description=@{skillnotes19}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname19}}}{{val1=@{skillattr_name19}}}{{val1_num=[[@{skillattr_value19}]]}}{{val2=@{skillname19}}}{{val2_num=[[@{skillrating19}+@{skillbonus19}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name19}}}{{limit_num=[[@{skilllimit_value19}]]}}{{limit_mod=[[@{skilllimitbonus19}]]}}{{result=[[(@{skilldicepool19}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value19}]]+@{skilllimitbonus19}]]]]}}{{description=@{skillnotes19}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox20" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Negotiation" name="attr_skillname20" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr20">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option selected value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name20" value="@{cha_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value20" value="@{cha_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating20" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus20" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit20">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option selected value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name20" value="@{social_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value20" value="@{social_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus20" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes20" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec20" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec20" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool20" value="@{skillattr_value20}+@{skillrating20}+@{skillbonus20}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec20" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname20}}}{{val1=@{skillattr_name20}}}{{val1_num=[[@{skillattr_value20}]]}}{{val2=@{skillname20}}}{{val2_num=[[@{skillrating20}+@{skillbonus20}]]}}{{val3=@{skillspec20}}}{{val3_num=[[(?{Specialization @{skillspec20} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name20}}}{{limit_num=[[@{skilllimit_value20}]]}}{{limit_mod=[[@{skilllimitbonus20}]]}}{{result=[[(@{skilldicepool20}+(?{Specialization @{skillspec20} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value20}]]+@{skilllimitbonus20}]]]]}}{{description=@{skillnotes20}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname20}}}{{val1=@{skillattr_name20}}}{{val1_num=[[@{skillattr_value20}]]}}{{val2=@{skillname20}}}{{val2_num=[[@{skillrating20}+@{skillbonus20}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name20}}}{{limit_num=[[@{skilllimit_value20}]]}}{{limit_mod=[[@{skilllimitbonus20}]]}}{{result=[[(@{skilldicepool20}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value20}]]+@{skilllimitbonus20}]]]]}}{{description=@{skillnotes20}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox21" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Performance" name="attr_skillname21" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr21">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option selected value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name21" value="@{cha_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value21" value="@{cha_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating21" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus21" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit21">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option selected value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name21" value="@{social_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value21" value="@{social_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus21" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes21" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec21" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec21" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool21" value="@{skillattr_value21}+@{skillrating21}+@{skillbonus21}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec21" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname21}}}{{val1=@{skillattr_name21}}}{{val1_num=[[@{skillattr_value21}]]}}{{val2=@{skillname21}}}{{val2_num=[[@{skillrating21}+@{skillbonus21}]]}}{{val3=@{skillspec21}}}{{val3_num=[[(?{Specialization @{skillspec21} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name21}}}{{limit_num=[[@{skilllimit_value21}]]}}{{limit_mod=[[@{skilllimitbonus21}]]}}{{result=[[(@{skilldicepool21}+(?{Specialization @{skillspec21} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value21}]]+@{skilllimitbonus21}]]]]}}{{description=@{skillnotes21}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname21}}}{{val1=@{skillattr_name21}}}{{val1_num=[[@{skillattr_value21}]]}}{{val2=@{skillname21}}}{{val2_num=[[@{skillrating21}+@{skillbonus21}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name21}}}{{limit_num=[[@{skilllimit_value21}]]}}{{limit_mod=[[@{skilllimitbonus21}]]}}{{result=[[(@{skilldicepool21}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value21}]]+@{skilllimitbonus21}]]]]}}{{description=@{skillnotes21}}}"></button>
                </div>
            </div>
            <div class="skillspacer"> </div>
            <h3>Engineering Skills</h3>
            <div class="topbuttonwrapper">
                <input type="checkbox" class="skillshowallcheckbox" name="attr_skillshowallcheckbox3">
                <div class="topbuttonlabel">Show All</div>
                <input type="checkbox" class="skillshowallcheckbox" name="attr_skillhideunusedcheckbox3">
                <div class="topbuttonlabel">Hide Unused</div>
            </div>
            <div class="skillspacer"> </div>
            <input type="checkbox" name="attr_skillhideheader3" class="skillhideheadercheckbox">
            <div class="skillrow">
                <div class="skillhidelabel">
                    <label class="skilllabel">Hide</label>
                </div>
                <div class="skillnamewrapper">
                    <label class="skilllabel">Active Skill</label>
                </div>
                <div class="skillattributewrapper">
                    <label class="skilllabel">Attribute</label>
                </div>
                <div class="skillratingwrapper">
                    <label class="skilllabel">Rating</label>
                </div>
                <div class="skillbonuswrapper">
                    <label class="skilllabel">Bonus</label>
                </div>
                <div class="skilllimitwrapper">
                    <label class="skilllabel">Limit</label>
                </div>
                <div class="skilllimitbonuswrapper">
                    <label class="skilllabel">Limit-Mod</label>
                </div>
                <div class="skillnoteswrapper">
                    <label class="skilllabel">Description</label>
                </div>
                <div class="skillspecwrapper">
                    <label class="skilllabel">Specialization</label>
                </div>
                <div class="skilldicepoolwrapper">
                    <label class="skilllabel">Dice</label>
                </div>
                <div class="skillbuttonwrapper">
                    <label class="skilllabel">Roll</label>
                </div>
            </div>
            <div class="skillspacer"> </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox22" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Aeronautics Mechanic" name="attr_skillname22" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr22">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name22" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value22" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating22" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus22" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit22">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name22" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value22" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus22" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes22" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec22" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec22" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool22" value="@{skillattr_value22}+@{skillrating22}+@{skillbonus22}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec22" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname22}}}{{val1=@{skillattr_name22}}}{{val1_num=[[@{skillattr_value22}]]}}{{val2=@{skillname22}}}{{val2_num=[[@{skillrating22}+@{skillbonus22}]]}}{{val3=@{skillspec22}}}{{val3_num=[[(?{Specialization @{skillspec22} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name22}}}{{limit_num=[[@{skilllimit_value22}]]}}{{limit_mod=[[@{skilllimitbonus22}]]}}{{result=[[(@{skilldicepool22}+(?{Specialization @{skillspec22} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value22}]]+@{skilllimitbonus22}]]]]}}{{description=@{skillnotes22}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname22}}}{{val1=@{skillattr_name22}}}{{val1_num=[[@{skillattr_value22}]]}}{{val2=@{skillname22}}}{{val2_num=[[@{skillrating22}+@{skillbonus22}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name22}}}{{limit_num=[[@{skilllimit_value22}]]}}{{limit_mod=[[@{skilllimitbonus22}]]}}{{result=[[(@{skilldicepool22}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value22}]]+@{skilllimitbonus22}]]]]}}{{description=@{skillnotes22}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox23" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Armorer" name="attr_skillname23" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr23">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name23" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value23" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating23" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus23" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit23">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name23" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value23" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus23" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes23" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec23" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec23" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool23" value="@{skillattr_value23}+@{skillrating23}+@{skillbonus23}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec23" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname23}}}{{val1=@{skillattr_name23}}}{{val1_num=[[@{skillattr_value23}]]}}{{val2=@{skillname23}}}{{val2_num=[[@{skillrating23}+@{skillbonus23}]]}}{{val3=@{skillspec23}}}{{val3_num=[[(?{Specialization @{skillspec23} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name23}}}{{limit_num=[[@{skilllimit_value23}]]}}{{limit_mod=[[@{skilllimitbonus23}]]}}{{result=[[(@{skilldicepool23}+(?{Specialization @{skillspec23} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value23}]]+@{skilllimitbonus23}]]]]}}{{description=@{skillnotes23}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname23}}}{{val1=@{skillattr_name23}}}{{val1_num=[[@{skillattr_value23}]]}}{{val2=@{skillname23}}}{{val2_num=[[@{skillrating23}+@{skillbonus23}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name23}}}{{limit_num=[[@{skilllimit_value23}]]}}{{limit_mod=[[@{skilllimitbonus23}]]}}{{result=[[(@{skilldicepool23}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value23}]]+@{skilllimitbonus23}]]]]}}{{description=@{skillnotes23}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox24" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Artisan" name="attr_skillname24" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr24">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option selected value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name24" value="@{int_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value24" value="@{int_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating24" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus24" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit24">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name24" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value24" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus24" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes24" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec24" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec24" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool24" value="@{skillattr_value24}+@{skillrating24}+@{skillbonus24}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec24" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname24}}}{{val1=@{skillattr_name24}}}{{val1_num=[[@{skillattr_value24}]]}}{{val2=@{skillname24}}}{{val2_num=[[@{skillrating24}+@{skillbonus24}]]}}{{val3=@{skillspec24}}}{{val3_num=[[(?{Specialization @{skillspec24} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name24}}}{{limit_num=[[@{skilllimit_value24}]]}}{{limit_mod=[[@{skilllimitbonus24}]]}}{{result=[[(@{skilldicepool24}+(?{Specialization @{skillspec24} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value24}]]+@{skilllimitbonus24}]]]]}}{{description=@{skillnotes24}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname24}}}{{val1=@{skillattr_name24}}}{{val1_num=[[@{skillattr_value24}]]}}{{val2=@{skillname24}}}{{val2_num=[[@{skillrating24}+@{skillbonus24}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name24}}}{{limit_num=[[@{skilllimit_value24}]]}}{{limit_mod=[[@{skilllimitbonus24}]]}}{{result=[[(@{skilldicepool24}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value24}]]+@{skilllimitbonus24}]]]]}}{{description=@{skillnotes24}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox25" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Automotive Mechanic" name="attr_skillname25" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr25">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name25" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value25" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating25" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus25" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit25">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name25" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value25" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus25" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes25" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec25" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec25" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool25" value="@{skillattr_value25}+@{skillrating25}+@{skillbonus25}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec25" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname25}}}{{val1=@{skillattr_name25}}}{{val1_num=[[@{skillattr_value25}]]}}{{val2=@{skillname25}}}{{val2_num=[[@{skillrating25}+@{skillbonus25}]]}}{{val3=@{skillspec25}}}{{val3_num=[[(?{Specialization @{skillspec25} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name25}}}{{limit_num=[[@{skilllimit_value25}]]}}{{limit_mod=[[@{skilllimitbonus25}]]}}{{result=[[(@{skilldicepool25}+(?{Specialization @{skillspec25} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value25}]]+@{skilllimitbonus25}]]]]}}{{description=@{skillnotes25}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname25}}}{{val1=@{skillattr_name25}}}{{val1_num=[[@{skillattr_value25}]]}}{{val2=@{skillname25}}}{{val2_num=[[@{skillrating25}+@{skillbonus25}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name25}}}{{limit_num=[[@{skilllimit_value25}]]}}{{limit_mod=[[@{skilllimitbonus25}]]}}{{result=[[(@{skilldicepool25}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value25}]]+@{skilllimitbonus25}]]]]}}{{description=@{skillnotes25}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox26" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Demolitions" name="attr_skillname26" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr26">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name26" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value26" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating26" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus26" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit26">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name26" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value26" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus26" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes26" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec26" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec26" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool26" value="@{skillattr_value26}+@{skillrating26}+@{skillbonus26}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec26" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname26}}}{{val1=@{skillattr_name26}}}{{val1_num=[[@{skillattr_value26}]]}}{{val2=@{skillname26}}}{{val2_num=[[@{skillrating26}+@{skillbonus26}]]}}{{val3=@{skillspec26}}}{{val3_num=[[(?{Specialization @{skillspec26} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name26}}}{{limit_num=[[@{skilllimit_value26}]]}}{{limit_mod=[[@{skilllimitbonus26}]]}}{{result=[[(@{skilldicepool26}+(?{Specialization @{skillspec26} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value26}]]+@{skilllimitbonus26}]]]]}}{{description=@{skillnotes26}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname26}}}{{val1=@{skillattr_name26}}}{{val1_num=[[@{skillattr_value26}]]}}{{val2=@{skillname26}}}{{val2_num=[[@{skillrating26}+@{skillbonus26}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name26}}}{{limit_num=[[@{skilllimit_value26}]]}}{{limit_mod=[[@{skilllimitbonus26}]]}}{{result=[[(@{skilldicepool26}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value26}]]+@{skilllimitbonus26}]]]]}}{{description=@{skillnotes26}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox27" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Hardware" name="attr_skillname27" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr27">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name27" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value27" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating27" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus27" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit27">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name27" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value27" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus27" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes27" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec27" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec27" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool27" value="@{skillattr_value27}+@{skillrating27}+@{skillbonus27}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec27" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname27}}}{{val1=@{skillattr_name27}}}{{val1_num=[[@{skillattr_value27}]]}}{{val2=@{skillname27}}}{{val2_num=[[@{skillrating27}+@{skillbonus27}]]}}{{val3=@{skillspec27}}}{{val3_num=[[(?{Specialization @{skillspec27} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name27}}}{{limit_num=[[@{skilllimit_value27}]]}}{{limit_mod=[[@{skilllimitbonus27}]]}}{{result=[[(@{skilldicepool27}+(?{Specialization @{skillspec27} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value27}]]+@{skilllimitbonus27}]]]]}}{{description=@{skillnotes27}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname27}}}{{val1=@{skillattr_name27}}}{{val1_num=[[@{skillattr_value27}]]}}{{val2=@{skillname27}}}{{val2_num=[[@{skillrating27}+@{skillbonus27}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name27}}}{{limit_num=[[@{skilllimit_value27}]]}}{{limit_mod=[[@{skilllimitbonus27}]]}}{{result=[[(@{skilldicepool27}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value27}]]+@{skilllimitbonus27}]]]]}}{{description=@{skillnotes27}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox28" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Industrial Mechanic" name="attr_skillname28" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr28">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name28" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value28" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating28" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus28" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit28">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name28" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value28" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus28" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes28" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec28" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec28" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool28" value="@{skillattr_value28}+@{skillrating28}+@{skillbonus28}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec28" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname28}}}{{val1=@{skillattr_name28}}}{{val1_num=[[@{skillattr_value28}]]}}{{val2=@{skillname28}}}{{val2_num=[[@{skillrating28}+@{skillbonus28}]]}}{{val3=@{skillspec28}}}{{val3_num=[[(?{Specialization @{skillspec28} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name28}}}{{limit_num=[[@{skilllimit_value28}]]}}{{limit_mod=[[@{skilllimitbonus28}]]}}{{result=[[(@{skilldicepool28}+(?{Specialization @{skillspec28} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value28}]]+@{skilllimitbonus28}]]]]}}{{description=@{skillnotes28}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname28}}}{{val1=@{skillattr_name28}}}{{val1_num=[[@{skillattr_value28}]]}}{{val2=@{skillname28}}}{{val2_num=[[@{skillrating28}+@{skillbonus28}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name28}}}{{limit_num=[[@{skilllimit_value28}]]}}{{limit_mod=[[@{skilllimitbonus28}]]}}{{result=[[(@{skilldicepool28}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value28}]]+@{skilllimitbonus28}]]]]}}{{description=@{skillnotes28}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox29" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Lockpicking" name="attr_skillname29" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr29">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name29" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value29" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating29" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus29" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit29">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name29" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value29" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus29" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes29" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec29" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec29" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool29" value="@{skillattr_value29}+@{skillrating29}+@{skillbonus29}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec29" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname29}}}{{val1=@{skillattr_name29}}}{{val1_num=[[@{skillattr_value29}]]}}{{val2=@{skillname29}}}{{val2_num=[[@{skillrating29}+@{skillbonus29}]]}}{{val3=@{skillspec29}}}{{val3_num=[[(?{Specialization @{skillspec29} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name29}}}{{limit_num=[[@{skilllimit_value29}]]}}{{limit_mod=[[@{skilllimitbonus29}]]}}{{result=[[(@{skilldicepool29}+(?{Specialization @{skillspec29} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value29}]]+@{skilllimitbonus29}]]]]}}{{description=@{skillnotes29}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname29}}}{{val1=@{skillattr_name29}}}{{val1_num=[[@{skillattr_value29}]]}}{{val2=@{skillname29}}}{{val2_num=[[@{skillrating29}+@{skillbonus29}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name29}}}{{limit_num=[[@{skilllimit_value29}]]}}{{limit_mod=[[@{skilllimitbonus29}]]}}{{result=[[(@{skilldicepool29}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value29}]]+@{skilllimitbonus29}]]]]}}{{description=@{skillnotes29}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox30" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Nautical Mechanic" name="attr_skillname30" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr30">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name30" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value30" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating30" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus30" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit30">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name30" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value30" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus30" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes30" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec30" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec30" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool30" value="@{skillattr_value30}+@{skillrating30}+@{skillbonus30}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec30" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname30}}}{{val1=@{skillattr_name30}}}{{val1_num=[[@{skillattr_value30}]]}}{{val2=@{skillname30}}}{{val2_num=[[@{skillrating30}+@{skillbonus30}]]}}{{val3=@{skillspec30}}}{{val3_num=[[(?{Specialization @{skillspec30} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name30}}}{{limit_num=[[@{skilllimit_value30}]]}}{{limit_mod=[[@{skilllimitbonus30}]]}}{{result=[[(@{skilldicepool30}+(?{Specialization @{skillspec30} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value30}]]+@{skilllimitbonus30}]]]]}}{{description=@{skillnotes30}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname30}}}{{val1=@{skillattr_name30}}}{{val1_num=[[@{skillattr_value30}]]}}{{val2=@{skillname30}}}{{val2_num=[[@{skillrating30}+@{skillbonus30}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name30}}}{{limit_num=[[@{skilllimit_value30}]]}}{{limit_mod=[[@{skilllimitbonus30}]]}}{{result=[[(@{skilldicepool30}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value30}]]+@{skilllimitbonus30}]]]]}}{{description=@{skillnotes30}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox31" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Navigation" name="attr_skillname31" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr31">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option selected value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name31" value="@{int_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value31" value="@{int_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating31" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus31" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit31">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name31" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value31" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus31" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes31" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec31" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec31" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool31" value="@{skillattr_value31}+@{skillrating31}+@{skillbonus31}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec31" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname31}}}{{val1=@{skillattr_name31}}}{{val1_num=[[@{skillattr_value31}]]}}{{val2=@{skillname31}}}{{val2_num=[[@{skillrating31}+@{skillbonus31}]]}}{{val3=@{skillspec31}}}{{val3_num=[[(?{Specialization @{skillspec31} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name31}}}{{limit_num=[[@{skilllimit_value31}]]}}{{limit_mod=[[@{skilllimitbonus31}]]}}{{result=[[(@{skilldicepool31}+(?{Specialization @{skillspec31} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value31}]]+@{skilllimitbonus31}]]]]}}{{description=@{skillnotes31}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname31}}}{{val1=@{skillattr_name31}}}{{val1_num=[[@{skillattr_value31}]]}}{{val2=@{skillname31}}}{{val2_num=[[@{skillrating31}+@{skillbonus31}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name31}}}{{limit_num=[[@{skilllimit_value31}]]}}{{limit_mod=[[@{skilllimitbonus31}]]}}{{result=[[(@{skilldicepool31}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value31}]]+@{skilllimitbonus31}]]]]}}{{description=@{skillnotes31}}}"></button>
                </div>
            </div>
            <div class="skillspacer"> </div>
            <h3>Scientific Skills</h3>
            <div class="topbuttonwrapper">
                <input type="checkbox" class="skillshowallcheckbox" name="attr_skillshowallcheckbox4">
                <div class="topbuttonlabel">Show All</div>
                <input type="checkbox" class="skillshowallcheckbox" name="attr_skillhideunusedcheckbox4">
                <div class="topbuttonlabel">Hide Unused</div>
            </div>
            <div class="skillspacer"> </div>
            <input type="checkbox" name="attr_skillhideheader4" class="skillhideheadercheckbox">
            <div class="skillrow">
                <div class="skillhidelabel">
                    <label class="skilllabel">Hide</label>
                </div>
                <div class="skillnamewrapper">
                    <label class="skilllabel">Active Skill</label>
                </div>
                <div class="skillattributewrapper">
                    <label class="skilllabel">Attribute</label>
                </div>
                <div class="skillratingwrapper">
                    <label class="skilllabel">Rating</label>
                </div>
                <div class="skillbonuswrapper">
                    <label class="skilllabel">Bonus</label>
                </div>
                <div class="skilllimitwrapper">
                    <label class="skilllabel">Limit</label>
                </div>
                <div class="skilllimitbonuswrapper">
                    <label class="skilllabel">Limit-Mod</label>
                </div>
                <div class="skillnoteswrapper">
                    <label class="skilllabel">Description</label>
                </div>
                <div class="skillspecwrapper">
                    <label class="skilllabel">Specialization</label>
                </div>
                <div class="skilldicepoolwrapper">
                    <label class="skilllabel">Dice</label>
                </div>
                <div class="skillbuttonwrapper">
                    <label class="skilllabel">Roll</label>
                </div>
            </div>
            <div class="skillspacer"> </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox32" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Biotechnology" name="attr_skillname32" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr32">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name32" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value32" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating32" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus32" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit32">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name32" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value32" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus32" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes32" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec32" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec32" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool32" value="@{skillattr_value32}+@{skillrating32}+@{skillbonus32}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec32" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname32}}}{{val1=@{skillattr_name32}}}{{val1_num=[[@{skillattr_value32}]]}}{{val2=@{skillname32}}}{{val2_num=[[@{skillrating32}+@{skillbonus32}]]}}{{val3=@{skillspec32}}}{{val3_num=[[(?{Specialization @{skillspec32} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name32}}}{{limit_num=[[@{skilllimit_value32}]]}}{{limit_mod=[[@{skilllimitbonus32}]]}}{{result=[[(@{skilldicepool32}+(?{Specialization @{skillspec32} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value32}]]+@{skilllimitbonus32}]]]]}}{{description=@{skillnotes32}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname32}}}{{val1=@{skillattr_name32}}}{{val1_num=[[@{skillattr_value32}]]}}{{val2=@{skillname32}}}{{val2_num=[[@{skillrating32}+@{skillbonus32}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name32}}}{{limit_num=[[@{skilllimit_value32}]]}}{{limit_mod=[[@{skilllimitbonus32}]]}}{{result=[[(@{skilldicepool32}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value32}]]+@{skilllimitbonus32}]]]]}}{{description=@{skillnotes32}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox33" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Chemistry" name="attr_skillname33" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr33">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name33" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value33" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating33" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus33" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit33">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name33" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value33" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus33" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes33" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec33" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec33" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool33" value="@{skillattr_value33}+@{skillrating33}+@{skillbonus33}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec33" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname33}}}{{val1=@{skillattr_name33}}}{{val1_num=[[@{skillattr_value33}]]}}{{val2=@{skillname33}}}{{val2_num=[[@{skillrating33}+@{skillbonus33}]]}}{{val3=@{skillspec33}}}{{val3_num=[[(?{Specialization @{skillspec33} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name33}}}{{limit_num=[[@{skilllimit_value33}]]}}{{limit_mod=[[@{skilllimitbonus33}]]}}{{result=[[(@{skilldicepool33}+(?{Specialization @{skillspec33} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value33}]]+@{skilllimitbonus33}]]]]}}{{description=@{skillnotes33}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname33}}}{{val1=@{skillattr_name33}}}{{val1_num=[[@{skillattr_value33}]]}}{{val2=@{skillname33}}}{{val2_num=[[@{skillrating33}+@{skillbonus33}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name33}}}{{limit_num=[[@{skilllimit_value33}]]}}{{limit_mod=[[@{skilllimitbonus33}]]}}{{result=[[(@{skilldicepool33}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value33}]]+@{skilllimitbonus33}]]]]}}{{description=@{skillnotes33}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox34" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Computer" name="attr_skillname34" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr34">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name34" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value34" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating34" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus34" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit34">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name34" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value34" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus34" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes34" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec34" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec34" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool34" value="@{skillattr_value34}+@{skillrating34}+@{skillbonus34}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec34" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname34}}}{{val1=@{skillattr_name34}}}{{val1_num=[[@{skillattr_value34}]]}}{{val2=@{skillname34}}}{{val2_num=[[@{skillrating34}+@{skillbonus34}]]}}{{val3=@{skillspec34}}}{{val3_num=[[(?{Specialization @{skillspec34} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name34}}}{{limit_num=[[@{skilllimit_value34}]]}}{{limit_mod=[[@{skilllimitbonus34}]]}}{{result=[[(@{skilldicepool34}+(?{Specialization @{skillspec34} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value34}]]+@{skilllimitbonus34}]]]]}}{{description=@{skillnotes34}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname34}}}{{val1=@{skillattr_name34}}}{{val1_num=[[@{skillattr_value34}]]}}{{val2=@{skillname34}}}{{val2_num=[[@{skillrating34}+@{skillbonus34}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name34}}}{{limit_num=[[@{skilllimit_value34}]]}}{{limit_mod=[[@{skilllimitbonus34}]]}}{{result=[[(@{skilldicepool34}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value34}]]+@{skilllimitbonus34}]]]]}}{{description=@{skillnotes34}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox35" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Cybercombat" name="attr_skillname35" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr35">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name35" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value35" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating35" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus35" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit35">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name35" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value35" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus35" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes35" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec35" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec35" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool35" value="@{skillattr_value35}+@{skillrating35}+@{skillbonus35}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec35" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname35}}}{{val1=@{skillattr_name35}}}{{val1_num=[[@{skillattr_value35}]]}}{{val2=@{skillname35}}}{{val2_num=[[@{skillrating35}+@{skillbonus35}]]}}{{val3=@{skillspec35}}}{{val3_num=[[(?{Specialization @{skillspec35} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name35}}}{{limit_num=[[@{skilllimit_value35}]]}}{{limit_mod=[[@{skilllimitbonus35}]]}}{{result=[[(@{skilldicepool35}+(?{Specialization @{skillspec35} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value35}]]+@{skilllimitbonus35}]]]]}}{{description=@{skillnotes35}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname35}}}{{val1=@{skillattr_name35}}}{{val1_num=[[@{skillattr_value35}]]}}{{val2=@{skillname35}}}{{val2_num=[[@{skillrating35}+@{skillbonus35}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name35}}}{{limit_num=[[@{skilllimit_value35}]]}}{{limit_mod=[[@{skilllimitbonus35}]]}}{{result=[[(@{skilldicepool35}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value35}]]+@{skilllimitbonus35}]]]]}}{{description=@{skillnotes35}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox36" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Cybertechnology" name="attr_skillname36" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr36">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name36" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value36" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating36" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus36" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit36">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name36" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value36" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus36" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes36" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec36" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec36" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool36" value="@{skillattr_value36}+@{skillrating36}+@{skillbonus36}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec36" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname36}}}{{val1=@{skillattr_name36}}}{{val1_num=[[@{skillattr_value36}]]}}{{val2=@{skillname36}}}{{val2_num=[[@{skillrating36}+@{skillbonus36}]]}}{{val3=@{skillspec36}}}{{val3_num=[[(?{Specialization @{skillspec36} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name36}}}{{limit_num=[[@{skilllimit_value36}]]}}{{limit_mod=[[@{skilllimitbonus36}]]}}{{result=[[(@{skilldicepool36}+(?{Specialization @{skillspec36} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value36}]]+@{skilllimitbonus36}]]]]}}{{description=@{skillnotes36}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname36}}}{{val1=@{skillattr_name36}}}{{val1_num=[[@{skillattr_value36}]]}}{{val2=@{skillname36}}}{{val2_num=[[@{skillrating36}+@{skillbonus36}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name36}}}{{limit_num=[[@{skilllimit_value36}]]}}{{limit_mod=[[@{skilllimitbonus36}]]}}{{result=[[(@{skilldicepool36}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value36}]]+@{skilllimitbonus36}]]]]}}{{description=@{skillnotes36}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox37" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Electronic Warfare" name="attr_skillname37" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr37">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name37" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value37" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating37" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus37" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit37">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name37" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value37" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus37" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes37" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec37" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec37" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool37" value="@{skillattr_value37}+@{skillrating37}+@{skillbonus37}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec37" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname37}}}{{val1=@{skillattr_name37}}}{{val1_num=[[@{skillattr_value37}]]}}{{val2=@{skillname37}}}{{val2_num=[[@{skillrating37}+@{skillbonus37}]]}}{{val3=@{skillspec37}}}{{val3_num=[[(?{Specialization @{skillspec37} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name37}}}{{limit_num=[[@{skilllimit_value37}]]}}{{limit_mod=[[@{skilllimitbonus37}]]}}{{result=[[(@{skilldicepool37}+(?{Specialization @{skillspec37} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value37}]]+@{skilllimitbonus37}]]]]}}{{description=@{skillnotes37}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname37}}}{{val1=@{skillattr_name37}}}{{val1_num=[[@{skillattr_value37}]]}}{{val2=@{skillname37}}}{{val2_num=[[@{skillrating37}+@{skillbonus37}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name37}}}{{limit_num=[[@{skilllimit_value37}]]}}{{limit_mod=[[@{skilllimitbonus37}]]}}{{result=[[(@{skilldicepool37}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value37}]]+@{skilllimitbonus37}]]]]}}{{description=@{skillnotes37}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox38" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="First Aid" name="attr_skillname38" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr38">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name38" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value38" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating38" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus38" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit38">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name38" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value38" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus38" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes38" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec38" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec38" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool38" value="@{skillattr_value38}+@{skillrating38}+@{skillbonus38}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec38" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname38}}}{{val1=@{skillattr_name38}}}{{val1_num=[[@{skillattr_value38}]]}}{{val2=@{skillname38}}}{{val2_num=[[@{skillrating38}+@{skillbonus38}]]}}{{val3=@{skillspec38}}}{{val3_num=[[(?{Specialization @{skillspec38} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name38}}}{{limit_num=[[@{skilllimit_value38}]]}}{{limit_mod=[[@{skilllimitbonus38}]]}}{{result=[[(@{skilldicepool38}+(?{Specialization @{skillspec38} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value38}]]+@{skilllimitbonus38}]]]]}}{{description=@{skillnotes38}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname38}}}{{val1=@{skillattr_name38}}}{{val1_num=[[@{skillattr_value38}]]}}{{val2=@{skillname38}}}{{val2_num=[[@{skillrating38}+@{skillbonus38}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name38}}}{{limit_num=[[@{skilllimit_value38}]]}}{{limit_mod=[[@{skilllimitbonus38}]]}}{{result=[[(@{skilldicepool38}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value38}]]+@{skilllimitbonus38}]]]]}}{{description=@{skillnotes38}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox39" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Forgery" name="attr_skillname39" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr39">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name39" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value39" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating39" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus39" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit39">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name39" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value39" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus39" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes39" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec39" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec39" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool39" value="@{skillattr_value39}+@{skillrating39}+@{skillbonus39}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec39" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname39}}}{{val1=@{skillattr_name39}}}{{val1_num=[[@{skillattr_value39}]]}}{{val2=@{skillname39}}}{{val2_num=[[@{skillrating39}+@{skillbonus39}]]}}{{val3=@{skillspec39}}}{{val3_num=[[(?{Specialization @{skillspec39} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name39}}}{{limit_num=[[@{skilllimit_value39}]]}}{{limit_mod=[[@{skilllimitbonus39}]]}}{{result=[[(@{skilldicepool39}+(?{Specialization @{skillspec39} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value39}]]+@{skilllimitbonus39}]]]]}}{{description=@{skillnotes39}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname39}}}{{val1=@{skillattr_name39}}}{{val1_num=[[@{skillattr_value39}]]}}{{val2=@{skillname39}}}{{val2_num=[[@{skillrating39}+@{skillbonus39}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name39}}}{{limit_num=[[@{skilllimit_value39}]]}}{{limit_mod=[[@{skilllimitbonus39}]]}}{{result=[[(@{skilldicepool39}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value39}]]+@{skilllimitbonus39}]]]]}}{{description=@{skillnotes39}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox40" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Hacking" name="attr_skillname40" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr40">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name40" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value40" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating40" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus40" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit40">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name40" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value40" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus40" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes40" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec40" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec40" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool40" value="@{skillattr_value40}+@{skillrating40}+@{skillbonus40}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec40" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname40}}}{{val1=@{skillattr_name40}}}{{val1_num=[[@{skillattr_value40}]]}}{{val2=@{skillname40}}}{{val2_num=[[@{skillrating40}+@{skillbonus40}]]}}{{val3=@{skillspec40}}}{{val3_num=[[(?{Specialization @{skillspec40} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name40}}}{{limit_num=[[@{skilllimit_value40}]]}}{{limit_mod=[[@{skilllimitbonus40}]]}}{{result=[[(@{skilldicepool40}+(?{Specialization @{skillspec40} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value40}]]+@{skilllimitbonus40}]]]]}}{{description=@{skillnotes40}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname40}}}{{val1=@{skillattr_name40}}}{{val1_num=[[@{skillattr_value40}]]}}{{val2=@{skillname40}}}{{val2_num=[[@{skillrating40}+@{skillbonus40}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name40}}}{{limit_num=[[@{skilllimit_value40}]]}}{{limit_mod=[[@{skilllimitbonus40}]]}}{{result=[[(@{skilldicepool40}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value40}]]+@{skilllimitbonus40}]]]]}}{{description=@{skillnotes40}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox41" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Medicine" name="attr_skillname41" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr41">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name41" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value41" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating41" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus41" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit41">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name41" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value41" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus41" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes41" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec41" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec41" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool41" value="@{skillattr_value41}+@{skillrating41}+@{skillbonus41}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec41" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname41}}}{{val1=@{skillattr_name41}}}{{val1_num=[[@{skillattr_value41}]]}}{{val2=@{skillname41}}}{{val2_num=[[@{skillrating41}+@{skillbonus41}]]}}{{val3=@{skillspec41}}}{{val3_num=[[(?{Specialization @{skillspec41} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name41}}}{{limit_num=[[@{skilllimit_value41}]]}}{{limit_mod=[[@{skilllimitbonus41}]]}}{{result=[[(@{skilldicepool41}+(?{Specialization @{skillspec41} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value41}]]+@{skilllimitbonus41}]]]]}}{{description=@{skillnotes41}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname41}}}{{val1=@{skillattr_name41}}}{{val1_num=[[@{skillattr_value41}]]}}{{val2=@{skillname41}}}{{val2_num=[[@{skillrating41}+@{skillbonus41}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name41}}}{{limit_num=[[@{skilllimit_value41}]]}}{{limit_mod=[[@{skilllimitbonus41}]]}}{{result=[[(@{skilldicepool41}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value41}]]+@{skilllimitbonus41}]]]]}}{{description=@{skillnotes41}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox42" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Software" name="attr_skillname42" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr42">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name42" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value42" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating42" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus42" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit42">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name42" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value42" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus42" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes42" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec42" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec42" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool42" value="@{skillattr_value42}+@{skillrating42}+@{skillbonus42}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec42" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname42}}}{{val1=@{skillattr_name42}}}{{val1_num=[[@{skillattr_value42}]]}}{{val2=@{skillname42}}}{{val2_num=[[@{skillrating42}+@{skillbonus42}]]}}{{val3=@{skillspec42}}}{{val3_num=[[(?{Specialization @{skillspec42} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name42}}}{{limit_num=[[@{skilllimit_value42}]]}}{{limit_mod=[[@{skilllimitbonus42}]]}}{{result=[[(@{skilldicepool42}+(?{Specialization @{skillspec42} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value42}]]+@{skilllimitbonus42}]]]]}}{{description=@{skillnotes42}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname42}}}{{val1=@{skillattr_name42}}}{{val1_num=[[@{skillattr_value42}]]}}{{val2=@{skillname42}}}{{val2_num=[[@{skillrating42}+@{skillbonus42}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name42}}}{{limit_num=[[@{skilllimit_value42}]]}}{{limit_mod=[[@{skilllimitbonus42}]]}}{{result=[[(@{skilldicepool42}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value42}]]+@{skilllimitbonus42}]]]]}}{{description=@{skillnotes42}}}"></button>
                </div>
            </div>
            <div class="skillspacer"> </div>
            <h3>Combat Skills</h3>
            <div class="topbuttonwrapper">
                <input type="checkbox" class="skillshowallcheckbox" name="attr_skillshowallcheckbox5">
                <div class="topbuttonlabel">Show All</div>
                <input type="checkbox" class="skillshowallcheckbox" name="attr_skillhideunusedcheckbox5">
                <div class="topbuttonlabel">Hide Unused</div>
            </div>
            <div class="skillspacer"> </div>
            <input type="checkbox" name="attr_skillhideheader5" class="skillhideheadercheckbox">
            <div class="skillrow">
                <div class="skillhidelabel">
                    <label class="skilllabel">Hide</label>
                </div>
                <div class="skillnamewrapper">
                    <label class="skilllabel">Active Skill</label>
                </div>
                <div class="skillattributewrapper">
                    <label class="skilllabel">Attribute</label>
                </div>
                <div class="skillratingwrapper">
                    <label class="skilllabel">Rating</label>
                </div>
                <div class="skillbonuswrapper">
                    <label class="skilllabel">Bonus</label>
                </div>
                <div class="skilllimitwrapper">
                    <label class="skilllabel">Limit</label>
                </div>
                <div class="skilllimitbonuswrapper">
                    <label class="skilllabel">Limit-Mod</label>
                </div>
                <div class="skillnoteswrapper">
                    <label class="skilllabel">Description</label>
                </div>
                <div class="skillspecwrapper">
                    <label class="skilllabel">Specialization</label>
                </div>
                <div class="skilldicepoolwrapper">
                    <label class="skilllabel">Dice</label>
                </div>
                <div class="skillbuttonwrapper">
                    <label class="skilllabel">Roll</label>
                </div>
            </div>
            <div class="skillspacer"> </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox43" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Archery" name="attr_skillname43" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr43">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name43" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value43" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating43" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus43" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit43">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name43" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value43" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus43" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes43" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec43" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec43" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool43" value="@{skillattr_value43}+@{skillrating43}+@{skillbonus43}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec43" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname43}}}{{val1=@{skillattr_name43}}}{{val1_num=[[@{skillattr_value43}]]}}{{val2=@{skillname43}}}{{val2_num=[[@{skillrating43}+@{skillbonus43}]]}}{{val3=@{skillspec43}}}{{val3_num=[[(?{Specialization @{skillspec43} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name43}}}{{limit_num=[[@{skilllimit_value43}]]}}{{limit_mod=[[@{skilllimitbonus43}]]}}{{result=[[(@{skilldicepool43}+(?{Specialization @{skillspec43} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value43}]]+@{skilllimitbonus43}]]]]}}{{description=@{skillnotes43}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname43}}}{{val1=@{skillattr_name43}}}{{val1_num=[[@{skillattr_value43}]]}}{{val2=@{skillname43}}}{{val2_num=[[@{skillrating43}+@{skillbonus43}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name43}}}{{limit_num=[[@{skilllimit_value43}]]}}{{limit_mod=[[@{skilllimitbonus43}]]}}{{result=[[(@{skilldicepool43}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value43}]]+@{skilllimitbonus43}]]]]}}{{description=@{skillnotes43}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox44" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Automatics" name="attr_skillname44" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr44">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name44" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value44" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating44" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus44" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit44">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name44" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value44" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus44" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes44" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec44" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec44" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool44" value="@{skillattr_value44}+@{skillrating44}+@{skillbonus44}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec44" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname44}}}{{val1=@{skillattr_name44}}}{{val1_num=[[@{skillattr_value44}]]}}{{val2=@{skillname44}}}{{val2_num=[[@{skillrating44}+@{skillbonus44}]]}}{{val3=@{skillspec44}}}{{val3_num=[[(?{Specialization @{skillspec44} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name44}}}{{limit_num=[[@{skilllimit_value44}]]}}{{limit_mod=[[@{skilllimitbonus44}]]}}{{result=[[(@{skilldicepool44}+(?{Specialization @{skillspec44} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value44}]]+@{skilllimitbonus44}]]]]}}{{description=@{skillnotes44}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname44}}}{{val1=@{skillattr_name44}}}{{val1_num=[[@{skillattr_value44}]]}}{{val2=@{skillname44}}}{{val2_num=[[@{skillrating44}+@{skillbonus44}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name44}}}{{limit_num=[[@{skilllimit_value44}]]}}{{limit_mod=[[@{skilllimitbonus44}]]}}{{result=[[(@{skilldicepool44}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value44}]]+@{skilllimitbonus44}]]]]}}{{description=@{skillnotes44}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox45" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Blades" name="attr_skillname45" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr45">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name45" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value45" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating45" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus45" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit45">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name45" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value45" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus45" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes45" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec45" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec45" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool45" value="@{skillattr_value45}+@{skillrating45}+@{skillbonus45}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec45" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname45}}}{{val1=@{skillattr_name45}}}{{val1_num=[[@{skillattr_value45}]]}}{{val2=@{skillname45}}}{{val2_num=[[@{skillrating45}+@{skillbonus45}]]}}{{val3=@{skillspec45}}}{{val3_num=[[(?{Specialization @{skillspec45} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name45}}}{{limit_num=[[@{skilllimit_value45}]]}}{{limit_mod=[[@{skilllimitbonus45}]]}}{{result=[[(@{skilldicepool45}+(?{Specialization @{skillspec45} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value45}]]+@{skilllimitbonus45}]]]]}}{{description=@{skillnotes45}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname45}}}{{val1=@{skillattr_name45}}}{{val1_num=[[@{skillattr_value45}]]}}{{val2=@{skillname45}}}{{val2_num=[[@{skillrating45}+@{skillbonus45}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name45}}}{{limit_num=[[@{skilllimit_value45}]]}}{{limit_mod=[[@{skilllimitbonus45}]]}}{{result=[[(@{skilldicepool45}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value45}]]+@{skilllimitbonus45}]]]]}}{{description=@{skillnotes45}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox46" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Clubs" name="attr_skillname46" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr46">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name46" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value46" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating46" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus46" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit46">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name46" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value46" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus46" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes46" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec46" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec46" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool46" value="@{skillattr_value46}+@{skillrating46}+@{skillbonus46}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec46" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname46}}}{{val1=@{skillattr_name46}}}{{val1_num=[[@{skillattr_value46}]]}}{{val2=@{skillname46}}}{{val2_num=[[@{skillrating46}+@{skillbonus46}]]}}{{val3=@{skillspec46}}}{{val3_num=[[(?{Specialization @{skillspec46} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name46}}}{{limit_num=[[@{skilllimit_value46}]]}}{{limit_mod=[[@{skilllimitbonus46}]]}}{{result=[[(@{skilldicepool46}+(?{Specialization @{skillspec46} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value46}]]+@{skilllimitbonus46}]]]]}}{{description=@{skillnotes46}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname46}}}{{val1=@{skillattr_name46}}}{{val1_num=[[@{skillattr_value46}]]}}{{val2=@{skillname46}}}{{val2_num=[[@{skillrating46}+@{skillbonus46}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name46}}}{{limit_num=[[@{skilllimit_value46}]]}}{{limit_mod=[[@{skilllimitbonus46}]]}}{{result=[[(@{skilldicepool46}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value46}]]+@{skilllimitbonus46}]]]]}}{{description=@{skillnotes46}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox47" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Heavy Weapons" name="attr_skillname47" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr47">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name47" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value47" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating47" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus47" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit47">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name47" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value47" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus47" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes47" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec47" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec47" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool47" value="@{skillattr_value47}+@{skillrating47}+@{skillbonus47}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec47" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname47}}}{{val1=@{skillattr_name47}}}{{val1_num=[[@{skillattr_value47}]]}}{{val2=@{skillname47}}}{{val2_num=[[@{skillrating47}+@{skillbonus47}]]}}{{val3=@{skillspec47}}}{{val3_num=[[(?{Specialization @{skillspec47} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name47}}}{{limit_num=[[@{skilllimit_value47}]]}}{{limit_mod=[[@{skilllimitbonus47}]]}}{{result=[[(@{skilldicepool47}+(?{Specialization @{skillspec47} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value47}]]+@{skilllimitbonus47}]]]]}}{{description=@{skillnotes47}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname47}}}{{val1=@{skillattr_name47}}}{{val1_num=[[@{skillattr_value47}]]}}{{val2=@{skillname47}}}{{val2_num=[[@{skillrating47}+@{skillbonus47}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name47}}}{{limit_num=[[@{skilllimit_value47}]]}}{{limit_mod=[[@{skilllimitbonus47}]]}}{{result=[[(@{skilldicepool47}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value47}]]+@{skilllimitbonus47}]]]]}}{{description=@{skillnotes47}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox48" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Longarms" name="attr_skillname48" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr48">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name48" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value48" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating48" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus48" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit48">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name48" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value48" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus48" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes48" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec48" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec48" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool48" value="@{skillattr_value48}+@{skillrating48}+@{skillbonus48}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec48" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname48}}}{{val1=@{skillattr_name48}}}{{val1_num=[[@{skillattr_value48}]]}}{{val2=@{skillname48}}}{{val2_num=[[@{skillrating48}+@{skillbonus48}]]}}{{val3=@{skillspec48}}}{{val3_num=[[(?{Specialization @{skillspec48} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name48}}}{{limit_num=[[@{skilllimit_value48}]]}}{{limit_mod=[[@{skilllimitbonus48}]]}}{{result=[[(@{skilldicepool48}+(?{Specialization @{skillspec48} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value48}]]+@{skilllimitbonus48}]]]]}}{{description=@{skillnotes48}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname48}}}{{val1=@{skillattr_name48}}}{{val1_num=[[@{skillattr_value48}]]}}{{val2=@{skillname48}}}{{val2_num=[[@{skillrating48}+@{skillbonus48}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name48}}}{{limit_num=[[@{skilllimit_value48}]]}}{{limit_mod=[[@{skilllimitbonus48}]]}}{{result=[[(@{skilldicepool48}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value48}]]+@{skilllimitbonus48}]]]]}}{{description=@{skillnotes48}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox49" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Pistols" name="attr_skillname49" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr49">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name49" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value49" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating49" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus49" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit49">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name49" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value49" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus49" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes49" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec49" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec49" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool49" value="@{skillattr_value49}+@{skillrating49}+@{skillbonus49}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec49" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname49}}}{{val1=@{skillattr_name49}}}{{val1_num=[[@{skillattr_value49}]]}}{{val2=@{skillname49}}}{{val2_num=[[@{skillrating49}+@{skillbonus49}]]}}{{val3=@{skillspec49}}}{{val3_num=[[(?{Specialization @{skillspec49} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name49}}}{{limit_num=[[@{skilllimit_value49}]]}}{{limit_mod=[[@{skilllimitbonus49}]]}}{{result=[[(@{skilldicepool49}+(?{Specialization @{skillspec49} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value49}]]+@{skilllimitbonus49}]]]]}}{{description=@{skillnotes49}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname49}}}{{val1=@{skillattr_name49}}}{{val1_num=[[@{skillattr_value49}]]}}{{val2=@{skillname49}}}{{val2_num=[[@{skillrating49}+@{skillbonus49}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name49}}}{{limit_num=[[@{skilllimit_value49}]]}}{{limit_mod=[[@{skilllimitbonus49}]]}}{{result=[[(@{skilldicepool49}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value49}]]+@{skilllimitbonus49}]]]]}}{{description=@{skillnotes49}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox50" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Throwing Weapons" name="attr_skillname50" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr50">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name50" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value50" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating50" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus50" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit50">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name50" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value50" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus50" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes50" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec50" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec50" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool50" value="@{skillattr_value50}+@{skillrating50}+@{skillbonus50}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec50" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname50}}}{{val1=@{skillattr_name50}}}{{val1_num=[[@{skillattr_value50}]]}}{{val2=@{skillname50}}}{{val2_num=[[@{skillrating50}+@{skillbonus50}]]}}{{val3=@{skillspec50}}}{{val3_num=[[(?{Specialization @{skillspec50} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name50}}}{{limit_num=[[@{skilllimit_value50}]]}}{{limit_mod=[[@{skilllimitbonus50}]]}}{{result=[[(@{skilldicepool50}+(?{Specialization @{skillspec50} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value50}]]+@{skilllimitbonus50}]]]]}}{{description=@{skillnotes50}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname50}}}{{val1=@{skillattr_name50}}}{{val1_num=[[@{skillattr_value50}]]}}{{val2=@{skillname50}}}{{val2_num=[[@{skillrating50}+@{skillbonus50}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name50}}}{{limit_num=[[@{skilllimit_value50}]]}}{{limit_mod=[[@{skilllimitbonus50}]]}}{{result=[[(@{skilldicepool50}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value50}]]+@{skilllimitbonus50}]]]]}}{{description=@{skillnotes50}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox51" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Unarmed Combat" name="attr_skillname51" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr51">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name51" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value51" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating51" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus51" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit51">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name51" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value51" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus51" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes51" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec51" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec51" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool51" value="@{skillattr_value51}+@{skillrating51}+@{skillbonus51}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec51" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname51}}}{{val1=@{skillattr_name51}}}{{val1_num=[[@{skillattr_value51}]]}}{{val2=@{skillname51}}}{{val2_num=[[@{skillrating51}+@{skillbonus51}]]}}{{val3=@{skillspec51}}}{{val3_num=[[(?{Specialization @{skillspec51} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name51}}}{{limit_num=[[@{skilllimit_value51}]]}}{{limit_mod=[[@{skilllimitbonus51}]]}}{{result=[[(@{skilldicepool51}+(?{Specialization @{skillspec51} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value51}]]+@{skilllimitbonus51}]]]]}}{{description=@{skillnotes51}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname51}}}{{val1=@{skillattr_name51}}}{{val1_num=[[@{skillattr_value51}]]}}{{val2=@{skillname51}}}{{val2_num=[[@{skillrating51}+@{skillbonus51}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name51}}}{{limit_num=[[@{skilllimit_value51}]]}}{{limit_mod=[[@{skilllimitbonus51}]]}}{{result=[[(@{skilldicepool51}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value51}]]+@{skilllimitbonus51}]]]]}}{{description=@{skillnotes51}}}"></button>
                </div>
            </div>
            <div class="skillspacer"> </div>
            <h3>Vehicle Skills</h3>
            <div class="topbuttonwrapper">
                <input type="checkbox" class="skillshowallcheckbox" name="attr_skillshowallcheckbox6">
                <div class="topbuttonlabel">Show All</div>
                <input type="checkbox" class="skillshowallcheckbox" name="attr_skillhideunusedcheckbox6">
                <div class="topbuttonlabel">Hide Unused</div>
            </div>
            <div class="skillspacer"> </div>
            <input type="checkbox" name="attr_skillhideheader6" class="skillhideheadercheckbox">
            <div class="skillrow">
                <div class="skillhidelabel">
                    <label class="skilllabel">Hide</label>
                </div>
                <div class="skillnamewrapper">
                    <label class="skilllabel">Active Skill</label>
                </div>
                <div class="skillattributewrapper">
                    <label class="skilllabel">Attribute</label>
                </div>
                <div class="skillratingwrapper">
                    <label class="skilllabel">Rating</label>
                </div>
                <div class="skillbonuswrapper">
                    <label class="skilllabel">Bonus</label>
                </div>
                <div class="skilllimitwrapper">
                    <label class="skilllabel">Limit</label>
                </div>
                <div class="skilllimitbonuswrapper">
                    <label class="skilllabel">Limit-Mod</label>
                </div>
                <div class="skillnoteswrapper">
                    <label class="skilllabel">Description</label>
                </div>
                <div class="skillspecwrapper">
                    <label class="skilllabel">Specialization</label>
                </div>
                <div class="skilldicepoolwrapper">
                    <label class="skilllabel">Dice</label>
                </div>
                <div class="skillbuttonwrapper">
                    <label class="skilllabel">Roll</label>
                </div>
            </div>
            <div class="skillspacer"> </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox52" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Gunnery" name="attr_skillname52" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr52">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name52" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value52" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating52" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus52" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit52">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name52" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value52" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus52" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes52" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec52" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec52" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool52" value="@{skillattr_value52}+@{skillrating52}+@{skillbonus52}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec52" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname52}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=@{skillname52}}}{{val2_num=[[@{skillrating52}+@{skillbonus52}]]}}{{val3=@{skillspec52}}}{{val3_num=[[(?{Specialization @{skillspec52} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name52}}}{{limit_num=[[@{skilllimit_value52}]]}}{{limit_mod=[[@{skilllimitbonus52}]]}}{{result=[[(@{skilldicepool52}+(?{Specialization @{skillspec52} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value52}]]+@{skilllimitbonus52}]]]]}}{{description=@{skillnotes52}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname52}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=@{skillname52}}}{{val2_num=[[@{skillrating52}+@{skillbonus52}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name52}}}{{limit_num=[[@{skilllimit_value52}]]}}{{limit_mod=[[@{skilllimitbonus52}]]}}{{result=[[(@{skilldicepool52}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value52}]]+@{skilllimitbonus52}]]]]}}{{description=@{skillnotes52}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox53" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Pilot Aerospace" name="attr_skillname53" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr53">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option selected value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name53" value="@{rea_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value53" value="@{rea_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating53" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus53" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit53">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name53" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value53" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus53" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes53" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec53" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec53" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool53" value="@{skillattr_value53}+@{skillrating53}+@{skillbonus53}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec53" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname53}}}{{val1=@{skillattr_name53}}}{{val1_num=[[@{skillattr_value53}]]}}{{val2=@{skillname53}}}{{val2_num=[[@{skillrating53}+@{skillbonus53}]]}}{{val3=@{skillspec53}}}{{val3_num=[[(?{Specialization @{skillspec53} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name53}}}{{limit_num=[[@{skilllimit_value53}]]}}{{limit_mod=[[@{skilllimitbonus53}]]}}{{result=[[(@{skilldicepool53}+(?{Specialization @{skillspec53} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value53}]]+@{skilllimitbonus53}]]]]}}{{description=@{skillnotes53}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname53}}}{{val1=@{skillattr_name53}}}{{val1_num=[[@{skillattr_value53}]]}}{{val2=@{skillname53}}}{{val2_num=[[@{skillrating53}+@{skillbonus53}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name53}}}{{limit_num=[[@{skilllimit_value53}]]}}{{limit_mod=[[@{skilllimitbonus53}]]}}{{result=[[(@{skilldicepool53}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value53}]]+@{skilllimitbonus53}]]]]}}{{description=@{skillnotes53}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox54" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Pilot Aircraft" name="attr_skillname54" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr54">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option selected value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name54" value="@{rea_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value54" value="@{rea_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating54" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus54" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit54">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name54" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value54" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus54" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes54" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec54" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec54" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool54" value="@{skillattr_value54}+@{skillrating54}+@{skillbonus54}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec54" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname54}}}{{val1=@{skillattr_name54}}}{{val1_num=[[@{skillattr_value54}]]}}{{val2=@{skillname54}}}{{val2_num=[[@{skillrating54}+@{skillbonus54}]]}}{{val3=@{skillspec54}}}{{val3_num=[[(?{Specialization @{skillspec54} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name54}}}{{limit_num=[[@{skilllimit_value54}]]}}{{limit_mod=[[@{skilllimitbonus54}]]}}{{result=[[(@{skilldicepool54}+(?{Specialization @{skillspec54} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value54}]]+@{skilllimitbonus54}]]]]}}{{description=@{skillnotes54}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname54}}}{{val1=@{skillattr_name54}}}{{val1_num=[[@{skillattr_value54}]]}}{{val2=@{skillname54}}}{{val2_num=[[@{skillrating54}+@{skillbonus54}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name54}}}{{limit_num=[[@{skilllimit_value54}]]}}{{limit_mod=[[@{skilllimitbonus54}]]}}{{result=[[(@{skilldicepool54}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value54}]]+@{skilllimitbonus54}]]]]}}{{description=@{skillnotes54}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox55" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Pilot Groundcraft" title="Active Skill Name" disabled>
                    <input type="text" class="hiddentextfield" value="Groundcraft" name="attr_skillname55" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr55">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option selected value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name55" value="@{rea_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value55" value="@{rea_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating55" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus55" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit55">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name55" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value55" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus55" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes55" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec55" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec55" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool55" value="@{skillattr_value55}+@{skillrating55}+@{skillbonus55}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec55" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname55}}}{{val1=@{skillattr_name55}}}{{val1_num=[[@{skillattr_value55}]]}}{{val2=@{skillname55}}}{{val2_num=[[@{skillrating55}+@{skillbonus55}]]}}{{val3=@{skillspec55}}}{{val3_num=[[(?{Specialization @{skillspec55} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name55}}}{{limit_num=[[@{skilllimit_value55}]]}}{{limit_mod=[[@{skilllimitbonus55}]]}}{{result=[[(@{skilldicepool55}+(?{Specialization @{skillspec55} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value55}]]+@{skilllimitbonus55}]]]]}}{{description=@{skillnotes55}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname55}}}{{val1=@{skillattr_name55}}}{{val1_num=[[@{skillattr_value55}]]}}{{val2=@{skillname55}}}{{val2_num=[[@{skillrating55}+@{skillbonus55}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name55}}}{{limit_num=[[@{skilllimit_value55}]]}}{{limit_mod=[[@{skilllimitbonus55}]]}}{{result=[[(@{skilldicepool55}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value55}]]+@{skilllimitbonus55}]]]]}}{{description=@{skillnotes55}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox56" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Pilot Walker" name="attr_skillname56" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr56">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option selected value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name56" value="@{rea_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value56" value="@{rea_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating56" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus56" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit56">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name56" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value56" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus56" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes56" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec56" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec56" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool56" value="@{skillattr_value56}+@{skillrating56}+@{skillbonus56}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec56" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname56}}}{{val1=@{skillattr_name56}}}{{val1_num=[[@{skillattr_value56}]]}}{{val2=@{skillname56}}}{{val2_num=[[@{skillrating56}+@{skillbonus56}]]}}{{val3=@{skillspec56}}}{{val3_num=[[(?{Specialization @{skillspec56} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name56}}}{{limit_num=[[@{skilllimit_value56}]]}}{{limit_mod=[[@{skilllimitbonus56}]]}}{{result=[[(@{skilldicepool56}+(?{Specialization @{skillspec56} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value56}]]+@{skilllimitbonus56}]]]]}}{{description=@{skillnotes56}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname56}}}{{val1=@{skillattr_name56}}}{{val1_num=[[@{skillattr_value56}]]}}{{val2=@{skillname56}}}{{val2_num=[[@{skillrating56}+@{skillbonus56}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name56}}}{{limit_num=[[@{skilllimit_value56}]]}}{{limit_mod=[[@{skilllimitbonus56}]]}}{{result=[[(@{skilldicepool56}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value56}]]+@{skilllimitbonus56}]]]]}}{{description=@{skillnotes56}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox57" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Pilot Watercraft" name="attr_skillname57" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr57">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option selected value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name57" value="@{rea_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value57" value="@{rea_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating57" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus57" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit57">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name57" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value57" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus57" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes57" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec57" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec57" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool57" value="@{skillattr_value57}+@{skillrating57}+@{skillbonus57}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec57" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname57}}}{{val1=@{skillattr_name57}}}{{val1_num=[[@{skillattr_value57}]]}}{{val2=@{skillname57}}}{{val2_num=[[@{skillrating57}+@{skillbonus57}]]}}{{val3=@{skillspec57}}}{{val3_num=[[(?{Specialization @{skillspec57} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name57}}}{{limit_num=[[@{skilllimit_value57}]]}}{{limit_mod=[[@{skilllimitbonus57}]]}}{{result=[[(@{skilldicepool57}+(?{Specialization @{skillspec57} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value57}]]+@{skilllimitbonus57}]]]]}}{{description=@{skillnotes57}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname57}}}{{val1=@{skillattr_name57}}}{{val1_num=[[@{skillattr_value57}]]}}{{val2=@{skillname57}}}{{val2_num=[[@{skillrating57}+@{skillbonus57}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name57}}}{{limit_num=[[@{skilllimit_value57}]]}}{{limit_mod=[[@{skilllimitbonus57}]]}}{{result=[[(@{skilldicepool57}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value57}]]+@{skilllimitbonus57}]]]]}}{{description=@{skillnotes57}}}"></button>
                </div>
            </div>
            <div class="skillspacer"> </div>
            <h3>Magical Skills</h3>
            <div class="topbuttonwrapper">
                <input type="checkbox" class="skillshowallcheckbox" name="attr_skillshowallcheckbox7">
                <div class="topbuttonlabel">Show All</div>
                <input type="checkbox" class="skillshowallcheckbox" name="attr_skillhideunusedcheckbox7">
                <div class="topbuttonlabel">Hide Unused</div>
            </div>
            <div class="skillspacer"> </div>
            <input type="checkbox" name="attr_skillhideheader7" class="skillhideheadercheckbox">
            <div class="skillrow">
                <div class="skillhidelabel">
                    <label class="skilllabel">Hide</label>
                </div>
                <div class="skillnamewrapper">
                    <label class="skilllabel">Active Skill</label>
                </div>
                <div class="skillattributewrapper">
                    <label class="skilllabel">Attribute</label>
                </div>
                <div class="skillratingwrapper">
                    <label class="skilllabel">Rating</label>
                </div>
                <div class="skillbonuswrapper">
                    <label class="skilllabel">Bonus</label>
                </div>
                <div class="skilllimitwrapper">
                    <label class="skilllabel">Limit</label>
                </div>
                <div class="skilllimitbonuswrapper">
                    <label class="skilllabel">Limit-Mod</label>
                </div>
                <div class="skillnoteswrapper">
                    <label class="skilllabel">Description</label>
                </div>
                <div class="skillspecwrapper">
                    <label class="skilllabel">Specialization</label>
                </div>
                <div class="skilldicepoolwrapper">
                    <label class="skilllabel">Dice</label>
                </div>
                <div class="skillbuttonwrapper">
                    <label class="skilllabel">Roll</label>
                </div>
            </div>
            <div class="skillspacer"> </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox58" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Alchemy" name="attr_skillname58" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr58">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option selected value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name58" value="@{mag_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value58" value="@{mag_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating58" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus58" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit58">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option selected value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name58" value="@{astral_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value58" value="@{astral_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus58" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes58" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec58" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec58" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool58" value="@{skillattr_value58}+@{skillrating58}+@{skillbonus58}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec58" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname58}}}{{val1=@{skillattr_name58}}}{{val1_num=[[@{skillattr_value58}]]}}{{val2=@{skillname58}}}{{val2_num=[[@{skillrating58}+@{skillbonus58}]]}}{{val3=@{skillspec58}}}{{val3_num=[[(?{Specialization @{skillspec58} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name58}}}{{limit_num=[[@{skilllimit_value58}]]}}{{limit_mod=[[@{skilllimitbonus58}]]}}{{result=[[(@{skilldicepool58}+(?{Specialization @{skillspec58} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value58}]]+@{skilllimitbonus58}]]]]}}{{description=@{skillnotes58}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname58}}}{{val1=@{skillattr_name58}}}{{val1_num=[[@{skillattr_value58}]]}}{{val2=@{skillname58}}}{{val2_num=[[@{skillrating58}+@{skillbonus58}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name58}}}{{limit_num=[[@{skilllimit_value58}]]}}{{limit_mod=[[@{skilllimitbonus58}]]}}{{result=[[(@{skilldicepool58}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value58}]]+@{skilllimitbonus58}]]]]}}{{description=@{skillnotes58}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox59" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Arcana" name="attr_skillname59" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr59">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option selected value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name59" value="@{log_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value59" value="@{log_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating59" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus59" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit59">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option selected value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name59" value="@{astral_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value59" value="@{astral_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus59" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes59" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec59" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec59" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool59" value="@{skillattr_value59}+@{skillrating59}+@{skillbonus59}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec59" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname59}}}{{val1=@{skillattr_name59}}}{{val1_num=[[@{skillattr_value59}]]}}{{val2=@{skillname59}}}{{val2_num=[[@{skillrating59}+@{skillbonus59}]]}}{{val3=@{skillspec59}}}{{val3_num=[[(?{Specialization @{skillspec59} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name59}}}{{limit_num=[[@{skilllimit_value59}]]}}{{limit_mod=[[@{skilllimitbonus59}]]}}{{result=[[(@{skilldicepool59}+(?{Specialization @{skillspec59} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value59}]]+@{skilllimitbonus59}]]]]}}{{description=@{skillnotes59}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname59}}}{{val1=@{skillattr_name59}}}{{val1_num=[[@{skillattr_value59}]]}}{{val2=@{skillname59}}}{{val2_num=[[@{skillrating59}+@{skillbonus59}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name59}}}{{limit_num=[[@{skilllimit_value59}]]}}{{limit_mod=[[@{skilllimitbonus59}]]}}{{result=[[(@{skilldicepool59}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value59}]]+@{skilllimitbonus59}]]]]}}{{description=@{skillnotes59}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox60" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Artificing" name="attr_skillname60" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr60">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option selected value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name60" value="@{mag_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value60" value="@{mag_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating60" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus60" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit60">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option selected value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name60" value="@{astral_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value60" value="@{astral_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus60" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes60" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec60" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec60" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool60" value="@{skillattr_value60}+@{skillrating60}+@{skillbonus60}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec60" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname60}}}{{val1=@{skillattr_name60}}}{{val1_num=[[@{skillattr_value60}]]}}{{val2=@{skillname60}}}{{val2_num=[[@{skillrating60}+@{skillbonus60}]]}}{{val3=@{skillspec60}}}{{val3_num=[[(?{Specialization @{skillspec60} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name60}}}{{limit_num=[[@{skilllimit_value60}]]}}{{limit_mod=[[@{skilllimitbonus60}]]}}{{result=[[(@{skilldicepool60}+(?{Specialization @{skillspec60} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value60}]]+@{skilllimitbonus60}]]]]}}{{description=@{skillnotes60}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname60}}}{{val1=@{skillattr_name60}}}{{val1_num=[[@{skillattr_value60}]]}}{{val2=@{skillname60}}}{{val2_num=[[@{skillrating60}+@{skillbonus60}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name60}}}{{limit_num=[[@{skilllimit_value60}]]}}{{limit_mod=[[@{skilllimitbonus60}]]}}{{result=[[(@{skilldicepool60}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value60}]]+@{skilllimitbonus60}]]]]}}{{description=@{skillnotes60}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox61" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Assensing" name="attr_skillname61" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr61">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option selected value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name61" value="@{int_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value61" value="@{int_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating61" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus61" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit61">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name61" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value61" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus61" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes61" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec61" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec61" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool61" value="@{skillattr_value61}+@{skillrating61}+@{skillbonus61}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec61" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname61}}}{{val1=@{skillattr_name61}}}{{val1_num=[[@{skillattr_value61}]]}}{{val2=@{skillname61}}}{{val2_num=[[@{skillrating61}+@{skillbonus61}]]}}{{val3=@{skillspec61}}}{{val3_num=[[(?{Specialization @{skillspec61} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name61}}}{{limit_num=[[@{skilllimit_value61}]]}}{{limit_mod=[[@{skilllimitbonus61}]]}}{{result=[[(@{skilldicepool61}+(?{Specialization @{skillspec61} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value61}]]+@{skilllimitbonus61}]]]]}}{{description=@{skillnotes61}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname61}}}{{val1=@{skillattr_name61}}}{{val1_num=[[@{skillattr_value61}]]}}{{val2=@{skillname61}}}{{val2_num=[[@{skillrating61}+@{skillbonus61}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name61}}}{{limit_num=[[@{skilllimit_value61}]]}}{{limit_mod=[[@{skilllimitbonus61}]]}}{{result=[[(@{skilldicepool61}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value61}]]+@{skilllimitbonus61}]]]]}}{{description=@{skillnotes61}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox62" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Astral Combat" name="attr_skillname62" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr62">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option selected value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name62" value="@{wil_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value62" value="@{wil_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating62" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus62" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit62">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option selected value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name62" value="@{astral_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value62" value="@{astral_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus62" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes62" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec62" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec62" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool62" value="@{skillattr_value62}+@{skillrating62}+@{skillbonus62}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec62" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname62}}}{{val1=@{skillattr_name62}}}{{val1_num=[[@{skillattr_value62}]]}}{{val2=@{skillname62}}}{{val2_num=[[@{skillrating62}+@{skillbonus62}]]}}{{val3=@{skillspec62}}}{{val3_num=[[(?{Specialization @{skillspec62} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name62}}}{{limit_num=[[@{skilllimit_value62}]]}}{{limit_mod=[[@{skilllimitbonus62}]]}}{{result=[[(@{skilldicepool62}+(?{Specialization @{skillspec62} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value62}]]+@{skilllimitbonus62}]]]]}}{{description=@{skillnotes62}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname62}}}{{val1=@{skillattr_name62}}}{{val1_num=[[@{skillattr_value62}]]}}{{val2=@{skillname62}}}{{val2_num=[[@{skillrating62}+@{skillbonus62}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name62}}}{{limit_num=[[@{skilllimit_value62}]]}}{{limit_mod=[[@{skilllimitbonus62}]]}}{{result=[[(@{skilldicepool62}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value62}]]+@{skilllimitbonus62}]]]]}}{{description=@{skillnotes62}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox63" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Banishing" name="attr_skillname63" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr63">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option selected value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name63" value="@{mag_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value63" value="@{mag_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating63" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus63" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit63">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option selected value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name63" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value63" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus63" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes63" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec63" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec63" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool63" value="@{skillattr_value63}+@{skillrating63}+@{skillbonus63}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec63" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname63}}}{{val1=@{skillattr_name63}}}{{val1_num=[[@{skillattr_value63}]]}}{{val2=@{skillname63}}}{{val2_num=[[@{skillrating63}+@{skillbonus63}]]}}{{val3=@{skillspec63}}}{{val3_num=[[(?{Specialization @{skillspec63} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name63}}}{{limit_num=[[@{skilllimit_value63}]]}}{{limit_mod=[[@{skilllimitbonus63}]]}}{{result=[[(@{skilldicepool63}+(?{Specialization @{skillspec63} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value63}]]+@{skilllimitbonus63}]]]]}}{{description=@{skillnotes63}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname63}}}{{val1=@{skillattr_name63}}}{{val1_num=[[@{skillattr_value63}]]}}{{val2=@{skillname63}}}{{val2_num=[[@{skillrating63}+@{skillbonus63}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name63}}}{{limit_num=[[@{skilllimit_value63}]]}}{{limit_mod=[[@{skilllimitbonus63}]]}}{{result=[[(@{skilldicepool63}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value63}]]+@{skilllimitbonus63}]]]]}}{{description=@{skillnotes63}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox64" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Binding" name="attr_skillname64" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr64">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option selected value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name64" value="@{mag_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value64" value="@{mag_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating64" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus64" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit64">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option selected value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name64" value="@{astral_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value64" value="@{astral_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus64" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes64" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec64" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec64" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool64" value="@{skillattr_value64}+@{skillrating64}+@{skillbonus64}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec64" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname64}}}{{val1=@{skillattr_name64}}}{{val1_num=[[@{skillattr_value64}]]}}{{val2=@{skillname64}}}{{val2_num=[[@{skillrating64}+@{skillbonus64}]]}}{{val3=@{skillspec64}}}{{val3_num=[[(?{Specialization @{skillspec64} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name64}}}{{limit_num=[[@{skilllimit_value64}]]}}{{limit_mod=[[@{skilllimitbonus64}]]}}{{result=[[(@{skilldicepool64}+(?{Specialization @{skillspec64} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value64}]]+@{skilllimitbonus64}]]]]}}{{description=@{skillnotes64}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname64}}}{{val1=@{skillattr_name64}}}{{val1_num=[[@{skillattr_value64}]]}}{{val2=@{skillname64}}}{{val2_num=[[@{skillrating64}+@{skillbonus64}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name64}}}{{limit_num=[[@{skilllimit_value64}]]}}{{limit_mod=[[@{skilllimitbonus64}]]}}{{result=[[(@{skilldicepool64}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value64}]]+@{skilllimitbonus64}]]]]}}{{description=@{skillnotes64}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox65" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Counterspelling" name="attr_skillname65" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr65">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option selected value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name65" value="@{mag_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value65" value="@{mag_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating65" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus65" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit65">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option selected value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name65" value="@{astral_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value65" value="@{astral_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus65" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes65" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec65" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec65" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool65" value="@{skillattr_value65}+@{skillrating65}+@{skillbonus65}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec65" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname65}}}{{val1=@{skillattr_name65}}}{{val1_num=[[@{skillattr_value65}]]}}{{val2=@{skillname65}}}{{val2_num=[[@{skillrating65}+@{skillbonus65}]]}}{{val3=@{skillspec65}}}{{val3_num=[[(?{Specialization @{skillspec65} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name65}}}{{limit_num=[[@{skilllimit_value65}]]}}{{limit_mod=[[@{skilllimitbonus65}]]}}{{result=[[(@{skilldicepool65}+(?{Specialization @{skillspec65} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value65}]]+@{skilllimitbonus65}]]]]}}{{description=@{skillnotes65}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname65}}}{{val1=@{skillattr_name65}}}{{val1_num=[[@{skillattr_value65}]]}}{{val2=@{skillname65}}}{{val2_num=[[@{skillrating65}+@{skillbonus65}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name65}}}{{limit_num=[[@{skilllimit_value65}]]}}{{limit_mod=[[@{skilllimitbonus65}]]}}{{result=[[(@{skilldicepool65}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value65}]]+@{skilllimitbonus65}]]]]}}{{description=@{skillnotes65}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox66" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Disenchanting" name="attr_skillname66" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr66">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option selected value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name66" value="@{mag_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value66" value="@{mag_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating66" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus66" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit66">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option selected value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name66" value="@{astral_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value66" value="@{astral_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus66" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes66" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec66" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec66" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool66" value="@{skillattr_value66}+@{skillrating66}+@{skillbonus66}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec66" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname66}}}{{val1=@{skillattr_name66}}}{{val1_num=[[@{skillattr_value66}]]}}{{val2=@{skillname66}}}{{val2_num=[[@{skillrating66}+@{skillbonus66}]]}}{{val3=@{skillspec66}}}{{val3_num=[[(?{Specialization @{skillspec66} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name66}}}{{limit_num=[[@{skilllimit_value66}]]}}{{limit_mod=[[@{skilllimitbonus66}]]}}{{result=[[(@{skilldicepool66}+(?{Specialization @{skillspec66} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value66}]]+@{skilllimitbonus66}]]]]}}{{description=@{skillnotes66}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname66}}}{{val1=@{skillattr_name66}}}{{val1_num=[[@{skillattr_value66}]]}}{{val2=@{skillname66}}}{{val2_num=[[@{skillrating66}+@{skillbonus66}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name66}}}{{limit_num=[[@{skilllimit_value66}]]}}{{limit_mod=[[@{skilllimitbonus66}]]}}{{result=[[(@{skilldicepool66}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value66}]]+@{skilllimitbonus66}]]]]}}{{description=@{skillnotes66}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox67" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Ritual Spellcasting" name="attr_skillname67" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr67">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option selected value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name67" value="@{mag_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value67" value="@{mag_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating67" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus67" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit67">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option selected value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name67" value="@{astral_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value67" value="@{astral_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus67" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes67" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec67" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec67" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool67" value="@{skillattr_value67}+@{skillrating67}+@{skillbonus67}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec67" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname67}}}{{val1=@{skillattr_name67}}}{{val1_num=[[@{skillattr_value67}]]}}{{val2=@{skillname67}}}{{val2_num=[[@{skillrating67}+@{skillbonus67}]]}}{{val3=@{skillspec67}}}{{val3_num=[[(?{Specialization @{skillspec67} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name67}}}{{limit_num=[[@{skilllimit_value67}]]}}{{limit_mod=[[@{skilllimitbonus67}]]}}{{result=[[(@{skilldicepool67}+(?{Specialization @{skillspec67} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value67}]]+@{skilllimitbonus67}]]]]}}{{description=@{skillnotes67}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname67}}}{{val1=@{skillattr_name67}}}{{val1_num=[[@{skillattr_value67}]]}}{{val2=@{skillname67}}}{{val2_num=[[@{skillrating67}+@{skillbonus67}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name67}}}{{limit_num=[[@{skilllimit_value67}]]}}{{limit_mod=[[@{skilllimitbonus67}]]}}{{result=[[(@{skilldicepool67}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value67}]]+@{skilllimitbonus67}]]]]}}{{description=@{skillnotes67}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox68" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Spellcasting" name="attr_skillname68" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr68">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option selected value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name68" value="@{mag_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value68" value="@{mag_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating68" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus68" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit68">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option selected value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name68" value="@{astral_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value68" value="@{astral_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus68" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes68" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec68" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec68" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool68" value="@{skillattr_value68}+@{skillrating68}+@{skillbonus68}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec68" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname68}}}{{val1=@{skillattr_name68}}}{{val1_num=[[@{skillattr_value68}]]}}{{val2=@{skillname68}}}{{val2_num=[[@{skillrating68}+@{skillbonus68}]]}}{{val3=@{skillspec68}}}{{val3_num=[[(?{Specialization @{skillspec68} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name68}}}{{limit_num=[[@{skilllimit_value68}]]}}{{limit_mod=[[@{skilllimitbonus68}]]}}{{result=[[(@{skilldicepool68}+(?{Specialization @{skillspec68} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value68}]]+@{skilllimitbonus68}]]]]}}{{description=@{skillnotes68}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname68}}}{{val1=@{skillattr_name68}}}{{val1_num=[[@{skillattr_value68}]]}}{{val2=@{skillname68}}}{{val2_num=[[@{skillrating68}+@{skillbonus68}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name68}}}{{limit_num=[[@{skilllimit_value68}]]}}{{limit_mod=[[@{skilllimitbonus68}]]}}{{result=[[(@{skilldicepool68}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value68}]]+@{skilllimitbonus68}]]]]}}{{description=@{skillnotes68}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox69" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Summoning" name="attr_skillname69" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr69">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option selected value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name69" value="@{mag_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value69" value="@{mag_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating69" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus69" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit69">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option selected value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name69" value="@{astral_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value69" value="@{astral_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus69" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes69" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec69" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec69" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool69" value="@{skillattr_value69}+@{skillrating69}+@{skillbonus69}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec69" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname69}}}{{val1=@{skillattr_name69}}}{{val1_num=[[@{skillattr_value69}]]}}{{val2=@{skillname69}}}{{val2_num=[[@{skillrating69}+@{skillbonus69}]]}}{{val3=@{skillspec69}}}{{val3_num=[[(?{Specialization @{skillspec69} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name69}}}{{limit_num=[[@{skilllimit_value69}]]}}{{limit_mod=[[@{skilllimitbonus69}]]}}{{result=[[(@{skilldicepool69}+(?{Specialization @{skillspec69} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value69}]]+@{skilllimitbonus69}]]]]}}{{description=@{skillnotes69}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname69}}}{{val1=@{skillattr_name69}}}{{val1_num=[[@{skillattr_value69}]]}}{{val2=@{skillname69}}}{{val2_num=[[@{skillrating69}+@{skillbonus69}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name69}}}{{limit_num=[[@{skilllimit_value69}]]}}{{limit_mod=[[@{skilllimitbonus69}]]}}{{result=[[(@{skilldicepool69}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value69}]]+@{skilllimitbonus69}]]]]}}{{description=@{skillnotes69}}}"></button>
                </div>
            </div>
            <div class="skillspacer"> </div>
            <h3>Resonance Skills</h3>
            <div class="topbuttonwrapper">
                <input type="checkbox" class="skillshowallcheckbox" name="attr_skillshowallcheckbox8">
                <div class="topbuttonlabel">Show All</div>
                <input type="checkbox" class="skillshowallcheckbox" name="attr_skillhideunusedcheckbox8">
                <div class="topbuttonlabel">Hide Unused</div>
            </div>
            <div class="skillspacer"> </div>
            <input type="checkbox" name="attr_skillhideheader8" class="skillhideheadercheckbox">
            <div class="skillrow">
                <div class="skillhidelabel">
                    <label class="skilllabel">Hide</label>
                </div>
                <div class="skillnamewrapper">
                    <label class="skilllabel">Active Skill</label>
                </div>
                <div class="skillattributewrapper">
                    <label class="skilllabel">Attribute</label>
                </div>
                <div class="skillratingwrapper">
                    <label class="skilllabel">Rating</label>
                </div>
                <div class="skillbonuswrapper">
                    <label class="skilllabel">Bonus</label>
                </div>
                <div class="skilllimitwrapper">
                    <label class="skilllabel">Limit</label>
                </div>
                <div class="skilllimitbonuswrapper">
                    <label class="skilllabel">Limit-Mod</label>
                </div>
                <div class="skillnoteswrapper">
                    <label class="skilllabel">Description</label>
                </div>
                <div class="skillspecwrapper">
                    <label class="skilllabel">Specialization</label>
                </div>
                <div class="skilldicepoolwrapper">
                    <label class="skilllabel">Dice</label>
                </div>
                <div class="skillbuttonwrapper">
                    <label class="skilllabel">Roll</label>
                </div>
            </div>
            <div class="skillspacer"> </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox70" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Compiling" name="attr_skillname70" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr70">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option selected value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name70" value="@{res_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value70" value="@{res_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating70" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus70" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit70">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name70" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value70" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus70" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes70" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec70" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec70" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool70" value="@{skillattr_value70}+@{skillrating70}+@{skillbonus70}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec70" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname70}}}{{val1=@{skillattr_name70}}}{{val1_num=[[@{skillattr_value70}]]}}{{val2=@{skillname70}}}{{val2_num=[[@{skillrating70}+@{skillbonus70}]]}}{{val3=@{skillspec70}}}{{val3_num=[[(?{Specialization @{skillspec70} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name70}}}{{limit_num=[[@{skilllimit_value70}]]}}{{limit_mod=[[@{skilllimitbonus70}]]}}{{result=[[(@{skilldicepool70}+(?{Specialization @{skillspec70} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value70}]]+@{skilllimitbonus70}]]]]}}{{description=@{skillnotes70}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname70}}}{{val1=@{skillattr_name70}}}{{val1_num=[[@{skillattr_value70}]]}}{{val2=@{skillname70}}}{{val2_num=[[@{skillrating70}+@{skillbonus70}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name70}}}{{limit_num=[[@{skilllimit_value70}]]}}{{limit_mod=[[@{skilllimitbonus70}]]}}{{result=[[(@{skilldicepool70}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value70}]]+@{skilllimitbonus70}]]]]}}{{description=@{skillnotes70}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox71" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Decompiling" name="attr_skillname71" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr71">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option selected value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name71" value="@{res_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value71" value="@{res_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating71" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus71" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit71">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name71" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value71" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus71" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes71" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec71" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec71" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool71" value="@{skillattr_value71}+@{skillrating71}+@{skillbonus71}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec71" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname71}}}{{val1=@{skillattr_name71}}}{{val1_num=[[@{skillattr_value71}]]}}{{val2=@{skillname71}}}{{val2_num=[[@{skillrating71}+@{skillbonus71}]]}}{{val3=@{skillspec71}}}{{val3_num=[[(?{Specialization @{skillspec71} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name71}}}{{limit_num=[[@{skilllimit_value71}]]}}{{limit_mod=[[@{skilllimitbonus71}]]}}{{result=[[(@{skilldicepool71}+(?{Specialization @{skillspec71} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value71}]]+@{skilllimitbonus71}]]]]}}{{description=@{skillnotes71}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname71}}}{{val1=@{skillattr_name71}}}{{val1_num=[[@{skillattr_value71}]]}}{{val2=@{skillname71}}}{{val2_num=[[@{skillrating71}+@{skillbonus71}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name71}}}{{limit_num=[[@{skilllimit_value71}]]}}{{limit_mod=[[@{skilllimitbonus71}]]}}{{result=[[(@{skilldicepool71}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value71}]]+@{skilllimitbonus71}]]]]}}{{description=@{skillnotes71}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox72" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Registering" name="attr_skillname72" title="Active Skill Name" disabled>
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr72">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option selected value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name72" value="@{res_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value72" value="@{res_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating72" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus72" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit72">
                        <option value="@{physical">Physical</option>
                        <option selected value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name72" value="@{mental_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value72" value="@{mental_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus72" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes72" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec72" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec72" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool72" value="@{skillattr_value72}+@{skillrating72}+@{skillbonus72}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec72" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname72}}}{{val1=@{skillattr_name72}}}{{val1_num=[[@{skillattr_value72}]]}}{{val2=@{skillname72}}}{{val2_num=[[@{skillrating72}+@{skillbonus72}]]}}{{val3=@{skillspec72}}}{{val3_num=[[(?{Specialization @{skillspec72} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name72}}}{{limit_num=[[@{skilllimit_value72}]]}}{{limit_mod=[[@{skilllimitbonus72}]]}}{{result=[[(@{skilldicepool72}+(?{Specialization @{skillspec72} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value72}]]+@{skilllimitbonus72}]]]]}}{{description=@{skillnotes72}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname72}}}{{val1=@{skillattr_name72}}}{{val1_num=[[@{skillattr_value72}]]}}{{val2=@{skillname72}}}{{val2_num=[[@{skillrating72}+@{skillbonus72}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name72}}}{{limit_num=[[@{skilllimit_value72}]]}}{{limit_mod=[[@{skilllimitbonus72}]]}}{{result=[[(@{skilldicepool72}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value72}]]+@{skilllimitbonus72}]]]]}}{{description=@{skillnotes72}}}"></button>
                </div>
            </div>
            <div class="skillspacer"> </div>
            <h3>Exotic Skills</h3>
            <div class="topbuttonwrapper">
                <input type="checkbox" class="skillshowallcheckbox" name="attr_skillshowallcheckbox9">
                <div class="topbuttonlabel">Show All</div>
                <input type="checkbox" class="skillshowallcheckbox" name="attr_skillhideunusedcheckbox9">
                <div class="topbuttonlabel">Hide Unused</div>
            </div>
            <div class="skillspacer"> </div>
            <input type="checkbox" name="attr_skillhideheader9" class="skillhideheadercheckbox">
            <div class="skillrow">
                <div class="skillhidelabel">
                    <label class="skilllabel">Hide</label>
                </div>
                <div class="skillnamewrapper">
                    <label class="skilllabel">Active Skill</label>
                </div>
                <div class="skillattributewrapper">
                    <label class="skilllabel">Attribute</label>
                </div>
                <div class="skillratingwrapper">
                    <label class="skilllabel">Rating</label>
                </div>
                <div class="skillbonuswrapper">
                    <label class="skilllabel">Bonus</label>
                </div>
                <div class="skilllimitwrapper">
                    <label class="skilllabel">Limit</label>
                </div>
                <div class="skilllimitbonuswrapper">
                    <label class="skilllabel">Limit-Mod</label>
                </div>
                <div class="skillnoteswrapper">
                    <label class="skilllabel">Description</label>
                </div>
                <div class="skillspecwrapper">
                    <label class="skilllabel">Specialization</label>
                </div>
                <div class="skilldicepoolwrapper">
                    <label class="skilllabel">Dice</label>
                </div>
                <div class="skillbuttonwrapper">
                    <label class="skilllabel">Roll</label>
                </div>
            </div>
            <div class="skillspacer"> </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox73" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Exotic Skill" name="attr_skillname73" title="Active Skill Name">
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr73">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name73" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value73" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating73" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus73" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit73">
                        <option value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name73" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value73" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus73" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes73" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec73" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec73" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool73" value="@{skillattr_value73}+@{skillrating73}+@{skillbonus73}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec73" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname73}}}{{val1=@{skillattr_name73}}}{{val1_num=[[@{skillattr_value73}]]}}{{val2=@{skillname73}}}{{val2_num=[[@{skillrating73}+@{skillbonus73}]]}}{{val3=@{skillspec73}}}{{val3_num=[[(?{Specialization @{skillspec73} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name73}}}{{limit_num=[[@{skilllimit_value73}]]}}{{limit_mod=[[@{skilllimitbonus73}]]}}{{result=[[(@{skilldicepool73}+(?{Specialization @{skillspec73} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value73}]]+@{skilllimitbonus73}]]]]}}{{description=@{skillnotes73}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname73}}}{{val1=@{skillattr_name73}}}{{val1_num=[[@{skillattr_value73}]]}}{{val2=@{skillname73}}}{{val2_num=[[@{skillrating73}+@{skillbonus73}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name73}}}{{limit_num=[[@{skilllimit_value73}]]}}{{limit_mod=[[@{skilllimitbonus73}]]}}{{result=[[(@{skilldicepool73}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value73}]]+@{skilllimitbonus73}]]]]}}{{description=@{skillnotes73}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox74" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Exotic Skill" name="attr_skillname74" title="Active Skill Name">
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr74">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name74" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value74" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating74" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus74" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit74">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name74" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value74" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus74" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes74" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec74" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec74" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool74" value="@{skillattr_value74}+@{skillrating74}+@{skillbonus74}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec74" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname74}}}{{val1=@{skillattr_name74}}}{{val1_num=[[@{skillattr_value74}]]}}{{val2=@{skillname74}}}{{val2_num=[[@{skillrating74}+@{skillbonus74}]]}}{{val3=@{skillspec74}}}{{val3_num=[[(?{Specialization @{skillspec74} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name74}}}{{limit_num=[[@{skilllimit_value74}]]}}{{limit_mod=[[@{skilllimitbonus74}]]}}{{result=[[(@{skilldicepool74}+(?{Specialization @{skillspec74} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value74}]]+@{skilllimitbonus74}]]]]}}{{description=@{skillnotes74}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname74}}}{{val1=@{skillattr_name74}}}{{val1_num=[[@{skillattr_value74}]]}}{{val2=@{skillname74}}}{{val2_num=[[@{skillrating74}+@{skillbonus74}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name74}}}{{limit_num=[[@{skilllimit_value74}]]}}{{limit_mod=[[@{skilllimitbonus74}]]}}{{result=[[(@{skilldicepool74}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value74}]]+@{skilllimitbonus74}]]]]}}{{description=@{skillnotes74}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox75" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Exotic Skill" name="attr_skillname75" title="Active Skill Name">
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr75">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name75" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value75" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating75" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus75" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit75">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name75" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value75" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus75" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes75" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec75" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec75" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool75" value="@{skillattr_value75}+@{skillrating75}+@{skillbonus75}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec75" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname75}}}{{val1=@{skillattr_name75}}}{{val1_num=[[@{skillattr_value75}]]}}{{val2=@{skillname75}}}{{val2_num=[[@{skillrating75}+@{skillbonus75}]]}}{{val3=@{skillspec75}}}{{val3_num=[[(?{Specialization @{skillspec75} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name75}}}{{limit_num=[[@{skilllimit_value75}]]}}{{limit_mod=[[@{skilllimitbonus75}]]}}{{result=[[(@{skilldicepool75}+(?{Specialization @{skillspec75} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value75}]]+@{skilllimitbonus75}]]]]}}{{description=@{skillnotes75}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname75}}}{{val1=@{skillattr_name75}}}{{val1_num=[[@{skillattr_value75}]]}}{{val2=@{skillname75}}}{{val2_num=[[@{skillrating75}+@{skillbonus75}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name75}}}{{limit_num=[[@{skilllimit_value75}]]}}{{limit_mod=[[@{skilllimitbonus75}]]}}{{result=[[(@{skilldicepool75}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value75}]]+@{skilllimitbonus75}]]]]}}{{description=@{skillnotes75}}}"></button>
                </div>
            </div>
            <input type="checkbox" class="skillshowcheckbox hiddencheckbox" name="attr_skillshowcheckbox76" title="Check to hide this Skill">
            <div class="checkboxticker skillshowticker"></div>
            <div class="skillrow">
                <div class="skillnamewrapper">
                    <input type="text" value="Exotic Skill" name="attr_skillname76" title="Active Skill Name">
                </div>
                <div class="skillattributewrapper">
                    <select name="attr_skillattr76">
                        <option value="@{bod">BOD</option>
                        <option value="@{str">STR</option>
                        <option selected value="@{agi">AGI</option>
                        <option value="@{rea">REA</option>
                        <option value="@{log">LOG</option>
                        <option value="@{int">INT</option>
                        <option value="@{cha">CHA</option>
                        <option value="@{wil">WIL</option>
                        <option value="@{mag">MAG</option>
                        <option value="@{res">RES</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_name76" value="@{agi_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skillattr_value76" value="@{agi_total}"></div>
                <div class="skillratingwrapper">
                    <input type="text" name="attr_skillrating76" value="-1" title="Skill-Rating without Attribute">
                </div>
                <div class="skillbonuswrapper">
                    <input type="text" name="attr_skillbonus76" value="0" title="Bonuses from Magic or Gear">
                </div>
                <div class="skilllimitwrapper">
                    <select name="attr_skilllimit76">
                        <option selected value="@{physical">Physical</option>
                        <option value="@{mental">Mental</option>
                        <option value="@{social">Social</option>
                        <option value="@{astral">Astral</option>
                    </select>
                </div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_name76" value="@{physical_name}"></div>
                <div class="hiddentextfield"><input type="text" name="attr_skilllimit_value76" value="@{physical_total}"></div>
                <div class="skilllimitbonuswrapper">
                    <input type="text" name="attr_skilllimitbonus76" value="0" title="Limit-Bonuses only applying to this Skill">
                </div>
                <div class="skillnoteswrapper">
                    <input type="text" name="attr_skillnotes76" title="Description...">
                </div>
                <div class="skillspecwrapper">
                    <input type="checkbox" class="skillspecticker hiddencheckbox" name="attr_skillspec76" value="none" title="Check if Skill has Specialization" checked>
                    <div class="checkboxticker skillspecunticked"></div>
                    <input type="text" name="attr_skillspec76" value="none" title="Name of the Specialization; input 'none' to disable.">
                </div>
                <div class="skilldicepoolwrapper">
                    <input type="number" name="attr_skilldicepool76" value="@{skillattr_value76}+@{skillrating76}+@{skillbonus76}" title="Base Dicepool" disabled>
                </div>
                <div class="skillbuttonwrapper">
                    <input type="checkbox" class="skillshowspec" name="attr_skillspec76" value="none">
                    <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname76}}}{{val1=@{skillattr_name76}}}{{val1_num=[[@{skillattr_value76}]]}}{{val2=@{skillname76}}}{{val2_num=[[@{skillrating76}+@{skillbonus76}]]}}{{val3=@{skillspec76}}}{{val3_num=[[(?{Specialization @{skillspec76} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name76}}}{{limit_num=[[@{skilllimit_value76}]]}}{{limit_mod=[[@{skilllimitbonus76}]]}}{{result=[[(@{skilldicepool76}+(?{Specialization @{skillspec76} applies})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value76}]]+@{skilllimitbonus76}]]]]}}{{description=@{skillnotes76}}}"></button>
                    <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{skillname76}}}{{val1=@{skillattr_name76}}}{{val1_num=[[@{skillattr_value76}]]}}{{val2=@{skillname76}}}{{val2_num=[[@{skillrating76}+@{skillbonus76}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{skilllimit_name76}}}{{limit_num=[[@{skilllimit_value76}]]}}{{limit_mod=[[@{skilllimitbonus76}]]}}{{result=[[(@{skilldicepool76}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{skilllimit_value76}]]+@{skilllimitbonus76}]]]]}}{{description=@{skillnotes76}}}"></button>
                </div>
            </div>
        </div>
        <div class="knowledge">
            <h2>Knowledge Skills</h2>
            <div class="skillrow">
                <div class="knowledgeskillnamewrapper">
                    <label class="skilllabel">Knowledge Skill</label>
                </div>
                <div class="knowledgeskillattributewrapper">
                    <label class="skilllabel">Type</label>
                </div>
                <div class="skillratingwrapper">
                    <label class="skilllabel">Rating</label>
                </div>
                <div class="skillbonuswrapper">
                    <label class="skilllabel">Bonus</label>
                </div>
                <div class="skilllimitbonuswrapper">
                    <label class="skilllabel">Limit-Mod</label>
                </div>
                <div class="skillnoteswrapper">
                    <label class="skilllabel">Description</label>
                </div>
                <div class="skillspecwrapper">
                    <label class="skilllabel">Specialization</label>
                </div>
                <div class="skilldicepoolwrapper">
                    <label class="skilllabel">Dice</label>
                </div>
                <div class="skillbuttonwrapper">
                    <label class="skilllabel">Roll</label>
                </div>
            </div>
            <fieldset class="repeating_knowledge">
                <div class="skillrow">
                    <div class="hiddentextfield"><input type="text" name="attr_knowledgerow" value=""></div>
                    <div class="knowledgeskillnamewrapper">
                        <input type="text" name="attr_knowledgename" title="Knowledge Skill Name">
                    </div>
                    <div class="knowledgeskillattributewrapper">
                        <select name="attr_knowledgeattr">
                            <option selected value="@{academic">Academic</option>
                            <option value="@{interest">Interest</option>
                            <option value="@{language">Language</option>
                            <option value="@{professional">Professional</option>
                            <option value="@{street">Street</option>
                        </select>
                        <div class="hiddentextfield"><input type="text" name="attr_knowledgeattr_name" value="@{academic_name}"></div>
                        <div class="hiddentextfield"><input type="text" name="attr_knowledgeattr_total" value="@{academic_total}"></div>
                    </div>
                    <div class="skillratingwrapper">
                        <input type="text" name="attr_knowledgerating" value="0" title="Skill-Rating without Attribute">
                    </div>
                    <div class="skillbonuswrapper">
                        <input type="text" name="attr_knowledgebonus" value="0" title="Bonuses from Magic or Gear">
                    </div>
                    <div class="skilllimitbonuswrapper">
                        <input type="text" name="attr_knowledgelimitbonus" value="0" title="Limit-Bonuses only applying to this Skill">
                    </div>
                    <div class="skillnoteswrapper">
                        <input type="text" name="attr_knowledgenotes" title="Description...">
                    </div>
                    <div class="skillspecwrapper">
                        <input type="checkbox" class="knowledgespecticker hiddencheckbox" name="attr_knowledgespec" value="none" title="Check if Skill has Specialization" checked>
                        <div class="checkboxticker knowledgespecunticked"></div>
                        <input type="text" name="attr_knowledgespec" title="Name of the Specialization; input 'none' to disable.">
                    </div>
                    <div class="skilldicepoolwrapper">
                        <input type="number" name="attr_knowledgedicepool" value="@{knowledgeattr_total}+@{knowledgerating}+@{knowledgebonus}" title="Base Dicepool" disabled>
                    </div>
                    <div class="skillbuttonwrapper">
                        <input type="checkbox" class="knowledgeshowspec" name="attr_knowledgespec" value="none">
                        <button type="action" class="rollbuttonspec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{prefix-knowledgename}}}{{val1=@{prefix-knowledgeattr_name}}}{{val1_num=[[@{prefix-knowledgeattr_total}]]}}{{val2=@{prefix-knowledgename}}}{{val2_num=[[@{prefix-knowledgerating}+@{prefix-knowledgebonus}]]}}{{val3=@{prefix-knowledgespec}}}{{val3_num=[[(?{Specialization @{prefix-knowledgespec} applies|Yes,2|No,0})]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{mental_name}}}{{limit_num=[[@{mental_total}]]}}{{limit_mod=[[@{prefix-knowledgelimitbonus}]]}}{{result=[[(@{prefix-knowledgedicepool}+(?{Specialization @{prefix-knowledgespec} applies|yes,1|no,0})-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{mental_total}]]+@{prefix-knowledgelimitbonus}]]]]}}{{description=@{prefix-knowledgenotes}}}"></button>
                        <button type="action" class="rollbuttonnospec" name="act_roll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{prefix-knowledgename}}}{{val1=@{prefix-knowledgeattr_name}}}{{val1_num=[[@{prefix-knowledgeattr_total}]]}}{{val2=@{prefix-knowledgename}}}{{val2_num=[[@{prefix-knowledgerating}+@{prefix-knowledgebonus}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{mental_name}}}{{limit_num=[[@{mental_total}]]}}{{limit_mod=[[@{prefix-knowledgelimitbonus}]]}}{{result=[[(@{prefix-knowledgedicepool}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[[[@{mental_total}]]+@{prefix-knowledgelimitbonus}]]]]}}{{description=@{prefix-knowledgenotes}}}"></button>
                    </div>
                </div>
            </fieldset>
        </div>
    </div>
    <div class="contentMagic">
        <div class="spells">
            <h2>Spells</h2>
            <div> Sustained: <input type="number" class="statinput" name="attr_sustainedspells" value="0"></div>
            <div class="magiciandrainattribute">
                <button class="spellrollmage btn" type="action" name="act_roll" title="Click to roll custom drain" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=for drain resist}}{{val1=Drain Attribute}}{{val1_num=[[@{drainattribute}]]}}{{val2=@{wil_name}}}{{val2_num=[[@{wil_total}]]}}{{val3=Bonus}}{{val3_num=[[@{drainbonus}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{result=[[(@{wil_total}+@{drainattribute}+@{drainbonus}+?{Drain Resist Bonus|0})@{standardroll}]]}}{{drain=Drain}}{{drain_num=[[?{Drain|2}]]}}">Drain-Attribute</button>
                <div>
                    <select name="attr_drainattribute" title="Attribute depends on tradition">
                        <option value="@{log_total}">LOG</option>
                        <option value="@{int_total}">INT</option>
                        <option value="@{cha_total}">CHA</option>
                        <option value="@{bod_total}">BOD</option>
                        <option value="@{mag_total}">MAG</option>
                        <option value="@{wil_total}">WILL</option>
                    </select>
                </div>
                <input class="spellrollmage" type="number" name="attr_drainbonus" value="0" title="Bonus dice to drain resist">
            </div>
            <div class="spelllabels">
                <div class="spellnamewrapper">
                    <label class="spelllabel">Name</label>
                </div>
                <div class="spellschoolwrapper">
                    <label class="spelllabel">School</label>
                </div>
                <div class="spelltypewrapper">
                    <label class="spelllabel">Type</label>
                </div>
                <div class="spellcategorywrapper">
                    <label class="spelllabel">Category</label>
                </div>
                <div class="spellrangewrapper">
                    <label class="spelllabel">Range</label>
                </div>
                <div class="spelldurationwrapper">
                    <label class="spelllabel">Dur</label>
                </div>
                <div class="spelldrainwrapper">
                    <label class="spelllabel">Drain</label>
                </div>
                <div class="spelldescriptionwrapper">
                    <label class="spelllabel">Description</label>
                </div>
                <div class="spellbonuswrapper">
                    <label class="spelllabel">Bonus</label>
                </div>
                <div class="spellspecializationwrapper">
                    <label class="spelllabel">Spec</label>
                </div>
                <div class="spellrollwrapper">
                    <label class="spelllabel">Fast</label>
                </div>
                <div class="spellrollwrapper">
                    <label class="spelllabel">Full</label>
                </div>
            </div>
            <fieldset class="repeating_spells">
                    <details>
                        <summary class="spellrow">
                            <div class="spellnamewrapper">
                                <input type="text" name="attr_spellname" title="Name of the Spell">
                            </div>
                            <div class="spellschoolwrapper">
                                <select name="attr_spellschool">
                                    <option value="@{skilldicepool68}">Spell</option>
                                    <option value="@{skilldicepool58}">Preparation</option>
                                    <option value="@{skilldicepool67}">Ritual</option>
                                </select>
                            </div>
                            <input type="text" name="attr_spellschool_name" value="@{skillname68}" class="hiddentextfield">
                            <div class="spelltypewrapper">
                                <input type="text" name="attr_spelltype" title="(optional) e.g. M/P">
                            </div>
                            <div class="spellcategorywrapper">
                                <input type="text" name="attr_spellcategory" title="(optional) e.g. Combat/Health/...">
                            </div>
                            <div class="spellrangewrapper">
                                <input type="text" name="attr_spellrange" title="(optional) e.g. LOS">
                            </div>
                            <div class="spelldurationwrapper">
                                <input type="text" name="attr_spellduration" title="(optional) e.g. I/S/P">
                            </div>
                            <div class="spelldrainwrapper">
                                <input type="text" name="attr_spelldrain" title="do not enter any letters
only the modifier like '-1'
a zeros and positive numbers also need a sign like '+0'">
                            </div>
                            <div class="spelldescriptionwrapper">
                                <input type="text" name="attr_spelldescription" title="To make life easy on your gm
make sure to enter what the spell is resisted with">
                            </div>
                            <div class="spellbonuswrapper">
                                <input type="text" name="attr_spellbonus" value="0" title="Bonus applying only to this Test">
                            </div>
                            <div class="spellspecializedwrapper">
                                <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_spellspecialized" value="2" title="Apply +2 from specialization to casting this Spell">
                                <div class="checkboxticker spellspecializedunticked"></div>
                                <div class="checkboxticker spellspecializedticked">X</div>
                            </div>
                            <div class="spellbuttonwrapper">
                                <button type="action" class="spellrollmage" name="act_roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=for @{prefix-spellname} - Force ?{Force|6}}}{{subheader=@{prefix-spellcategory} - @{prefix-spelltype} - @{prefix-spellrange} - @{prefix-spellduration}}}{{val1=@{mag_name}}}{{val1_num=[[@{mag_total}]]}}{{val2=@{prefix-spellschool_name}}}{{val2_num=[[@{prefix-spellschool}+@{prefix-spellspecialized}+@{prefix-spellbonus}-(@{mag_total})]]}}{{val3=Drain Attribute}}{{val3_num=[[@{drainattribute}]]}}{{val4=@{wil_name}}}{{val4_num=[[@{wil_total}]]}}{{val5=Drain Bonus}}{{val5_num=[[@{drainbonus}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Force}}{{limit_num=[[?{Force|6}]]}}{{result=[[(@{prefix-spellschool}+@{prefix-spellspecialized}+@{prefix-spellbonus}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[?{Force|6}]]]]}}{{drain=Drain}}{{drain_num=[[?{Force|6}@{prefix-spelldrain}]]}}{{after2=Drain Resist}}{{after2_num=[[(@{wil_total}+@{drainattribute}+@{drainbonus})@{standardroll}]]}}{{description=@{prefix-spelldescription}}}"></button>
                            </div>
                            <div class="spellbuttonwrapper">
                                <button type="action" class="spellrollmage" name="act_roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=for @{prefix-spellname} - Force ?{Force|6}}}{{subheader=@{prefix-spellcategory} - @{prefix-spelltype} - @{prefix-spellrange} - @{prefix-spellduration}}}{{val1=@{mag_name}}}{{val1_num=[[@{mag_total}]]}}{{val2=@{prefix-spellschool_name}}}{{val2_num=[[@{prefix-spellschool}+@{prefix-spellspecialized}+@{prefix-spellbonus}-(@{mag_total})]]}}{{val3=Drain Attribute}}{{val3_num=[[@{drainattribute}]]}}{{val4=@{wil_name}}}{{val4_num=[[@{wil_total}]]}}{{val5=Drain Bonus}}{{val5_num=[[@{drainbonus}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Force}}{{limit_num=[[?{Force|6}]]}}{{limit_mod=[[?{Raise Limit by|0}]]}}{{result=[[(@{prefix-spellschool}+@{prefix-spellspecialized}+@{prefix-spellbonus}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(?{Force|6}+?{Raise Limit by|0})]]]]}}{{drain=Drain}}{{drain_num=[[?{Force|6}@{prefix-spelldrain}+?{Increase Drain|0}]]}}{{after2=Drain Resist}}{{after2_num=[[(@{wil_total}+@{drainattribute}+@{drainbonus}+?{Drain Resist Bonus|0})@{standardroll}]]}}{{description=@{prefix-spelldescription}}}"></button>
                            </div>
                        </summary>
                        <textarea name="attr_spelldescription" rows="6"></textarea>
                    </details>
            </fieldset>
            <br>
            <h2>Rituals</h2>
            <div class="spelllabels">
                <div class="spellnamewrapper">
                    <label class="spelllabel">Name</label>
                </div>
                <div class="spellschoolwrapper">
                    <label class="spelllabel">School</label>
                </div>
                <div class="spelltypewrapper">
                    <label class="spelllabel">Type</label>
                </div>
                <div class="spellcategorywrapper">
                    <label class="spelllabel">Category</label>
                </div>
                <div class="spellrangewrapper">
                    <label class="spelllabel">Range</label>
                </div>
                <div class="spelldurationwrapper">
                    <label class="spelllabel">Dur</label>
                </div>
                <div class="spelldescriptionwrapper">
                    <label class="spelllabel">Description</label>
                </div>
                <div class="spellbonuswrapper">
                    <label class="spelllabel">Bonus</label>
                </div>
                <div class="spellspecializationwrapper">
                    <label class="spelllabel">Spec</label>
                </div>
                <div class="spellrollwrapper">
                    <label class="spelllabel">Fast</label>
                </div>
                <div class="spellrollwrapper">
                    <label class="spelllabel">Full</label>
                </div>
            </div>
            <fieldset class="repeating_rituals">
                <div class="spellrow">
                    <details>
                        <summary>
                            <div class="spellnamewrapper">
                                <input type="text" name="attr_spellname" title="Name of the Spell">
                            </div>
                            <div class="spellschoolwrapper">
                                <select name="attr_spellschool">
                                    <option value="@{skilldicepool68}">Spell</option>
                                    <option value="@{skilldicepool58}">Preparation</option>
                                    <option value="@{skilldicepool67}" selected >Ritual</option>
                                </select>
                            </div>
                            <input type="text" name="attr_spellschool_name" value="@{skillname68}" class="hiddentextfield">
                            <div class="spelltypewrapper">
                                <input type="text" name="attr_spelltype" title="(optional) e.g. M/P">
                            </div>
                            <div class="spellcategorywrapper">
                                <input type="text" name="attr_spellcategory" title="(optional) e.g. Combat/Health/...">
                            </div>
                            <div class="spellrangewrapper">
                                <input type="text" name="attr_spellrange" title="(optional) e.g. LOS">
                            </div>
                            <div class="spelldurationwrapper">
                                <input type="text" name="attr_spellduration" title="(optional) e.g. I/S/P">
                            </div>
                            <div class="spelldescriptionwrapper">
                                <input type="text" name="attr_spelldescription" title="To make life easy on your gm
make sure to enter what the spell is resisted with">
                            </div>
                            <div class="spellbonuswrapper">
                                <input type="text" name="attr_spellbonus" value="0" title="Bonus applying only to this Test">
                            </div>
                            <div class="spellspecializedwrapper">
                                <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_spellspecialized" value="2" title="Apply +2 from specialization to casting this Spell">
                                <div class="checkboxticker spellspecializedunticked"></div>
                                <div class="checkboxticker spellspecializedticked">X</div>
                            </div>
                            <div class="spellbuttonwrapper">
                                <button type="action" class="spellrollmage" name="act_roll" value="@{gmroll}&{template:hitsToDrain}{{name=@{character_name}}}{{roll_name=for @{prefix-spellname} - Force ?{Force|6}}}{{subheader=@{prefix-spellcategory} - @{prefix-spelltype} - @{prefix-spellrange} - @{prefix-spellduration}}}{{magic=@{mag_name}}}{{magic_num=[[@{mag_total}]]}}{{spellschool=@{prefix-spellschool_name}}}{{spellschool_num=[[@{prefix-spellschool}+@{prefix-spellspecialized}+@{prefix-spellbonus}-(@{mag_total})]]}}{{drainAttr=Drain Attribute}}{{drainAttr_num=[[@{drainattribute}]]}}{{willpower=@{wil_name}}}{{willpower_num=[[@{wil_total}]]}}{{drainBonus=Drain Bonus}}{{drainBonus_num=[[@{drainbonus}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Force}}{{limit_num=[[?{Force|6}]]}}{{result=[[(@{prefix-spellschool}+@{prefix-spellspecialized}+@{prefix-spellbonus}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[?{Force|6}]]]]}}{{opposing= [[?{Force|6}d6>5sd]]}}{{drain=Drain}}{{drainResist=Drain Resist}}{{drainResist_num=[[(@{wil_total}+@{drainattribute}+@{drainbonus})@{standardroll}]]}}{{description=@{prefix-spelldescription}}}"></button>
                            </div>
                            <div class="spellbuttonwrapper">
                                <button type="action" class="spellrollmage" name="act_roll" value="@{gmroll}&{template:hitsToDrain}{{name=@{character_name}}}{{roll_name=for @{prefix-spellname} - Force ?{Force|6}}}{{subheader=@{prefix-spellcategory} - @{prefix-spelltype} - @{prefix-spellrange} - @{prefix-spellduration}}}{{magic=@{mag_name}}}{{magic_num=[[@{mag_total}]]}}{{spellschool=@{prefix-spellschool_name}}}{{spellschool_num=[[@{prefix-spellschool}+@{prefix-spellspecialized}+@{prefix-spellbonus}-(@{mag_total})]]}}{{drainAttr=Drain Attribute}}{{drainAttr_num=[[@{drainattribute}]]}}{{willpower=@{wil_name}}}{{vwillpower_num=[[@{wil_total}]]}}{{drainBonus=Drain Bonus}}{{drainBonus_num=[[@{drainbonus}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Force}}{{limit_num=[[?{Force|6}]]}}{{limit_mod=[[?{Raise Limit by|0}]]}}{{result=[[(@{prefix-spellschool}+@{prefix-spellspecialized}+@{prefix-spellbonus}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(?{Force|6}+?{Raise Limit by|0})]]]]}}{{opposing= [[?{Force|6}d6>5sd]]}}{{drain=Drain}}{{drainResist=Drain Resist}}{{drainResist_num=[[(@{wil_total}+@{drainattribute}+@{drainbonus}+?{Drain Resist Bonus|0})@{standardroll}]]}}{{description=@{prefix-spelldescription}}}"></button>
                            </div>
                        </summary>
                        <textarea name="attr_spelldescription" rows="6"></textarea>
                    </details>
                </div>
            </fieldset>
            <br>
            <h2>Alchemy</h2>
            <div class="spelllabels">
                <div class="spellnamewrapper">
                    <label class="spelllabel">Name</label>
                </div>
                <div class="spellschoolwrapper">
                    <label class="spelllabel">School</label>
                </div>
                <div class="spelltypewrapper">
                    <label class="spelllabel">Type</label>
                </div>
                <div class="spellcategorywrapper">
                    <label class="spelllabel">Category</label>
                </div>
                <div class="spellrangewrapper">
                    <label class="spelllabel">Range</label>
                </div>
                <div class="spelldurationwrapper">
                    <label class="spelllabel">Dur</label>
                </div>
                <div class="spelldrainwrapper">
                    <label class="spelllabel">Drain</label>
                </div>
                <div class="spelldescriptionwrapper">
                    <label class="spelllabel">Description</label>
                </div>
                <div class="spellbonuswrapper">
                    <label class="spelllabel">Bonus</label>
                </div>
                <div class="spellspecializationwrapper">
                    <label class="spelllabel">Spec</label>
                </div>
                <div class="spellrollwrapper">
                    <label class="spelllabel">Fast</label>
                </div>
                <div class="spellrollwrapper">
                    <label class="spelllabel">Full</label>
                </div>
            </div>
            <fieldset class="repeating_alchemy">
                <div class="spellrow">
                    <details>
                        <summary>
                            <div class="spellnamewrapper">
                                <input type="text" name="attr_spellname" title="Name of the Spell">
                            </div>
                            <div class="spellschoolwrapper">
                                <select name="attr_spellschool">
                                    <option value="@{skilldicepool68}">Spell</option>
                                    <option value="@{skilldicepool58}" selected>Preparation</option>
                                    <option value="@{skilldicepool67}">Ritual</option>
                                </select>
                            </div>
                            <input type="text" name="attr_spellschool_name" value="@{skillname68}" class="hiddentextfield">
                            <div class="spelltypewrapper">
                                <input type="text" name="attr_spelltype" title="(optional) e.g. M/P">
                            </div>
                            <div class="spellcategorywrapper">
                                <input type="text" name="attr_spellcategory" title="(optional) e.g. Combat/Health/...">
                            </div>
                            <div class="spellrangewrapper">
                                <input type="text" name="attr_spellrange" title="(optional) e.g. LOS">
                            </div>
                            <div class="spelldurationwrapper">
                                <input type="text" name="attr_spellduration" title="(optional) e.g. I/S/P">
                            </div>
                            <div class="spelldrainwrapper">
                                <input type="text" name="attr_spelldrain" title="do not enter any letters
only the modifier like '-1'
a zeros and positive numbers also need a sign like '+0'


For Rituals enter '*2' to display the amount of Dice to be rolled seperatly">
                            </div>
                            <div class="spelldescriptionwrapper">
                                <input type="text" name="attr_spelldescription" title="To make life easy on your gm
make sure to enter what the spell is resisted with">
                            </div>
                            <div class="spellbonuswrapper">
                                <input type="text" name="attr_spellbonus" value="0" title="Bonus applying only to this Test">
                            </div>
                            <div class="spellspecializedwrapper">
                                <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_spellspecialized" value="2" title="Apply +2 from specialization to casting this Spell">
                                <div class="checkboxticker spellspecializedunticked"></div>
                                <div class="checkboxticker spellspecializedticked">X</div>
                            </div>
                            <div class="spellbuttonwrapper">
                                <button type="action" class="spellrollmage" name="act_roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=for @{prefix-spellname} - Force ?{Force|6}}}{{subheader=@{prefix-spellcategory} - @{prefix-spelltype} - @{prefix-spellrange} - @{prefix-spellduration}}}{{val1=@{mag_name}}}{{val1_num=[[@{mag_total}]]}}{{val2=@{prefix-spellschool_name}}}{{val2_num=[[@{prefix-spellschool}+@{prefix-spellspecialized}+@{prefix-spellbonus}-(@{mag_total})]]}}{{val3=Drain Attribute}}{{val3_num=[[@{drainattribute}]]}}{{val4=@{wil_name}}}{{val4_num=[[@{wil_total}]]}}{{val5=Drain Bonus}}{{val5_num=[[@{drainbonus}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Force}}{{limit_num=[[?{Force|6}]]}}{{result=[[(@{prefix-spellschool}+@{prefix-spellspecialized}+@{prefix-spellbonus}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[?{Force|6}]]]]}}{{drain=Drain}}{{drain_num=[[?{Force|6}@{prefix-spelldrain}]]}}{{after2=Drain Resist}}{{after2_num=[[(@{wil_total}+@{drainattribute}+@{drainbonus})@{standardroll}]]}}{{description=@{prefix-spelldescription}}}"></button>
                            </div>
                            <div class="spellbuttonwrapper">
                                <button type="action" class="spellrollmage" name="act_roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=for @{prefix-spellname} - Force ?{Force|6}}}{{subheader=@{prefix-spellcategory} - @{prefix-spelltype} - @{prefix-spellrange} - @{prefix-spellduration}}}{{val1=@{mag_name}}}{{val1_num=[[@{mag_total}]]}}{{val2=@{prefix-spellschool_name}}}{{val2_num=[[@{prefix-spellschool}+@{prefix-spellspecialized}+@{prefix-spellbonus}-(@{mag_total})]]}}{{val3=Drain Attribute}}{{val3_num=[[@{drainattribute}]]}}{{val4=@{wil_name}}}{{val4_num=[[@{wil_total}]]}}{{val5=Drain Bonus}}{{val5_num=[[@{drainbonus}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Force}}{{limit_num=[[?{Force|6}]]}}{{limit_mod=[[?{Raise Limit by|0}]]}}{{result=[[(@{prefix-spellschool}+@{prefix-spellspecialized}+@{prefix-spellbonus}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(?{Force|6}+?{Raise Limit by|0})]]]]}}{{drain=Drain}}{{drain_num=[[?{Force|6}@{prefix-spelldrain}+?{Increase Drain|0}]]}}{{after2=Drain Resist}}{{after2_num=[[(@{wil_total}+@{drainattribute}+@{drainbonus}+?{Drain Resist Bonus|0})@{standardroll}]]}}{{description=@{prefix-spelldescription}}}"></button>
                            </div>
                        </summary>
                        <textarea name="attr_spelldescription" rows="6"></textarea>
                    </details>
                </div>
            </fieldset>
        </div>
        <div class="spirits">
            <div>
                <h2>Spirits</h2>
                <div class="spiriterow">
                    <div class="spiritelabel"><label>Summon Spirit</label></div>
                    <div class="spiritelabel"><label>Bind Spirit</label></div>
                </div>
                <div class="spiriterow">
                    <div class="spiritelabel">
                        <button type="action" class="spellrollmage" name="act_rollSummoning" value="@{gmroll}&{template:hitsToDrain}{{name=@{character_name}}}{{roll_name=to summon}}{{magic=@{mag_name}}}{{magic_num=[[@{mag_total}]]}}{{spellschool=Summoning}}{{spellschool_num=[[@{skilldicepool69}-(@{mag_total})+?{Specialized in this Spirit|yes,2|no,0}]]}}{{drainAttr=Drain Attribute}}{{drainAttr_num=[[@{drainattribute}+?{Drain Resist Bonus|0}]]}}{{willpower=@{wil_name}}}{{willpower_num=[[@{wil_total}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Force}}{{limit_num=[[?{Force|6}]]}}{{limit_mod=[[?{Raise Limit by|0}]]}}{{result=[[(@{skilldicepool69}+?{Specialized in this Spirit}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(?{Force}+?{Raise Limit by|0})]]]]}}{{opposing= [[?{Force|6}d6>5sd]]}}{{drainResist=Drain Resist}}{{drain=Drain}}{{drainResist_num=[[(@{wil_total}+@{drainattribute}+?{Drain Resist Bonus|0})@{standardroll}]]}}"></button>
                    </div>
                    <div class="spiritelabel">
                        <button type="action" class="spellrollmage" name="act_rollSummoning" value="@{gmroll}&{template:hitsToDrain}{{name=@{character_name}}}{{roll_name=to bind}}{{magic=@{mag_name}}}{{magic_num=[[@{mag_total}]]}}{{spellschool=Summoning}}{{spellschool_num=[[@{skilldicepool69}-(@{mag_total})+?{Specialized in this Spirit|yes,2|no,0}]]}}{{drainAttr=Drain Attribute}}{{drainAttr_num=[[@{drainattribute}+?{Drain Resist Bonus|0}]]}}{{willpower=@{wil_name}}}{{willpower_num=[[@{wil_total}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Force}}{{limit_num=[[?{Force|6}]]}}{{limit_mod=[[?{Raise Limit by|0}]]}}{{result=[[(@{skilldicepool69}+?{Specialized in this Spirit}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(?{Force}+?{Raise Limit by|0})]]]]}}{{opposing= [[[[2*?{Force|6}]]d6>5sd]]}}{{drainResist=Drain Resist}}{{drain=Drain}}{{drainResist_num=[[(@{wil_total}+@{drainattribute}+?{Drain Resist Bonus|0})@{standardroll}]]}}"></button>
                    </div>
                </div>
            </div>
        </div>
        <div class="initiation">
            <div>
                <h2>Initiation</h2>
                <div class="initiationrow">
                    <div class="initiationspacer"> </div>
                    <div class="initiationlabelwrapper"><label>Initiationgrade</label></div>
                    <div class="initiationwrapper"><input type="text" class="essence" name="attr_initiationgrade" value="0"></div>
                </div>
                <div class="initiationrow">
                    <div class="metamagicnamewrapper">
                        <label class="qualitylabel">Metamagic</label>
                    </div>
                    <div class="metamagicdescriptionwrapper">
                        <label class="qualitylabel">Description</label>
                    </div>
                </div>
            </div>
            <fieldset class="repeating_initiation">
                <div class="initiationrow">
                    <div class="metamagicnamewrapper">
                        <input type="text" name="attr_metamagicname" title="What you got">
                    </div>
                    <div class="metamagicdescriptionwrapper">
                        <input type="text" name="attr_metamagicdescription" title="What it does">
                    </div>
                </div>
            </fieldset>
        </div>
        <div class="spiritstable">
            <div class="spiriterow">
                <div class="spiritenamewrapper">
                    <label>Name</label>
                </div>
                <div class="spiritetypewrapper">
                    <label>Type</label>
                </div>
                <div class="spiriteforcewrapper">
                    <label>Force</label>
                </div>
                <div class="spiritserviceswrapper">
                    <label>Services</label>
                </div>
                <div class="spiriterollwrapper">
                    <label>Initiative</label>
                </div>
                <div class="spiriterollwrapper">
                    <label>Test</label>
                </div>
                <div class="spiriterollwrapper">
                    <label>Attribute</label>
                </div>
                <div class="spiriterollwrapper">
                    <label>Show Stats</label>
                </div>
                <div class="spiriteboundwrapper">
                    <label>Bound</label>
                </div>
            </div>
            <fieldset class="repeating_spirites">
                <details>
                    <summary class="spiriterow">
                        <div class="spiritenamewrapper">
                            <input type="text" name="attr_spiritename" title="Name of your little Helper">
                        </div>
                        <div class="spiritetypewrapper" title="What Type of Spirit">
                            <select name="attr_spirittype">
                                <option value="@{air">Air Spirit</option>
                                <option value="@{earth">Earth Spirit</option>
                                <option value="@{beast">Beast Spirit</option>
                                <option value="@{fire">Fire Spirit</option>
                                <option value="@{man">Man Spirit</option>
                                <option value="@{water">Water Spirit</option>
                                <option value="@{guardian">Guardian Spirit</option>
                                <option value="@{guidance">Guidance Spirit</option>
                                <option value="@{plant">Plant Spirit</option>
                                <option value="@{task">Task Spirit</option>
                                <option value="@{ally">Ally Spirit</option>
                            </select>
                        </div>
                        <div class="spiriteforcewrapper">
                            <input type="text" name="attr_spiriteforce" title="Strength of your little Helper">
                        </div>
                        <div class="spiritserviceswrapper">
                            <input type="text" name="attr_spiritservices" title="Number of Services owed">
                        </div>
                        <div class="spiriterollwrapper">
                            <button type="roll" class="spellrollmage" name="roll_spriritinitiativeroll" title="Roll for Initiative with this Spirit"
                                    value="@{gmroll}&{template:shadowrun}{{name=@{spiritename} (@{spirittype}_name})}}{{roll_name=for Initiative}}{{val1=Force}}{{val1_num=[[@{spiriteforce}]]}}{{val3=Dice}}{{val3_num=[[2+?{Initiative Type|Astral,1|Physical,0}]]}}{{val2=Attributes}}{{val2_num=[[[[{@{spiriteforce}@{spirittype}_int},1}kh1]]*(1+?{Initiative Type})+[[{@{spiriteforce}@{spirittype}_rea},1}kh1]]*(1-?{Initiative Type})]]}}{{initiative=[[[[{@{spiriteforce}@{spirittype}_int},1}kh1]]*(1+?{Initiative Type})+[[{@{spiriteforce}@{spirittype}_rea},1}kh1]]*(1-?{Initiative Type})+(2+?{Initiative Type})d6 &{tracker}]]}}"></button>
                        </div>
                        <div class="spiriterollwrapper">
                            <button type="roll" class="spellrollmage" name="roll_spirittest" title="Roll a Skill Test or a Test with 2 Attributes"
                                    value="@{gmroll}&{template:shadowrun}{{name=@{spiritename} (@{spirittype}_name})}}{{val1=Force}}{{val1_num=[[@{spiriteforce}]]}}{{val2=Dice-Pool Part1}}{{val2_num=[[{@{spiriteforce}?{Spirit Attribute|Body,@{spirittype}_bod}|Agility,@{spirittype}_agi}|Reaction,@{spirittype}_rea}|Strength,@{spirittype}_str}|Willpower,@{spirittype}_wil}|Logic,@{spirittype}_log}|Intuition,@{spirittype}_int}|Charisma,@{spirittype}_cha}|Magic,-0|Force,-0},1}kh1]]}}{{val3=Dice-Pool Part2}}{{val3_num=[[{@{Spiriteforce}?{Part 2|Skill,-0|Body,@{spirittype}_bod}|Agility,@{spirittype}_agi}|Reaction,@{spirittype}_rea}|Strength,@{spirittype}_str}|Willpower,@{spirittype}_wil}|Logic,@{spirittype}_log}|Intuition,@{spirittype}_int}|Charisma,@{spirittype}_cha}|Magic,-0|Force x2,*2},1}kh1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{limit=Limit}}{{limit_num=[[?{Limit|Force,@{spiriteforce}|Physical,ceil((@{spiriteforce}*4@{spirittype}_str}*2@{spirittype}_rea}@{spirittype}_bod})/3)|Mental,ceil((@{spiriteforce}*4@{spirittype}_log}*2@{spirittype}_int}@{spirittype}_wil})/3)|Social,ceil((@{spiriteforce}*4)/3)|Astral,ceil((@{spiriteforce}*4)/3)|Armor,(@{spiriteforce}*3+@{spirittype}_bod})}]]}}{{result=[[([[{@{spiriteforce}?{Spirit Attribute},1}kh1]]+[[{@{spiriteforce}?{Part 2},1}kh1]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[?{Limit}]]]]}}"></button>
                        </div>
                        <div class="spiriterollwrapper">
                            <button type="roll" class="spellrollmage" name="roll_spiritattribute" title="Roll a Test with a single Attributes"
                                    value="@{gmroll}&{template:shadowrun}{{name=@{spiritename} (@{spirittype}_name})}}{{val1=Force}}{{val1_num=[[@{spiriteforce}]]}}{{val2=Attribute}}{{val2_num=[[{@{spiriteforce}?{Spirit Attribute|Body,@{spirittype}_bod}|Agility,@{spirittype}_agi}|Reaction,@{spirittype}_rea}|Strength,@{spirittype}_str}|Willpower,@{spirittype}_wil}|Logic,@{spirittype}_log}|Intuition,@{spirittype}_int}|Charisma,@{spirittype}_cha}|Magic,-0|Force,-0},1}kh1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{result=[[([[{@{spiriteforce}?{Spirit Attribute},1}kh1]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                        </div>
                        <div class="spiriterollwrapper">
                            <button type="roll" class="spellrollmage" name="roll_spiritattributes" title="Output Attributes to Chat"
                                    value="@{gmroll}&{template:shadowrun}{{name=@{spiritename} (@{spirittype}_name})}}{{roll_name=his stats}}{{val1=Body}}{{val1_num=[[{@{spiriteforce}@{spirittype}_bod},1}kh1]]}}{{val2=Agility}}{{val2_num=[[{@{spiriteforce}@{spirittype}_agi},1}kh1]]}}{{val3=Reaction}}{{val3_num=[[{@{spiriteforce}@{spirittype}_rea},1}kh1]]}}{{val4=Strength}}{{val4_num=[[{@{spiriteforce}@{spirittype}_str},1}kh1]]}}{{val5=Willpower}}{{val5_num=[[{@{spiriteforce}@{spirittype}_wil},1}kh1]]}}{{val6=Logic}}{{val6_num=[[{@{spiriteforce}@{spirittype}_log},1}kh1]]}}{{val7=Intuition}}{{val7_num=[[{@{spiriteforce}@{spirittype}_int},1}kh1]]}}{{val8=Charisma}}{{val8_num=[[{@{spiriteforce}@{spirittype}_cha},1}kh1]]}}{{description=@{spiritenotes}}}"></button>
                        </div>
                        <input type="checkbox" class="hiddencheckbox spiriteboundcheckbox" name="attr_spiritebound">
                        <div class="checkboxticker spiriteboundunticked"></div>
                        <div class="checkboxticker spiriteboundticked">X</div>
                    </summary>
                    <textarea name="attr_spiritenotes" title="Have more Space!"></textarea>
                </details>
            </fieldset>
        </div>
    </div>
    <div class="contentCritter">
        <div class="spells">
            <h2>Critter Powers</h2>
            <div class="spelllabels">
                <div class="spellnamewrapper">
                    <label class="spelllabel">Name</label>
                </div>
                <div class="spellschoolwrapper">
                    <label class="spelllabel">School</label>
                </div>
                <div class="spelltypewrapper">
                    <label class="spelllabel">Type</label>
                </div>
                <div class="spellcategorywrapper">
                    <label class="spelllabel">Category</label>
                </div>
                <div class="spellrangewrapper">
                    <label class="spelllabel">Range</label>
                </div>
                <div class="spelldurationwrapper">
                    <label class="spelllabel">Dur</label>
                </div>
                <div class="spelldrainwrapper">
                    <label class="spelllabel">Drain</label>
                </div>
                <div class="spelldescriptionwrapper">
                    <label class="spelllabel">Description</label>
                </div>
                <div class="spellbonuswrapper">
                    <label class="spelllabel">Bonus</label>
                </div>
                <div class="spellspecializationwrapper">
                    <label class="spelllabel">Spec</label>
                </div>
                <div class="spellrollwrapper">
                    <label class="spelllabel">Fast</label>
                </div>
                <div class="spellrollwrapper">
                    <label class="spelllabel">Full</label>
                </div>
            </div>
            <fieldset class="repeating_critterpowers">
                <div class="spellrow">
                    <details>
                        <summary>
                            <div class="spellnamewrapper">
                                <input type="text" name="attr_spellname" title="Name of the Spell">
                            </div>
                            <div class="spellschoolwrapper">
                                <select name="attr_spellschool">
                                    <option value="@{skilldicepool68}">Spell</option>
                                    <option value="@{skilldicepool58}">Preparation</option>
                                    <option value="@{skilldicepool67}">Ritual</option>
                                </select>
                            </div>
                            <input type="text" name="attr_spellschool_name" value="@{skillname68}" class="hiddentextfield">
                            <div class="spelltypewrapper">
                                <input type="text" name="attr_spelltype" title="(optional) e.g. M/P">
                            </div>
                            <div class="spellcategorywrapper">
                                <input type="text" name="attr_spellcategory" title="(optional) e.g. Combat/Health/...">
                            </div>
                            <div class="spellrangewrapper">
                                <input type="text" name="attr_spellrange" title="(optional) e.g. LOS">
                            </div>
                            <div class="spelldurationwrapper">
                                <input type="text" name="attr_spellduration" title="(optional) e.g. I/S/P">
                            </div>
                            <div class="spelldrainwrapper">
                                <input type="text" name="attr_spelldrain" title="do not enter any letters
only the modifier like '-1'
a zeros and positive numbers also need a sign like '+0'


For Rituals enter '*2' to display the amount of Dice to be rolled seperatly">
                            </div>
                            <div class="spelldescriptionwrapper">
                                <input type="text" name="attr_spelldescription" title="To make life easy on your gm
make sure to enter what the spell is resisted with">
                            </div>
                            <div class="spellbonuswrapper">
                                <input type="text" name="attr_spellbonus" value="0" title="Bonus applying only to this Test">
                            </div>
                            <div class="spellspecializedwrapper">
                                <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_spellspecialized" value="2" title="Apply +2 from specialization to casting this Spell">
                                <div class="checkboxticker spellspecializedunticked"></div>
                                <div class="checkboxticker spellspecializedticked">X</div>
                            </div>
                            <div class="spellbuttonwrapper">
                                <button type="action" class="spellrollmage" name="act_roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=for @{prefix-spellname} - Force ?{Force|6}}}{{subheader=@{prefix-spellcategory} - @{prefix-spelltype} - @{prefix-spellrange} - @{prefix-spellduration}}}{{val1=@{mag_name}}}{{val1_num=[[@{mag_total}]]}}{{val2=@{prefix-spellschool_name}}}{{val2_num=[[@{prefix-spellschool}+@{prefix-spellspecialized}+@{prefix-spellbonus}-(@{mag_total})]]}}{{val3=Drain Attribute}}{{val3_num=[[@{drainattribute}]]}}{{val4=@{wil_name}}}{{val4_num=[[@{wil_total}]]}}{{val5=Drain Bonus}}{{val5_num=[[@{drainbonus}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Force}}{{limit_num=[[?{Force|6}]]}}{{result=[[(@{prefix-spellschool}+@{prefix-spellspecialized}+@{prefix-spellbonus}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[?{Force|6}]]]]}}{{drain=Drain}}{{drain_num=[[?{Force|6}@{prefix-spelldrain}]]}}{{after2=Drain Resist}}{{after2_num=[[(@{wil_total}+@{drainattribute}+@{drainbonus})@{standardroll}]]}}{{description=@{prefix-spelldescription}}}"></button>
                            </div>
                            <div class="spellbuttonwrapper">
                                <button type="action" class="spellrollmage" name="act_roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=for @{prefix-spellname} - Force ?{Force|6}}}{{subheader=@{prefix-spellcategory} - @{prefix-spelltype} - @{prefix-spellrange} - @{prefix-spellduration}}}{{val1=@{mag_name}}}{{val1_num=[[@{mag_total}]]}}{{val2=@{prefix-spellschool_name}}}{{val2_num=[[@{prefix-spellschool}+@{prefix-spellspecialized}+@{prefix-spellbonus}-(@{mag_total})]]}}{{val3=Drain Attribute}}{{val3_num=[[@{drainattribute}]]}}{{val4=@{wil_name}}}{{val4_num=[[@{wil_total}]]}}{{val5=Drain Bonus}}{{val5_num=[[@{drainbonus}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Force}}{{limit_num=[[?{Force|6}]]}}{{limit_mod=[[?{Raise Limit by|0}]]}}{{result=[[(@{prefix-spellschool}+@{prefix-spellspecialized}+@{prefix-spellbonus}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(?{Force|6}+?{Raise Limit by|0})]]]]}}{{drain=Drain}}{{drain_num=[[?{Force|6}@{prefix-spelldrain}+?{Increase Drain|0}]]}}{{after2=Drain Resist}}{{after2_num=[[(@{wil_total}+@{drainattribute}+@{drainbonus}+?{Drain Resist Bonus|0})@{standardroll}]]}}{{description=@{prefix-spelldescription}}}"></button>
                            </div>
                        </summary>
                        <textarea name="attr_spelldescription" rows="6"></textarea>
                    </details>
                </div>
            </fieldset>
        </div>
    </div>
    <div class="contentTechnomancer">
        <div class="spells">
            <h2>Complex Forms</h2>
            <div> Sustained: <input type="number" class="statinput" name="attr_sustainedspells" value="0"></div>
            <div class="spelllabels">
                <div class="spellnamewrapper">
                    <label class="spelllabel">Name</label>
                </div>
                <div class="spelltypewrapper">
                    <label class="spelllabel">Target</label>
                </div>
                <div class="spellcategorywrapper">
                    <label class="spelllabel">Category</label>
                </div>
                <div class="spellrangewrapper">
                    <label class="spelllabel">Range</label>
                </div>
                <div class="spelldurationwrapper">
                    <label class="spelllabel">Dur</label>
                </div>
                <div class="spelldrainwrapper">
                    <label class="spelllabel">Fade</label>
                </div>
                <div class="spelldescriptionwrapper">
                    <label class="spelllabel">Description</label>
                </div>
                <div class="spellbonuswrapper">
                    <label class="spelllabel">Bonus</label>
                </div>
                <div class="spellspecializationwrapper">
                    <label class="spelllabel">Spec</label>
                </div>
                <div class="spellrollwrapper">
                    <label class="spelllabel">Fast</label>
                </div>
                <div class="spellrollwrapper">
                    <label class="spelllabel">Full</label>
                </div>
            </div>
            <fieldset class="repeating_complexforms">
                <div class="spellrow">
                    <div class="spellnamewrapper">
                        <input type="text" name="attr_spellname" title="Name of the Complex Form">
                    </div>
                    <input type="text" name="attr_spellschool" value="@{skilldicepool42}" class="hiddentextfield">
                    <input type="text" name="attr_spellschool_name" value="@{skillname42}" class="hiddentextfield">
                    <div class="spelltypewrapper">
                        <input type="text" name="attr_spelltype" title="Target">
                    </div>
                    <div class="spellcategorywrapper">
                        <input type="text" name="attr_spellcategory" title="(optional) e.g. Combat/Health/...">
                    </div>
                    <div class="spellrangewrapper">
                        <input type="text" name="attr_spellrange" title="(optional) e.g. LOS">
                    </div>
                    <div class="spelldurationwrapper">
                        <input type="text" name="attr_spellduration" title="(optional) e.g. I/S/P">
                    </div>
                    <div class="spelldrainwrapper">
                        <input type="text" name="attr_spelldrain" title="do not enter any letters
only the modifier like '-1'
a zeros and positive numbers also need a sign like '+0'">
                    </div>
                    <div class="spelldescriptionwrapper">
                        <input type="text" name="attr_spelldescription" title="To make life easy on your gm
make sure to enter what the spell is resisted with">
                    </div>
                    <div class="spellbonuswrapper">
                        <input type="text" name="attr_spellbonus" value="0" title="Bonus applying only to this Test">
                    </div>
                    <div class="spellspecializedwrapper">
                        <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_spellspecialized" value="2" title="Apply +2 from specialization to casting this Spell">
                        <div class="checkboxticker spellspecializedunticked"></div>
                        <div class="checkboxticker spellspecializedticked">X</div>
                    </div>
                    <div class="spellbuttonwrapper">
                        <button type="action" class="spellrolltechno" name="act_roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=for @{prefix-spellname} - Level ?{Level|6}}}{{subheader=@{prefix-spellcategory} - @{prefix-spelltype} - @{prefix-spellrange} - @{prefix-spellduration}}}{{val1=@{res_name}}}{{val1_num=[[@{mag_total}]]}}{{val2=@{prefix-spellschool_name}}}{{val2_num=[[[[@{prefix-spellschool}]]+[[@{prefix-spellspecialized}[Spec]]]+@{prefix-spellbonus}-([[@{skillattr_value42}]])]]}}{{val3=@{wil_name}}}{{val3_num=[[@{wil_total}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Level}}{{limit_num=[[?{Level|6}]]}}{{result=[[([[[[@{prefix-spellschool}]]+[[@{prefix-spellspecialized}[Spec]]]+@{prefix-spellbonus}-([[@{skillattr_value42}]])]]+[[@{mag_total}[Resonance]]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(?{Level|6})]]]]}}{{drain=Fade}}{{drain_num=[[?{Level|6}@{prefix-spelldrain}]]}}{{after2=Fade Resist}}{{after2_num=[[ ( @{wil_total}+@{res_total}+@{drainbonus}+?{Fade Resist Bonus|0} )@{standardroll} ]]}}{{description=@{prefix-spelldescription}}}"></button>
                    </div>
                    <div class="spellbuttonwrapper">
                        <button type="action" class="spellrolltechno" name="act_roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=for @{prefix-spellname} - Level ?{Level|6}}}{{subheader=@{prefix-spellcategory} - @{prefix-spelltype} - @{prefix-spellrange} - @{prefix-spellduration}}}{{val1=@{res_name}}}{{val1_num=[[@{mag_total}]]}}{{val2=@{prefix-spellschool_name}}}{{val2_num=[[[[@{prefix-spellschool}]]+[[@{prefix-spellspecialized}[Spec]]]+@{prefix-spellbonus}-([[@{skillattr_value42}]])]]}}{{val3=@{wil_name}}}{{val3_num=[[@{wil_total}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Level}}{{limit_num=[[?{Level|6}]]}}{{result=[[([[[[@{prefix-spellschool}]]+[[@{prefix-spellspecialized}[Spec]]]+@{prefix-spellbonus}-([[@{skillattr_value42}]])]]+[[@{mag_total}[Resonance]]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(?{Level|6})]]]]}}{{drain=Fade}}{{drain_num=[[?{Level|6}@{prefix-spelldrain}]]}}{{after2=Fade Resist}}{{after2_num=[[ ( @{wil_total}+@{res_total}+@{drainbonus}+?{Fade Resist Bonus|0} )@{standardroll} ]]}}{{description=@{prefix-spelldescription}}}"></button>
                    </div>
                </div>
            </fieldset>
        </div>
        <div class="spirits">
            <h2>Sprites</h2>
            <div class="spiriterow">
                <div class="spiritelabel"><label>Compile Sprite</label></div>
                <div class="spiritelabel"><label>Register Sprite</label></div>
            </div>
            <div class="spiriterow">
                <div class="spiritelabel">
                    <button type="action" class="spellrollmage" name="act_roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=to compile}}{{val1=@{res_name}}}{{val1_num=[[@{res_total}]]}}{{val2=Compiling}}{{val2_num=[[@{skilldicepool70}-(@{mag_total})+?{Specialized in this Sprite|yes,2|no,0}]]}}{{val3=Fade Resist Bonus}}{{val3_num=[[?{Fade Resist Bonus|0}]]}}{{val4=@{wil_name}}}{{val4_num=[[@{wil_total}]]}}{{val5=Level}}{{val5_num=[[?{Level|6}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Level}}{{limit_num=[[?{Level|6}]]}}{{result=[[(@{skilldicepool70}+?{Specialized in this Sprite}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(?{Level})]]]]}}{{after1=Sprite Defense}}{{after1_num=[[?{Level|6}@{standardroll}]]}}{{drain=Fade}}{{spiritdrain=true}}{{after2=Fade Resist}}{{after2_num=[[(@{wil_total}+@{res_total}+?{Fade Resist Bonus|0})@{standardroll}]]}}"></button>
                </div>
                <div class="spiritelabel">
                    <button type="action" class="spellrollmage" name="act_roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=to register}}{{val1=@{res_name}}}{{val1_num=[[@{res_total}]]}}{{val2=Registering}}{{val2_num=[[@{skilldicepool72}-(@{mag_total})+?{Specialized in this Sprite|yes,2|no,0}]]}}{{val3=Fade Resist Bonus}}{{val3_num=[[?{Fade Resist Bonus|0}]]}}{{val4=@{wil_name}}}{{val4_num=[[@{wil_total}]]}}{{val5=Level}}{{val5_num=[[?{Level|6}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Level}}{{limit_num=[[?{Level|6}]]}}{{result=[[(@{skilldicepool72}+?{Specialized in this Sprite}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(?{Level})]]]]}}{{after1=Sprite Defense}}{{after1_num=[[(?{Level|6}*2)@{standardroll}]]}}{{drain=Fade}}{{spiritdrain=true}}{{after2=Fade Resist}}{{after2_num=[[(@{wil_total}+@{res_total}+?{Fade Resist Bonus|0})@{standardroll}]]}}"></button>
                </div>
            </div>
        </div>
        <div class="initiation">
            <div>
                <h2>Submersion</h2>
                <div class="initiationrow">
                    <div class="metamagicnamewrapper">
                        <label class="qualitylabel">Echo</label>
                    </div>
                    <div class="metamagicdescriptionwrapper">
                        <label class="qualitylabel">Description</label>
                    </div>
                </div>
            </div>
            <fieldset class="repeating_initiation">
                <div class="initiationrow">
                    <div class="metamagicnamewrapper">
                        <input type="text" name="attr_metamagicname" title="What you got">
                    </div>
                    <div class="metamagicdescriptionwrapper">
                        <input type="text" name="attr_metamagicdescription" title="What it does">
                    </div>
                </div>
            </fieldset>
        </div>
        <div class="spiritstable">
            <div class="spiriterow">
                <div class="spiritenamewrapper">
                    <label>Name</label>
                </div>
                <div class="spiritetypewrapper">
                    <label>Type</label>
                </div>
                <div class="spiriteforcewrapper">
                    <label>Level</label>
                </div>
                <div class="spiritserviceswrapper">
                    <label>Services</label>
                </div>
                <div class="spiriterollwrapper">
                    <label>Initiative</label>
                </div>
                <div class="spiriterollwrapper">
                    <label>Test</label>
                </div>
                <div class="spiriterollwrapper">
                    <label>Attribute</label>
                </div>
                <div class="spiriterollwrapper">
                    <label>Show Stats</label>
                </div>
                <div class="spiriteboundwrapper">
                    <label>Registered</label>
                </div>
            </div>
            <fieldset class="repeating_spirites">
                <details>
                    <summary class="spiriterow">
                        <div class="spiritenamewrapper">
                            <input type="text" name="attr_spiritename" title="Name of your little Helper">
                        </div>
                        <div class="spiritetypewrapper" title="What Type of Sprite">
                            <select name="attr_spritetype">
                                <option value="@{courier">Courier Sprite</option>
                                <option value="@{crack">Crack Sprite</option>
                                <option value="@{data">Data Sprite</option>
                                <option value="@{fault">Fault Sprite</option>
                                <option value="@{machine">Machine Sprite</option>
                                <option value="@{companion">Companion Sprite</option>
                                <option value="@{generalist">Generalist Sprite</option>
                            </select>
                        </div>
                        <div class="spiriteforcewrapper">
                            <input type="text" name="attr_spiriteforce" title="Strength of your little Helper">
                        </div>
                        <div class="spiritserviceswrapper">
                            <input type="text" name="attr_spiritservices" title="Number of Services owed">
                        </div>
                        <div class="spiriterollwrapper">
                            <button type="roll" class="spellrollmage" name="roll_spriteinitiativeroll" title="Roll for Initiative with this Sprite" value="@{gmroll}&{template:shadowrun}{{name=@{spiritename} (@{spritetype}_name})}}{{roll_name=for Matrix Initiative}}{{val1=Level}}{{val1_num=[[@{spiriteforce}]]}}{{val2=Data Processing}}{{val2_num=[[{@{spiriteforce}@{spritetype}_datap},1}kh1]]}}{{val3=Dice}}{{val3_num=[[4]]}}{{initiative=[[@{spiriteforce}+[[{@{spiriteforce}@{spritetype}_datap},1}kh1]]+4d6 &{tracker}]]}}"></button>
                        </div>
                        <div class="spiriterollwrapper">
                            <button type="roll" class="spellrollmage" name="roll_spritetest" title="Roll a Skill Test or a Test with 2 Attributes" value="@{gmroll}&{template:shadowrun}{{name=@{spiritename} (@{spritetype}_name})}}{{val1=Level}}{{val1_num=[[@{spiriteforce}]]}}{{val2=Attribute}}{{val2_num=[[{@{spiriteforce}?{Sprite Attribute|Level,-0|Attack (Charisma),@{spritetype}_attack}|Sleaze (Intuition),@{spritetype}_sleaze}|Data Proc. (Logic),@{spritetype}_datap}|Firewall (Willpower),@{spritetype}_firewall}},1}kh1]]}}{{limit=Limit}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{limit_num=[[@{spiriteforce}?{Limit|Level,-0|Attack,@{spritetype}_attack}|Sleaze,@{spritetype}_sleaze}|Data Proc.,@{spritetype}_datap}|Firewall,@{spritetype}_firewall},1}kh1]]}}{{result=[[([[{@{spiriteforce}?{Sprite Attribute},1}kh1]]+@{spiriteforce}+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[{@{spiriteforce}?{Limit},1}kh1]]]]}}"></button>
                        </div>
                        <div class="spiriterollwrapper">
                            <button type="roll" class="spellrollmage" name="roll_spriteattribute" title="Roll a Test with a single Attributes" value="@{gmroll}&{template:shadowrun}{{name=@{spiritename} (@{spritetype}_name})}}{{val1=Level}}{{val1_num=[[@{spiriteforce}]]}}{{val2=Attribute}}{{val2_num=[[{@{spiriteforce}?{Sprite Attribute|Level,-0|Attack (Charisma),@{spritetype}_attack}|Sleaze (Intuition),@{spritetype}_sleaze}|Data Proc. (Logic),@{spritetype}_datap}|Firewall (Willpower),@{spritetype}_firewall}},1}kh1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{result=[[([[{@{spiriteforce}?{Sprite Attribute},1}kh1]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                        </div>
                        <div class="spiriterollwrapper">
                            <button type="roll" class="spellrollmage" name="roll_spriteattributes" title="Output Attributes to Chat" value="@{gmroll}&{template:shadowrun}{{name=@{spiritename} (@{spritetype}_name})}}{{roll_name=his stats}}{{val1=Level}}{{val1_num=[[@{spiriteforce}]]}}{{val2=Attack}}{{val2_num=[[{@{spiriteforce}@{spritetype}_attack},1}kh1]]}}{{val3=Sleaze}}{{val3_num=[[{@{spiriteforce}@{spritetype}_sleaze},1}kh1]]}}{{val4=Data Proc.}}{{val4_num=[[{@{spiriteforce}@{spritetype}_datap},1}kh1]]}}{{val5=Firewall}}{{val5_num=[[{@{spiriteforce}@{spritetype}_firewall},1}kh1]]}}{{description=@{spiritenotes}}}"></button>
                        </div>
                        <input type="checkbox" class="hiddencheckbox spiriteboundcheckbox" name="attr_spiritebound">
                        <div class="checkboxticker spiriteboundunticked"></div>
                        <div class="checkboxticker spiriteboundticked">X</div>
                    </summary>
                    <textarea name="attr_spiritenotes" title="Have more Space!"></textarea>
                </details>
            </fieldset>
        </div>
    </div>
    <div class="contentEnhancements">
        <div class="qualities">
            <h2>Positive Qualities</h2>
            <div class="qualityrow">
                <div class="qualityname">
                    <label class="qualitylabel">Name</label>
                </div>
                <div class="qualitydescription">
                    <label class="qualitylabel">Rating</label>
                </div>
                <div class="qualitykarma">
                    <label class="qualitylabel">Karma</label>
                </div>
            </div>
            <fieldset class="repeating_posqualities">
                <details>
                    <summary class="qualityrow">
                        <input type="text" class="qualityname" name="attr_posqualityname" title="Name of the Quality">
                        <input type="text" class="qualitydescription" name="attr_posqualitydescription" title="Description of the Quality">
                        <input type="text" class="qualitykarma" name="attr_posqualitykarma" title="Karma Value of the Quality">
                    </summary>
                    <div class="qualitynoteswrapper">
                        <textarea name="attr_posqualnotes" title="Have more Space!"></textarea>
                    </div>
                </details>
            </fieldset>
        </div>
        <div class="qualities">
            <h2>Negative Qualities</h2>
            <div class="qualityrow">
                <div class="qualityname">
                    <label class="qualitylabel">Name</label>
                </div>
                <div class="qualitydescription">
                    <label class="qualitylabel">Rating</label>
                </div>
                <div class="qualitykarma">
                    <label class="qualitylabel">Karma</label>
                </div>
            </div>
            <fieldset class="repeating_negqualities">
                <details>
                    <summary class="qualityrow">
                        <input type="text" class="qualityname" name="attr_negqualityname" title="Name of the Quality">
                        <input type="text" class="qualitydescription" name="attr_negqualitydescription" title="Description of the Quality">
                        <input type="text" class="qualitykarma" name="attr_negqualitykarma" title="Karma Value of the Quality">
                    </summary>
                    <div class="qualitynoteswrapper">
                        <textarea name="attr_negqualnotes" title="Have more Space!"></textarea>
                    </div>
                </details>
            </fieldset>
        </div>
        <div class="ware">
            <h2>Adept Powers</h2>
            <div class="warerow">
                <div class="essencelabelwrapper"><label>Adept Power Points</label></div>
                <div class="essencewrapper"><input type="text" class="essence" name="attr_powerpoints" value="0"></div>
            </div>
            <div class="warerow">
                <div class="warename">
                    <label class="warelabel">Name</label>
                </div>
                <div class="waredescription">
                    <label class="warelabel">Rating</label>
                </div>
                <div class="waregrade">
                    <label class="warelabel">Focus</label>
                </div>
                <div class="wareessence">
                    <label class="warelabel">Adept PP</label>
                </div>
            </div>
            <fieldset class="repeating_powers">
                <details>
                    <summary class="warerow">
                        <input type="text" class="warename" name="attr_poweryname" title="Name of the Adept Power">
                        <input type="text" class="waredescription" name="attr_powerdescription" title="Description of the Adept Power">
                        <input type="text" class="waregrade" name="attr_powerfocus" title="Is this Power on a Focus or from your Mentor Spirit?">
                        <input type="text" class="wareessence" name="attr_powerpoints" title="Power Point Cost of the Adept Power">
                    </summary>
                    <div class="warenoteswrapper">
                        <textarea name="attr_powernotes" title="Have more Space!"></textarea>
                    </div>
                </details>
            </fieldset>
        </div>
        <div class="ware">
            <h2>Cyber-/Bioware</h2>
            <div class="warerow">
                <div class="essencelabelwrapper"><label>Essence Remaining</label></div>
                <div class="essencewrapper"><input type="text" class="essence" name="attr_ess_total" value="6"></div>
            </div>
            <div class="warerow">
                <div class="warename">
                    <label class="warelabel">Name</label>
                </div>
                <div class="waredescription">
                    <label class="warelabel">Rating</label>
                </div>
                <div class="waregrade">
                    <label class="warelabel">Grade</label>
                </div>
                <div class="wareessence">
                    <label class="warelabel">Essence</label>
                </div>
            </div>
            <fieldset class="repeating_ware">
                <details>
                    <summary class="warerow">
                        <input type="text" class="warename" name="attr_warename" title="Name of the Cyber-/Bioware">
                        <input type="text" class="waredescription" name="attr_waredescription" title="Description of the Cyber-/Bioware">
                        <input type="text" class="waregrade" name="attr_waregrade" title="Grade of the Cyber-/Bioware">
                        <input type="text" class="wareessence" name="attr_warekarma" title="Essence Cost of the Cyber-/Bioware">
                    </summary>
                    <div class="warenoteswrapper">
                        <textarea name="attr_warenotes" title="Have more Space!"></textarea>
                    </div>
                </details>
            </fieldset>
        </div>
        <div class="martial">
            <h2>Martial Art Techniques</h2>
            <div class="martialrow">
                <div class="martialname">
                    <label class="warelabel">Technique</label>
                </div>
                <div class="martialdescription">
                    <label class="warelabel">Martial Art</label>
                </div>
            </div>
            <fieldset class="repeating_martial">
                <details>
                    <summary class="martialrow">
                        <input type="text" class="martialname" name="attr_martialname" title="Name of the Cyber-/Bioware">
                        <input type="text" class="martialdescription" name="attr_martialdescription" title="Description of the Cyber-/Bioware">
                    </summary>
                    <div class="martialnoteswrapper">
                        <textarea name="attr_martialnotes" title="Have more Space!"></textarea>
                    </div>
                </details>
            </fieldset>
        </div>
    </div>
    <div class="contentMatrix">
        <div class="cyberdeck">
            <h2>Cyberdeck</h2>
            <div class="decklabelwrapper"><label>Deck Array</label></div>
            <div class="deckinputwrapper">
                <input type="text" name="attr_cyberarray1" title="Highest Stat in the Decks Base Array" value="0">
            </div>
            <div class="deckinputwrapper">
                <input type="text" name="attr_cyberarray2" title="Higher Middle Stat in the Decks Base Array" value="0">
            </div>
            <div class="deckinputwrapper">
                <input type="text" name="attr_cyberarray3" title="Lower Middle Stat in the Decks Base Array" value="0">
            </div>
            <div class="deckinputwrapper">
                <input type="text" name="attr_cyberarray4" title="Lowest Stat in the Decks Base Array" value="0">
            </div>
            <div class="deckrow">
                <div class="deckrowlabel"></div>
                <div class="decklabelwrapper"><label>Attack</label></div>
                <div class="decklabelwrapper"><label>Sleaze</label></div>
                <div class="decklabelwrapper"><label>Data P.</label></div>
                <div class="decklabelwrapper"><label>Firewall</label></div>
                <div class="decklabelwrapper"><label>Dev Rtg</label></div>
            </div>
            <div class="deckrow">
                <div class="deckrowlabel">
                    <label>Base</label>
                </div>
                <div class="deckinputwrapper">
                    <input type="text" name="attr_attack_base" title="Base Value without Modifications or other Bonuses" value="0">
                </div>
                <div class="deckinputwrapper">
                    <input type="text" name="attr_sleaze_base" title="Base Value without Modifications or other Bonuses" value="0">
                </div>
                <div class="deckinputwrapper">
                    <input type="text" name="attr_datap_base" title="Base Value without Modifications or other Bonuses" value="0">
                </div>
                <div class="deckinputwrapper">
                    <input type="text" name="attr_firewall_base" title="Base Value without Modifications or other Bonuses" value="0">
                </div>
                <div class="deckinputwrapper">
                    <input type="text" name="attr_devicertg_base" title="Base Value without Modifications or other Bonuses" value="0">
                </div>
            </div>
            <div class="deckrow">
                <div class="deckrowlabel">
                    <label>Bonus</label>
                </div>
                <div class="deckinputwrapper">
                    <input type="text" name="attr_attack_bonus" title="Modifications or other Bonuses" value="0">
                </div>
                <div class="deckinputwrapper">
                    <input type="text" name="attr_sleaze_bonus" title="Modifications or other Bonuses" value="0">
                </div>
                <div class="deckinputwrapper">
                    <input type="text" name="attr_datap_bonus" title="Modifications or other Bonuses" value="0">
                </div>
                <div class="deckinputwrapper">
                    <input type="text" name="attr_firewall_bonus" title="Modifications or other Bonuses" value="0">
                </div>
                <div class="deckinputwrapper">
                    <input type="text" name="attr_devicertg_bonus" title="Modifications or other Bonuses" value="0">
                </div>
            </div>
            <div class="deckrow">
                <div class="deckrowlabel">
                    <label>Total</label>
                </div>
                <div class="deckinputwrapper">
                    <input type="number" name="attr_attack_total" value="@{attack_base}+@{attack_bonus}" title="Base + Bonus" disabled>
                </div>
                <div class="deckinputwrapper">
                    <input type="number" name="attr_sleaze_total" value="@{sleaze_base}+@{sleaze_bonus}" title="Base + Bonus" disabled>
                </div>
                <div class="deckinputwrapper">
                    <input type="number" name="attr_datap_total" value="@{datap_base}+@{datap_bonus}" title="Base + Bonus" disabled>
                </div>
                <div class="deckinputwrapper">
                    <input type="number" name="attr_firewall_total" value="@{firewall_base}+@{firewall_bonus}" title="Base + Bonus" disabled>
                </div>
                <div class="deckinputwrapper">
                    <input type="number" name="attr_devicertg_total" value="@{devicertg_base}+@{devicertg_bonus}" title="Base + Bonus" disabled>
                </div>
            </div>
            <div class="deckrow">
                <div class="deckrowlabel"></div>
                <div class="decklabelwrapper"><label>Damage</label></div>
                <div class="decklabelwrapper"><label>Condition</label></div>
                <div class="decklabelwrapper"><label>Noise Red</label></div>
            </div>
            <div class="deckrow">
                <div class="deckrowlabel">
                    <label>Misc</label>
                </div>
                <div class="deckinputwrapper">
                    <input type="text" name="attr_deckdamage" value="0" title="How much Matrix Damage it took">
                </div>
                <div class="deckinputwrapper">
                    <input type="number" name="attr_deckcondition" value="ceil((@{devicertg_total})/2)+8-@{deckdamage}" title="How much Matrix Damage remaining untill bricked" disabled>
                </div>
                <div class="deckinputwrapper">
                    <input type="text" name="attr_noisereduction" title="(optional) How much Noisereduction total" value="0">
                </div>
            </div>
            <div class="deckrow">
                <div class="deckrowlabel"></div>
                <div class="decklabelwrapper"><label>Resistance</label></div>
                <div class="decklabelwrapper"><label>Defenseroll</label></div>
                <div class="decklabelwrapper"><label>Stay Silent</label></div>
            </div>
            <div class="deckrow">
                <div class="deckrowlabel">
                    <label>Rolls</label>
                </div>
                <div class="deckinputwrapper">
                    <button type="roll" class="deckroll" name="roll_deckresistance" title="Click to resist Matrix Damage" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=to resist damage}}{{val1=Firewall}}{{val1_num=[[@{firewall_total}]]}}{{val2=Device Rtg}}{{val2_num=[[@{devicertg_total}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{result=[[(@{firewall_total}+@{devicertg_total}+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                </div>
                <div class="deckinputwrapper">
                    <button type="roll" class="deckroll" name="roll_deckdefense" title="Click to Roll Matrix Defense" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=to Defend}}{{val1=Firewall}}{{val1_num=[[@{firewall_total}]]}}{{val2=Attribute}}{{val2_num=[[?{Attribute|Willpower,@{wil_total}|Logic,@{log_total}|Intuition,@{int_total}}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{result=[[(@{firewall_total}+?{Attribute}+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                </div>
                <div class="deckinputwrapper">
                    <button type="roll" class="deckroll" name="roll_deckantispott" title="Click to Roll against Matrix Perception" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=to stay hidden}}{{val1=Sleaze}}{{val1_num=[[@{sleaze_total}]]}}{{val2=Logic}}{{val2_num=[[@{log_total}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{result=[[(@{sleaze_total}+@{log_total}+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                </div>
            </div>
        </div>
        <div class="cyberprograms">
            <h2>Cyberprograms</h2>
            <div class="programrow">
                <div class="programnamewrapper">
                    <label>Name</label>
                </div>
                <div class="programdescriptionwrapper">
                    <label>Description</label>
                </div>
                <div class="programloadedwrapper">
                    <label>Loaded</label>
                </div>
            </div>
            <fieldset class="repeating_programs">
                <div class="programrow">
                    <div class="programnamewrapper">
                        <input type="text" name="attr_programname" title="Name of the Program">
                    </div>
                    <div class="programdescriptionwrapper">
                        <input type="text" name="attr_programdescription" title="Description">
                    </div>
                    <div class="programloadedwrapper">
                        <input class="programcheckbox hiddencheckbox" type="checkbox" name="attr_programloaded" title="Program loaded?">
                        <div class="checkboxticker programunticked"></div>
                        <div class="checkboxticker programticked">X</div>
                    </div>
                </div>
            </fieldset>
        </div>
        <div class="matrixactions">
            <h2>Matrix Actions</h2>
            <div class="mskillrow">
                <div class="mskillmodlabel"><label>Running Silent</label></div>
                <input class="mskillsilentcheckbox hiddencheckbox" type="checkbox" value="-2" name="attr_runningsilent" title="-2 for Running Silent">
                <div class="checkboxticker mskillsilentunticked"></div>
                <div class="checkboxticker mskillsilentticked">X</div>
                <div class="mskillmodlabel"><label>Hot Sim</label></div>
                <input class="mskillhotsimcheckbox hiddencheckbox" type="checkbox" value="2" name="attr_hotsim" title="+2 for Matrix skill tests
and +1 Matrix initiative dice">
                <div class="checkboxticker mskillhotsimunticked"></div>
                <div class="checkboxticker mskillhotsimticked">X</div>
                <div class="mskillmodlabel"><label>Noise</label></div>
                <div class="mskillnoisewrapper">
                    <input class="mskillnoise" type="number" value="0" name="attr_noise" title="Total noise penalty before noise reduction">
                </div>
            </div>
            <div class="mskillrow">
                <div class="mskillnamewrapper">
                    <label>Matrix Skill</label>
                </div>
                <div class="mskillattributewrapper">
                    <label>Attribute</label>
                </div>
                <div class="mskillratingwrapper">
                    <label>Skill</label>
                </div>
                <div class="mskillbonuswrapper">
                    <label>Mod</label>
                </div>
                <div class="mskilllimitwrapper">
                    <label>Limit</label>
                </div>
                <div class="mskillnoteswrapper">
                    <label>Description</label>
                </div>
                <div class="mskilldicepoolwrapper">
                    <label>Dice</label>
                </div>
                <div class="mskillbuttonwrapper">
                    <label>Roll</label>
                </div>
            </div>
            <fieldset class="repeating_mskills">
                <div class="mskillrow">
                    <div class="mskillnamewrapper">
                        <input type="text" name="attr_mskillname" title="Matrix Skill Name">
                    </div>
                    <div class="mskillattributewrapper">
                        <select name="attr_mskillattr">
                            <option value="@{log">LOG</option>
                            <option value="@{int">INT</option>
                            <option value="@{wil">WIL</option>
                            <option value="@{res">RES</option>
                        </select>
                    </div>
                    <div class="mskillratingwrapper">
                        <select name="attr_mskillrating" title="Select the Skill this Action is based on">
                            <option value="@{skillrating34}+@{skillbonus34}">Computer</option>
                            <option value="@{skillrating35}+@{skillbonus35}">Cybercombat</option>
                            <option value="@{skillrating37}+@{skillbonus37}">Electronic Warfare</option>
                            <option value="@{skillrating40}+@{skillbonus40}">Hacking</option>
                            <option value="@{skillrating27}+@{skillbonus27}">Hardware</option>
                            <option value="@{skillrating42}+@{skillbonus42}">Software</option>
                        </select>
                    </div>
                    <div class="mskillbonuswrapper">
                        <input type="text" name="attr_mskillbonus" value="0" title="Bonuses from Magic or Gear">
                    </div>
                    <div class="mskilllimitwrapper">
                        <select name="attr_mskilllimit">
                            <option value="@{attack">Attack</option>
                            <option value="@{sleaze">Sleaze</option>
                            <option value="@{datap">Data Processing</option>
                            <option value="@{firewall">Firewall</option>
                            <option value="@{mental">Mental</option>
                            <option value="@{highest">Highest</option>
                        </select>
                    </div>
                    <div class="mskillnoteswrapper">
                        <input type="text" name="attr_mskillnotes" title="Description...">
                    </div>
                    <div class="mskilldicepoolwrapper">
                        <input type="number" name="attr_mskilldicepool" value="@{mskillattr}_total}+@{mskillrating}+@{mskillbonus}+@{runningsilent}+@{hotsim}" title="Base Dicepool before noise and wounds" disabled>
                    </div>
                    <div class="mskillbuttonwrapper">
                        <input type="checkbox" class="mskillshowspec" name="attr_mskillspec" value="none">
                        <input type="text" class="mskillshowspec" name="attr_mskillspec" value="none">
                        <button type="roll" class="rollbuttonspec" name="roll_mskillroll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{mskillname}}}{{val1=@{mskillattr}_name}}}{{val1_num=[[@{mskillattr}_total}]]}}{{val2=@{mskillname}}}{{val2_num=[[@{mskillrating}+@{mskillbonus}]]}}{{val3=@{mskillspec}}}{{val3_num=[[?{Specialization @{mskillspec} applies|Yes,2|No,0}]]}}{{val4=HotSim/Silent}}{{val4_num=[[@{runningsilent}+@{hotsim}]]}}{{val5=Noise}}{{val5_num=[[{0,@{noise}-@{noisereduction}}kh1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{mskilllimit}_name}}}{{limit_num=[[@{mskilllimit}_total}]]}}{{result=[[(@{mskilldicepool}+?{Specialization @{mskillspec} applies|yes,2|no,0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}-[[{0,@{noise}-@{noisereduction}}kh1]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{mskilllimit}_total}]]]]}}{{description=@{mskillnotes}}}"></button>
                        <button type="roll" class="rollbuttonnospec" name="roll_mskillroll" title="Click to Roll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=@{mskillname}}}{{val1=@{mskillattr}_name}}}{{val1_num=[[@{mskillattr}_total}]]}}{{val2=@{mskillname}}}{{val2_num=[[@{mskillrating}+@{mskillbonus}]]}}{{val3=HotSim/Silent}}{{val3_num=[[@{runningsilent}+@{hotsim}]]}}{{val4=Noise}}{{val4_num=[[{0,@{noise}-@{noisereduction}}kh1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=@{mskilllimit}_name}}}{{limit_num=[[@{mskilllimit}_total}]]}}{{result=[[(@{mskilldicepool}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}-[[{0,@{noise}-@{noisereduction}}kh1]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{mskilllimit}_total}]]]]}}{{description=@{mskillnotes}}}"></button>
                    </div>
                </div>
            </fieldset>
        </div>
    </div>
    <div class="contentVehiclesDrones">
        <div class="vehicle">
            <h2>Vehicles</h2>
            <div class="vehiclerow">
                <div class="vehicleskillmodlabel"><label>Control Rig Rating</label></div>
                <div class="vehicleskillmodinput">
                    <input type="text" name="attr_controlrig" value="0" title="Rating of the Control Rig">
                </div>
                <div class="vehicleskillmodlabel"><label>Running Silent</label></div>
                <input class="mskillsilentcheckbox hiddencheckbox" type="checkbox" value="-2" name="attr_runningsilent" title="-2 for Running Silent">
                <div class="checkboxticker mskillsilentunticked"></div>
                <div class="checkboxticker mskillsilentticked">X</div>
                <div class="vehicleskillmodlabel"><label>Hot Sim</label></div>
                <input class="mskillhotsimcheckbox hiddencheckbox" type="checkbox" value="2" name="attr_hotsim" title="+2 for Hot Sim">
                <div class="checkboxticker mskillhotsimunticked"></div>
                <div class="checkboxticker mskillhotsimticked">X</div>
                <input type="checkbox" class="technomancycheckbox vehiclemode3" name="attr_vehiclemode" value="3">
                <div class="vehicleskillmodlabel"><label>Noise</label></div>
                <div class="vehicleskillmodinput">
                    <input class="vehicleskillnoise" type="number" value="0" name="attr_noise" title="Total noise penalty before noise reduction">
                </div>
                <div class="vehicleskillmodlabel"><label>Control</label></div>
                <input type="radio" class="vehiclemode vehiclemode0" name="attr_vehiclemode" value="0" title="Click to switch to Manual
Click again to switch to Remote and Jumped-in" checked>
                <input type="radio" class="vehiclemode vehiclemode1" name="attr_vehiclemode" value="1" title="Click to switch to Remote
Click again to switch to Jumped-in and Autopilot">
                <input type="radio" class="vehiclemode vehiclemode2" name="attr_vehiclemode" value="2" title="Click to switch to Jumped-in
Click again to switch to Autopilot and Manual">
                <input type="radio" class="vehiclemode vehiclemode3" name="attr_vehiclemode" value="3" title="Click to switch to Autopilot
Click again to switch to Manual and Remote">
                <div class="vehicleskillmodelabel vehiclelabel0"><label>Manual</label></div>
                <div class="vehicleskillmodelabel vehiclelabel1"><label>Remote</label></div>
                <div class="vehicleskillmodelabel vehiclelabel2"><label>Jumped-in</label></div>
                <div class="vehicleskillmodelabel vehiclelabel3"><label>Autopilot</label></div>
            </div>
            <div class="vehiclelabels">
                <div class="vehiclenamewrapper">
                    <label class="vehiclelabel">Name</label>
                </div>
                <div class="vehiclehandwrapper">
                    <label class="vehiclelabel">Hand.</label>
                </div>
                <div class="vehiclespeedwrapper">
                    <label class="vehiclelabel">Speed</label>
                </div>
                <div class="vehicleacclwrapper">
                    <label class="vehiclelabel">Accl.</label>
                </div>
                <div class="vehiclepilotwrapper">
                    <label class="vehiclelabel">Pilot</label>
                </div>
                <div class="vehiclesenswrapper">
                    <label class="vehiclelabel">Sens.</label>
                </div>
                <div class="vehicleseatswrapper">
                    <label class="vehiclelabel">Seats</label>
                </div>
                <div class="vehiclecostwrapper">
                    <label class="vehiclelabel">Price</label>
                </div>
                <div class="vehiclebodywrapper">
                    <label class="vehiclelabel">Body</label>
                </div>
                <div class="vehiclearmorwrapper">
                    <label class="vehiclelabel">Armor</label>
                </div>
                <div class="vehicledamagewrapper">
                    <label class="vehiclelabel">Dmg</label>
                </div>
                <div class="vehicleboxwrapper">
                    <label class="vehiclelabel">Tests</label>
                </div>
                <div class="vehicleboxwrapper">
                    <label class="vehiclelabel">Weapon</label>
                </div>
            </div>
            <input type="checkbox" class="technomancycheckbox vehiclemode3" name="attr_vehiclemode" value="3">
            <fieldset class="repeating_vehicles">
                <details>
                    <summary class="vehiclerow">
                        <div class="vehiclenamewrapper">
                            <input type="text" name="attr_vehiclename" title="Name of the Vehicle">
                        </div>
                        <div class="vehiclehandwrapper">
                            <input type="text" name="attr_vehiclehand" value="0" title="Handling of the Vehicle">
                        </div>
                        <div class="vehiclespeedwrapper">
                            <input type="text" name="attr_vehiclespeed" value="0" title="Speed of the Vehicle">
                        </div>
                        <div class="vehicleacclwrapper">
                            <input type="text" name="attr_vehicleaccl" value="0" title="(optional)Acceleration of the Vehicle">
                        </div>
                        <div class="vehiclepilotwrapper">
                            <input type="text" name="attr_vehiclepilot" value="0" title="Pilot Rating of the Vehicle">
                        </div>
                        <div class="vehiclesenswrapper">
                            <input type="text" name="attr_vehiclesens" value="0" title="Sensor Rating of the Vehicle">
                        </div>
                        <div class="vehicleseatswrapper">
                            <input type="text" name="attr_vehicleseats" value="0" title="Available Seats in the Vehicle">
                        </div>
                        <div class="vehiclecostwrapper">
                            <input type="text" name="attr_vehicleprice" value="0" title="Total Cost of the Vehicle">
                        </div>
                        <div class="vehiclebodywrapper">
                            <input type="text" name="attr_vehiclebody" value="0" title="Body Rating of the Vehicle">
                        </div>
                        <div class="vehiclearmorwrapper">
                            <input type="text" name="attr_vehiclearmor" value="0" title="Armor Rating of the Vehicle">
                        </div>
                        <input class="vehicledmgcheckbox hiddencheckbox" type="checkbox" name="attr_showvehicledmg" title="Took some Damage?">
                        <div class="checkboxticker vehicledmgunticked"></div>
                        <div class="checkboxticker vehicledmgticked">X</div>
                        <div class="vehiclespacer"></div>
                        <input class="vehicleskillscheckbox hiddencheckbox" type="checkbox" name="attr_showvehicleskills" title="Need to do stuff?">
                        <div class="checkboxticker vehicleskillsunticked"></div>
                        <div class="checkboxticker vehicleskillsticked">X</div>
                        <div class="vehiclespacer"></div>
                        <input class="vehicleshowweaponcheckbox hiddencheckbox" type="checkbox" name="attr_showvehicleweapon" title="Got a Gun?">
                        <div class="checkboxticker vehicleshowweaponunticked"></div>
                        <div class="checkboxticker vehicleshowweaponticked">X</div>
                        <div class="vehicledmgwrapper">
                            <div class="vehicleskillrow">
                                <div class="vehicledmgphys">
                                    <label class="vehiclelabel">Physical Condition</label>
                                </div>
                                <div class="vehicledmgmatrix">
                                    <label class="vehiclelabel">Matrix Condition</label>
                                </div>
                            </div>
                            <div class="vehicleskillrow">
                                <div class="vehicledmgphys">
                                    <div class="vehicledmginput">
                                        <input type="number" name="attr_vehicledamagep" value="0" title="How much pyhsical Damage the Vehicle took">
                                    </div>
                                    <div class="vehicledmginput">
                                        <input type="number" name="attr_vehicledamageprem" value="12+ceil(@{vehiclebody}/2)-@{vehicledamagep}" title="How much physical Damage remaining" disabled>
                                    </div>
                                </div>
                                <div class="vehicledmgmatrix">
                                    <div class="vehicledmginput">
                                        <input type="number" name="attr_vehicledamagem" value="0" title="How much Matrix Damage the Vehicle took">
                                    </div>
                                    <div class="vehicledmginput">
                                        <input type="number" name="attr_vehicledamagemrem" value="8+ceil(@{vehiclepilot}/2)-@{vehicledamagem}" title="How much Matrix Damage remaining" disabled>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="vehicleskillswrapper">
                            <div class="vehicleskillrow">
                                <div class="vehicleskillinitiative">
                                    <label class="vehiclelabel">Initiative</label>
                                </div>
                                <div class="vehicleskillsoak">
                                    <label class="vehiclelabel">Soak</label>
                                </div>
                                <div class="vehicleskilldodge">
                                    <label class="vehiclelabel">Evasion</label>
                                </div>
                                <div class="vehicleskillmaneuver">
                                    <label class="vehiclelabel">Maneuver</label>
                                </div>
                                <div class="vehicleskillperception">
                                    <label class="vehiclelabel">Clearsight</label>
                                </div>
                                <div class="vehicleskillsneak">
                                    <label class="vehiclelabel">Stealth</label>
                                </div>
                                <div class="vehicleskillother">
                                    <label class="vehiclelabel">Other</label>
                                </div>
                                <div class="vehicleskilltype">
                                    <label class="vehiclelabel">Vehicle Type</label>
                                </div>
                            </div>
                            <div class="vehicleskillrow">
                                <div class="vehicleskillinitiative">
                                    <button type="roll" class="vehicleroll autopilotroll" name="roll_vehicledodgerollautopilot" title="Roll for Initiative" value="@{gmroll}&{template:shadowrun}{{name=@{vehiclename}}}{{roll_name=for Initiative}}{{val1=Pilot}}{{val1_num=[[@{vehiclepilot}]]}}{{initiative=[[@{vehiclepilot}*2+4d6 &{tracker}]]}}"></button>
                                    <button type="roll" class="vehicleroll pilotroll" name="roll_matrixinitiativeroll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=for Matrix Initiative}}{{val1=Data Processing}}{{val1_num=[[@{datap_total}]]}}{{val2=Intuition}}{{val2_num=[[@{int_total}]]}}{{val3=Bonus}}{{val3_num=[[@{matrixinitiativebonus}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{initiative=[[@{matrixinitiativeattribute}+@{matrixinitiativebonus}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[{@{matrixinitiativedice},(@{edgn}*5)}kh1]]d6 &{tracker}]]}}"></button>
                                </div>
                                <div class="vehicleskillsoak">
                                    <button type="roll" class="vehicleroll" name="roll_vehiclesoakroll" title="Damage Resistance Roll" value="@{gmroll}&{template:shadowrun}{{name=@{vehiclename}}}{{roll_name=to resist Damage}}{{val1=Body}}{{val1_num=[[@{vehiclebody}]]}}{{val2=Armor}}{{val2_num=[[@{vehiclearmor}]]}}{{val3=Armor Penetration}}{{val3_num=[[?{Armor Penetration|-0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{result=[[(@{vehiclebody}+@{vehiclearmor}+?{Armor Penetration|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                                </div>
                                <div class="vehicleskilldodge">
                                    <div class="vehicleskillinputwrapper">
                                        <input type="text" value="0" name="attr_vehicledodgesoft" title="Evasion Autosoft Rating for this Drone/Vehicle">
                                    </div>
                                    <button type="roll" class="vehicleroll autopilotroll" name="roll_vehicledodgerollautopilot" title="Roll a Dodge Test" value="@{gmroll}&{template:shadowrun}{{name=@{vehiclename}}}{{roll_name=a Avoidance Test}}}{{val1=Pilot}}{{val1_num=[[@{vehiclepilot}]]}}{{val2=Evasion-Soft}}{{val2_num=[[@{vehicledodgesoft}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Handling}}{{limit_num=[[@{vehiclehand}}]]}}{{result=[[(@{vehiclepilot}+@{vehicledodgesoft}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{vehiclehand})]]]]}}"></button>
                                    <button type="roll" class="vehicleroll pilotroll" name="roll_vehicledodgerollpilot" title="Roll a Dodge Test" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=a Avoidance Test with @{vehiclename}}}{{val1=Reaction}}{{val1_num=[[@{rea_total}]]}}{{val2=Intuition}}{{val2_num=[[@{int_total}]]}}{{val3=Hot Sim/Silent/CR}}{{val3_num=[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{val4=Noise}}{{val4_num=[[ceil(@{vehiclemode}/2)*{0,@{noise}-@{noisereduction}}kh1]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{result=[[(@{rea_total}+@{int_total}+[[ceil(@{vehiclemode}/2)*(@{runningsilent}+@{hotsim}-{0,@{noise}-@{noisereduction}}kh1)+floor(@{vehiclemode}/2)*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                                </div>
                                <div class="vehicleskillmaneuver">
                                    <div class="vehicleskillinputwrapper">
                                        <input type="text" value="0" name="attr_vehiclemaneuversoft" title="Maneuver Autosoft Rating for this Drone/Vehicle">
                                    </div>
                                    <button type="roll" class="vehicleroll autopilotroll" name="roll_vehiclemaneuverrollautopilot" title="Roll a Driving Test" value="@{gmroll}&{template:shadowrun}{{name=@{vehiclename}}}}{{roll_name=a Piloting Test with @{vehiclename}}}{{val1=Pilot}}{{val1_num=[[@{vehiclepilot}]]}}{{val2=Maneuver-Soft}}{{val2_num=[[@{vehiclemaneuversoft}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Limit}}{{limit_num=[[?{Limit|Handling,@{vehiclehand}|Speed,@{vehiclespeed}}]]}}{{result=[[(@{vehiclepilot}+@{vehiclemaneuversoft}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(?{Limit})]]]]}}"></button>
                                    <button type="roll" class="vehicleroll pilotroll" name="roll_vehiclemaneuverrollpilot" title="Roll a Driving Test" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=a Piloting Test with @{vehiclename}}}{{val1=Reaction}}{{val1_num=[[@{rea_total}]]}}{{val2=@{vehicleskillname}}}{{val2_num=[[@{vehicleskilltype}-[[@{rea_total}]]]]}}{{val3=Hot Sim/Silent/CR}}{{val3_num=[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{val4=Noise}}{{val4_num=[[ceil(@{vehiclemode}/2)*{0,@{noise}-@{noisereduction}}kh1]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{limit=Speed/Handling}}{{limit_num=[[?{Limit|Handling,@{vehiclehand}|Speed,@{vehiclespeed}}]]}}{{limit_mod=[[floor(@{vehiclemode}/2)*@{controlrig}]]}}{{result=[[(@{vehicleskilltype}+[[ceil(@{vehiclemode}/2)*(@{runningsilent}+@{hotsim}-{0,@{noise}-@{noisereduction}}kh1)+floor(@{vehiclemode}/2)*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(?{Limit|Handling,@{vehiclehand}|Speed,@{vehiclespeed}}+floor(@{vehiclemode}/2)*@{controlrig})]]]]}}"></button>
                                </div>
                                <div class="vehicleskillperception">
                                    <div class="vehicleskillinputwrapper">
                                        <input type="text" value="0" name="attr_vehicleperceptionsoft" title="Cleasight Autosoft Rating for this Drone/Vehicle">
                                    </div>
                                    <button type="roll" class="vehicleroll autopilotroll" name="roll_vehicleperceptionrollautopilot" title="Roll a Perception Test" value="@{gmroll}&{template:shadowrun}{{name=@{vehiclename}}}{{roll_name=a Perception Test}}{{val1=Pilot}}{{val1_num=[[@{vehiclepilot}]]}}{{val2=Clearsight-Soft}}{{val2_num=[[@{vehicleperceptionsoft}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Sensor}}{{limit_num=[[@{vehiclesens}]]}}{{limit_mod=?{Limit Modifier?|0}}}{{result=[[(@{vehiclepilot}+@{vehicleperceptionsoft}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{vehiclesens}+(?{Limit Modifier?}))]]]]}}"></button>
                                    <button type="roll" class="vehicleroll pilotroll" name="roll_vehicleperceptionrollpilot" title="Roll a Perception Test" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=a Perception Test with @{vehiclename}}}{{val1=Intuition}}{{val1_num=[[@{int_total}]]}}{{val2=Perception/EW}}{{val2_num=[[{@{skillrating8}+@{skillbonus8},@{skillrating37}+@{skillbonus37}}}kh1]]}}{{val3=Hot Sim/Silent/CR}}{{val3_num=[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{val4=Noise}}{{val4_num=[[ceil(@{vehiclemode}/2)*{0,@{noise}-@{noisereduction}}kh1]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{limit=Sensor}}{{limit_num=[[@{vehiclesens}]]}}{{limit_mod=[[floor(@{vehiclemode}/2)*@{controlrig}+?{Limit Modifier?|0}]]}}{{result=[[(@{int_total}+[[{@{skillrating8}+@{skillbonus8},@{skillrating37}+@{skillbonus37}}kh1]]+[[ceil(@{vehiclemode}/2)*(@{runningsilent}+@{hotsim}-{0,@{noise}-@{noisereduction}}kh1)+floor(@{vehiclemode}/2)*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{vehiclesens}+floor(@{vehiclemode}/2)*@{controlrig}+?{Limit Modifier?})]]]]}}"></button>
                                </div>
                                <div class="vehicleskillsneak">
                                    <div class="vehicleskillinputwrapper">
                                        <input type="text" value="0" name="attr_vehiclesneaksoft" title="Stealth Autosoft Rating for this Drone/Vehicle">
                                    </div>
                                    <button type="roll" class="vehicleroll autopilotroll" name="roll_vehiclesneakrollautopilot" title="Roll a Sneaking Test" value="@{gmroll}&{template:shadowrun}{{name=@{vehiclename}}}{{roll_name=a Sneaking Test}}{{val1=Pilot}}{{val1_num=[[@{vehiclepilot}]]}}{{val2=Stealth-Soft}}{{val2_num=[[@{vehiclesneaksoft}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Handling}}{{limit_num=[[@{vehiclehand}]]}}{{result=[[(@{vehiclepilot}+@{vehiclesneaksoft}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{vehiclehand})]]]]}}"></button>
                                    <button type="roll" class="vehicleroll pilotroll" name="roll_vehiclesneakrollpilot" title="Roll a Sneaking Test" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=a Sneaking Test with @{vehiclename}}}{{val1=Attribute}}{{val1_num=[[?{Attribute|Reaction,@{rea_total}|Intuition,@{int_total}}]]}}{{val2=Sneaking}}{{val2_num=[[@{skillrating10}+@{skillbonus10}]]}}{{val3=Hot Sim/Silent/CR}}{{val3_num=[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{val4=Noise}}{{val4_num=[[ceil(@{vehiclemode}/2)*{0,@{noise}-@{noisereduction}}kh1]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{limit=Handling}}{{limit_num=[[@{vehiclehand}]]}}{{limit_mod=[[floor(@{vehiclemode}/2)*@{controlrig}]]}}{{result=[[(?{Attribute}+@{skillrating10}+@{skillbonus10}+[[ceil(@{vehiclemode}/2)*(@{runningsilent}+@{hotsim}-{0,@{noise}-@{noisereduction}}kh1)+floor(@{vehiclemode}/2)*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{vehiclehand}+floor(@{vehiclemode}/2)*@{controlrig})]]]]}}"></button>
                                </div>
                                <div class="vehicleskillother">
                                    <button type="roll" class="vehicleroll autopilotroll" name="roll_vehicleotherrollautopilot" title="Any other Vehicle Teste" value="@{gmroll}&{template:shadowrun}{{name=@{vehiclename}}}{{roll_name=a Test}}{{val1=Pilot}}{{val1_num=[[@{vehiclepilot}]]}}{{val2=Autosoft}}{{val2_num=[[?{Autosoft-Rating|0}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Limit}}{{limit_num=[[?{Limit|Handling,@{vehiclehand}|Speed,@{vehiclespeed}|Sensor,@{vehiclesens}}]]}}{{result=[[(@{vehiclepilot}+?{Autosoft-Rating|0}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(?{Limit})]]]]}}"></button>
                                    <button type="roll" class="vehicleroll pilotroll" name="roll_vehicleotherrollpilot" title="Any other Vehicle Teste" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=a Test with @{vehiclename}}}{{val1=Attribute}}{{val1_num=[[?{Attribute|Body,@{bod_total}|Agility,@{agi_total}|Reaction,@{rea_total}|Strength,@{str_total}|Charisma,@{cha_total}|Intuition,@{int_total}|Logic,@{log_total}|Willpower,@{wil_total}}]]}}{{val2=Skill}}{{val2_num=[[?{Skill-Rating|0}]]}}{{val3=Hot Sim/Silent/CR}}{{val3_num=[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{val4=Noise}}{{val4_num=[[ceil(@{vehiclemode}/2)*{0,@{noise}-@{noisereduction}}kh1]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{limit=Limit}}{{limit_num=[[?{Limit|Handling,@{vehiclehand}|Speed,@{vehiclespeed}|Sensor,@{vehiclesens}}]]}}{{limit_mod=[[floor(@{vehiclemode}/2)*@{controlrig}]]}}{{result=[[(?{Attribute}+?{Skill-Rating}+[[ceil(@{vehiclemode}/2)*(@{runningsilent}+@{hotsim}-{0,@{noise}-@{noisereduction}}kh1)+floor(@{vehiclemode}/2)*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(?{Limit}+floor(@{vehiclemode}/2)*@{controlrig})]]]]}}"></button>
                                </div>
                                <div class="vehicleskilltype">
                                    <select name="attr_vehicleskilltype">
                                        <option value="@{skilldicepool53}">Aerospace</option>
                                        <option value="@{skilldicepool54}">Aircraft</option>
                                        <option selected value="@{skilldicepool55}">Groundcraft</option>
                                        <option value="@{skilldicepool56}">Walker</option>
                                        <option value="@{skilldicepool57}">Watercraft</option>
                                    </select>
                                    <input type="text" class="hiddentextfield" name="attr_vehicleskillname" value="@{skillname55}">
                                </div>
                            </div>
                        </div>
                        <div class="vehicleweaponwrapper">
                            <div class="vehicleweaponrow">
                                <div class="weaponnamewrapper">
                                    <label class="weaponlabel">Weaponname</label>
                                </div>
                                <div class="weaponaccuracywrapper">
                                    <label class="weaponlabel">Acc.</label>
                                </div>
                                <div class="weapondvwrapper">
                                    <label class="weaponlabel">DV</label>
                                </div>
                                <div class="weaponapwrapper">
                                    <label class="weaponlabel">AP</label>
                                </div>
                                <div class="weaponrcwrapper">
                                    <label class="weaponlabel">RC</label>
                                </div>
                                <div class="weaponmodewrapper">
                                    <label class="weaponlabel">Mode</label>
                                </div>
                                <div class="weaponautosoftwrapper">
                                    <label class="weaponlabel">Softw</label>
                                </div>
                                <div class="weaponskillwrapper">
                                    <label class="weaponlabel">Bonus</label>
                                </div>
                                <div class="weaponrollwrapper">
                                    <label class="weaponlabel">Roll</label>
                                </div>
                                <div class="weaponnoteboxwrapper">
                                    <label class="weaponlabel">Notes</label>
                                </div>
                            </div>
                            <div class="vehicleweaponrow">
                                <div class="weaponnamewrapper">
                                    <input type="text" name="attr_vehicleweaponname1" title="Weapon Name">
                                </div>
                                <div class="weaponaccuracywrapper">
                                    <input type="text" name="attr_vehicleweaponaccuracy1" title="Weapon Accuracy with all Modifications but Ammo">
                                </div>
                                <div class="weapondvwrapper">
                                    <input type="text" name="attr_vehicleweapondv1" title="Weapon Damage Code with all Modifications but Ammo">
                                </div>
                                <div class="weaponapwrapper">
                                    <input type="text" name="attr_vehicleweaponap1" title="Weapon Armor Penetration with all Modifications but Ammo">
                                </div>
                                <div class="weaponrcwrapper">
                                    <input type="text" name="attr_vehicleweaponrc1" title="Weapon Recoil Compensation with all Modifications including Vehicle Body">
                                </div>
                                <div class="weaponmodewrapper">
                                    <select name="attr_vehicleweaponmode1" title="Current Firing Mode of the Weapon">
                                        <option value="11">SS</option>
                                        <option value="31">SA</option>
                                        <option value="63">BF</option>
                                        <option value="106">FA</option>
                                    </select>
                                </div>
                                <div class="weaponautosoftwrapper">
                                    <input type="text" name="attr_vehicleweaponautosoft1" title="Targeting Autosoft on this Vehicle">
                                </div>
                                <div class="weaponbonuswrapper">
                                    <input type="text" name="attr_vehicleweaponbonus1" title="Any Bonuses to Weapon Skill">
                                </div>
                                <div class="weaponrollwrapper">
                                    <button type="action" class="vehicleroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-vehiclename}}}{{roll_name=an Attack with @{prefix-vehicleweaponname1}}}{{val1=Pilot}}{{val1_num=[[@{prefix-vehiclepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-vehicleweaponautosoft1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc1}+1+@{prefix-vehiclebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy1}]]}}{{result=[[(@{prefix-vehiclepilot}+@{prefix-vehicleweaponautosoft1}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy1})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap1}]]) ~ DV}}{{after1_num=[[@{prefix-vehicleweapondv1}]]}}"></button>
                                    <button type="action" class="vehicleroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-vehiclename}'s @{prefix-vehicleweaponname1}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-vehicleweaponbonus1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc1}+1+@{prefix-vehiclebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy1}]]}}{{limit_mod=[[[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-vehicleweaponbonus1}+[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy1}+[[floor(@{vehiclemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap1}]]) ~ DV}}{{after1_num=[[@{prefix-vehicleweapondv1}]]}}"></button>
                                </div>
                                <input class="vehicleweaponcheckbox hiddencheckbox" type="checkbox" name="attr_vehicleshowweaponnotes" title="Need more Space?">
                                <div class="checkboxticker vehicleweaponunticked"></div>
                                <div class="checkboxticker vehicleweaponticked">X</div>
                                <div class="vehicleweaponnoteswrapper">
                                    <textarea name="attr_vehicleweaponnotes" title="Have more Space!"></textarea>
                                </div>
                                <div class="vehicleammolabels">
                                    <div class="ammonamewrapper">
                                        <label class="ammolabel">Ammo Name</label>
                                    </div>
                                    <div class="ammonumberwrapper">
                                        <label class="ammolabel">Rounds</label>
                                    </div>
                                    <div class="ammodvwrapper">
                                        <label class="ammolabel">DV Mod</label>
                                    </div>
                                    <div class="ammoapwrapper">
                                        <label class="ammolabel">AP Mod</label>
                                    </div>
                                    <div class="ammoaccwrapper">
                                        <label class="ammolabel">Acc Mod</label>
                                    </div>
                                    <div class="ammodescriptionwrapper">
                                        <label class="ammolabel">Description</label>
                                    </div>
                                    <div class="ammorollwrapper">
                                        <label class="ammolabel">Simple</label>
                                    </div>
                                    <div class="ammorollwrapper">
                                        <label class="ammolabel">Complex</label>
                                    </div>
                                </div>
                                <div class="vehicleammorow">
                                    <div class="ammonamewrapper">
                                        <input type="text" name="attr_vehicle1ammoname1" title="Name of the Ammunition">
                                    </div>
                                    <div class="ammonumberwrapper">
                                        <input type="number" name="attr_vehicle1ammonumber1" title="How many still left in the Clip/Drum/etc">
                                    </div>
                                    <div class="ammodvwrapper">
                                        <input type="text" name="attr_vehicle1ammodv1" value="0" title="DV change from the Ammunition">
                                    </div>
                                    <div class="ammoapwrapper">
                                        <input type="text" name="attr_vehicle1ammoap1" value="0" title="AP change from the Ammunition">
                                    </div>
                                    <div class="ammoaccwrapper">
                                        <input type="text" name="attr_vehicle1ammoacc1" value="0" title="Accuracy change from the Ammunition">
                                    </div>
                                    <div class="ammodescriptionwrapper">
                                        <input type="text" name="attr_vehicle1ammodescription1" title="Additional Description">
                                    </div>
                                    <div class="ammorollwrapper">
                                        <button type="action" class="vehicleroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-vehiclename}}}{{roll_name=an Attack with @{prefix-vehicleweaponname1}}}{{val1=Pilot}}{{val1_num=[[@{prefix-vehiclepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-vehicleweaponautosoft1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc1}+1+@{prefix-vehiclebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy1}+@{prefix-vehicle1ammoacc1}]]}}{{result=[[(@{prefix-vehiclepilot}+@{prefix-vehicleweaponautosoft1}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy1}+@{prefix-vehicle1ammoacc1})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap1}+@{prefix-vehicle1ammoap1}]]) ~ DV}}{{after1_num=[[@{prefix-vehicleweapondv1}+@{prefix-vehicle1ammodv1}]]}}{{after2=@{prefix-vehicle1ammoname1} Rounds}}{{after2_num=[[@{prefix-vehicleweaponmode1}-floor(@{prefix-vehicleweaponmode1}/10)*10]]}}{{description=@{prefix-vehicle1ammodescription1}}}"></button>
                                        <button type="action" class="vehicleroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-vehiclename}'s @{prefix-vehicleweaponname1}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-vehicleweaponbonus1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc1}+1+@{prefix-vehiclebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy1}+@{prefix-vehicle1ammoacc1}]]}}{{limit_mod=[[[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-vehicleweaponbonus1}+[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy1}+@{prefix-vehicle1ammoacc1}+[[floor(@{vehiclemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap1}+(@{prefix-vehicle1ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-vehicleweapondv1}+(@{prefix-vehicle1ammodv1})]]}}{{after2=@{prefix-vehicle1ammoname1} Rounds}}{{after2_num=[[@{prefix-vehicleweaponmode1}-floor(@{prefix-vehicleweaponmode1}/10)*10]]}}{{description=@{prefix-vehicle1ammodescription1}}}"></button>
                                    </div>
                                    <div class="ammorollwrapper">
                                        <button type="action" class="vehicleroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-vehiclename}}}{{roll_name=an Attack with @{prefix-vehicleweaponname1}}}{{val1=Pilot}}{{val1_num=[[@{prefix-vehiclepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-vehicleweaponautosoft1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc1}+1+@{prefix-vehiclebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy1}+@{prefix-vehicle1ammoacc1}]]}}{{result=[[(@{prefix-vehiclepilot}+@{prefix-vehicleweaponautosoft1}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy1}+@{prefix-vehicle1ammoacc1})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap1}+@{prefix-vehicle1ammoap1}]]) ~ DV}}{{after1_num=[[@{prefix-vehicle1ammodv1}+@{prefix-vehicleweapondv1}]]}}{{after2=@{prefix-vehicle1ammoname1} Rounds}}{{after2_num=[[floor(@{prefix-vehicleweaponmode1}/10)]]}}{{description=@{prefix-vehicle1ammodescription1}}}"></button>
                                        <button type="action" class="vehicleroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-vehiclename}'s @{prefix-vehicleweaponname1}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-vehicleweaponbonus1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc1}+1+@{prefix-vehiclebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy1}+@{prefix-vehicle1ammoacc1}]]}}{{limit_mod=[[[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-vehicleweaponbonus1}+[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy1}+@{prefix-vehicle1ammoacc1}+[[floor(@{vehiclemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap1}+(@{prefix-vehicle1ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-vehicle1ammodv1}+(@{prefix-vehicleweapondv1})]]}}{{after2=@{prefix-vehicle1ammoname1} Rounds}}{{after2_num=[[floor(@{prefix-vehicleweaponmode1}/10)]]}}{{description=@{prefix-vehicle1ammodescription1}}}"></button>
                                    </div>
                                </div>
                                <div class="vehicleammorow">
                                    <div class="ammonamewrapper">
                                        <input type="text" name="attr_vehicle1ammoname2" title="Name of the Ammunition">
                                    </div>
                                    <div class="ammonumberwrapper">
                                        <input type="number" name="attr_vehicle1ammonumber2" title="How many still left in the Clip/Drum/etc">
                                    </div>
                                    <div class="ammodvwrapper">
                                        <input type="text" name="attr_vehicle1ammodv2" value="0" title="DV change from the Ammunition">
                                    </div>
                                    <div class="ammoapwrapper">
                                        <input type="text" name="attr_vehicle1ammoap2" value="0" title="AP change from the Ammunition">
                                    </div>
                                    <div class="ammoaccwrapper">
                                        <input type="text" name="attr_vehicle1ammoacc2" value="0" title="Accuracy change from the Ammunition">
                                    </div>
                                    <div class="ammodescriptionwrapper">
                                        <input type="text" name="attr_vehicle1ammodescription2" title="Additional Description">
                                    </div>
                                    <div class="ammorollwrapper">
                                        <button type="action" class="vehicleroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-vehiclename}}}{{roll_name=an Attack with @{prefix-vehicleweaponname1}}}{{val1=Pilot}}{{val1_num=[[@{prefix-vehiclepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-vehicleweaponautosoft1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc1}+1+@{prefix-vehiclebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy1}+@{prefix-vehicle1ammoacc2}]]}}{{result=[[(@{prefix-vehiclepilot}+@{prefix-vehicleweaponautosoft1}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy1}+@{prefix-vehicle1ammoacc2})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap1}+@{prefix-vehicle1ammoap2}]]) ~ DV}}{{after1_num=[[@{prefix-vehicleweapondv1}+@{prefix-vehicle1ammodv2}]]}}{{after2=@{prefix-vehicle1ammoname2} Rounds}}{{after2_num=[[@{prefix-vehicleweaponmode1}-floor(@{prefix-vehicleweaponmode1}/10)*10]]}}{{description=@{prefix-vehicle1ammodescription2}}}"></button>
                                        <button type="action" class="vehicleroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-vehiclename}'s @{prefix-vehicleweaponname1}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-vehicleweaponbonus1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc1}+1+@{prefix-vehiclebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy1}+@{prefix-vehicle1ammoacc2}]]}}{{limit_mod=[[[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-vehicleweaponbonus1}+[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy1}+@{prefix-vehicle1ammoacc2}+[[floor(@{vehiclemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap1}+(@{prefix-vehicle1ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-vehicleweapondv1}+(@{prefix-vehicle1ammodv2})]]}}{{after2=@{prefix-vehicle1ammoname2} Rounds}}{{after2_num=[[@{prefix-vehicleweaponmode1}-floor(@{prefix-vehicleweaponmode1}/10)*10]]}}{{description=@{prefix-vehicle1ammodescription2}}}"></button>
                                    </div>
                                    <div class="ammorollwrapper">
                                        <button type="action" class="vehicleroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-vehiclename}}}{{roll_name=an Attack with @{prefix-vehicleweaponname1}}}{{val1=Pilot}}{{val1_num=[[@{prefix-vehiclepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-vehicleweaponautosoft1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc1}+1+@{prefix-vehiclebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy1}+@{prefix-vehicle1ammoacc2}]]}}{{result=[[(@{prefix-vehiclepilot}+@{prefix-vehicleweaponautosoft1}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy1}+@{prefix-vehicle1ammoacc2})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap1}+@{prefix-vehicle1ammoap2}]]) ~ DV}}{{after1_num=[[@{prefix-vehicle1ammodv2}+@{prefix-vehicleweapondv1}]]}}{{after2=@{prefix-vehicle1ammoname2} Rounds}}{{after2_num=[[floor(@{prefix-vehicleweaponmode1}/10)]]}}{{description=@{prefix-vehicle1ammodescription2}}}"></button>
                                        <button type="action" class="vehicleroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-vehiclename}'s @{prefix-vehicleweaponname1}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-vehicleweaponbonus1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc1}+1+@{prefix-vehiclebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy1}+@{prefix-vehicle1ammoacc2}]]}}{{limit_mod=[[[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-vehicleweaponbonus1}+[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy1}+@{prefix-vehicle1ammoacc2}+[[floor(@{vehiclemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap1}+(@{prefix-vehicle1ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-vehicle1ammodv2}+(@{prefix-vehicleweapondv1})]]}}{{after2=@{prefix-vehicle1ammoname2} Rounds}}{{after2_num=[[floor(@{prefix-vehicleweaponmode1}/10)]]}}{{description=@{prefix-vehicle1ammodescription2}}}"></button>
                                    </div>
                                </div>
                            </div>
                            <div class="vehicleweaponrow">
                                <div class="weaponnamewrapper">
                                    <label class="weaponlabel">Weaponname</label>
                                </div>
                                <div class="weaponaccuracywrapper">
                                    <label class="weaponlabel">Acc.</label>
                                </div>
                                <div class="weapondvwrapper">
                                    <label class="weaponlabel">DV</label>
                                </div>
                                <div class="weaponapwrapper">
                                    <label class="weaponlabel">AP</label>
                                </div>
                                <div class="weaponrcwrapper">
                                    <label class="weaponlabel">RC</label>
                                </div>
                                <div class="weaponmodewrapper">
                                    <label class="weaponlabel">Mode</label>
                                </div>
                                <div class="weaponautosoftwrapper">
                                    <label class="weaponlabel">Softw</label>
                                </div>
                                <div class="weaponskillwrapper">
                                    <label class="weaponlabel">Bonus</label>
                                </div>
                                <div class="weaponrollwrapper">
                                    <label class="weaponlabel">Roll</label>
                                </div>
                                <div class="weaponnoteboxwrapper">
                                    <label class="weaponlabel">Notes</label>
                                </div>
                            </div>
                            <div class="vehicleweaponrow">
                                <div class="weaponnamewrapper">
                                    <input type="text" name="attr_vehicleweaponname2" title="Weapon Name">
                                </div>
                                <div class="weaponaccuracywrapper">
                                    <input type="text" name="attr_vehicleweaponaccuracy2" title="Weapon Accuracy with all Modifications but Ammo">
                                </div>
                                <div class="weapondvwrapper">
                                    <input type="text" name="attr_vehicleweapondv2" title="Weapon Damage Code with all Modifications but Ammo">
                                </div>
                                <div class="weaponapwrapper">
                                    <input type="text" name="attr_vehicleweaponap2" title="Weapon Armor Penetration with all Modifications but Ammo">
                                </div>
                                <div class="weaponrcwrapper">
                                    <input type="text" name="attr_vehicleweaponrc2" title="Weapon Recoil Compensation with all Modifications including Vehicle Body">
                                </div>
                                <div class="weaponmodewrapper">
                                    <select name="attr_vehicleweaponmode2" title="Current Firing Mode of the Weapon">
                                        <option value="11">SS</option>
                                        <option value="31">SA</option>
                                        <option value="63">BF</option>
                                        <option value="106">FA</option>
                                    </select>
                                </div>
                                <div class="weaponautosoftwrapper">
                                    <input type="text" name="attr_vehicleweaponautosoft2" title="Targeting Autosoft on this Vehicle">
                                </div>
                                <div class="weaponbonuswrapper">
                                    <input type="text" name="attr_vehicleweaponbonus2" title="Any Bonuses to Weapon Skill">
                                </div>
                                <div class="weaponrollwrapper">
                                    <button type="action" class="vehicleroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-vehiclename}}}{{roll_name=an Attack with @{prefix-vehicleweaponname2}}}{{val1=Pilot}}{{val1_num=[[@{prefix-vehiclepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-vehicleweaponautosoft2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc2}+1+@{prefix-vehiclebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy2}]]}}{{result=[[(@{prefix-vehiclepilot}+@{prefix-vehicleweaponautosoft2}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy2})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap2}]]) ~ DV}}{{after1_num=[[@{prefix-vehicleweapondv2}]]}}"></button>
                                    <button type="action" class="vehicleroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-vehiclename}'s @{prefix-vehicleweaponname2}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-vehicleweaponbonus2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc2}+1+@{prefix-vehiclebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy2}]]}}{{limit_mod=[[[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-vehicleweaponbonus2}+[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy2}+[[floor(@{vehiclemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap2}]]) ~ DV}}{{after1_num=[[@{prefix-vehicleweapondv2}]]}}"></button>
                                </div>
                                <input class="vehicleweaponcheckbox hiddencheckbox" type="checkbox" name="attr_vehicleshowweaponnotes" title="Need more Space?">
                                <div class="checkboxticker vehicleweaponunticked"></div>
                                <div class="checkboxticker vehicleweaponticked">X</div>
                                <div class="vehicleweaponnoteswrapper">
                                    <textarea name="attr_vehicleweaponnotes2" title="Have more Space!"></textarea>
                                </div>
                                <div class="vehicleammolabels">
                                    <div class="ammonamewrapper">
                                        <label class="ammolabel">Ammo Name</label>
                                    </div>
                                    <div class="ammonumberwrapper">
                                        <label class="ammolabel">Rounds</label>
                                    </div>
                                    <div class="ammodvwrapper">
                                        <label class="ammolabel">DV Mod</label>
                                    </div>
                                    <div class="ammoapwrapper">
                                        <label class="ammolabel">AP Mod</label>
                                    </div>
                                    <div class="ammoaccwrapper">
                                        <label class="ammolabel">Acc Mod</label>
                                    </div>
                                    <div class="ammodescriptionwrapper">
                                        <label class="ammolabel">Description</label>
                                    </div>
                                    <div class="ammorollwrapper">
                                        <label class="ammolabel">Simple</label>
                                    </div>
                                    <div class="ammorollwrapper">
                                        <label class="ammolabel">Complex</label>
                                    </div>
                                </div>
                                <div class="vehicleammorow">
                                    <div class="ammonamewrapper">
                                        <input type="text" name="attr_vehicle2ammoname1" title="Name of the Ammunition">
                                    </div>
                                    <div class="ammonumberwrapper">
                                        <input type="number" name="attr_vehicle2ammonumber1" title="How many still left in the Clip/Drum/etc">
                                    </div>
                                    <div class="ammodvwrapper">
                                        <input type="text" name="attr_vehicle2ammodv1" value="0" title="DV change from the Ammunition">
                                    </div>
                                    <div class="ammoapwrapper">
                                        <input type="text" name="attr_vehicle2ammoap1" value="0" title="AP change from the Ammunition">
                                    </div>
                                    <div class="ammoaccwrapper">
                                        <input type="text" name="attr_vehicle2ammoacc1" value="0" title="Accuracy change from the Ammunition">
                                    </div>
                                    <div class="ammodescriptionwrapper">
                                        <input type="text" name="attr_vehicle2ammodescription1" title="Additional Description">
                                    </div>
                                    <div class="ammorollwrapper">
                                        <button type="action" class="vehicleroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-vehiclename}}}{{roll_name=an Attack with @{prefix-vehicleweaponname2}}}{{val1=Pilot}}{{val1_num=[[@{prefix-vehiclepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-vehicleweaponautosoft2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc2}+1+@{prefix-vehiclebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy2}+@{prefix-vehicle2ammoacc1}]]}}{{result=[[(@{prefix-vehiclepilot}+@{prefix-vehicleweaponautosoft2}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy2}+@{prefix-vehicle2ammoacc1})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap2}+@{prefix-vehicle2ammoap1}]]) ~ DV}}{{after1_num=[[@{prefix-vehicleweapondv2}+@{prefix-vehicle2ammodv1}]]}}{{after2=@{prefix-vehicle2ammoname1} Rounds}}{{after2_num=[[@{prefix-vehicleweaponmode2}-floor(@{prefix-vehicleweaponmode2}/10)*10]]}}{{description=@{prefix-vehicle2ammodescription1}}}"></button>
                                        <button type="action" class="vehicleroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-vehiclename}'s @{prefix-vehicleweaponname2}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-vehicleweaponbonus2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc2}+1+@{prefix-vehiclebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy2}+@{prefix-vehicle2ammoacc1}]]}}{{limit_mod=[[[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-vehicleweaponbonus2}+[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy2}+@{prefix-vehicle2ammoacc1}+[[floor(@{vehiclemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap2}+(@{prefix-vehicle2ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-vehicleweapondv2}+(@{prefix-vehicle2ammodv1})]]}}{{after2=@{prefix-vehicle2ammoname1} Rounds}}{{after2_num=[[@{prefix-vehicleweaponmode2}-floor(@{prefix-vehicleweaponmode2}/10)*10]]}}{{description=@{prefix-vehicle2ammodescription1}}}"></button>
                                    </div>
                                    <div class="ammorollwrapper">
                                        <button type="action" class="vehicleroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-vehiclename}}}{{roll_name=an Attack with @{prefix-vehicleweaponname2}}}{{val1=Pilot}}{{val1_num=[[@{prefix-vehiclepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-vehicleweaponautosoft2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc2}+1+@{prefix-vehiclebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy2}+@{prefix-vehicle2ammoacc1}]]}}{{result=[[(@{prefix-vehiclepilot}+@{prefix-vehicleweaponautosoft2}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy2}+@{prefix-vehicle2ammoacc1})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap2}+@{prefix-vehicle2ammoap1}]]) ~ DV}}{{after1_num=[[@{prefix-vehicle2ammodv1}+@{prefix-vehicleweapondv2}]]}}{{after2=@{prefix-vehicle2ammoname1} Rounds}}{{after2_num=[[floor(@{prefix-vehicleweaponmode2}/10)]]}}{{description=@{prefix-vehicle2ammodescription1}}}"></button>
                                        <button type="action" class="vehicleroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-vehiclename}'s @{prefix-vehicleweaponname2}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-vehicleweaponbonus2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc2}+1+@{prefix-vehiclebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy2}+@{prefix-vehicle2ammoacc1}]]}}{{limit_mod=[[[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-vehicleweaponbonus2}+[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy2}+@{prefix-vehicle2ammoacc1}+[[floor(@{vehiclemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap2}+(@{prefix-vehicle2ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-vehicle2ammodv1}+(@{prefix-vehicleweapondv2})]]}}{{after2=@{prefix-vehicle2ammoname1} Rounds}}{{after2_num=[[floor(@{prefix-vehicleweaponmode2}/10)]]}}{{description=@{prefix-vehicle2ammodescription1}}}"></button>
                                    </div>
                                </div>
                                <div class="vehicleammorow">
                                    <div class="ammonamewrapper">
                                        <input type="text" name="attr_vehicle2ammoname2" title="Name of the Ammunition">
                                    </div>
                                    <div class="ammonumberwrapper">
                                        <input type="number" name="attr_vehicle2ammonumber2" title="How many still left in the Clip/Drum/etc">
                                    </div>
                                    <div class="ammodvwrapper">
                                        <input type="text" name="attr_vehicle2ammodv2" value="0" title="DV change from the Ammunition">
                                    </div>
                                    <div class="ammoapwrapper">
                                        <input type="text" name="attr_vehicle2ammoap2" value="0" title="AP change from the Ammunition">
                                    </div>
                                    <div class="ammoaccwrapper">
                                        <input type="text" name="attr_vehicle2ammoacc2" value="0" title="Accuracy change from the Ammunition">
                                    </div>
                                    <div class="ammodescriptionwrapper">
                                        <input type="text" name="attr_vehicle2ammodescription2" title="Additional Description">
                                    </div>
                                    <div class="ammorollwrapper">
                                        <button type="action" class="vehicleroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-vehiclename}}}{{roll_name=an Attack with @{prefix-vehicleweaponname2}}}{{val1=Pilot}}{{val1_num=[[@{prefix-vehiclepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-vehicleweaponautosoft2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc2}+1+@{prefix-vehiclebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy2}+@{prefix-vehicle2ammoacc2}]]}}{{result=[[(@{prefix-vehiclepilot}+@{prefix-vehicleweaponautosoft2}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy2}+@{prefix-vehicle2ammoacc2})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap2}+@{prefix-vehicle2ammoap2}]]) ~ DV}}{{after1_num=[[@{prefix-vehicleweapondv2}+@{prefix-vehicle2ammodv2}]]}}{{after2=@{prefix-vehicle2ammoname2} Rounds}}{{after2_num=[[@{prefix-vehicleweaponmode2}-floor(@{prefix-vehicleweaponmode2}/10)*10]]}}{{description=@{prefix-vehicle2ammodescription2}}}"></button>
                                        <button type="action" class="vehicleroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-vehiclename}'s @{prefix-vehicleweaponname2}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-vehicleweaponbonus2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc2}+1+@{prefix-vehiclebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy2}+@{prefix-vehicle2ammoacc2}]]}}{{limit_mod=[[[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-vehicleweaponbonus2}+[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy2}+@{prefix-vehicle2ammoacc2}+[[floor(@{vehiclemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap2}+(@{prefix-vehicle2ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-vehicleweapondv2}+(@{prefix-vehicle2ammodv2})]]}}{{after2=@{prefix-vehicle2ammoname2} Rounds}}{{after2_num=[[@{prefix-vehicleweaponmode2}-floor(@{prefix-vehicleweaponmode2}/10)*10]]}}{{description=@{prefix-vehicle2ammodescription2}}}"></button>
                                    </div>
                                    <div class="ammorollwrapper">
                                        <button type="action" class="vehicleroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-vehiclename}}}{{roll_name=an Attack with @{prefix-vehicleweaponname2}}}{{val1=Pilot}}{{val1_num=[[@{prefix-vehiclepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-vehicleweaponautosoft2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc2}+1+@{prefix-vehiclebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy2}+@{prefix-vehicle2ammoacc2}]]}}{{result=[[(@{prefix-vehiclepilot}+@{prefix-vehicleweaponautosoft2}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy2}+@{prefix-vehicle2ammoacc2})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap2}+@{prefix-vehicle2ammoap2}]]) ~ DV}}{{after1_num=[[@{prefix-vehicle2ammodv2}+@{prefix-vehicleweapondv2}]]}}{{after2=@{prefix-vehicle2ammoname2} Rounds}}{{after2_num=[[floor(@{prefix-vehicleweaponmode2}/10)]]}}{{description=@{prefix-vehicle2ammodescription2}}}"></button>
                                        <button type="action" class="vehicleroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-vehiclename}'s @{prefix-vehicleweaponname2}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-vehicleweaponbonus2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-vehicleweaponrc2}+1+@{prefix-vehiclebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-vehicleweaponaccuracy2}+@{prefix-vehicle2ammoacc2}]]}}{{limit_mod=[[[[floor(@{vehiclemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-vehicleweaponbonus2}+[[[[ceil(@{vehiclemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{vehiclemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-vehicleweaponaccuracy2}+@{prefix-vehicle2ammoacc2}+[[floor(@{vehiclemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-vehicleweaponap2}+(@{prefix-vehicle2ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-vehicle2ammodv2}+(@{prefix-vehicleweapondv2})]]}}{{after2=@{prefix-vehicle2ammoname2} Rounds}}{{after2_num=[[floor(@{prefix-vehicleweaponmode2}/10)]]}}{{description=@{prefix-vehicle2ammodescription2}}}"></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </summary>
                    <textarea name="attr_vehiclenotes" title="Have more Space!"></textarea>
                </details>
            </fieldset>
        </div>
        <div class="drone">
            <h2>Drones</h2>
            <div class="dronerow">
                <div class="droneskillmodlabel"><label>Control Rig Rating</label></div>
                <div class="droneskillmodinput">
                    <input type="text" name="attr_controlrig" value="0" title="Rating of the Control Rig">
                </div>
                <div class="droneskillmodlabel"><label>Running Silent</label></div>
                <input class="mskillsilentcheckbox hiddencheckbox" type="checkbox" value="-2" name="attr_runningsilent" title="-2 for Running Silent">
                <div class="checkboxticker mskillsilentunticked"></div>
                <div class="checkboxticker mskillsilentticked">X</div>
                <div class="droneskillmodlabel"><label>Hot Sim</label></div>
                <input class="mskillhotsimcheckbox hiddencheckbox" type="checkbox" value="2" name="attr_hotsim" title="+2 for Hot Sim">
                <div class="checkboxticker mskillhotsimunticked"></div>
                <div class="checkboxticker mskillhotsimticked">X</div>
                <input type="checkbox" class="technomancycheckbox dronemode3" name="attr_dronemode" value="3">
                <div class="droneskillmodlabel"><label>Noise</label></div>
                <div class="droneskillmodinput">
                    <input class="droneskillnoise" type="number" value="0" name="attr_noise" title="Total noise penalty before noise reduction">
                </div>
                <div class="droneskillmodlabel"><label>Control</label></div>
                <input type="radio" class="dronemode dronemode0" name="attr_dronemode" value="0" title="Click to switch to Manual
Click again to switch to Remote and Jumped-in" checked>
                <input type="radio" class="dronemode dronemode1" name="attr_dronemode" value="1" title="Click to switch to Remote
Click again to switch to Jumped-in and Autopilot">
                <input type="radio" class="dronemode dronemode2" name="attr_dronemode" value="2" title="Click to switch to Jumped-in
Click again to switch to Autopilot and Manual">
                <input type="radio" class="dronemode dronemode3" name="attr_dronemode" value="3" title="Click to switch to Autopilot
Click again to switch to Manual and Remote">
                <div class="droneskillmodelabel dronelabel0"><label>Manual</label></div>
                <div class="droneskillmodelabel dronelabel1"><label>Remote</label></div>
                <div class="droneskillmodelabel dronelabel2"><label>Jumped-in</label></div>
                <div class="droneskillmodelabel dronelabel3"><label>Autopilot</label></div>
            </div>
            <div class="dronelabels">
                <div class="dronenamewrapper">
                    <label class="dronelabel">Name</label>
                </div>
                <div class="dronehandwrapper">
                    <label class="dronelabel">Hand.</label>
                </div>
                <div class="dronespeedwrapper">
                    <label class="dronelabel">Speed</label>
                </div>
                <div class="droneacclwrapper">
                    <label class="dronelabel">Accl.</label>
                </div>
                <div class="dronepilotwrapper">
                    <label class="dronelabel">Pilot</label>
                </div>
                <div class="dronesenswrapper">
                    <label class="dronelabel">Sens.</label>
                </div>
                <div class="dronecostwrapper">
                    <label class="dronelabel">Price</label>
                </div>
                <div class="dronebodywrapper">
                    <label class="dronelabel">Body</label>
                </div>
                <div class="dronearmorwrapper">
                    <label class="dronelabel">Armor</label>
                </div>
                <div class="dronedamagewrapper">
                    <label class="dronelabel">Dmg</label>
                </div>
                <div class="droneboxwrapper">
                    <label class="dronelabel">Tests</label>
                </div>
                <div class="droneboxwrapper">
                    <label class="dronelabel">Weapon</label>
                </div>
            </div>
            <input type="checkbox" class="technomancycheckbox dronemode3" name="attr_dronemode" value="3">
            <fieldset class="repeating_drones">
                <details>
                    <summary class="dronerow">
                        <div class="dronenamewrapper">
                            <input type="text" name="attr_dronename" title="Name of the drone">
                        </div>
                        <div class="dronehandwrapper">
                            <input type="text" name="attr_dronehand" value="0" title="Handling of the drone">
                        </div>
                        <div class="vehiclespeedwrapper">
                            <input type="text" name="attr_dronespeed" value="0" title="Speed of the drone">
                        </div>
                        <div class="droneacclwrapper">
                            <input type="text" name="attr_droneaccl" value="0" title="(optional)Acceleration of the drone">
                        </div>
                        <div class="dronepilotwrapper">
                            <input type="text" name="attr_dronepilot" value="0" title="Pilot Rating of the drone">
                        </div>
                        <div class="dronesenswrapper">
                            <input type="text" name="attr_dronesens" value="0" title="Sensor Rating of the drone">
                        </div>
                        <div class="dronecostwrapper">
                            <input type="text" name="attr_droneprice" value="0" title="Total Cost of the drone">
                        </div>
                        <div class="dronebodywrapper">
                            <input type="text" name="attr_dronebody" value="0" title="Body Rating of the drone">
                        </div>
                        <div class="dronearmorwrapper">
                            <input type="text" name="attr_dronearmor" value="0" title="Armor Rating of the drone">
                        </div>
                        <input class="dronedmgcheckbox hiddencheckbox" type="checkbox" name="attr_showdronedmg" title="Took some Damage?">
                        <div class="checkboxticker dronedmgunticked"></div>
                        <div class="checkboxticker dronedmgticked">X</div>
                        <div class="dronespacer"></div>
                        <input class="droneskillscheckbox hiddencheckbox" type="checkbox" name="attr_showdroneskills" title="Need to do stuff?">
                        <div class="checkboxticker droneskillsunticked"></div>
                        <div class="checkboxticker droneskillsticked">X</div>
                        <div class="dronespacer"></div>
                        <input class="droneshowweaponcheckbox hiddencheckbox" type="checkbox" name="attr_showdroneweapon" title="Got a Gun?">
                        <div class="checkboxticker droneshowweaponunticked"></div>
                        <div class="checkboxticker droneshowweaponticked">X</div>
                        <div class="dronedmgwrapper">
                            <div class="droneskillrow">
                                <div class="dronedmgphys">
                                    <label class="dronelabel">Physical Condition</label>
                                </div>
                                <div class="dronedmgmatrix">
                                    <label class="dronelabel">Matrix Condition</label>
                                </div>
                            </div>
                            <div class="droneskillrow">
                                <div class="dronedmgphys">
                                    <div class="dronedmginput">
                                        <input type="number" name="attr_dronedamagep" value="0" title="How much pyhsical Damage the drone took">
                                    </div>
                                    <div class="dronedmginput">
                                        <input type="number" name="attr_dronedamageprem" value="6 + ceil(@{dronebody}/2)-@{dronedamagep}" title="How much physical Damage remaining" disabled>
                                    </div>
                                </div>
                                <div class="dronedmgmatrix">
                                    <div class="dronedmginput">
                                        <input type="number" name="attr_dronedamagem" value="0" title="How much Matrix Damage the drone took">
                                    </div>
                                    <div class="dronedmginput">
                                        <input type="number" name="attr_dronedamagemrem" value="8 + ceil(@{dronepilot}/2)-@{dronedamagem}" title="How much Matrix Damage remaining" disabled>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="droneskillswrapper">
                            <div class="droneskillrow">
                                <div class="droneskillinitiative">
                                    <label class="dronelabel">Initiative</label>
                                </div>
                                <div class="droneskillsoak">
                                    <label class="dronelabel">Soak</label>
                                </div>
                                <div class="droneskilldodge">
                                    <label class="dronelabel">Evasion</label>
                                </div>
                                <div class="droneskillmaneuver">
                                    <label class="dronelabel">Maneuver</label>
                                </div>
                                <div class="droneskillperception">
                                    <label class="dronelabel">Clearsight</label>
                                </div>
                                <div class="droneskillsneak">
                                    <label class="dronelabel">Stealth</label>
                                </div>
                                <div class="droneskillother">
                                    <label class="dronelabel">Other</label>
                                </div>
                                <div class="droneskilltype">
                                    <label class="dronelabel">Drone Type</label>
                                </div>
                            </div>
                            <div class="droneskillrow">
                                <div class="droneskillinitiative">
                                    <button type="roll" class="droneroll autopilotroll" name="roll_dronerollautopilot" title="Roll for Initiative" value="@{gmroll}&{template:shadowrun}{{name=@{dronename}}}{{roll_name=for Initiative}}{{val1=Pilot}}{{val1_num=[[@{dronepilot}]]}}{{initiative=[[@{dronepilot}*2+4d6 &{tracker}]]}}"></button>
                                    <button type="roll" class="droneroll pilotroll" name="roll_matrixinitiativeroll" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=for Matrix Initiative}}{{val1=Data Processing}}{{val1_num=[[@{datap_total}]]}}{{val2=Intuition}}{{val2_num=[[@{int_total}]]}}{{val3=Bonus}}{{val3_num=[[@{matrixinitiativebonus}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{initiative=[[@{matrixinitiativeattribute}+@{matrixinitiativebonus}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[{@{matrixinitiativedice},(@{edgn}*5)}kh1]]d6 &{tracker}]]}}"></button>
                                </div>
                                <div class="droneskillsoak">
                                    <button type="roll" class="droneroll" name="roll_dronesoakroll" title="Damage Resistance Roll" value="@{gmroll}&{template:shadowrun}{{name=@{dronename}}}{{roll_name=to resist Damage}}{{val1=Body}}{{val1_num=[[@{dronebody}]]}}{{val2=Armor}}{{val2_num=[[@{dronearmor}]]}}{{val3=Armor Penetration}}{{val3_num=[[?{Armor Penetration|-0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{result=[[(@{dronebody}+@{dronearmor}+?{Armor Penetration|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                                </div>
                                <div class="droneskilldodge">
                                    <div class="droneskillinputwrapper">
                                        <input type="text" value="0" name="attr_dronedodgesoft" title="Evasion Autosoft Rating for this Drone">
                                    </div>
                                    <button type="roll" class="droneroll autopilotroll" name="roll_dronedodgerollautopilot" title="Roll a Dodge Test" value="@{gmroll}&{template:shadowrun}{{name=@{dronename}}}{{roll_name=a Avoidance Test}}}{{val1=Pilot}}{{val1_num=[[@{dronepilot}]]}}{{val2=Evasion-Soft}}{{val2_num=[[@{dronedodgesoft}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Handling}}{{limit_num=[[@{dronehand}}]]}}{{result=[[(@{dronepilot}+@{dronedodgesoft}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{dronehand})]]]]}}"></button>
                                    <button type="roll" class="droneroll pilotroll" name="roll_dronedodgerollpilot" title="Roll a Dodge Test" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=a Avoidance Test with @{dronename}}}{{val1=Reaction}}{{val1_num=[[@{rea_total}]]}}{{val2=Intuition}}{{val2_num=[[@{int_total}]]}}{{val3=Hot Sim/Silent/CR}}{{val3_num=[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{val4=Noise}}{{val4_num=[[ceil(@{dronemode}/2)*{0,@{noise}-@{noisereduction}}kh1]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{result=[[(@{rea_total}+@{int_total}+[[ceil(@{dronemode}/2)*(@{runningsilent}+@{hotsim}-{0,@{noise}-@{noisereduction}}kh1)+floor(@{dronemode}/2)*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
                                </div>
                                <div class="droneskillmaneuver">
                                    <div class="droneskillinputwrapper">
                                        <input type="text" value="0" name="attr_dronemaneuversoft" title="Maneuver Autosoft Rating for this Drone">
                                    </div>
                                    <button type="roll" class="droneroll autopilotroll" name="roll_dronemaneuverrollautopilot" title="Roll a Driving Test" value="@{gmroll}&{template:shadowrun}{{name=@{dronename}}}}{{roll_name=a Piloting Test with @{dronename}}}{{val1=Pilot}}{{val1_num=[[@{dronepilot}]]}}{{val2=Maneuver-Soft}}{{val2_num=[[@{dronemaneuversoft}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Limit}}{{limit_num=[[?{Limit|Handling,@{dronehand}|Speed,@{dronespeed}}]]}}{{result=[[(@{dronepilot}+@{dronemaneuversoft}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(?{Limit})]]]]}}"></button>
                                    <button type="roll" class="droneroll pilotroll" name="roll_dronemaneuverrollpilot" title="Roll a Driving Test" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=a Piloting Test with @{dronename}}}{{val1=Reaction}}{{val1_num=[[@{rea_total}]]}}{{val2=@{droneskillname}}}{{val2_num=[[@{droneskilltype}-[[@{rea_total}]] ]]}}{{val3=Hot Sim/Silent/CR}}{{val3_num=[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{val4=Noise}}{{val4_num=[[ceil(@{dronemode}/2)*{0,@{noise}-@{noisereduction}}kh1]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{limit=Speed/Handling}}{{limit_num=[[?{Limit|Handling,@{dronehand}|Speed,@{dronespeed}}]]}}{{limit_mod=[[floor(@{dronemode}/2)*@{controlrig}]]}}{{result=[[(@{droneskilltype}+[[ceil(@{dronemode}/2)*(@{runningsilent}+@{hotsim}-{0,@{noise}-@{noisereduction}}kh1)+floor(@{dronemode}/2)*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(?{Limit|Handling,@{dronehand}|Speed,@{dronespeed}}+floor(@{dronemode}/2)*@{controlrig})]]]]}}"></button>
                                </div>
                                <div class="droneskillperception">
                                    <div class="droneskillinputwrapper">
                                        <input type="text" value="0" name="attr_droneperceptionsoft" title="Cleasight Autosoft Rating for this Drone">
                                    </div>
                                    <button type="roll" class="droneroll autopilotroll" name="roll_droneperceptionrollautopilot" title="Roll a Perception Test" value="@{gmroll}&{template:shadowrun}{{name=@{dronename}}}{{roll_name=a Perception Test}}{{val1=Pilot}}{{val1_num=[[@{dronepilot}]]}}{{val2=Clearsight-Soft}}{{val2_num=[[@{droneperceptionsoft}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Sensor}}{{limit_num=[[@{dronesens}]]}}{{limit_mod=?{Limit Modifier?|0}}}{{result=[[(@{dronepilot}+@{droneperceptionsoft}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{dronesens}+(?{Limit Modifier?}))]]]]}}"></button>
                                    <button type="roll" class="droneroll pilotroll" name="roll_droneperceptionrollpilot" title="Roll a Perception Test" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=a Perception Test with @{dronename}}}{{val1=Intuition}}{{val1_num=[[@{int_total}]]}}{{val2=Perception/EW}}{{val2_num=[[{@{skillrating8}+@{skillbonus8},@{skillrating37}+@{skillbonus37}}}kh1]]}}{{val3=Hot Sim/Silent/CR}}{{val3_num=[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{val4=Noise}}{{val4_num=[[ceil(@{dronemode}/2)*{0,@{noise}-@{noisereduction}}kh1]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{limit=Sensor}}{{limit_num=[[@{dronesens}]]}}{{limit_mod=[[floor(@{dronemode}/2)*@{controlrig}+?{Limit Modifier?|0}]]}}{{result=[[(@{int_total}+[[{@{skillrating8}+@{skillbonus8},@{skillrating37}+@{skillbonus37}}kh1]]+[[ceil(@{dronemode}/2)*(@{runningsilent}+@{hotsim}-{0,@{noise}-@{noisereduction}}kh1)+floor(@{dronemode}/2)*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{dronesens}+floor(@{dronemode}/2)*@{controlrig}+?{Limit Modifier?})]]]]}}"></button>
                                </div>
                                <div class="droneskillsneak">
                                    <div class="droneskillinputwrapper">
                                        <input type="text" value="0" name="attr_dronesneaksoft" title="Stealth Autosoft Rating for this Drone/drone">
                                    </div>
                                    <button type="roll" class="droneroll autopilotroll" name="roll_dronesneakrollautopilot" title="Roll a Sneaking Test" value="@{gmroll}&{template:shadowrun}{{name=@{dronename}}}{{roll_name=a Sneaking Test}}{{val1=Pilot}}{{val1_num=[[@{dronepilot}]]}}{{val2=Stealth-Soft}}{{val2_num=[[@{dronesneaksoft}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Handling}}{{limit_num=[[@{dronehand}]]}}{{result=[[(@{dronepilot}+@{dronesneaksoft}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{dronehand})]]]]}}"></button>
                                    <button type="roll" class="droneroll pilotroll" name="roll_dronesneakrollpilot" title="Roll a Sneaking Test" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=a Sneaking Test with @{dronename}}}{{val1=Attribute}}{{val1_num=[[?{Attribute|Reaction,@{rea_total}|Intuition,@{int_total}}]]}}{{val2=Sneaking}}{{val2_num=[[@{skillrating10}+@{skillbonus10}]]}}{{val3=Hot Sim/Silent/CR}}{{val3_num=[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{val4=Noise}}{{val4_num=[[ceil(@{dronemode}/2)*{0,@{noise}-@{noisereduction}}kh1]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{limit=Handling}}{{limit_num=[[@{dronehand}]]}}{{limit_mod=[[floor(@{dronemode}/2)*@{controlrig}]]}}{{result=[[(?{Attribute}+@{skillrating10}+@{skillbonus10}+[[ceil(@{dronemode}/2)*(@{runningsilent}+@{hotsim}-{0,@{noise}-@{noisereduction}}kh1)+floor(@{dronemode}/2)*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{dronehand}+floor(@{dronemode}/2)*@{controlrig})]]]]}}"></button>
                                </div>
                                <div class="droneskillother">
                                    <button type="roll" class="droneroll autopilotroll" name="roll_droneotherrollautopilot" title="Any other drone Teste" value="@{gmroll}&{template:shadowrun}{{name=@{dronename}}}{{roll_name=a Test}}{{val1=Pilot}}{{val1_num=[[@{dronepilot}]]}}{{val2=Autosoft}}{{val2_num=[[?{Autosoft-Rating|0}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Limit}}{{limit_num=[[?{Limit|Handling,@{dronehand}|Speed,@{dronespeed}|Sensor,@{dronesens}}]]}}{{result=[[(@{dronepilot}+?{Autosoft-Rating|0}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(?{Limit})]]]]}}"></button>
                                    <button type="roll" class="droneroll pilotroll" name="roll_droneotherrollpilot" title="Any other drone Teste" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=a Test with @{dronename}}}{{val1=Attribute}}{{val1_num=[[?{Attribute|Body,@{bod_total}|Agility,@{agi_total}|Reaction,@{rea_total}|Strength,@{str_total}|Charisma,@{cha_total}|Intuition,@{int_total}|Logic,@{log_total}|Willpower,@{wil_total}}]]}}{{val2=Skill}}{{val2_num=[[?{Skill-Rating|0}]]}}{{val3=Hot Sim/Silent/CR}}{{val3_num=[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{val4=Noise}}{{val4_num=[[ceil(@{dronemode}/2)*{0,@{noise}-@{noisereduction}}kh1]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{limit=Limit}}{{limit_num=[[?{Limit|Handling,@{dronehand}|Speed,@{dronespeed}|Sensor,@{dronesens}}]]}}{{limit_mod=[[floor(@{dronemode}/2)*@{controlrig}]]}}{{result=[[(?{Attribute}+?{Skill-Rating}+[[ceil(@{dronemode}/2)*(@{runningsilent}+@{hotsim}-{0,@{noise}-@{noisereduction}}kh1)+floor(@{dronemode}/2)*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(?{Limit}+floor(@{dronemode}/2)*@{controlrig})]]]]}}"></button>
                                </div>
                                <div class="droneskilltype">
                                    <select name="attr_droneskilltype">
                                        <option value="@{skilldicepool53}">Aerospace</option>
                                        <option value="@{skilldicepool54}">Aircraft</option>
                                        <option selected value="@{skilldicepool55}">Groundcraft</option>
                                        <option value="@{skilldicepool56}">Walker</option>
                                        <option value="@{skilldicepool57}">Watercraft</option>
                                    </select>
                                    <input type="text" class="hiddentextfield" name="attr_droneskillname" value="@{skillname55}">
                                </div>
                            </div>
                        </div>
                        <div class="droneweaponwrapper">
                            <div class="droneweaponrow">
                                <div class="weaponnamewrapper">
                                    <label class="weaponlabel">Weaponname</label>
                                </div>
                                <div class="weaponaccuracywrapper">
                                    <label class="weaponlabel">Acc.</label>
                                </div>
                                <div class="weapondvwrapper">
                                    <label class="weaponlabel">DV</label>
                                </div>
                                <div class="weaponapwrapper">
                                    <label class="weaponlabel">AP</label>
                                </div>
                                <div class="weaponrcwrapper">
                                    <label class="weaponlabel">RC</label>
                                </div>
                                <div class="weaponmodewrapper">
                                    <label class="weaponlabel">Mode</label>
                                </div>
                                <div class="weaponautosoftwrapper">
                                    <label class="weaponlabel">Softw</label>
                                </div>
                                <div class="weaponskillwrapper">
                                    <label class="weaponlabel">Bonus</label>
                                </div>
                                <div class="weaponrollwrapper">
                                    <label class="weaponlabel">Roll</label>
                                </div>
                                <div class="weaponnoteboxwrapper">
                                    <label class="weaponlabel">Notes</label>
                                </div>
                            </div>
                            <div class="droneweaponrow">
                                <div class="weaponnamewrapper">
                                    <input type="text" name="attr_droneweaponname1" title="Weapon Name">
                                </div>
                                <div class="weaponaccuracywrapper">
                                    <input type="text" name="attr_droneweaponaccuracy1" title="Weapon Accuracy with all Modifications but Ammo">
                                </div>
                                <div class="weapondvwrapper">
                                    <input type="text" name="attr_droneweapondv1" title="Weapon Damage Code with all Modifications but Ammo">
                                </div>
                                <div class="weaponapwrapper">
                                    <input type="text" name="attr_droneweaponap1" title="Weapon Armor Penetration with all Modifications but Ammo">
                                </div>
                                <div class="weaponrcwrapper">
                                    <input type="text" name="attr_droneweaponrc1" title="Weapon Recoil Compensation with all Modifications including drone Body">
                                </div>
                                <div class="weaponmodewrapper">
                                    <select name="attr_droneweaponmode1" title="Current Firing Mode of the Weapon">
                                        <option value="11">SS</option>
                                        <option value="31">SA</option>
                                        <option value="63">BF</option>
                                        <option value="106">FA</option>
                                    </select>
                                </div>
                                <div class="weaponautosoftwrapper">
                                    <input type="text" name="attr_droneweaponautosoft1" title="Targeting Autosoft on this drone">
                                </div>
                                <div class="weaponbonuswrapper">
                                    <input type="text" name="attr_droneweaponbonus1" title="Any Bonuses to Weapon Skill">
                                </div>
                                <div class="weaponrollwrapper">
                                    <button type="action" class="droneroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-dronename}}}{{roll_name=an Attack with @{prefix-droneweaponname1}}}{{val1=Pilot}}{{val1_num=[[@{prefix-dronepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-droneweaponautosoft1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc1}+1+@{prefix-dronebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy1}]]}}{{result=[[(@{prefix-dronepilot}+@{prefix-droneweaponautosoft1}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-droneweaponaccuracy1})]]]]}}{{after1=AP([[@{prefix-droneweaponap1}]]) ~ DV}}{{after1_num=[[@{prefix-droneweapondv1}]]}}"></button>
                                    <button type="action" class="droneroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-dronename}'s @{prefix-droneweaponname1}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-droneweaponbonus1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc1}+1+@{prefix-dronebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy1}]]}}{{limit_mod=[[[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-droneweaponbonus1}+[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-droneweaponaccuracy1}+[[floor(@{dronemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-droneweaponap1}]]) ~ DV}}{{after1_num=[[@{prefix-droneweapondv1}]]}}"></button>
                                </div>
                                <input class="droneweaponcheckbox hiddencheckbox" type="checkbox" name="attr_droneshowweaponnotes" title="Need more Space?">
                                <div class="checkboxticker droneweaponunticked"></div>
                                <div class="checkboxticker droneweaponticked">X</div>
                                <div class="droneweaponnoteswrapper">
                                    <textarea name="attr_droneweaponnotes" title="Have more Space!"></textarea>
                                </div>
                                <div class="droneammolabels">
                                    <div class="ammonamewrapper">
                                        <label class="ammolabel">Ammo Name</label>
                                    </div>
                                    <div class="ammonumberwrapper">
                                        <label class="ammolabel">Rounds</label>
                                    </div>
                                    <div class="ammodvwrapper">
                                        <label class="ammolabel">DV Mod</label>
                                    </div>
                                    <div class="ammoapwrapper">
                                        <label class="ammolabel">AP Mod</label>
                                    </div>
                                    <div class="ammoaccwrapper">
                                        <label class="ammolabel">Acc Mod</label>
                                    </div>
                                    <div class="ammodescriptionwrapper">
                                        <label class="ammolabel">Description</label>
                                    </div>
                                    <div class="ammorollwrapper">
                                        <label class="ammolabel">Simple</label>
                                    </div>
                                    <div class="ammorollwrapper">
                                        <label class="ammolabel">Complex</label>
                                    </div>
                                </div>
                                <div class="droneammorow">
                                    <div class="ammonamewrapper">
                                        <input type="text" name="attr_drone1ammoname1" title="Name of the Ammunition">
                                    </div>
                                    <div class="ammonumberwrapper">
                                        <input type="number" name="attr_drone1ammonumber1" title="How many still left in the Clip/Drum/etc">
                                    </div>
                                    <div class="ammodvwrapper">
                                        <input type="text" name="attr_drone1ammodv1" value="0" title="DV change from the Ammunition">
                                    </div>
                                    <div class="ammoapwrapper">
                                        <input type="text" name="attr_drone1ammoap1" value="0" title="AP change from the Ammunition">
                                    </div>
                                    <div class="ammoaccwrapper">
                                        <input type="text" name="attr_drone1ammoacc1" value="0" title="Accuracy change from the Ammunition">
                                    </div>
                                    <div class="ammodescriptionwrapper">
                                        <input type="text" name="attr_drone1ammodescription1" title="Additional Description">
                                    </div>
                                    <div class="ammorollwrapper">
                                        <button type="action" class="droneroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-dronename}}}{{roll_name=an Attack with @{prefix-droneweaponname1}}}{{val1=Pilot}}{{val1_num=[[@{prefix-dronepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-droneweaponautosoft1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc1}+1+@{prefix-dronebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy1}+@{prefix-drone1ammoacc1}]]}}{{result=[[(@{prefix-dronepilot}+@{prefix-droneweaponautosoft1}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-droneweaponaccuracy1}+@{prefix-drone1ammoacc1})]]]]}}{{after1=AP([[@{prefix-droneweaponap1}+@{prefix-drone1ammoap1}]]) ~ DV}}{{after1_num=[[@{prefix-droneweapondv1}+@{prefix-drone1ammodv1}]]}}{{after2=@{prefix-drone1ammoname1} Rounds}}{{after2_num=[[@{prefix-droneweaponmode1}-floor(@{prefix-droneweaponmode1}/10)*10]]}}{{description=@{prefix-drone1ammodescription1}}}"></button>
                                        <button type="action" class="droneroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-dronename}'s @{prefix-droneweaponname1}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-droneweaponbonus1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc1}+1+@{prefix-dronebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy1}+@{prefix-drone1ammoacc1}]]}}{{limit_mod=[[[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-droneweaponbonus1}+[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-droneweaponaccuracy1}+@{prefix-drone1ammoacc1}+[[floor(@{dronemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-droneweaponap1}+(@{prefix-drone1ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-droneweapondv1}+(@{prefix-drone1ammodv1})]]}}{{after2=@{prefix-drone1ammoname1} Rounds}}{{after2_num=[[@{prefix-droneweaponmode1}-floor(@{prefix-droneweaponmode1}/10)*10]]}}{{description=@{prefix-drone1ammodescription1}}}"></button>
                                    </div>
                                    <div class="ammorollwrapper">
                                        <button type="action" class="droneroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-dronename}}}{{roll_name=an Attack with @{prefix-droneweaponname1}}}{{val1=Pilot}}{{val1_num=[[@{prefix-dronepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-droneweaponautosoft1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc1}+1+@{prefix-dronebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy1}+@{prefix-drone1ammoacc1}]]}}{{result=[[(@{prefix-dronepilot}+@{prefix-droneweaponautosoft1}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-droneweaponaccuracy1}+@{prefix-drone1ammoacc1})]]]]}}{{after1=AP([[@{prefix-droneweaponap1}+@{prefix-drone1ammoap1}]]) ~ DV}}{{after1_num=[[@{prefix-drone1ammodv1}+@{prefix-droneweapondv1}]]}}{{after2=@{prefix-drone1ammoname1} Rounds}}{{after2_num=[[floor(@{prefix-droneweaponmode1}/10)]]}}{{description=@{prefix-drone1ammodescription1}}}"></button>
                                        <button type="action" class="droneroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-dronename}'s @{prefix-droneweaponname1}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-droneweaponbonus1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc1}+1+@{prefix-dronebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy1}+@{prefix-drone1ammoacc1}]]}}{{limit_mod=[[[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-droneweaponbonus1}+[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-droneweaponaccuracy1}+@{prefix-drone1ammoacc1}+[[floor(@{dronemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-droneweaponap1}+(@{prefix-drone1ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-drone1ammodv1}+(@{prefix-droneweapondv1})]]}}{{after2=@{prefix-drone1ammoname1} Rounds}}{{after2_num=[[floor(@{prefix-droneweaponmode1}/10)]]}}{{description=@{prefix-drone1ammodescription1}}}"></button>
                                    </div>
                                </div>
                                <div class="droneammorow">
                                    <div class="ammonamewrapper">
                                        <input type="text" name="attr_drone1ammoname2" title="Name of the Ammunition">
                                    </div>
                                    <div class="ammonumberwrapper">
                                        <input type="number" name="attr_drone1ammonumber2" title="How many still left in the Clip/Drum/etc">
                                    </div>
                                    <div class="ammodvwrapper">
                                        <input type="text" name="attr_drone1ammodv2" value="0" title="DV change from the Ammunition">
                                    </div>
                                    <div class="ammoapwrapper">
                                        <input type="text" name="attr_drone1ammoap2" value="0" title="AP change from the Ammunition">
                                    </div>
                                    <div class="ammoaccwrapper">
                                        <input type="text" name="attr_drone1ammoacc2" value="0" title="Accuracy change from the Ammunition">
                                    </div>
                                    <div class="ammodescriptionwrapper">
                                        <input type="text" name="attr_drone1ammodescription2" title="Additional Description">
                                    </div>
                                    <div class="ammorollwrapper">
                                        <button type="action" class="droneroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-dronename}}}{{roll_name=an Attack with @{prefix-droneweaponname1}}}{{val1=Pilot}}{{val1_num=[[@{prefix-dronepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-droneweaponautosoft1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc1}+1+@{prefix-dronebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy1}+@{prefix-drone1ammoacc2}]]}}{{result=[[(@{prefix-dronepilot}+@{prefix-droneweaponautosoft1}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{droneweaponaccuracy1}+@{drone1ammoacc2})]]]]}}{{after1=AP([[@{prefix-droneweaponap1}+@{prefix-drone1ammoap2}]]) ~ DV}}{{after1_num=[[@{prefix-droneweapondv1}+@{prefix-drone1ammodv2}]]}}{{after2=@{prefix-drone1ammoname2} Rounds}}{{after2_num=[[@{prefix-droneweaponmode1}-floor(@{prefix-droneweaponmode1}/10)*10]]}}{{description=@{prefix-drone1ammodescription2}}}"></button>
                                        <button type="action" class="droneroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-dronename}'s @{prefix-droneweaponname1}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-droneweaponbonus1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc1}+1+@{prefix-dronebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy1}+@{prefix-drone1ammoacc2}]]}}{{limit_mod=[[[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-droneweaponbonus1}+[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-droneweaponaccuracy1}+@{prefix-drone1ammoacc2}+[[floor(@{dronemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-droneweaponap1}+(@{prefix-drone1ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-droneweapondv1}+(@{prefix-drone1ammodv2})]]}}{{after2=@{prefix-drone1ammoname2} Rounds}}{{after2_num=[[@{prefix-droneweaponmode1}-floor(@{prefix-droneweaponmode1}/10)*10]]}}{{description=@{prefix-drone1ammodescription2}}}"></button>
                                    </div>
                                    <div class="ammorollwrapper">
                                        <button type="action" class="droneroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-dronename}}}{{roll_name=an Attack with @{prefix-droneweaponname1}}}{{val1=Pilot}}{{val1_num=[[@{prefix-dronepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-droneweaponautosoft1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc1}+1+@{prefix-dronebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy1}+@{prefix-drone1ammoacc2}]]}}{{result=[[(@{prefix-dronepilot}+@{prefix-droneweaponautosoft1}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{droneweaponaccuracy1}+@{drone1ammoacc2})]]]]}}{{after1=AP([[@{prefix-droneweaponap1}+@{prefix-drone1ammoap2}]]) ~ DV}}{{after1_num=[[@{prefix-drone1ammodv2}+@{prefix-droneweapondv1}]]}}{{after2=@{prefix-drone1ammoname2} Rounds}}{{after2_num=[[floor(@{prefix-droneweaponmode1}/10)]]}}{{description=@{prefix-drone1ammodescription2}}}"></button>
                                        <button type="action" class="droneroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-dronename}'s @{prefix-droneweaponname1}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-droneweaponbonus1}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc1}+1+@{prefix-dronebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy1}+@{prefix-drone1ammoacc2}]]}}{{limit_mod=[[[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-droneweaponbonus1}+[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-droneweaponaccuracy1}+@{prefix-drone1ammoacc2}+[[floor(@{dronemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-droneweaponap1}+(@{prefix-drone1ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-drone1ammodv2}+(@{prefix-droneweapondv1})]]}}{{after2=@{prefix-drone1ammoname2} Rounds}}{{after2_num=[[floor(@{prefix-droneweaponmode1}/10)]]}}{{description=@{prefix-drone1ammodescription2}}}"></button>
                                    </div>
                                </div>
                            </div>
                            <div class="droneweaponrow">
                                <div class="weaponnamewrapper">
                                    <label class="weaponlabel">Weaponname</label>
                                </div>
                                <div class="weaponaccuracywrapper">
                                    <label class="weaponlabel">Acc.</label>
                                </div>
                                <div class="weapondvwrapper">
                                    <label class="weaponlabel">DV</label>
                                </div>
                                <div class="weaponapwrapper">
                                    <label class="weaponlabel">AP</label>
                                </div>
                                <div class="weaponrcwrapper">
                                    <label class="weaponlabel">RC</label>
                                </div>
                                <div class="weaponmodewrapper">
                                    <label class="weaponlabel">Mode</label>
                                </div>
                                <div class="weaponautosoftwrapper">
                                    <label class="weaponlabel">Softw</label>
                                </div>
                                <div class="weaponskillwrapper">
                                    <label class="weaponlabel">Bonus</label>
                                </div>
                                <div class="weaponrollwrapper">
                                    <label class="weaponlabel">Roll</label>
                                </div>
                                <div class="weaponnoteboxwrapper">
                                    <label class="weaponlabel">Notes</label>
                                </div>
                            </div>
                            <div class="droneweaponrow">
                                <div class="weaponnamewrapper">
                                    <input type="text" name="attr_droneweaponname2" title="Weapon Name">
                                </div>
                                <div class="weaponaccuracywrapper">
                                    <input type="text" name="attr_droneweaponaccuracy2" title="Weapon Accuracy with all Modifications but Ammo">
                                </div>
                                <div class="weapondvwrapper">
                                    <input type="text" name="attr_droneweapondv2" title="Weapon Damage Code with all Modifications but Ammo">
                                </div>
                                <div class="weaponapwrapper">
                                    <input type="text" name="attr_droneweaponap2" title="Weapon Armor Penetration with all Modifications but Ammo">
                                </div>
                                <div class="weaponrcwrapper">
                                    <input type="text" name="attr_droneweaponrc2" title="Weapon Recoil Compensation with all Modifications including drone Body">
                                </div>
                                <div class="weaponmodewrapper">
                                    <select name="attr_droneweaponmode2" title="Current Firing Mode of the Weapon">
                                        <option value="11">SS</option>
                                        <option value="31">SA</option>
                                        <option value="63">BF</option>
                                        <option value="106">FA</option>
                                    </select>
                                </div>
                                <div class="weaponautosoftwrapper">
                                    <input type="text" name="attr_droneweaponautosoft2" title="Targeting Autosoft on this drone">
                                </div>
                                <div class="weaponbonuswrapper">
                                    <input type="text" name="attr_droneweaponbonus2" title="Any Bonuses to Weapon Skill">
                                </div>
                                <div class="weaponrollwrapper">
                                    <button type="action" class="droneroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-dronename}}}{{roll_name=an Attack with @{prefix-droneweaponname2}}}{{val1=Pilot}}{{val1_num=[[@{prefix-dronepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-droneweaponautosoft2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc2}+1+@{prefix-dronebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy2}]]}}{{result=[[(@{prefix-dronepilot}+@{prefix-droneweaponautosoft2}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-droneweaponaccuracy2})]]]]}}{{after1=AP([[@{prefix-droneweaponap2}]]) ~ DV}}{{after1_num=[[@{prefix-droneweapondv2}]]}}"></button>
                                    <button type="action" class="droneroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-dronename}'s @{prefix-droneweaponname2}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-droneweaponbonus2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc2}+1+@{prefix-dronebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy2}]]}}{{limit_mod=[[[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-droneweaponbonus2}+[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-droneweaponaccuracy2}+[[floor(@{dronemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-droneweaponap2}]]) ~ DV}}{{after1_num=[[@{prefix-droneweapondv2}]]}}"></button>
                                </div>
                                <input class="droneweaponcheckbox hiddencheckbox" type="checkbox" name="attr_droneshowweaponnotes" title="Need more Space?">
                                <div class="checkboxticker droneweaponunticked"></div>
                                <div class="checkboxticker droneweaponticked">X</div>
                                <div class="droneweaponnoteswrapper">
                                    <textarea name="attr_droneweaponnotes2" title="Have more Space!"></textarea>
                                </div>
                                <div class="droneammolabels">
                                    <div class="ammonamewrapper">
                                        <label class="ammolabel">Ammo Name</label>
                                    </div>
                                    <div class="ammonumberwrapper">
                                        <label class="ammolabel">Rounds</label>
                                    </div>
                                    <div class="ammodvwrapper">
                                        <label class="ammolabel">DV Mod</label>
                                    </div>
                                    <div class="ammoapwrapper">
                                        <label class="ammolabel">AP Mod</label>
                                    </div>
                                    <div class="ammoaccwrapper">
                                        <label class="ammolabel">Acc Mod</label>
                                    </div>
                                    <div class="ammodescriptionwrapper">
                                        <label class="ammolabel">Description</label>
                                    </div>
                                    <div class="ammorollwrapper">
                                        <label class="ammolabel">Simple</label>
                                    </div>
                                    <div class="ammorollwrapper">
                                        <label class="ammolabel">Complex</label>
                                    </div>
                                </div>
                                <div class="droneammorow">
                                    <div class="ammonamewrapper">
                                        <input type="text" name="attr_drone2ammoname1" title="Name of the Ammunition">
                                    </div>
                                    <div class="ammonumberwrapper">
                                        <input type="number" name="attr_drone2ammonumber1" title="How many still left in the Clip/Drum/etc">
                                    </div>
                                    <div class="ammodvwrapper">
                                        <input type="text" name="attr_drone2ammodv1" value="0" title="DV change from the Ammunition">
                                    </div>
                                    <div class="ammoapwrapper">
                                        <input type="text" name="attr_drone2ammoap1" value="0" title="AP change from the Ammunition">
                                    </div>
                                    <div class="ammoaccwrapper">
                                        <input type="text" name="attr_drone2ammoacc1" value="0" title="Accuracy change from the Ammunition">
                                    </div>
                                    <div class="ammodescriptionwrapper">
                                        <input type="text" name="attr_drone2ammodescription1" title="Additional Description">
                                    </div>
                                    <div class="ammorollwrapper">
                                        <button type="action" class="droneroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-dronename}}}{{roll_name=an Attack with @{prefix-droneweaponname2}}}{{val1=Pilot}}{{val1_num=[[@{prefix-dronepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-droneweaponautosoft2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc2}+1+@{prefix-dronebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy2}+@{prefix-drone2ammoacc1}]]}}{{result=[[(@{prefix-dronepilot}+@{prefix-droneweaponautosoft2}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-droneweaponaccuracy2}+@{prefix-drone2ammoacc1})]]]]}}{{after1=AP([[@{prefix-droneweaponap2}+@{prefix-drone2ammoap1}]]) ~ DV}}{{after1_num=[[@{prefix-droneweapondv2}+@{prefix-drone2ammodv1}]]}}{{after2=@{prefix-drone2ammoname1} Rounds}}{{after2_num=[[@{prefix-droneweaponmode2}-floor(@{prefix-droneweaponmode2}/10)*10]]}}{{description=@{prefix-drone2ammodescription1}}}"></button>
                                        <button type="action" class="droneroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-dronename}'s @{prefix-droneweaponname2}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-droneweaponbonus2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc2}+1+@{prefix-dronebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy2}+@{prefix-drone2ammoacc1}]]}}{{limit_mod=[[[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-droneweaponbonus2}+[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-droneweaponaccuracy2}+@{prefix-drone2ammoacc1}+[[floor(@{dronemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-droneweaponap2}+(@{prefix-drone2ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-droneweapondv2}+(@{prefix-drone2ammodv1})]]}}{{after2=@{drone2ammoname1} Rounds}}{{after2_num=[[@{prefix-droneweaponmode2}-floor(@{prefix-droneweaponmode2}/10)*10]]}}{{description=@{prefix-drone2ammodescription1}}}"></button>
                                    </div>
                                    <div class="ammorollwrapper">
                                        <button type="action" class="droneroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-dronename}}}{{roll_name=an Attack with @{prefix-droneweaponname2}}}{{val1=Pilot}}{{val1_num=[[@{prefix-dronepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-droneweaponautosoft2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc2}+1+@{prefix-dronebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy2}+@{prefix-drone2ammoacc1}]]}}{{result=[[(@{prefix-dronepilot}+@{prefix-droneweaponautosoft2}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-droneweaponaccuracy2}+@{prefix-drone2ammoacc1})]]]]}}{{after1=AP([[@{prefix-droneweaponap2}+@{prefix-drone2ammoap1}]]) ~ DV}}{{after1_num=[[@{prefix-drone2ammodv1}+@{prefix-droneweapondv2}]]}}{{after2=@{prefix-drone2ammoname1} Rounds}}{{after2_num=[[floor(@{prefix-droneweaponmode2}/10)]]}}{{description=@{prefix-drone2ammodescription1}}}"></button>
                                        <button type="action" class="droneroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-dronename}'s @{prefix-droneweaponname2}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-droneweaponbonus2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc2}+1+@{prefix-dronebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy2}+@{prefix-drone2ammoacc1}]]}}{{limit_mod=[[[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-droneweaponbonus2}+[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-droneweaponaccuracy2}+@{prefix-drone2ammoacc1}+[[floor(@{dronemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-droneweaponap2}+(@{prefix-drone2ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-drone2ammodv1}+(@{prefix-droneweapondv2})]]}}{{after2=@{drone2ammoname1} Rounds}}{{after2_num=[[floor(@{prefix-droneweaponmode2}/10)]]}}{{description=@{prefix-drone2ammodescription1}}}"></button>
                                    </div>
                                </div>
                                <div class="droneammorow">
                                    <div class="ammonamewrapper">
                                        <input type="text" name="attr_drone2ammoname2" title="Name of the Ammunition">
                                    </div>
                                    <div class="ammonumberwrapper">
                                        <input type="number" name="attr_drone2ammonumber2" title="How many still left in the Clip/Drum/etc">
                                    </div>
                                    <div class="ammodvwrapper">
                                        <input type="text" name="attr_drone2ammodv2" value="0" title="DV change from the Ammunition">
                                    </div>
                                    <div class="ammoapwrapper">
                                        <input type="text" name="attr_drone2ammoap2" value="0" title="AP change from the Ammunition">
                                    </div>
                                    <div class="ammoaccwrapper">
                                        <input type="text" name="attr_drone2ammoacc2" value="0" title="Accuracy change from the Ammunition">
                                    </div>
                                    <div class="ammodescriptionwrapper">
                                        <input type="text" name="attr_drone2ammodescription2" title="Additional Description">
                                    </div>
                                    <div class="ammorollwrapper">
                                        <button type="action" class="droneroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-dronename}}}{{roll_name=an Attack with @{prefix-droneweaponname2}}}{{val1=Pilot}}{{val1_num=[[@{prefix-dronepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-droneweaponautosoft2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc2}+1+@{prefix-dronebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy2}+@{prefix-drone2ammoacc2}]]}}{{result=[[(@{prefix-dronepilot}+@{prefix-droneweaponautosoft2}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-droneweaponaccuracy2}+@{prefix-drone2ammoacc2})]]]]}}{{after1=AP([[@{prefix-droneweaponap2}+@{prefix-drone2ammoap2}]]) ~ DV}}{{after1_num=[[@{prefix-droneweapondv2}+@{prefix-drone2ammodv2}]]}}{{after2=@{prefix-drone2ammoname2} Rounds}}{{after2_num=[[@{prefix-droneweaponmode2}-floor(@{prefix-droneweaponmode2}/10)*10]]}}{{description=@{prefix-drone2ammodescription2}}}"></button>
                                        <button type="action" class="droneroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-dronename}'s @{prefix-droneweaponname2}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-droneweaponbonus2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc2}+1+@{prefix-dronebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy2}+@{prefix-drone2ammoacc2}]]}}{{limit_mod=[[[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-droneweaponbonus2}+[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-droneweaponaccuracy2}+@{prefix-drone2ammoacc2}+[[floor(@{dronemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-droneweaponap2}+(@{prefix-drone2ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-droneweapondv2}+(@{prefix-drone2ammodv2})]]}}{{after2=@{prefix-drone2ammoname2} Rounds}}{{after2_num=[[@{prefix-droneweaponmode2}-floor(@{prefix-droneweaponmode2}/10)*10]]}}{{description=@{prefix-drone2ammodescription2}}}"></button>
                                    </div>
                                    <div class="ammorollwrapper">
                                        <button type="action" class="droneroll autopilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{prefix-dronename}}}{{roll_name=an Attack with @{prefix-droneweaponname2}}}{{val1=Pilot}}{{val1_num=[[@{prefix-dronepilot}]]}}{{val2=Autosoft}}{{val2_num=[[@{prefix-droneweaponautosoft2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc2}+1+@{prefix-dronebody}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy2}+@{prefix-drone2ammoacc2}]]}}{{result=[[(@{prefix-dronepilot}+@{prefix-droneweaponautosoft2}+?{Situational Modifiers}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-droneweaponaccuracy2}+@{prefix-drone2ammoacc2})]]]]}}{{after1=AP([[@{prefix-droneweaponap2}+@{prefix-drone2ammoap2}]]) ~ DV}}{{after1_num=[[@{prefix-drone2ammodv2}+@{prefix-droneweapondv2}]]}}{{after2=@{prefix-drone2ammoname2} Rounds}}{{after2_num=[[floor(@{prefix-droneweaponmode2}/10)]]}}{{description=@{prefix-drone2ammodescription2}}}"></button>
                                        <button type="action" class="droneroll pilotroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-dronename}'s @{prefix-droneweaponname2}}}{{val1=@{skillattr_name52}}}{{val1_num=[[@{skillattr_value52}]]}}{{val2=Gunnery-Skill}}{{val2_num=[[@{skillrating52}+@{skillbonus52}+@{prefix-droneweaponbonus2}]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-droneweaponrc2}+1+@{prefix-dronebody}]]}}{{val4=Hot Sim/Silent/CR}}{{val4_num=[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-droneweaponaccuracy2}+@{prefix-drone2ammoacc2}]]}}{{limit_mod=[[[[floor(@{dronemode}/2)]]*@{controlrig}]]}}{{result=[[(@{skilldicepool52}+@{prefix-droneweaponbonus2}+[[[[ceil(@{dronemode}/2)]]*(@{runningsilent}+@{hotsim})+[[floor(@{dronemode}/2)]]*@{controlrig}]]-[[@{wound_total}]]-[[@{sustainedspells}*2]]+?{Situational Modifiers|0}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[(@{prefix-droneweaponaccuracy2}+@{prefix-drone2ammoacc2}+[[floor(@{dronemode}/2)]]*@{controlrig})]]]]}}{{after1=AP([[@{prefix-droneweaponap2}+(@{prefix-drone2ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-drone2ammodv2}+(@{prefix-droneweapondv2})]]}}{{after2=@{prefix-drone2ammoname2} Rounds}}{{after2_num=[[floor(@{prefix-droneweaponmode2}/10)]]}}{{description=@{prefix-drone2ammodescription2}}}"></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </summary>
                    <textarea name="attr_dronenotes" title="Have more Space!"></textarea>
                </details>
            </fieldset>
        </div>
    </div>
    <div class="contentEquipment">
        <div class="equipment">
            <h2>Equipment</h2>
            <div class="equipmentrow">
                <div class="equipmentnumberwrapper">
                    <label class="equipmentlabel">Qty</label>
                </div>
                <div class="equipmentnamewrapper">
                    <label class="equipmentlabel">Name</label>
                </div>
                <div class="equipmentdescriptionwrapper">
                    <label class="equipmentlabel">Description</label>
                </div>
            </div>
            <fieldset class="repeating_equipment">
                <details>
                    <summary class="equipmentrow">
                        <div class="equipmentnumberwrapper">
                            <input type="number" name="attr_equipmentnumber" title="Name of the Equipment">
                        </div>
                        <div class="equipmentnamewrapper">
                            <input type="text" name="attr_equipmentname" title="Name of the Equipment">
                        </div>
                        <div class="equipmentdescriptionwrapper">
                            <input type="text" name="attr_equipmentdescription" title="Description of the Equipment">
                        </div>
                    </summary>
                    <textarea name="attr_equipmentnotes" title="Have more Space!"></textarea>
                </details>
            </fieldset>
        </div>
        <div class="armor">
            <h2>Money</h2>
            <details>
                <summary>
                    <div class="nuyentotallabel">
                        <label class="armorlabel">¥¥¥¥¥</label>
                    </div>
                    <div class="nuyentotal">
                        <input type="text" name="attr_nuyen_total" title="Total Money">
                    </div>
                </summary>
                <textarea name="attr_nuyennotes" title="Have more Space!"></textarea>
            </details>
            <h2>Armor</h2>
            <div>
                <div class="armortotallabel">
                    <label class="armorlabel">Total Armor</label>
                </div>
                <div class="armortotal">
                    <input type="number" name="attr_armor_total" title="Sum of all worn Armor" value="0">
                </div>
                <button type="roll" class="armorroll" name="roll_armorroll" title="Roll to Absorb Damage" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=to Absorb Damage}}{{val1=Body}}{{val1_num=[[@{bod_total}]]}}{{val2=Armor}}{{val2_num=[[@{armor_total}]]}}{{val3=Armor Penetration}}{{val3_num=[[?{Armor Penetration|-0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{result=[[(@{bod_total}+@{armor_total}+?{Armor Penetration}+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}]]}}"></button>
            </div>
            <div class="armorrow">
                <div class="armorwornwrapper">
                    <label class="armorlabel">On</label>
                </div>
                <div class="armornamewrapper">
                    <label class="armorlabel">Name</label>
                </div>
                <div class="armorratingwrapper">
                    <label class="armorlabel">Rtg</label>
                </div>
                <div class="armorcapacitywrapper">
                    <label class="armorlabel">Cap</label>
                </div>
            </div>
            <fieldset class="repeating_armors">
                <details>
                    <summary class="armorrow">
                        <input class="armorworncheckbox hiddencheckbox" type="checkbox" name="attr_armorworn" title="Include this Piece of Armor into total Armor Calculation">
                        <div class="checkboxticker armorwornunticked"></div>
                        <div class="checkboxticker armorwornticked">X</div>
                        <div class="armornamewrapper">
                            <input type="text" name="attr_armorname" title="Name of the Armor">
                        </div>
                        <div class="armorratingwrapper">
                            <input type="number" name="attr_armorrating" value="0" title="Rating of the Armor">
                        </div>
                        <div class="armorcapacitywrapper">
                            <input type="text" name="attr_armorcapacity" value="0" title="Capacity of the Armor">
                        </div>
                    </summary>
                    <textarea name="attr_armornotes" title="Have more Space!"></textarea>
                </details>
                <div >

                </div>
            </fieldset>
        </div>
        <div class="weapon">
            <label class="heading2" for="fixedweapons" title="Click to hide fixed weapons">Melee + Ranged Weapons</label>
            <input id="fixedweapons" type="checkbox" class="invisiblecheckbox" checked>
            <div class="collapsible">
                <div class="weaponrow">
                    <div class="weaponmeleewrapper">
                        <label class="weaponlabel">Melee</label>
                    </div>
                    <div class="weaponnamewrapper">
                        <label class="weaponlabel">Name</label>
                    </div>
                    <div class="weaponcategorywrapper">
                        <label class="weaponlabel">Category</label>
                    </div>
                    <div class="weaponspecwrapper">
                        <label class="weaponlabel">Spec</label>
                    </div>
                    <div class="weaponbonuswrapper">
                        <label class="weaponlabel">Bonus</label>
                    </div>
                    <div class="weaponaccuracywrapper">
                        <label class="weaponlabel">Acc.</label>
                    </div>
                    <div class="weapondvwrapper">
                        <label class="weaponlabel">DV</label>
                    </div>
                    <div class="weapondmgtypewrapper">
                        <label class="weaponlabel">Damage Type</label>
                    </div>
                    <div class="weaponapwrapper">
                        <label class="weaponlabel">AP</label>
                    </div>
                    <div class="weaponrcwrapper">
                        <label class="weaponlabel">RC</label>
                    </div>
                    <div class="weaponmodewrapper">
                        <label class="weaponlabel">Mode / Reach</label>
                    </div>
                    <div class="weapondicewrapper">
                        <label class="weaponlabel">Dice</label>
                    </div>
                    <div class="weaponrangerollwrapper">
                        <label class="weaponlabel">Roll</label>
                    </div>
                    <div class="weaponnoteboxwrapper">
                        <label class="weaponlabel">Notes</label>
                    </div>
                </div>
                <input class="meleecheckbox hiddenmelee hide1" type="checkbox" name="attr_weaponismelee1" title="Melee Weapon?" checked>
                <div class="weaponrow">
                    <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee1" title="Melee Weapon?" checked>
                    <div class="weaponmeleewrapper">
                        <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee1" title="Melee Weapon?" checked>
                        <div class="checkboxticker meleeunticked"></div>
                        <div class="checkboxticker meleeticked">X</div>
                    </div>
                    <div class="weaponnamewrapper">
                        <input type="text" name="attr_weaponname1" title="Weapon Name">
                    </div>
                    <div class="weaponcategorywrapper">
                        <select name="attr_weaponcategory1" title="Skill to use">
                            <option value="@{skilldicepool43}">Archery</option>
                            <option value="@{skilldicepool44}">Automatics</option>
                            <option value="@{skilldicepool45}">Blades</option>
                            <option value="@{skilldicepool46}">Clubs</option>
                            <option value="@{skilldicepool47}">Heavy Weapons</option>
                            <option value="@{skilldicepool48}">Longarms</option>
                            <option selected value="@{skilldicepool49}">Pistols</option>
                            <option value="@{skilldicepool50}">Thrown Weapon</option>
                            <option value="@{skilldicepool51}">Unarmed</option>
                            <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                            <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                            <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                            <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                        </select>
                        <input type="text" class="hiddentextfield" name="attr_weaponskillname1" value="Pistols">
                    </div>
                    <div class="weaponspecwrapper">
                        <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec1" value="2" title="Apply +2 from Specialization to this Weapon">
                        <div class="checkboxticker spellspecializedunticked"></div>
                        <div class="checkboxticker spellspecializedticked">X</div>
                    </div>
                    <div class="weaponbonuswrapper">
                        <input type="number" name="attr_weaponbonus1" value="0" title="Any Bonuses to Weapon Skill">
                    </div>
                    <div class="weaponaccuracywrapper">
                        <input type="number" name="attr_weaponaccuracy1" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                    </div>
                    <div class="weapondvwrapper">
                        <input type="number" name="attr_weapondv1" value="0" title="Weapon Damage with all Modifications but Ammo">
                    </div>
                    <div class="weapondmgtypewrapper">
                        <select class="weapondmgtype" name="attr_weapondmgtype1" title="Select the Damage Type done by this Weapon">
                            <option value="P">Physical</option>
                            <option value="S">Stun</option>
                            <option value="S(e)">Stun (electric)</option>
                        </select>
                    </div>
                    <div class="weaponapwrapper">
                        <input type="text" name="attr_weaponap1" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                    </div>
                    <div class="weaponrcwrapper">
                        <input type="text" name="attr_weaponrc1" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                    </div>
                    <div class="weaponmodewrapper">
                        <select name="attr_weaponmode1" title="(optional)Firing Mode(s) of the Weapon">
                            <option value="11">SS</option>
                            <option value="31">SA</option>
                            <option value="63">BF</option>
                            <option value="106">FA</option>
                        </select>
                        <input type="text" name="attr_weaponreach1" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                    </div>
                    <div class="weapondicewrapper">
                        <input type="text" name="attr_weapondice1" value="@{weaponcategory1}+@{weaponbonus1}+@{weaponspec1}" disabled title="Total Dicepool">
                    </div>
                    <div class="weaponrangerollwrapper">
                        <button type="action" class="weaponroll" name="act_rollWeapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname1}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname1}}}{{val2_num=[[@{weaponcategory1}+@{weaponbonus1}+@{weaponspec1}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc1}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy1}]]}}{{result=[[(@{weapondice1}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy1}]]}}{{after1=AP([[@{weaponap1}]]) ~ DV}}{{after1_num=[[@{weapondv1}]]}}{{after1dmg=@{weapondmgtype1}}}"></button>
                    </div>
                    <div class="weaponmeleerollwrapper">
                        <button type="action" class="weaponroll" name="act_rollWeapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname1}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname1}}}{{val2_num=[[@{weaponcategory1}+@{weaponbonus1}+@{weaponspec1}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{weaponreach1}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy1}]]}}{{result=[[(@{weapondice1}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy1}]]}}{{after1=AP([[@{weaponap1}]]) ~ DV}}{{after1_num=[[@{weapondv1}]]}}{{after1dmg=@{weapondmgtype1}}}"></button>
                    </div>
                    <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes1" title="Need more Space?">
                    <div class="checkboxticker weaponunticked"></div>
                    <div class="checkboxticker weaponticked">X</div>
                    <div class="weaponnoteswrapper">
                        <textarea name="attr_weaponnotes1" title="Have more Space!"></textarea>
                    </div>
                </div>
                <div class="ammolabels hide1">
                    <div class="ammonamewrapper">
                        <label class="ammolabel">Ammo Name</label>
                    </div>
                    <div class="ammonumberwrapper">
                        <label class="ammolabel">Rounds</label>
                    </div>
                    <div class="ammomaxwrapper">
                        <label class="ammolabel">Max</label>
                    </div>
                    <div class="ammoaccwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodvwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodmgtypewrapper">
                        <label class="ammolabel">Damage Type</label>
                    </div>
                    <div class="ammoapwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodescriptionwrapper">
                        <label class="ammolabel">Description</label>
                    </div>
                </div>
                <div class="ammofieldset hide1">
                    <fieldset class="repeating_ammotype1">
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype">
                                    <option value="@{weapondmgtype1}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_roll" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname1}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname1}}}{{val2_num=[[@{weaponcategory1}+@{weaponbonus1}+@{weaponspec1}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc1}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy1}+(@{prefix-ammoacc})]]}}{{result=[[(@{weapondice1}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{weaponaccuracy1}+(@{prefix-ammoacc})]]]]}}{{after1=AP([[@{weaponap1}+(@{prefix-ammoap})]]) ~ DV}}{{after1_num=[[@{weapondv1}+(@{prefix-ammodv})]]}}{{after1dmg=@{prefix-ammodmgtype}}}{{after2=Simple: @{prefix-ammoname} Rounds}}{{after2_num=[[@{weaponmode1}-floor(@{weaponmode1}/10)*10]]}}{{after3=Complex: @{prefix-ammoname} Rounds}}{{after3_num=[[floor(@{weaponmode1}/10)]]}}{{description=@{prefix-ammodescription}}}"></button>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <input class="meleecheckbox hiddenmelee hide2" type="checkbox" name="attr_weaponismelee2" title="Melee Weapon?" checked>
                <div class="weaponrow">
                    <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee2" title="Melee Weapon?" checked>
                    <div class="weaponmeleewrapper">
                        <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee2" title="Melee Weapon?" checked>
                        <div class="checkboxticker meleeunticked"></div>
                        <div class="checkboxticker meleeticked">X</div>
                    </div>
                    <div class="weaponnamewrapper">
                        <input type="text" name="attr_weaponname2" title="Weapon Name">
                    </div>
                    <div class="weaponcategorywrapper">
                        <select name="attr_weaponcategory2" title="Skill to use">
                            <option value="@{skilldicepool43}">Archery</option>
                            <option value="@{skilldicepool44}">Automatics</option>
                            <option value="@{skilldicepool45}">Blades</option>
                            <option value="@{skilldicepool46}">Clubs</option>
                            <option value="@{skilldicepool47}">Heavy Weapons</option>
                            <option value="@{skilldicepool48}">Longarms</option>
                            <option selected value="@{skilldicepool49}">Pistols</option>
                            <option value="@{skilldicepool50}">Thrown Weapon</option>
                            <option value="@{skilldicepool51}">Unarmed</option>
                            <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                            <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                            <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                            <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                        </select>
                        <input type="text" class="hiddentextfield" name="attr_weaponskillname2" value="Pistols">
                    </div>
                    <div class="weaponspecwrapper">
                        <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec2" value="2" title="Apply +2 from Specialization to this Weapon">
                        <div class="checkboxticker spellspecializedunticked"></div>
                        <div class="checkboxticker spellspecializedticked">X</div>
                    </div>
                    <div class="weaponbonuswrapper">
                        <input type="number" name="attr_weaponbonus2" value="0" title="Any Bonuses to Weapon Skill">
                    </div>
                    <div class="weaponaccuracywrapper">
                        <input type="number" name="attr_weaponaccuracy2" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                    </div>
                    <div class="weapondvwrapper">
                        <input type="number" name="attr_weapondv2" value="0" title="Weapon Damage with all Modifications but Ammo">
                    </div>
                    <div class="weapondmgtypewrapper">
                        <select class="weapondmgtype" name="attr_weapondmgtype2" title="Select the Damage Type done by this Weapon">
                            <option value="P">Physical</option>
                            <option value="S">Stun</option>
                            <option value="S(e)">Stun (electric)</option>
                        </select>
                    </div>
                    <div class="weaponapwrapper">
                        <input type="text" name="attr_weaponap2" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                    </div>
                    <div class="weaponrcwrapper">
                        <input type="text" name="attr_weaponrc2" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                    </div>
                    <div class="weaponmodewrapper">
                        <select name="attr_weaponmode2" title="(optional)Firing Mode(s) of the Weapon">
                            <option value="11">SS</option>
                            <option value="31">SA</option>
                            <option value="63">BF</option>
                            <option value="106">FA</option>
                        </select>
                        <input type="text" name="attr_weaponreach2" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                    </div>
                    <div class="weapondicewrapper">
                        <input type="text" name="attr_weapondice2" value="@{weaponcategory2}+@{weaponbonus2}+@{weaponspec2}" disabled title="Total Dicepool">
                    </div>
                    <div class="weaponrangerollwrapper">
                        <button type="action" class="weaponroll" name="act_rollWeapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname2}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname2}}}{{val2_num=[[@{weaponcategory2}+@{weaponbonus2}+@{weaponspec2}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc2}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy2}]]}}{{result=[[(@{weapondice2}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy2}]]}}{{after1=AP([[@{weaponap2}]]) ~ DV}}{{after1_num=[[@{weapondv2}]]}}{{after1dmg=@{weapondmgtype2}}}"></button>
                    </div>
                    <div class="weaponmeleerollwrapper">
                        <button type="action" class="weaponroll" name="act_rollWeapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname2}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname2}}}{{val2_num=[[@{weaponcategory2}+@{weaponbonus2}+@{weaponspec2}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{weaponreach2}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy2}]]}}{{result=[[(@{weapondice2}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy2}]]}}{{after1=AP([[@{weaponap2}]]) ~ DV}}{{after1_num=[[@{weapondv2}]]}}{{after1dmg=@{weapondmgtype2}}}"></button>
                    </div>
                    <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes2" title="Need more Space?">
                    <div class="checkboxticker weaponunticked"></div>
                    <div class="checkboxticker weaponticked">X</div>
                    <div class="weaponnoteswrapper">
                        <textarea name="attr_weaponnotes2" title="Have more Space!"></textarea>
                    </div>
                </div>
                <div class="ammolabels hide2">
                    <div class="ammonamewrapper">
                        <label class="ammolabel">Ammo Name</label>
                    </div>
                    <div class="ammonumberwrapper">
                        <label class="ammolabel">Rounds</label>
                    </div>
                    <div class="ammomaxwrapper">
                        <label class="ammolabel">Max</label>
                    </div>
                    <div class="ammoaccwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodvwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodmgtypewrapper">
                        <label class="ammolabel">Damage Type</label>
                    </div>
                    <div class="ammoapwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodescriptionwrapper">
                        <label class="ammolabel">Description</label>
                    </div>
                </div>
                <div class="ammofieldset hide2">
                    <fieldset class="repeating_ammotype2">
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype">
                                    <option value="@{weapondmgtype2}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_roll" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname2}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname2}}}{{val2_num=[[@{weaponcategory2}+@{weaponbonus2}+@{weaponspec2}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc2}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy2}+(@{prefix-ammoacc})]]}}{{result=[[(@{weapondice2}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{weaponaccuracy2}+(@{prefix-ammoacc})]]]]}}{{after1=AP([[@{weaponap2}+(@{prefix-ammoap})]]) ~ DV}}{{after1_num=[[@{weapondv2}+(@{prefix-ammodv})]]}}{{after1dmg=@{prefix-ammodmgtype}}}{{after2=Simple: @{prefix-ammoname} Rounds}}{{after2_num=[[@{weaponmode2}-floor(@{weaponmode2}/10)*10]]}}{{after3=Complex: @{prefix-ammoname} Rounds}}{{after3_num=[[floor(@{weaponmode2}/10)]]}}{{description=@{prefix-ammodescription}}}"></button>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <input class="meleecheckbox hiddenmelee hide3" type="checkbox" name="attr_weaponismelee3" title="Melee Weapon?" checked>
                <div class="weaponrow">
                    <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee3" title="Melee Weapon?" checked>
                    <div class="weaponmeleewrapper">
                        <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee3" title="Melee Weapon?" checked>
                        <div class="checkboxticker meleeunticked"></div>
                        <div class="checkboxticker meleeticked">X</div>
                    </div>
                    <div class="weaponnamewrapper">
                        <input type="text" name="attr_weaponname3" title="Weapon Name">
                    </div>
                    <div class="weaponcategorywrapper">
                        <select name="attr_weaponcategory3" title="Skill to use">
                            <option value="@{skilldicepool43}">Archery</option>
                            <option value="@{skilldicepool44}">Automatics</option>
                            <option value="@{skilldicepool45}">Blades</option>
                            <option value="@{skilldicepool46}">Clubs</option>
                            <option value="@{skilldicepool47}">Heavy Weapons</option>
                            <option value="@{skilldicepool48}">Longarms</option>
                            <option selected value="@{skilldicepool49}">Pistols</option>
                            <option value="@{skilldicepool50}">Thrown Weapon</option>
                            <option value="@{skilldicepool51}">Unarmed</option>
                            <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                            <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                            <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                            <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                        </select>
                        <input type="text" class="hiddentextfield" name="attr_weaponskillname3" value="Pistols">
                    </div>
                    <div class="weaponspecwrapper">
                        <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec3" value="2" title="Apply +2 from Specialization to this Weapon">
                        <div class="checkboxticker spellspecializedunticked"></div>
                        <div class="checkboxticker spellspecializedticked">X</div>
                    </div>
                    <div class="weaponbonuswrapper">
                        <input type="number" name="attr_weaponbonus3" value="0" title="Any Bonuses to Weapon Skill">
                    </div>
                    <div class="weaponaccuracywrapper">
                        <input type="number" name="attr_weaponaccuracy3" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                    </div>
                    <div class="weapondvwrapper">
                        <input type="number" name="attr_weapondv3" value="0" title="Weapon Damage with all Modifications but Ammo">
                    </div>
                    <div class="weapondmgtypewrapper">
                        <select class="weapondmgtype" name="attr_weapondmgtype3" title="Select the Damage Type done by this Weapon">
                            <option value="P">Physical</option>
                            <option value="S">Stun</option>
                            <option value="S(e)">Stun (electric)</option>
                        </select>
                    </div>
                    <div class="weaponapwrapper">
                        <input type="text" name="attr_weaponap3" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                    </div>
                    <div class="weaponrcwrapper">
                        <input type="text" name="attr_weaponrc3" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                    </div>
                    <div class="weaponmodewrapper">
                        <select name="attr_weaponmode3" title="(optional)Firing Mode(s) of the Weapon">
                            <option value="11">SS</option>
                            <option value="31">SA</option>
                            <option value="63">BF</option>
                            <option value="106">FA</option>
                        </select>
                        <input type="text" name="attr_weaponreach3" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                    </div>
                    <div class="weapondicewrapper">
                        <input type="text" name="attr_weapondice3" value="@{weaponcategory3}+@{weaponbonus3}+@{weaponspec3}" disabled title="Total Dicepool">
                    </div>
                    <div class="weaponrangerollwrapper">
                        <button type="action" class="weaponroll" name="act_rollWeapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname3}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname3}}}{{val2_num=[[@{weaponcategory3}+@{weaponbonus3}+@{weaponspec3}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc3}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy3}]]}}{{result=[[(@{weapondice3}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy3}]]}}{{after1=AP([[@{weaponap3}]]) ~ DV}}{{after1_num=[[@{weapondv3}]]}}{{after1dmg=@{weapondmgtype3}}}"></button>
                    </div>
                    <div class="weaponmeleerollwrapper">
                        <button type="action" class="weaponroll" name="act_rollWeapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname3}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname3}}}{{val2_num=[[@{weaponcategory3}+@{weaponbonus3}+@{weaponspec3}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{weaponreach3}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy3}]]}}{{result=[[(@{weapondice3}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy3}]]}}{{after1=AP([[@{weaponap3}]]) ~ DV}}{{after1_num=[[@{weapondv3}]]}}{{after1dmg=@{weapondmgtype3}}}"></button>
                    </div>
                    <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes3" title="Need more Space?">
                    <div class="checkboxticker weaponunticked"></div>
                    <div class="checkboxticker weaponticked">X</div>
                    <div class="weaponnoteswrapper">
                        <textarea name="attr_weaponnotes3" title="Have more Space!"></textarea>
                    </div>
                </div>
                <div class="ammolabels hide3">
                    <div class="ammonamewrapper">
                        <label class="ammolabel">Ammo Name</label>
                    </div>
                    <div class="ammonumberwrapper">
                        <label class="ammolabel">Rounds</label>
                    </div>
                    <div class="ammomaxwrapper">
                        <label class="ammolabel">Max</label>
                    </div>
                    <div class="ammoaccwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodvwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodmgtypewrapper">
                        <label class="ammolabel">Damage Type</label>
                    </div>
                    <div class="ammoapwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodescriptionwrapper">
                        <label class="ammolabel">Description</label>
                    </div>
                </div>
                <div class="ammofieldset hide3">
                    <fieldset class="repeating_ammotype3">
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype">
                                    <option value="@{weapondmgtype3}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_roll" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname3}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname3}}}{{val2_num=[[@{weaponcategory3}+@{weaponbonus3}+@{weaponspec3}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc3}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy3}+(@{prefix-ammoacc})]]}}{{result=[[(@{weapondice3}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{weaponaccuracy3}+(@{prefix-ammoacc})]]]]}}{{after1=AP([[@{weaponap3}+(@{prefix-ammoap})]]) ~ DV}}{{after1_num=[[@{weapondv3}+(@{prefix-ammodv})]]}}{{after1dmg=@{prefix-ammodmgtype}}}{{after2=Simple: @{prefix-ammoname} Rounds}}{{after2_num=[[@{weaponmode3}-floor(@{weaponmode3}/10)*10]]}}{{after3=Complex: @{prefix-ammoname} Rounds}}{{after3_num=[[floor(@{weaponmode3}/10)]]}}{{description=@{prefix-ammodescription}}}"></button>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <input class="meleecheckbox hiddenmelee hide4" type="checkbox" name="attr_weaponismelee4" title="Melee Weapon?" checked>
                <div class="weaponrow">
                    <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee4" title="Melee Weapon?" checked>
                    <div class="weaponmeleewrapper">
                        <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee4" title="Melee Weapon?" checked>
                        <div class="checkboxticker meleeunticked"></div>
                        <div class="checkboxticker meleeticked">X</div>
                    </div>
                    <div class="weaponnamewrapper">
                        <input type="text" name="attr_weaponname4" title="Weapon Name">
                    </div>
                    <div class="weaponcategorywrapper">
                        <select name="attr_weaponcategory4" title="Skill to use">
                            <option value="@{skilldicepool43}">Archery</option>
                            <option value="@{skilldicepool44}">Automatics</option>
                            <option value="@{skilldicepool45}">Blades</option>
                            <option value="@{skilldicepool46}">Clubs</option>
                            <option value="@{skilldicepool47}">Heavy Weapons</option>
                            <option value="@{skilldicepool48}">Longarms</option>
                            <option selected value="@{skilldicepool49}">Pistols</option>
                            <option value="@{skilldicepool50}">Thrown Weapon</option>
                            <option value="@{skilldicepool51}">Unarmed</option>
                            <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                            <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                            <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                            <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                        </select>
                        <input type="text" class="hiddentextfield" name="attr_weaponskillname4" value="Pistols">
                    </div>
                    <div class="weaponspecwrapper">
                        <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec4" value="2" title="Apply +2 from Specialization to this Weapon">
                        <div class="checkboxticker spellspecializedunticked"></div>
                        <div class="checkboxticker spellspecializedticked">X</div>
                    </div>
                    <div class="weaponbonuswrapper">
                        <input type="number" name="attr_weaponbonus4" value="0" title="Any Bonuses to Weapon Skill">
                    </div>
                    <div class="weaponaccuracywrapper">
                        <input type="number" name="attr_weaponaccuracy4" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                    </div>
                    <div class="weapondvwrapper">
                        <input type="number" name="attr_weapondv4" value="0" title="Weapon Damage with all Modifications but Ammo">
                    </div>
                    <div class="weapondmgtypewrapper">
                        <select class="weapondmgtype" name="attr_weapondmgtype4" title="Select the Damage Type done by this Weapon">
                            <option value="P">Physical</option>
                            <option value="S">Stun</option>
                            <option value="S(e)">Stun (electric)</option>
                        </select>
                    </div>
                    <div class="weaponapwrapper">
                        <input type="text" name="attr_weaponap4" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                    </div>
                    <div class="weaponrcwrapper">
                        <input type="text" name="attr_weaponrc4" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                    </div>
                    <div class="weaponmodewrapper">
                        <select name="attr_weaponmode4" title="(optional)Firing Mode(s) of the Weapon">
                            <option value="11">SS</option>
                            <option value="31">SA</option>
                            <option value="63">BF</option>
                            <option value="106">FA</option>
                        </select>
                        <input type="text" name="attr_weaponreach4" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                    </div>
                    <div class="weapondicewrapper">
                        <input type="text" name="attr_weapondice4" value="@{weaponcategory4}+@{weaponbonus4}+@{weaponspec4}" disabled title="Total Dicepool">
                    </div>
                    <div class="weaponrangerollwrapper">
                        <button type="action" class="weaponroll" name="act_rollWeapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname4}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname4}}}{{val2_num=[[@{weaponcategory4}+@{weaponbonus4}+@{weaponspec4}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc4}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy4}]]}}{{result=[[(@{weapondice4}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy4}]]}}{{after1=AP([[@{weaponap4}]]) ~ DV}}{{after1_num=[[@{weapondv4}]]}}{{after1dmg=@{weapondmgtype4}}}"></button>
                    </div>
                    <div class="weaponmeleerollwrapper">
                        <button type="action" class="weaponroll" name="act_rollWeapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname4}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname4}}}{{val2_num=[[@{weaponcategory4}+@{weaponbonus4}+@{weaponspec4}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{weaponreach4}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy4}]]}}{{result=[[(@{weapondice4}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy4}]]}}{{after1=AP([[@{weaponap4}]]) ~ DV}}{{after1_num=[[@{weapondv4}]]}}{{after1dmg=@{weapondmgtype4}}}"></button>
                    </div>
                    <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes4" title="Need more Space?">
                    <div class="checkboxticker weaponunticked"></div>
                    <div class="checkboxticker weaponticked">X</div>
                    <div class="weaponnoteswrapper">
                        <textarea name="attr_weaponnotes4" title="Have more Space!"></textarea>
                    </div>
                </div>
                <div class="ammolabels hide4">
                    <div class="ammonamewrapper">
                        <label class="ammolabel">Ammo Name</label>
                    </div>
                    <div class="ammonumberwrapper">
                        <label class="ammolabel">Rounds</label>
                    </div>
                    <div class="ammomaxwrapper">
                        <label class="ammolabel">Max</label>
                    </div>
                    <div class="ammoaccwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodvwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodmgtypewrapper">
                        <label class="ammolabel">Damage Type</label>
                    </div>
                    <div class="ammoapwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodescriptionwrapper">
                        <label class="ammolabel">Description</label>
                    </div>
                </div>
                <div class="ammofieldset hide4">
                    <fieldset class="repeating_ammotype4">
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype">
                                    <option value="@{weapondmgtype4}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_roll" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname4}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname4}}}{{val2_num=[[@{weaponcategory4}+@{weaponbonus4}+@{weaponspec4}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc4}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy4}+(@{prefix-ammoacc})]]}}{{result=[[(@{weapondice4}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{weaponaccuracy4}+(@{prefix-ammoacc})]]]]}}{{after1=AP([[@{weaponap4}+(@{prefix-ammoap})]]) ~ DV}}{{after1_num=[[@{weapondv4}+(@{prefix-ammodv})]]}}{{after1dmg=@{prefix-ammodmgtype}}}{{after2=Simple: @{prefix-ammoname} Rounds}}{{after2_num=[[@{weaponmode4}-floor(@{weaponmode4}/10)*10]]}}{{after3=Complex: @{prefix-ammoname} Rounds}}{{after3_num=[[floor(@{weaponmode4}/10)]]}}{{description=@{prefix-ammodescription}}}"></button>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <input class="meleecheckbox hiddenmelee hide5" type="checkbox" name="attr_weaponismelee5" title="Melee Weapon?" checked>
                <div class="weaponrow">
                    <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee5" title="Melee Weapon?" checked>
                    <div class="weaponmeleewrapper">
                        <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee5" title="Melee Weapon?" checked>
                        <div class="checkboxticker meleeunticked"></div>
                        <div class="checkboxticker meleeticked">X</div>
                    </div>
                    <div class="weaponnamewrapper">
                        <input type="text" name="attr_weaponname5" title="Weapon Name">
                    </div>
                    <div class="weaponcategorywrapper">
                        <select name="attr_weaponcategory5" title="Skill to use">
                            <option value="@{skilldicepool43}">Archery</option>
                            <option value="@{skilldicepool44}">Automatics</option>
                            <option value="@{skilldicepool45}">Blades</option>
                            <option value="@{skilldicepool46}">Clubs</option>
                            <option value="@{skilldicepool47}">Heavy Weapons</option>
                            <option value="@{skilldicepool48}">Longarms</option>
                            <option selected value="@{skilldicepool49}">Pistols</option>
                            <option value="@{skilldicepool50}">Thrown Weapon</option>
                            <option value="@{skilldicepool51}">Unarmed</option>
                            <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                            <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                            <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                            <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                        </select>
                        <input type="text" class="hiddentextfield" name="attr_weaponskillname5" value="Pistols">
                    </div>
                    <div class="weaponspecwrapper">
                        <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec5" value="2" title="Apply +2 from Specialization to this Weapon">
                        <div class="checkboxticker spellspecializedunticked"></div>
                        <div class="checkboxticker spellspecializedticked">X</div>
                    </div>
                    <div class="weaponbonuswrapper">
                        <input type="number" name="attr_weaponbonus5" value="0" title="Any Bonuses to Weapon Skill">
                    </div>
                    <div class="weaponaccuracywrapper">
                        <input type="number" name="attr_weaponaccuracy5" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                    </div>
                    <div class="weapondvwrapper">
                        <input type="number" name="attr_weapondv5" value="0" title="Weapon Damage with all Modifications but Ammo">
                    </div>
                    <div class="weapondmgtypewrapper">
                        <select class="weapondmgtype" name="attr_weapondmgtype5" title="Select the Damage Type done by this Weapon">
                            <option value="P">Physical</option>
                            <option value="S">Stun</option>
                            <option value="S(e)">Stun (electric)</option>
                        </select>
                    </div>
                    <div class="weaponapwrapper">
                        <input type="text" name="attr_weaponap5" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                    </div>
                    <div class="weaponrcwrapper">
                        <input type="text" name="attr_weaponrc5" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                    </div>
                    <div class="weaponmodewrapper">
                        <select name="attr_weaponmode5" title="(optional)Firing Mode(s) of the Weapon">
                            <option value="11">SS</option>
                            <option value="31">SA</option>
                            <option value="63">BF</option>
                            <option value="106">FA</option>
                        </select>
                        <input type="text" name="attr_weaponreach5" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                    </div>
                    <div class="weapondicewrapper">
                        <input type="text" name="attr_weapondice5" value="@{weaponcategory5}+@{weaponbonus5}+@{weaponspec5}" disabled title="Total Dicepool">
                    </div>
                    <div class="weaponrangerollwrapper">
                        <button type="action" class="weaponroll" name="act_rollWeapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname5}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname5}}}{{val2_num=[[@{weaponcategory5}+@{weaponbonus5}+@{weaponspec5}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc5}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy5}]]}}{{result=[[(@{weapondice5}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy5}]]}}{{after1=AP([[@{weaponap5}]]) ~ DV}}{{after1_num=[[@{weapondv5}]]}}{{after1dmg=@{weapondmgtype5}}}"></button>
                    </div>
                    <div class="weaponmeleerollwrapper">
                        <button type="action" class="weaponroll" name="act_rollWeapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname5}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname5}}}{{val2_num=[[@{weaponcategory5}+@{weaponbonus5}+@{weaponspec5}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{weaponreach5}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy5}]]}}{{result=[[(@{weapondice5}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy5}]]}}{{after1=AP([[@{weaponap5}]]) ~ DV}}{{after1_num=[[@{weapondv5}]]}}{{after1dmg=@{weapondmgtype5}}}"></button>
                    </div>
                    <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes5" title="Need more Space?">
                    <div class="checkboxticker weaponunticked"></div>
                    <div class="checkboxticker weaponticked">X</div>
                    <div class="weaponnoteswrapper">
                        <textarea name="attr_weaponnotes5" title="Have more Space!"></textarea>
                    </div>
                </div>
                <div class="ammolabels hide5">
                    <div class="ammonamewrapper">
                        <label class="ammolabel">Ammo Name</label>
                    </div>
                    <div class="ammonumberwrapper">
                        <label class="ammolabel">Rounds</label>
                    </div>
                    <div class="ammomaxwrapper">
                        <label class="ammolabel">Max</label>
                    </div>
                    <div class="ammoaccwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodvwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodmgtypewrapper">
                        <label class="ammolabel">Damage Type</label>
                    </div>
                    <div class="ammoapwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodescriptionwrapper">
                        <label class="ammolabel">Description</label>
                    </div>
                </div>
                <div class="ammofieldset hide5">
                    <fieldset class="repeating_ammotype5">
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype">
                                    <option value="@{weapondmgtype5}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_roll" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname5}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname5}}}{{val2_num=[[@{weaponcategory5}+@{weaponbonus5}+@{weaponspec5}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc5}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy5}+(@{prefix-ammoacc})]]}}{{result=[[(@{weapondice5}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{weaponaccuracy5}+(@{prefix-ammoacc})]]]]}}{{after1=AP([[@{weaponap5}+(@{prefix-ammoap})]]) ~ DV}}{{after1_num=[[@{weapondv5}+(@{prefix-ammodv})]]}}{{after1dmg=@{prefix-ammodmgtype}}}{{after2=Simpel: @{prefix-ammoname} Rounds}}{{after2_num=[[@{weaponmode5}-floor(@{weaponmode5}/10)*10]]}}{{after3=Complex: @{prefix-ammoname} Rounds}}{{after3_num=[[floor(@{weaponmode5}/10)]]}}{{description=@{prefix-ammodescription}}}"></button>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <input class="meleecheckbox hiddenmelee hide6" type="checkbox" name="attr_weaponismelee6" title="Melee Weapon?" checked>
                <div class="weaponrow">
                    <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee6" title="Melee Weapon?" checked>
                    <div class="weaponmeleewrapper">
                        <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee6" title="Melee Weapon?" checked>
                        <div class="checkboxticker meleeunticked"></div>
                        <div class="checkboxticker meleeticked">X</div>
                    </div>
                    <div class="weaponnamewrapper">
                        <input type="text" name="attr_weaponname6" title="Weapon Name">
                    </div>
                    <div class="weaponcategorywrapper">
                        <select name="attr_weaponcategory6" title="Skill to use">
                            <option value="@{skilldicepool43}">Archery</option>
                            <option value="@{skilldicepool44}">Automatics</option>
                            <option value="@{skilldicepool45}">Blades</option>
                            <option value="@{skilldicepool46}">Clubs</option>
                            <option value="@{skilldicepool47}">Heavy Weapons</option>
                            <option value="@{skilldicepool48}">Longarms</option>
                            <option selected value="@{skilldicepool49}">Pistols</option>
                            <option value="@{skilldicepool50}">Thrown Weapon</option>
                            <option value="@{skilldicepool51}">Unarmed</option>
                            <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                            <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                            <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                            <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                        </select>
                        <input type="text" class="hiddentextfield" name="attr_weaponskillname6" value="Pistols">
                    </div>
                    <div class="weaponspecwrapper">
                        <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec6" value="2" title="Apply +2 from Specialization to this Weapon">
                        <div class="checkboxticker spellspecializedunticked"></div>
                        <div class="checkboxticker spellspecializedticked">X</div>
                    </div>
                    <div class="weaponbonuswrapper">
                        <input type="number" name="attr_weaponbonus6" value="0" title="Any Bonuses to Weapon Skill">
                    </div>
                    <div class="weaponaccuracywrapper">
                        <input type="number" name="attr_weaponaccuracy6" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                    </div>
                    <div class="weapondvwrapper">
                        <input type="number" name="attr_weapondv6" value="0" title="Weapon Damage with all Modifications but Ammo">
                    </div>
                    <div class="weapondmgtypewrapper">
                        <select class="weapondmgtype" name="attr_weapondmgtype6" title="Select the Damage Type done by this Weapon">
                            <option value="P">Physical</option>
                            <option value="S">Stun</option>
                            <option value="S(e)">Stun (electric)</option>
                        </select>
                    </div>
                    <div class="weaponapwrapper">
                        <input type="text" name="attr_weaponap6" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                    </div>
                    <div class="weaponrcwrapper">
                        <input type="text" name="attr_weaponrc6" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                    </div>
                    <div class="weaponmodewrapper">
                        <select name="attr_weaponmode6" title="(optional)Firing Mode(s) of the Weapon">
                            <option value="11">SS</option>
                            <option value="31">SA</option>
                            <option value="63">BF</option>
                            <option value="106">FA</option>
                        </select>
                        <input type="text" name="attr_weaponreach6" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                    </div>
                    <div class="weapondicewrapper">
                        <input type="text" name="attr_weapondice6" value="@{weaponcategory6}+@{weaponbonus6}+@{weaponspec6}" disabled title="Total Dicepool">
                    </div>
                    <div class="weaponrangerollwrapper">
                        <button type="action" class="weaponroll" name="act_rollWeapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname6}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname6}}}{{val2_num=[[@{weaponcategory6}+@{weaponbonus6}+@{weaponspec6}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc6}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy6}]]}}{{result=[[(@{weapondice6}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy6}]]}}{{after1=AP([[@{weaponap6}]]) ~ DV}}{{after1_num=[[@{weapondv6}]]}}{{after1dmg=@{weapondmgtype6}}}"></button>
                    </div>
                    <div class="weaponmeleerollwrapper">
                        <button type="action" class="weaponroll" name="act_rollWeapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname6}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname6}}}{{val2_num=[[@{weaponcategory6}+@{weaponbonus6}+@{weaponspec6}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{weaponreach6}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy6}]]}}{{result=[[(@{weapondice6}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy6}]]}}{{after1=AP([[@{weaponap6}]]) ~ DV}}{{after1_num=[[@{weapondv6}]]}}{{after1dmg=@{weapondmgtype6}}}"></button>
                    </div>
                    <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes6" title="Need more Space?">
                    <div class="checkboxticker weaponunticked"></div>
                    <div class="checkboxticker weaponticked">X</div>
                    <div class="weaponnoteswrapper">
                        <textarea name="attr_weaponnotes6" title="Have more Space!"></textarea>
                    </div>
                </div>
                <div class="ammolabels hide6">
                    <div class="ammonamewrapper">
                        <label class="ammolabel">Ammo Name</label>
                    </div>
                    <div class="ammonumberwrapper">
                        <label class="ammolabel">Rounds</label>
                    </div>
                    <div class="ammomaxwrapper">
                        <label class="ammolabel">Max</label>
                    </div>
                    <div class="ammoaccwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodvwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodmgtypewrapper">
                        <label class="ammolabel">Damage Type</label>
                    </div>
                    <div class="ammoapwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodescriptionwrapper">
                        <label class="ammolabel">Description</label>
                    </div>
                </div>
                <div class="ammofieldset hide6">
                    <fieldset class="repeating_ammotype6">
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype">
                                    <option value="@{weapondmgtype6}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_roll" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname6}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname6}}}{{val2_num=[[@{weaponcategory6}+@{weaponbonus6}+@{weaponspec6}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc6}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy6}+(@{prefix-ammoacc})]]}}{{result=[[(@{weapondice6}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{weaponaccuracy6}+(@{prefix-ammoacc})]]]]}}{{after1=AP([[@{weaponap6}+(@{prefix-ammoap})]]) ~ DV}}{{after1_num=[[@{weapondv6}+(@{prefix-ammodv})]]}}{{after1dmg=@{prefix-ammodmgtype}}}{{after2=Simple: @{prefix-ammoname} Rounds}}{{after2_num=[[@{weaponmode6}-floor(@{weaponmode6}/10)*10]]}}{{after3=Complex: @{prefix-ammoname} Rounds}}{{after3_num=[[floor(@{weaponmode6}/10)]]}}{{description=@{prefix-ammodescription}}}"></button>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <input class="meleecheckbox hiddenmelee hide7" type="checkbox" name="attr_weaponismelee7" title="Melee Weapon?" checked>
                <div class="weaponrow">
                    <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee7" title="Melee Weapon?" checked>
                    <div class="weaponmeleewrapper">
                        <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee7" title="Melee Weapon?" checked>
                        <div class="checkboxticker meleeunticked"></div>
                        <div class="checkboxticker meleeticked">X</div>
                    </div>
                    <div class="weaponnamewrapper">
                        <input type="text" name="attr_weaponname7" title="Weapon Name">
                    </div>
                    <div class="weaponcategorywrapper">
                        <select name="attr_weaponcategory7" title="Skill to use">
                            <option value="@{skilldicepool43}">Archery</option>
                            <option value="@{skilldicepool44}">Automatics</option>
                            <option value="@{skilldicepool45}">Blades</option>
                            <option value="@{skilldicepool46}">Clubs</option>
                            <option value="@{skilldicepool47}">Heavy Weapons</option>
                            <option value="@{skilldicepool48}">Longarms</option>
                            <option selected value="@{skilldicepool49}">Pistols</option>
                            <option value="@{skilldicepool50}">Thrown Weapon</option>
                            <option value="@{skilldicepool51}">Unarmed</option>
                            <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                            <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                            <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                            <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                        </select>
                        <input type="text" class="hiddentextfield" name="attr_weaponskillname7" value="Pistols">
                    </div>
                    <div class="weaponspecwrapper">
                        <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec7" value="2" title="Apply +2 from Specialization to this Weapon">
                        <div class="checkboxticker spellspecializedunticked"></div>
                        <div class="checkboxticker spellspecializedticked">X</div>
                    </div>
                    <div class="weaponbonuswrapper">
                        <input type="number" name="attr_weaponbonus7" value="0" title="Any Bonuses to Weapon Skill">
                    </div>
                    <div class="weaponaccuracywrapper">
                        <input type="number" name="attr_weaponaccuracy7" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                    </div>
                    <div class="weapondvwrapper">
                        <input type="number" name="attr_weapondv7" value="0" title="Weapon Damage with all Modifications but Ammo">
                    </div>
                    <div class="weapondmgtypewrapper">
                        <select class="weapondmgtype" name="attr_weapondmgtype7" title="Select the Damage Type done by this Weapon">
                            <option value="P">Physical</option>
                            <option value="S">Stun</option>
                            <option value="S(e)">Stun (electric)</option>
                        </select>
                    </div>
                    <div class="weaponapwrapper">
                        <input type="text" name="attr_weaponap7" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                    </div>
                    <div class="weaponrcwrapper">
                        <input type="text" name="attr_weaponrc7" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                    </div>
                    <div class="weaponmodewrapper">
                        <select name="attr_weaponmode7" title="(optional)Firing Mode(s) of the Weapon">
                            <option value="11">SS</option>
                            <option value="31">SA</option>
                            <option value="63">BF</option>
                            <option value="106">FA</option>
                        </select>
                        <input type="text" name="attr_weaponreach7" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                    </div>
                    <div class="weapondicewrapper">
                        <input type="text" name="attr_weapondice7" value="@{weaponcategory7}+@{weaponbonus7}+@{weaponspec7}" disabled title="Total Dicepool">
                    </div>
                    <div class="weaponrangerollwrapper">
                        <button type="action" class="weaponroll" name="act_rollWeapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname7}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname7}}}{{val2_num=[[@{weaponcategory7}+@{weaponbonus7}+@{weaponspec7}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc7}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy7}]]}}{{result=[[(@{weapondice7}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy7}]]}}{{after1=AP([[@{weaponap7}]]) ~ DV}}{{after1_num=[[@{weapondv7}]]}}{{after1dmg=@{weapondmgtype7}}}"></button>
                    </div>
                    <div class="weaponmeleerollwrapper">
                        <button type="action" class="weaponroll" name="act_rollWeapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname7}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname7}}}{{val2_num=[[@{weaponcategory7}+@{weaponbonus7}+@{weaponspec7}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{weaponreach7}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy7}]]}}{{result=[[(@{weapondice7}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy7}]]}}{{after1=AP([[@{weaponap7}]]) ~ DV}}{{after1_num=[[@{weapondv7}]]}}{{after1dmg=@{weapondmgtype7}}}"></button>
                    </div>
                    <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes7" title="Need more Space?">
                    <div class="checkboxticker weaponunticked"></div>
                    <div class="checkboxticker weaponticked">X</div>
                    <div class="weaponnoteswrapper">
                        <textarea name="attr_weaponnotes7" title="Have more Space!"></textarea>
                    </div>
                </div>
                <div class="ammolabels hide7">
                    <div class="ammonamewrapper">
                        <label class="ammolabel">Ammo Name</label>
                    </div>
                    <div class="ammonumberwrapper">
                        <label class="ammolabel">Rounds</label>
                    </div>
                    <div class="ammomaxwrapper">
                        <label class="ammolabel">Max</label>
                    </div>
                    <div class="ammoaccwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodvwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodmgtypewrapper">
                        <label class="ammolabel">Damage Type</label>
                    </div>
                    <div class="ammoapwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodescriptionwrapper">
                        <label class="ammolabel">Description</label>
                    </div>
                </div>
                <div class="ammofieldset hide7">
                    <fieldset class="repeating_ammotype7">
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype">
                                    <option value="@{weapondmgtype7}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_roll" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname7}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname7}}}{{val2_num=[[@{weaponcategory7}+@{weaponbonus7}+@{weaponspec7}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc7}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy7}+(@{prefix-ammoacc})]]}}{{result=[[(@{weapondice7}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{weaponaccuracy7}+(@{prefix-ammoacc})]]]]}}{{after1=AP([[@{weaponap7}+(@{prefix-ammoap})]]) ~ DV}}{{after1_num=[[@{weapondv7}+(@{prefix-ammodv})]]}}{{after1dmg=@{prefix-ammodmgtype}}}{{after2=Simple: @{prefix-ammoname} Rounds}}{{after2_num=[[@{weaponmode7}-floor(@{weaponmode7}/10)*10]]}}{{after3=Complex: @{prefix-ammoname} Rounds}}{{after3_num=[[floor(@{weaponmode7}/10)]]}}{{description=@{prefix-ammodescription}}}"></button>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <input class="meleecheckbox hiddenmelee hide8" type="checkbox" name="attr_weaponismelee8" title="Melee Weapon?" checked>
                <div class="weaponrow">
                    <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee8" title="Melee Weapon?" checked>
                    <div class="weaponmeleewrapper">
                        <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee8" title="Melee Weapon?" checked>
                        <div class="checkboxticker meleeunticked"></div>
                        <div class="checkboxticker meleeticked">X</div>
                    </div>
                    <div class="weaponnamewrapper">
                        <input type="text" name="attr_weaponname8" title="Weapon Name">
                    </div>
                    <div class="weaponcategorywrapper">
                        <select name="attr_weaponcategory8" title="Skill to use">
                            <option value="@{skilldicepool43}">Archery</option>
                            <option value="@{skilldicepool44}">Automatics</option>
                            <option value="@{skilldicepool45}">Blades</option>
                            <option value="@{skilldicepool46}">Clubs</option>
                            <option value="@{skilldicepool47}">Heavy Weapons</option>
                            <option value="@{skilldicepool48}">Longarms</option>
                            <option selected value="@{skilldicepool49}">Pistols</option>
                            <option value="@{skilldicepool50}">Thrown Weapon</option>
                            <option value="@{skilldicepool51}">Unarmed</option>
                            <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                            <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                            <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                            <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                        </select>
                        <input type="text" class="hiddentextfield" name="attr_weaponskillname8" value="Pistols">
                    </div>
                    <div class="weaponspecwrapper">
                        <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec8" value="2" title="Apply +2 from Specialization to this Weapon">
                        <div class="checkboxticker spellspecializedunticked"></div>
                        <div class="checkboxticker spellspecializedticked">X</div>
                    </div>
                    <div class="weaponbonuswrapper">
                        <input type="number" name="attr_weaponbonus8" value="0" title="Any Bonuses to Weapon Skill">
                    </div>
                    <div class="weaponaccuracywrapper">
                        <input type="number" name="attr_weaponaccuracy8" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                    </div>
                    <div class="weapondvwrapper">
                        <input type="number" name="attr_weapondv8" value="0" title="Weapon Damage with all Modifications but Ammo">
                    </div>
                    <div class="weapondmgtypewrapper">
                        <select class="weapondmgtype" name="attr_weapondmgtype8" title="Select the Damage Type done by this Weapon">
                            <option value="P">Physical</option>
                            <option value="S">Stun</option>
                            <option value="S(e)">Stun (electric)</option>
                        </select>
                    </div>
                    <div class="weaponapwrapper">
                        <input type="text" name="attr_weaponap8" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                    </div>
                    <div class="weaponrcwrapper">
                        <input type="text" name="attr_weaponrc8" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                    </div>
                    <div class="weaponmodewrapper">
                        <select name="attr_weaponmode8" title="(optional)Firing Mode(s) of the Weapon">
                            <option value="11">SS</option>
                            <option value="31">SA</option>
                            <option value="63">BF</option>
                            <option value="106">FA</option>
                        </select>
                        <input type="text" name="attr_weaponreach8" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                    </div>
                    <div class="weapondicewrapper">
                        <input type="text" name="attr_weapondice8" value="@{weaponcategory8}+@{weaponbonus8}+@{weaponspec8}" disabled title="Total Dicepool">
                    </div>
                    <div class="weaponrangerollwrapper">
                        <button type="action" class="weaponroll" name="act_rollWeapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname8}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname8}}}{{val2_num=[[@{weaponcategory8}+@{weaponbonus8}+@{weaponspec8}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc8}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy8}]]}}{{result=[[(@{weapondice8}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy8}]]}}{{after1=AP([[@{weaponap8}]]) ~ DV}}{{after1_num=[[@{weapondv8}]]}}{{after1dmg=@{weapondmgtype8}}}"></button>
                    </div>
                    <div class="weaponmeleerollwrapper">
                        <button type="action" class="weaponroll" name="act_rollWeapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname8}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname8}}}{{val2_num=[[@{weaponcategory8}+@{weaponbonus8}+@{weaponspec8}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{weaponreach8}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy8}]]}}{{result=[[(@{weapondice8}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{weaponaccuracy8}]]}}{{after1=AP([[@{weaponap8}]]) ~ DV}}{{after1_num=[[@{weapondv8}]]}}{{after1dmg=@{weapondmgtype8}}}"></button>
                    </div>
                    <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes8" title="Need more Space?">
                    <div class="checkboxticker weaponunticked"></div>
                    <div class="checkboxticker weaponticked">X</div>
                    <div class="weaponnoteswrapper">
                        <textarea name="attr_weaponnotes8" title="Have more Space!"></textarea>
                    </div>
                </div>
                <div class="ammolabels hide8">
                    <div class="ammonamewrapper">
                        <label class="ammolabel">Ammo Name</label>
                    </div>
                    <div class="ammonumberwrapper">
                        <label class="ammolabel">Rounds</label>
                    </div>
                    <div class="ammomaxwrapper">
                        <label class="ammolabel">Max</label>
                    </div>
                    <div class="ammoaccwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodvwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodmgtypewrapper">
                        <label class="ammolabel">Damage Type</label>
                    </div>
                    <div class="ammoapwrapper">
                        <label class="ammolabel">Mod</label>
                    </div>
                    <div class="ammodescriptionwrapper">
                        <label class="ammolabel">Description</label>
                    </div>
                </div>
                <div class="ammofieldset hide8">
                    <fieldset class="repeating_ammotype8">
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype">
                                    <option value="@{weapondmgtype8}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_roll" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{weaponname8}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{weaponskillname8}}}{{val2_num=[[@{weaponcategory8}+@{weaponbonus8}+@{weaponspec8}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{weaponrc8}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{weaponaccuracy8}+(@{prefix-ammoacc})]]}}{{result=[[(@{weapondice8}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{weaponaccuracy8}+(@{prefix-ammoacc})]]]]}}{{after1=AP([[@{weaponap8}+(@{prefix-ammoap})]]) ~ DV}}{{after1_num=[[@{weapondv8}+(@{prefix-ammodv})]]}}{{after1dmg=@{prefix-ammodmgtype}}}{{after2=Simple: @{prefix-ammoname} Rounds}}{{after2_num=[[@{weaponmode8}-floor(@{weaponmode8}/10)*10]]}}{{after3=Complex: @{prefix-ammoname} Rounds}}{{after3_num=[[floor(@{weaponmode8}/10)]]}}{{description=@{prefix-ammodescription}}}"></button>
                            </div>
                        </div>
                    </fieldset>
                </div>
            </div>
        </div>
        <div class="weapon">
            <label class="heading4" for="pistols" title="Click to hide pistols">Pistols</label>
            <input id="pistols" type="checkbox" class="invisiblecheckbox" checked>
            <div class="collapsible">
				<div class="weaponrow">
                    <div class="weaponmeleewrapper">
                        <label class="weaponlabel">Melee</label>
                    </div>
                    <div class="weaponnamewrapper">
                        <label class="weaponlabel">Name</label>
                    </div>
                    <div class="weaponcategorywrapper">
                        <label class="weaponlabel">Category</label>
                    </div>
                    <div class="weaponspecwrapper">
                        <label class="weaponlabel">Spec</label>
                    </div>
                    <div class="weaponbonuswrapper">
                        <label class="weaponlabel">Bonus</label>
                    </div>
                    <div class="weaponaccuracywrapper">
                        <label class="weaponlabel">Acc.</label>
                    </div>
                    <div class="weapondvwrapper">
                        <label class="weaponlabel">DV</label>
                    </div>
                    <div class="weapondmgtypewrapper">
                        <label class="weaponlabel">Damage Type</label>
                    </div>
                    <div class="weaponapwrapper">
                        <label class="weaponlabel">AP</label>
                    </div>
                    <div class="weaponrcwrapper">
                        <label class="weaponlabel">RC</label>
                    </div>
                    <div class="weaponmodewrapper">
                        <label class="weaponlabel">Mode / Reach</label>
                    </div>
                    <div class="weapondicewrapper">
                        <label class="weaponlabel">Dice</label>
                    </div>
                    <div class="weaponrangerollwrapper">
                        <label class="weaponlabel">Roll</label>
                    </div>
                    <div class="weaponnoteboxwrapper">
                        <label class="weaponlabel">Notes</label>
                    </div>
                </div>
                <fieldset class="repeating_pistols">
                    <input class="meleecheckbox hiddenmelee hide-rep" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                    <div class="weaponrow">
                        <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                        <div class="weaponmeleewrapper">
                            <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                            <div class="checkboxticker meleeunticked"></div>
                            <div class="checkboxticker meleeticked">X</div>
                        </div>
                        <div class="weaponnamewrapper">
                            <input type="text" name="attr_weaponname" title="Weapon Name">
                        </div>
                        <div class="weaponcategorywrapper">
                            <select name="attr_weaponcategory" title="Skill to use">
                                <option value="@{skilldicepool43}">Archery</option>
                                <option value="@{skilldicepool44}">Automatics</option>
                                <option value="@{skilldicepool45}">Blades</option>
                                <option value="@{skilldicepool46}">Clubs</option>
                                <option value="@{skilldicepool47}">Heavy Weapons</option>
                                <option value="@{skilldicepool48}">Longarms</option>
                                <option selected value="@{skilldicepool49}">Pistols</option>
                                <option value="@{skilldicepool50}">Thrown Weapon</option>
                                <option value="@{skilldicepool51}">Unarmed</option>
                                <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                            </select>
                            <input type="text" class="hiddentextfield" name="attr_weaponskillname" value="Pistols">
                        </div>
                        <div class="weaponspecwrapper">
                            <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec" value="2" title="Apply +2 from Specialization to this Weapon">
                            <div class="checkboxticker spellspecializedunticked"></div>
                            <div class="checkboxticker spellspecializedticked">X</div>
                        </div>
                        <div class="weaponbonuswrapper">
                            <input type="number" name="attr_weaponbonus" value="0" title="Any Bonuses to Weapon Skill">
                        </div>
                        <div class="weaponaccuracywrapper">
                            <input type="number" name="attr_weaponaccuracy" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                        </div>
                        <div class="weapondvwrapper">
                            <input type="number" name="attr_weapondv" value="0" title="Weapon Damage with all Modifications but Ammo">
                        </div>
                        <div class="weapondmgtypewrapper">
                            <select class="weapondmgtype" name="attr_weapondmgtype" title="Select the Damage Type done by this Weapon">
                                <option value="P">Physical</option>
                                <option value="S">Stun</option>
                                <option value="S(e)">Stun (electric)</option>
                            </select>
                        </div>
                        <div class="weaponapwrapper">
                            <input type="text" name="attr_weaponap" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                        </div>
                        <div class="weaponrcwrapper">
                            <input type="text" name="attr_weaponrc" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                        </div>
                        <div class="weaponmodewrapper">
                            <select name="attr_weaponmode" title="(optional)Firing Mode(s) of the Weapon">
                                <option value="11">SS</option>
                                <option value="31">SA</option>
                                <option value="63">BF</option>
                                <option value="106">FA</option>
                            </select>
                            <input type="text" name="attr_weaponreach" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                        </div>
                        <div class="weapondicewrapper">
                            <input type="text" name="attr_weapondice" value="@{weaponcategory}+@{weaponbonus}+@{weaponspec}" disabled title="Total Dicepool">
                        </div>
                        <div class="weaponrangerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                        </div>
                        <div class="weaponmeleerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollweapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{prefix-weaponreach}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                        </div>
                        <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes" title="Need more Space?">
                        <div class="checkboxticker weaponunticked"></div>
                        <div class="checkboxticker weaponticked">X</div>
                        <div class="weaponnoteswrapper">
                            <textarea name="attr_weaponnotes" title="Have more Space!"></textarea>
                        </div>
                    </div>
                    <div class="ammolabels hide-rep">
                        <div class="ammonamewrapper">
                            <label class="ammolabel">Ammo Name</label>
                        </div>
                        <div class="ammonumberwrapper">
                            <label class="ammolabel">Rounds</label>
                        </div>
                        <div class="ammomaxwrapper">
                            <label class="ammolabel">Max</label>
                        </div>
                        <div class="ammoaccwrapper">
                            <label class="ammolabel">Mod</label>
                        </div>
                        <div class="ammodvwrapper">
                            <label class="ammolabel">Mod</label>
                        </div>
                        <div class="ammodmgtypewrapper">
                            <label class="ammolabel">Damage Type</label>
                        </div>
                        <div class="ammoapwrapper">
                            <label class="ammolabel">Mod</label>
                        </div>
                        <div class="ammodescriptionwrapper">
                            <label class="ammolabel">Description</label>
                        </div>
                    </div>
                    <div class="ammofieldset hide-rep">
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname0" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber0" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber0" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc0" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv0" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype0">
                                    <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap0" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription0" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap0})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv0})]]}}{{after1dmg=@{prefix-ammodmgtype0}}}{{after2=Simple: @{prefix-ammoname0} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname0} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription0}}}"></button>
                            </div>
                        </div>
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname1" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber1" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber1" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc1" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv1" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype1">
                                    <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap1" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription1" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv1})]]}}{{after1dmg=@{prefix-ammodmgtype1}}}{{after2=Simple: @{prefix-ammoname1} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname1} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription1}}}"></button>
                            </div>
                        </div>
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname2" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber2" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber2" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc2" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv2" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype2">
                                    <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap2" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription2" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv2})]]}}{{after1dmg=@{prefix-ammodmgtype2}}}{{after2=Simple: @{prefix-ammoname2} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname2} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription2}}}"></button>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>

            <label class="heading4" for="automatics" title="Click to hide automatic weapon">Automatic Weapons</label>
            <input id="automatics" type="checkbox" class="invisiblecheckbox" checked>
            <div class="collapsible">
				<div class="weaponrow">
                    <div class="weaponmeleewrapper">
                        <label class="weaponlabel">Melee</label>
                    </div>
                    <div class="weaponnamewrapper">
                        <label class="weaponlabel">Name</label>
                    </div>
                    <div class="weaponcategorywrapper">
                        <label class="weaponlabel">Category</label>
                    </div>
                    <div class="weaponspecwrapper">
                        <label class="weaponlabel">Spec</label>
                    </div>
                    <div class="weaponbonuswrapper">
                        <label class="weaponlabel">Bonus</label>
                    </div>
                    <div class="weaponaccuracywrapper">
                        <label class="weaponlabel">Acc.</label>
                    </div>
                    <div class="weapondvwrapper">
                        <label class="weaponlabel">DV</label>
                    </div>
                    <div class="weapondmgtypewrapper">
                        <label class="weaponlabel">Damage Type</label>
                    </div>
                    <div class="weaponapwrapper">
                        <label class="weaponlabel">AP</label>
                    </div>
                    <div class="weaponrcwrapper">
                        <label class="weaponlabel">RC</label>
                    </div>
                    <div class="weaponmodewrapper">
                        <label class="weaponlabel">Mode / Reach</label>
                    </div>
                    <div class="weapondicewrapper">
                        <label class="weaponlabel">Dice</label>
                    </div>
                    <div class="weaponrangerollwrapper">
                        <label class="weaponlabel">Roll</label>
                    </div>
                    <div class="weaponnoteboxwrapper">
                        <label class="weaponlabel">Notes</label>
                    </div>
                </div>
                <fieldset class="repeating_automatics">
                    <input class="meleecheckbox hiddenmelee hide-rep" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                    <div class="weaponrow">
                        <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                        <div class="weaponmeleewrapper">
                            <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                            <div class="checkboxticker meleeunticked"></div>
                            <div class="checkboxticker meleeticked">X</div>
                        </div>
                        <div class="weaponnamewrapper">
                            <input type="text" name="attr_weaponname" title="Weapon Name">
                        </div>
                        <div class="weaponcategorywrapper">
                            <select name="attr_weaponcategory" title="Skill to use">
                                <option value="@{skilldicepool43}">Archery</option>
                                <option value="@{skilldicepool44}">Automatics</option>
                                <option value="@{skilldicepool45}">Blades</option>
                                <option value="@{skilldicepool46}">Clubs</option>
                                <option value="@{skilldicepool47}">Heavy Weapons</option>
                                <option value="@{skilldicepool48}">Longarms</option>
                                <option selected value="@{skilldicepool49}">Pistols</option>
                                <option value="@{skilldicepool50}">Thrown Weapon</option>
                                <option value="@{skilldicepool51}">Unarmed</option>
                                <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                            </select>
                            <input type="text" class="hiddentextfield" name="attr_weaponskillname" value="Pistols">
                        </div>
                        <div class="weaponspecwrapper">
                            <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec" value="2" title="Apply +2 from Specialization to this Weapon">
                            <div class="checkboxticker spellspecializedunticked"></div>
                            <div class="checkboxticker spellspecializedticked">X</div>
                        </div>
                        <div class="weaponbonuswrapper">
                            <input type="number" name="attr_weaponbonus" value="0" title="Any Bonuses to Weapon Skill">
                        </div>
                        <div class="weaponaccuracywrapper">
                            <input type="number" name="attr_weaponaccuracy" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                        </div>
                        <div class="weapondvwrapper">
                            <input type="number" name="attr_weapondv" value="0" title="Weapon Damage with all Modifications but Ammo">
                        </div>
                        <div class="weapondmgtypewrapper">
                            <select class="weapondmgtype" name="attr_weapondmgtype" title="Select the Damage Type done by this Weapon">
                                <option value="P">Physical</option>
                                <option value="S">Stun</option>
                                <option value="S(e)">Stun (electric)</option>
                            </select>
                        </div>
                        <div class="weaponapwrapper">
                            <input type="text" name="attr_weaponap" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                        </div>
                        <div class="weaponrcwrapper">
                            <input type="text" name="attr_weaponrc" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                        </div>
                        <div class="weaponmodewrapper">
                            <select name="attr_weaponmode" title="(optional)Firing Mode(s) of the Weapon">
                                <option value="11">SS</option>
                                <option value="31">SA</option>
                                <option value="63">BF</option>
                                <option value="106">FA</option>
                            </select>
                            <input type="text" name="attr_weaponreach" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                        </div>
                        <div class="weapondicewrapper">
                            <input type="text" name="attr_weapondice" value="@{weaponcategory}+@{weaponbonus}+@{weaponspec}" disabled title="Total Dicepool">
                        </div>
                        <div class="weaponrangerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                        </div>
                        <div class="weaponmeleerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollweapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{prefix-weaponreach}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                        </div>
                        <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes" title="Need more Space?">
                        <div class="checkboxticker weaponunticked"></div>
                        <div class="checkboxticker weaponticked">X</div>
                        <div class="weaponnoteswrapper">
                            <textarea name="attr_weaponnotes" title="Have more Space!"></textarea>
                        </div>
                    </div>
                    <div class="ammolabels hide-rep">
                        <div class="ammonamewrapper">
                            <label class="ammolabel">Ammo Name</label>
                        </div>
                        <div class="ammonumberwrapper">
                            <label class="ammolabel">Rounds</label>
                        </div>
                        <div class="ammomaxwrapper">
                            <label class="ammolabel">Max</label>
                        </div>
                        <div class="ammoaccwrapper">
                            <label class="ammolabel">Mod</label>
                        </div>
                        <div class="ammodvwrapper">
                            <label class="ammolabel">Mod</label>
                        </div>
                        <div class="ammodmgtypewrapper">
                            <label class="ammolabel">Damage Type</label>
                        </div>
                        <div class="ammoapwrapper">
                            <label class="ammolabel">Mod</label>
                        </div>
                        <div class="ammodescriptionwrapper">
                            <label class="ammolabel">Description</label>
                        </div>
                    </div>
                    <div class="ammofieldset hide-rep">
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname0" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber0" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber0" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc0" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv0" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype0">
                                    <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap0" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription0" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap0})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv0})]]}}{{after1dmg=@{prefix-ammodmgtype0}}}{{after2=Simple: @{prefix-ammoname0} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname0} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription0}}}"></button>
                            </div>
                        </div>
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname1" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber1" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber1" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc1" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv1" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype1">
                                    <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap1" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription1" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv1})]]}}{{after1dmg=@{prefix-ammodmgtype1}}}{{after2=Simple: @{prefix-ammoname1} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname1} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription1}}}"></button>
                            </div>
                        </div>
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname2" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber2" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber2" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc2" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv2" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype2">
                                    <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap2" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription2" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv2})]]}}{{after1dmg=@{prefix-ammodmgtype2}}}{{after2=Simple: @{prefix-ammoname2} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname2} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription2}}}"></button>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>

            <label class="heading4" for="longarms" title="Click to hide longarms">Longarms</label>
            <input id="longarms" type="checkbox" class="invisiblecheckbox" checked>
            <div class="collapsible">
				<div class="weaponrow">
                    <div class="weaponmeleewrapper">
                        <label class="weaponlabel">Melee</label>
                    </div>
                    <div class="weaponnamewrapper">
                        <label class="weaponlabel">Name</label>
                    </div>
                    <div class="weaponcategorywrapper">
                        <label class="weaponlabel">Category</label>
                    </div>
                    <div class="weaponspecwrapper">
                        <label class="weaponlabel">Spec</label>
                    </div>
                    <div class="weaponbonuswrapper">
                        <label class="weaponlabel">Bonus</label>
                    </div>
                    <div class="weaponaccuracywrapper">
                        <label class="weaponlabel">Acc.</label>
                    </div>
                    <div class="weapondvwrapper">
                        <label class="weaponlabel">DV</label>
                    </div>
                    <div class="weapondmgtypewrapper">
                        <label class="weaponlabel">Damage Type</label>
                    </div>
                    <div class="weaponapwrapper">
                        <label class="weaponlabel">AP</label>
                    </div>
                    <div class="weaponrcwrapper">
                        <label class="weaponlabel">RC</label>
                    </div>
                    <div class="weaponmodewrapper">
                        <label class="weaponlabel">Mode / Reach</label>
                    </div>
                    <div class="weapondicewrapper">
                        <label class="weaponlabel">Dice</label>
                    </div>
                    <div class="weaponrangerollwrapper">
                        <label class="weaponlabel">Roll</label>
                    </div>
                    <div class="weaponnoteboxwrapper">
                        <label class="weaponlabel">Notes</label>
                    </div>
                </div>
                <fieldset class="repeating_longarms">
                    <input class="meleecheckbox hiddenmelee hide-rep" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                    <div class="weaponrow">
                        <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                        <div class="weaponmeleewrapper">
                            <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                            <div class="checkboxticker meleeunticked"></div>
                            <div class="checkboxticker meleeticked">X</div>
                        </div>
                        <div class="weaponnamewrapper">
                            <input type="text" name="attr_weaponname" title="Weapon Name">
                        </div>
                        <div class="weaponcategorywrapper">
                            <select name="attr_weaponcategory" title="Skill to use">
                                <option value="@{skilldicepool43}">Archery</option>
                                <option value="@{skilldicepool44}">Automatics</option>
                                <option value="@{skilldicepool45}">Blades</option>
                                <option value="@{skilldicepool46}">Clubs</option>
                                <option value="@{skilldicepool47}">Heavy Weapons</option>
                                <option value="@{skilldicepool48}">Longarms</option>
                                <option selected value="@{skilldicepool49}">Pistols</option>
                                <option value="@{skilldicepool50}">Thrown Weapon</option>
                                <option value="@{skilldicepool51}">Unarmed</option>
                                <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                            </select>
                            <input type="text" class="hiddentextfield" name="attr_weaponskillname" value="Pistols">
                        </div>
                        <div class="weaponspecwrapper">
                            <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec" value="2" title="Apply +2 from Specialization to this Weapon">
                            <div class="checkboxticker spellspecializedunticked"></div>
                            <div class="checkboxticker spellspecializedticked">X</div>
                        </div>
                        <div class="weaponbonuswrapper">
                            <input type="number" name="attr_weaponbonus" value="0" title="Any Bonuses to Weapon Skill">
                        </div>
                        <div class="weaponaccuracywrapper">
                            <input type="number" name="attr_weaponaccuracy" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                        </div>
                        <div class="weapondvwrapper">
                            <input type="number" name="attr_weapondv" value="0" title="Weapon Damage with all Modifications but Ammo">
                        </div>
                        <div class="weapondmgtypewrapper">
                            <select class="weapondmgtype" name="attr_weapondmgtype" title="Select the Damage Type done by this Weapon">
                                <option value="P">Physical</option>
                                <option value="S">Stun</option>
                                <option value="S(e)">Stun (electric)</option>
                            </select>
                        </div>
                        <div class="weaponapwrapper">
                            <input type="text" name="attr_weaponap" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                        </div>
                        <div class="weaponrcwrapper">
                            <input type="text" name="attr_weaponrc" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                        </div>
                        <div class="weaponmodewrapper">
                            <select name="attr_weaponmode" title="(optional)Firing Mode(s) of the Weapon">
                                <option value="11">SS</option>
                                <option value="31">SA</option>
                                <option value="63">BF</option>
                                <option value="106">FA</option>
                            </select>
                            <input type="text" name="attr_weaponreach" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                        </div>
                        <div class="weapondicewrapper">
                            <input type="text" name="attr_weapondice" value="@{weaponcategory}+@{weaponbonus}+@{weaponspec}" disabled title="Total Dicepool">
                        </div>
                        <div class="weaponrangerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                        </div>
                        <div class="weaponmeleerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollweapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{prefix-weaponreach}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                        </div>
                        <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes" title="Need more Space?">
                        <div class="checkboxticker weaponunticked"></div>
                        <div class="checkboxticker weaponticked">X</div>
                        <div class="weaponnoteswrapper">
                            <textarea name="attr_weaponnotes" title="Have more Space!"></textarea>
                        </div>
                    </div>
                    <div class="ammolabels hide-rep">
                        <div class="ammonamewrapper">
                            <label class="ammolabel">Ammo Name</label>
                        </div>
                        <div class="ammonumberwrapper">
                            <label class="ammolabel">Rounds</label>
                        </div>
                        <div class="ammomaxwrapper">
                            <label class="ammolabel">Max</label>
                        </div>
                        <div class="ammoaccwrapper">
                            <label class="ammolabel">Mod</label>
                        </div>
                        <div class="ammodvwrapper">
                            <label class="ammolabel">Mod</label>
                        </div>
                        <div class="ammodmgtypewrapper">
                            <label class="ammolabel">Damage Type</label>
                        </div>
                        <div class="ammoapwrapper">
                            <label class="ammolabel">Mod</label>
                        </div>
                        <div class="ammodescriptionwrapper">
                            <label class="ammolabel">Description</label>
                        </div>
                    </div>
                    <div class="ammofieldset hide-rep">
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname0" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber0" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber0" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc0" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv0" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype0">
                                    <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap0" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription0" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap0})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv0})]]}}{{after1dmg=@{prefix-ammodmgtype0}}}{{after2=Simple: @{prefix-ammoname0} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname0} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription0}}}"></button>
                            </div>
                        </div>
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname1" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber1" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber1" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc1" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv1" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype1">
                                    <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap1" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription1" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv1})]]}}{{after1dmg=@{prefix-ammodmgtype1}}}{{after2=Simple: @{prefix-ammoname1} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname1} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription1}}}"></button>
                            </div>
                        </div>
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname2" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber2" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber2" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc2" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv2" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype2">
                                    <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap2" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription2" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv2})]]}}{{after1dmg=@{prefix-ammodmgtype2}}}{{after2=Simple: @{prefix-ammoname2} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname2} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription2}}}"></button>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>

            <label class="heading4" for="heavyweapons" title="Click to hide heavy weapon">Heavy Weapons</label>
            <input id="heavyweapons" type="checkbox" class="invisiblecheckbox" checked>
            <div class="collapsible">
				<div class="weaponrow">
                    <div class="weaponmeleewrapper">
                        <label class="weaponlabel">Melee</label>
                    </div>
                    <div class="weaponnamewrapper">
                        <label class="weaponlabel">Name</label>
                    </div>
                    <div class="weaponcategorywrapper">
                        <label class="weaponlabel">Category</label>
                    </div>
                    <div class="weaponspecwrapper">
                        <label class="weaponlabel">Spec</label>
                    </div>
                    <div class="weaponbonuswrapper">
                        <label class="weaponlabel">Bonus</label>
                    </div>
                    <div class="weaponaccuracywrapper">
                        <label class="weaponlabel">Acc.</label>
                    </div>
                    <div class="weapondvwrapper">
                        <label class="weaponlabel">DV</label>
                    </div>
                    <div class="weapondmgtypewrapper">
                        <label class="weaponlabel">Damage Type</label>
                    </div>
                    <div class="weaponapwrapper">
                        <label class="weaponlabel">AP</label>
                    </div>
                    <div class="weaponrcwrapper">
                        <label class="weaponlabel">RC</label>
                    </div>
                    <div class="weaponmodewrapper">
                        <label class="weaponlabel">Mode / Reach</label>
                    </div>
                    <div class="weapondicewrapper">
                        <label class="weaponlabel">Dice</label>
                    </div>
                    <div class="weaponrangerollwrapper">
                        <label class="weaponlabel">Roll</label>
                    </div>
                    <div class="weaponnoteboxwrapper">
                        <label class="weaponlabel">Notes</label>
                    </div>
                </div>
                <fieldset class="repeating_heavyweapons">
                    <input class="meleecheckbox hiddenmelee hide-rep" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                    <div class="weaponrow">
                        <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                        <div class="weaponmeleewrapper">
                            <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                            <div class="checkboxticker meleeunticked"></div>
                            <div class="checkboxticker meleeticked">X</div>
                        </div>
                        <div class="weaponnamewrapper">
                            <input type="text" name="attr_weaponname" title="Weapon Name">
                        </div>
                        <div class="weaponcategorywrapper">
                            <select name="attr_weaponcategory" title="Skill to use">
                                <option value="@{skilldicepool43}">Archery</option>
                                <option value="@{skilldicepool44}">Automatics</option>
                                <option value="@{skilldicepool45}">Blades</option>
                                <option value="@{skilldicepool46}">Clubs</option>
                                <option value="@{skilldicepool47}">Heavy Weapons</option>
                                <option value="@{skilldicepool48}">Longarms</option>
                                <option selected value="@{skilldicepool49}">Pistols</option>
                                <option value="@{skilldicepool50}">Thrown Weapon</option>
                                <option value="@{skilldicepool51}">Unarmed</option>
                                <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                            </select>
                            <input type="text" class="hiddentextfield" name="attr_weaponskillname" value="Pistols">
                        </div>
                        <div class="weaponspecwrapper">
                            <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec" value="2" title="Apply +2 from Specialization to this Weapon">
                            <div class="checkboxticker spellspecializedunticked"></div>
                            <div class="checkboxticker spellspecializedticked">X</div>
                        </div>
                        <div class="weaponbonuswrapper">
                            <input type="number" name="attr_weaponbonus" value="0" title="Any Bonuses to Weapon Skill">
                        </div>
                        <div class="weaponaccuracywrapper">
                            <input type="number" name="attr_weaponaccuracy" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                        </div>
                        <div class="weapondvwrapper">
                            <input type="number" name="attr_weapondv" value="0" title="Weapon Damage with all Modifications but Ammo">
                        </div>
                        <div class="weapondmgtypewrapper">
                            <select class="weapondmgtype" name="attr_weapondmgtype" title="Select the Damage Type done by this Weapon">
                                <option value="P">Physical</option>
                                <option value="S">Stun</option>
                                <option value="S(e)">Stun (electric)</option>
                            </select>
                        </div>
                        <div class="weaponapwrapper">
                            <input type="text" name="attr_weaponap" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                        </div>
                        <div class="weaponrcwrapper">
                            <input type="text" name="attr_weaponrc" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                        </div>
                        <div class="weaponmodewrapper">
                            <select name="attr_weaponmode" title="(optional)Firing Mode(s) of the Weapon">
                                <option value="11">SS</option>
                                <option value="31">SA</option>
                                <option value="63">BF</option>
                                <option value="106">FA</option>
                            </select>
                            <input type="text" name="attr_weaponreach" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                        </div>
                        <div class="weapondicewrapper">
                            <input type="text" name="attr_weapondice" value="@{weaponcategory}+@{weaponbonus}+@{weaponspec}" disabled title="Total Dicepool">
                        </div>
                        <div class="weaponrangerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                        </div>
                        <div class="weaponmeleerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollweapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{prefix-weaponreach}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                        </div>
                        <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes" title="Need more Space?">
                        <div class="checkboxticker weaponunticked"></div>
                        <div class="checkboxticker weaponticked">X</div>
                        <div class="weaponnoteswrapper">
                            <textarea name="attr_weaponnotes" title="Have more Space!"></textarea>
                        </div>
                    </div>
                    <div class="ammolabels hide-rep">
                        <div class="ammonamewrapper">
                            <label class="ammolabel">Ammo Name</label>
                        </div>
                        <div class="ammonumberwrapper">
                            <label class="ammolabel">Rounds</label>
                        </div>
                        <div class="ammomaxwrapper">
                            <label class="ammolabel">Max</label>
                        </div>
                        <div class="ammoaccwrapper">
                            <label class="ammolabel">Mod</label>
                        </div>
                        <div class="ammodvwrapper">
                            <label class="ammolabel">Mod</label>
                        </div>
                        <div class="ammodmgtypewrapper">
                            <label class="ammolabel">Damage Type</label>
                        </div>
                        <div class="ammoapwrapper">
                            <label class="ammolabel">Mod</label>
                        </div>
                        <div class="ammodescriptionwrapper">
                            <label class="ammolabel">Description</label>
                        </div>
                    </div>
                    <div class="ammofieldset hide-rep">
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname0" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber0" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber0" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc0" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv0" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype0">
                                    <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap0" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription0" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap0})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv0})]]}}{{after1dmg=@{prefix-ammodmgtype0}}}{{after2=Simple: @{prefix-ammoname0} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname0} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription0}}}"></button>
                            </div>
                        </div>
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname1" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber1" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber1" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc1" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv1" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype1">
                                    <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap1" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription1" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv1})]]}}{{after1dmg=@{prefix-ammodmgtype1}}}{{after2=Simple: @{prefix-ammoname1} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname1} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription1}}}"></button>
                            </div>
                        </div>
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname2" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber2" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber2" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc2" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv2" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype2">
                                    <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap2" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription2" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv2})]]}}{{after1dmg=@{prefix-ammodmgtype2}}}{{after2=Simple: @{prefix-ammoname2} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname2} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription2}}}"></button>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>

            <label class="heading4" for="closeCombat" title="Click to hide close combat weapon">Close Combat</label>
            <input id="closeCombat" type="checkbox" class="invisiblecheckbox" checked>
            <div class="collapsible">
				<div class="weaponrow">
                    <div class="weaponmeleewrapper">
                        <label class="weaponlabel">Melee</label>
                    </div>
                    <div class="weaponnamewrapper">
                        <label class="weaponlabel">Name</label>
                    </div>
                    <div class="weaponcategorywrapper">
                        <label class="weaponlabel">Category</label>
                    </div>
                    <div class="weaponspecwrapper">
                        <label class="weaponlabel">Spec</label>
                    </div>
                    <div class="weaponbonuswrapper">
                        <label class="weaponlabel">Bonus</label>
                    </div>
                    <div class="weaponaccuracywrapper">
                        <label class="weaponlabel">Acc.</label>
                    </div>
                    <div class="weapondvwrapper">
                        <label class="weaponlabel">DV</label>
                    </div>
                    <div class="weapondmgtypewrapper">
                        <label class="weaponlabel">Damage Type</label>
                    </div>
                    <div class="weaponapwrapper">
                        <label class="weaponlabel">AP</label>
                    </div>
                    <div class="weaponrcwrapper">
                        <label class="weaponlabel">RC</label>
                    </div>
                    <div class="weaponmodewrapper">
                        <label class="weaponlabel">Mode / Reach</label>
                    </div>
                    <div class="weapondicewrapper">
                        <label class="weaponlabel">Dice</label>
                    </div>
                    <div class="weaponrangerollwrapper">
                        <label class="weaponlabel">Roll</label>
                    </div>
                    <div class="weaponnoteboxwrapper">
                        <label class="weaponlabel">Notes</label>
                    </div>
                </div>
                <fieldset class="repeating_closecombat">
                    <input class="meleecheckbox hiddenmelee hide-rep" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                    <div class="weaponrow">
                        <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                        <div class="weaponmeleewrapper">
                            <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                            <div class="checkboxticker meleeunticked"></div>
                            <div class="checkboxticker meleeticked">X</div>
                        </div>
                        <div class="weaponnamewrapper">
                            <input type="text" name="attr_weaponname" title="Weapon Name">
                        </div>
                        <div class="weaponcategorywrapper">
                            <select name="attr_weaponcategory" title="Skill to use">
                                <option value="@{skilldicepool43}">Archery</option>
                                <option value="@{skilldicepool44}">Automatics</option>
                                <option value="@{skilldicepool45}">Blades</option>
                                <option value="@{skilldicepool46}">Clubs</option>
                                <option value="@{skilldicepool47}">Heavy Weapons</option>
                                <option value="@{skilldicepool48}">Longarms</option>
                                <option selected value="@{skilldicepool49}">Pistols</option>
                                <option value="@{skilldicepool50}">Thrown Weapon</option>
                                <option value="@{skilldicepool51}">Unarmed</option>
                                <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                            </select>
                            <input type="text" class="hiddentextfield" name="attr_weaponskillname" value="Pistols">
                        </div>
                        <div class="weaponspecwrapper">
                            <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec" value="2" title="Apply +2 from Specialization to this Weapon">
                            <div class="checkboxticker spellspecializedunticked"></div>
                            <div class="checkboxticker spellspecializedticked">X</div>
                        </div>
                        <div class="weaponbonuswrapper">
                            <input type="number" name="attr_weaponbonus" value="0" title="Any Bonuses to Weapon Skill">
                        </div>
                        <div class="weaponaccuracywrapper">
                            <input type="number" name="attr_weaponaccuracy" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                        </div>
                        <div class="weapondvwrapper">
                            <input type="number" name="attr_weapondv" value="0" title="Weapon Damage with all Modifications but Ammo">
                        </div>
                        <div class="weapondmgtypewrapper">
                            <select class="weapondmgtype" name="attr_weapondmgtype" title="Select the Damage Type done by this Weapon">
                                <option value="P">Physical</option>
                                <option value="S">Stun</option>
                                <option value="S(e)">Stun (electric)</option>
                            </select>
                        </div>
                        <div class="weaponapwrapper">
                            <input type="text" name="attr_weaponap" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                        </div>
                        <div class="weaponrcwrapper">
                            <input type="text" name="attr_weaponrc" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                        </div>
                        <div class="weaponmodewrapper">
                            <select name="attr_weaponmode" title="(optional)Firing Mode(s) of the Weapon">
                                <option value="11">SS</option>
                                <option value="31">SA</option>
                                <option value="63">BF</option>
                                <option value="106">FA</option>
                            </select>
                            <input type="text" name="attr_weaponreach" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                        </div>
                        <div class="weapondicewrapper">
                            <input type="text" name="attr_weapondice" value="@{weaponcategory}+@{weaponbonus}+@{weaponspec}" disabled title="Total Dicepool">
                        </div>
                        <div class="weaponrangerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                        </div>
                        <div class="weaponmeleerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollweapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{prefix-weaponreach}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                        </div>
                        <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes" title="Need more Space?">
                        <div class="checkboxticker weaponunticked"></div>
                        <div class="checkboxticker weaponticked">X</div>
                        <div class="weaponnoteswrapper">
                            <textarea name="attr_weaponnotes" title="Have more Space!"></textarea>
                        </div>
                    </div>
                    <div class="ammolabels hide-rep">
                        <div class="ammonamewrapper">
                            <label class="ammolabel">Ammo Name</label>
                        </div>
                        <div class="ammonumberwrapper">
                            <label class="ammolabel">Rounds</label>
                        </div>
                        <div class="ammomaxwrapper">
                            <label class="ammolabel">Max</label>
                        </div>
                        <div class="ammoaccwrapper">
                            <label class="ammolabel">Mod</label>
                        </div>
                        <div class="ammodvwrapper">
                            <label class="ammolabel">Mod</label>
                        </div>
                        <div class="ammodmgtypewrapper">
                            <label class="ammolabel">Damage Type</label>
                        </div>
                        <div class="ammoapwrapper">
                            <label class="ammolabel">Mod</label>
                        </div>
                        <div class="ammodescriptionwrapper">
                            <label class="ammolabel">Description</label>
                        </div>
                    </div>
                    <div class="ammofieldset hide-rep">
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname0" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber0" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber0" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc0" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv0" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype0">
                                    <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap0" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription0" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap0})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv0})]]}}{{after1dmg=@{prefix-ammodmgtype0}}}{{after2=Simple: @{prefix-ammoname0} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname0} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription0}}}"></button>
                            </div>
                        </div>
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname1" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber1" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber1" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc1" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv1" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype1">
                                    <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap1" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription1" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv1})]]}}{{after1dmg=@{prefix-ammodmgtype1}}}{{after2=Simple: @{prefix-ammoname1} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname1} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription1}}}"></button>
                            </div>
                        </div>
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname2" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber2" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber2" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc2" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv2" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype2">
                                    <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap2" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription2" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv2})]]}}{{after1dmg=@{prefix-ammodmgtype2}}}{{after2=Simple: @{prefix-ammoname2} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname2} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription2}}}"></button>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>

            <label class="heading4" for="otherWeapons" title="Click to hide other weapons">Other Weapons</label>
            <input id="otherWeapons" type="checkbox" class="invisiblecheckbox" checked>
            <div class="collapsible">
				<div class="weaponrow">
                    <div class="weaponmeleewrapper">
                        <label class="weaponlabel">Melee</label>
                    </div>
                    <div class="weaponnamewrapper">
                        <label class="weaponlabel">Name</label>
                    </div>
                    <div class="weaponcategorywrapper">
                        <label class="weaponlabel">Category</label>
                    </div>
                    <div class="weaponspecwrapper">
                        <label class="weaponlabel">Spec</label>
                    </div>
                    <div class="weaponbonuswrapper">
                        <label class="weaponlabel">Bonus</label>
                    </div>
                    <div class="weaponaccuracywrapper">
                        <label class="weaponlabel">Acc.</label>
                    </div>
                    <div class="weapondvwrapper">
                        <label class="weaponlabel">DV</label>
                    </div>
                    <div class="weapondmgtypewrapper">
                        <label class="weaponlabel">Damage Type</label>
                    </div>
                    <div class="weaponapwrapper">
                        <label class="weaponlabel">AP</label>
                    </div>
                    <div class="weaponrcwrapper">
                        <label class="weaponlabel">RC</label>
                    </div>
                    <div class="weaponmodewrapper">
                        <label class="weaponlabel">Mode / Reach</label>
                    </div>
                    <div class="weapondicewrapper">
                        <label class="weaponlabel">Dice</label>
                    </div>
                    <div class="weaponrangerollwrapper">
                        <label class="weaponlabel">Roll</label>
                    </div>
                    <div class="weaponnoteboxwrapper">
                        <label class="weaponlabel">Notes</label>
                    </div>
                </div>
                <fieldset class="repeating_weapons">
                    <input class="meleecheckbox hiddenmelee hide-rep" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                    <div class="weaponrow">
                        <input class="meleecheckbox hiddenmelee" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                        <div class="weaponmeleewrapper">
                            <input class="meleecheckbox hiddencheckbox" type="checkbox" name="attr_weaponismelee" title="Melee Weapon?" checked>
                            <div class="checkboxticker meleeunticked"></div>
                            <div class="checkboxticker meleeticked">X</div>
                        </div>
                        <div class="weaponnamewrapper">
                            <input type="text" name="attr_weaponname" title="Weapon Name">
                        </div>
                        <div class="weaponcategorywrapper">
                            <select name="attr_weaponcategory" title="Skill to use">
                                <option value="@{skilldicepool43}">Archery</option>
                                <option value="@{skilldicepool44}">Automatics</option>
                                <option value="@{skilldicepool45}">Blades</option>
                                <option value="@{skilldicepool46}">Clubs</option>
                                <option value="@{skilldicepool47}">Heavy Weapons</option>
                                <option value="@{skilldicepool48}">Longarms</option>
                                <option selected value="@{skilldicepool49}">Pistols</option>
                                <option value="@{skilldicepool50}">Thrown Weapon</option>
                                <option value="@{skilldicepool51}">Unarmed</option>
                                <option value="@{skilldicepool73}">Exotic Weapon 1</option>
                                <option value="@{skilldicepool74}">Exotic Weapon 2</option>
                                <option value="@{skilldicepool75}">Exotic Weapon 3</option>
                                <option value="@{skilldicepool76}">Exotic Weapon 4</option>
                            </select>
                            <input type="text" class="hiddentextfield" name="attr_weaponskillname" value="Pistols">
                        </div>
                        <div class="weaponspecwrapper">
                            <input type="checkbox" class="hiddencheckbox spellspecialized" name="attr_weaponspec" value="2" title="Apply +2 from Specialization to this Weapon">
                            <div class="checkboxticker spellspecializedunticked"></div>
                            <div class="checkboxticker spellspecializedticked">X</div>
                        </div>
                        <div class="weaponbonuswrapper">
                            <input type="number" name="attr_weaponbonus" value="0" title="Any Bonuses to Weapon Skill">
                        </div>
                        <div class="weaponaccuracywrapper">
                            <input type="number" name="attr_weaponaccuracy" value="0" title="Weapon Accuracy with all Modifications but Ammo">
                        </div>
                        <div class="weapondvwrapper">
                            <input type="number" name="attr_weapondv" value="0" title="Weapon Damage with all Modifications but Ammo">
                        </div>
                        <div class="weapondmgtypewrapper">
                            <select class="weapondmgtype" name="attr_weapondmgtype" title="Select the Damage Type done by this Weapon">
                                <option value="P">Physical</option>
                                <option value="S">Stun</option>
                                <option value="S(e)">Stun (electric)</option>
                            </select>
                        </div>
                        <div class="weaponapwrapper">
                            <input type="text" name="attr_weaponap" value="0" title="Weapon Armor Penetration with all Modifications but Ammo">
                        </div>
                        <div class="weaponrcwrapper">
                            <input type="text" name="attr_weaponrc" value="0" title="Weapon Recoil Compensation with all Modifications but Strength">
                        </div>
                        <div class="weaponmodewrapper">
                            <select name="attr_weaponmode" title="(optional)Firing Mode(s) of the Weapon">
                                <option value="11">SS</option>
                                <option value="31">SA</option>
                                <option value="63">BF</option>
                                <option value="106">FA</option>
                            </select>
                            <input type="text" name="attr_weaponreach" value="0" title="Weapon Reach with all Modifications including Troll Arms etc">
                        </div>
                        <div class="weapondicewrapper">
                            <input type="text" name="attr_weapondice" value="@{weaponcategory}+@{weaponbonus}+@{weaponspec}" disabled title="Total Dicepool">
                        </div>
                        <div class="weaponrangerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollweapon" title="Fire the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                        </div>
                        <div class="weaponmeleerollwrapper">
                            <button type="action" class="weaponroll" name="act_rollweapon" title="Attack with the Weapon" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Reach}}{{val3_num=[[@{prefix-weaponreach}]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh@{prefix-weaponaccuracy}]]}}{{after1=AP([[@{prefix-weaponap}]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}]]}}{{after1dmg=@{prefix-weapondmgtype}}}"></button>
                        </div>
                        <input class="weaponcheckbox hiddencheckbox" type="checkbox" name="attr_showweaponnotes" title="Need more Space?">
                        <div class="checkboxticker weaponunticked"></div>
                        <div class="checkboxticker weaponticked">X</div>
                        <div class="weaponnoteswrapper">
                            <textarea name="attr_weaponnotes" title="Have more Space!"></textarea>
                        </div>
                    </div>
                    <div class="ammolabels hide-rep">
                        <div class="ammonamewrapper">
                            <label class="ammolabel">Ammo Name</label>
                        </div>
                        <div class="ammonumberwrapper">
                            <label class="ammolabel">Rounds</label>
                        </div>
                        <div class="ammomaxwrapper">
                            <label class="ammolabel">Max</label>
                        </div>
                        <div class="ammoaccwrapper">
                            <label class="ammolabel">Mod</label>
                        </div>
                        <div class="ammodvwrapper">
                            <label class="ammolabel">Mod</label>
                        </div>
                        <div class="ammodmgtypewrapper">
                            <label class="ammolabel">Damage Type</label>
                        </div>
                        <div class="ammoapwrapper">
                            <label class="ammolabel">Mod</label>
                        </div>
                        <div class="ammodescriptionwrapper">
                            <label class="ammolabel">Description</label>
                        </div>
                    </div>
                    <div class="ammofieldset hide-rep">
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname0" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber0" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber0" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc0" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv0" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype0">
                                    <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap0" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription0" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc0})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap0})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv0})]]}}{{after1dmg=@{prefix-ammodmgtype0}}}{{after2=Simple: @{prefix-ammoname0} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname0} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription0}}}"></button>
                            </div>
                        </div>
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname1" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber1" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber1" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc1" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv1" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype1">
                                    <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap1" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription1" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc1})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap1})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv1})]]}}{{after1dmg=@{prefix-ammodmgtype1}}}{{after2=Simple: @{prefix-ammoname1} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname1} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription1}}}"></button>
                            </div>
                        </div>
                        <div class="ammorow">
                            <div class="ammonamewrapper">
                                <input type="text" name="attr_ammoname2" title="Name of the Ammunition">
                            </div>
                            <div class="ammonumberwrapper">
                                <input type="number" name="attr_ammonumber2" title="How many still left in the Clip/Drum/etc">
                            </div>
                            <div class="ammomaxwrapper">
                                <input type="number" name="attr_ammomaxnumber2" title="Maximum Capacity of the Clip/Drum/etc">
                            </div>
                            <div class="ammoaccwrapper">
                                <input type="text" name="attr_ammoacc2" value="0" title="Accuracy change from the Ammunition">
                            </div>
                            <div class="ammodvwrapper">
                                <input type="text" name="attr_ammodv2" value="0" title="DV change from the Ammunition">
                            </div>
                            <div class="ammodmgtypewrapper">
                                <select name="attr_ammodmgtype2">
                                    <option value="@{weapondmgtype}" selected="selected">Weapon</option>
                                    <option value="P">Physical</option>
                                    <option value="S">Stun</option>
                                    <option value="S(e)">Stun (electric)</option>
                                    <option value="Sp">Special</option>
                                </select>
                            </div>
                            <div class="ammoapwrapper">
                                <input type="text" name="attr_ammoap2" value="0" title="AP change from the Ammunition">
                            </div>
                            <div class="ammodescriptionwrapper">
                                <input type="text" name="attr_ammodescription2" title="Additional Description">
                            </div>
                            <div class="ammorollwrapper">
                                <button type="action" class="ammoroll" name="act_rollammo" title="Fire the Weapon with this Ammunition" value="@{gmroll}&{template:shadowrun}{{name=@{character_name}}}{{roll_name=an Attack with @{prefix-weaponname}}}{{val1=Agility}}{{val1_num=[[@{agi_total}]]}}{{val2=@{prefix-weaponskillname}}}{{val2_num=[[@{prefix-weaponcategory}+@{prefix-weaponbonus}+@{prefix-weaponspec}-(@{agi_total})]]}}{{val3=Recoil Compensation}}{{val3_num=[[@{prefix-weaponrc}+ceil((@{str_total})/3)+1]]}}{{mod_num=[[?{Situational Modifiers|0}]]}}{{edge=@{edgeroll}}}{{edge_num=[[@{edg_total}]]}}{{wounds_num=[[@{wound_total}]]}}{{sustainedspells=[[@{sustainedspells}*2]]}}{{limit=Accuracy}}{{limit_num=[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]}}{{result=[[(@{prefix-weapondice}+?{Situational Modifiers|0}-[[@{wound_total}]]-[[@{sustainedspells}*2]]+[[@{edgn}*@{edg_total}]])@{standardroll}@{edgeroll}kh[[@{prefix-weaponaccuracy}+(@{prefix-ammoacc2})]]]]}}{{after1=AP([[@{prefix-weaponap}+(@{prefix-ammoap2})]]) ~ DV}}{{after1_num=[[@{prefix-weapondv}+(@{prefix-ammodv2})]]}}{{after1dmg=@{prefix-ammodmgtype2}}}{{after2=Simple: @{prefix-ammoname2} Rounds}}{{after2_num=[[@{prefix-weaponmode}-floor(@{prefix-weaponmode}/10)*10]]}}{{after3=Complex: @{prefix-ammoname2} Rounds}}{{after3_num=[[floor(@{prefix-weaponmode}/10)]]}}{{description=@{prefix-ammodescription2}}}"></button>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
    <div class="contentSocial">
        <div class="contacts">
            <h2>Contacts</h2>
            <div class="contactsrow">
                <div class="contactnamewrapper">
                    <label class="warelabel">Name</label>
                </div>
                <div class="contacttypewrapper">
                    <label class="warelabel">Type</label>
                </div>
                <div class="contacttypewrapper">
                    <label class="warelabel">Location</label>
                </div>
                <div class="contactconnectionwrapper">
                    <label class="warelabel">Connection</label>
                </div>
                <div class="contactloyaltywrapper">
                    <label class="warelabel">Loyality</label>
                </div>
            </div>
            <fieldset class="repeating_contacts">
                <details>
                    <summary class="contactsrow">
                        <div class="contactnamewrapper">
                            <input type="text" name="attr_contactname" title="Name of the Contact">
                        </div>
                        <div class="contacttypewrapper">
                            <input type="text" name="attr_contactdescription" title="Type of the Contact">
                        </div>
                        <div class="contacttypewrapper">
                            <input type="text" name="attr_contactlocation" title="Where the Contact is located">
                        </div>
                        <div class="contactconnectionwrapper">
                            <input type="text" name="attr_contactconnection" title="Connection of the Contact">
                        </div>
                        <div class="contactloyaltywrapper">
                            <input type="text" name="attr_contactloyalty" title="Loyalty of the Contact">
                        </div>
                    </summary>
                    <textarea name="attr_contactnotes" title="Have more Space!"></textarea>
                </details>
            </fieldset>
        </div>
        <div class="contacts">
            <h2>SINs + Lifestyle</h2>
            <div class="contactsrow">
                <div class="contactnamewrapper">
                    <label class="warelabel">SIN Name</label>
                </div>
                <div class="contactconnectionwrapper">
                    <label class="warelabel">Rating</label>
                </div>
                <div class="contacttypewrapper">
                    <label class="warelabel">Lifestyle</label>
                </div>
                <div class="contactloyaltywrapper">
                    <label class="warelabel">Cost</label>
                </div>
            </div>
            <fieldset class="repeating_sins">
                <details>
                    <summary class="contactsrow">
                        <div class="contactnamewrapper">
                            <input type="text" name="attr_sinname" title="Name of the fake SIN">
                        </div>
                        <div class="contactconnectionwrapper">
                            <input type="text" name="attr_sinrating" title="Rating of the fake SIN">
                        </div>
                        <div class="contacttypewrapper">
                            <select name="attr_lifestyle" title="Lifestyle linked to the fake SIN">
                                <option>None</option>
                                <option>Bolt Hole</option>
                                <option>Street</option>
                                <option>Squatter</option>
                                <option>Low</option>
                                <option>Medium</option>
                                <option>High</option>
                                <option>Luxury</option>
                                <option>Traveler</option>
                                <option>Commercial</option>
                                <option>Hospitalized</option>
                                <option>Other</option>
                            </select>
                        </div>
                        <div class="contactloyaltywrapper">
                            <input type="text" name="attr_lifestylecost" value="0" title="Cost of the Lifestyle">
                        </div>
                    </summary>
                    <textarea name="attr_sinnotes" title="Have more Space!"></textarea>
                </details>
            </fieldset>
        </div>
        <div class="contacts">
            <h2>Fellow runners</h2>
            <div class="contactsrow">
                <div class="contactnamewrapper">
                    <label class="warelabel">Name</label>
                </div>
                <div class="contacttypewrapper">
                    <label class="warelabel">Role</label>
                </div>
            </div>
            <fieldset class="repeating_runners">
                <details>
                    <summary class="contactsrow">
                        <div class="contactnamewrapper">
                            <input type="text" name="attr_contactname" title="Name of the Contact">
                        </div>
                        <div class="contacttypewrapper">
                            <input type="text" name="attr_contactdescription" title="Type of the Contact">
                        </div>
                    </summary>
                    <textarea name="attr_contactnotes" title="Have more Space!"></textarea>
                </details>
            </fieldset>
        </div>
    </div>
    <div class="contentCharacter">
        <div class="charinfo">
            <h2>Character Information</h2>
            <div class="charinforow">
                <div class="charnamewrapper">
                    <label>Name</label>
                </div>
                <div class="charmetawrapper">
                    <label>Metatype</label>
                </div>
                <div class="charsexwrapper">
                    <label>Sex</label>
                </div>
                <div class="charagewrapper">
                    <label>Age</label>
                </div>
                <div class="charheightwrapper">
                    <label>Height</label>
                </div>
                <div class="charweightwrapper">
                    <label>Weight</label>
                </div>
                <div class="charweightwrapper">
                    <label>Player</label>
                </div>
            </div>
            <div class="charinforow">
                <div class="charnamewrapper">
                    <input type="text" name="attr_character_name" title="Name of your Character">
                </div>
                <div class="charmetawrapper">
                    <input type="text" name="attr_metatype" title="Metatype of your Character">
                </div>
                <div class="charsexwrapper">
                    <input type="text" name="attr_sex" title="Sex of your Character">
                </div>
                <div class="charagewrapper">
                    <input type="text" name="attr_age" title="Age of your Character">
                </div>
                <div class="charheightwrapper">
                    <input type="text" name="attr_height" title="Height of your Character">
                </div>
                <div class="charweightwrapper">
                    <input type="text" name="attr_weight" title="Weight of your Character">
                </div>
                <div class="charplayerwrapper">
                    <input type="text" name="attr_player" title="Your Name. The real one.">
                </div>
            </div>
            <div class="charinforow">
                <div class="charkarmawrapper">
                    <label>Current Karma</label>
                </div>
                <div class="charkarmacareerwrapper">
                    <label>Career Karma</label>
                </div>
                <div class="charnotorietywrapper">
                    <label>Notoriety</label>
                </div>
                <div class="charpawarenesswrapper">
                    <label>Public Awareness</label>
                </div>
                <div class="charstreetcredwrapper">
                    <label>Street Cred</label>
                </div>
            </div>
            <div class="charinforow">
                <div class="charkarmawrapper">
                    <input type="text" name="attr_karma" title="Current Karma of your Character">
                </div>
                <div class="charkarmacareerwrapper">
                    <input type="text" name="attr_karmacareer" title="Career Karma of your Character">
                </div>
                <div class="charnotorietywrapper">
                    <input type="text" name="attr_notoriety" title="Notoriety of your Character">
                </div>
                <div class="charpawarenesswrapper">
                    <input type="text" name="attr_pawareness" title="Public Awareness of your Character">
                </div>
                <div class="charstreetcredwrapper">
                    <input type="text" name="attr_streetcred" title="Street Cred of your Character">
                </div>
            </div>
            <div class="charinforow">
                <div class="charbackgroundwrapper">
                    <label>Background</label>
                </div>
                <div class="chardescriptionwrapper">
                    <label>Description</label>
                </div>
                <div class="charnoteswrapper">
                    <label>Notes</label>
                </div>
            </div>
            <div class="charinforow">
                <div class="charbackgroundwrapper chartextsize">
                    <textarea name="attr_background"></textarea>
                </div>
                <div class="chardescriptionwrapper chartextsize">
                    <textarea name="attr_description"></textarea>
                </div>
                <div class="charnoteswrapper chartextsize">
                    <textarea name="attr_notes"></textarea>
                </div>
            </div>
        </div>
        <div class="settings">
            <h3>Settings</h3>
            <br>

            <details>
                <summary class="settings-caption" >Character specific settings</summary>
                <label for="isTechnomancer" class="settings-checkbox" title='Is your Character a Technomancer?'>
                    <input id="isTechnomancer" name="attr_istechnomancer" type="checkbox" />
                    <span>Technomancer</span>
                </label>
                <label for="isMage" class="settings-checkbox" title='Is your Character a Mage?'>
                    <input id="isMage" name="attr_ismage" type="checkbox" checked />
                    <span>Mage</span>
                </label>
                <label for="isCritter" class="settings-checkbox" title='Is your Character a Critter?'>
                    <input id="isCritter" name="attr_iscritter" type="checkbox" />
                    <span>Critter</span>
                </label>
            </details>

            <details>
                <summary class="settings-caption" >Wound Calculation Modifier</summary>
                <div>
                    <div class="woundsmodrow">
                        <div><label>Single Box</label></div>
                        <div><label>Multiplier</label></div>
                        <div><label>Empty Overfl</label></div>
                        <div><label>Empty Phys</label></div>
                        <div><label>Empty Stun</label></div>
                    </div>
                    <div class="woundsmodrow">
                        <div><input type="text" name="attr_woundadditive" value="0" title="Ignores that many Boxes of Damage on both Tracks before calculating the Woundpenalty like the High Pain Tolerance Quality"></div>
                        <div><input type="text" name="attr_woundmultiplikative" value="3" title="Modifies the Multiplier of how many Boxes of Damage before incuring another Penalty like the Low Pain Tolerance Quality"></div>
                        <div><input type="text" name="attr_overflowmod" value="0" title="Additional empty Overflow Boxes like the Will To Live Quality"></div>
                        <div><input type="text" name="attr_physicaltrackmod" value="0" title="Additional empty Damage Boxes for the physical Track"></div>
                        <div><input type="text" name="attr_stuntrackmod" value="0" title="Additional empty Damage Boxes for the stun Track"></div>
                    </div>
                </div>
            </details>

            <details>
                <summary class="settings-caption" >Defense settings</summary>
                <details class="sub-settings">
                    <summary class="settings-caption">Melee</summary>
                    <div style="display: flex">
                        <label for="showBlock" class="settings-checkbox">
                            <input id="showBlock" name="attr_showBlock" type="checkbox"/>
                            <span>Show Block</span>
                        </label>
                        <label for="showCounterstrike" class="settings-checkbox">
                            <input id="showCounterstrike" name="attr_showCounterstrike" type="checkbox"/>
                            <span>Show Counterstrike</span>
                        </label>
                        <label for="showParry" class="settings-checkbox">
                            <input id="showParry" name="attr_showParry" type="checkbox"/>
                            <span>Show Parry</span>
                        </label>
                        <label for="showRiposte" class="settings-checkbox">
                            <input id="showRiposte" name="attr_showRiposte" type="checkbox"/>
                            <span>Show Riposte</span>
                        </label>
                    </div>

                    <input type="hidden" class="counterstrikeToggle"  name="attr_showCounterstrike"/>
                    <div class="settings-counterstrike" >
                        <label for="counterstrikeDamage">
                            <span>Counterstrike Damage</span>
                            <input id="counterstrikeDamage" type="number" title="Damage" name="attr_counterstrikeDamage" value="0">
                        </label>
                        <label for="counterstrikeAp">
                            <span>Counterstrike AP</span>
                            <input id="counterstrikeAp" type="number" title="AP" name="attr_counterstrikeAp" value="0">
                        </label>
                        <label>
                            <span>Counterstrike Damage Type</span>
                            <select class="setting-select" name="attr_counterstrikeWeaponDmgtype" title="Select the Damage Type done by this Weapon">
                                <option value="P" selected>Physical</option>
                                <option value="S">Stun</option>
                                <option value="S(e)">Stun (electric)</option>
                            </select>
                        </label>
                    </div>

                    <input type="hidden" class="parryToggle"  name="attr_showParry"/>
                    <div class="settings-parry">
                        <label for="parrySkill">
                            <span>Parry Skill</span>
                            <select id="parrySkill" name="attr_parrySkill" title="Skill to use" class="setting-select">
                                <option value="45" selected>Blades</option>
                                <option value="46">Clubs</option>
                            </select>
                        </label>
                        <label for="parryAccuracy">
                            <span>Parry Accuracy</span>
                            <input id="parryAccuracy" type="number" title="Accuracy" name="attr_parryAccuracy" value="0">
                        </label>
                    </div>

                    <input type="hidden" class="riposteToggle"  name="attr_showRiposte"/>
                    <div class="settings-riposte" title="Riposte uses Parry Settings">
                        <label for="riposteDamage">
                            <span>Riposte Damage</span>
                            <input id="riposteDamage" type="number" title="Damage" name="attr_riposteDamage" value="0">
                        </label>
                        <label for="riposteAp">
                            <span>Riposte AP</span>
                            <input id="riposteAp" type="number" title="AP" name="attr_riposteAp" value="0">
                        </label>
                        <label>
                            <span>Riposte Damage Type</span>
                            <select class="setting-select" name="attr_riposteWeaponDmgtype" title="Select the Damage Type done by this Weapon">
                                <option value="P" selected>Physical</option>
                                <option value="S">Stun</option>
                                <option value="S(e)">Stun (electric)</option>
                            </select>
                        </label>
                    </div>
                </details>
            </details>
        </div>
        <div class="chummerimport">
            <h2>Chummer Import</h2>
            <div class="chummertextfield">
                <textarea name="attr_chummertext"></textarea>
            </div>
            <div class="importbuttons">
                <input class="warningcheckbox" type="checkbox" name="attr_warningcheckbox">
                <div class="warninguncheckedwrapper">
                    <label class="warningunchecked">Import</label>
                </div>
                <div class="warningcheckedwrapper">
                    <label class="warningchecked">Cancel</label>
                </div>
                <input class="chummercheckbox" type="checkbox" name="attr_chummercheckbox">
                <div class="warningcheckedwrapper">
                    <label class="warningchecked">I Accept</label>
                </div>
                <div class="warningtext">This will override everything</div>
                <div class="waitingtext">Please Wait!</div>
            </div>
        </div>
        <div class="experimental">
            <label>
                <input class="experimental-checkbox" type="checkbox" name="attr_experimental">
                Enable experimental imports (currently none)
            </label>
            <label>
                <input class="experimental-checkbox" type="checkbox" name="attr_nightly">
                Enable additional imports which use Chummer nightly only features (currently none)
            </label>
        </div>
        <div class="experimental">
            <span>Currently vehicles and matrix actions have no glitch detection!</span>
        </div>
    </div>



    <div class="hiddentextfield"><input type="text" name="attr_wound_total" value="{floor((@{stunwoundstaken}-@{woundadditive})/@{woundmultiplikative}),0}kh1+{floor((@{physicalwoundstaken}-@{woundadditive})/@{woundmultiplikative}),0}kh1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_stuntrack_max" value="(8+ceil((@{wil_total})/2)+@{stuntrackmod})"></div>
    <div class="hiddentextfield"><input type="text" name="attr_stuntrack" value="0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_physicaltrack_max" value="(8+ceil((@{bod_total})/2)+@{physicaltrackmod})"></div>
    <div class="hiddentextfield"><input type="text" name="attr_physicaltrack" value="0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_res_total" value="@{mag_base}+@{mag_aug}"></div>
    <div class="hiddentextfield"><input type="text" name="attr_bod_name" value="Body"></div>
    <div class="hiddentextfield"><input type="text" name="attr_str_name" value="Strength"></div>
    <div class="hiddentextfield"><input type="text" name="attr_agi_name" value="Agility"></div>
    <div class="hiddentextfield"><input type="text" name="attr_rea_name" value="Reaction"></div>
    <div class="hiddentextfield"><input type="text" name="attr_log_name" value="Logic"></div>
    <div class="hiddentextfield"><input type="text" name="attr_int_name" value="Intuition"></div>
    <div class="hiddentextfield"><input type="text" name="attr_cha_name" value="Charisma"></div>
    <div class="hiddentextfield"><input type="text" name="attr_wil_name" value="Willpower"></div>
    <div class="hiddentextfield"><input type="text" name="attr_mag_name" value="Magic"></div>
    <div class="hiddentextfield"><input type="text" name="attr_res_name" value="Resonance"></div>
    <div class="hiddentextfield"><input type="text" name="attr_edg_name" value="Edge"></div>
    <div class="hiddentextfield"><input type="text" name="attr_ess_name" value="Essence"></div>
    <div class="hiddentextfield"><input type="text" name="attr_vehiclehand_name" value="Handling"></div>
    <div class="hiddentextfield"><input type="text" name="attr_vehiclespeed_name" value="Speed"></div>
    <div class="hiddentextfield"><input type="text" name="attr_vehiclesens_name" value="Sensor"></div>
    <div class="hiddentextfield"><input type="text" name="attr_attack_name" value="Attack"></div>
    <div class="hiddentextfield"><input type="text" name="attr_sleaze_name" value="Sleaze"></div>
    <div class="hiddentextfield"><input type="text" name="attr_datap_name" value="Data Processing"></div>
    <div class="hiddentextfield"><input type="text" name="attr_firewall_name" value="Firewall"></div>
    <div class="hiddentextfield"><input type="text" name="attr_highest_name" value="Deck Attribute"></div>
    <div class="hiddentextfield"><input type="text" name="attr_highest_total" value="{@{attack_total},@{sleaze_total},@{datap_total},@{firewall_total}}kh1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_summoning_name" value="Summoning"></div>
    <div class="hiddentextfield"><input type="text" name="attr_binding_name" value="Binding"></div>
    <div class="hiddentextfield"><input type="text" name="attr_sorcery_name" value="Sorcery"></div>
    <div class="hiddentextfield"><input type="text" name="attr_alchemy_name" value="Alchemy"></div>
    <div class="hiddentextfield"><input type="text" name="attr_ritual_name" value="Ritual Casting"></div>
    <div class="hiddentextfield"><input type="text" name="attr_compiling_name" value="Compiling"></div>
    <div class="hiddentextfield"><input type="text" name="attr_registering_name" value="Registering"></div>
    <div class="hiddentextfield"><input type="text" name="attr_software_name" value="Software"></div>
    <div class="hiddentextfield"><input type="text" name="attr_academic_name" value="Logic"></div>
    <div class="hiddentextfield"><input type="text" name="attr_interest_name" value="Intuition"></div>
    <div class="hiddentextfield"><input type="text" name="attr_language_name" value="Intuition"></div>
    <div class="hiddentextfield"><input type="text" name="attr_professional_name" value="Logic"></div>
    <div class="hiddentextfield"><input type="text" name="attr_street_name" value="Intuition"></div>
    <div class="hiddentextfield"><input type="text" name="attr_academic_total" value="@{log_total}"></div>
    <div class="hiddentextfield"><input type="text" name="attr_interest_total" value="@{int_total}"></div>
    <div class="hiddentextfield"><input type="text" name="attr_language_total" value="@{int_total}"></div>
    <div class="hiddentextfield"><input type="text" name="attr_professional_total" value="@{log_total}"></div>
    <div class="hiddentextfield"><input type="text" name="attr_street_total" value="@{int_total}"></div>
    <div class="hiddentextfield"><input type="text" name="attr_ally_name" value="Ally Spirit"></div>
    <div class="hiddentextfield"><input type="text" name="attr_ally_bod" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_ally_agi" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_ally_rea" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_ally_str" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_ally_wil" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_ally_log" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_ally_int" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_ally_cha" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_earth_name" value="Spirit of Earth"></div>
    <div class="hiddentextfield"><input type="text" name="attr_earth_bod" value="+4"></div>
    <div class="hiddentextfield"><input type="text" name="attr_earth_agi" value="-2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_earth_rea" value="-1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_earth_str" value="+4"></div>
    <div class="hiddentextfield"><input type="text" name="attr_earth_wil" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_earth_log" value="-1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_earth_int" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_earth_cha" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_air_name" value="Spirit of Air"></div>
    <div class="hiddentextfield"><input type="text" name="attr_air_bod" value="-2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_air_agi" value="+3"></div>
    <div class="hiddentextfield"><input type="text" name="attr_air_rea" value="+4"></div>
    <div class="hiddentextfield"><input type="text" name="attr_air_str" value="-3"></div>
    <div class="hiddentextfield"><input type="text" name="attr_air_wil" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_air_log" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_air_int" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_air_cha" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_beast_name" value="Spirit of Beast"></div>
    <div class="hiddentextfield"><input type="text" name="attr_beast_bod" value="+2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_beast_agi" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_beast_rea" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_beast_str" value="+2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_beast_wil" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_beast_log" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_beast_int" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_beast_cha" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_fire_name" value="Spirit of Fire"></div>
    <div class="hiddentextfield"><input type="text" name="attr_fire_bod" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_fire_agi" value="+2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_fire_rea" value="+3"></div>
    <div class="hiddentextfield"><input type="text" name="attr_fire_str" value="-2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_fire_wil" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_fire_log" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_fire_int" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_fire_cha" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_man_name" value="Spirit of Man"></div>
    <div class="hiddentextfield"><input type="text" name="attr_man_bod" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_man_agi" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_man_rea" value="+2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_man_str" value="-2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_man_wil" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_man_log" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_man_int" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_man_cha" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_water_name" value="Spirit of Water"></div>
    <div class="hiddentextfield"><input type="text" name="attr_water_bod" value="-1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_water_agi" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_water_rea" value="+2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_water_str" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_water_wil" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_water_log" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_water_int" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_water_cha" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_guardian_name" value="Guardian-Spirit"></div>
    <div class="hiddentextfield"><input type="text" name="attr_guardian_bod" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_guardian_agi" value="+2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_guardian_rea" value="+3"></div>
    <div class="hiddentextfield"><input type="text" name="attr_guardian_str" value="+2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_guardian_wil" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_guardian_log" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_guardian_int" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_guardian_cha" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_guidance_name" value="Guidance-Spirit"></div>
    <div class="hiddentextfield"><input type="text" name="attr_guidance_bod" value="+3"></div>
    <div class="hiddentextfield"><input type="text" name="attr_guidance_agi" value="-1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_guidance_rea" value="+2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_guidance_str" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_guidance_wil" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_guidance_log" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_guidance_int" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_guidance_cha" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_plant_name" value="Plant-Spirit"></div>
    <div class="hiddentextfield"><input type="text" name="attr_plant_bod" value="+2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_plant_agi" value="-1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_plant_rea" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_plant_str" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_plant_wil" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_plant_log" value="-1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_plant_int" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_plant_cha" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_task_name" value="Task-Spirit"></div>
    <div class="hiddentextfield"><input type="text" name="attr_task_bod" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_task_agi" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_task_rea" value="+2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_task_str" value="+2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_task_wil" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_task_log" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_task_int" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_task_cha" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_courier_name" value="Courier Sprite"></div>
    <div class="hiddentextfield"><input type="text" name="attr_courier_attack" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_courier_sleaze" value="+3"></div>
    <div class="hiddentextfield"><input type="text" name="attr_courier_datap" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_courier_firewall" value="+2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_crack_name" value="Crack Sprite"></div>
    <div class="hiddentextfield"><input type="text" name="attr_crack_attack" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_crack_sleaze" value="+3"></div>
    <div class="hiddentextfield"><input type="text" name="attr_crack_datap" value="+2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_crack_firewall" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_data_name" value="Data Sprite"></div>
    <div class="hiddentextfield"><input type="text" name="attr_data_attack" value="-1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_data_sleaze" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_data_datap" value="+4"></div>
    <div class="hiddentextfield"><input type="text" name="attr_data_firewall" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_fault_name" value="Fault Sprite"></div>
    <div class="hiddentextfield"><input type="text" name="attr_fault_attack" value="+3"></div>
    <div class="hiddentextfield"><input type="text" name="attr_fault_sleaze" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_fault_datap" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_fault_firewall" value="+2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_machine_name" value="Machine Sprite"></div>
    <div class="hiddentextfield"><input type="text" name="attr_machine_attack" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_machine_sleaze" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_machine_datap" value="+3"></div>
    <div class="hiddentextfield"><input type="text" name="attr_machine_firewall" value="+2"></div>
    <div class="hiddentextfield"><input type="text" name="attr_companion_name" value="Companion Sprite"></div>
    <div class="hiddentextfield"><input type="text" name="attr_companion_attack" value="-1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_companion_sleaze" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_companion_datap" value="-0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_companion_firewall" value="+4"></div>
    <div class="hiddentextfield"><input type="text" name="attr_generalist_name" value="Generalist Sprite"></div>
    <div class="hiddentextfield"><input type="text" name="attr_generalist_attack" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_generalist_sleaze" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_generalist_datap" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_generalist_firewall" value="+1"></div>
    <div class="hiddentextfield"><input type="text" name="attr_initialisation" value="0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_edgn" value="0"></div>
    <div class="hiddentextfield"><input type="text" name="attr_standardroll" value="d6cs>5>5sd"></div>
    <div class="hiddentextfield"><input type="text" name="attr_prefix" value="@{"></div>


    <!--     Buttons used for reaction rolls-->
    <div class="hidden-section" style="display:none">
        <button type="action" name="act_rollextended"></button>
        <button type="action" name="act_reactdefend"></button>
        <button type="action" name="act_reactdodge"></button>

        <button type="action" name="act_reactmelee"></button>
        <button type="action" name="act_reactparry"></button>
        <button type="action" name="act_reactriposte"></button>
        <button type="action" name="act_reactblock"></button>
        <button type="action" name="act_reactcounterstrike"></button>

        <button type="action" name="act_reactsoak"></button>
        <button type="action" name="act_reroll"></button>
    </div>

</div>



<script type="text/worker">

const buttonlist = ["main", "skills", "magic", "critter", "technomancy", "enhancements", "matrix", "vehicles", "equipment", "social", "character"];
buttonlist.forEach(button => {
	on(`clicked:${button}`, function() {
		setAttrs({
			sheetTab: button
		});
	});
});

on("sheet:opened", function() {
    var names=[];
    for(var i=1; i<77; i++)
    {
        var name='skillspec'+i;
        names[i-1]=name;
    }
    getAttrs(names, function(values) {
        for(var prop in values)
        {
            if(values[prop]=="0")
            {
                values[prop]="none";
            }
        }
        values.warningcheckbox=0;
        values.chummercheckbox=0;
        values.chummertext="In Chummer make sure to mark your character as created with a created character go to File->Export->Export JSON copy the file and paste it into this textfield overriding this text click import and accept. The import supports characters exported from the latest stable. If you find bugs, please report them at https://github.com/Roll20/roll20-character-sheets/issues"+
        "\n\n" +
        "For HeroLab (experimental, not everything will import, you can provide data for unsupported characters via bug report) you have to:\n1) Save your HeroLab Character Sheet as an XML file \n2) Go to https://www.convertjson.com/xml-to-json.htm\n3) Upload your XML file\n4) Download result" +
        "\n\nThe importer only deletes data that it imports.";
        values.experimental=0;
        values.nightly=0;
    setAttrs(values);
    });

    migrateComplexforms();
});

async function migrateComplexforms() {
    let migrationDone = await asw.getAttrs(["complexformsMigration102022"]);
    if(migrationDone.complexformsMigration102022){
        return;
    }

    var attributes={};
    let idarray = await asw.getSectionIDs("spells");
    for (var i=0; i < idarray.length; i++) {
        let repeatingValues = await asw.getAttrs([
            "repeating_spells_" + idarray[i] + "_spellname" ,
            "repeating_spells_" + idarray[i] + "_spelltype",
            "repeating_spells_" + idarray[i] + "_spellcategory",
            "repeating_spells_" + idarray[i] + "_spellrange",
            "repeating_spells_" + idarray[i] + "_spellduration",
            "repeating_spells_" + idarray[i] + "_spelldrain",
            "repeating_spells_" + idarray[i] + "_spelldescription",
            "repeating_spells_" + idarray[i] + "_spellbonus"]);

        var newrowid = generateRowID();
        var attributePrefix =  "repeating_spells_" + idarray[i];
        attributes["repeating_complexforms_"+newrowid+"_spellname"] = repeatingValues[attributePrefix + "_spellname"];
        attributes["repeating_complexforms_"+newrowid+"_spelltype"] = repeatingValues[attributePrefix + "_spelltype"];
        attributes["repeating_complexforms_"+newrowid+"_spellschool"] = "@{skilldicepool42}";
        attributes["repeating_complexforms_"+newrowid+"_spellcategory"] = repeatingValues[attributePrefix + "_spellcategory"];
        attributes["repeating_complexforms_"+newrowid+"_spellrange"] = repeatingValues[attributePrefix + "_spellrange"];
        attributes["repeating_complexforms_"+newrowid+"_spellduration"] = repeatingValues[attributePrefix + "_spellduration"];
        attributes["repeating_complexforms_"+newrowid+"_spelldrain"] = repeatingValues[attributePrefix + "_spelldrain"];
        attributes["repeating_complexforms_"+newrowid+"_spelldescription"] = repeatingValues[attributePrefix + "_spelldescription"];
        attributes["repeating_complexforms_"+newrowid+"_spellbonus"] = repeatingValues[attributePrefix + "_spellbonus"];
    }


    attributes["complexformsMigration102022"] = true;
    await asw.setAttrs(attributes);
}

on("sheet:opened", (eventInfo) => {
	getAttrs(['character_name'], (v) => {
		set_display_name(v.character_name);
	});
});

on("change:character_name", (eventInfo) => {
	set_display_name(eventInfo.newValue);
});

var set_display_name = (name) => {
	character_name = name.replace(/\(/g, '\[').replace(/\)/g, '\]').replace(/\"/g, '\'');
	setAttrs({
		character_name: character_name
	});
};

on("change:chummercheckbox", async function(){
    let text = await asw.getAttrs(["chummertext","chummercheckbox", "experimental", "nightly"]);

    if(text.chummercheckbox=="on"){
        var goodcode = true;
        var error="";
        var attributes={};

        try {
            var file=JSON.parse(text.chummertext);
        } catch(err){
            goodcode = false;
            error = err;
        }

        if(goodcode){
            if(file.public != undefined) {
                 attributes = await importHeroLabChar(attributes, JSON.parse(text.chummertext.replaceAll('@','')), text)
            }
            else {
                attributes = await importChummerChar(attributes, file, text)
            }

            try{
                setAttrs(attributes);
            }catch(err){
                setAttrs({
                    chummertext:"Error setting Attributes: " + err,
                    chummercheckbox:"0",
                    warningcheckbox:"0"
                });
            }
        }else{
            setAttrs({
                chummertext:"Error invalid Structure: " + error,
                chummercheckbox:"0",
                warningcheckbox:"0"
            });
        }
    }
});

async function importChummerChar(attributes, chummerfile, text) {

    let character = chummerfile.characters.character;
    var maintab = importMainTabChummer(character);
    var skilltab = importSkillsTabChummer(text.experimental, character);
    var magictab = importMagicTabChummer(text.experimental, character);
    var enhancementtab = importEnhancementTabChummer(text, character);
    var matrixtab = importMatrixTabChummer(text.experimental, character);
    var vehiclestab = importVehiclesTabChummer(text.experimental, character);
    var equipmentstab = importEquipmentTabChummer(text.experimental, character);
    var socialtab = importSocialTabChummer(character);

    let results = await Promise.all([maintab, skilltab, enhancementtab, socialtab]);
    let dependingResults = await Promise.all([magictab, matrixtab, vehiclestab, equipmentstab]);

    attributes.warningcheckbox = "0";
    attributes.chummercheckbox = "0";
    attributes.chummertext = results.join("") + dependingResults.join("") + "\nREMEMBER THIS IS ONLY A HELP AND YOU NEED TO DOUBLE CHECK EVERYTHING."

    return attributes;
}

async function importMainTabChummer(character) {

    var goodcode = true;
    var error = "";
    var attributes = {};


    try{
        console.log("Character meta info");
        if(character.alias != null)
            attributes.character_name = character.alias;

        if(character.metatype != null)
            attributes.metatype=character.metatype;

        if(character.sex != null)
            attributes.sex=character.sex;

        if(character.age != null)
            attributes.age=character.age;

        if(character.height != null)
            attributes.height=character.height;

        if(character.weight != null)
            attributes.weight=character.weight;
        if(character.playername != null)
            attributes.player=character.playername;
        if(character.description != null)
            attributes.description=character.description;
        if(character.background != null)
            attributes.background=character.background;
        if(character.notes != null)
            attributes.notes=character.notes;
        if(character.gamenotes != null)
            attributes.generalnotes=character.gamenotes;
        if(character.karma != null)
            attributes.karma=character.karma;
        if(character.totalkarma != null)
            attributes.karmacareer=character.totalkarma;
        if(character.initbonus != null){
            attributes.initiativebonus = character.initbonus;
            attributes.astralinitiativebonus = character.initbonus;
            attributes.matrixinitiativebonus = character.initbonus;
        }
        if(character.initdice != null)
            attributes.initiativedice = character.initdice;
        if(character.astralinitdice != null)
            attributes.astralinitiativedice = character.astralinitdice;
        if(character.cmthresholdoffset != null)
            attributes.woundadditive = character.cmthresholdoffset;
        if(character.cmthreshold != null)
            attributes.woundmultiplikative = character.cmthreshold;
        if(character.cmoverflow != null)
            attributes.overflowmod = character.cmoverflow-character.attributes[1].attribute[0].total- 1;
        if(character.physicalcm != null)
            attributes.physicaltrackmod = character.physicalcm-Math.ceil(character.attributes[1].attribute[0].total/2)- 8;
        if(character.stuncm != null)
            attributes.stuntrackmod = character.stuncm-Math.ceil(character.attributes[1].attribute[7].total/2)- 8;
        if(character.totalstreetcred != null)
            attributes.streetcred = character.totalstreetcred;
        if(character.totalnotoriety != null)
            attributes.notoriety = character.totalnotoriety;
        if(character.totalpublicawareness != null)
            attributes.pawareness = character.totalpublicawareness;
        if(character.nuyen != null)
            attributes.nuyen_total = character.nuyen;
        if(character.magician == "True"){
            // HeroLab 'chummer' export uses drainattribute property and a list, this is a workaround for that
            try{
              attributes.drainattribute="@{"+character.tradition.drainattributes.match(/[A-Z]+/g)[1].toLowerCase()+"_total}";
            } catch(err)
            {
              attributes.drainattribute="@{"+character.tradition.drainattribute.attr[1]+"_total}";
            }
        }
         if(character.critter == "True"){
              attributes.iscritter= 'on';
        }

    }catch(err){
        goodcode = false;
        error = "Error with Character Info " + err;
    }

    try{
        console.log("Importing Attributes");
        var attributesChummer = character.attributes[1].attribute;
        attributes.bod_base = attributesChummer.find(a => a.name_english === "BOD").base;
        attributes.agi_base = attributesChummer.find(a => a.name_english === "AGI").base;
        attributes.rea_base = attributesChummer.find(a => a.name_english === "REA").base;
        attributes.str_base = attributesChummer.find(a => a.name_english === "STR").base;
        attributes.cha_base = attributesChummer.find(a => a.name_english === "CHA").base;
        attributes.int_base = attributesChummer.find(a => a.name_english === "INT").base;
        attributes.log_base = attributesChummer.find(a => a.name_english === "LOG").base;
        attributes.wil_base = attributesChummer.find(a => a.name_english === "WIL").base;
        attributes.edg_total = attributesChummer.find(a => a.name_english === "EDG").base;

        attributes.mag_base = 0;
        attributes.istechnomancer = 0;
        attributes.ismage = 0;
        if(attributesChummer.find(a => a.name_english === "RES") != null ){
            attributes.mag_base = attributesChummer.find(a => a.name_english === "RES").total;
            attributes.istechnomancer = 'on';
        }
        else if(attributesChummer.find(a => a.name_english === "MAG") != null ){
            attributes.mag_base = attributesChummer.find(a => a.name_english === "MAG").total;
            attributes.ismage = 'on';
        }
        attributes.bod_aug = attributesChummer.find(a => a.name_english === "BOD").total-attributesChummer.find(a => a.name_english === "BOD").base;
        attributes.agi_aug = attributesChummer.find(a => a.name_english === "AGI").total-attributesChummer.find(a => a.name_english === "AGI").base;
        attributes.rea_aug = attributesChummer.find(a => a.name_english === "REA").total-attributesChummer.find(a => a.name_english === "REA").base;
        attributes.str_aug = attributesChummer.find(a => a.name_english === "STR").total-attributesChummer.find(a => a.name_english === "STR").base;
        attributes.cha_aug = attributesChummer.find(a => a.name_english === "CHA").total-attributesChummer.find(a => a.name_english === "CHA").base;
        attributes.int_aug = attributesChummer.find(a => a.name_english === "INT").total-attributesChummer.find(a => a.name_english === "INT").base;
        attributes.log_aug = attributesChummer.find(a => a.name_english === "LOG").total-attributesChummer.find(a => a.name_english === "LOG").base;
        attributes.wil_aug = attributesChummer.find(a => a.name_english === "WIL").total-attributesChummer.find(a => a.name_english === "WIL").base;
    }catch(err){
        goodcode=false;
        error= error + "\n" + "Error with Attributes " +err
    }

    if(goodcode){
        try{
            setAttrs(attributes);
            return "Main Tab import successfull\n";
        } catch(err){
            return "Error setting Attributes: " + err;
        }
    } else{
        return error;
    }
}

async function importSkillsTabChummer(experimental, character) {

    var goodcode = true;
    var error = "";
    var attributes = {};

    var index=[];
    for(var i=1;i<73;i++)
    {
        var name='skillname'+i;
        index[i-1]=name;
    }

    var names = await asw.getAttrs(index);
    var exotics=73;
    try{
        console.log("Importing Skills");
        for(var i=0;i<character.skills.skill.length;i++){
            if(character.skills.skill[i].knowledge=="True"){
                var newrowid = generateRowID();
                attributes["repeating_knowledge_"+newrowid+"_knowledgename"]=character.skills.skill[i].name;
                if(character.skills.skill[i].skillcategory_english!=null){
                  attributes["repeating_knowledge_"+newrowid+"_knowledgeattr"]="@{"+character.skills.skill[i].skillcategory_english.toLowerCase();
                }
                if(character.skills.skill[i].rating > 0){
                    attributes["repeating_knowledge_"+newrowid+"_knowledgerating"] = character.skills.skill[i].rating;
                    attributes["repeating_knowledge_"+newrowid+"_knowledgebonus"] = character.skills.skill[i].total-character.skills.skill[i].rating-character.skills.skill[i].attributemod;
                }else{
                    attributes["repeating_knowledge_"+newrowid+"_knowledgerating"] = "-1";
                    attributes["repeating_knowledge_"+newrowid+"_knowledgebonus"] = character.skills.skill[i].total-character.skills.skill[i].rating-character.skills.skill[i].attributemod+1;
                }
                if(character.skills.skill[i].spec != null) {
                    attributes["repeating_knowledge_"+newrowid+"_knowledgespec"] = character.skills.skill[i].spec;
                }
                else
                    attributes["repeating_knowledge_"+newrowid+"_knowledgespec"] = "none";
            }

            if(character.skills.skill[i].exotic=="True"){
                attributes["skillname"+exotics]=character.skills.skill[i].name_english;
                if(character.skills.skill[i].rating>0){
                    attributes["skillbonus"+exotics]=character.skills.skill[i].total-character.skills.skill[i].rating-character.skills.skill[i].attributemod;
                    attributes["skillrating"+exotics]=character.skills.skill[i].rating;
                }else{
                    attributes["skillrating"+exotics]="-1";
                    attributes["skillbonus"+exotics]=character.skills.skill[i].total-character.skills.skill[i].rating-character.skills.skill[i].attributemod+1;
                }
                attributes["skillattr"+exotics]="@{"+character.skills.skill[i].attribute.toLowerCase();

                if(character.skills.skill[i].spec != null)
                    attributes["skillspec"+exotics] = character.skills.skill[i].spec;
                else
                    attributes["skillspec"+exotics]="none";
                exotics++;
            }

            for(var j=1;j<73;j++){
                var compname='skillname'+j;
                if((names[compname]==character.skills.skill[i].name_english)||(character.skills.skill[i].name_english=="Locksmith"&&j==29)||(character.skills.skill[i].name_english=="Pilot Ground Craft"&&j==55)){
                    attributes["skillattr"+j]="@{"+character.skills.skill[i].attribute.toLowerCase();
                    if(character.skills.skill[i].rating>0){
                        attributes["skillrating"+j]=character.skills.skill[i].rating;
                        attributes["skillbonus"+j]=character.skills.skill[i].total-character.skills.skill[i].rating-character.skills.skill[i].attributemod;
                    }else{
                        attributes["skillrating"+j]="-1";
                        attributes["skillbonus"+j]=character.skills.skill[i].total-character.skills.skill[i].rating-character.skills.skill[i].attributemod+1;
                    }

                    if(character.skills.skill[i].spec != null) {
                        attributes["skillspec"+j] = character.skills.skill[i].spec;
                    }
                    else {
                        attributes["skillspec"+j]="none";
                    }
                }
            }
        }
    }catch(err){
        goodcode=false;
        error= error + "\n" + "Error with Skills: "+ err;
    }

    if(goodcode){
        try{
            clearSkills(experimental);
            setAttrs(attributes);
            return "Skill Tab import successfull\n";
        } catch(err){
            return "Error setting Attributes: " + err;
        }
    } else{
        return error;
    }
}

async function importMagicTabChummer(experimental, character) {

    var goodcode = true;
    var error = "";
    var attributes = {};

    try{

        var alchemy = 0;
        var spellcasting = 0;
        var ritual = 0;

         for(var i=0; i <character.skills.skill.length;i++){
            if(character.skills.skill[i].name_english=="Alchemy"){
                alchemy=i;
            }
            if(character.skills.skill[i].name_english=="Spellcasting"){
                spellcasting=i;
            }
            if(character.skills.skill[i].name_english=="Ritual Spellcasting"){
                ritual=i;
            }
        }

        if(character.spells != null){
            console.log("Importing spells");
            var spellcastingSkill = character.skills.skill[spellcasting].total;
            var ritualSkill = character.skills.skill[ritual].total;
            var alchemySkill = character.skills.skill[alchemy].total;

            if(character.spells.spell.length > 1){
                for(var i=0; i < character.spells.spell.length; i++){
                    await importSingleSpell(character.spells.spell[i], attributes, spellcastingSkill, ritualSkill, alchemySkill);
                }
            }else{
                await importSingleSpell(character.spells.spell, attributes, spellcastingSkill, ritualSkill, alchemySkill);
            }
        }
    }catch(err){
        goodcode=false;
        error= error + "\n" + "Error with Spells: " + err;
    }

    try{
        if(character.complexforms != null){
            console.log("Importing complexforms");
            if(character.complexforms.complexform.length>1){
                for(var i=0; i<character.complexforms.complexform.length; i++){
                    var newrowid=generateRowID();
                    attributes["repeating_complexforms_"+newrowid+"_spellname"]=character.complexforms.complexform[i].name;
                    attributes["repeating_complexforms_"+newrowid+"_spellschool"]="@{skilldicepool42}";
                    attributes["repeating_complexforms_"+newrowid+"_spellduration"]=character.complexforms.complexform[i].duration;
                    if(character.complexforms.complexform[i].fv.match(/(\-|\+)\d/)!=null){
                        attributes["repeating_complexforms_"+newrowid+"_spelldrain"]=character.complexforms.complexform[i].fv.match(/(\-|\+)\d/);
                    }else{
                        attributes["repeating_complexforms_"+newrowid+"_spelldrain"]="-0";
                    }
                }
            }else{
                var newrowid=generateRowID();
                attributes["repeating_complexforms_"+newrowid+"_spellname"]=character.complexforms.complexform.name;
                attributes["repeating_complexforms_"+newrowid+"_spellschool"]="@{skilldicepool42}";
                attributes["repeating_complexforms_"+newrowid+"_spellduration"]=character.complexforms.complexform.duration;
                if(character.complexforms.complexform.fv.match(/(\-|\+)\d/)!=null)
                    attributes["repeating_complexforms_"+newrowid+"_spelldrain"]=character.complexforms.complexform.fv.match(/(\-|\+)\d/);
                else
                    attributes["repeating_complexforms_"+newrowid+"_spelldrain"]="-0";
            }
        }
    }catch(err){
        goodcode=false;
        error= error + "\n" + "Error with Complex-Forms " +err
    }

    try{
        if(character.critterpowers != null){
            console.log("Importing critter powers");
            if(character.critterpowers.critterpower.length > 1){
                for(var i=0; i < character.critterpowers.critterpower.length; i++){
                    var newrowid=generateRowID();
                    attributes["repeating_critterpowers_"+newrowid+"_spellname"]=character.critterpowers.critterpower[i].fullname;
                    attributes["repeating_critterpowers_"+newrowid+"_spelltype"]=character.critterpowers.critterpower[i].type;
                    if(character.critterpowers.critterpower[i].notes != null){
                        attributes["repeating_critterpowers_"+newrowid+"_spelldescription"] = character.critterpowers.critterpower[i].notes;
                    }
                    attributes["repeating_critterpowers_"+newrowid+"_spelldrain"]="-0";

                    attributes["repeating_critterpowers_"+newrowid+"_spellcategory"] = character.critterpowers.critterpower[i].category;
                    attributes["repeating_critterpowers_"+newrowid+"_spellbonus"]=0;

                    if(character.critterpowers.critterpower[i].range != null){
                        attributes["repeating_critterpowers_"+newrowid+"_spellrange"]=character.critterpowers.critterpower[i].range;
                    } else {
                        attributes["repeating_critterpowers_"+newrowid+"_spellrange"]="N/A";
                    }

                    if(character.critterpowers.critterpower[i].duration != null) {
                        attributes["repeating_critterpowers_"+newrowid+"_spellduration"] = character.critterpowers.critterpower[i].duration;
                    } else {
                        attributes["repeating_critterpowers_"+newrowid+"_spellduration"] = "N/A";
                    }

                }
            }else{
                var newrowid=generateRowID();
                attributes["repeating_critterpowers_"+newrowid+"_spellname"]=character.critterpowers.critterpower.fullname;
                attributes["repeating_critterpowers_"+newrowid+"_spelltype"]=character.critterpowers.critterpower.type;
                if(character.critterpowers.critterpower.notes!=null){
                        attributes["repeating_critterpowers_"+newrowid+"_spelldescription"]=character.critterpowers.critterpower.notes;
                    }
                attributes["repeating_critterpowers_"+newrowid+"_spelldrain"]="-0";
                attributes["repeating_critterpowers_"+newrowid+"_spellcategory"]=character.critterpowers.critterpower.category;
                attributes["repeating_critterpowers_"+newrowid+"_spellbonus"]=0;

                if(character.critterpowers.critterpower.range != null){
                    attributes["repeating_critterpowers_"+newrowid+"_spellrange"]=character.critterpowers.critterpower.range;
                } else {
                    attributes["repeating_critterpowers_"+newrowid+"_spellrange"]="N/A";
                }

                if(character.critterpowers.critterpower.duration != null) {
                    attributes["repeating_critterpowers_"+newrowid+"_spellduration"]=character.critterpowers.critterpower.duration;
                } else {
                    attributes["repeating_critterpowers_"+newrowid+"_spellduration"]="N/A";
                }
            }
        }
    }catch(err){
        goodcode=false;
        error= error + "\n" + "Error with Critterpowers: " + err;
    }

    try{
        if(character.initiategrade != null && character.initiategrade != 0) {
            console.log("Importing initiategrade and metamagic");
            attributes.initiationgrade = character.initiategrade;
            if(character.metamagics != null){
                if(character.metamagics.metamagic.length>1){
                    for(var i=0;i<character.metamagics.metamagic.length;i++){
                        var newrowid=generateRowID();
                        attributes["repeating_initiation_"+newrowid+"_metamagicname"]=character.metamagics.metamagic[i].name;
                        if(character.metamagics.metamagic[i].notes != null) {
                            attributes["repeating_initiation_"+newrowid+"_metamagicdescription"]=character.metamagics.metamagic[i].notes
                        }
                    }
                } else {
                    var newrowid=generateRowID();
                    attributes["repeating_initiation_"+newrowid+"_metamagicname"]=character.metamagics.metamagic.name;
                    if(character.metamagics.metamagic.notes != null) {
                            attributes["repeating_initiation_"+newrowid+"_metamagicdescription"]=character.metamagics.metamagic.notes
                        }
                }
            }
        }
    }catch(err){
        goodcode=false;
        error= error + "\n" + "Error with Initiations " +err
    }

    if(goodcode){
        try{
            clearMagic(experimental);
            setAttrs(attributes);
            return "Magic Tab import successfull\n";
        } catch(err){
            return "Error setting Attributes: " + err;
        }
    } else{
        return error;
    }
}

async function importEnhancementTabChummer(text, character) {

    var goodcode = true;
    var error = "";
    var attributes = {};

    try{
        if(character.qualities != null){
            console.log("Importing qualities");
            if(character.qualities.quality.length>1){
                for(var i=0;i<character.qualities.quality.length;i++){
                    var newrowid=generateRowID();
                    if(character.qualities.quality[i].qualitytype_english == "Negative")
                    {
                        attributes["repeating_negqualities_"+newrowid+"_negqualityname"]=character.qualities.quality[i].name;

                        if(character.qualities.quality[i].extra != null) {
                            attributes["repeating_negqualities_"+newrowid+"_negqualitydescription"]=character.qualities.quality[i].extra;
                        }

                        attributes["repeating_negqualities_"+newrowid+"_negqualitykarma"]=character.qualities.quality[i].bp;

                        if(character.qualities.quality[i].notes != null) {
                            attributes["repeating_negqualities_"+newrowid+"_negqualnotes"]=character.qualities.quality[i].notes;
                        }
                        else {
                            attributes["repeating_negqualities_"+newrowid+"_negqualnotes"]="";
                        }
                    }
                    else
                    {
                        attributes["repeating_posqualities_"+newrowid+"_posqualityname"]=character.qualities.quality[i].name;
                        if(character.qualities.quality[i].extra != null) {
                            attributes["repeating_posqualities_"+newrowid+"_posqualitydescription"]=character.qualities.quality[i].extra;
                        }
                        attributes["repeating_posqualities_"+newrowid+"_posqualitykarma"]=character.qualities.quality[i].bp;
                        if(character.qualities.quality[i].notes != null) {
                            attributes["repeating_posqualities_"+newrowid+"_posqualnotes"]=character.qualities.quality[i].notes;
                        }
                        else {
                            attributes["repeating_posqualities_"+newrowid+"_posqualnotes"]="";
                        }
                    }
                }
            }else if(character.qualities.quality != null){
                var newrowid=generateRowID();
                if(character.qualities.quality.qualitytype_english=="Negative")
                {
                    attributes["repeating_negqualities_"+newrowid+"_negqualityname"]=character.qualities.quality.name;
                    if(character.qualities.quality.extra != null) {
                        attributes["repeating_negqualities_"+newrowid+"_negqualitydescription"]=character.qualities.quality.extra;
                    }
                    attributes["repeating_negqualities_"+newrowid+"_negqualitykarma"]=character.qualities.quality.bp;
                    if(character.qualities.quality.notes != null) {
                        attributes["repeating_negqualities_"+newrowid+"_negqualnotes"]=character.qualities.quality.notes;
                    }
                }
                else
                {
                    attributes["repeating_posqualities_"+newrowid+"_posqualityname"] = character.qualities.quality.name;
                    if(character.qualities.quality.extra != null) {
                        attributes["repeating_posqualities_"+newrowid+"_posqualitydescription"] = character.qualities.quality.extra;
                    }
                    attributes["repeating_posqualities_"+newrowid+"_posqualitykarma"] = character.qualities.quality.bp;
                    if(character.qualities.quality.notes != null) {
                       attributes["repeating_posqualities_"+newrowid+"_posqualnotes"] = character.qualities.quality.notes;
                    }
                }
            }
        }
    }catch(err){
        goodcode=false;
        error= error + "\n" + "Error with Qualities " +err
    }

    try{
        if(character.powers != null){
            console.log("Importing Adept Powers");
            if(character.powers.power.length>1){
                for(var i=0;i<character.powers.power.length;i++){
                    var newrowid=generateRowID();
                    attributes["repeating_powers_"+newrowid+"_poweryname"]=character.powers.power[i].name;
                    attributes["repeating_powers_"+newrowid+"_powerdescription"]=character.powers.power[i].rating;
                    attributes["repeating_powers_"+newrowid+"_powerpoints"]=character.powers.power[i].totalpoints;
                    if(character.powers.power[i].notes != null) {
                        attributes["repeating_powers_"+newrowid+"_powernotes"]=character.powers.power[i].notes;
                    }

                }
            }else{
                var newrowid=generateRowID();
                attributes["repeating_powers_"+newrowid+"_poweryname"]=character.powers.power.name;
                attributes["repeating_powers_"+newrowid+"_powerdescription"]=character.powers.power.rating;
                attributes["repeating_powers_"+newrowid+"_powerpoints"]=character.powers.power.totalpoints;
                if(character.powers.power.notes != null) {
                        attributes["repeating_powers_"+newrowid+"_powernotes"]=character.powers.power.notes;
                    }
            }
        }
    }catch(err){
        goodcode=false;
        error="Error with Powers " +err
    }

    try{
        var essence=0.0;
        if(character.cyberwares != null){
            console.log("Importing Cyberware");
            if(character.cyberwares.cyberware.length > 1){
                for(var i=0; i< character.cyberwares.cyberware.length; i++){
                    var newrowid=generateRowID();
                    attributes["repeating_ware_"+newrowid+"_warename"]=character.cyberwares.cyberware[i].name;
                    attributes["repeating_ware_"+newrowid+"_waredescription"]=character.cyberwares.cyberware[i].rating;
                    attributes["repeating_ware_"+newrowid+"_waregrade"]=character.cyberwares.cyberware[i].grade;
                    attributes["repeating_ware_"+newrowid+"_warekarma"]=character.cyberwares.cyberware[i].ess;
                    essence += Number(character.cyberwares.cyberware[i].ess.replace(",","."));
                }
            }else{
                var newrowid=generateRowID();
                attributes["repeating_ware_"+newrowid+"_warename"]=character.cyberwares.cyberware.name;
                attributes["repeating_ware_"+newrowid+"_waredescription"]=character.cyberwares.cyberware.rating;
                attributes["repeating_ware_"+newrowid+"_waregrade"]=character.cyberwares.cyberware.grade;
                attributes["repeating_ware_"+newrowid+"_warekarma"]=character.cyberwares.cyberware.ess;
                essence+=Number(character.cyberwares.cyberware.ess.replace(",","."));
            }
        }
        attributes.ess_total=6-essence;
    }catch(err){
        goodcode=false;
        error= error + "\n" + "Error with Ware " +err
    }

    try{
        if(character.martialarts != null){
            console.log("Importing martialarts");
            if(character.martialarts.martialart.length>1){
                for(var i=0;i<character.martialarts.martialart.length;i++){
                    if(character.martialarts.martialart[i].martialarttechniques != null){
                        if(character.martialarts.martialart[i].martialarttechniques.length > 1){
                            for(var j=0; j < character.martialarts.martialart[i].martialarttechniques.length; j++){
                                var newrowid=generateRowID();
                                attributes["repeating_martial_"+newrowid+"_martialname"] = character.martialarts.martialart[i].martialarttechniques.martialarttechnique[j].name;
                                attributes["repeating_martial_"+newrowid+"_martialdescription"] = character.martialarts.martialart[i].name;
                                if(character.martialarts.martialart[i].martialarttechniques.martialarttechnique[j].notes != undefined) {
                                    attributes["repeating_martial_"+newrowid+"_martialnotes"] = character.martialarts.martialart[i].martialarttechniques.martialarttechnique[j].notes;
                                }
                            }
                        }else{
                            console.log(character.martialarts.martialart[i]);
                            var newrowid=generateRowID();
                            attributes["repeating_martial_"+newrowid+"_martialname"]=character.martialarts.martialart[i].martialarttechniques.martialarttechnique.name;
                            attributes["repeating_martial_"+newrowid+"_martialdescription"]=character.martialarts.martialart[i].name;
                            if(character.martialarts.martialart[i].martialarttechniques.martialarttechnique.notes != undefined) {
                                attributes["repeating_martial_"+newrowid+"_martialnotes"] = character.martialarts.martialart[i].martialarttechniques.martialarttechnique.notes;
                            }
                        }
                    }
                }
            }else{
                if(character.martialarts.martialart.martialarttechniques != null){
                    if(character.martialarts.martialart.martialarttechniques.martialarttechnique.length>1){
                        for(var j=0;j<character.martialarts.martialart.martialarttechniques.martialarttechnique.length;j++){
                            var newrowid=generateRowID();
                            attributes["repeating_martial_"+newrowid+"_martialname"]=character.martialarts.martialart.martialarttechniques.martialarttechnique[j].name;
                            attributes["repeating_martial_"+newrowid+"_martialdescription"]=character.martialarts.martialart.name;
                            if(character.martialarts.martialart.martialarttechniques.martialarttechnique[j].notes != undefined) {
                                attributes["repeating_martial_"+newrowid+"_martialnotes"] = character.martialarts.martialart.martialarttechniques.martialarttechnique[j].notes;
                            }
                        }
                    }else{
                        var newrowid=generateRowID();
                        attributes["repeating_martial_"+newrowid+"_martialname"]=character.martialarts.martialart.martialarttechniques.martialarttechnique.name;
                        attributes["repeating_martial_"+newrowid+"_martialdescription"]=character.martialarts.martialart.name;
                        if(character.martialarts.martialart.martialarttechniques.martialarttechnique.notes != undefined) {
                            attributes["repeating_martial_"+newrowid+"_martialnotes"] = character.martialarts.martialart.martialarttechniques.martialarttechnique.notes;
                        }
                    }
                }
            }
        }
    }catch(err){
        goodcode=false;
        error= error + "\n" + "Error with Martial Arts " +err
    }

    if(goodcode){
        try{
            clearEnhancements(text.experimental);
            setAttrs(attributes);
            return "Enhancement Tab import successfull\n";
        } catch(err){
            return "Error setting Attributes: " + err;
        }
    } else{
        return error;
    }
}

async function importMatrixTabChummer(experimental, character) {

    var goodcode = true;
    var error = "";
    var attributes = {};

    try{
       if(character.gears != null){
            console.log("Importing Cyberdeck");
            let decks = character.gears.gear.filter(gear => gear.category_english == "Cyberdecks" || gear.category_english == "Rigger Command Consoles").sort((g1,g2) => g1.devicerating < g2.devicerating);
            if(decks.length > 0) {
                cyberdeck = decks[0];
                attributes.attack_base = cyberdeck.attack;
                attributes.sleaze_base = cyberdeck.sleaze;
                attributes.datap_base = cyberdeck.dataprocessing;
                attributes.firewall_base = cyberdeck.firewall;
                attributes.devicertg_base = cyberdeck.devicerating;
            }
            else {
                let commlinks = character.gears.gear.filter(gear => gear.category_english == "Commlinks").sort((g1,g2) => g1.devicerating < g2.devicerating);
                if(commlinks.length > 0) {
                    link = commlinks[0];
                    attributes.attack_base = link.attack;
                    attributes.sleaze_base = link.sleaze;
                    attributes.datap_base = link.dataprocessing;
                    attributes.firewall_base = link.firewall;
                    attributes.devicertg_base = link.devicerating;
                }
            }
        }
    }catch(err){
       goodcode=false;
       error= error + "\n" + "Error with Cyberdeck: " + err;
    }

    try {
        if(character.aiprograms != null){
            console.log("Importing ai programs");
            if(character.aiprograms.aiprogram.length > 1){
                for(var i=0; i < character.aiprograms.aiprogram.length; i++){
                    var newrowid=generateRowID();
                    attributes["repeating_programs_"+newrowid+"_programname"]=character.aiprograms.aiprogram[i].name;
                }
            }
            else {
                var newrowid=generateRowID();
                attributes["repeating_programs_"+newrowid+"_programname"] = character.aiprograms.aiprogram.name;
            }
        }
    }catch(err){
           goodcode=false;
           error= error + "\n" + "Error with AI programs " +err
    }

    try{
        if(character.gears != null){
            console.log("Importing programs");
            if(character.gears.gear.length>1){
                for(var i=0;i<character.gears.gear.length;i++){
                    var newrowid=generateRowID();
                    if((character.gears.gear[i].category_english == "Common Programs")||(character.gears.gear[i].category_english == "Hacking Programs")){
                        attributes["repeating_programs_"+newrowid+"_programname"]=character.gears.gear[i].name;
                    } else {
                        if(character.gears.gear[i].name != null){
                            if(character.gears.gear[i].children != null){
                                if(character.gears.gear[i].children.gear.length > 1){
                                    for(var j=0; j<character.gears.gear[i].children.gear.length; j++){
                                        if(character.gears.gear[i].children.gear[j].category_english == "Common Programs"||character.gears.gear[i].children.gear[j].category_english == "Hacking Programs"){
                                            var newrowidb=generateRowID();
                                            attributes["repeating_programs_"+newrowidb+"_programname"] = character.gears.gear[i].children.gear[j].name;
                                        }
                                    }
                                } else{
                                    if(character.gears.gear[i].children.gear.category_english  ==  "Common Programs"||character.gears.gear[i].children.gear.category_english == "Hacking Programs"){
                                        var newrowidb=generateRowID();
                                        attributes["repeating_programs_"+newrowidb+"_programname"]=character.gears.gear[i].children.gear.name;
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }catch(err){
        goodcode = false;
        error= error + "\n" + "Error with Gear " +err
    }

    if(goodcode){
        try{
            clearMatrix(experimental);
            setAttrs(attributes);
            return "Matrix Tab import successfull\n";
        } catch(err){
            return "Error setting Attributes: " + err;
        }
    } else{
        return error;
    }
}

async function importVehiclesTabChummer(experimental, character) {

    var goodcode = true;
    var error = "";
    var attributes = {};

    try{
        if(character.vehicles != null){
            console.log("Importing vehicles");
            if(character.vehicles.vehicle.length > 1){
                let vehicles = character.vehicles.vehicle.filter( vehicle => vehicle.seats > 0);
                for(var i=0; i < vehicles.length; i++){
                    importSingleVehicle(vehicles[i], attributes);
                }
            } else {
                if(character.vehicles.vehicle.seats > 0) {
                    importSingleVehicle(character.vehicles.vehicle, attributes);
                }
            }
        }
    }catch(err){
        goodcode=false;
        error= error + "\n" + "Error with Vehicles: " + err;
    }

    try{
        if(character.vehicles != null){
            console.log("Importing drones");
            if(character.vehicles.vehicle.length > 1){
                let drones = character.vehicles.vehicle.filter( vehicle => vehicle.seats == 0);
                for(var i=0; i < drones.length; i++){
                    importSingleDrone(drones[i], attributes);
                }
            } else {
                if(character.vehicles.vehicle.seats == 0) {
                    importSingleDrone(character.vehicles.vehicle, attributes);
                }
            }
        }
    }catch(err){
        goodcode=false;
        error= error + "\n" + "Error with Vehicles: " + err;
    }

    if(goodcode){
        try{
            clearVehicles(experimental);
            setAttrs(attributes);
            return "Vehicles Tab import successfull\n";
        } catch(err){
            return "Error setting Attributes: " + err;
        }
    } else{
        return error;
    }
}

async function importEquipmentTabChummer(experimental, character) {

    var goodcode = true;
    var error = "";
    var attributes = {};

    if(character.armors != null){
        console.log("Importing armors");
        if(character.armors.armor.length > 1){
            character.armors.armor.forEach(async(armor) => {
                try{
                    importSingleArmor(armor, attributes);
                }catch(err){
                    goodcode = false;
                    error= error + "\n" + "Error with Armor " + armor.name + ": " + err
                }
            })
        }else{
            try{
                importSingleArmor(character.armors.armor, attributes);
            }catch(err){
                goodcode = false;
                error= error + "\n" + "Error with Armor " + character.armors.armor.name + ": " + err
            }
        }
    }

    if(character.cyberwares != null){
        console.log("Importing Cyberware Armor");
        if(character.cyberwares.cyberware.length > 1){
            character.cyberwares.cyberware.forEach(cyberware =>  importCyberwareArmor(cyberware, attributes));
        }else{
            importCyberwareArmor(character.cyberwares.cyberware, attributes);
        }
    }

    if(character.otherarmors != null){
        console.log("Importing Other Armors");
        if(character.otherarmors.otherarmor.length > 1){
            character.otherarmors.otherarmor.forEach(armor =>  importOtherArmor(armor, attributes));
        }else{
            importOtherArmor(character.otherarmors.otherarmor, attributes);
        }
    }

    if(character.weapons != null){
        console.log("Importing weapons");
        for(var i=1; i<9; i++){
            attributes["weaponismelee"+i] = "on";
            attributes["weaponname"+i] = "";
            attributes["weaponcategory"+i] = "@{skilldicepool49}";
            attributes["weaponspec"+i] = "0";
            attributes["weaponbonus"+i] = "0";
            attributes["weaponaccuracy"+i] = "0";
            attributes["weapondv"+i] = "0";
            attributes["weapondmgtype"+i] = "P";
            attributes["weaponap"+i] = "0";
            attributes["weaponrc"+i] = "0";
            attributes["weaponmode"+i] = "11";
            attributes["weaponnotes"+i] = "";
        }
        ammunition = [];
        if(character.gears != null) {
            for( var j = 0; j < character.gears.gear.length; j++) {
                if(character.gears.gear[j].category_english.includes("Ammunition") ||
                    character.gears.gear[j].name_english == "Micro Flares"
                ){
                    ammunition.push(character.gears.gear[j]);
                }
            }
        }

        //load agi + str for dice calculation
        let charAttributes = await asw.getAttrs(["agi_base", "agi_aug", "str_base", "str_aug"]);
        attributes = Object.assign(attributes, charAttributes);

        if(character.weapons.weapon.length > 1){
            for(var i=1; i<character.weapons.weapon.length+1; i++){
                try{
                    if(i < 9) {
                        importSingleWeaponChummer(character.weapons.weapon[i-1], i, ammunition, attributes);
                    }
                    await importSingleRepeatingWeapon(character.weapons.weapon[i-1], ammunition, attributes);
                }
                catch(err) {
                    goodcode=false;
                    error= error + "\n" + "Error with Weapon " + character.weapons.weapon[i-1].name + ": " +err
                }
            }
        }else{
            try{
                importSingleWeaponChummer(character.weapons.weapon, 1, ammunition, attributes);
            }
            catch(err) {
                goodcode=false;
                error= error + "\n" + "Error with Weapon " + character.weapons.weapon.name + ": " +err
            }
        }
    }

    try{
        if(character.gears != null){
            console.log("Importing gear");
            if(character.gears.gear.length>1){
                for(var i=0;i<character.gears.gear.length;i++){
                    var newrowid=generateRowID();
                    if((character.gears.gear[i].category_english != "Common Programs")&&(character.gears.gear[i].category_english != "Hacking Programs")){
                        if(character.gears.gear[i].name!=null){
                            name = character.gears.gear[i].name;
                            if(character.gears.gear[i].rating > 0){
                                name += " " + character.gears.gear[i].rating;
                            }
                            attributes["repeating_equipment_"+newrowid+"_equipmentname"]=name;
                            attributes["repeating_equipment_"+newrowid+"_equipmentnumber"]=character.gears.gear[i].qty ? character.gears.gear[i].qty : 1;
                            if(character.gears.gear[i].extra != null) {
                                attributes["repeating_equipment_"+newrowid+"_equipmentdescription"]=character.gears.gear[i].extra;
                            }
                            attributes["repeating_equipment_"+newrowid+"_equipmentnotes"]="";
                            if(character.gears.gear[i].children!=null){
                                if(character.gears.gear[i].children.gear.length>1){
                                    for(var j=0; j<character.gears.gear[i].children.gear.length; j++){
                                        if(character.gears.gear[i].children.gear[j].category_english !="Common Programs" && character.gears.gear[i].children.gear[j].category_english !="Hacking Programs"){
                                            note = character.gears.gear[i].children.gear[j].name;
                                            if(character.gears.gear[i].children.gear[j].rating > 0){
                                                note += " " + character.gears.gear[i].children.gear[j].rating;
                                            }
                                            if(character.gears.gear[i].children.gear[j].extra != null) {
                                                note += " " + character.gears.gear[i].children.gear[j].extra;
                                            }
                                            attributes["repeating_equipment_"+newrowid+"_equipmentnotes"]+= note +"\n";
                                        }
                                    }
                                }else{
                                    if(character.gears.gear[i].children.gear.category_english !="Common Programs" && character.gears.gear[i].children.gear.category_english !="Hacking Programs"){
                                        note = character.gears.gear[i].children.gear.name;
                                        if(character.gears.gear[i].children.gear.rating > 0){
                                            note += " " + character.gears.gear[i].children.gear.rating;
                                        }
                                        if(character.gears.gear[i].children.gear.extra != null) {
                                            note += " " + character.gears.gear[i].children.gear.extra;
                                        }
                                        attributes["repeating_equipment_"+newrowid+"_equipmentnotes"]+= note +"\n";
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }catch(err){
        goodcode=false;
        error= error + "\n" + "Error with Gear " +err
    }

    if(goodcode){
        try{
            clearEquipment(experimental);
            setAttrs(attributes);
            return "Equipment Tab import successfull\n";
        } catch(err){
            return "Error setting Attributes: " + err;
        }
    } else{
        console.log(error);
        return error;
    }
}

async function importSocialTabChummer(character) {

    var goodcode = true;
    var error = "";
    var attributes = {};

    try{
       if(character.contacts != null){
        console.log("Importing Contacts");
        if(character.contacts.contact.length>1){
            for(var i=0; i<character.contacts.contact.length; i++){
                var newrowid=generateRowID();
                if(character.contacts.contact[i].name !== null) {
                     attributes["repeating_contacts_"+newrowid+"_contactname"]=character.contacts.contact[i].name;
                }
                else {
                    attributes["repeating_contacts_"+newrowid+"_contactname"]="";
                }
                if(character.contacts.contact[i].role !== null) {
                    attributes["repeating_contacts_"+newrowid+"_contactdescription"] = character.contacts.contact[i].role;
                }
                if(character.contacts.contact[i].location !== null) {
                    attributes["repeating_contacts_"+newrowid+"_contactlocation"] = character.contacts.contact[i].location;
                }
                attributes["repeating_contacts_"+newrowid+"_contactconnection"] = character.contacts.contact[i].connection;
                attributes["repeating_contacts_"+newrowid+"_contactloyalty"] = character.contacts.contact[i].loyalty;
            }
        }else{
            var newrowid=generateRowID();
            attributes["repeating_contacts_"+newrowid+"_contactname"] = character.contacts.contact.name;
            if(character.contacts.contact.role !== null) {
                attributes["repeating_contacts_"+newrowid+"_contactdescription"] = character.contacts.contact.role;
            }
            if(character.contacts.contact.location !== null) {
                attributes["repeating_contacts_"+newrowid+"_contactlocation"] = character.contacts.contact.location;
            }
            attributes["repeating_contacts_"+newrowid+"_contactconnection"] = character.contacts.contact.connection;
            attributes["repeating_contacts_"+newrowid+"_contactloyalty"] = character.contacts.contact.loyalty;
        }
       }
    }catch(err){
       goodcode=false;
       error= error + "\n" + "Error with Contacts: " + err;
    }

    if(goodcode){
        try{
            clearSocial();
            setAttrs(attributes);
            return "Character Tab import successfull\n";
        } catch(err){
            return "Error setting Attributes: " + err;
        }
    } else{
        return error;
    }
}

async function importSingleWeaponChummer(weapon, number,  ammunition, attributes) {
    if(weapon.type == "Ranged"){
        attributes["weaponismelee"+number] = 0;
        attributes["weaponrc"+number] = weapon.rc.match(/\d+/g).pop()-Math.ceil((parseInt(attributes.str_base) + parseInt(attributes.str_aug))/3)- 1;

        if(weapon.rawdamage.match(/\d+/) !== null && !weapon.rawdamage.includes("STR")) {
            if(weapon.damage_noammo_english != null) {
                attributes["weapondv"+number] = weapon.damage_noammo_english.match(/\d+/)[0];
            }
            else {
                attributes["weapondv"+number] = weapon.rawdamage.match(/\d+/)[0];
            }
        }
        else if(weapon.rawdamage.includes("STR")) {
           attributes["weapondv"+number] = weapon.damage.match(/\d+/)[0];
        }
        else {
            attributes["weapondv"+number] = weapon.damage.match(/\d+/) != null ? weapon.damage.match(/\d+/)[0] : 0;
        }

        attributes["weapondmgtype"+number] = weapon.rawdamage.match(/S\(e\)|S\b|P|Special\b/) != null ? weapon.rawdamage.match(/S\(e\)|S\b|P|Special\b/)[0] : 0;
    }else{
        attributes["weaponismelee"+number] = "on";
        attributes["weaponreach"+number] = weapon.reach;
        attributes["weapondv"+number] = weapon.damage_english.match(/\d+/) != null ? weapon.damage_english.match(/\d+/)[0] : 0;
        attributes["weapondmgtype"+number] = weapon.damage_english.match(/S\(e\)|S\b|P|Special\b/) != null ? weapon.damage_english.match(/S\(e\)|S\b|P|Special\b/)[0] : 0;
    }

    attributes["weaponname"+number] = weapon.name;
    if(weapon.accuracy_noammo != null) {
        attributes["weaponaccuracy"+number] = weapon.accuracy_noammo.match(/\d+/g).pop();
    }
    else {
        attributes["weaponaccuracy"+number] = weapon.accuracy.match(/\d+/g).pop();
    }

    if(isNaN(weapon.ap)){
        attributes["weaponap"+number] = 0;
    }else{
        if(weapon.ap_noammo != null) {
         attributes["weaponap"+number] = weapon.ap_noammo;
        }
        else {
            attributes["weaponap"+number] = weapon.ap;
            if(weapon.rawap != null) {
                attributes["weaponap"+number] = weapon.rawap;
            }
        }
    }
    attributes["weaponnotes"+number] = "";

    let skills = [];
    for(var i=43;i<52;i++)
    {
        var name = 'skillname'+i;
        skills.push(name);
        var rating = 'skillrating'+i;
        skills.push(rating);
        var bonus = 'skillbonus'+i;
        skills.push(bonus);
        var attr = 'skillattr_value'+i;
        skills.push(attr);
    }
    skills = await asw.getAttrs(skills);
    for(var i=43; i<52; i++)
    {
        var compname = 'skillname'+i;
        var rating = 'skillrating'+i;
        var bonus = 'skillbonus'+i;
        var skillattr = 'skillattr_value'+i;

        if(skills[compname] == weapon.skill){
            attributes["weaponcategory" + number] = "@{skilldicepool"+i+"}";
            let attribute = await asw.getAttrs([skillattr]);
            let attrTotal = attribute[skillattr].replace(/[^a-zA-Z0-9_]/g, "");
            let attributeSum = await asw.getAttrs([attrTotal]);
            let targetAttributes = attributeSum[attrTotal].replace(/[+]/g, ",").replace(/[^a-zA-Z0-9_,]/g, "").split(",");
            let attributesValues = [attributes[targetAttributes[0]], attributes[targetAttributes[1]]]
            attributes["weaponbonus" + number] = weapon.dicepool - skills[rating] - skills[bonus] - attributesValues.reduce((a,b) => parseInt(a) + parseInt(b));
        }
    }

    if(typeof weapon.accessories != "undefined"){
        if(weapon.accessories.accessory.length>1){
            for(var j=0; j<weapon.accessories.accessory.length; j++){
                attributes["weaponnotes"+number] += weapon.accessories.accessory[j].name+"\n";
            }
        }else{
            attributes["weaponnotes"+number] += weapon.accessories.accessory.name+"\n";
        }
    }

    if(weapon.clips !== null){
        if(weapon.clips.clip.length>1){
            //make clips unique
            var clips = [...new Map(weapon.clips.clip.slice().reverse().map(v => [v.name, v])).values()].reverse()

            for(var j=0; j < clips.length; j++){

                var newrowid=generateRowID();
                //find ammo to get stats
                ammo = ammunition.find(clip => clip.guid === clips[j].id);
                if(ammo != null) {
                    importRepeatingAmmo(ammo, number, attributes);
                }
            }
        }else{
            var newrowid = generateRowID();
            //find ammo to get stats
            ammo = ammunition.find(clip => clip.guid === weapon.clips.clip.id);

            if(ammo != null) {
                importRepeatingAmmo(ammo, number, attributes);
            }
        }
    }
}

function importRepeatingAmmo(ammunition, number, attributes) {

    var newrowid = generateRowID();

    attributes["repeating_ammotype"+number+"_"+newrowid+"_ammoname"] = ammo.name;

    attributes["repeating_ammotype"+number+"_"+newrowid+"_ammodv"] = ammo.weaponbonusdamage_english != null ? ammo.weaponbonusdamage_english.substring(0,2) : 0;
    if(ammo.weaponbonusdamage_english != null) {
        attributes["repeating_ammotype"+number+"_"+newrowid+"_ammodmgtype"] = ammo.weaponbonusdamage_english.substring(2);
    }

    if(ammo.name_english === "Ammo: Stick-n-Shock") {
        attributes["repeating_ammotype"+number+"_"+newrowid+"_ammoap"] = -5 - attributes["weaponap"+number]
    }
    else {
        attributes["repeating_ammotype"+number+"_"+newrowid+"_ammoap"] = ammo.weaponbonusap != null? ammo.weaponbonusap : 0;
    }

    if(ammo.name_english === "Arrow: Stick-n-Shock w/Static Shaft" || ammo.name_english === "Arrow: Stick-n-Shock") {
        attributes["repeating_ammotype"+number+"_"+newrowid+"_ammoap"] = -5 - attributes["weaponap"+number];
        attributes["repeating_ammotype"+number+"_"+newrowid+"_ammodv"] = ammo.weaponbonusdamage_english.substring(0,2) - attributes["weapondv"+number];
    }

    attributes["repeating_ammotype"+number+"_"+newrowid+"_ammoacc"] = ammo.weaponbonusacc != null ? ammo.weaponbonusacc : 0;
}

function provideRepeatingWeaponRowName(weapon) {

    var weaponrow = "weapons";

    switch(weapon.skill) {
        case "Pistols":
            weaponrow = weapon.skill.replaceAll(' ', '').toLowerCase();
            break;
        case "Automatics":
            weaponrow = weapon.skill.replaceAll(' ', '').toLowerCase();
            break;
        case "Longarms":
            weaponrow = weapon.skill.replaceAll(' ', '').toLowerCase();
            break;
        case "Heavy Weapons":
            weaponrow = weapon.skill.replaceAll(' ', '').toLowerCase();
            break;
        case "Unarmed Combat":
            weaponrow = "closecombat"
            break;
        case "Blades":
            weaponrow = "closecombat"
            break;
        case "Clubs":
            weaponrow = "closecombat"
            break;
    }

    var row = "repeating_" + weaponrow + "_" + generateRowID() + "_";

    return row;
}

async function importSingleRepeatingWeapon(weapon, ammunition, attributes) {
    var row = provideRepeatingWeaponRowName(weapon);
    if(weapon.type == "Ranged"){
        attributes[row + "weaponismelee"] = 0;
        attributes[row + "weaponrc"] = weapon.rc.match(/\d+/g).pop()-Math.ceil((parseInt(attributes.str_base) + parseInt(attributes.str_aug))/3)- 1;
        if(!weapon.rawdamage.includes("STR") && weapon.rawdamage.match(/\d+/) !== null) {
            attributes[row + "weapondv"] = weapon.rawdamage.match(/\d+/)[0];
        }
        else {
            attributes[row + "weapondv"] = weapon.damage.match(/\d+/) != null ? weapon.damage.match(/\d+/)[0] : 0;
        }

        attributes[row + "weapondmgtype"] = weapon.rawdamage.match(/S\(e\)|S\b|P|Special\b/) != null ? weapon.rawdamage.match(/S\(e\)|S\b|P|Special\b/)[0] : 0;
    }else{
        attributes[row + "weaponismelee"] = "on";
        attributes[row + "weaponreach"] = weapon.reach;
        attributes[row + "weapondv"] = weapon.damage_english.match(/\d+/) != null ? weapon.damage_english.match(/\d+/)[0] : 0;
        attributes[row + "weapondmgtype"] = weapon.damage_english.match(/S\(e\)|S\b|P|Special\b/) != null ? weapon.damage_english.match(/S\(e\)|S\b|P|Special\b/)[0] : 0;
    }

    let skills = [];
    for(var i=43;i<52;i++)
    {
        var name = 'skillname'+i;
        skills.push(name);
        var rating = 'skillrating'+i;
        skills.push(rating);
        var bonus = 'skillbonus'+i;
        skills.push(bonus);
        var attr = 'skillattr_value'+i;
        skills.push(attr);
    }
    skills = await asw.getAttrs(skills);
    for(var i=43; i<52; i++)
    {
        var compname = 'skillname'+i;
        var rating = 'skillrating'+i;
        var bonus = 'skillbonus'+i;
        var skillattr = 'skillattr_value'+i;

        if(skills[compname] == weapon.skill){
            attributes[row + "weaponcategory"] = "@{skilldicepool"+i+"}";
            let attribute = await asw.getAttrs([skillattr]);
            let attrTotal = attribute[skillattr].replace(/[^a-zA-Z0-9_]/g, "");
            let attributeSum = await asw.getAttrs([attrTotal]);
            let targetAttributes = attributeSum[attrTotal].replace(/[+]/g, ",").replace(/[^a-zA-Z0-9_,]/g, "").split(",");
            let attributesValues = [attributes[targetAttributes[0]], attributes[targetAttributes[1]]]
            attributes[row + "weaponbonus"] = weapon.dicepool - skills[rating] - skills[bonus] - attributesValues.reduce((a,b) => parseInt(a) + parseInt(b));
        }
    }

    attributes[row + "weaponname"] = weapon.name;
    attributes[row + "weaponaccuracy"] = weapon.accuracy.match(/\d+/g).pop();
    if(weapon.ap == null || isNaN(weapon.ap)){
        attributes[row + "weaponap"] = 0;
    }else{
        attributes[row + "weaponap"] = weapon.ap;
        if(weapon.rawap != null) {
            attributes[row + "weaponap"] = weapon.rawap;
        }
    }
    attributes[row + "weaponnotes"] = "";

    if(typeof weapon.accessories != "undefined"){
        if(weapon.accessories.accessory.length>1){
            for(var j=0; j<weapon.accessories.accessory.length; j++){
                attributes[row + "weaponnotes"] += weapon.accessories.accessory[j].name+"\n";
            }
        }else{
            attributes[row + "weaponnotes"] += weapon.accessories.accessory.name+"\n";
        }
    }

    if(weapon.clips !== null){
        if(weapon.clips.clip.length > 1){
            let amountImported = 0;
            //make clips unique
            var clips = [...new Map(weapon.clips.clip.slice().reverse().map(v => [v.name, v])).values()].reverse()

            for(var j=0; j < clips.length && amountImported < 4; j++){

                var newrowid=generateRowID();
                //find ammo to get stats
                ammo = ammunition.find(clip => clip.guid === clips[j].id);

                if(ammo != null && !ammo.name_english.includes("Regular")) {
                    importRepeatingWeaponAmmo(row, ammo, amountImported, attributes);
                    amountImported++;
                }
            }
        }else{
            var newrowid = generateRowID();
            //find ammo to get stats
            ammo = ammunition.find(clip => clip.guid === weapon.clips.clip.id);

            if(ammo != null) {
                importRepeatingWeaponAmmo(row, ammo, 0, attributes);
            }
        }
    }
}

function importRepeatingWeaponAmmo(row, ammunition, number, attributes) {

    attributes[row + "ammoname"+number] = ammo.name;

    attributes[row + "ammodv" + number] = ammo.weaponbonusdamage_english != null ? ammo.weaponbonusdamage_english.substring(0,2) : 0;
    if(ammo.weaponbonusdamage_english != null) {
         attributes[row + "ammodmgtype" + number] = ammo.weaponbonusdamage_english.substring(2);
    }

    if(ammo.name_english === "Ammo: Stick-n-Shock") {
        attributes[row + "ammoap" + number] = -5 - attributes[row + "weaponap"]
    }
    else {
        attributes[row + "ammoap" + number] = ammo.weaponbonusap != null? ammo.weaponbonusap : 0;
    }

    if(ammo.name_english === "Arrow: Stick-n-Shock w/Static Shaft" || ammo.name_english === "Arrow: Stick-n-Shock") {
        attributes[row + "ammoap" + number] = -5 -  attributes[row + "weaponap"]
        attributes[row + "ammodv" + number] = ammo.weaponbonusdamage_english.substring(0,2) - attributes[row + "weapondv"]
    }

    attributes[row + "ammoacc" + number] = ammo.weaponbonusacc != null ? ammo.weaponbonusacc : 0;
}

async function importSingleArmor(armor, attributes) {

    if(armor.armor.includes("/")) {
        var armorValueArray = armor.armor.toString().split("/");

        var splitArmor = armor;
        splitArmor.armor = armorValueArray[0];
        importSingleArmor(splitArmor, attributes);

        armor.armor = armorValueArray[1];
    }

    var newrowid = generateRowID()
    attributes["repeating_armors_"+newrowid+"_armorname"] = armor.name;
    if(armor.equipped == "True") {
           attributes["repeating_armors_"+newrowid+"_armorworn"] = "on";
    }
    attributes["repeating_armors_"+newrowid+"_armorrating"] = armor.armor;
    attributes["repeating_armors_"+newrowid+"_armornotes"] = "";
    if(armor.armormods!=null){
        if(armor.armormods.armormod.length > 1){
            for(var j=0; j < armor.armormods.armormod.length; j++){
                if(Number(armor.armormods.armormod[j].rating) > 0){
                    attributes["repeating_armors_"+newrowid+"_armornotes"] += armor.armormods.armormod[j].name + " " + armor.armormods.armormod[j].rating + "\n";
                }else{
                    attributes["repeating_armors_"+newrowid+"_armornotes"] += armor.armormods.armormod[j].name + "\n";
                }
            }
        }else{
            if(Number(armor.armormods.armormod.rating)>0){
                attributes["repeating_armors_"+newrowid+"_armornotes"] += armor.armormods.armormod.name + " " + armor.armormods.armormod.rating + "\n";
            }else{
                attributes["repeating_armors_"+newrowid+"_armornotes"] += armor.armormods.armormod.name + "\n";
            }
        }
    }
    if(armor.gears!=null){
        if(armor.gears.gear.length > 1){
            for(var j=0; j < armor.gears.gear.length; j++){
                attributes["repeating_armors_"+newrowid+"_armornotes"] += armor.gears.gear[j].name + "\n";
            }
        }else{
            attributes["repeating_armors_"+newrowid+"_armornotes"] += armor.gears.gear.name + "\n";
        }
    }
}

async function importCyberwareArmor(cyberware, attributes) {

    var cyberwareEnhancements = [];
    if(cyberware.children != null && cyberware.children.cyberware.length > 1) {
        cyberwareEnhancements = cyberware.children.cyberware;
    }

    cyberwareEnhancements.forEach(enhancement => importSingleCyberwareArmor(cyberware.name, enhancement, attributes));
}

function importSingleCyberwareArmor(parentname, cyberware, attributes) {

    if(cyberware.name_english === "Armor") {
        var newrowid = generateRowID()
        attributes["repeating_armors_"+newrowid+"_armorname"] = parentname;
        attributes["repeating_armors_"+newrowid+"_armorworn"] = "on";
        attributes["repeating_armors_"+newrowid+"_armorrating"] = cyberware.rating;
        attributes["repeating_armors_"+newrowid+"_armornotes"] = "";
    }
}

function importOtherArmor(armor, attributes) {
    var newrowid = generateRowID()
    attributes["repeating_armors_"+newrowid+"_armorname"] = armor.objectname;
    attributes["repeating_armors_"+newrowid+"_armorworn"] = "on";
    attributes["repeating_armors_"+newrowid+"_armorrating"] = armor.armor;
    attributes["repeating_armors_"+newrowid+"_armornotes"] = armor.improvesource;
}

async function importSingleSpell(spell, attributes, spellcasting, ritual, alchemy) {
    var category = "spells";
    if(spell.category_english == "Rituals") {
        category = "rituals"
    }
    else if(spell.alchemy == "True"){
        category = "alchemy"
    }

    var row = "repeating_" + category + "_" + generateRowID();

    attributes[row + "_spellname"] = spell.name;
    attributes[row + "_spelltype"] = spell.type;
    attributes[row + "_spellcategory"] = spell.category;

    attributes[row + "_spellrange"] = spell.range;
    attributes[row + "_spellduration"] = spell.duration;

    if(spell.notes != null){
        attributes[row + "_spelldescription"] = spell.notes;
    }

    if(spell.dv.match(/(\-|\+)\d/) != null) {
        attributes[row + "_spelldrain"] = spell.dv.match(/(\-|\+)\d/)[0];
    }
    else {
        attributes[row + "_spelldrain"] = "-0";
    }

    if(spell.category_english == "Rituals"){
        attributes[row + "_spellschool"] = "@{skilldicepool67}";
        attributes[row + "_spelldrain"] = "*2";
        attributes[row + "_spellbonus"] = spell.dicepool - ritual;
    } else {
        attributes[row + "_spellbonus"] = spell.dicepool - spellcasting;
        if(spell.alchemy == "True"){
            attributes[row + "_spellschool"] = "@{skilldicepool58}";
            attributes[row + "_spellbonus"] = spell.dicepool - alchemy;
        }
    }
}

async function importSingleVehicle(vehicle, attributes) {

    var newrowid = generateRowID();
    attributes["repeating_vehicles_"+newrowid+"_vehiclename"]= vehicle.name;
    attributes["repeating_vehicles_"+newrowid+"_vehiclehand"]= vehicle.handling.match(/\d+/).pop();
    attributes["repeating_vehicles_"+newrowid+"_vehiclespeed"]= vehicle.speed.match(/\d+/).pop();
    attributes["repeating_vehicles_"+newrowid+"_vehicleaccl"]= vehicle.accel.match(/\d+/).pop();
    attributes["repeating_vehicles_"+newrowid+"_vehiclepilot"]= vehicle.pilot;
    attributes["repeating_vehicles_"+newrowid+"_vehiclesens"]= vehicle.sensor;
    attributes["repeating_vehicles_"+newrowid+"_vehicleseats"]= vehicle.seats;
    attributes["repeating_vehicles_"+newrowid+"_vehicleprice"]= vehicle.cost;
    attributes["repeating_vehicles_"+newrowid+"_vehiclebody"]= vehicle.body;
    attributes["repeating_vehicles_"+newrowid+"_vehiclearmor"]= vehicle.armor;
    attributes["repeating_vehicles_"+newrowid+"_vehiclenotes"]="";

    if(vehicle.mods != null){
        if(vehicle.mods.mod.length > 1){
            var weaponnumber = 1;
            for(var j = 0; j < vehicle.mods.mod.length; j++){
                weaponnumber = importSingleVehicleMod(vehicle.mods.mod[j], newrowid, attributes, weaponnumber);
            }
        }else{
            attributes["repeating_vehicles_"+newrowid+"_vehiclenotes"] += vehicle.mods.mod.name + "\n";
            importSingleVehicleMod(vehicle.mods.mod, newrowid, attributes, weaponnumber);
        }
    }
}

const importSingleVehicleMod = (mod, newrowid, attributes, weaponnumber) => {
    attributes["repeating_vehicles_" + newrowid + "_vehiclenotes"] += mod.name + "\n";
    if(mod.weapons != null && mod.weapons.weapon != null){
        if(mod.weapons.length > 1){
           return importSingleVehicleWeapon(mod.weapons.weapon[0], newrowid, attributes, weaponnumber);
        }
        else {
           return importSingleVehicleWeapon(mod.weapons.weapon, newrowid, attributes, weaponnumber);
        }
    }
    return weaponnumber;
}

const importSingleVehicleWeapon = (weapon, newrowid, attributes, weaponnumber) => {
    attributes["repeating_vehicles_"+newrowid+"_vehicleweaponname" + weaponnumber] = weapon.name;
    attributes["repeating_vehicles_"+newrowid+"_vehicleweaponaccuracy"+ weaponnumber] = weapon.accuracy.match(/\d+/g).pop();
    if(weapon.type == "Ranged")
        attributes["repeating_vehicles_"+newrowid+"_vehicleweaponrc"+ weaponnumber] = weapon.rc.match(/\d+/g).pop();
    if(Number(weapon.ap) != "NaN"){
        attributes["repeating_vehicles_"+newrowid+"_vehicleweaponap"+ weaponnumber] = weapon.ap;
    }else{
        attributes["repeating_vehicles_"+newrowid+"_vehicleweaponap"+ weaponnumber] = 0;
    }
    attributes["repeating_vehicles_"+newrowid+"_vehicleweapondv"+ weaponnumber] = weapon.damage_english.match(/\d*/).pop();
    attributes["repeating_vehicles_"+newrowid+"_vehicleweapondmgtype"+ weaponnumber] = weapon.damage_english.match(/^\d*/).pop();
    attributes["repeating_vehicles_"+newrowid+"_vehicleweaponnotes"+ weaponnumber] = "";
    if(typeof weapon.accessories != "undefined"){
        if(weapon.accessories.accessory.length > 1){
            for(var h = 0; h < weapon.accessories.accessory.length; h++){
                attributes["repeating_vehicles_"+newrowid+"_vehicleweaponnotes"+ weaponnumber] += weapon.accessories.accessory[h].name+"\n";
            }
        }else{
            attributes["repeating_vehicles_"+newrowid+"_vehicleweaponnotes"+ weaponnumber] += weapon.accessories.accessory.name+"\n";
        }
    }
    return weaponnumber +1;
}

async function importSingleDrone(drone, attributes) {

    var newrowid = generateRowID();
    attributes["repeating_drones_"+newrowid+"_dronename"]= drone.name;
    attributes["repeating_drones_"+newrowid+"_dronehand"]= drone.handling.match(/\d+/).pop();
    attributes["repeating_drones_"+newrowid+"_dronespeed"]= drone.speed.match(/\d+/).pop();
    attributes["repeating_drones_"+newrowid+"_droneaccl"]= drone.accel.match(/\d+/).pop();
    attributes["repeating_drones_"+newrowid+"_dronepilot"]= drone.pilot;
    attributes["repeating_drones_"+newrowid+"_dronesens"]= drone.sensor;
    attributes["repeating_drones_"+newrowid+"_droneprice"]= drone.cost;
    attributes["repeating_drones_"+newrowid+"_dronebody"]= drone.body;
    attributes["repeating_drones_"+newrowid+"_dronearmor"]= drone.armor;
    attributes["repeating_drones_"+newrowid+"_dronenotes"]="";

    if(drone.gears != null) {
        importAutosofts(drone, newrowid, attributes);
    }

    if(drone.mods != null){
        if(drone.mods.mod.length > 1){
            var weaponnumber = 1;
            for(var j = 0; j < drone.mods.mod.length; j++){
                weaponnumber = importSingleDroneMod(drone.mods.mod[j], newrowid, attributes, weaponnumber);
            }
        }else{
            attributes["repeating_drones_"+newrowid+"_dronenotes"] += drone.mods.mod.name + "\n";
            importSingleDroneMod(drone.mods.mod, newrowid, attributes, weaponnumber);
        }
    }
}

const importSingleDroneMod = (mod, newrowid, attributes, weaponnumber) => {
    attributes["repeating_drones_" + newrowid + "_dronenotes"] += mod.name + "\n";

    if(mod.weapons != null && mod.weapons.weapon != null){
        if(mod.weapons.length > 1){
           return importSingleDroneWeapon(mod.weapons.weapon[0], newrowid, attributes, weaponnumber);
        }
        else {
           return importSingleDroneWeapon(mod.weapons.weapon, newrowid, attributes, weaponnumber);
        }
    }
    return weaponnumber;
}

const importSingleDroneWeapon = (weapon, newrowid, attributes, weaponnumber) => {
    attributes["repeating_drones_"+newrowid+"_droneweaponname" + weaponnumber] = weapon.name;
    attributes["repeating_drones_"+newrowid+"_droneweaponaccuracy"+ weaponnumber] = weapon.accuracy.match(/\d+/g).pop();
    if(weapon.type == "Ranged")
        attributes["repeating_drones_"+newrowid+"_droneweaponrc"+ weaponnumber] = weapon.rc.match(/\d+/g).pop();
    if(Number(weapon.ap) != "NaN"){
        attributes["repeating_drones_"+newrowid+"_droneweaponap"+ weaponnumber] = weapon.ap;
    }else{
        attributes["repeating_drones_"+newrowid+"_droneweaponap"+ weaponnumber] = 0;
    }
    attributes["repeating_drones_"+newrowid+"_droneweapondv"+ weaponnumber] = weapon.damage_english.match(/\d*/).pop();
    attributes["repeating_drones_"+newrowid+"_droneweapondmgtype"+ weaponnumber] = weapon.damage_english.match(/^\d*/).pop();
    attributes["repeating_drones_"+newrowid+"_droneweaponnotes"+ weaponnumber] = "";
    if(typeof weapon.accessories != "undefined"){
        if(weapon.accessories.accessory.length > 1){
            for(var h = 0; h < weapon.accessories.accessory.length; h++){
                attributes["repeating_drones_"+newrowid+"_droneweaponnotes"+ weaponnumber] += weapon.accessories.accessory[h].name+"\n";
            }
        }else{
            attributes["repeating_drones_"+newrowid+"_droneweaponnotes"+ weaponnumber] += weapon.accessories.accessory.name+"\n";
        }
    }
    return weaponnumber +1;
}

const importAutosofts = (drone, newrowid, attributes) => {

    let autosofts;
    if(drone.gears.gear.length > 1) {
        autosofts = drone.gears.gear.filter(gear => gear.category_english.includes("Autosofts"));
    }
    else {
        if(drone.gears.gear.category_english == "Autosofts") {
            autosofts = [drone.gears.gear];
        }
    }

    if(autosofts != null) {
        //search for clearsight
        let clearsight = autosofts.find(soft => soft.name_english.includes("Clearsight Autosoft"));
        if(clearsight != null) {
            attributes["repeating_drones_"+newrowid+"_droneperceptionsoft"] = clearsight.rating;
        }

        //Maneuvering
        let maneuvering = autosofts.find(soft => soft.name_english.includes("Maneuvering Autosoft"));
        if(maneuvering != null) {
            attributes["repeating_drones_"+newrowid+"_dronemaneuversoft"] = maneuvering.rating;
        }

        //stealth
        let stealth = autosofts.find(soft => soft.name_english.includes("Stealth Autosoft"));
        if(stealth != null) {
            attributes["repeating_drones_"+newrowid+"_dronesneaksoft"] = stealth.rating;
        }

        //evasion
        let evasion = autosofts.find(soft => soft.name_english.includes("Evasion Autosoft"));
        if(evasion != null) {
            attributes["repeating_drones_"+newrowid+"_dronedodgesoft"] = evasion.rating;
        }
    }

}

async function importHeroLabChar(attributes, herolabfile, text) {

    const character = herolabfile.public.character;

    var maintab = importMainTabHeroLab(character);
    var skilltab = importSkillsTabHeroLab(text.experimental, character);
<!--    var magictab = importMagicTabHeroLab(text.experimental, character);-->
    var enhancementtab = importEnhancementTabHeroLab(text, character);
    var matrixtab = importMatrixTabHeroLab(character);
<!--    var vehiclestab = importVehiclesTabHeroLab(text.experimental, character);-->
<!--    var equipmentstab = importEquipmentTabHeroLab(text.experimental, character);-->
    var socialtab = importSocialTabHeroLab(character);

    let results = await Promise.all([maintab, skilltab, enhancementtab]);
    let dependingResults = await Promise.all([]);
<!--    let results = await Promise.all([maintab, skilltab, enhancementtab, socialtab]);-->
<!--    let dependingResults = await Promise.all([magictab, matrixtab, vehiclestab, equipmentstab]);-->

    attributes.warningcheckbox="0";
    attributes.chummercheckbox="0";
    attributes.chummertext= results.join("") + dependingResults.join("") + "\nREMEMBER THIS IS ONLY A HELP AND YOU NEED TO DOUBLE CHECK EVERYTHING."

    return attributes;
}

async function importMainTabHeroLab(character) {

    var goodcode = true;
    var error = "";
    var attributes = {};

    try{
        console.log("Character meta info");
        attributes.character_name = character.name;
        attributes.metatype = character.race.name;
        attributes.sex = character.personal.gender;
        attributes.age = character.personal.age;
        attributes.height = character.personal.charheight.text;
        attributes.weight = character.personal.charweight.text;

        attributes.player = character.playername;

        attributes.description = character.personal.description;
        attributes.background = character.personal.description;
        attributes.karma = character.karma.left;
        attributes.karmacareer = character.karma.total;

        attributes.initiativebonus = character.attributes[11].modified - character.attributes[11].base;
        attributes.astralinitiativebonus = character.attributes[11].modified - character.attributes[11].base;
        attributes.matrixinitiativebonus = character.attributes[11].modified - character.attributes[11].base;
        attributes.initiativedice = character.attributes[11].text.split('+')[1].charAt(0);
<!--            attributes.astralinitiativedice=character.astralinitdice;-->

<!--        if(character.cmthresholdoffset != null)-->
<!--            attributes.woundadditive=character.cmthresholdoffset;-->
<!--        if(character.cmthreshold != null)-->
<!--            attributes.woundmultiplikative=character.cmthreshold;-->
<!--        if(character.cmoverflow != null)-->
<!--            attributes.overflowmod=character.cmoverflow-character.attributes[1].attribute[0].total- 1;-->
<!--        if(character.physicalcm != null)-->
<!--            attributes.physicaltrackmod=character.physicalcm-Math.ceil(character.attributes[1].attribute[0].total/2)- 8;-->
<!--        if(character.stuncm != null)-->
<!--            attributes.stuntrackmod=character.stuncm-Math.ceil(character.attributes[1].attribute[7].total/2)- 8;-->

            attributes.streetcred = character.reputations[0].value;
            attributes.notoriety = character.reputations[2].value;
            attributes.pawareness = character.reputations[4].value;
            attributes.nuyen_total = character.cash.total;

<!--        if(character.magician == "True"){-->
<!--            // HeroLab 'chummer' export uses drainattribute property and a list, this is a workaround for that-->
<!--            try{-->
<!--              attributes.drainattribute="@{"+character.tradition.drainattributes.match(/[A-Z]+/g)[1].toLowerCase()+"_total}";-->
<!--            } catch(err)-->
<!--            {-->
<!--              attributes.drainattribute="@{"+character.tradition.drainattribute.attr[1]+"_total}";-->
<!--            }-->
<!--        }-->
    }catch(err){
        goodcode = false;
        error = "Error with Character Info " + err;
    }

    try{
        console.log("Importing Attributes");
        var attributesCharacter = character.attributes;
        attributes.bod_base = attributesCharacter[0].base;
        attributes.agi_base = attributesCharacter[1].base;
        attributes.rea_base = attributesCharacter[2].base;
        attributes.str_base = attributesCharacter[3].base;
        attributes.wil_base = attributesCharacter[4].base;
        attributes.log_base = attributesCharacter[5].base;
        attributes.int_base = attributesCharacter[6].base;
        attributes.cha_base = attributesCharacter[7].base;
        //essence attributesCharacter[8]
        attributes.edg_total = attributesCharacter[9].base;
        if(character.heritage.name === "Technomancer"){
            attributes.mag_base = character.attributes[10].base;
            attributes.istechnomancer = 1;
        }
<!--        else if(character.magician==="True" || character.adept==="True"){-->
<!--            attributes.mag_base=attributesCharacter.find(a => a.name_english === "MAG").total;-->
<!--            attributes.istechnomancer = 0;-->
<!--        }-->
        else {
            attributes.mag_base = 0;
            attributes.istechnomancer = 0;
        }
       attributes.bod_aug = attributesCharacter[0].modified - attributesCharacter[0].base;
       attributes.agi_aug = attributesCharacter[1].modified - attributesCharacter[1].base;
       attributes.rea_aug = attributesCharacter[2].modified - attributesCharacter[2].base;
       attributes.str_aug = attributesCharacter[3].modified - attributesCharacter[3].base;
       attributes.wil_aug = attributesCharacter[4].modified - attributesCharacter[4].base;
       attributes.log_aug = attributesCharacter[5].modified - attributesCharacter[5].base;
       attributes.int_aug = attributesCharacter[6].modified - attributesCharacter[6].base;
       attributes.cha_aug = attributesCharacter[7].modified - attributesCharacter[7].base;
    }catch(err){
        goodcode=false;
        error= error + "\n" + "Error with Attributes " +err
    }

    if(goodcode){
        try{
            setAttrs(attributes);
            return "Main Tab import successfull\n";
        } catch(err){
            return "Error setting Attributes: " + err;
        }
    } else{
        return error;
    }
}

async function importSkillsTabHeroLab(experimental, character) {

    var goodcode = true;
    var error = "";
    var attributes = {};

    var index=[];
    for(var i=1;i<73;i++)
    {
        var name='skillname'+i;
        index[i-1]=name;
    }

    var names = await asw.getAttrs(index);
    var exotics=73;
    try{
        console.log("Importing Skills");

         character.skills.active.forEach(skill => {
             for(var j=1; j<73; j++){
                var compname='skillname'+j;
                if((names[compname] == skill.name)||(skill.name == "Locksmith" && j==29) || (skill.name == "Pilot Ground Craft" && j==55)){
                        attributes["skillrating"+j] = skill.modified;
                        attributes["skillbonus"+j] = skill.modified - skill.base;

                    if(skill.specialization != null) {
                        attributes["skillspec"+j] = skill.specialization.bonustext;
                    }
                    else {
                        attributes["skillspec"+j]="none";
                    }
                }
            }
         })

        //knowledge skills
        character.skills.knowledge.forEach(skill => {
            var newrowid = generateRowID();
            attributes["repeating_knowledge_"+newrowid+"_knowledgename"] = skill.name;
            if(skill.skillcategory_english != null){
              attributes["repeating_knowledge_"+newrowid+"_knowledgeattr"] = "@{"+skill.skillcategory_english.toLowerCase();
            }

            attributes["repeating_knowledge_"+newrowid+"_knowledgerating"] = skill.base;
            attributes["repeating_knowledge_"+newrowid+"_knowledgebonus"] = skill.modified - skill.base;

            if(skill.specialization != null) {
                attributes["repeating_knowledge_"+newrowid+"_knowledgespec"] = skill.specialization.bonustext;
            }
            else {
                attributes["repeating_knowledge_"+newrowid+"_knowledgespec"] = "none";
            }
        });

        //language skills
        character.skills.language.forEach(skill => {
            var newrowid = generateRowID();
            attributes["repeating_knowledge_"+newrowid+"_knowledgename"] = skill.name;
            if(skill.skillcategory_english != null){
              attributes["repeating_knowledge_"+newrowid+"_knowledgeattr"] = "@{"+skill.skillcategory_english.toLowerCase();
            }

            attributes["repeating_knowledge_"+newrowid+"_knowledgerating"] = skill.base;
            attributes["repeating_knowledge_"+newrowid+"_knowledgebonus"] = skill.modified - skill.base;

            if(skill.text === "N") {
                attributes["repeating_knowledge_"+newrowid+"_knowledgerating"] = 100;
                attributes["repeating_knowledge_"+newrowid+"_knowledgenotes"] = "Natural";

            }

            if(skill.specialization != null) {
                attributes["repeating_knowledge_"+newrowid+"_knowledgespec"] = skill.specialization.bonustext;
            }
            else {
                attributes["repeating_knowledge_"+newrowid+"_knowledgespec"] = "none";
            }
             attributes["repeating_knowledge_"+newrowid+"_knowledgeattr"]="@{language";
        });

    }catch(err){
        goodcode=false;
        error= error + "\n" + "Error with Skills: "+ err;
    }

    if(goodcode){
        try{
            clearSkills(experimental);
            setAttrs(attributes);
            return "Skill Tab import successfull\n";
        } catch(err){
            return "Error setting Attributes: " + err;
        }
    } else{
        return error;
    }
}

async function importEnhancementTabHeroLab(text, character) {

    var goodcode = true;
    var error = "";
    var attributes = {};

    try{
        if(character.qualities != null){
            console.log("Importing qualities");
            if(character.qualities.positive != undefined){
                for(var i=0; i< character.qualities.positive.length; i++){
                    var newrowid=generateRowID();
                    attributes["repeating_posqualities_"+newrowid+"_posqualityname"] = character.qualities.positive[i].name;
                    attributes["repeating_posqualities_"+newrowid+"_posqualitykarma"] = character.qualities.positive[i].traitcost.bp;
                    attributes["repeating_posqualities_"+newrowid+"_posqualnotes"] = character.qualities.positive[i].description;
                    if( character.qualities.positive[i].rank != null) {
                        attributes["repeating_posqualities_"+newrowid+"_posqualitydescription"] =  character.qualities.positive[i].rank;
                    }
                }
            }
            if(character.qualities.positive != undefined){
                for(var i=0; i< character.qualities.negative.length; i++){
                    var newrowid=generateRowID();
                    attributes["repeating_negqualities_"+newrowid+"_negqualityname"] = character.qualities.negative[i].name;
                    attributes["repeating_negqualities_"+newrowid+"_negqualitykarma"] = character.qualities.negative[i].traitcost.bp;
                    attributes["repeating_negqualities_"+newrowid+"_negqualnotes"] = character.qualities.negative[i].description;
                    if(character.qualities.negative[i].rank != null) {
                        attributes["repeating_negqualities_"+newrowid+"_negqualitydescription"] = character.qualities.negative[i].rank
                    }
                }
            }
        }
    }catch(err){
        goodcode=false;
        error= error + "\n" + "Error with Qualities " +err
    }

    try{
<!--        if(character.powers != null){-->
<!--            console.log("Importing Adept Powers");-->
<!--            if(character.powers.power.length>1){-->
<!--                for(var i=0;i<character.powers.power.length;i++){-->
<!--                    var newrowid=generateRowID();-->
<!--                    attributes["repeating_powers_"+newrowid+"_poweryname"]=character.powers.power[i].name;-->
<!--                    attributes["repeating_powers_"+newrowid+"_powerdescription"]=character.powers.power[i].rating;-->
<!--                    attributes["repeating_powers_"+newrowid+"_powerpoints"]=character.powers.power[i].totalpoints;-->
<!--                    if(character.powers.power[i].notes != null) {-->
<!--                        attributes["repeating_powers_"+newrowid+"_powernotes"]=character.powers.power[i].notes;-->
<!--                    }-->

<!--                }-->
<!--            }else{-->
<!--                var newrowid=generateRowID();-->
<!--                attributes["repeating_powers_"+newrowid+"_poweryname"]=character.powers.power.name;-->
<!--                attributes["repeating_powers_"+newrowid+"_powerdescription"]=character.powers.power.rating;-->
<!--                attributes["repeating_powers_"+newrowid+"_powerpoints"]=character.powers.power.totalpoints;-->
<!--                if(character.powers.power.notes != null) {-->
<!--                        attributes["repeating_powers_"+newrowid+"_powernotes"]=character.powers.power.notes;-->
<!--                    }-->
<!--            }-->
<!--        }-->
    }catch(err){
        goodcode=false;
        error="Error with Powers " +err
    }

    try{
        var essence=0.0;
        console.log("Importing Cyberware");
        for(var i=0; i< character.gear.augmentations.cyberware.length; i++){
            let cyberware = character.gear.augmentations.cyberware[i];
            var newrowid=generateRowID();

            attributes["repeating_ware_"+newrowid+"_warename"] = cyberware.name;

            if(cyberware.rating !=null) {
                attributes["repeating_ware_"+newrowid+"_waredescription"] = cyberware.rating;
            }

            if(cyberware.description != null) {
                attributes["repeating_ware_"+newrowid+"_warenotes"] = cyberware.description;
            }

            if(cyberware.essencecost != null) {
                attributes["repeating_ware_"+newrowid+"_warekarma"] = cyberware.essencecost;
                essence += Number(cyberware.essencecost.replace(",","."));
            }
        }

        console.log("Importing Bioware");
        for(var i=0; i< character.gear.augmentations.bioware.length; i++){
            let bioware = character.gear.augmentations.bioware[i];
            var newrowid = generateRowID();

            attributes["repeating_ware_"+newrowid+"_warename"] = bioware.name;

            if(bioware.rating !=null) {
                attributes["repeating_ware_"+newrowid+"_waredescription"] = bioware.rating;
            }

            if(bioware.description != null) {
                attributes["repeating_ware_"+newrowid+"_warenotes"] = bioware.description;
            }

            if(bioware.essencecost != null) {
                attributes["repeating_ware_"+newrowid+"_warekarma"] = bioware.essencecost;
                essence += Number(bioware.essencecost.replace(",","."));
            }
        }
        attributes.ess_total = 6-essence;
    }catch(err){
        goodcode=false;
        error= error + "\n" + "Error with Ware " +err
    }

<!--    try{-->
<!--        if(character.martialarts != null){-->
<!--            console.log("Importing martialarts");-->
<!--            if(character.martialarts.martialart.length>1){-->
<!--                for(var i=0;i<character.martialarts.martialart.length;i++){-->
<!--                    if(character.martialarts.martialart[i].martialarttechniques != null){-->
<!--                        if(character.martialarts.martialart[i].martialarttechniques.length > 1){-->
<!--                            for(var j=0; j < character.martialarts.martialart[i].martialarttechniques.length; j++){-->
<!--                                var newrowid=generateRowID();-->
<!--                                attributes["repeating_martial_"+newrowid+"_martialname"] = character.martialarts.martialart[i].martialarttechniques.martialarttechnique[j].name;-->
<!--                                attributes["repeating_martial_"+newrowid+"_martialdescription"] = character.martialarts.martialart[i].name;-->
<!--                                if(character.martialarts.martialart[i].martialarttechniques.martialarttechnique[j].notes != undefined) {-->
<!--                                    attributes["repeating_martial_"+newrowid+"_martialnotes"] = character.martialarts.martialart[i].martialarttechniques.martialarttechnique[j].notes;-->
<!--                                }-->
<!--                            }-->
<!--                        }else{-->
<!--                            console.log(character.martialarts.martialart[i]);-->
<!--                            var newrowid=generateRowID();-->
<!--                            attributes["repeating_martial_"+newrowid+"_martialname"]=character.martialarts.martialart[i].martialarttechniques.martialarttechnique.name;-->
<!--                            attributes["repeating_martial_"+newrowid+"_martialdescription"]=character.martialarts.martialart[i].name;-->
<!--                            if(character.martialarts.martialart[i].martialarttechniques.martialarttechnique.notes != undefined) {-->
<!--                                attributes["repeating_martial_"+newrowid+"_martialnotes"] = character.martialarts.martialart[i].martialarttechniques.martialarttechnique.notes;-->
<!--                            }-->
<!--                        }-->
<!--                    }-->
<!--                }-->
<!--            }else{-->
<!--                if(character.martialarts.martialart.martialarttechniques != null){-->
<!--                    if(character.martialarts.martialart.martialarttechniques.martialarttechnique.length>1){-->
<!--                        for(var j=0;j<character.martialarts.martialart.martialarttechniques.martialarttechnique.length;j++){-->
<!--                            var newrowid=generateRowID();-->
<!--                            attributes["repeating_martial_"+newrowid+"_martialname"]=character.martialarts.martialart.martialarttechniques.martialarttechnique[j].name;-->
<!--                            attributes["repeating_martial_"+newrowid+"_martialdescription"]=character.martialarts.martialart.name;-->
<!--                            if(character.martialarts.martialart.martialarttechniques.martialarttechnique[j].notes != undefined) {-->
<!--                                attributes["repeating_martial_"+newrowid+"_martialnotes"] = character.martialarts.martialart.martialarttechniques.martialarttechnique[j].notes;-->
<!--                            }-->
<!--                        }-->
<!--                    }else{-->
<!--                        var newrowid=generateRowID();-->
<!--                        attributes["repeating_martial_"+newrowid+"_martialname"]=character.martialarts.martialart.martialarttechniques.martialarttechnique.name;-->
<!--                        attributes["repeating_martial_"+newrowid+"_martialdescription"]=character.martialarts.martialart.name;-->
<!--                        if(character.martialarts.martialart.martialarttechniques.martialarttechnique.notes != undefined) {-->
<!--                            attributes["repeating_martial_"+newrowid+"_martialnotes"] = character.martialarts.martialart.martialarttechniques.martialarttechnique.notes;-->
<!--                        }-->
<!--                    }-->
<!--                }-->
<!--            }-->
<!--        }-->
<!--    }catch(err){-->
<!--        goodcode=false;-->
<!--        error= error + "\n" + "Error with Martial Arts " +err-->
<!--    }-->

    if(goodcode){
        try{
            clearEnhancements(text.experimental);
            setAttrs(attributes);
            return "Enhancement Tab import successfull\n";
        } catch(err){
            return "Error setting Attributes: " + err;
        }
    } else{
        return error;
    }
}

async function importMatrixTabHeroLab(character) {

    var goodcode = true;
    var error = "";
    var attributes = {};

    try{
       if(character.gear.equipment != null){
            console.log("Importing Cyberdeck");
            let decks = character.gear.equipment.filter(gear => gear.matrix.dr != null).sort((g1,g2) => g1.matrix.dr < g2.matrix.dr);
            cyberdeck = decks[0];
            attributes.attack_base = cyberdeck.matrix.matrixattribute[0].base;
            attributes.sleaze_base = cyberdeck.matrix.matrixattribute[1].base;
            attributes.datap_base = cyberdeck.matrix.matrixattribute[2].base;
            attributes.firewall_base = cyberdeck.matrix.matrixattribute[3].base;
            attributes.devicertg_base = cyberdeck.matrix.dr;
        }
    }catch(err){
       goodcode=false;
       error= error + "\n" + "Error with Cyberdeck: " + err;
    }

    try{
        if(character.gear.equipment != null){
            console.log("Importing programs");
            let withPrograms = character.gear.equipment.filter(gear => gear.programs != null).filter(gear => gear.programs.length > 0).flatMap(gear => gear.programs);
            withPrograms.forEach(program => {
                var newrowid = generateRowID();
                attributes["repeating_programs_"+newrowid+"_programname"] = program.name;
            });

            console.log(attributes);

        }
    }catch(err){
        goodcode = false;
        error= error + "\n" + "Error with Programs " +err
    }

    if(goodcode){
        try{
            clearMatrix(experimental);
            setAttrs(attributes);
            return "Matrix Tab import successfull\n";
        } catch(err){
            return "Error setting Attributes: " + err;
        }
    } else{
        return error;
    }
}

async function importSocialTabHeroLab(character) {

    var goodcode = true;
    var error = "";
    var attributes = {};

    try{
       if(character.contacts != null){
        console.log("Importing Contacts");

        character.contacts.forEach(contact => {
            var newrowid=generateRowID();
             attributes["repeating_contacts_"+newrowid+"_contactname"] = contact.name;
            attributes["repeating_contacts_"+newrowid+"_contactdescription"] = contact.type;
            attributes["repeating_contacts_"+newrowid+"_contactconnection"] = contact.connection;
            attributes["repeating_contacts_"+newrowid+"_contactloyalty"] = contact.loyalty;
            attributes["repeating_contacts_"+newrowid+"_contactnotes"] = contact.description;
        });
       }
    }catch(err){
       goodcode=false;
       error= error + "\n" + "Error with Contacts: " + err;
    }

    if(goodcode){
        try{
            clearSocial();
            setAttrs(attributes);
            return "Character Tab import successfull\n";
        } catch(err){
            return "Error setting Attributes: " + err;
        }
    } else{
        return error;
    }
}

function clearSkills(experimental) {
    console.log("Removing old skill data");
    getSectionIDs("repeating_knowledge", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_knowledge_"+idarray[i]);
        }
    });
}

function clearMagic(experimental) {
    console.log("Removing old magic data");
    getSectionIDs("repeating_spells", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_spells_"+idarray[i]);
        }
    });
    getSectionIDs("repeating_rituals", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_rituals_"+idarray[i]);
        }
    });
    getSectionIDs("repeating_alchemy", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_alchemy_"+idarray[i]);
        }
    });
    getSectionIDs("repeating_critterpowers", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_critterpowers_"+idarray[i]);
        }
    });
    getSectionIDs("repeating_initiation", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_initiation_"+idarray[i]);
        }
    });

    getSectionIDs("repeating_complexforms", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_complexforms_"+idarray[i]);
        }
    });
}

function clearEnhancements(experimental) {
    console.log("Removing old enhancenment data");
    getSectionIDs("repeating_posqualities", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_posqualities_"+idarray[i]);
        }
    });
    getSectionIDs("repeating_negqualities", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_negqualities_"+idarray[i]);
        }
    });
    getSectionIDs("repeating_powers", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_powers_"+idarray[i]);
        }
    });
    getSectionIDs("repeating_ware", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_ware_"+idarray[i]);
        }
    });
    getSectionIDs("repeating_martial", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_martial_"+idarray[i]);
        }
    });
}

function clearMatrix(experimental) {
    console.log("Removing old matrix data");
    getSectionIDs("repeating_programs", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_programs_"+idarray[i]);
        }
    });
}

function clearVehicles(experimental) {
    console.log("Removing old vehicles data");
    getSectionIDs("repeating_vehicles", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_vehicles_"+idarray[i]);
        }
    });
        getSectionIDs("repeating_drones", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_drones_"+idarray[i]);
        }
    });
}

function clearEquipment(experimental) {
    console.log("Removing old equipment data");
    getSectionIDs("repeating_equipment", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_equipment_"+idarray[i]);
        }
    });
    getSectionIDs("repeating_armors", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_armors_"+idarray[i]);
        }
    });

    //removing repeating weapons
    getSectionIDs("repeating_weapons", function(idarray) {
        for(var j=0; j < idarray.length; j++) {
            removeRepeatingRow("repeating_weapons_"+idarray[j]);
        }
    });

    getSectionIDs("repeating_pistols", function(idarray) {
        for(var j=0; j < idarray.length; j++) {
            removeRepeatingRow("repeating_pistols_"+idarray[j]);
        }
    });

    getSectionIDs("repeating_automatics", function(idarray) {
        for(var j=0; j < idarray.length; j++) {
            removeRepeatingRow("repeating_automatics_"+idarray[j]);
        }
    });

    getSectionIDs("repeating_longarms", function(idarray) {
        for(var j=0; j < idarray.length; j++) {
            removeRepeatingRow("repeating_longarms_"+idarray[j]);
        }
    });

    getSectionIDs("repeating_heavyweapons", function(idarray) {
        for(var j=0; j < idarray.length; j++) {
            removeRepeatingRow("repeating_heavyweapons_"+idarray[j]);
        }
    });

        getSectionIDs("repeating_closecombat", function(idarray) {
        for(var j=0; j < idarray.length; j++) {
            removeRepeatingRow("repeating_closecombat_"+idarray[j]);
        }
    });

    //removing ammo
    getSectionIDs("repeating_ammotype1", function(idarray) {
        for(var j=0; j < idarray.length; j++) {
            removeRepeatingRow("repeating_ammotype1_"+idarray[j]);
        }
    });
    getSectionIDs("repeating_ammotype2", function(idarray) {
        for(var j=0; j < idarray.length; j++) {
            removeRepeatingRow("repeating_ammotype2_"+idarray[j]);
        }
    });
    getSectionIDs("repeating_ammotype3", function(idarray) {
        for(var j=0; j < idarray.length; j++) {
            removeRepeatingRow("repeating_ammotype3_"+idarray[j]);
        }
    });
    getSectionIDs("repeating_ammotype4", function(idarray) {
        for(var j=0; j < idarray.length; j++) {
            removeRepeatingRow("repeating_ammotype4_"+idarray[j]);
        }
    });
    getSectionIDs("repeating_ammotype5", function(idarray) {
        for(var j=0; j < idarray.length; j++) {
            removeRepeatingRow("repeating_ammotype5_"+idarray[j]);
        }
    });
    getSectionIDs("repeating_ammotype6", function(idarray) {
        for(var j=0; j < idarray.length; j++) {
            removeRepeatingRow("repeating_ammotype6_"+idarray[j]);
        }
    });
    getSectionIDs("repeating_ammotype7", function(idarray) {
        for(var j=0; j < idarray.length; j++) {
            removeRepeatingRow("repeating_ammotype7_"+idarray[j]);
        }
    });
    getSectionIDs("repeating_ammotype8", function(idarray) {
        for(var j=0; j < idarray.length; j++) {
            removeRepeatingRow("repeating_ammotype8_"+idarray[j]);
        }
    });
}

function clearSocial() {
    console.log("Removing old social data");
    getSectionIDs("repeating_contacts", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_contacts_"+idarray[i]);
        }
    });
}

on("change:wil_base change:wil_aug", function() {
    getAttrs(["wil_base", "wil_aug"], function(value){
        var wil = parseInt(value.wil_base) + parseInt(value.wil_aug);
        var total = 8 + Math.ceil(wil / 2);
        setAttrs({stuntrack_max: total,
                  stunwoundstaken_max: total});
     });
});

on("change:stuntrack change:stuntrack_max", function() {
    getAttrs(["stuntrack", "stuntrack_max"], function(value){
        var wounds = Math.max(value.stuntrack_max - value.stuntrack, 0);
        setAttrs({stunwoundstaken: wounds}, {silent: true});
    });
});

on("change:stunwoundstaken change:stuntrack_max", function() {
    getAttrs(["stunwoundstaken", "stuntrack_max"], function(value){
        var track = Math.min(value.stuntrack_max - value.stunwoundstaken, value.stuntrack_max);
        setAttrs({stuntrack: track}, {silent: true});
    });
});

on("change:bod_base change:bod_aug", function() {
    getAttrs(["bod_base", "bod_aug"], function(value){
        var bod = parseInt(value.bod_base) + parseInt(value.bod_aug);
        var total = 8 + Math.ceil(bod / 2);
        setAttrs({physicaltrack_max: total,
                  physicalwoundstaken_max: total});
     });
});

on("change:physicaltrack change:physicaltrack_max", function() {
    getAttrs(["physicaltrack", "physicaltrack_max"], function(value){
        var wounds = Math.max(value.physicaltrack_max - value.physicaltrack, 0);
        setAttrs({physicalwoundstaken: wounds}, {silent: true});
    });
});

on("change:physicalwoundstaken change:physicaltrack_max", function() {
    getAttrs(["physicalwoundstaken", "physicaltrack_max"], function(value){
        var track = Math.min(value.physicaltrack_max - value.physicalwoundstaken, value.physicaltrack_max);
        setAttrs({physicaltrack: track}, {silent: true});
    });
});

on("change:hotsim", function(){
    getAttrs(["matrixinitiativedice", "hotsim"],function(value){
       var dice=value.matrixinitiativedice;
       if(value.hotsim==2)
        dice++;
       else
        dice--;
        setAttrs({matrixinitiativedice: dice});
    });
});

on("change:skillhideunusedcheckbox1", function() {
    var names=[];
    for(var i=1;i<14;i++)
    {
        var name='skillrating'+i;
        names[i-1]=name;
    }
    getAttrs(names, function(values){
        var hide={};
        for(var prop in values)
        {
            if(values[prop]=="-1"){
                var number=prop.match(/(\d*)$/);
                var hidename='skillshowcheckbox'+number[1];
                hide[hidename]='on';
            }
        }
        if(Object.keys(hide).length==13){
            hide.skillhideheader1='on';
        }
        hide.skillhideunusedcheckbox1=0;
        setAttrs(hide);
    });
});


on("change:skillhideunusedcheckbox2", function() {
    var names=[];
    for(var i=14;i<22;i++)
    {
        var name='skillrating'+i;
        names[i-1]=name;
    }
    getAttrs(names, function(values){
        var hide={};
        for(var prop in values)
        {
            if(values[prop]=="-1"){
                var number=prop.match(/(\d*)$/);
                var hidename='skillshowcheckbox'+number[1];
                hide[hidename]='on';
            }
        }
        if(Object.keys(hide).length==8){
            hide.skillhideheader2='on';
        }
        hide.skillhideunusedcheckbox2=0;
        setAttrs(hide);
    });
});


on("change:skillhideunusedcheckbox3", function() {
    var names=[];
    for(var i=22;i<32;i++)
    {
        var name='skillrating'+i;
        names[i-1]=name;
    }
    getAttrs(names, function(values){
        var hide={};
        for(var prop in values)
        {
            if(values[prop]=="-1"){
                var number=prop.match(/(\d*)$/);
                var hidename='skillshowcheckbox'+number[1];
                hide[hidename]='on';
            }
        }
        if(Object.keys(hide).length==10){
            hide.skillhideheader3='on';
        }
        hide.skillhideunusedcheckbox3=0;
        setAttrs(hide);
    });

});


on("change:skillhideunusedcheckbox4", function() {
    var names=[];
    for(var i=32;i<43;i++)
    {
        var name='skillrating'+i;
        names[i-1]=name;
    }
    getAttrs(names, function(values){
        var hide={};
        for(var prop in values)
        {
            if(values[prop]=="-1"){
                var number=prop.match(/(\d*)$/);
                var hidename='skillshowcheckbox'+number[1];
                hide[hidename]='on';
            }
        }
        if(Object.keys(hide).length==11){
            hide.skillhideheader4='on';
        }
        hide.skillhideunusedcheckbox4=0;
        setAttrs(hide);
    });

});


on("change:skillhideunusedcheckbox5", function() {
    var names=[];
    for(var i=43;i<52;i++)
    {
        var name='skillrating'+i;
        names[i-1]=name;
    }
    getAttrs(names, function(values){
        var hide={};
        for(var prop in values)
        {
            if(values[prop]=="-1"){
                var number=prop.match(/(\d*)$/);
                var hidename='skillshowcheckbox'+number[1];
                hide[hidename]='on';
            }
        }
        if(Object.keys(hide).length==9){
            hide.skillhideheader5='on';
        }
        hide.skillhideunusedcheckbox5=0;
        setAttrs(hide);
    });

});


on("change:skillhideunusedcheckbox6", function() {
    var names=[];
    for(var i=52;i<58;i++)
    {
        var name='skillrating'+i;
        names[i-1]=name;
    }
    getAttrs(names, function(values){
        var hide={};
        for(var prop in values)
        {
            if(values[prop]=="-1"){
                var number=prop.match(/(\d*)$/);
                var hidename='skillshowcheckbox'+number[1];
                hide[hidename]='on';
            }
        }
        if(Object.keys(hide).length==6){
            hide.skillhideheader6='on';
        }
        hide.skillhideunusedcheckbox6=0;
        setAttrs(hide);
    });

});


on("change:skillhideunusedcheckbox7", function() {
    var names=[];
    for(var i=58;i<70;i++)
    {
        var name='skillrating'+i;
        names[i-1]=name;
    }
    getAttrs(names, function(values){
        var hide={};
        for(var prop in values)
        {
            if(values[prop]=="-1"){
                var number=prop.match(/(\d*)$/);
                var hidename='skillshowcheckbox'+number[1];
                hide[hidename]='on';
            }
        }
        if(Object.keys(hide).length==12){
            hide.skillhideheader7='on';
        }
        hide.skillhideunusedcheckbox7=0;
        setAttrs(hide);
    });

});


on("change:skillhideunusedcheckbox8", function() {
    var names=[];
    for(var i=70;i<73;i++)
    {
        var name='skillrating'+i;
        names[i-1]=name;
    }
    getAttrs(names, function(values){
        var hide={};
        for(var prop in values)
        {
            if(values[prop]=="-1"){
                var number=prop.match(/(\d*)$/);
                var hidename='skillshowcheckbox'+number[1];
                hide[hidename]='on';
            }
        }
        if(Object.keys(hide).length==3){
            hide.skillhideheader8='on';
        }
        hide.skillhideunusedcheckbox8=0;
        setAttrs(hide);
    });

});


on("change:skillhideunusedcheckbox9", function() {
    var names=[];
    for(var i=73;i<77;i++)
    {
        var name='skillrating'+i;
        names[i-1]=name;
    }
    getAttrs(names, function(values){
        var hide={};
        for(var prop in values)
        {
            if(values[prop]=="-1"){
                var number=prop.match(/(\d*)$/);
                var hidename='skillshowcheckbox'+number[1];
                hide[hidename]='on';
            }
        }
        if(Object.keys(hide).length==4){
            hide.skillhideheader9='on';
        }
        hide.skillhideunusedcheckbox9=0;
        setAttrs(hide);
    });

});


on("change:edgeroll", function(){
    getAttrs(["edgeroll"], function(value){
        var multiplier;
        if(value.edgeroll==""){
            multiplier=0;
        }else{
            multiplier=1;
        }
        setAttrs({
            edgn:multiplier
        });
    })
});


on("change:repeating_spells:spellschool", function() {
    getAttrs(["repeating_spells_spellschool"], function(value) {
        var numb=value.repeating_spells_spellschool.match(/(\d*)}$/);
        var name='@{skillname'+numb[1]+'}';
        setAttrs({
            repeating_spells_spellschool_name: name
        });
    });
});

on("change:repeating_rituals:spellschool", function() {
    getAttrs(["repeating_rituals_spellschool"], function(value) {
        var numb=value.repeating_rituals_spellschool.match(/(\d*)}$/);
        var name='@{skillname'+numb[1]+'}';
        setAttrs({
            repeating_rituals_spellschool_name: name
        });
    });
});

on("change:repeating_alchemy:spellschool", function() {
    getAttrs(["repeating_alchemy_spellschool"], function(value) {
        var numb=value.repeating_alchemy_spellschool.match(/(\d*)}$/);
        var name='@{skillname'+numb[1]+'}';
        setAttrs({
            repeating_alchemy_spellschool_name: name
        });
    });
});


on("change:repeating_vehicles:vehicleskilltype", function() {
    getAttrs(["repeating_vehicles_vehicleskilltype"], function(value) {
        var numb=value.repeating_vehicles_vehicleskilltype.match(/(\d*)}$/);
        var name='@{skillname'+numb[1]+'}';
        setAttrs({
            repeating_vehicles_vehicleskillname: name
        });
    });
});


on("change:repeating_drones:droneskilltype", function() {
    getAttrs(["repeating_drones_droneskilltype"], function(value) {
        var numb=value.repeating_drones_droneskilltype.match(/(\d*)}$/);
        var name='@{skillname'+numb[1]+'}';
        setAttrs({
            repeating_drones_droneskillname: name
        });
    });
});


on("change:repeating_mskills:mskillrating", function() {
    getAttrs(["repeating_mskills_mskillrating"], function(value) {
        var numb=value.repeating_mskills_mskillrating.match(/(\d*)}$/);
        var name='skillspec'+numb[1];
        getAttrs([name], function(values) {
            setAttrs({
                repeating_mskills_mskillspec: values[name]
            });
        });
    });
});


on("change:repeating_weapons:weaponcategory", function() {
    getAttrs(["repeating_weapons_weaponcategory"], function(value) {
        var numb=value.repeating_weapons_weaponcategory.match(/(\d*)}$/);
        var name='skillname'+numb[1];
        getAttrs([name], function(values) {
            setAttrs({
                repeating_weapons_weaponskillname: values[name]
            });
        });
    });
});

on("change:repeating_pistols:weaponcategory", function() {
    getAttrs(["repeating_pistols_weaponcategory"], function(value) {
        var numb=value.repeating_pistols_weaponcategory.match(/(\d*)}$/);
        var name='skillname'+numb[1];
        getAttrs([name], function(values) {
            setAttrs({
                repeating_pistols_weaponskillname: values[name]
            });
        });
    });
});

on("change:repeating_automatics:weaponcategory", function() {
    getAttrs(["repeating_automatics_weaponcategory"], function(value) {
        var numb=value.repeating_automatics_weaponcategory.match(/(\d*)}$/);
        var name='skillname'+numb[1];
        getAttrs([name], function(values) {
            setAttrs({
                repeating_automatics_weaponskillname: values[name]
            });
        });
    });
});

on("change:repeating_longarms:weaponcategory", function() {
    getAttrs(["repeating_longarms_weaponcategory"], function(value) {
        var numb=value.repeating_longarms_weaponcategory.match(/(\d*)}$/);
        var name='skillname'+numb[1];
        getAttrs([name], function(values) {
            setAttrs({
                repeating_longarms_weaponskillname: values[name]
            });
        });
    });
});

on("change:repeating_heavyweapons:weaponcategory", function() {
    getAttrs(["repeating_heavyweapons_weaponcategory"], function(value) {
        var numb=value.repeating_heavyweapons_weaponcategory.match(/(\d*)}$/);
        var name='skillname'+numb[1];
        getAttrs([name], function(values) {
            setAttrs({
                repeating_heavyweapons_weaponskillname: values[name]
            });
        });
    });
});

on("change:repeating_closecombat:weaponcategory", function() {
    getAttrs(["repeating_closecombat_weaponcategory"], function(value) {
        var numb=value.repeating_closecombat_weaponcategory.match(/(\d*)}$/);
        var name='skillname'+numb[1];
        getAttrs([name], function(values) {
            setAttrs({
                repeating_closecombat_weaponskillname: values[name]
            });
        });
    });
});

on("change:weaponcategory1", function() {
    getAttrs(["weaponcategory1"], function(value) {
        var numb=value.weaponcategory1.match(/(\d*)}$/);
        var name='skillname'+numb[1];
        getAttrs([name], function(values) {
            setAttrs({
                weaponskillname1: values[name]
            });
        });
    });
});

on("change:weaponcategory2", function() {
    getAttrs(["weaponcategory2"], function(value) {
        var numb=value.weaponcategory2.match(/(\d*)}$/);
        var name='skillname'+numb[1];
        getAttrs([name], function(values) {
            setAttrs({
                weaponskillname2: values[name]
            });
        });
    });
});

on("change:weaponcategory3", function() {
    getAttrs(["weaponcategory3"], function(value) {
        var numb=value.weaponcategory3.match(/(\d*)}$/);
        var name='skillname'+numb[1];
        getAttrs([name], function(values) {
            setAttrs({
                weaponskillname3: values[name]
            });
        });
    });
});

on("change:weaponcategory4", function() {
    getAttrs(["weaponcategory4"], function(value) {
        var numb=value.weaponcategory4.match(/(\d*)}$/);
        var name='skillname'+numb[1];
        getAttrs([name], function(values) {
            setAttrs({
                weaponskillname4: values[name]
            });
        });
    });
});

on("change:weaponcategory5", function() {
    getAttrs(["weaponcategory5"], function(value) {
        var numb=value.weaponcategory5.match(/(\d*)}$/);
        var name='skillname'+numb[1];
        getAttrs([name], function(values) {
            setAttrs({
                weaponskillname5: values[name]
            });
        });
    });
});

on("change:weaponcategory6", function() {
    getAttrs(["weaponcategory6"], function(value) {
        var numb=value.weaponcategory6.match(/(\d*)}$/);
        var name='skillname'+numb[1];
        getAttrs([name], function(values) {
            setAttrs({
                weaponskillname6: values[name]
            });
        });
    });
});

on("change:weaponcategory7", function() {
    getAttrs(["weaponcategory7"], function(value) {
        var numb=value.weaponcategory7.match(/(\d*)}$/);
        var name='skillname'+numb[1];
        getAttrs([name], function(values) {
            setAttrs({
                weaponskillname7: values[name]
            });
        });
    });
});


on("change:weaponcategory8", function() {
    getAttrs(["weaponcategory8"], function(value) {
        var numb=value.weaponcategory8.match(/(\d*)}$/);
        var name='skillname'+numb[1];
        getAttrs([name], function(values) {
            setAttrs({
                weaponskillname8: values[name]
            });
        });
    });
});



on("change:skillshowallcheckbox1", function() {
    setAttrs({
      skillshowallcheckbox1: 0,
      skillhideheader1: 0,
      skillshowcheckbox1: 0,
      skillshowcheckbox2: 0,
      skillshowcheckbox3: 0,
      skillshowcheckbox4: 0,
      skillshowcheckbox5: 0,
      skillshowcheckbox6: 0,
      skillshowcheckbox7: 0,
      skillshowcheckbox8: 0,
      skillshowcheckbox9: 0,
      skillshowcheckbox10: 0,
      skillshowcheckbox11: 0,
      skillshowcheckbox12: 0,
      skillshowcheckbox13: 0
    });
});

on("change:skillshowallcheckbox2", function() {
    setAttrs({
      skillshowallcheckbox2: 0,
      skillhideheader2: 0,
      skillshowcheckbox14: 0,
      skillshowcheckbox15: 0,
      skillshowcheckbox16: 0,
      skillshowcheckbox17: 0,
      skillshowcheckbox18: 0,
      skillshowcheckbox19: 0,
      skillshowcheckbox20: 0,
      skillshowcheckbox21: 0
    });
});

on("change:skillshowallcheckbox3", function() {
    setAttrs({
      skillshowallcheckbox3: 0,
      skillhideheader3: 0,
      skillshowcheckbox22: 0,
      skillshowcheckbox23: 0,
      skillshowcheckbox24: 0,
      skillshowcheckbox25: 0,
      skillshowcheckbox26: 0,
      skillshowcheckbox27: 0,
      skillshowcheckbox28: 0,
      skillshowcheckbox29: 0,
      skillshowcheckbox30: 0,
      skillshowcheckbox31: 0
    });
});

on("change:skillshowallcheckbox4", function() {
    setAttrs({
      skillshowallcheckbox4: 0,
      skillhideheader4: 0,
      skillshowcheckbox32: 0,
      skillshowcheckbox33: 0,
      skillshowcheckbox34: 0,
      skillshowcheckbox35: 0,
      skillshowcheckbox36: 0,
      skillshowcheckbox37: 0,
      skillshowcheckbox38: 0,
      skillshowcheckbox39: 0,
      skillshowcheckbox40: 0,
      skillshowcheckbox41: 0,
      skillshowcheckbox42: 0
    });
});

on("change:skillshowallcheckbox5", function() {
    setAttrs({
      skillshowallcheckbox5: 0,
      skillhideheader5: 0,
      skillshowcheckbox43: 0,
      skillshowcheckbox44: 0,
      skillshowcheckbox45: 0,
      skillshowcheckbox46: 0,
      skillshowcheckbox47: 0,
      skillshowcheckbox48: 0,
      skillshowcheckbox49: 0,
      skillshowcheckbox50: 0,
      skillshowcheckbox51: 0
    });
});

on("change:skillshowallcheckbox6", function() {
    setAttrs({
      skillshowallcheckbox6: 0,
      skillhideheader6: 0,
      skillshowcheckbox52: 0,
      skillshowcheckbox53: 0,
      skillshowcheckbox54: 0,
      skillshowcheckbox55: 0,
      skillshowcheckbox56: 0,
      skillshowcheckbox57: 0
    });
});

on("change:skillshowallcheckbox7", function() {
    setAttrs({
      skillshowallcheckbox7: 0,
      skillhideheader7: 0,
      skillshowcheckbox58: 0,
      skillshowcheckbox59: 0,
      skillshowcheckbox60: 0,
      skillshowcheckbox61: 0,
      skillshowcheckbox62: 0,
      skillshowcheckbox63: 0,
      skillshowcheckbox64: 0,
      skillshowcheckbox65: 0,
      skillshowcheckbox66: 0,
      skillshowcheckbox67: 0,
      skillshowcheckbox68: 0,
      skillshowcheckbox69: 0
    });
});





on("change:skillshowallcheckbox8", function() {
    setAttrs({
      skillshowallcheckbox8: 0,
      skillhideheader8: 0,
      skillshowcheckbox70: 0,
      skillshowcheckbox71: 0,
      skillshowcheckbox72: 0
    });
});



on("change:skillshowallcheckbox9", function() {
    setAttrs({
      skillshowallcheckbox9: 0,
      skillhideheader9: 0,
      skillshowcheckbox73: 0,
      skillshowcheckbox74: 0,
      skillshowcheckbox75: 0,
      skillshowcheckbox76: 0
    });
});


on("change:repeating_perceptionusage:skilllimit", function() {
    getAttrs(["repeating_perceptionusage_skilllimit"], function(value) {
        setAttrs({
            repeating_perceptionusage_skilllimit_name: value.repeating_perceptionusage_skilllimit+"_name}",
            repeating_perceptionusage_skilllimit_value: value.repeating_perceptionusage_skilllimit+"_total}"
        });
    });
});

const skillIndices = Array.from(Array(77).keys()); // create an array of numbers from 0 to 76
for (const index in skillIndices) { // select each item in skillList as const skill
  on(`change:skilllimit${index}`, function (eventInfo) { // use template literal to append skill value to on change.

    getAttrs([`skilllimit${index}`], function() {
        setAttrs({
            [`skilllimit_name${index}`]: `${eventInfo.newValue}_name}`,
            [`skilllimit_value${index}`]: `${eventInfo.newValue}_total}`
        });
    });
  });

  on(`change:skillattr${index}`, function(eventInfo) {
    getAttrs([`skillattr${index}`], function() {
        setAttrs({
            [`skillattr_name${index}`]: `${eventInfo.newValue}_name}`,
            [`skillattr_value${index}`]: `${eventInfo.newValue}_total}`
        });
    });
});

}

on("change:repeating_knowledge:knowledgeattr", function() {
    getAttrs(["repeating_knowledge_knowledgeattr"], function(value) {
        setAttrs({
            repeating_knowledge_knowledgeattr_name: value.repeating_knowledge_knowledgeattr+"_name}",
            repeating_knowledge_knowledgeattr_total: value.repeating_knowledge_knowledgeattr+"_total}"
        });
    });
});

on('change:repeating_armors remove:repeating_armors', function(){
    TAS.repeating('armors')
    .attrs('armor_total')
    .fields('armorrating', 'armorworn')
    .reduce(function(m,r){
        if(r.armorworn === "on") {
            m.armorrating += r.F.armorrating;
        }
        return m;
    },
    {armorrating:0,armorworn:0, desc: []}, function (m,r,a){
        a.armor_total=m.armorrating;
    })
    .execute();
});


///////////////////////////
//                       //
//  CUSTOM ROLL PARSING  //
//                       //
///////////////////////////

on('clicked:roll', async (event) => {
  	await startRoll( event.htmlAttributes.value + "{{glitch=[[0]]}}{{reroll=[[0]]}}", (results) => {

        var glitchComputed = 0;
        var amount = results.results.result.dice.filter(x => x == 1).length;

        if(amount > results.results.result.dice.length/2) {
            glitchComputed = 1;

            if(results.results.result.result == 0) {
                glitchComputed = 2;
            }
        }

        var reroll = {
            dice: results.results.result.dice.length,
            successes: results.results.result.result,
            limit: (results.results.limit_num?.result ?? 100) + (results.results.limit_mod?.result ?? 0)
        }

	  	finishRoll(
		  	results.rollId,
		  	{
			  	glitch: glitchComputed,
			  	reroll:  rollEscape.escape(reroll)
		  	}
	  	);
  	  });
});

on('clicked:repeating_knowledge:roll clicked:repeating_alchemy:roll clicked:repeating_critterpowers:roll clicked:repeating_perceptionusage:roll clicked:repeating_spells:roll clicked:repeating_complexforms:roll',
     async (event) => {

	// prefix gets an empty string for normal attributes, and repeating_section_ID_ for repeating attributes
	var trigger = event.triggerName.slice(8); // this always starts with 'clicked:'
	var prefix = trigger.split('_').slice(0,3).join('_') + '_'

	let rollPart = event.htmlAttributes.value.replaceAll('prefix-', `${prefix}`);

  	await startRoll(rollPart + "{{glitch=[[0]]}}{{reroll=[[0]]}}", (results) => {

        var glitchComputed = 0;
        var amount = results.results.result.dice.filter(x => x == 1).length;

        if(amount > results.results.result.dice.length/2) {
            glitchComputed = 1;

            if(results.results.result.result == 0) {
                glitchComputed = 2;
            }
        }

        var reroll = {
            dice: results.results.result.dice.length,
            successes: results.results.result.result,
            limit: results.results.limit_num?.result ?? 100 + results.results.limit_mod?.result ?? 0
        }

	  	finishRoll(
		  	results.rollId,
		  	{
			  	glitch: glitchComputed,
                reroll:  rollEscape.escape(reroll)
		  	}
	  	);
  	  });
});

/////////////////////////////////
//  Things with Hits => drain  //
/////////////////////////////////

on('clicked:repeating_rituals:roll clicked:rollSummoning',
     async (event) => {

	// prefix gets an empty string for normal attributes, and repeating_section_ID_ for repeating attributes
	var trigger = event.triggerName.slice(8); // this always starts with 'clicked:'
	var prefix = trigger.split('_').slice(0,3).join('_') + '_'

	let rollPart = event.htmlAttributes.value.replaceAll('prefix-', `${prefix}`);

  	await startRoll(rollPart + "{{glitch=[[0]]}}{{nethits=[[0]]}}{{drain_num=[[0]]}}" , (results) => {

        var glitchComputed = 0;
        var amount = results.results.result.dice.filter(x => x == 1).length;

        if(amount > results.results.result.dice.length/2) {
            glitchComputed = 1;

            if(results.results.result.result == 0) {
                glitchComputed = 2;
            }
        }

        var nethitsComputed = results.results.result.result - results.results.opposing.result;
        var drainComputed = results.results.opposing.result*2;

	  	finishRoll(
		  	results.rollId,
		  	{
			  	glitch: glitchComputed,
			  	nethits: nethitsComputed,
			  	drain_num: drainComputed,

		  	}
	  	);
  	  });
});

/////////////////////
// Extended Rolls  //
/////////////////////

on('clicked:extendedroll', async (event) => {
  	let results = await startRoll( event.htmlAttributes.value + "{{passthrough=[[0]]}}{{glitch=[[0]]}} {{sumhits=[[0]]}}");

    var glitchComputed = 0;
    var amount = results.results.result.dice.filter(x => x == 1).length;

    if(amount > results.results.result.dice.length/2) {
        glitchComputed = 1;

        if(results.results.result.result == 0) {
            glitchComputed = 2;
        }
    }

    // Storing all the passthrough data required for the next roll in an Object helps for larger rolls
    let rollData = {
        dice: results.results.dice_num.result,
        limit: results.results.limit_num.result,
        totalhits: results.results.result.result,
        wounds: results.results.wounds_num != null ? results.results.wounds_num.result : 0,
        sustainedspells: results.results.sustainedspells != null ? results.results.sustainedspells.result : 0,
    }

    finishRoll(
        results.rollId,
        {
            glitch: glitchComputed,
            passthrough: rollEscape.escape(rollData),
            sumhits: results.results.result.result,
        }
    );
});

on('clicked:rollextended', async (ev) => {
    await rollExtended(ev);
});

const rollExtended = async (ev) => {
    // The data we passed into the button will be stored in the originalRollId key
    let previousRoll = rollEscape.unescape(ev.originalRollId);
    let attrs = await asw.getAttrs(['character_name', 'gmroll', 'edgeroll','edg_total','edgn','standardroll']);

    let rollBase = `${attrs.gmroll}&{template:extendedRoll}{{passthrough=[[0]]}}{{glitch=[[0]]}}{{sumhits=[[0]]}}{{tries=[[0]]}}{{name=${attrs.character_name}}}{{roll_name=again}}{{limit_num=${previousRoll.limit}}}{{edge=${attrs.edgeroll}}}{{edge_num=[[${attrs.edg_total}]]}}{{wounds_num=[[${previousRoll.wounds}]]}}{{sustainedspells=[[${previousRoll.sustainedspells}]]}}{{dice_num=[[${previousRoll.dice}-1]]}}{{result=[[(${previousRoll.dice}-1-[[${previousRoll.wounds}]]-[[${previousRoll.sustainedspells}]]+[[${attrs.edgn}*${attrs.edg_total}]])${attrs.standardroll}${attrs.edgeroll}kh${previousRoll.limit}]]}}`;
    let results = await startRoll(rollBase);

    let sumHits = previousRoll.totalhits + results.results.result.result;

    let rollData = {
        dice: results.results.dice_num.result,
        limit: previousRoll.limit,
        totalhits: sumHits,
        wounds: previousRoll.wounds,
        sustainedspells: previousRoll.sustainedspells,
    }


    finishRoll(results.rollId, {
        sumhits: sumHits,
        passthrough: rollEscape.escape(rollData),
    });
}

///////////////////
//  Edge Reroll  //
///////////////////

on('clicked:reroll', async (ev) => {
    await reroll(ev);
});

const reroll = async (ev) => {
    // The data we passed into the button will be stored in the originalRollId key
    let roll = rollEscape.unescape(ev.originalRollId);

    let attrs = await asw.getAttrs(['gmroll','character_name']);

    let rollBase = `${attrs.gmroll}&{template:reroll}{{name=${attrs.character_name}}}{{roll_name=again}}{{dice=[[${roll.dice}]]}}{{prior=[[${roll.successes}]]}}{{limit=Limit}}{{limit_num=[[${roll.limit}]]}}{{edgeSuccesses=[[0]]}}{{result=[[ {[[${roll.dice}-${roll.successes}]]d6>5sd+${roll.successes}, ${roll.limit}+0d0>1}kl1 ]] }}{{passthrough=[[0]]}}`;
    let reroll = await startRoll(rollBase);

    let passthrough = 0;
    if( roll.attack != undefined) {
        let attack = roll.attack;
        attack.attackHits = reroll.results.result.result;
        passthrough = rollEscape.escape(attack);
    }

    let edgeSuccesses = reroll.results.result.result - roll.successes;

    finishRoll(reroll.rollId, {
        passthrough: passthrough,
        edgeSuccesses: edgeSuccesses
    });
}


//////////////////////////////
//  Dogable weapon attacks  //
//////////////////////////////

on('clicked:rollWeapon', async (event) => {
    let rollPart = event.htmlAttributes.value;
    let dmgTypeName = rollPart.substring(rollPart.indexOf("weapondmgtype"), rollPart.indexOf("weapondmgtype")+14);
    let dmgType = await asw.getAttrs([dmgTypeName]);

    await rollDogableAttack(rollPart, dmgType);
});

on('clicked:repeating_weapons:rollweapon ' +
    'clicked:repeating_pistols:rollweapon clicked:repeating_automatics:rollweapon clicked:repeating_longarms:rollweapon clicked:repeating_heavyweapons:rollweapon clicked:repeating_closecombat:rollweapon '+
    'clicked:repeating_vehicles:rollweapon clicked:repeating_drones:rollweapon'
    ,  async (event) => {

	// prefix gets an empty string for normal attributes, and repeating_section_ID_ for repeating attributes
	var trigger = event.triggerName.slice(8); // this always starts with 'clicked:'
	var prefix = trigger.split('_').slice(0,3).join('_') + '_'

	let rollPart = event.htmlAttributes.value.replaceAll('prefix-', `${prefix}`);

    let dmgTypeName = `${prefix}` + rollPart.substring(rollPart.indexOf("weapondmgtype"), rollPart.indexOf("weapondmgtype")+13);
    let dmgType = await asw.getAttrs([dmgTypeName]);

    await rollDogableAttack(rollPart, dmgType);
});

on('clicked:repeating_ammotype1:roll clicked:repeating_ammotype2:roll clicked:repeating_ammotype3:roll clicked:repeating_ammotype4:roll clicked:repeating_ammotype5:roll ' +
    'clicked:repeating_ammotype6:roll clicked:repeating_ammotype7:roll clicked:repeating_ammotype8:roll clicked:repeating_weapons:rollammo ' +
    'clicked:repeating_pistols:rollammo clicked:repeating_automatics:rollammo clicked:repeating_longarms:rollammo clicked:repeating_heavyweapons:rollammo clicked:repeating_closecombat:rollammo',
     async (event) => {

	// prefix gets an empty string for normal attributes, and repeating_section_ID_ for repeating attributes
	var trigger = event.triggerName.slice(8); // this always starts with 'clicked:'
	var prefix = trigger.split('_').slice(0,3).join('_') + '_'

	let rollPart = event.htmlAttributes.value.replaceAll('prefix-', `${prefix}`);

    let dmgType;
    if(trigger.includes('weapon') || trigger.includes('pistols') || trigger.includes('automatics') || trigger.includes('longarms') || trigger.includes('heavyweapons') || trigger.includes('closecomba')) {
        let dmgTypeName = `${prefix}` + rollPart.substring(rollPart.indexOf("ammodmgtype"), rollPart.indexOf("ammodmgtype")+12);
        dmgType = await asw.getAttrs([dmgTypeName]);
        if(dmgType[Object.keys(dmgType)[0]].includes("@")) {
            dmgType = await asw.getAttrs([`${prefix}`+dmgType[Object.keys(dmgType)[0]].replace(/[^a-zA-Z0-9]/g, "")]);
        }
    }
    else {
        let row = trigger.split("-", 1)[0];
        let dmgTypeName = `${row}ammodmgtype`;
        dmgType = await asw.getAttrs([dmgTypeName]);
        if(dmgType[Object.keys(dmgType)[0]].includes("@")) {
            dmgType = await asw.getAttrs([dmgType[Object.keys(dmgType)[0]].replace(/[^a-zA-Z0-9]/g, "")]);
        }
    }

    await rollDogableAttack(rollPart, dmgType);

});

const rollDogableAttack = async (rollPart, dmgType) => {

    let attackRoll = await startRoll( rollPart + " {{passthrough=[[0]]}}{{glitch=[[0]]}}{{reroll=[[0]]}}");

    var glitchComputed = 0;
    var amount = attackRoll.results.result.dice.filter(x => x == 1).length;

    if(amount > attackRoll.results.result.dice.length/2) {
        glitchComputed = 1;

        if(attackRoll.results.result.result == 0) {
            glitchComputed = 2;
        }
    }

    let attrs = await asw.getAttrs(['character_name']);
    // Storing all the passthrough data required for the next roll in an Object helps for larger rolls
    let attackDmgType = dmgType[Object.keys(dmgType)[0]]

    if(!attackDmgType) {
        attackDmgType = 'P';
    }

    let rollData = {
        attacker: attrs.character_name,
        attackHits: attackRoll.results.result.result,
        attackAp: attackRoll.results.after1.result,
        attackDV: attackRoll.results.after1_num.result,
        attackDmgType: attackDmgType,
    }

    var reroll = {
        dice: attackRoll.results.result.dice.length,
        successes: attackRoll.results.result.result,
        limit: attackRoll.results.limit_num.result,
        attack: rollData
    }

    finishRoll(
        attackRoll.rollId,
        {
            glitch: glitchComputed,
            passthrough: rollEscape.escape(rollData),
            reroll:  rollEscape.escape(reroll)
        }
    );
}

on('clicked:reactdefend', async (ev) => {
    await rollReactDefend(ev);
});

const rollReactDefend = async (ev) => {
    // The data we passed into the button will be stored in the originalRollId key
    let attackRoll = rollEscape.unescape(ev.originalRollId);
    let attrs = await asw.getAttrs(['gmroll','character_name','rea_total', 'int_total', 'avoid_total', 'avoid_bonus', 'edgeroll','edg_total','wound_total','sustainedspells','edgn','standardroll']);

    let rollBase = `${attrs.gmroll}&{template:reactdefend}{{defend=Defend}}{{nethits=[[0]]}}{{attackAp=[[0]]}}{{attackDamage=[[0]]}}{{attackDmgType=[[0]]}}{{passthrough=[[0]]}}{{name=${attrs.character_name}}}{{attacker_name=${attackRoll.attacker}}}{{rea=[[${attrs.rea_total}}]]}}{{int=[[${attrs.int_total}]]}}{{bonus=[[${attrs.avoid_bonus}]]}}{{mod=[[?{Situational Modifiers|0}]]}}{{edge=${attrs.edgeroll}}}{{edge_num=[[${attrs.edg_total}]]}}{{wounds_num=[[${attrs.wound_total}]]}}{{sustainedspells=[[${attrs.sustainedspells}*2]]}}{{result=[[(${attrs.avoid_total}+?{Situational Modifiers}-[[${attrs.wound_total}]]-[[${attrs.sustainedspells}*2]]+[[${attrs.edgn}*${attrs.edg_total}]])${attrs.standardroll}${attrs.edgeroll}]]}}`;
    let defendRoll = await startRoll(rollBase);

    let defendSuccesses = defendRoll.results.result.result;
    let nethits = attackRoll.attackHits - defendSuccesses;
    let attackDamage = attackRoll.attackDV + nethits;

    let rollData = {
        attackAp: attackRoll.attackAp,
        attackDamage: attackDamage,
        attackDmgType: attackRoll.attackDmgType,
    }

    finishRoll(defendRoll.rollId, {
        nethits: nethits,
        attackAp: attackRoll.attackAp,
        attackDamage: attackDamage,
        attackDmgType: attackRoll.attackDmgType,
        passthrough: rollEscape.escape(rollData),
    });
}

on('clicked:reactdodge', async (ev) => {
    await rollReactDodge(ev);
});
const rollReactDodge = async (ev) => {
    // The data we passed into the button will be stored in the originalRollId key
    let attackRoll = rollEscape.unescape(ev.originalRollId);
    let attrs = await asw.getAttrs(['gmroll','character_name','rea_total', 'int_total', 'avoid_total', 'avoid_bonus', 'edgeroll','edg_total','wound_total','sustainedspells','edgn','standardroll']);
    let skill = await asw.getAttrs(['skillrating6', 'skillbonus6']);
    let limit = await asw.getAttrs(['skilllimitbonus6', 'physical_total']);

    let rollBase = `${attrs.gmroll}&{template:reactdefend}{{defend=Dodge}}{{nethits=[[0]]}}{{attackAp=[[0]]}}{{attackDamage=[[0]]}}{{attackDmgType=[[0]]}}{{passthrough=[[0]]}}{{name=${attrs.character_name}}}{{attacker_name=${attackRoll.attacker}}}{{rea=[[${attrs.rea_total}}]]}}{{int=[[${attrs.int_total}]]}}{{bonus=[[${attrs.avoid_bonus}]]}}{{skill=@{skillname6}}}{{skilldice=[[${skill.skillrating6}+${skill.skillbonus6}]]}}{{mod=[[?{Situational Modifiers|0}]]}}{{edge=${attrs.edgeroll}}}{{edge_num=[[${attrs.edg_total}]]}}{{limit=[[${limit.physical_total}+${limit.skilllimitbonus6}]]}}{{wounds_num=[[${attrs.wound_total}]]}}{{sustainedspells=[[${attrs.sustainedspells}*2]]}}{{result=[[(${attrs.avoid_total}+[[${skill.skillrating6}+${skill.skillbonus6}]]+?{Situational Modifiers}-[[${attrs.wound_total}]]-[[${attrs.sustainedspells}*2]]+[[${attrs.edgn}*${attrs.edg_total}]])${attrs.standardroll}${attrs.edgeroll}kh[[${limit.physical_total}+${limit.skilllimitbonus6}]] ]]}}{{description= -5 Initiative}}`;
     console.log(rollBase);
    let defendRoll = await startRoll(rollBase);

    let defendSuccesses = defendRoll.results.result.result;
    let nethits = attackRoll.attackHits - defendSuccesses;
    let attackDamage = attackRoll.attackDV + nethits;

    let rollData = {
        attackAp: attackRoll.attackAp,
        attackDamage: attackDamage,
        attackDmgType: attackRoll.attackDmgType,
    }

    finishRoll(defendRoll.rollId, {
        nethits: nethits,
        attackAp: attackRoll.attackAp,
        attackDamage: attackDamage,
        attackDmgType: attackRoll.attackDmgType,
        passthrough: rollEscape.escape(rollData),
    });
}

/////////////////////
//  Melee Defense  //
/////////////////////

on('clicked:reactmelee', async (ev) => {
    await rollMelee(ev);
});
const rollMelee = async (ev) => {
    let character = await asw.getAttrs(['character_name']);
    let defendOption = await asw.getAttrs(['showBlock', 'showCounterstrike', 'showParry', 'showRiposte']);

    console.log(defendOption);

    if(defendOption.showBlock == "on" && defendOption.showCounterstrike == 0 && defendOption.showParry == 0 && defendOption.showRiposte == 0) {
        await rollReactBlock(ev);
        return;
    }

    if(defendOption.showBlock == 0 && defendOption.showCounterstrike == "on" && defendOption.showParry == 0 && defendOption.showRiposte == 0) {
        await rollReactCounterstrike(ev);
        return;
    }

    if(defendOption.showBlock == 0 && defendOption.showCounterstrike == 0 && defendOption.showParry == "on" && defendOption.showRiposte == 0) {
        await rollReactParry(ev);
        return;
    }

    if(defendOption.showBlock == 0 && defendOption.showCounterstrike == 0 && defendOption.showParry == 0 && defendOption.showRiposte == "on") {
        await rollReactRiposte(ev);
        return;
    }

    let rollBase = `/w ${character.character_name} &{template:meleedefend}{{passthrough=[[0]]}}{{showBlock=[[0]]}}{{showCounterstrike=[[0]]}}{{showParry=[[0]]}}{{showRiposte=[[0]]}}`;
    if(defendOption.showBlock == 0 && defendOption.showCounterstrike == 0 && defendOption.showParry == 0 && defendOption.showRiposte == 0) {
        rollBase += '{{configuration= Melee Defense is not configured. Set it under Character -> Defense Settings -> Melee}}'
    }
    let defendRoll = await startRoll(rollBase);

    finishRoll(defendRoll.rollId, {
        passthrough: ev.originalRollId,
        showBlock: defendOption.showBlock == "on" ? 1 : 0,
        showCounterstrike: defendOption.showCounterstrike == "on" ? 1 : 0,
        showParry: defendOption.showParry == "on" ? 1 : 0,
        showRiposte: defendOption.showRiposte == "on" ? 1 : 0,
    });
}

on('clicked:reactparry', async (ev) => {
    await rollReactParry(ev);
});
const rollReactParry = async (ev) => {
    // The data we passed into the button will be stored in the originalRollId key
    let attackRoll = rollEscape.unescape(ev.originalRollId);
    let attrs = await asw.getAttrs(['gmroll','character_name','rea_total', 'int_total', 'avoid_total', 'avoid_bonus', 'edgeroll','edg_total','wound_total','sustainedspells','edgn','standardroll']);

    let choosenSkill = await asw.getAttrs(['parrySkill']);
    let skill = await asw.getAttrs(['skillname' + choosenSkill.parrySkill, 'skillrating' + choosenSkill.parrySkill, 'skillbonus' + choosenSkill.parrySkill]);
    let limit = await asw.getAttrs(['parryAccuracy']);


    let rollBase = `${attrs.gmroll}&{template:reactdefend}{{defend=Parry}}{{nethits=[[0]]}}{{attackAp=[[0]]}}{{attackDamage=[[0]]}}{{attackDmgType=[[0]]}}{{passthrough=[[0]]}}{{name=${attrs.character_name}}}{{attacker_name=${attackRoll.attacker}}}{{rea=[[${attrs.rea_total}}]]}}{{int=[[${attrs.int_total}]]}}{{bonus=[[${attrs.avoid_bonus}]]}}{{skill=${skill[Object.keys(skill)[0]]}}}{{skilldice=[[${skill[Object.keys(skill)[1]]}+${skill[Object.keys(skill)[2]]}]]}}{{mod=[[?{Situational Modifiers|0}]]}}{{edge=${attrs.edgeroll}}}{{edge_num=[[${attrs.edg_total}]]}}{{limit=[[${limit.parryAccuracy}]]}}{{wounds_num=[[${attrs.wound_total}]]}}{{sustainedspells=[[${attrs.sustainedspells}*2]]}}{{result=[[(${attrs.avoid_total}+[[${skill[Object.keys(skill)[1]]}+${skill[Object.keys(skill)[2]]}]]+?{Situational Modifiers}-[[${attrs.wound_total}]]-[[${attrs.sustainedspells}*2]]+[[${attrs.edgn}*${attrs.edg_total}]])${attrs.standardroll}${attrs.edgeroll}kh[[${limit.parryAccuracy}]] ]]}}{{description= -5 Initiative}}`;

    if(limit.parryAccuracy == 0) {
        rollBase += '{{configuration= Set Limit under Character -> Defense Settings -> Melee}}'
    }

    let defendRoll = await startRoll(rollBase);

    let defendSuccesses = defendRoll.results.result.result;
    let nethits = attackRoll.attackHits - defendSuccesses;
    let attackDamage = attackRoll.attackDV + nethits;

    let rollData = {
        attackAp: attackRoll.attackAp,
        attackDamage: attackDamage,
        attackDmgType: attackRoll.attackDmgType,
    }

    finishRoll(defendRoll.rollId, {
        nethits: nethits,
        attackAp: attackRoll.attackAp,
        attackDamage: attackDamage,
        attackDmgType: attackRoll.attackDmgType,
        passthrough: rollEscape.escape(rollData),
    });
}

on('clicked:reactriposte', async (ev) => {
    await rollReactRiposte(ev);
});
const rollReactRiposte = async (ev) => {
    // The data we passed into the button will be stored in the originalRollId key
    let attackRoll = rollEscape.unescape(ev.originalRollId);
    let attrs = await asw.getAttrs(['gmroll','character_name','rea_total', 'edgeroll','edg_total','wound_total','sustainedspells','edgn','standardroll']);

    let choosenSkill = await asw.getAttrs(['parrySkill']);
    let skill = await asw.getAttrs(['skillname' + choosenSkill.parrySkill, 'skillrating' + choosenSkill.parrySkill, 'skillbonus' + choosenSkill.parrySkill]);
    let limit = await asw.getAttrs(['parryAccuracy']);
    let riposte = await asw.getAttrs(['riposteDamage', 'riposteAp', 'riposteWeaponDmgtype']);

    let rollBase = `${attrs.gmroll}&{template:reactdefend}{{defend=Riposte}}{{nethits=[[0]]}}{{counterhits=[[0]]}}{{attackAp=[[0]]}}{{attackDamage=[[0]]}}{{attackDmgType=[[0]]}}{{passthrough=[[0]]}}{{name=${attrs.character_name}}}{{attacker_name=${attackRoll.attacker}}}{{rea=[[${attrs.rea_total}}]]}}{{skill=${skill[Object.keys(skill)[0]]}}}{{skilldice=[[${skill[Object.keys(skill)[1]]}+${skill[Object.keys(skill)[2]]}]]}}{{mod=[[?{Situational Modifiers|0}]]}}{{edge=${attrs.edgeroll}}}{{edge_num=[[${attrs.edg_total}]]}}{{limit=[[${limit.parryAccuracy}]]}}{{wounds_num=[[${attrs.wound_total}]]}}{{sustainedspells=[[${attrs.sustainedspells}*2]]}}{{result=[[(${attrs.rea_total}+[[${skill[Object.keys(skill)[1]]}+${skill[Object.keys(skill)[2]]}]]+?{Situational Modifiers}-[[${attrs.wound_total}]]-[[${attrs.sustainedspells}*2]]+[[${attrs.edgn}*${attrs.edg_total}]])${attrs.standardroll}${attrs.edgeroll}kh[[${limit.parryAccuracy}]] ]]}}{{description= -7 Initiative, +2 DV taken (already included)}}`;

    if(limit.parryAccuracy == 0 || riposte.riposteDamage == 0) {
        rollBase += '{{configuration= Configure Riposte under Character -> Defense Settings -> Melee}}'
    }

    let defendRoll = await startRoll(rollBase);

    let defendSuccesses = defendRoll.results.result.result;
    let nethits = attackRoll.attackHits - defendSuccesses;
    let counterhits = defendSuccesses - attackRoll.attackHits;

    let attackDamage;
    if(nethits > counterhits) {
        attackDamage = attackRoll.attackDV + nethits + 2;
    } else {
        attackDamage = parseInt(riposte.riposteDamage) + parseInt(counterhits);
    }

    let attackAp;
    if(nethits > counterhits) {
        attackAp = attackRoll.attackAp;
    } else {
        attackAp = riposte.riposteAp;
    }

    let attackDmgType;
    if(nethits > counterhits) {
        attackDmgType = attackRoll.attackDmgType;
    } else {
        attackDmgType = riposte.riposteWeaponDmgtype;
    }


    let rollData = {
        attackAp: attackAp,
        attackDamage: attackDamage,
        attackDmgType: attackDmgType,
    }

    finishRoll(defendRoll.rollId, {
        nethits: nethits,
        counterhits: counterhits,
        attackAp: attackAp,
        attackDamage: attackDamage,
        attackDmgType: attackDmgType,
        passthrough: rollEscape.escape(rollData),
    });
}

on('clicked:reactblock', async (ev) => {
    await rollReactBlock(ev);
});
const rollReactBlock = async (ev) => {
    // The data we passed into the button will be stored in the originalRollId key
    let attackRoll = rollEscape.unescape(ev.originalRollId);
    let attrs = await asw.getAttrs(['gmroll','character_name','rea_total', 'int_total', 'avoid_total', 'avoid_bonus', 'edgeroll','edg_total','wound_total','sustainedspells','edgn','standardroll']);
    let skill = await asw.getAttrs(['skillrating51', 'skillbonus51']);
    let limit = await asw.getAttrs(['skilllimitbonus51', 'physical_total']);

    let rollBase = `${attrs.gmroll}&{template:reactdefend}{{defend=Block}}{{nethits=[[0]]}}{{attackAp=[[0]]}}{{attackDamage=[[0]]}}{{attackDmgType=[[0]]}}{{passthrough=[[0]]}}{{name=${attrs.character_name}}}{{attacker_name=${attackRoll.attacker}}}{{rea=[[${attrs.rea_total}}]]}}{{int=[[${attrs.int_total}]]}}{{bonus=[[${attrs.avoid_bonus}]]}}{{skill=@{skillname51}}}{{skilldice=[[${skill.skillrating51}+${skill.skillbonus51}]]}}{{mod=[[?{Situational Modifiers|0}]]}}{{edge=${attrs.edgeroll}}}{{edge_num=[[${attrs.edg_total}]]}}{{limit=[[${limit.physical_total}+${limit.skilllimitbonus51}]]}}{{wounds_num=[[${attrs.wound_total}]]}}{{sustainedspells=[[${attrs.sustainedspells}*2]]}}{{result=[[(${attrs.avoid_total}+[[${skill.skillrating51}+${skill.skillbonus51}]]+?{Situational Modifiers}-[[${attrs.wound_total}]]-[[${attrs.sustainedspells}*2]]+[[${attrs.edgn}*${attrs.edg_total}]])${attrs.standardroll}${attrs.edgeroll}kh[[${limit.physical_total}+${limit.skilllimitbonus51}]] ]]}}{{description= -5 Initiative}}`;
    let defendRoll = await startRoll(rollBase);

    let defendSuccesses = defendRoll.results.result.result;
    let nethits = attackRoll.attackHits - defendSuccesses;
    let attackDamage = attackRoll.attackDV + nethits;

    let rollData = {
        attackAp: attackRoll.attackAp,
        attackDamage: attackDamage,
        attackDmgType: attackRoll.attackDmgType,
    }

    finishRoll(defendRoll.rollId, {
        nethits: nethits,
        attackAp: attackRoll.attackAp,
        attackDamage: attackDamage,
        attackDmgType: attackRoll.attackDmgType,
        passthrough: rollEscape.escape(rollData),
    });
}

on('clicked:reactcounterstrike', async (ev) => {
    await rollReactCounterstrike(ev);
});
const rollReactCounterstrike = async (ev) => {
    // The data we passed into the button will be stored in the originalRollId key
    let attackRoll = rollEscape.unescape(ev.originalRollId);
    let attrs = await asw.getAttrs(['gmroll','character_name','rea_total', 'edgeroll','edg_total','wound_total','sustainedspells','edgn','standardroll']);
    let skill = await asw.getAttrs(['skillrating51', 'skillbonus51']);
    let limit = await asw.getAttrs(['skilllimitbonus51', 'physical_total']);
    let counterstrike = await asw.getAttrs(['counterstrikeDamage', 'counterstrikeAp', 'counterstrikeWeaponDmgtype']);

    let rollBase = `${attrs.gmroll}&{template:reactdefend}{{defend=Block}}{{nethits=[[0]]}}{{counterhits=[[0]]}}{{attackAp=[[0]]}}{{attackDamage=[[0]]}}{{attackDmgType=[[0]]}}{{passthrough=[[0]]}}{{name=${attrs.character_name}}}{{attacker_name=${attackRoll.attacker}}}{{rea=[[${attrs.rea_total}}]]}}{{skill=@{skillname51}}}{{skilldice=[[${skill.skillrating51}+${skill.skillbonus51}]]}}{{mod=[[?{Situational Modifiers|0}]]}}{{edge=${attrs.edgeroll}}}{{edge_num=[[${attrs.edg_total}]]}}{{limit=[[${limit.physical_total}+${limit.skilllimitbonus51}]]}}{{wounds_num=[[${attrs.wound_total}]]}}{{sustainedspells=[[${attrs.sustainedspells}*2]]}}{{result=[[(${attrs.rea_total}+[[${skill.skillrating51}+${skill.skillbonus51}]]+?{Situational Modifiers}-[[${attrs.wound_total}]]-[[${attrs.sustainedspells}*2]]+[[${attrs.edgn}*${attrs.edg_total}]])${attrs.standardroll}${attrs.edgeroll}kh[[${limit.physical_total}+${limit.skilllimitbonus51}]] ]]}}{{description= -7 Initiative}}`;
    if(counterstrike.counterstrikeDamage == 0) {
        rollBase += '{{configuration= Configure Counterstrike under Character -> Defense Settings -> Melee}}'
    }
    console.log(rollBase);
    let defendRoll = await startRoll(rollBase);

    let defendSuccesses = defendRoll.results.result.result;
    let nethits = attackRoll.attackHits - defendSuccesses;
    let counterhits = defendSuccesses - attackRoll.attackHits;

    let attackDamage;
    if(nethits > counterhits) {
        attackDamage = attackRoll.attackDV + nethits + 2;
    } else {
        attackDamage = parseInt(counterstrike.counterstrikeDamage) + parseInt(counterhits);
    }

    let attackAp;
    if(nethits > counterhits) {
        attackAp = attackRoll.attackAp;
    } else {
        attackAp = counterstrike.counterstrikeAp;
    }

    let attackDmgType;
    if(nethits > counterhits) {
        attackDmgType = attackRoll.attackDmgType;
    } else {
        attackDmgType = counterstrike.counterstrikeWeaponDmgtype;
    }


    let rollData = {
        attackAp: attackAp,
        attackDamage: attackDamage,
        attackDmgType: attackDmgType,
    }

    finishRoll(defendRoll.rollId, {
        nethits: nethits,
        counterhits: counterhits,
        attackAp: attackAp,
        attackDamage: attackDamage,
        attackDmgType: attackDmgType,
        passthrough: rollEscape.escape(rollData),
    });
}

on('clicked:reactsoak', async (ev) => {
    await rollReactSoak(ev);
});

const rollReactSoak = async (ev) => {
    // The data we passed into the button will be stored in the originalRollId key
    let dmgRoll = rollEscape.unescape(ev.originalRollId);
    let attrs = await asw.getAttrs(['gmroll','character_name','bod_total', 'armor_total', 'soak_bonus', 'edgeroll','edg_total','edgn','standardroll']);

    //AP only reduces armor
    let armorPenetration = parseInt(attrs.armor_total) + parseInt(dmgRoll.attackAp) < 0  ? -attrs.armor_total : dmgRoll.attackAp;
    console.log(armorPenetration);

    if(attrs.armor_total == 0){
        armorPenetration = 0;
    }

    let rollBase = `${attrs.gmroll}&{template:reactsoak}{{dmgTaken=[[0]]}}{{dmgType=[[0]]}}{{name=${attrs.character_name}}}{{body=[[${attrs.bod_total}}]]}}{{armor=[[${attrs.armor_total}]]}}{{ap=[[${armorPenetration}]]}}{{bonus=[[${attrs.soak_bonus}]]}}{{mod=[[?{Situational Modifiers|0}]]}}{{edge=${attrs.edgeroll}}}{{edge_num=[[${attrs.edg_total}]]}}{{result=[[([[${attrs.bod_total}}]]+[[${attrs.armor_total}]]+[[${attrs.soak_bonus}]]+[[${armorPenetration}]]+[[?{Situational Modifiers}]]+[[${attrs.edgn}*${attrs.edg_total}]])${attrs.standardroll}${attrs.edgeroll}]]}}`;
    let soakRoll = await startRoll(rollBase);

    let soakSuccesses = soakRoll.results.result.result;
    let dmgTaken = dmgRoll.attackDamage - soakSuccesses;
    let dmgType = dmgRoll.attackDmgType;

    if(dmgType.includes('P') && attrs.armor_total > 0) {
     dmgType = dmgRoll.attackDamage > (attrs.armor_total + armorPenetration + soakRoll.results.mod.result) ? dmgRoll.attackDmgType : 'S';
    }

    finishRoll(soakRoll.rollId, {
        dmgTaken: dmgTaken,
        dmgType: dmgType
    });
}


const rollEscape = {
    chars: {
        '"': '%quot;',
        ',': '%comma;',
        ':': '%colon;',
        '}': '%rcub;',
        '{': '%lcub;',
        ')': '%rbrac;',
        '(': '%lbrac;',
    },
    escape(str) {
        str = (typeof(str) === 'object') ? JSON.stringify(str) : (typeof(str) === 'string') ? str : null;
        return (str) ? `${str}`.replace(new RegExp(`[${Object.keys(this.chars)}]`, 'g'), (r) => this.chars[r]) : null;
    },
    unescape(str) {
        str = `${str}`.replace(new RegExp(`(${Object.values(this.chars).join('|')})`, 'g'), (r) => Object.entries(this.chars).find(e=>e[1]===r)[0]);
        return JSON.parse(str);
    }
}

const asw = (() => {
    const setActiveCharacterId = function(charId){
        let oldAcid=getActiveCharacterId();
        let ev = new CustomEvent("message");
        ev.data={"id":"0", "type":"setActiveCharacter", "data":charId};
        self.dispatchEvent(ev);
        return oldAcid;
    };
    const promisifyWorker = (worker, parameters) => {
        let acid=getActiveCharacterId();
        let prevAcid=null;
        return new Promise((res,rej)=>{
            prevAcid=setActiveCharacterId(acid);
            try {if (worker===0) getAttrs(parameters[0]||[],(v)=>res(v));
                else if (worker===1) setAttrs(parameters[0]||{}, parameters[1]||{},(v)=>res(v));
                else if (worker===2) getSectionIDs(parameters[0]||'',(v)=>res(v));
            } catch(err) {rej(console.error(err))}
        }).finally(()=>setActiveCharacterId(prevAcid));
    }
    return {
        getAttrs(attrArray) {return promisifyWorker(0, [attrArray])},
        setAttrs(attrObj, options) {return promisifyWorker(1, [attrObj, options])},
        getSectionIDs(section) {return promisifyWorker(2, [section])},
        setActiveCharacterId,
    }
})();


/* ---- BEGIN: TheAaronSheet.js ---- */
// Github:   https://github.com/shdwjk/TheAaronSheet/blob/master/TheAaronSheet.js
// By:       The Aaron, Arcane Scriptomancer
// Contact:  https://app.roll20.net/users/104025/the-aaron

var TAS = TAS || (function(){
    'use strict';

    var version = '0.2.5',
        lastUpdate = 1504710542,

        loggingSettings = {
            debug: {
                key:     'debug',
                title:   'DEBUG',
                color: {
                    bgLabel: '#7732A2',
                    label:   '#F2EF40',
                    bgText:  '#FFFEB7',
                    text:    '#7732A2'
                }
            },
            error: {
                key:     'error',
                title:   'Error',
                color: {
                    bgLabel: '#C11713',
                    label:   'white',
                    bgText:  '#C11713',
                    text:    'white'
                }
            },
            warn: {
                key:     'warn',
                title:   'Warning',
                color: {
                    bgLabel: '#F29140',
                    label:   'white',
                    bgText:  '#FFD8B7',
                    text:    'black'
                }
            },
            info: {
                key:     'info',
                title:   'Info',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#B3B2EB',
                    text:    'black'
                }
            },
            notice: {
                key:     'notice',
                title:   'Notice',
                color: {
                    bgLabel: '#33C133',
                    label:   'white',
                    bgText:  '#ADF1AD',
                    text:    'black'
                }
            },
            log: {
                key:     'log',
                title:   'Log',
                color: {
                    bgLabel: '#f2f240',
                    label:   'black',
                    bgText:  '#ffff90',
                    text:    'black'
                }
            },
            callstack: {
                key:     'TAS',
                title:   'function',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#B3B2EB',
                    text:    'black'
                }
            },
            callstack_async: {
                key:     'TAS',
                title:   'ASYNC CALL',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#413FA9',
                    text:    'white'
                }
            },
            TAS: {
                key:     'TAS',
                title:   'TAS',
                color: {
                    bgLabel: 'grey',
                    label:   'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)',
                    bgText:  'grey',
                    text:    'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)'
                }
            }
        },


        config = {
            debugMode: false,
            logging: {
                log: true,
                notice: true,
                info: true,
                warn: true,
                error: true,
                debug: false
            }
        },

        callstackRegistry = [],
		queuedUpdates = {}, //< Used for delaying saves till the last moment.

    complexType = function(o){
        switch(typeof o){
            case 'string':
                return 'string';
            case 'boolean':
                return 'boolean';
            case 'number':
                return (_.isNaN(o) ? 'NaN' : (o.toString().match(/\./) ? 'decimal' : 'integer'));
            case 'function':
                return 'function: '+(o.name ? o.name+'()' : '(anonymous)');
            case 'object':
                return (_.isArray(o) ? 'array' : (_.isArguments(o) ? 'arguments' : ( _.isNull(o) ? 'null' : 'object')));
            default:
                return typeof o;
        }
    },

	dataLogger = function(primaryLogger,secondaryLogger,data){
        _.each(data,function(m){
            var type = complexType(m);
            switch(type){
                case 'string':
                    primaryLogger(m);
                    break;
                case 'undefined':
                case 'null':
                case 'NaN':
                    primaryLogger('['+type+']');
                    break;
                case 'number':
                case 'not a number':
                case 'integer':
                case 'decimal':
                case 'boolean':
                    primaryLogger('['+type+']: '+m);
                    break;
                default:
                    primaryLogger('['+type+']:=========================================');
                    secondaryLogger(m);
                    primaryLogger('=========================================================');
                    break;
            }
        });
	},


    colorLog = function(options){
        var coloredLoggerFunction,
            key = options.key,
            label = options.title || 'TAS',
            lBGColor = (options.color && options.color.bgLabel) || 'blue',
            lTxtColor = (options.color && options.color.label) || 'white',
            mBGColor = (options.color && options.color.bgText) || 'blue',
            mTxtColor = (options.color && options.color.text) || 'white';

        coloredLoggerFunction = function(message){
            /* eslint-disable no-console */
            console.log(
                '%c '+label+': %c '+message + ' ',
                'background-color: '+lBGColor+';color: '+lTxtColor+'; font-weight:bold;',
                'background-color: '+mBGColor+';color: '+mTxtColor+';'
            );
            /* eslint-enable no-console */
        };
        return function(){
            if('TAS'===key || config.logging[key]){
                /* eslint-disable no-console */
               dataLogger(coloredLoggerFunction,function(m){console.log(m);},_.toArray(arguments));
                /* eslint-enable no-console */
            }
        };
    },

    logDebug  = colorLog(loggingSettings.debug),
    logError  = colorLog(loggingSettings.error),
    logWarn   = colorLog(loggingSettings.warn),
    logInfo   = colorLog(loggingSettings.info),
    logNotice = colorLog(loggingSettings.notice),
    logLog    = colorLog(loggingSettings.log),
    log       = colorLog(loggingSettings.TAS),
    logCS     = colorLog(loggingSettings.callstack),
    logCSA    = colorLog(loggingSettings.callstack_async),

    registerCallstack = function(callstack,label){
        var idx=_.findIndex(callstackRegistry,function(o){
            return (_.difference(o.stack,callstack).length === _.difference(callstack,o.stack).length) &&
                _.difference(o.stack,callstack).length === 0 &&
                o.label === label;
        });
        if(-1 === idx){
            idx=callstackRegistry.length;
            callstackRegistry.push({
                stack: callstack,
                label: label
            });
        }
        return idx;
    },

    setConfigOption = function(options){
        var newconf =_.defaults(options,config);
        newconf.logging=_.defaults(
            (options && options.logging)||{},
            config.logging
        );
        config=newconf;
    },

    isDebugMode = function(){
        return config.debugMode;
    },

    debugMode = function(){
        config.logging.debug=true;
        config.debugMode = true;
    },

    getCallstack = function(){
        var e = new Error('dummy'),
            stack = _.map(_.rest(e.stack.replace(/^[^(]+?[\n$]/gm, '')
            .replace(/^\s+at\s+/gm, '')
            .replace(/^Object.<anonymous>\s*\(/gm, '{anonymous}()@')
            .split('\n')),function(l){
                return l.replace(/\s+.*$/,'');
            });
        return stack;
    },
    logCallstackSub = function(cs){
        var matches, csa;
        _.find(cs,function(line){
            matches = line.match(/TAS_CALLSTACK_(\d+)/);
            if(matches){
               csa=callstackRegistry[matches[1]];
               logCSA( '===================='+(csa.label ? '> '+csa.label+' <' : '')+'====================');
               logCallstackSub(csa.stack);
               return true;
            }
            logCS(line);
            return false;
        });
    },
    logCallstack = function(){
        var cs;
        if(config.debugMode){
            cs = getCallstack();
            cs.shift();
            log('==============================> CALLSTACK <==============================');
            logCallstackSub(cs);
            log('=========================================================================');
        }
    },


    wrapCallback = function (label, callback, context){
        var callstack;
        if('function' === typeof label){
            context=callback;
            callback=label;
            label=undefined;
        }
        if(!config.debugMode){
            return (function(cb,ctx){
                return function(){
                    cb.apply(ctx||{},arguments);
                };
            }(callback,context));
        }

        callstack = getCallstack();
        callstack.shift();

        return (function(cb,ctx,cs,lbl){
            var ctxref=registerCallstack(cs,lbl);

            /*jshint -W054 */
            return new Function('cb','ctx','TASlog',
                "return function TAS_CALLSTACK_"+ctxref+"(){"+
                    "var start,end;"+
                    "TASlog('Entering: '+(cb.name||'(anonymous function)'));"+
                    "start=_.now();"+
                    "cb.apply(ctx||{},arguments);"+
                    "end=_.now();"+
                    "TASlog('Exiting: '+(cb.name||'(anonymous function)')+' :: '+(end-start)+'ms elapsed');"+
                "};")(cb,ctx,log);
            /*jshint +W054 */
        }(callback,context,callstack,label));
    },


    prepareUpdate = function( attribute, value ){
        queuedUpdates[attribute]=value;
    },

    applyQueuedUpdates = function() {
      setAttrs(queuedUpdates);
      queuedUpdates = {};
    },

	namesFromArgs = function(args,base){
        return _.chain(args)
            .reduce(function(memo,attr){
                if('string' === typeof attr) {
                    memo.push(attr);
                } else if(_.isArray(args) || _.isArguments(args)){
                    memo = namesFromArgs(attr,memo);
                }
                return memo;
            },(_.isArray(base) && base) || [])
            .uniq()
            .value();
	},

	addId = function(obj,value){
		Object.defineProperty(obj,'id',{
			value: value,
			writable: false,
			enumerable: false
		});
	},

	addProp = function(obj,prop,value,fullname){
		(function(){
            var pname=(_.contains(['S','F','I','D'],prop) ? '_'+prop : prop),
                full_pname = fullname || prop,
                pvalue=value;

            _.each(['S','I','F'],function(p){
                if( !_.has(obj,p)){
                    Object.defineProperty(obj, p, {
                        value: {},
                        enumerable: false,
                        readonly: true
                    });
                }
            });
            if( !_.has(obj,'D')){
                Object.defineProperty(obj, 'D', {
                    value: _.reduce(_.range(10),function(m,d){
                            Object.defineProperty(m, d, {
                                value: {},
                                enumerable: true,
                                readonly: true
                            });
                            return m;
                        },{}),
                    enumerable: false,
                    readonly: true
                });
            }


            // Raw value
			Object.defineProperty(obj, pname, {
                enumerable: true,
				set: function(v){
                    if(v!==pvalue) {
                        pvalue=v;
                        prepareUpdate(full_pname,v);
                    }
				},
				get: function(){
					return pvalue;
				}
			});

            // string value
			Object.defineProperty(obj.S, pname, {
                enumerable: true,
				set: function(v){
                    var val=v.toString();
                    if(val !== pvalue) {
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    }
				},
				get: function(){
					return pvalue.toString();
				}
			});

            // int value
			Object.defineProperty(obj.I, pname, {
                enumerable: true,
				set: function(v){
                    var val=parseInt(v,10) || 0;
                    if(val !== pvalue){
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    }
				},
				get: function(){
					return parseInt(pvalue,10) || 0;
				}
			});

            // float value
			Object.defineProperty(obj.F, pname, {
                enumerable: true,
				set: function(v){
                    var val=parseFloat(v) || 0;
                    if(val !== pvalue) {
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    }
				},
				get: function(){
					return parseFloat(pvalue) || 0;
				}
			});
            _.each(_.range(10),function(d){
                Object.defineProperty(obj.D[d], pname, {
                    enumerable: true,
                    set: function(v){
                        var val=(parseFloat(v) || 0).toFixed(d);
                        if(val !== pvalue){
                            pvalue=val;
                            prepareUpdate(full_pname,val);
                        }
                    },
                    get: function(){
                        return (parseFloat(pvalue) || 0).toFixed(d);
                    }
                });
            });

		}());
	},

	repeating = function( section ) {
		return (function(s){
			var sectionName = s,
				attrNames = [],
				fieldNames = [],
				operations = [],
                after = [],

			repAttrs = function TAS_Repeating_Attrs(){
				attrNames = namesFromArgs(arguments,attrNames);
				return this;
			},
			repFields = function TAS_Repeating_Fields(){
				fieldNames = namesFromArgs(arguments,fieldNames);
				return this;
			},
			repReduce = function TAS_Repeating_Reduce(func, initial, final, context) {
				operations.push({
                    type: 'reduce',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    memo: (_.isUndefined(initial) && 0) || initial,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
			},
			repMap = function TAS_Repeating_Map(func, final, context) {
				operations.push({
                    type: 'map',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
			},
            repEach = function TAS_Repeating_Each(func, final, context) {
				operations.push({
                    type: 'each',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
            },
            repTap = function TAS_Repeating_Tap(final, context) {
				operations.push({
                    type: 'tap',
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
            },
            repAfter = function TAS_Repeating_After(callback,context) {
				after.push({
                    callback: (callback && _.isFunction(callback) && callback) || _.noop,
                    context: context || {}
                });
				return this;
            },
			repExecute = function TAS_Repeating_Execute(callback,context){
				var rowSet = {},
					attrSet = {},
					fieldIds = [],
					fullFieldNames = [];

                repAfter(callback,context);

				// call each operation per row.
				// call each operation's final
				getSectionIDs("repeating_"+sectionName,function(ids){
					fieldIds = ids;
					fullFieldNames = _.reduce(fieldIds,function(memo,id){
						return memo.concat(_.map(fieldNames,function(name){
							return 'repeating_'+sectionName+'_'+id+'_'+name;
						}));
					},[]);
					getAttrs( _.uniq(attrNames.concat(fullFieldNames)), function(values){
						_.each(attrNames,function(aname){
							if(values.hasOwnProperty(aname)){
								addProp(attrSet,aname,values[aname]);
							}
						});

						rowSet = _.reduce(fieldIds,function(memo,id){
							var r={};
							addId(r,id);
							_.each(fieldNames,function(name){
								var fn = 'repeating_'+sectionName+'_'+id+'_'+name;
								addProp(r,name,values[fn],fn);
							});

							memo[id]=r;

							return memo;
						},{});

                        _.each(operations,function(op){
                            var res;
                            switch(op.type){
                                case 'tap':
                                    _.bind(op.final,op.context,rowSet,attrSet)();
                                    break;

                                case 'each':
                                    _.each(rowSet,function(r){
                                        _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,rowSet,attrSet)();
                                    break;

                                case 'map':
                                    res = _.map(rowSet,function(r){
                                        return _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,res,rowSet,attrSet)();
                                    break;

                                case 'reduce':
                                    res = op.memo;
                                    _.each(rowSet,function(r){
                                        res = _.bind(op.func,op.context,res,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,res,rowSet,attrSet)();
                                    break;
                            }
                        });

                        // finalize attrs
                        applyQueuedUpdates();
                        _.each(after,function(op){
                            _.bind(op.callback,op.context)();
                        });
					});
				});
			};

			return {
				attrs: repAttrs,
				attr: repAttrs,

				column: repFields,
				columns: repFields,
				field: repFields,
				fields: repFields,

				reduce: repReduce,
				inject: repReduce,
				foldl: repReduce,

				map: repMap,
				collect: repMap,

				each: repEach,
                forEach: repEach,

                tap: repTap,
                'do': repTap,

				after: repAfter,
				last: repAfter,
				done: repAfter,

				execute: repExecute,
				go: repExecute,
				run: repExecute
			};
		}(section));
	},


    repeatingSimpleSum = function(section, field, destination){
        repeating(section)
            .attr(destination)
            .field(field)
            .reduce(function(m,r){
                return m + (r.F[field]);
            },0,function(t,r,a){
                a.S[destination]=t;
            })
            .execute();
    };

    /* eslint-disable no-console */
	console.log('%c•.¸¸.•*´¨`*•.¸¸.•*´¨`*•.¸  The Aaron Sheet  v'+version+'  ¸.•*´¨`*•.¸¸.•*´¨`*•.¸¸.•','background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
	console.log('%c•.¸¸.•*´¨`*•.¸¸.•*´¨`*•.¸  Last update: '+(new Date(lastUpdate*1000))+'  ¸.•*´¨`*•.¸¸.•*´¨`*•.¸¸.•','background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
    /* eslint-enable no-console */


    return {
        /* Repeating Sections */
        repeatingSimpleSum: repeatingSimpleSum,
		repeating: repeating,

        /* Configuration */
        config: setConfigOption,

        /* Debugging */
        callback: wrapCallback,
        callstack: logCallstack,
        debugMode: debugMode,
        isDebugMode: isDebugMode,
        _fn: wrapCallback,

        /* Logging */
        debug: logDebug,
        error: logError,
        warn: logWarn,
        info: logInfo,
        notice: logNotice,
        log: logLog
    };
}());

/* ---- END: TheAaronSheet.js ---- */

</script>




<rolltemplate class="sheet-rolltemplate-shadowrun">
    <table>
        <tr>
            <th>
                {{#name}}{{name}} rolls{{#roll_name}} {{roll_name}}{{/roll_name}}{{/name}}</th>
        </tr>
        {{#subheader}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">{{subheader}}</div>
            </td>
        </tr>
        {{/subheader}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Dicepool</div>
            </td>
        </tr>
        {{#val1}}
        <tr>
            <td>> {{val1}}({{val1_num}})</td>
        </tr>
        {{/val1}}
        {{#val2}}
        <tr>
            <td>> {{val2}}({{val2_num}})</td>
        </tr>
        {{/val2}}
        {{#val3}}
        {{#^rollTotal() val3_num 0}}
        <tr>
            <td>> {{val3}}({{val3_num}})</td>
        </tr>
        {{/^rollTotal() val3_num 0}}
        {{/val3}}
        {{#val4}}
        {{#^rollTotal() val4_num 0}}
        <tr>
            <td>> {{val4}}({{val4_num}})</td>
        </tr>
        {{/^rollTotal() val4_num 0}}
        {{/val4}}
        {{#val5}}
        {{#^rollTotal() val5_num 0}}
        <tr>
            <td>> {{val5}}({{val5_num}})</td>
        </tr>
        {{/^rollTotal() val5_num 0}}
        {{/val5}}
        {{#val6}}
        {{#^rollTotal() val6_num 0}}
        <tr>
            <td>> {{val6}}({{val6_num}})</td>
        </tr>
        {{/^rollTotal() val6_num 0}}
        {{/val6}}
        {{#val7}}
        {{#^rollTotal() val7_num 0}}
        <tr>
            <td>> {{val7}}({{val7_num}})</td>
        </tr>
        {{/^rollTotal() val7_num 0}}
        {{/val7}}
        {{#val8}}
        {{#^rollTotal() val8_num 0}}
        <tr>
            <td>> {{val8}}({{val8_num}})</td>
        </tr>
        {{/^rollTotal() val8_num 0}}
        {{/val8}}
        {{#mod_num}}
        {{#^rollTotal() mod_num 0}}
        <tr>
            <td>> Modifiers({{mod_num}})</td>
        </tr>
        {{/^rollTotal() mod_num 0}}
        {{/mod_num}}
        {{#sustainedspells}}
        {{#^rollTotal() sustainedspells 0}}
        <tr>
            <td>> Sustained spells({{sustainedspells}})</td>
        </tr>
        {{/^rollTotal() sustainedspells 0}}
        {{/sustainedspells}}
        {{#wounds_num}}
        {{#^rollTotal() wounds_num 0}}
        <tr>
            <td>> Woundpenalty({{wounds_num}})</td>
        </tr>
        {{/^rollTotal() wounds_num 0}}
        {{/wounds_num}}
        {{#edge}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Edge</div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-limit">> Edge({{edge_num}})</div>
            </td>
        </tr>
        {{/edge}}
        {{^edge}}
        {{#limit}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Limit</div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-limit">> {{limit}}({{limit_num}})</div>
            </td>
        </tr>
        {{#limit_mod}}
        {{#^rollTotal() limit_mod 0}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-limit">> Modifiers({{limit_mod}})</div>
            </td>
        </tr>
        {{/^rollTotal() limit_mod 0}}
        {{/limit_mod}}
        {{/limit}}
        {{/edge}}
        {{#result}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Result</div>
            </td>
        </tr>
        {{#rollGreater() result 1}}
        <tr class="sheet-rolltemplate-results-success">
            <td class="result">{{result}} [Successes](~{{name}}|reroll||{{computed::reroll}})</td>
        </tr>
        {{/rollGreater() result 1}}
        {{#rollTotal() result 1}}
        <tr class="sheet-rolltemplate-results-success">
            <td class="result">{{result}} [Success](~{{name}}|reroll||{{computed::reroll}})</td>
        </tr>
        {{/rollTotal() result 1}}
        {{#rollTotal() result 0}}
        <tr class="sheet-rolltemplate-results-fail">
            <td class="result">{{result}} [Successes](~{{name}}|reroll||{{computed::reroll}})</td>
        </tr>
        {{/rollTotal() result 0}}
        {{#rollBetween() computed::glitch 1 1}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr class="sheet-rolltemplate-results-fail">
            <td class="result">Glitch!</td>
        </tr>
        {{/rollBetween() computed::glitch 1 1}}
        {{#rollBetween() computed::glitch 2 2}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr class="sheet-rolltemplate-results-fail">
            <td class="result">Critical Glitch!</td>
        </tr>
        {{/rollBetween() computed::glitch 2 2}}
        {{/result}}

        {{#initiative}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Result</div>
            </td>
        </tr>
        {{#rollGreater() initiative 10}}
        <tr class="sheet-rolltemplate-results-success">
            <td class="result">{{initiative}} Initiative</td>
        </tr>
        {{/rollGreater() initiative 10}}
        {{#rollLess() initiative 11}}
        <tr class="sheet-rolltemplate-results-fail">
            <td class="result">{{initiative}} Initiative</td>
        </tr>
        {{/rollLess() initiative 11}}
        {{/initiative}}
        {{#after1}}
        <tr class="sheet-rolltemplate-after">
            <td>{{after1}}({{after1_num}}{{#after1dmg}}<strong>{{after1dmg}}</strong>{{/after1dmg}})</td>
        </tr>
        {{/after1}}
        {{#drain}}
        <tr class="sheet-rolltemplate-after">
            <td>Incoming {{drain}}({{#rollGreater() drain_num 1}}{{drain_num}}{{/rollGreater() drain_num 1}}{{#rollLess() drain_num 2}}<strong>2</strong>{{/rollLess() drain_num 2}}{{#spiritdrain}}{{after1_num}}<strong>* 2</strong>{{/spiritdrain}})</td>
        </tr>
        {{/drain}}
        {{#after2}}
        <tr class="sheet-rolltemplate-after">
            <td>{{after2}}({{after2_num}})</td>
        </tr>
        {{/after2}}
        {{#after3}}
        <tr class="sheet-rolltemplate-after">
            <td>{{after3}}({{after3_num}})</td>
        </tr>
        {{/after3}}
        {{#description}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Description</div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-description">{{description}}</div>
            </td>
        </tr>
        {{/description}}
    </table>
    {{#rollGreater() result 0}}
    {{#^rollTotal() computed::passthrough 0}}
    <div class="sheet-rolltemplate-button-row">
        <div class="sheet-rolltemplate-button">
            [Defend](~selected|reactdefend||{{computed::passthrough}})
        </div>
        <div class="sheet-rolltemplate-button">
            [Dodge](~selected|reactdodge||{{computed::passthrough}})
        </div>
        <div class="sheet-rolltemplate-button">
            [Melee](~selected|reactmelee||{{computed::passthrough}})
        </div>
    </div>

    {{/^rollTotal() computed::passthrough 0}}
    {{/rollGreater() result 0}}

</rolltemplate>

<rolltemplate class="sheet-rolltemplate-reroll">
    <table>
        <tr>
            <th>
                {{#name}}{{name}} rolls{{#roll_name}} {{roll_name}}{{/roll_name}}{{/name}}</th>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Dicepool</div>
            </td>
        </tr>
        {{#dice}}
        <tr>
            <td>> Dice({{dice}})</td>
        </tr>
        {{/dice}}
        {{#prior}}
        <tr>
            <td>> Prior successes({{prior}})</td>
        </tr>
        {{/prior}}
        {{#limit}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Limit</div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-limit">> {{limit}}({{limit_num}})</div>
            </td>
        </tr>
        {{/limit}}
        {{#result}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Result</div>
            </td>
        </tr>
        {{#rollGreater() result 1}}
        <tr class="sheet-rolltemplate-results-success">
            <td class="result"> {{prior}}+{{computed::edgeSuccesses}} = {{result}} Successes</td>
        </tr>
        {{/rollGreater() result 1}}
        {{#rollTotal() result 1}}
        <tr class="sheet-rolltemplate-results-success">
            <td class="result"> {{prior}}+{{computed::edgeSuccesses}} = {{result}} Success</td>
        </tr>
        {{/rollTotal() result 1}}
        {{#rollTotal() result 0}}
        <tr class="sheet-rolltemplate-results-fail">
            <td class="result"> {{prior}}+{{computed::edgeSuccesses}} = {{result}} Successes</td>
        </tr>
        {{/rollTotal() result 0}}
        {{/result}}
    </table>
    {{#rollGreater() result 0}}
    {{#^rollTotal() computed::passthrough 0}}
    <div class="sheet-rolltemplate-button-row">
        <div class="sheet-rolltemplate-button">
            [Defend](~selected|reactdefend||{{computed::passthrough}})
        </div>
        <div class="sheet-rolltemplate-button">
            [Dodge](~selected|reactdodge||{{computed::passthrough}})
        </div>
        <div class="sheet-rolltemplate-button">
            [Parry](~selected|reactparry||{{computed::passthrough}})
        </div>
        <div class="sheet-rolltemplate-button">
            [Block](~selected|reactblock||{{computed::passthrough}})
        </div>
    </div>
    {{/^rollTotal() computed::passthrough 0}}
    {{/rollGreater() result 0}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-extendedRoll">
    <table>
        <tr>
            <th>
                {{#name}}{{name}} rolls{{#roll_name}} {{roll_name}}{{/roll_name}}{{/name}}
            </th>
        </tr>
        {{#subheader}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">{{subheader}}</div>
            </td>
        </tr>
        {{/subheader}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Dicepool</div>
            </td>
        </tr>
        <tr>
            <td>> Dice Pool({{dice_num}})</td>
        </tr>

        {{#tries}}
        {{#^rollTotal() tries 0}}
        <tr>
            <td>> Tries({{tries}})</td>
        </tr>
        {{/^rollTotal() tries 0}}
        {{/tries}}
        {{#sustainedspells}}
        {{#^rollTotal() sustainedspells 0}}
        <tr>
            <td>> Sustained spells({{sustainedspells}})</td>
        </tr>
        {{/^rollTotal() sustainedspells 0}}
        {{/sustainedspells}}
        {{#wounds_num}}
        {{#^rollTotal() wounds_num 0}}
        <tr>
            <td>> Woundpenalty({{wounds_num}})</td>
        </tr>
        {{/^rollTotal() wounds_num 0}}
        {{/wounds_num}}
        {{#edge}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Edge</div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-limit">> Edge({{edge_num}})</div>
            </td>
        </tr>
        {{/edge}}
        {{^edge}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Limit</div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-limit">> Limit({{limit_num}})</div>
            </td>
        </tr>
        {{/edge}}

        {{#result}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Result</div>
            </td>
        </tr>
        {{#rollGreater() result 1}}
        <tr class="sheet-rolltemplate-results-success">
            <td class="result">{{result}} Successes</td>
        </tr>
        {{/rollGreater() result 1}}
        {{#rollTotal() result 1}}
        <tr class="sheet-rolltemplate-results-success">
            <td class="result">{{result}} Success</td>
        </tr>
        {{/rollTotal() result 1}}
        {{#rollTotal() result 0}}
        <tr class="sheet-rolltemplate-results-fail">
            <td class="result">{{result}} Successes</td>
        </tr>
        {{/rollTotal() result 0}}
        {{#rollBetween() computed::glitch 1 1}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr class="sheet-rolltemplate-results-fail">
            <td class="result">Glitch!</td>
        </tr>
        {{/rollBetween() computed::glitch 1 1}}
        {{#rollBetween() computed::glitch 2 2}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr class="sheet-rolltemplate-results-fail">
            <td class="result">Critical Glitch!</td>
        </tr>
        {{/rollBetween() computed::glitch 2 2}}
        {{/result}}


        <tr class="sheet-rolltemplate-after">
            <td>Sum hits({{computed::sumhits}})</td>
        </tr>
    </table>
    {{#^rollTotal() computed::passthrough 0}}
    <div class="sheet-rolltemplate-button-row">
        <div class="sheet-rolltemplate-button">
            [Next Roll](~{{name}}|rollextended||{{computed::passthrough}})
        </div>
    </div>
    {{/^rollTotal() computed::passthrough 0}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-hitsToDrain">
    <table>
        <tr>
            <th>
                {{#name}}{{name}} rolls{{#roll_name}} {{roll_name}}{{/roll_name}}{{/name}}</th>
        </tr>
        {{#subheader}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">{{subheader}}</div>
            </td>
        </tr>
        {{/subheader}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Dicepool</div>
            </td>
        </tr>
        {{#magic}}
        <tr>
            <td>> {{magic}}({{magic_num}})</td>
        </tr>
        {{/magic}}
        {{#spellschool}}
        <tr>
            <td>> {{spellschool}}({{spellschool_num}})</td>
        </tr>
        {{/spellschool}}
        {{#drainAttr}}
        {{#^rollTotal() drainAttr_num 0}}
        <tr>
            <td>> {{drainAttr}}({{drainAttr_num}})</td>
        </tr>
        {{/^rollTotal() drainAttr_num 0}}
        {{/drainAttr}}
        {{#willpower}}
        {{#^rollTotal() willpower_num 0}}
        <tr>
            <td>> {{willpower}}({{willpower_num}})</td>
        </tr>
        {{/^rollTotal() willpower_num 0}}
        {{/willpower}}
        {{#drainBonus}}
        {{#^rollTotal() drainBonus_num 0}}
        <tr>
            <td>> {{drainBonus}}({{drainBonus_num}})</td>
        </tr>
        {{/^rollTotal() drainBonus_num 0}}
        {{/drainBonus}}
        <tr>
            <td>> {{drainResist}}({{drainResist_num}})</td>
        </tr>

        {{#mod_num}}
        {{#^rollTotal() mod_num 0}}
        <tr>
            <td>> Modifiers({{mod_num}})</td>
        </tr>
        {{/^rollTotal() mod_num 0}}
        {{/mod_num}}
        {{#sustainedspells}}
        {{#^rollTotal() sustainedspells 0}}
        <tr>
            <td>> Sustained spells({{sustainedspells}})</td>
        </tr>
        {{/^rollTotal() sustainedspells 0}}
        {{/sustainedspells}}
        {{#wounds_num}}
        {{#^rollTotal() wounds_num 0}}
        <tr>
            <td>> Woundpenalty({{wounds_num}})</td>
        </tr>
        {{/^rollTotal() wounds_num 0}}
        {{/wounds_num}}
        {{#edge}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Edge</div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-limit">> Edge({{edge_num}})</div>
            </td>
        </tr>
        {{/edge}}
        {{^edge}}
        {{#limit}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Limit</div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-limit">> {{limit}}({{limit_num}})</div>
            </td>
        </tr>
        {{#limit_mod}}
        {{#^rollTotal() limit_mod 0}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-limit">> Modifiers({{limit_mod}})</div>
            </td>
        </tr>
        {{/^rollTotal() limit_mod 0}}
        {{/limit_mod}}
        {{/limit}}
        {{/edge}}

        {{#result}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Result</div>
            </td>
        </tr>
        {{#rollGreater() result 1}}
        <tr class="sheet-rolltemplate-results-success">
            <td class="result">{{result}} Successes</td>
        </tr>
        {{/rollGreater() result 1}}
        {{#rollTotal() result 1}}
        <tr class="sheet-rolltemplate-results-success">
            <td class="result">{{result}} Success</td>
        </tr>
        {{/rollTotal() result 1}}
        {{#rollTotal() result 0}}
        <tr class="sheet-rolltemplate-results-fail">
            <td class="result">{{result}} Successes</td>
        </tr>
        {{/rollTotal() result 0}}
        {{#rollBetween() computed::glitch 1 1}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr class="sheet-rolltemplate-results-fail">
            <td class="result">Glitch!</td>
        </tr>
        {{/rollBetween() computed::glitch 1 1}}
        {{#rollBetween() computed::glitch 2 2}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr class="sheet-rolltemplate-results-fail">
            <td class="result">Critical Glitch!</td>
        </tr>
        {{/rollBetween() computed::glitch 2 2}}
        {{/result}}
        {{#nethits}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Nethits</div>
            </td>
        </tr>
        {{#rollGreater() computed::nethits 0}}
        <tr class="sheet-rolltemplate-results-success">
            <td class="result">{{computed::nethits}} Nethits</td>
        </tr>
        {{/rollGreater() computed::nethits 0}}
        {{#^rollGreater() computed::nethits 0}}
        <tr class="sheet-rolltemplate-results-fail">
            <td class="result">0 Nethits</td>
        </tr>
        {{/^rollGreater() computed::nethits 0}}
        {{/nethits}}

        <tr class="sheet-rolltemplate-after">
            <td>Opposing hits({{opposing}})</td>
        </tr>

        <tr class="sheet-rolltemplate-after">
            <td>Incoming {{drain}}(
                {{#rollGreater() computed::drain_num 1}}
                {{computed::drain_num}}
                {{/rollGreater() computed::drain_num 1}}
                {{#rollLess() computed::drain_num 2}}
                <strong>2</strong>
                {{/rollLess() computed::drain_num 2}}
                )
            </td>
        </tr>

        <tr class="sheet-rolltemplate-after">
            <td>{{drainResist}}({{drainResist_num}})</td>
        </tr>

        {{#description}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Description</div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-description">{{description}}</div>
            </td>
        </tr>
        {{/description}}
    </table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-reactdefend">
    <table>
        <tr>
            <th>
                {{name}} rolls to {{defend}} against {{attacker_name}}
            </th>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Dicepool</div>
            </td>
        </tr>
        <tr>
            <td>> Reaction({{rea}})</td>
        </tr>
        {{#int}}
            <tr>
                <td>> Intuition({{int}})</td>
            </tr>
        {{/int}}
        {{#^rollTotal() bonus 0}}
        <tr>
            <td>> Bonus({{bonus}})</td>
        </tr>
        {{/^rollTotal() bonus 0}}

        {{#skill}}
        {{#^rollTotal() skilldice 0}}
        <tr>
            <td>> {{skill}}({{skilldice}})</td>
        </tr>
        {{/^rollTotal() skilldice 0}}
        {{/skill}}

        {{#mod}}
        {{#^rollTotal() mod 0}}
        <tr>
            <td>> Modifiers({{mod}})</td>
        </tr>
        {{/^rollTotal() mod 0}}
        {{/mod}}
        {{#sustainedspells}}
        {{#^rollTotal() sustainedspells 0}}
        <tr>
            <td>> Sustained spells({{sustainedspells}})</td>
        </tr>
        {{/^rollTotal() sustainedspells 0}}
        {{/sustainedspells}}
        {{#wounds_num}}
        {{#^rollTotal() wounds_num 0}}
        <tr>
            <td>> Woundpenalty({{wounds_num}})</td>
        </tr>
        {{/^rollTotal() wounds_num 0}}
        {{/wounds_num}}

        {{#edge}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Edge</div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-limit">> Edge({{edge_num}})</div>
            </td>
        </tr>
        {{/edge}}
        {{^edge}}
        {{#limit}}
            <tr>
                <td>
                    <div class="sheet-rolltemplate-spacer"> </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="sheet-rolltemplate-sectionheading">Limit</div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="sheet-rolltemplate-limit">> Limit({{limit}})</div>
                </td>
            </tr>
        {{/limit}}
        {{/edge}}

        {{#result}}
            <tr>
                <td>
                    <div class="sheet-rolltemplate-spacer"> </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="sheet-rolltemplate-sectionheading">Result</div>
                </td>
            </tr>
            {{#rollGreater() result 1}}
                <tr class="sheet-rolltemplate-results-success">
                    <td class="result">{{result}} Successes</td>
                </tr>
            {{/rollGreater() result 1}}
            {{#rollTotal() result 1}}
                <tr class="sheet-rolltemplate-results-success">
                    <td class="result">{{result}} Success</td>
                </tr>
            {{/rollTotal() result 1}}
            {{#rollTotal() result 0}}
                <tr class="sheet-rolltemplate-results-fail">
                    <td class="result">{{result}} Successes</td>
                </tr>
            {{/rollTotal() result 0}}
        {{/result}}

        {{#nethits}}
            <tr>
                <td>
                    <div class="sheet-rolltemplate-spacer"> </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="sheet-rolltemplate-sectionheading">Attacker Nethits</div>
                </td>
            </tr>
            {{#rollGreater() computed::nethits 0}}
                <tr class="sheet-rolltemplate-results-fail">
                    <td class="result">{{computed::nethits}} Nethits</td>
                </tr>
                <tr>
                    <td>
                        <div class="sheet-rolltemplate-sectionheading">Damage taken</div>
                    </td>
                </tr>
                <tr class="sheet-rolltemplate-after">
                    <td>AP({{computed::attackAp}}) ~ DV({{computed::attackDamage}}{{computed::attackDmgType}})</td>
                </tr>
            {{/rollGreater() computed::nethits 0}}
            {{#^rollGreater() computed::nethits 0}}
                <tr class="sheet-rolltemplate-results-success">
                    <td class="result">0 Nethits</td>
                </tr>
            {{/^rollGreater() computed::nethits 0}}
        {{/nethits}}
        {{#counterhits}}
            {{#rollGreater() computed::counterhits 0}}
            <tr>
                <td>
                    <div class="sheet-rolltemplate-spacer"> </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="sheet-rolltemplate-sectionheading">Defender Nethits</div>
                </td>
            </tr>
            <tr class="sheet-rolltemplate-results-success">
                <td class="result">{{computed::counterhits}} Nethits</td>
            </tr>
            <tr>
                <td>
                    <div class="sheet-rolltemplate-sectionheading">Damage taken</div>
                </td>
            </tr>
            <tr class="sheet-rolltemplate-after">
                <td>AP({{computed::attackAp}}) ~ DV({{computed::attackDamage}}{{computed::attackDmgType}})</td>
            </tr>
            {{/rollGreater() computed::counterhits 0}}
        {{/counterhits}}

        {{#description}}
            <tr>
                <td>
                    <div class="sheet-rolltemplate-spacer"> </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="sheet-rolltemplate-sectionheading">Description</div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="sheet-rolltemplate-description">{{description}}</div>
                </td>
            </tr>
        {{/description}}
        {{#configuration}}
            <tr>
                <td>
                    <div class="sheet-rolltemplate-spacer"> </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="sheet-rolltemplate-sectionheading">Configuration</div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="sheet-rolltemplate-description">{{configuration}}</div>
                </td>
            </tr>
        {{/configuration}}
    </table>
    {{#rollGreater() computed::nethits 0}}
        {{#^rollTotal() computed::passthrough 0}}
            <div class="sheet-rolltemplate-button-row">
                <div class="sheet-rolltemplate-button">
                    [Soak](~{{name}}|reactsoak||{{computed::passthrough}})
                </div>
            </div>
        {{/^rollTotal() computed::passthrough 0}}
    {{/rollGreater() computed::nethits 0}}

    {{#rollGreater() computed::counterhits 0}}
    {{#^rollTotal() computed::passthrough 0}}
    <div class="sheet-rolltemplate-button-row">
        <div class="sheet-rolltemplate-button">
            [Counter-Soak](~{{attacker_name}}|reactsoak||{{computed::passthrough}})
        </div>
    </div>
    {{/^rollTotal() computed::passthrough 0}}
    {{/rollGreater() computed::counterhits 0}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-meleedefend">
    <div>
        {{#configuration}}
           {{configuration}}
        {{/configuration}}
    </div>
    <div class="sheet-rolltemplate-button-row">
        {{#rollGreater() computed::showBlock 0}}
        <div class="sheet-rolltemplate-button">
            [Block](~selected|reactblock||{{computed::passthrough}})
        </div>
        {{/rollGreater() computed::showBlock 0}}

        {{#rollGreater() computed::showCounterstrike 0}}
        <div class="sheet-rolltemplate-button">
            [Counterstrike](~selected|reactcounterstrike||{{computed::passthrough}})
        </div>
        {{/rollGreater() computed::showCounterstrike 0}}

        {{#rollGreater() computed::showParry 0}}
        <div class="sheet-rolltemplate-button">
            [Parry](~selected|reactparry||{{computed::passthrough}})
        </div>
        {{/rollGreater() computed::showParry 0}}

        {{#rollGreater() computed::showRiposte 0}}
        <div class="sheet-rolltemplate-button">
            [Riposte](~selected|reactriposte||{{computed::passthrough}})
        </div>
        {{/rollGreater() computed::showRiposte 0}}
    </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-reactsoak">
    <table>
        <tr>
            <th>
                {{name}} rolls to Absorb Damage
            </th>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Dicepool</div>
            </td>
        </tr>
        <tr>
            <td>> Body({{body}})</td>
        </tr>
        <tr>
            <td>> Armor({{armor}})</td>
        </tr>
        {{#^rollTotal() ap 0}}
        <tr>
            <td>> Armor Penetration({{ap}})</td>
        </tr>
        {{/^rollTotal() ap 0}}
        {{#^rollTotal() bonus 0}}
        <tr>
            <td>> Bonus({{bonus}})</td>
        </tr>
        {{/^rollTotal() bonus 0}}

        {{#mod}}
        {{#^rollTotal() mod 0}}
        <tr>
            <td>> Modifiers({{mod}})</td>
        </tr>
        {{/^rollTotal() mod 0}}
        {{/mod}}
        {{#edge}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Edge</div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-limit">> Edge({{edge_num}})</div>
            </td>
        </tr>
        {{/edge}}
        {{#result}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Result</div>
            </td>
        </tr>
        {{#rollGreater() result 1}}
        <tr class="sheet-rolltemplate-results-success">
            <td class="result">{{result}} Successes</td>
        </tr>
        {{/rollGreater() result 1}}
        {{#rollTotal() result 1}}
        <tr class="sheet-rolltemplate-results-success">
            <td class="result">{{result}} Success</td>
        </tr>
        {{/rollTotal() result 1}}
        {{#rollTotal() result 0}}
        <tr class="sheet-rolltemplate-results-fail">
            <td class="result">{{result}} Successes</td>
        </tr>
        {{/rollTotal() result 0}}
        {{/result}}
        {{#dmgTaken}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Damage taken</div>
            </td>
        </tr>
        {{#rollGreater() computed::dmgTaken 0}}
        <tr class="sheet-rolltemplate-results-fail">
            <td class="result">{{computed::dmgTaken}} {{computed::dmgType}}</td>
        </tr>
        {{/rollGreater() computed::dmgTaken 0}}
        {{#^rollGreater() computed::dmgTaken 0}}
        <tr class="sheet-rolltemplate-results-success">
            <td class="result">0 Damage taken</td>
        </tr>
        {{/^rollGreater() computed::dmgTaken 0}}
        {{/dmgTaken}}
    </table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-shadowrun-forcedglitch">
    <table>
        <tr>
            <th>
                {{#name}}{{name}} rolls{{#roll_name}} {{roll_name}}{{/roll_name}}{{/name}}</th>
        </tr>
        {{#subheader}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">{{subheader}}</div>
            </td>
        </tr>
        {{/subheader}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Dicepool</div>
            </td>
        </tr>
        {{#val1}}
        <tr>
            <td>> {{val1}}({{val1_num}})</td>
        </tr>
        {{/val1}}
        {{#val2}}
        <tr>
            <td>> {{val2}}({{val2_num}})</td>
        </tr>
        {{/val2}}
        {{#val3}}
        {{#^rollTotal() val3_num 0}}
        <tr>
            <td>> {{val3}}({{val3_num}})</td>
        </tr>
        {{/^rollTotal() val3_num 0}}
        {{/val3}}
        {{#val4}}
        {{#^rollTotal() val4_num 0}}
        <tr>
            <td>> {{val4}}({{val4_num}})</td>
        </tr>
        {{/^rollTotal() val4_num 0}}
        {{/val4}}
        {{#val5}}
        {{#^rollTotal() val5_num 0}}
        <tr>
            <td>> {{val5}}({{val5_num}})</td>
        </tr>
        {{/^rollTotal() val5_num 0}}
        {{/val5}}
        {{#val6}}
        {{#^rollTotal() val6_num 0}}
        <tr>
            <td>> {{val6}}({{val6_num}})</td>
        </tr>
        {{/^rollTotal() val6_num 0}}
        {{/val6}}
        {{#val7}}
        {{#^rollTotal() val7_num 0}}
        <tr>
            <td>> {{val7}}({{val7_num}})</td>
        </tr>
        {{/^rollTotal() val7_num 0}}
        {{/val7}}
        {{#val8}}
        {{#^rollTotal() val8_num 0}}
        <tr>
            <td>> {{val8}}({{val8_num}})</td>
        </tr>
        {{/^rollTotal() val8_num 0}}
        {{/val8}}
        {{#mod_num}}
        {{#^rollTotal() mod_num 0}}
        <tr>
            <td>> Modifiers({{mod_num}})</td>
        </tr>
        {{/^rollTotal() mod_num 0}}
        {{/mod_num}}
        {{#sustainedspells}}
        {{#^rollTotal() sustainedspells 0}}
        <tr>
            <td>> Sustained spells({{sustainedspells}})</td>
        </tr>
        {{/^rollTotal() sustainedspells 0}}
        {{/sustainedspells}}
        {{#wounds_num}}
        {{#^rollTotal() wounds_num 0}}
        <tr>
            <td>> Woundpenalty({{wounds_num}})</td>
        </tr>
        {{/^rollTotal() wounds_num 0}}
        {{/wounds_num}}
        {{#edge}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Edge</div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-limit">> Edge({{edge_num}})</div>
            </td>
        </tr>
        {{/edge}}
        {{^edge}}
        {{#limit}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Limit</div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-limit">> {{limit}}({{limit_num}})</div>
            </td>
        </tr>
        {{#limit_mod}}
        {{#^rollTotal() limit_mod 0}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-limit">> Modifiers({{limit_mod}})</div>
            </td>
        </tr>
        {{/^rollTotal() limit_mod 0}}
        {{/limit_mod}}
        {{/limit}}
        {{/edge}}
        {{#result}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Result</div>
            </td>
        </tr>
        <tr class="sheet-rolltemplate-results-fail">
            <td class="result">{{result}} Successes</td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr class="sheet-rolltemplate-results-fail">
            <td class="result">Critical Glitch!</td>
        </tr>
        {{/result}}

        {{#after1}}
        <tr class="sheet-rolltemplate-after">
            <td>{{after1}}({{after1_num}}{{#after1dmg}}<strong>{{after1dmg}}</strong>{{/after1dmg}})</td>
        </tr>
        {{/after1}}
        {{#drain}}
        <tr class="sheet-rolltemplate-after">
            <td>Incoming {{drain}}({{#rollGreater() drain_num 1}}{{drain_num}}{{/rollGreater() drain_num 1}}{{#rollLess() drain_num 2}}<strong>2</strong>{{/rollLess() drain_num 2}}{{#spiritdrain}}{{after1_num}}<strong>* 2</strong>{{/spiritdrain}})</td>
        </tr>
        {{/drain}}
        {{#after2}}
        <tr class="sheet-rolltemplate-after">
            <td>{{after2}}({{after2_num}})</td>
        </tr>
        {{/after2}}
        {{#after3}}
        <tr class="sheet-rolltemplate-after">
            <td>{{after3}}({{after3_num}})</td>
        </tr>
        {{/after3}}
        {{#description}}
        <tr>
            <td>
                <div class="sheet-rolltemplate-spacer"> </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-sectionheading">Description</div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="sheet-rolltemplate-description">{{description}}</div>
            </td>
        </tr>
        {{/description}}
    </table>

</rolltemplate>





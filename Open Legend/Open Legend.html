<!-- Worker Scripts -->
<script type="text/worker">
	// The first time the sheet is opened, run all functions that calculate fields in case of any changes or updates
	on('sheet:opened', function() {
		calcAttributePointsSpent();
		calcEvasion();
		calcToughness();
		calcResolve();
		calcHitPoints();
		calcHeavy();
		calcBulky();
		calcSpeed();
		calcAgility();
		calcFortitude();
		calcMight();
		calcDeception();
		calcPresence();
		calcPersuasion();
		calcLearning();
		calcLogic();
		calcPerception();
		calcWill();
		calcAlteration();
		calcCreation();
		calcEnergy();
		calcEntropy();
		calcInfluence();
		calcMovement();
		calcPrescience();
		calcProtection();
		calcAllActionRolls();
		otherInventoryFixColumns1();
		otherInventoryFixColumns2();
	});
	
// NPC section workerscripts
// *******************************************************
// *******************************************************
    // Function called for determining the size of the dice based on the score given
    function calcAttributeDiceValue (value) {
            if(value*1 === 0 || value*1 <= 0) { return 0;
            } else if (value*1 === 1) {  return 4;
            } else if (value*1 === 2 || value*1 === 5) {  return 6;
            } else if (value*1 === 3 || value*1 === 6 || value*1 === 8 || value*1 >= 10) {  return 8;
            } else if (value*1 === 4 || value*1 === 7 || value*1 === 9) {  return 10;
            }
    };
	// On Change for the score for NPC#1-5 Attribute1 to auto-calc the attribute dice
	on("change:npc1_prime_attribute1_score", function() {
	    getAttrs(["npc1_prime_attribute1_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc1_prime_attribute1_score*1);
	        var type = calcAttributeDiceValue(values.npc1_prime_attribute1_score*1);
            setAttrs({
                "npc1_prime_attribute1_dice_number": number,
                "npc1_prime_attribute1_dice_type": type
            });
        });
    });
	on("change:npc2_prime_attribute1_score", function() {
	    getAttrs(["npc2_prime_attribute1_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc2_prime_attribute1_score*1);
	        var type = calcAttributeDiceValue(values.npc2_prime_attribute1_score*1);
            setAttrs({
                "npc2_prime_attribute1_dice_number": number,
                "npc2_prime_attribute1_dice_type": type
            });
        });
    });
	on("change:npc3_prime_attribute1_score", function() {
	    getAttrs(["npc3_prime_attribute1_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc3_prime_attribute1_score*1);
	        var type = calcAttributeDiceValue(values.npc3_prime_attribute1_score*1);
            setAttrs({
                "npc3_prime_attribute1_dice_number": number,
                "npc3_prime_attribute1_dice_type": type
            });
        });
    });
	on("change:npc4_prime_attribute1_score", function() {
	    getAttrs(["npc4_prime_attribute1_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc4_prime_attribute1_score*1);
	        var type = calcAttributeDiceValue(values.npc4_prime_attribute1_score*1);
            setAttrs({
                "npc4_prime_attribute1_dice_number": number,
                "npc4_prime_attribute1_dice_type": type
            });
        });
    });
	on("change:npc5_prime_attribute1_score", function() {
	    getAttrs(["npc5_prime_attribute1_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc5_prime_attribute1_score*1);
	        var type = calcAttributeDiceValue(values.npc5_prime_attribute1_score*1);
            setAttrs({
                "npc5_prime_attribute1_dice_number": number,
                "npc5_prime_attribute1_dice_type": type
            });
        });
    });
	// On Change for the score for NPC#1-5 Attribute2 to auto-calc the attribute dice
	on("change:npc1_prime_attribute2_score", function() {
	    getAttrs(["npc1_prime_attribute2_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc1_prime_attribute2_score*1);
	        var type = calcAttributeDiceValue(values.npc1_prime_attribute2_score*1);
            setAttrs({
                "npc1_prime_attribute2_dice_number": number,
                "npc1_prime_attribute2_dice_type": type
            });
        });
    });
	on("change:npc2_prime_attribute2_score", function() {
	    getAttrs(["npc2_prime_attribute2_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc2_prime_attribute2_score*1);
	        var type = calcAttributeDiceValue(values.npc2_prime_attribute2_score*1);
            setAttrs({
                "npc2_prime_attribute2_dice_number": number,
                "npc2_prime_attribute2_dice_type": type
            });
        });
    });
	on("change:npc3_prime_attribute2_score", function() {
	    getAttrs(["npc3_prime_attribute2_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc3_prime_attribute2_score*1);
	        var type = calcAttributeDiceValue(values.npc3_prime_attribute2_score*1);
            setAttrs({
                "npc3_prime_attribute2_dice_number": number,
                "npc3_prime_attribute2_dice_type": type
            });
        });
    });
	on("change:npc4_prime_attribute2_score", function() {
	    getAttrs(["npc4_prime_attribute2_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc4_prime_attribute2_score*1);
	        var type = calcAttributeDiceValue(values.npc4_prime_attribute2_score*1);
            setAttrs({
                "npc4_prime_attribute2_dice_number": number,
                "npc4_prime_attribute2_dice_type": type
            });
        });
    });
	on("change:npc5_prime_attribute2_score", function() {
	    getAttrs(["npc5_prime_attribute2_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc5_prime_attribute2_score*1);
	        var type = calcAttributeDiceValue(values.npc5_prime_attribute2_score*1);
            setAttrs({
                "npc5_prime_attribute2_dice_number": number,
                "npc5_prime_attribute2_dice_type": type
            });
        });
    });
	// On Change for the score for NPC#1-5 Attribute3 to auto-calc the attribute dice
	on("change:npc1_prime_attribute3_score", function() {
	    getAttrs(["npc1_prime_attribute3_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc1_prime_attribute3_score*1);
	        var type = calcAttributeDiceValue(values.npc1_prime_attribute3_score*1);
            setAttrs({
                "npc1_prime_attribute3_dice_number": number,
                "npc1_prime_attribute3_dice_type": type
            });
        });
    });
	on("change:npc2_prime_attribute3_score", function() {
	    getAttrs(["npc2_prime_attribute3_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc2_prime_attribute3_score*1);
	        var type = calcAttributeDiceValue(values.npc2_prime_attribute3_score*1);
            setAttrs({
                "npc2_prime_attribute3_dice_number": number,
                "npc2_prime_attribute3_dice_type": type
            });
        });
    });
	on("change:npc3_prime_attribute3_score", function() {
	    getAttrs(["npc3_prime_attribute3_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc3_prime_attribute3_score*1);
	        var type = calcAttributeDiceValue(values.npc3_prime_attribute3_score*1);
            setAttrs({
                "npc3_prime_attribute3_dice_number": number,
                "npc3_prime_attribute3_dice_type": type
            });
        });
    });
	on("change:npc4_prime_attribute3_score", function() {
	    getAttrs(["npc4_prime_attribute3_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc4_prime_attribute3_score*1);
	        var type = calcAttributeDiceValue(values.npc4_prime_attribute3_score*1);
            setAttrs({
                "npc4_prime_attribute3_dice_number": number,
                "npc4_prime_attribute3_dice_type": type
            });
        });
    });
	on("change:npc5_prime_attribute3_score", function() {
	    getAttrs(["npc5_prime_attribute3_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc5_prime_attribute3_score*1);
	        var type = calcAttributeDiceValue(values.npc5_prime_attribute3_score*1);
            setAttrs({
                "npc5_prime_attribute3_dice_number": number,
                "npc5_prime_attribute3_dice_type": type
            });
        });
    });
	// On Change for the score for NPC#1-5 Initiative to auto-calc the attribute dice
	on("change:npc1_initiative_score", function() {
	    getAttrs(["npc1_initiative_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc1_initiative_score*1);
	        var type = calcAttributeDiceValue(values.npc1_initiative_score*1);
            setAttrs({
                "npc1_initiative_dice_number": number,
                "npc1_initiative_dice_type": type
            });
        });
    });
	on("change:npc2_initiative_score", function() {
	    getAttrs(["npc2_initiative_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc2_initiative_score*1);
	        var type = calcAttributeDiceValue(values.npc2_initiative_score*1);
            setAttrs({
                "npc2_initiative_dice_number": number,
                "npc2_initiative_dice_type": type
            });
        });
    });
	on("change:npc3_initiative_score", function() {
	    getAttrs(["npc3_initiative_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc3_initiative_score*1);
	        var type = calcAttributeDiceValue(values.npc3_initiative_score*1);
            setAttrs({
                "npc3_initiative_dice_number": number,
                "npc3_initiative_dice_type": type
            });
        });
    });
	on("change:npc4_initiative_score", function() {
	    getAttrs(["npc4_initiative_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc4_initiative_score*1);
	        var type = calcAttributeDiceValue(values.npc4_initiative_score*1);
            setAttrs({
                "npc4_initiative_dice_number": number,
                "npc4_initiative_dice_type": type
            });
        });
    });
	on("change:npc5_initiative_score", function() {
	    getAttrs(["npc5_initiative_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.npc5_initiative_score*1);
	        var type = calcAttributeDiceValue(values.npc5_initiative_score*1);
            setAttrs({
                "npc5_initiative_dice_number": number,
                "npc5_initiative_dice_type": type
            });
        });
    });
	// On Change for the score for NPC#1-5 Secondary Attributes to auto-calc the attribute dice
	on("change:repeating_npc1secondary:score", function() {
	    getAttrs(["repeating_npc1secondary_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.repeating_npc1secondary_score*1);
	        var type = calcAttributeDiceValue(values.repeating_npc1secondary_score*1);
            setAttrs({
                "repeating_npc1secondary_dice_number": number,
                "repeating_npc1secondary_dice_type": type
            });
        });
    });
	on("change:repeating_npc2secondary:score", function() {
	    getAttrs(["repeating_npc2secondary_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.repeating_npc2secondary_score*1);
	        var type = calcAttributeDiceValue(values.repeating_npc2secondary_score*1);
            setAttrs({
                "repeating_npc2secondary_dice_number": number,
                "repeating_npc2secondary_dice_type": type
            });
        });
    });
	on("change:repeating_npc3secondary:score", function() {
	    getAttrs(["repeating_npc3secondary_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.repeating_npc3secondary_score*1);
	        var type = calcAttributeDiceValue(values.repeating_npc3secondary_score*1);
            setAttrs({
                "repeating_npc3secondary_dice_number": number,
                "repeating_npc3secondary_dice_type": type
            });
        });
    });
	on("change:repeating_npc4secondary:score", function() {
	    getAttrs(["repeating_npc4secondary_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.repeating_npc4secondary_score*1);
	        var type = calcAttributeDiceValue(values.repeating_npc4secondary_score*1);
            setAttrs({
                "repeating_npc4secondary_dice_number": number,
                "repeating_npc4secondary_dice_type": type
            });
        });
    });
	on("change:repeating_npc5secondary:score", function() {
	    getAttrs(["repeating_npc5secondary_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.repeating_npc5secondary_score*1);
	        var type = calcAttributeDiceValue(values.repeating_npc5secondary_score*1);
            setAttrs({
                "repeating_npc5secondary_dice_number": number,
                "repeating_npc5secondary_dice_type": type
            });
        });
    });
	// On Change for the score for NPC#1-5 Favored Actions to auto-calc the attribute dice
	on("change:repeating_npc1actions:score", function() {
	    getAttrs(["repeating_npc1actions_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.repeating_npc1actions_score*1);
	        var type = calcAttributeDiceValue(values.repeating_npc1actions_score*1);
            setAttrs({
                "repeating_npc1actions_dice_number": number,
                "repeating_npc1actions_dice_type": type
            });
        });
    });
	on("change:repeating_npc2actions:score", function() {
	    getAttrs(["repeating_npc2actions_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.repeating_npc2actions_score*1);
	        var type = calcAttributeDiceValue(values.repeating_npc2actions_score*1);
            setAttrs({
                "repeating_npc2actions_dice_number": number,
                "repeating_npc2actions_dice_type": type
            });
        });
    });
	on("change:repeating_npc3actions:score", function() {
	    getAttrs(["repeating_npc3actions_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.repeating_npc3actions_score*1);
	        var type = calcAttributeDiceValue(values.repeating_npc3actions_score*1);
            setAttrs({
                "repeating_npc3actions_dice_number": number,
                "repeating_npc3actions_dice_type": type
            });
        });
    });
	on("change:repeating_npc4actions:score", function() {
	    getAttrs(["repeating_npc4actions_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.repeating_npc4actions_score*1);
	        var type = calcAttributeDiceValue(values.repeating_npc4actions_score*1);
            setAttrs({
                "repeating_npc4actions_dice_number": number,
                "repeating_npc4actions_dice_type": type
            });
        });
    });
	on("change:repeating_npc5actions:score", function() {
	    getAttrs(["repeating_npc5actions_score"], function(values) {
	        var number = calcAttributeDiceNumber(values.repeating_npc5actions_score*1);
	        var type = calcAttributeDiceValue(values.repeating_npc5actions_score*1);
            setAttrs({
                "repeating_npc5actions_dice_number": number,
                "repeating_npc5actions_dice_type": type
            });
        });
    });

	// On Change for calculating rolls for NPC#1-5 Primary Attribute 1 if any variables are updated
    on("change:npc1_prime_attribute1_dice_number change:npc1_prime_attribute1_dice_type change:npc1_prime_attribute1_default_advantage", function() {
        getAttrs(["npc1_prime_attribute1_score", "npc1_prime_attribute1_dice_number", "npc1_prime_attribute1_dice_type", "npc1_prime_attribute1_default_advantage"], function(values) {
            var number = values.npc1_prime_attribute1_dice_number*1;
            var type = "d" + values.npc1_prime_attribute1_dice_type + "!!";
			var roll = "";
			if(values.npc1_prime_attribute1_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc1_prime_attribute1_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc1_prime_attribute1_roll": roll
            });
        });
    });
    on("change:npc2_prime_attribute1_dice_number change:npc2_prime_attribute1_dice_type change:npc2_prime_attribute1_default_advantage", function() {
        getAttrs(["npc2_prime_attribute1_score", "npc2_prime_attribute1_dice_number", "npc2_prime_attribute1_dice_type", "npc2_prime_attribute1_default_advantage"], function(values) {
            var number = values.npc2_prime_attribute1_dice_number*1;
            var type = "d" + values.npc2_prime_attribute1_dice_type + "!!";
			var roll = "";
			if(values.npc2_prime_attribute1_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc2_prime_attribute1_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc2_prime_attribute1_roll": roll
            });
        });
    });
    on("change:npc3_prime_attribute1_dice_number change:npc3_prime_attribute1_dice_type change:npc3_prime_attribute1_default_advantage", function() {
        getAttrs(["npc3_prime_attribute1_score", "npc3_prime_attribute1_dice_number", "npc3_prime_attribute1_dice_type", "npc3_prime_attribute1_default_advantage"], function(values) {
            var number = values.npc3_prime_attribute1_dice_number*1;
            var type = "d" + values.npc3_prime_attribute1_dice_type + "!!";
			var roll = "";
			if(values.npc3_prime_attribute1_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc3_prime_attribute1_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc3_prime_attribute1_roll": roll
            });
        });
    });
    on("change:npc4_prime_attribute1_dice_number change:npc4_prime_attribute1_dice_type change:npc4_prime_attribute1_default_advantage", function() {
        getAttrs(["npc4_prime_attribute1_score", "npc4_prime_attribute1_dice_number", "npc4_prime_attribute1_dice_type", "npc4_prime_attribute1_default_advantage"], function(values) {
            var number = values.npc4_prime_attribute1_dice_number*1;
            var type = "d" + values.npc4_prime_attribute1_dice_type + "!!";
			var roll = "";
			if(values.npc4_prime_attribute1_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc4_prime_attribute1_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc4_prime_attribute1_roll": roll
            });
        });
    });
    on("change:npc5_prime_attribute1_dice_number change:npc5_prime_attribute1_dice_type change:npc5_prime_attribute1_default_advantage", function() {
        getAttrs(["npc5_prime_attribute1_score", "npc5_prime_attribute1_dice_number", "npc5_prime_attribute1_dice_type", "npc5_prime_attribute1_default_advantage"], function(values) {
            var number = values.npc5_prime_attribute1_dice_number*1;
            var type = "d" + values.npc5_prime_attribute1_dice_type + "!!";
			var roll = "";
			if(values.npc5_prime_attribute1_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc5_prime_attribute1_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc5_prime_attribute1_roll": roll
            });
        });
    });

	// On Change for calculating rolls for NPC#1-5 Primary Attribute 2 if any variables are updated
    on("change:npc1_prime_attribute2_dice_number change:npc1_prime_attribute2_dice_type change:npc1_prime_attribute2_default_advantage", function() {
        getAttrs(["npc1_prime_attribute2_score", "npc1_prime_attribute2_dice_number", "npc1_prime_attribute2_dice_type", "npc1_prime_attribute2_default_advantage"], function(values) {
            var number = values.npc1_prime_attribute2_dice_number*1;
            var type = "d" + values.npc1_prime_attribute2_dice_type + "!!";
			var roll = "";
			if(values.npc1_prime_attribute2_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc1_prime_attribute2_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc1_prime_attribute2_roll": roll
            });
        });
    });
    on("change:npc2_prime_attribute2_dice_number change:npc2_prime_attribute2_dice_type change:npc2_prime_attribute2_default_advantage", function() {
        getAttrs(["npc2_prime_attribute2_score", "npc2_prime_attribute2_dice_number", "npc2_prime_attribute2_dice_type", "npc2_prime_attribute2_default_advantage"], function(values) {
            var number = values.npc2_prime_attribute2_dice_number*1;
            var type = "d" + values.npc2_prime_attribute2_dice_type + "!!";
			var roll = "";
			if(values.npc2_prime_attribute2_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc2_prime_attribute2_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc2_prime_attribute2_roll": roll
            });
        });
    });
    on("change:npc3_prime_attribute2_dice_number change:npc3_prime_attribute2_dice_type change:npc3_prime_attribute2_default_advantage", function() {
        getAttrs(["npc3_prime_attribute2_score", "npc3_prime_attribute2_dice_number", "npc3_prime_attribute2_dice_type", "npc3_prime_attribute2_default_advantage"], function(values) {
            var number = values.npc3_prime_attribute2_dice_number*1;
            var type = "d" + values.npc3_prime_attribute2_dice_type + "!!";
			var roll = "";
			if(values.npc3_prime_attribute2_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc3_prime_attribute2_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc3_prime_attribute2_roll": roll
            });
        });
    });
    on("change:npc4_prime_attribute2_dice_number change:npc4_prime_attribute2_dice_type change:npc4_prime_attribute2_default_advantage", function() {
        getAttrs(["npc4_prime_attribute2_score", "npc4_prime_attribute2_dice_number", "npc4_prime_attribute2_dice_type", "npc4_prime_attribute2_default_advantage"], function(values) {
            var number = values.npc4_prime_attribute2_dice_number*1;
            var type = "d" + values.npc4_prime_attribute2_dice_type + "!!";
			var roll = "";
			if(values.npc4_prime_attribute2_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc4_prime_attribute2_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc4_prime_attribute2_roll": roll
            });
        });
    });
    on("change:npc5_prime_attribute2_dice_number change:npc5_prime_attribute2_dice_type change:npc5_prime_attribute2_default_advantage", function() {
        getAttrs(["npc5_prime_attribute2_score", "npc5_prime_attribute2_dice_number", "npc5_prime_attribute2_dice_type", "npc5_prime_attribute2_default_advantage"], function(values) {
            var number = values.npc5_prime_attribute2_dice_number*1;
            var type = "d" + values.npc5_prime_attribute2_dice_type + "!!";
			var roll = "";
			if(values.npc5_prime_attribute2_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc5_prime_attribute2_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc5_prime_attribute2_roll": roll
            });
        });
    });

	// On Change for calculating rolls for NPC#1-5 Primary Attribute 3 if any variables are updated
    on("change:npc1_prime_attribute3_dice_number change:npc1_prime_attribute3_dice_type change:npc1_prime_attribute3_default_advantage", function() {
        getAttrs(["npc1_prime_attribute3_score", "npc1_prime_attribute3_dice_number", "npc1_prime_attribute3_dice_type", "npc1_prime_attribute3_default_advantage"], function(values) {
            var number = values.npc1_prime_attribute3_dice_number*1;
            var type = "d" + values.npc1_prime_attribute3_dice_type + "!!";
			var roll = "";
			if(values.npc1_prime_attribute3_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc1_prime_attribute3_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc1_prime_attribute3_roll": roll
            });
        });
    });
    on("change:npc2_prime_attribute3_dice_number change:npc2_prime_attribute3_dice_type change:npc2_prime_attribute3_default_advantage", function() {
        getAttrs(["npc2_prime_attribute3_score", "npc2_prime_attribute3_dice_number", "npc2_prime_attribute3_dice_type", "npc2_prime_attribute3_default_advantage"], function(values) {
            var number = values.npc2_prime_attribute3_dice_number*1;
            var type = "d" + values.npc2_prime_attribute3_dice_type + "!!";
			var roll = "";
			if(values.npc2_prime_attribute3_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc2_prime_attribute3_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc2_prime_attribute3_roll": roll
            });
        });
    });
    on("change:npc3_prime_attribute3_dice_number change:npc3_prime_attribute3_dice_type change:npc3_prime_attribute3_default_advantage", function() {
        getAttrs(["npc3_prime_attribute3_score", "npc3_prime_attribute3_dice_number", "npc3_prime_attribute3_dice_type", "npc3_prime_attribute3_default_advantage"], function(values) {
            var number = values.npc3_prime_attribute3_dice_number*1;
            var type = "d" + values.npc3_prime_attribute3_dice_type + "!!";
			var roll = "";
			if(values.npc3_prime_attribute3_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc3_prime_attribute3_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc3_prime_attribute3_roll": roll
            });
        });
    });
    on("change:npc4_prime_attribute3_dice_number change:npc4_prime_attribute3_dice_type change:npc4_prime_attribute3_default_advantage", function() {
        getAttrs(["npc4_prime_attribute3_score", "npc4_prime_attribute3_dice_number", "npc4_prime_attribute3_dice_type", "npc4_prime_attribute3_default_advantage"], function(values) {
            var number = values.npc4_prime_attribute3_dice_number*1;
            var type = "d" + values.npc4_prime_attribute3_dice_type + "!!";
			var roll = "";
			if(values.npc4_prime_attribute3_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc4_prime_attribute3_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc4_prime_attribute3_roll": roll
            });
        });
    });
    on("change:npc5_prime_attribute3_dice_number change:npc5_prime_attribute3_dice_type change:npc5_prime_attribute3_default_advantage", function() {
        getAttrs(["npc5_prime_attribute3_score", "npc5_prime_attribute3_dice_number", "npc5_prime_attribute3_dice_type", "npc5_prime_attribute3_default_advantage"], function(values) {
            var number = values.npc5_prime_attribute3_dice_number*1;
            var type = "d" + values.npc5_prime_attribute3_dice_type + "!!";
			var roll = "";
			if(values.npc5_prime_attribute3_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc5_prime_attribute3_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc5_prime_attribute3_roll": roll
            });
        });
    });

	// On Change for calculating rolls for NPC#1-5 Initiative if any variables are updated
    on("change:npc1_initiative_dice_number change:npc1_initiative_dice_type change:npc1_initiative_default_advantage", function() {
        getAttrs(["npc1_initiative_score", "npc1_initiative_dice_number", "npc1_initiative_dice_type", "npc1_initiative_default_advantage"], function(values) {
            var number = values.npc1_initiative_dice_number*1;
            var type = "d" + values.npc1_initiative_dice_type + "!!";
			var roll = "";
			if(values.npc1_initiative_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc1_initiative_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}&{tracker}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc1_initiative_roll": roll
            });
        });
    });
    on("change:npc2_initiative_dice_number change:npc2_initiative_dice_type change:npc2_initiative_default_advantage", function() {
        getAttrs(["npc2_initiative_score", "npc2_initiative_dice_number", "npc2_initiative_dice_type", "npc2_initiative_default_advantage"], function(values) {
            var number = values.npc2_initiative_dice_number*1;
            var type = "d" + values.npc2_initiative_dice_type + "!!";
			var roll = "";
			if(values.npc2_initiative_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc2_initiative_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}&{tracker}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc2_initiative_roll": roll
            });
        });
    });
    on("change:npc3_initiative_dice_number change:npc3_initiative_dice_type change:npc3_initiative_default_advantage", function() {
        getAttrs(["npc3_initiative_score", "npc3_initiative_dice_number", "npc3_initiative_dice_type", "npc3_initiative_default_advantage"], function(values) {
            var number = values.npc3_initiative_dice_number*1;
            var type = "d" + values.npc3_initiative_dice_type + "!!";
			var roll = "";
			if(values.npc3_initiative_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc3_initiative_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}&{tracker}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc3_initiative_roll": roll
            });
        });
    });
    on("change:npc4_initiative_dice_number change:npc4_initiative_dice_type change:npc4_initiative_default_advantage", function() {
        getAttrs(["npc4_initiative_score", "npc4_initiative_dice_number", "npc4_initiative_dice_type", "npc4_initiative_default_advantage"], function(values) {
            var number = values.npc4_initiative_dice_number*1;
            var type = "d" + values.npc4_initiative_dice_type + "!!";
			var roll = "";
			if(values.npc4_initiative_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc4_initiative_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}&{tracker}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc4_initiative_roll": roll
            });
        });
    });
    on("change:npc5_initiative_dice_number change:npc5_initiative_dice_type change:npc5_initiative_default_advantage", function() {
        getAttrs(["npc5_initiative_score", "npc5_initiative_dice_number", "npc5_initiative_dice_type", "npc5_initiative_default_advantage"], function(values) {
            var number = values.npc5_initiative_dice_number*1;
            var type = "d" + values.npc5_initiative_dice_type + "!!";
			var roll = "";
			if(values.npc5_initiative_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.npc5_initiative_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}&{tracker}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "npc5_initiative_roll": roll
            });
        });
    });

	// On Change for calculating rolls for NPC#1-5 Secondary Attributes if any variables are updated
    on("change:repeating_npc1secondary:dice_number change:repeating_npc1secondary:dice_type change:repeating_npc1secondary:default_advantage", function() {
        getAttrs(["repeating_npc1secondary_score", "repeating_npc1secondary_dice_number", "repeating_npc1secondary_dice_type", "repeating_npc1secondary_default_advantage"], function(values) {
            var number = values.repeating_npc1secondary_dice_number*1;
            var type = "d" + values.repeating_npc1secondary_dice_type + "!!";
			var roll = "";
			if(values.repeating_npc1secondary_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.repeating_npc1secondary_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "repeating_npc1secondary_roll": roll
            });
        });
    });
    on("change:repeating_npc2secondary:dice_number change:repeating_npc2secondary:dice_type change:repeating_npc2secondary:default_advantage", function() {
        getAttrs(["repeating_npc2secondary_score", "repeating_npc2secondary_dice_number", "repeating_npc2secondary_dice_type", "repeating_npc2secondary_default_advantage"], function(values) {
            var number = values.repeating_npc2secondary_dice_number*1;
            var type = "d" + values.repeating_npc2secondary_dice_type + "!!";
			var roll = "";
			if(values.repeating_npc2secondary_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.repeating_npc2secondary_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "repeating_npc2secondary_roll": roll
            });
        });
    });
    on("change:repeating_npc3secondary:dice_number change:repeating_npc3secondary:dice_type change:repeating_npc3secondary:default_advantage", function() {
        getAttrs(["repeating_npc3secondary_score", "repeating_npc3secondary_dice_number", "repeating_npc3secondary_dice_type", "repeating_npc3secondary_default_advantage"], function(values) {
            var number = values.repeating_npc3secondary_dice_number*1;
            var type = "d" + values.repeating_npc3secondary_dice_type + "!!";
			var roll = "";
			if(values.repeating_npc3secondary_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.repeating_npc3secondary_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "repeating_npc3secondary_roll": roll
            });
        });
    });
    on("change:repeating_npc4secondary:dice_number change:repeating_npc4secondary:dice_type change:repeating_npc4secondary:default_advantage", function() {
        getAttrs(["repeating_npc4secondary_score", "repeating_npc4secondary_dice_number", "repeating_npc4secondary_dice_type", "repeating_npc4secondary_default_advantage"], function(values) {
            var number = values.repeating_npc4secondary_dice_number*1;
            var type = "d" + values.repeating_npc4secondary_dice_type + "!!";
			var roll = "";
			if(values.repeating_npc4secondary_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.repeating_npc4secondary_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "repeating_npc4secondary_roll": roll
            });
        });
    });
    on("change:repeating_npc5secondary:dice_number change:repeating_npc5secondary:dice_type change:repeating_npc5secondary:default_advantage", function() {
        getAttrs(["repeating_npc5secondary_score", "repeating_npc5secondary_dice_number", "repeating_npc5secondary_dice_type", "repeating_npc5secondary_default_advantage"], function(values) {
            var number = values.repeating_npc5secondary_dice_number*1;
            var type = "d" + values.repeating_npc5secondary_dice_type + "!!";
			var roll = "";
			if(values.repeating_npc5secondary_score*1 === 0) {
				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]}}";
			} else {
				roll = "{{roll=[[1d20!! + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.repeating_npc5secondary_default_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
			}
            setAttrs({
                "repeating_npc5secondary_roll": roll
            });
        });
    });

	// On Change for calculating rolls for NPC#1 Favored Actions if any variables are updated
    on("change:repeating_npc1actions:use_d20_advantage change:repeating_npc1actions:use_destructive_trance change:repeating_npc1actions:default_advantage change:repeating_npc1actions:tab_action change:repeating_npc1actions:dice_number change:repeating_npc1actions:dice_type change:repeating_npc1actions:effect_dice_number change:repeating_npc1actions:effect_dice_type change:repeating_npc1actions:use_power_level_1 change:repeating_npc1actions:action_pl1 change:repeating_npc1actions:use_power_level_2 change:repeating_npc1actions:action_pl2 change:repeating_npc1actions:use_power_level_3 change:repeating_npc1actions:action_pl3 change:repeating_npc1actions:use_power_level_4 change:repeating_npc1actions:action_pl4 change:repeating_npc1actions:use_power_level_5 change:repeating_npc1actions:action_pl5 change:repeating_npc1actions:use_power_level_6 change:repeating_npc1actions:action_pl6 change:repeating_npc1actions:use_power_level_7 change:repeating_npc1actions:action_pl7 change:repeating_npc1actions:use_power_level_8 change:repeating_npc1actions:action_pl8 change:repeating_npc1actions:use_power_level_9 change:repeating_npc1actions:action_pl9", function() {
        getAttrs(["repeating_npc1actions_score", "repeating_npc1actions_use_d20_advantage", "repeating_npc1actions_use_destructive_trance", "repeating_npc1actions_default_advantage", "repeating_npc1actions_tab_action", "repeating_npc1actions_dice_number", "repeating_npc1actions_dice_type", "repeating_npc1actions_effect_dice_number", "repeating_npc1actions_effect_dice_type", "repeating_npc1actions_use_power_level_1", "repeating_npc1actions_action_pl1", "repeating_npc1actions_use_power_level_2", "repeating_npc1actions_action_pl2", "repeating_npc1actions_use_power_level_3", "repeating_npc1actions_action_pl3", "repeating_npc1actions_use_power_level_4", "repeating_npc1actions_action_pl4", "repeating_npc1actions_use_power_level_5", "repeating_npc1actions_action_pl5", "repeating_npc1actions_use_power_level_6", "repeating_npc1actions_action_pl6", "repeating_npc1actions_use_power_level_7", "repeating_npc1actions_action_pl7", "repeating_npc1actions_use_power_level_8", "repeating_npc1actions_action_pl8", "repeating_npc1actions_use_power_level_9", "repeating_npc1actions_action_pl9"], function(values) {
            var number = values.repeating_npc1actions_dice_number*1;
            var type = "d" + values.repeating_npc1actions_dice_type + "!!";
			var destructive = "";
			var destructive20 = "";
			var blank = "";
            var powerLevelLow = 0;
            var powerLevelHigh = 0;
    // Start high and end low to determine the lowest Power Level to use for the given Boon
            if(values.repeating_npc1actions_use_power_level_9 === "1") {    powerLevelLow = 9; }
            if(values.repeating_npc1actions_use_power_level_8 === "1") {    powerLevelLow = 8; }
            if(values.repeating_npc1actions_use_power_level_7 === "1") {    powerLevelLow = 7; }
            if(values.repeating_npc1actions_use_power_level_6 === "1") {    powerLevelLow = 6; }
            if(values.repeating_npc1actions_use_power_level_5 === "1") {    powerLevelLow = 5; }
            if(values.repeating_npc1actions_use_power_level_4 === "1") {    powerLevelLow = 4; }
            if(values.repeating_npc1actions_use_power_level_3 === "1") {    powerLevelLow = 3; }
            if(values.repeating_npc1actions_use_power_level_2 === "1") {    powerLevelLow = 2; }
            if(values.repeating_npc1actions_use_power_level_1 === "1") {    powerLevelLow = 1; }
    // Start low and end high to determine the highest Power Level to use for the given Boon
            if(values.repeating_npc1actions_use_power_level_1 === "1") {    powerLevelHigh = 1; }
            if(values.repeating_npc1actions_use_power_level_2 === "1") {    powerLevelHigh = 2; }
            if(values.repeating_npc1actions_use_power_level_3 === "1") {    powerLevelHigh = 3; }
            if(values.repeating_npc1actions_use_power_level_4 === "1") {    powerLevelHigh = 4; }
            if(values.repeating_npc1actions_use_power_level_5 === "1") {    powerLevelHigh = 5; }
            if(values.repeating_npc1actions_use_power_level_6 === "1") {    powerLevelHigh = 6; }
            if(values.repeating_npc1actions_use_power_level_7 === "1") {    powerLevelHigh = 7; }
            if(values.repeating_npc1actions_use_power_level_8 === "1") {    powerLevelHigh = 8; }
            if(values.repeating_npc1actions_use_power_level_9 === "1") {    powerLevelHigh = 9; }
    // Assign only the Power Levels that exists across ones that don't exist for display vs roll in roll template
            var usePL1 = "";
            var titlePL1 = "";
            var usePL2 = "";
            var titlePL2 = "";
            var usePL3 = "";
            var titlePL3 = "";
            var usePL4 = "";
            var titlePL4 = "";
            var usePL5 = "";
            var titlePL5 = "";
            var usePL6 = "";
            var titlePL6 = "";
            var usePL7 = "";
            var titlePL7 = "";
            var usePL8 = "";
            var titlePL8 = "";
            var usePL9 = "";
            var titlePL9 = "";
            if(values.repeating_npc1actions_use_power_level_1 === "1" && values.repeating_npc1actions_score*1 > 0) {
                usePL1 = values.repeating_npc1actions_action_pl1;
                titlePL1 = "Power Level 1 Info";
            } else {
                usePL1 = "";
                titlePL1 = "";
            }
            if(values.repeating_npc1actions_use_power_level_2 === "1" && values.repeating_npc1actions_score*1 > 1) {
                usePL2 = values.repeating_npc1actions_action_pl2;
                titlePL2 = "Power Level 2 Info";
            } else {
                usePL2 = usePL1;
                titlePL2 = titlePL1;
            }
            if(values.repeating_npc1actions_use_power_level_3 === "1" && values.repeating_npc1actions_score*1 > 2) {
                usePL3 = values.repeating_npc1actions_action_pl3;
                titlePL3 = "Power Level 3 Info";
            } else {
                usePL3 = usePL2;
                titlePL3 = titlePL2;
            }
            if(values.repeating_npc1actions_use_power_level_4 === "1" && values.repeating_npc1actions_score*1 > 3) {
                usePL4 = values.repeating_npc1actions_action_pl4;
                titlePL4 = "Power Level 4 Info";
            } else {
                usePL4 = usePL3;
                titlePL4 = titlePL3;
            }
            if(values.repeating_npc1actions_use_power_level_5 === "1" && values.repeating_npc1actions_score*1 > 4) {
                usePL5 = values.repeating_npc1actions_action_pl5;
                titlePL5 = "Power Level 5 Info";
            } else {
                usePL5 = usePL4;
                titlePL5 = titlePL4;
            }
            if(values.repeating_npc1actions_use_power_level_6 === "1" && values.repeating_npc1actions_score*1 > 5) {
                usePL6 = values.repeating_npc1actions_action_pl6;
                titlePL6 = "Power Level 6 Info";
            } else {
                usePL6 = usePL5;
                titlePL6 = titlePL5;
            }
            if(values.repeating_npc1actions_use_power_level_7 === "1" && values.repeating_npc1actions_score*1 > 6) {
                usePL7 = values.repeating_npc1actions_action_pl7;
                titlePL7 = "Power Level 7 Info";
            } else {
                usePL7 = usePL6;
                titlePL7 = titlePL6;
            }
            if(values.repeating_npc1actions_use_power_level_8 === "1" && values.repeating_npc1actions_score*1 > 7) {
                usePL8 = values.repeating_npc1actions_action_pl8;
                titlePL8 = "Power Level 8 Info";
            } else {
                usePL8 = usePL7;
                titlePL8 = titlePL7;
            }
            if(values.repeating_npc1actions_use_power_level_9 === "1" && values.repeating_npc1actions_score*1 > 8) {
                usePL9 = values.repeating_npc1actions_action_pl9;
                titlePL9 = "Power Level 9 Info";
            } else {
                usePL9 = usePL8;
                titlePL9 = titlePL8;
            }
            

			if(values.repeating_npc1actions_use_destructive_trance === "Yes") {
				destructive = ">" + (values.repeating_npc1actions_dice_type*1 - 1);
				destructive20 = ">19";
			}
			var roll = "";
			if(values.repeating_npc1actions_tab_action === "effect") {
			    roll = "{{roll=[[" + values.repeating_npc1actions_effect_dice_number + values.repeating_npc1actions_effect_dice_type + "]]}}";
			} else {
    			if(values.repeating_npc1actions_score*1 === 0) {
    				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!" + destructive20 + "|Advantage,2d20!!" + destructive20 + "kh1|Disadvantage,2d20!!" + destructive20 + "kl1}]]}}";
    			} else {
    			    if(values.repeating_npc1actions_use_d20_advantage === "Yes") {
        				roll = "{{roll=[[2d20!!" + destructive20 + "k1 + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.repeating_npc1actions_default_advantage*1 + "}]]" + type + destructive + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
    			    } else {
        				roll = "{{roll=[[1d20!!" + destructive20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.repeating_npc1actions_default_advantage*1 + "}]]" + type + destructive + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
    			    }
    			}
			}
            setAttrs({
                "repeating_npc1actions_dice_roll": roll,
                "repeating_npc1actions_power_level_low": powerLevelLow,
                "repeating_npc1actions_power_level_high": powerLevelHigh,
                "repeating_npc1actions_pl1": usePL1,
                "repeating_npc1actions_pl1_title": titlePL1,
                "repeating_npc1actions_pl2": usePL2,
                "repeating_npc1actions_pl2_title": titlePL2,
                "repeating_npc1actions_pl3": usePL3,
                "repeating_npc1actions_pl3_title": titlePL3,
                "repeating_npc1actions_pl4": usePL4,
                "repeating_npc1actions_pl4_title": titlePL4,
                "repeating_npc1actions_pl5": usePL5,
                "repeating_npc1actions_pl5_title": titlePL5,
                "repeating_npc1actions_pl6": usePL6,
                "repeating_npc1actions_pl6_title": titlePL6,
                "repeating_npc1actions_pl7": usePL7,
                "repeating_npc1actions_pl7_title": titlePL7,
                "repeating_npc1actions_pl8": usePL8,
                "repeating_npc1actions_pl8_title": titlePL8,
                "repeating_npc1actions_pl9": usePL9,
                "repeating_npc1actions_pl9_title": titlePL9
            });
        });
    });
	// On Change for calculating rolls for NPC#2 Favored Actions if any variables are updated
    on("change:repeating_npc2actions:use_d20_advantage change:repeating_npc2actions:use_destructive_trance change:repeating_npc2actions:default_advantage change:repeating_npc2actions:tab_action change:repeating_npc2actions:dice_number change:repeating_npc2actions:dice_type change:repeating_npc2actions:effect_dice_number change:repeating_npc2actions:effect_dice_type change:repeating_npc2actions:use_power_level_1 change:repeating_npc2actions:action_pl1 change:repeating_npc2actions:use_power_level_2 change:repeating_npc2actions:action_pl2 change:repeating_npc2actions:use_power_level_3 change:repeating_npc2actions:action_pl3 change:repeating_npc2actions:use_power_level_4 change:repeating_npc2actions:action_pl4 change:repeating_npc2actions:use_power_level_5 change:repeating_npc2actions:action_pl5 change:repeating_npc2actions:use_power_level_6 change:repeating_npc2actions:action_pl6 change:repeating_npc2actions:use_power_level_7 change:repeating_npc2actions:action_pl7 change:repeating_npc2actions:use_power_level_8 change:repeating_npc2actions:action_pl8 change:repeating_npc2actions:use_power_level_9 change:repeating_npc2actions:action_pl9", function() {
        getAttrs(["repeating_npc2actions_score", "repeating_npc2actions_use_d20_advantage", "repeating_npc2actions_use_destructive_trance", "repeating_npc2actions_default_advantage", "repeating_npc2actions_tab_action", "repeating_npc2actions_dice_number", "repeating_npc2actions_dice_type", "repeating_npc2actions_effect_dice_number", "repeating_npc2actions_effect_dice_type", "repeating_npc2actions_use_power_level_1", "repeating_npc2actions_action_pl1", "repeating_npc2actions_use_power_level_2", "repeating_npc2actions_action_pl2", "repeating_npc2actions_use_power_level_3", "repeating_npc2actions_action_pl3", "repeating_npc2actions_use_power_level_4", "repeating_npc2actions_action_pl4", "repeating_npc2actions_use_power_level_5", "repeating_npc2actions_action_pl5", "repeating_npc2actions_use_power_level_6", "repeating_npc2actions_action_pl6", "repeating_npc2actions_use_power_level_7", "repeating_npc2actions_action_pl7", "repeating_npc2actions_use_power_level_8", "repeating_npc2actions_action_pl8", "repeating_npc2actions_use_power_level_9", "repeating_npc2actions_action_pl9"], function(values) {
            var number = values.repeating_npc2actions_dice_number*1;
            var type = "d" + values.repeating_npc2actions_dice_type + "!!";
			var destructive = "";
			var destructive20 = "";
			var blank = "";
            var powerLevelLow = 0;
            var powerLevelHigh = 0;
    // Start high and end low to determine the lowest Power Level to use for the given Boon
            if(values.repeating_npc2actions_use_power_level_9 === "1") {    powerLevelLow = 9; }
            if(values.repeating_npc2actions_use_power_level_8 === "1") {    powerLevelLow = 8; }
            if(values.repeating_npc2actions_use_power_level_7 === "1") {    powerLevelLow = 7; }
            if(values.repeating_npc2actions_use_power_level_6 === "1") {    powerLevelLow = 6; }
            if(values.repeating_npc2actions_use_power_level_5 === "1") {    powerLevelLow = 5; }
            if(values.repeating_npc2actions_use_power_level_4 === "1") {    powerLevelLow = 4; }
            if(values.repeating_npc2actions_use_power_level_3 === "1") {    powerLevelLow = 3; }
            if(values.repeating_npc2actions_use_power_level_2 === "1") {    powerLevelLow = 2; }
            if(values.repeating_npc2actions_use_power_level_1 === "1") {    powerLevelLow = 1; }
    // Start low and end high to determine the highest Power Level to use for the given Boon
            if(values.repeating_npc2actions_use_power_level_1 === "1") {    powerLevelHigh = 1; }
            if(values.repeating_npc2actions_use_power_level_2 === "1") {    powerLevelHigh = 2; }
            if(values.repeating_npc2actions_use_power_level_3 === "1") {    powerLevelHigh = 3; }
            if(values.repeating_npc2actions_use_power_level_4 === "1") {    powerLevelHigh = 4; }
            if(values.repeating_npc2actions_use_power_level_5 === "1") {    powerLevelHigh = 5; }
            if(values.repeating_npc2actions_use_power_level_6 === "1") {    powerLevelHigh = 6; }
            if(values.repeating_npc2actions_use_power_level_7 === "1") {    powerLevelHigh = 7; }
            if(values.repeating_npc2actions_use_power_level_8 === "1") {    powerLevelHigh = 8; }
            if(values.repeating_npc2actions_use_power_level_9 === "1") {    powerLevelHigh = 9; }
    // Assign only the Power Levels that exists across ones that don't exist for display vs roll in roll template
            var usePL1 = "";
            var titlePL1 = "";
            var usePL2 = "";
            var titlePL2 = "";
            var usePL3 = "";
            var titlePL3 = "";
            var usePL4 = "";
            var titlePL4 = "";
            var usePL5 = "";
            var titlePL5 = "";
            var usePL6 = "";
            var titlePL6 = "";
            var usePL7 = "";
            var titlePL7 = "";
            var usePL8 = "";
            var titlePL8 = "";
            var usePL9 = "";
            var titlePL9 = "";
            if(values.repeating_npc2actions_use_power_level_1 === "1" && values.repeating_npc2actions_score*1 > 0) {
                usePL1 = values.repeating_npc2actions_action_pl1;
                titlePL1 = "Power Level 1 Info";
            } else {
                usePL1 = "";
                titlePL1 = "";
            }
            if(values.repeating_npc2actions_use_power_level_2 === "1" && values.repeating_npc2actions_score*1 > 1) {
                usePL2 = values.repeating_npc2actions_action_pl2;
                titlePL2 = "Power Level 2 Info";
            } else {
                usePL2 = usePL1;
                titlePL2 = titlePL1;
            }
            if(values.repeating_npc2actions_use_power_level_3 === "1" && values.repeating_npc2actions_score*1 > 2) {
                usePL3 = values.repeating_npc2actions_action_pl3;
                titlePL3 = "Power Level 3 Info";
            } else {
                usePL3 = usePL2;
                titlePL3 = titlePL2;
            }
            if(values.repeating_npc2actions_use_power_level_4 === "1" && values.repeating_npc2actions_score*1 > 3) {
                usePL4 = values.repeating_npc2actions_action_pl4;
                titlePL4 = "Power Level 4 Info";
            } else {
                usePL4 = usePL3;
                titlePL4 = titlePL3;
            }
            if(values.repeating_npc2actions_use_power_level_5 === "1" && values.repeating_npc2actions_score*1 > 4) {
                usePL5 = values.repeating_npc2actions_action_pl5;
                titlePL5 = "Power Level 5 Info";
            } else {
                usePL5 = usePL4;
                titlePL5 = titlePL4;
            }
            if(values.repeating_npc2actions_use_power_level_6 === "1" && values.repeating_npc2actions_score*1 > 5) {
                usePL6 = values.repeating_npc2actions_action_pl6;
                titlePL6 = "Power Level 6 Info";
            } else {
                usePL6 = usePL5;
                titlePL6 = titlePL5;
            }
            if(values.repeating_npc2actions_use_power_level_7 === "1" && values.repeating_npc2actions_score*1 > 6) {
                usePL7 = values.repeating_npc2actions_action_pl7;
                titlePL7 = "Power Level 7 Info";
            } else {
                usePL7 = usePL6;
                titlePL7 = titlePL6;
            }
            if(values.repeating_npc2actions_use_power_level_8 === "1" && values.repeating_npc2actions_score*1 > 7) {
                usePL8 = values.repeating_npc2actions_action_pl8;
                titlePL8 = "Power Level 8 Info";
            } else {
                usePL8 = usePL7;
                titlePL8 = titlePL7;
            }
            if(values.repeating_npc2actions_use_power_level_9 === "1" && values.repeating_npc2actions_score*1 > 8) {
                usePL9 = values.repeating_npc2actions_action_pl9;
                titlePL9 = "Power Level 9 Info";
            } else {
                usePL9 = usePL8;
                titlePL9 = titlePL8;
            }
            

			if(values.repeating_npc2actions_use_destructive_trance === "Yes") {
				destructive = ">" + (values.repeating_npc2actions_dice_type*1 - 1);
				destructive20 = ">19";
			}
			var roll = "";
			if(values.repeating_npc2actions_tab_action === "effect") {
			    roll = "{{roll=[[" + values.repeating_npc2actions_effect_dice_number + values.repeating_npc2actions_effect_dice_type + "]]}}";
			} else {
    			if(values.repeating_npc2actions_score*1 === 0) {
    				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!" + destructive20 + "|Advantage,2d20!!" + destructive20 + "kh1|Disadvantage,2d20!!" + destructive20 + "kl1}]]}}";
    			} else {
    			    if(values.repeating_npc2actions_use_d20_advantage === "Yes") {
        				roll = "{{roll=[[2d20!!" + destructive20 + "k1 + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.repeating_npc2actions_default_advantage*1 + "}]]" + type + destructive + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
    			    } else {
        				roll = "{{roll=[[1d20!!" + destructive20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.repeating_npc2actions_default_advantage*1 + "}]]" + type + destructive + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
    			    }
    			}
			}
            setAttrs({
                "repeating_npc2actions_dice_roll": roll,
                "repeating_npc2actions_power_level_low": powerLevelLow,
                "repeating_npc2actions_power_level_high": powerLevelHigh,
                "repeating_npc2actions_pl1": usePL1,
                "repeating_npc2actions_pl1_title": titlePL1,
                "repeating_npc2actions_pl2": usePL2,
                "repeating_npc2actions_pl2_title": titlePL2,
                "repeating_npc2actions_pl3": usePL3,
                "repeating_npc2actions_pl3_title": titlePL3,
                "repeating_npc2actions_pl4": usePL4,
                "repeating_npc2actions_pl4_title": titlePL4,
                "repeating_npc2actions_pl5": usePL5,
                "repeating_npc2actions_pl5_title": titlePL5,
                "repeating_npc2actions_pl6": usePL6,
                "repeating_npc2actions_pl6_title": titlePL6,
                "repeating_npc2actions_pl7": usePL7,
                "repeating_npc2actions_pl7_title": titlePL7,
                "repeating_npc2actions_pl8": usePL8,
                "repeating_npc2actions_pl8_title": titlePL8,
                "repeating_npc2actions_pl9": usePL9,
                "repeating_npc2actions_pl9_title": titlePL9
            });
        });
    });
	// On Change for calculating rolls for NPC#3 Favored Actions if any variables are updated
    on("change:repeating_npc3actions:use_d20_advantage change:repeating_npc3actions:use_destructive_trance change:repeating_npc3actions:default_advantage change:repeating_npc3actions:tab_action change:repeating_npc3actions:dice_number change:repeating_npc3actions:dice_type change:repeating_npc3actions:effect_dice_number change:repeating_npc3actions:effect_dice_type change:repeating_npc3actions:use_power_level_1 change:repeating_npc3actions:action_pl1 change:repeating_npc3actions:use_power_level_2 change:repeating_npc3actions:action_pl2 change:repeating_npc3actions:use_power_level_3 change:repeating_npc3actions:action_pl3 change:repeating_npc3actions:use_power_level_4 change:repeating_npc3actions:action_pl4 change:repeating_npc3actions:use_power_level_5 change:repeating_npc3actions:action_pl5 change:repeating_npc3actions:use_power_level_6 change:repeating_npc3actions:action_pl6 change:repeating_npc3actions:use_power_level_7 change:repeating_npc3actions:action_pl7 change:repeating_npc3actions:use_power_level_8 change:repeating_npc3actions:action_pl8 change:repeating_npc3actions:use_power_level_9 change:repeating_npc3actions:action_pl9", function() {
        getAttrs(["repeating_npc3actions_score", "repeating_npc3actions_use_d20_advantage", "repeating_npc3actions_use_destructive_trance", "repeating_npc3actions_default_advantage", "repeating_npc3actions_tab_action", "repeating_npc3actions_dice_number", "repeating_npc3actions_dice_type", "repeating_npc3actions_effect_dice_number", "repeating_npc3actions_effect_dice_type", "repeating_npc3actions_use_power_level_1", "repeating_npc3actions_action_pl1", "repeating_npc3actions_use_power_level_2", "repeating_npc3actions_action_pl2", "repeating_npc3actions_use_power_level_3", "repeating_npc3actions_action_pl3", "repeating_npc3actions_use_power_level_4", "repeating_npc3actions_action_pl4", "repeating_npc3actions_use_power_level_5", "repeating_npc3actions_action_pl5", "repeating_npc3actions_use_power_level_6", "repeating_npc3actions_action_pl6", "repeating_npc3actions_use_power_level_7", "repeating_npc3actions_action_pl7", "repeating_npc3actions_use_power_level_8", "repeating_npc3actions_action_pl8", "repeating_npc3actions_use_power_level_9", "repeating_npc3actions_action_pl9"], function(values) {
            var number = values.repeating_npc3actions_dice_number*1;
            var type = "d" + values.repeating_npc3actions_dice_type + "!!";
			var destructive = "";
			var destructive20 = "";
			var blank = "";
            var powerLevelLow = 0;
            var powerLevelHigh = 0;
    // Start high and end low to determine the lowest Power Level to use for the given Boon
            if(values.repeating_npc3actions_use_power_level_9 === "1") {    powerLevelLow = 9; }
            if(values.repeating_npc3actions_use_power_level_8 === "1") {    powerLevelLow = 8; }
            if(values.repeating_npc3actions_use_power_level_7 === "1") {    powerLevelLow = 7; }
            if(values.repeating_npc3actions_use_power_level_6 === "1") {    powerLevelLow = 6; }
            if(values.repeating_npc3actions_use_power_level_5 === "1") {    powerLevelLow = 5; }
            if(values.repeating_npc3actions_use_power_level_4 === "1") {    powerLevelLow = 4; }
            if(values.repeating_npc3actions_use_power_level_3 === "1") {    powerLevelLow = 3; }
            if(values.repeating_npc3actions_use_power_level_2 === "1") {    powerLevelLow = 2; }
            if(values.repeating_npc3actions_use_power_level_1 === "1") {    powerLevelLow = 1; }
    // Start low and end high to determine the highest Power Level to use for the given Boon
            if(values.repeating_npc3actions_use_power_level_1 === "1") {    powerLevelHigh = 1; }
            if(values.repeating_npc3actions_use_power_level_2 === "1") {    powerLevelHigh = 2; }
            if(values.repeating_npc3actions_use_power_level_3 === "1") {    powerLevelHigh = 3; }
            if(values.repeating_npc3actions_use_power_level_4 === "1") {    powerLevelHigh = 4; }
            if(values.repeating_npc3actions_use_power_level_5 === "1") {    powerLevelHigh = 5; }
            if(values.repeating_npc3actions_use_power_level_6 === "1") {    powerLevelHigh = 6; }
            if(values.repeating_npc3actions_use_power_level_7 === "1") {    powerLevelHigh = 7; }
            if(values.repeating_npc3actions_use_power_level_8 === "1") {    powerLevelHigh = 8; }
            if(values.repeating_npc3actions_use_power_level_9 === "1") {    powerLevelHigh = 9; }
    // Assign only the Power Levels that exists across ones that don't exist for display vs roll in roll template
            var usePL1 = "";
            var titlePL1 = "";
            var usePL2 = "";
            var titlePL2 = "";
            var usePL3 = "";
            var titlePL3 = "";
            var usePL4 = "";
            var titlePL4 = "";
            var usePL5 = "";
            var titlePL5 = "";
            var usePL6 = "";
            var titlePL6 = "";
            var usePL7 = "";
            var titlePL7 = "";
            var usePL8 = "";
            var titlePL8 = "";
            var usePL9 = "";
            var titlePL9 = "";
            if(values.repeating_npc3actions_use_power_level_1 === "1" && values.repeating_npc3actions_score*1 > 0) {
                usePL1 = values.repeating_npc3actions_action_pl1;
                titlePL1 = "Power Level 1 Info";
            } else {
                usePL1 = "";
                titlePL1 = "";
            }
            if(values.repeating_npc3actions_use_power_level_2 === "1" && values.repeating_npc3actions_score*1 > 1) {
                usePL2 = values.repeating_npc3actions_action_pl2;
                titlePL2 = "Power Level 2 Info";
            } else {
                usePL2 = usePL1;
                titlePL2 = titlePL1;
            }
            if(values.repeating_npc3actions_use_power_level_3 === "1" && values.repeating_npc3actions_score*1 > 2) {
                usePL3 = values.repeating_npc3actions_action_pl3;
                titlePL3 = "Power Level 3 Info";
            } else {
                usePL3 = usePL2;
                titlePL3 = titlePL2;
            }
            if(values.repeating_npc3actions_use_power_level_4 === "1" && values.repeating_npc3actions_score*1 > 3) {
                usePL4 = values.repeating_npc3actions_action_pl4;
                titlePL4 = "Power Level 4 Info";
            } else {
                usePL4 = usePL3;
                titlePL4 = titlePL3;
            }
            if(values.repeating_npc3actions_use_power_level_5 === "1" && values.repeating_npc3actions_score*1 > 4) {
                usePL5 = values.repeating_npc3actions_action_pl5;
                titlePL5 = "Power Level 5 Info";
            } else {
                usePL5 = usePL4;
                titlePL5 = titlePL4;
            }
            if(values.repeating_npc3actions_use_power_level_6 === "1" && values.repeating_npc3actions_score*1 > 5) {
                usePL6 = values.repeating_npc3actions_action_pl6;
                titlePL6 = "Power Level 6 Info";
            } else {
                usePL6 = usePL5;
                titlePL6 = titlePL5;
            }
            if(values.repeating_npc3actions_use_power_level_7 === "1" && values.repeating_npc3actions_score*1 > 6) {
                usePL7 = values.repeating_npc3actions_action_pl7;
                titlePL7 = "Power Level 7 Info";
            } else {
                usePL7 = usePL6;
                titlePL7 = titlePL6;
            }
            if(values.repeating_npc3actions_use_power_level_8 === "1" && values.repeating_npc3actions_score*1 > 7) {
                usePL8 = values.repeating_npc3actions_action_pl8;
                titlePL8 = "Power Level 8 Info";
            } else {
                usePL8 = usePL7;
                titlePL8 = titlePL7;
            }
            if(values.repeating_npc3actions_use_power_level_9 === "1" && values.repeating_npc3actions_score*1 > 8) {
                usePL9 = values.repeating_npc3actions_action_pl9;
                titlePL9 = "Power Level 9 Info";
            } else {
                usePL9 = usePL8;
                titlePL9 = titlePL8;
            }
            

			if(values.repeating_npc3actions_use_destructive_trance === "Yes") {
				destructive = ">" + (values.repeating_npc3actions_dice_type*1 - 1);
				destructive20 = ">19";
			}
			var roll = "";
			if(values.repeating_npc3actions_tab_action === "effect") {
			    roll = "{{roll=[[" + values.repeating_npc3actions_effect_dice_number + values.repeating_npc3actions_effect_dice_type + "]]}}";
			} else {
    			if(values.repeating_npc3actions_score*1 === 0) {
    				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!" + destructive20 + "|Advantage,2d20!!" + destructive20 + "kh1|Disadvantage,2d20!!" + destructive20 + "kl1}]]}}";
    			} else {
    			    if(values.repeating_npc3actions_use_d20_advantage === "Yes") {
        				roll = "{{roll=[[2d20!!" + destructive20 + "k1 + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.repeating_npc3actions_default_advantage*1 + "}]]" + type + destructive + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
    			    } else {
        				roll = "{{roll=[[1d20!!" + destructive20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.repeating_npc3actions_default_advantage*1 + "}]]" + type + destructive + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
    			    }
    			}
			}
            setAttrs({
                "repeating_npc3actions_dice_roll": roll,
                "repeating_npc3actions_power_level_low": powerLevelLow,
                "repeating_npc3actions_power_level_high": powerLevelHigh,
                "repeating_npc3actions_pl1": usePL1,
                "repeating_npc3actions_pl1_title": titlePL1,
                "repeating_npc3actions_pl2": usePL2,
                "repeating_npc3actions_pl2_title": titlePL2,
                "repeating_npc3actions_pl3": usePL3,
                "repeating_npc3actions_pl3_title": titlePL3,
                "repeating_npc3actions_pl4": usePL4,
                "repeating_npc3actions_pl4_title": titlePL4,
                "repeating_npc3actions_pl5": usePL5,
                "repeating_npc3actions_pl5_title": titlePL5,
                "repeating_npc3actions_pl6": usePL6,
                "repeating_npc3actions_pl6_title": titlePL6,
                "repeating_npc3actions_pl7": usePL7,
                "repeating_npc3actions_pl7_title": titlePL7,
                "repeating_npc3actions_pl8": usePL8,
                "repeating_npc3actions_pl8_title": titlePL8,
                "repeating_npc3actions_pl9": usePL9,
                "repeating_npc3actions_pl9_title": titlePL9
            });
        });
    });
	// On Change for calculating rolls for NPC#4 Favored Actions if any variables are updated
    on("change:repeating_npc4actions:use_d20_advantage change:repeating_npc4actions:use_destructive_trance change:repeating_npc4actions:default_advantage change:repeating_npc4actions:tab_action change:repeating_npc4actions:dice_number change:repeating_npc4actions:dice_type change:repeating_npc4actions:effect_dice_number change:repeating_npc4actions:effect_dice_type change:repeating_npc4actions:use_power_level_1 change:repeating_npc4actions:action_pl1 change:repeating_npc4actions:use_power_level_2 change:repeating_npc4actions:action_pl2 change:repeating_npc4actions:use_power_level_3 change:repeating_npc4actions:action_pl3 change:repeating_npc4actions:use_power_level_4 change:repeating_npc4actions:action_pl4 change:repeating_npc4actions:use_power_level_5 change:repeating_npc4actions:action_pl5 change:repeating_npc4actions:use_power_level_6 change:repeating_npc4actions:action_pl6 change:repeating_npc4actions:use_power_level_7 change:repeating_npc4actions:action_pl7 change:repeating_npc4actions:use_power_level_8 change:repeating_npc4actions:action_pl8 change:repeating_npc4actions:use_power_level_9 change:repeating_npc4actions:action_pl9", function() {
        getAttrs(["repeating_npc4actions_score", "repeating_npc4actions_use_d20_advantage", "repeating_npc4actions_use_destructive_trance", "repeating_npc4actions_default_advantage", "repeating_npc4actions_tab_action", "repeating_npc4actions_dice_number", "repeating_npc4actions_dice_type", "repeating_npc4actions_effect_dice_number", "repeating_npc4actions_effect_dice_type", "repeating_npc4actions_use_power_level_1", "repeating_npc4actions_action_pl1", "repeating_npc4actions_use_power_level_2", "repeating_npc4actions_action_pl2", "repeating_npc4actions_use_power_level_3", "repeating_npc4actions_action_pl3", "repeating_npc4actions_use_power_level_4", "repeating_npc4actions_action_pl4", "repeating_npc4actions_use_power_level_5", "repeating_npc4actions_action_pl5", "repeating_npc4actions_use_power_level_6", "repeating_npc4actions_action_pl6", "repeating_npc4actions_use_power_level_7", "repeating_npc4actions_action_pl7", "repeating_npc4actions_use_power_level_8", "repeating_npc4actions_action_pl8", "repeating_npc4actions_use_power_level_9", "repeating_npc4actions_action_pl9"], function(values) {
            var number = values.repeating_npc4actions_dice_number*1;
            var type = "d" + values.repeating_npc4actions_dice_type + "!!";
			var destructive = "";
			var destructive20 = "";
			var blank = "";
            var powerLevelLow = 0;
            var powerLevelHigh = 0;
    // Start high and end low to determine the lowest Power Level to use for the given Boon
            if(values.repeating_npc4actions_use_power_level_9 === "1") {    powerLevelLow = 9; }
            if(values.repeating_npc4actions_use_power_level_8 === "1") {    powerLevelLow = 8; }
            if(values.repeating_npc4actions_use_power_level_7 === "1") {    powerLevelLow = 7; }
            if(values.repeating_npc4actions_use_power_level_6 === "1") {    powerLevelLow = 6; }
            if(values.repeating_npc4actions_use_power_level_5 === "1") {    powerLevelLow = 5; }
            if(values.repeating_npc4actions_use_power_level_4 === "1") {    powerLevelLow = 4; }
            if(values.repeating_npc4actions_use_power_level_3 === "1") {    powerLevelLow = 3; }
            if(values.repeating_npc4actions_use_power_level_2 === "1") {    powerLevelLow = 2; }
            if(values.repeating_npc4actions_use_power_level_1 === "1") {    powerLevelLow = 1; }
    // Start low and end high to determine the highest Power Level to use for the given Boon
            if(values.repeating_npc4actions_use_power_level_1 === "1") {    powerLevelHigh = 1; }
            if(values.repeating_npc4actions_use_power_level_2 === "1") {    powerLevelHigh = 2; }
            if(values.repeating_npc4actions_use_power_level_3 === "1") {    powerLevelHigh = 3; }
            if(values.repeating_npc4actions_use_power_level_4 === "1") {    powerLevelHigh = 4; }
            if(values.repeating_npc4actions_use_power_level_5 === "1") {    powerLevelHigh = 5; }
            if(values.repeating_npc4actions_use_power_level_6 === "1") {    powerLevelHigh = 6; }
            if(values.repeating_npc4actions_use_power_level_7 === "1") {    powerLevelHigh = 7; }
            if(values.repeating_npc4actions_use_power_level_8 === "1") {    powerLevelHigh = 8; }
            if(values.repeating_npc4actions_use_power_level_9 === "1") {    powerLevelHigh = 9; }
    // Assign only the Power Levels that exists across ones that don't exist for display vs roll in roll template
            var usePL1 = "";
            var titlePL1 = "";
            var usePL2 = "";
            var titlePL2 = "";
            var usePL3 = "";
            var titlePL3 = "";
            var usePL4 = "";
            var titlePL4 = "";
            var usePL5 = "";
            var titlePL5 = "";
            var usePL6 = "";
            var titlePL6 = "";
            var usePL7 = "";
            var titlePL7 = "";
            var usePL8 = "";
            var titlePL8 = "";
            var usePL9 = "";
            var titlePL9 = "";
            if(values.repeating_npc4actions_use_power_level_1 === "1" && values.repeating_npc4actions_score*1 > 0) {
                usePL1 = values.repeating_npc4actions_action_pl1;
                titlePL1 = "Power Level 1 Info";
            } else {
                usePL1 = "";
                titlePL1 = "";
            }
            if(values.repeating_npc4actions_use_power_level_2 === "1" && values.repeating_npc4actions_score*1 > 1) {
                usePL2 = values.repeating_npc4actions_action_pl2;
                titlePL2 = "Power Level 2 Info";
            } else {
                usePL2 = usePL1;
                titlePL2 = titlePL1;
            }
            if(values.repeating_npc4actions_use_power_level_3 === "1" && values.repeating_npc4actions_score*1 > 2) {
                usePL3 = values.repeating_npc4actions_action_pl3;
                titlePL3 = "Power Level 3 Info";
            } else {
                usePL3 = usePL2;
                titlePL3 = titlePL2;
            }
            if(values.repeating_npc4actions_use_power_level_4 === "1" && values.repeating_npc4actions_score*1 > 3) {
                usePL4 = values.repeating_npc4actions_action_pl4;
                titlePL4 = "Power Level 4 Info";
            } else {
                usePL4 = usePL3;
                titlePL4 = titlePL3;
            }
            if(values.repeating_npc4actions_use_power_level_5 === "1" && values.repeating_npc4actions_score*1 > 4) {
                usePL5 = values.repeating_npc4actions_action_pl5;
                titlePL5 = "Power Level 5 Info";
            } else {
                usePL5 = usePL4;
                titlePL5 = titlePL4;
            }
            if(values.repeating_npc4actions_use_power_level_6 === "1" && values.repeating_npc4actions_score*1 > 5) {
                usePL6 = values.repeating_npc4actions_action_pl6;
                titlePL6 = "Power Level 6 Info";
            } else {
                usePL6 = usePL5;
                titlePL6 = titlePL5;
            }
            if(values.repeating_npc4actions_use_power_level_7 === "1" && values.repeating_npc4actions_score*1 > 6) {
                usePL7 = values.repeating_npc4actions_action_pl7;
                titlePL7 = "Power Level 7 Info";
            } else {
                usePL7 = usePL6;
                titlePL7 = titlePL6;
            }
            if(values.repeating_npc4actions_use_power_level_8 === "1" && values.repeating_npc4actions_score*1 > 7) {
                usePL8 = values.repeating_npc4actions_action_pl8;
                titlePL8 = "Power Level 8 Info";
            } else {
                usePL8 = usePL7;
                titlePL8 = titlePL7;
            }
            if(values.repeating_npc4actions_use_power_level_9 === "1" && values.repeating_npc4actions_score*1 > 8) {
                usePL9 = values.repeating_npc4actions_action_pl9;
                titlePL9 = "Power Level 9 Info";
            } else {
                usePL9 = usePL8;
                titlePL9 = titlePL8;
            }
            

			if(values.repeating_npc4actions_use_destructive_trance === "Yes") {
				destructive = ">" + (values.repeating_npc4actions_dice_type*1 - 1);
				destructive20 = ">19";
			}
			var roll = "";
			if(values.repeating_npc4actions_tab_action === "effect") {
			    roll = "{{roll=[[" + values.repeating_npc4actions_effect_dice_number + values.repeating_npc4actions_effect_dice_type + "]]}}";
			} else {
    			if(values.repeating_npc4actions_score*1 === 0) {
    				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!" + destructive20 + "|Advantage,2d20!!" + destructive20 + "kh1|Disadvantage,2d20!!" + destructive20 + "kl1}]]}}";
    			} else {
    			    if(values.repeating_npc4actions_use_d20_advantage === "Yes") {
        				roll = "{{roll=[[2d20!!" + destructive20 + "k1 + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.repeating_npc4actions_default_advantage*1 + "}]]" + type + destructive + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
    			    } else {
        				roll = "{{roll=[[1d20!!" + destructive20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.repeating_npc4actions_default_advantage*1 + "}]]" + type + destructive + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
    			    }
    			}
			}
            setAttrs({
                "repeating_npc4actions_dice_roll": roll,
                "repeating_npc4actions_power_level_low": powerLevelLow,
                "repeating_npc4actions_power_level_high": powerLevelHigh,
                "repeating_npc4actions_pl1": usePL1,
                "repeating_npc4actions_pl1_title": titlePL1,
                "repeating_npc4actions_pl2": usePL2,
                "repeating_npc4actions_pl2_title": titlePL2,
                "repeating_npc4actions_pl3": usePL3,
                "repeating_npc4actions_pl3_title": titlePL3,
                "repeating_npc4actions_pl4": usePL4,
                "repeating_npc4actions_pl4_title": titlePL4,
                "repeating_npc4actions_pl5": usePL5,
                "repeating_npc4actions_pl5_title": titlePL5,
                "repeating_npc4actions_pl6": usePL6,
                "repeating_npc4actions_pl6_title": titlePL6,
                "repeating_npc4actions_pl7": usePL7,
                "repeating_npc4actions_pl7_title": titlePL7,
                "repeating_npc4actions_pl8": usePL8,
                "repeating_npc4actions_pl8_title": titlePL8,
                "repeating_npc4actions_pl9": usePL9,
                "repeating_npc4actions_pl9_title": titlePL9
            });
        });
    });
	// On Change for calculating rolls for NPC#5 Favored Actions if any variables are updated
    on("change:repeating_npc5actions:use_d20_advantage change:repeating_npc5actions:use_destructive_trance change:repeating_npc5actions:default_advantage change:repeating_npc5actions:tab_action change:repeating_npc5actions:dice_number change:repeating_npc5actions:dice_type change:repeating_npc5actions:effect_dice_number change:repeating_npc5actions:effect_dice_type change:repeating_npc5actions:use_power_level_1 change:repeating_npc5actions:action_pl1 change:repeating_npc5actions:use_power_level_2 change:repeating_npc5actions:action_pl2 change:repeating_npc5actions:use_power_level_3 change:repeating_npc5actions:action_pl3 change:repeating_npc5actions:use_power_level_4 change:repeating_npc5actions:action_pl4 change:repeating_npc5actions:use_power_level_5 change:repeating_npc5actions:action_pl5 change:repeating_npc5actions:use_power_level_6 change:repeating_npc5actions:action_pl6 change:repeating_npc5actions:use_power_level_7 change:repeating_npc5actions:action_pl7 change:repeating_npc5actions:use_power_level_8 change:repeating_npc5actions:action_pl8 change:repeating_npc5actions:use_power_level_9 change:repeating_npc5actions:action_pl9", function() {
        getAttrs(["repeating_npc5actions_score", "repeating_npc5actions_use_d20_advantage", "repeating_npc5actions_use_destructive_trance", "repeating_npc5actions_default_advantage", "repeating_npc5actions_tab_action", "repeating_npc5actions_dice_number", "repeating_npc5actions_dice_type", "repeating_npc5actions_effect_dice_number", "repeating_npc5actions_effect_dice_type", "repeating_npc5actions_use_power_level_1", "repeating_npc5actions_action_pl1", "repeating_npc5actions_use_power_level_2", "repeating_npc5actions_action_pl2", "repeating_npc5actions_use_power_level_3", "repeating_npc5actions_action_pl3", "repeating_npc5actions_use_power_level_4", "repeating_npc5actions_action_pl4", "repeating_npc5actions_use_power_level_5", "repeating_npc5actions_action_pl5", "repeating_npc5actions_use_power_level_6", "repeating_npc5actions_action_pl6", "repeating_npc5actions_use_power_level_7", "repeating_npc5actions_action_pl7", "repeating_npc5actions_use_power_level_8", "repeating_npc5actions_action_pl8", "repeating_npc5actions_use_power_level_9", "repeating_npc5actions_action_pl9"], function(values) {
            var number = values.repeating_npc5actions_dice_number*1;
            var type = "d" + values.repeating_npc5actions_dice_type + "!!";
			var destructive = "";
			var destructive20 = "";
			var blank = "";
            var powerLevelLow = 0;
            var powerLevelHigh = 0;
    // Start high and end low to determine the lowest Power Level to use for the given Boon
            if(values.repeating_npc5actions_use_power_level_9 === "1") {    powerLevelLow = 9; }
            if(values.repeating_npc5actions_use_power_level_8 === "1") {    powerLevelLow = 8; }
            if(values.repeating_npc5actions_use_power_level_7 === "1") {    powerLevelLow = 7; }
            if(values.repeating_npc5actions_use_power_level_6 === "1") {    powerLevelLow = 6; }
            if(values.repeating_npc5actions_use_power_level_5 === "1") {    powerLevelLow = 5; }
            if(values.repeating_npc5actions_use_power_level_4 === "1") {    powerLevelLow = 4; }
            if(values.repeating_npc5actions_use_power_level_3 === "1") {    powerLevelLow = 3; }
            if(values.repeating_npc5actions_use_power_level_2 === "1") {    powerLevelLow = 2; }
            if(values.repeating_npc5actions_use_power_level_1 === "1") {    powerLevelLow = 1; }
    // Start low and end high to determine the highest Power Level to use for the given Boon
            if(values.repeating_npc5actions_use_power_level_1 === "1") {    powerLevelHigh = 1; }
            if(values.repeating_npc5actions_use_power_level_2 === "1") {    powerLevelHigh = 2; }
            if(values.repeating_npc5actions_use_power_level_3 === "1") {    powerLevelHigh = 3; }
            if(values.repeating_npc5actions_use_power_level_4 === "1") {    powerLevelHigh = 4; }
            if(values.repeating_npc5actions_use_power_level_5 === "1") {    powerLevelHigh = 5; }
            if(values.repeating_npc5actions_use_power_level_6 === "1") {    powerLevelHigh = 6; }
            if(values.repeating_npc5actions_use_power_level_7 === "1") {    powerLevelHigh = 7; }
            if(values.repeating_npc5actions_use_power_level_8 === "1") {    powerLevelHigh = 8; }
            if(values.repeating_npc5actions_use_power_level_9 === "1") {    powerLevelHigh = 9; }
    // Assign only the Power Levels that exists across ones that don't exist for display vs roll in roll template
            var usePL1 = "";
            var titlePL1 = "";
            var usePL2 = "";
            var titlePL2 = "";
            var usePL3 = "";
            var titlePL3 = "";
            var usePL4 = "";
            var titlePL4 = "";
            var usePL5 = "";
            var titlePL5 = "";
            var usePL6 = "";
            var titlePL6 = "";
            var usePL7 = "";
            var titlePL7 = "";
            var usePL8 = "";
            var titlePL8 = "";
            var usePL9 = "";
            var titlePL9 = "";
            if(values.repeating_npc5actions_use_power_level_1 === "1" && values.repeating_npc5actions_score*1 > 0) {
                usePL1 = values.repeating_npc5actions_action_pl1;
                titlePL1 = "Power Level 1 Info";
            } else {
                usePL1 = "";
                titlePL1 = "";
            }
            if(values.repeating_npc5actions_use_power_level_2 === "1" && values.repeating_npc5actions_score*1 > 1) {
                usePL2 = values.repeating_npc5actions_action_pl2;
                titlePL2 = "Power Level 2 Info";
            } else {
                usePL2 = usePL1;
                titlePL2 = titlePL1;
            }
            if(values.repeating_npc5actions_use_power_level_3 === "1" && values.repeating_npc5actions_score*1 > 2) {
                usePL3 = values.repeating_npc5actions_action_pl3;
                titlePL3 = "Power Level 3 Info";
            } else {
                usePL3 = usePL2;
                titlePL3 = titlePL2;
            }
            if(values.repeating_npc5actions_use_power_level_4 === "1" && values.repeating_npc5actions_score*1 > 3) {
                usePL4 = values.repeating_npc5actions_action_pl4;
                titlePL4 = "Power Level 4 Info";
            } else {
                usePL4 = usePL3;
                titlePL4 = titlePL3;
            }
            if(values.repeating_npc5actions_use_power_level_5 === "1" && values.repeating_npc5actions_score*1 > 4) {
                usePL5 = values.repeating_npc5actions_action_pl5;
                titlePL5 = "Power Level 5 Info";
            } else {
                usePL5 = usePL4;
                titlePL5 = titlePL4;
            }
            if(values.repeating_npc5actions_use_power_level_6 === "1" && values.repeating_npc5actions_score*1 > 5) {
                usePL6 = values.repeating_npc5actions_action_pl6;
                titlePL6 = "Power Level 6 Info";
            } else {
                usePL6 = usePL5;
                titlePL6 = titlePL5;
            }
            if(values.repeating_npc5actions_use_power_level_7 === "1" && values.repeating_npc5actions_score*1 > 6) {
                usePL7 = values.repeating_npc5actions_action_pl7;
                titlePL7 = "Power Level 7 Info";
            } else {
                usePL7 = usePL6;
                titlePL7 = titlePL6;
            }
            if(values.repeating_npc5actions_use_power_level_8 === "1" && values.repeating_npc5actions_score*1 > 7) {
                usePL8 = values.repeating_npc5actions_action_pl8;
                titlePL8 = "Power Level 8 Info";
            } else {
                usePL8 = usePL7;
                titlePL8 = titlePL7;
            }
            if(values.repeating_npc5actions_use_power_level_9 === "1" && values.repeating_npc5actions_score*1 > 8) {
                usePL9 = values.repeating_npc5actions_action_pl9;
                titlePL9 = "Power Level 9 Info";
            } else {
                usePL9 = usePL8;
                titlePL9 = titlePL8;
            }
            

			if(values.repeating_npc5actions_use_destructive_trance === "Yes") {
				destructive = ">" + (values.repeating_npc5actions_dice_type*1 - 1);
				destructive20 = ">19";
			}
			var roll = "";
			if(values.repeating_npc5actions_tab_action === "effect") {
			    roll = "{{roll=[[" + values.repeating_npc5actions_effect_dice_number + values.repeating_npc5actions_effect_dice_type + "]]}}";
			} else {
    			if(values.repeating_npc5actions_score*1 === 0) {
    				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!" + destructive20 + "|Advantage,2d20!!" + destructive20 + "kh1|Disadvantage,2d20!!" + destructive20 + "kl1}]]}}";
    			} else {
    			    if(values.repeating_npc5actions_use_d20_advantage === "Yes") {
        				roll = "{{roll=[[2d20!!" + destructive20 + "k1 + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.repeating_npc5actions_default_advantage*1 + "}]]" + type + destructive + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
    			    } else {
        				roll = "{{roll=[[1d20!!" + destructive20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.repeating_npc5actions_default_advantage*1 + "}]]" + type + destructive + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
    			    }
    			}
			}
            setAttrs({
                "repeating_npc5actions_dice_roll": roll,
                "repeating_npc5actions_power_level_low": powerLevelLow,
                "repeating_npc5actions_power_level_high": powerLevelHigh,
                "repeating_npc5actions_pl1": usePL1,
                "repeating_npc5actions_pl1_title": titlePL1,
                "repeating_npc5actions_pl2": usePL2,
                "repeating_npc5actions_pl2_title": titlePL2,
                "repeating_npc5actions_pl3": usePL3,
                "repeating_npc5actions_pl3_title": titlePL3,
                "repeating_npc5actions_pl4": usePL4,
                "repeating_npc5actions_pl4_title": titlePL4,
                "repeating_npc5actions_pl5": usePL5,
                "repeating_npc5actions_pl5_title": titlePL5,
                "repeating_npc5actions_pl6": usePL6,
                "repeating_npc5actions_pl6_title": titlePL6,
                "repeating_npc5actions_pl7": usePL7,
                "repeating_npc5actions_pl7_title": titlePL7,
                "repeating_npc5actions_pl8": usePL8,
                "repeating_npc5actions_pl8_title": titlePL8,
                "repeating_npc5actions_pl9": usePL9,
                "repeating_npc5actions_pl9_title": titlePL9
            });
        });
    });
    
	// On Change for NPC#1-5 Lethal Damage change hp max
	on("change:npc1_current_lethal", function() {
	    getAttrs(["npc1_current_lethal", "npc1_previous_lethal", "Npc1_hp_max"], function(values) {
	        var currentLethal = values.npc1_current_lethal*1;
	        var previousLethal = values.npc1_previous_lethal*1;
	        var currentHPmax = values.Npc1_hp_max*1;
	        var tempMax = currentHPmax*1 + (previousLethal*1 - currentLethal*1);
            setAttrs({
                "npc1_previous_lethal": currentLethal*1,
                "Npc1_hp_max": tempMax*1
            });
        });
    });
	on("change:npc2_current_lethal", function() {
	    getAttrs(["npc2_current_lethal", "npc2_previous_lethal", "Npc2_hp_max"], function(values) {
	        var currentLethal = values.npc2_current_lethal*1;
	        var previousLethal = values.npc2_previous_lethal*1;
	        var currentHPmax = values.Npc2_hp_max*1;
	        var tempMax = currentHPmax*1 + (previousLethal*1 - currentLethal*1);
            setAttrs({
                "npc2_previous_lethal": currentLethal*1,
                "Npc2_hp_max": tempMax*1
            });
        });
    });
	on("change:npc3_current_lethal", function() {
	    getAttrs(["npc3_current_lethal", "npc3_previous_lethal", "Npc3_hp_max"], function(values) {
	        var currentLethal = values.npc3_current_lethal*1;
	        var previousLethal = values.npc3_previous_lethal*1;
	        var currentHPmax = values.Npc3_hp_max*1;
	        var tempMax = currentHPmax*1 + (previousLethal*1 - currentLethal*1);
            setAttrs({
                "npc3_previous_lethal": currentLethal*1,
                "Npc3_hp_max": tempMax*1
            });
        });
    });
	on("change:npc4_current_lethal", function() {
	    getAttrs(["npc4_current_lethal", "npc4_previous_lethal", "Npc4_hp_max"], function(values) {
	        var currentLethal = values.npc4_current_lethal*1;
	        var previousLethal = values.npc4_previous_lethal*1;
	        var currentHPmax = values.Npc4_hp_max*1;
	        var tempMax = currentHPmax*1 + (previousLethal*1 - currentLethal*1);
            setAttrs({
                "npc4_previous_lethal": currentLethal*1,
                "Npc4_hp_max": tempMax*1
            });
        });
    });
	on("change:npc5_current_lethal", function() {
	    getAttrs(["npc5_current_lethal", "npc5_previous_lethal", "Npc5_hp_max"], function(values) {
	        var currentLethal = values.npc5_current_lethal*1;
	        var previousLethal = values.npc5_previous_lethal*1;
	        var currentHPmax = values.Npc5_hp_max*1;
	        var tempMax = currentHPmax*1 + (previousLethal*1 - currentLethal*1);
            setAttrs({
                "npc5_previous_lethal": currentLethal*1,
                "Npc5_hp_max": tempMax*1
            });
        });
    });
// *******************************************************
// *******************************************************
// END NPC section workerscripts
	
	// Function to combine the Non-Essential Inventory & Notes sections (3 into 1)
	// **** To be removed after a few months, only needed for pre-existing characters
	// **** Put in January 2018
    function otherInventoryFixColumns1() {
		getSectionIDs("repeating_OtherTwo", function(otherArray) {
			if(otherArray.length > 0) {
				_.each(otherArray, function(currentID, i) {
				    getAttrs(["repeating_OtherTwo_" + currentID + "_other_title", "repeating_OtherTwo_" + currentID + "_other_contents"], function(v) {
    					var newRowID = generateRowID();
    					var newRowUpdate = {};
    					newRowUpdate["repeating_OtherOne_" + newRowID + "_other_title"] = v["repeating_OtherTwo_" + currentID + "_other_title"];
    					newRowUpdate["repeating_OtherOne_" + newRowID + "_other_contents"] = v["repeating_OtherTwo_" + currentID + "_other_contents"];
    					removeRepeatingRow("repeating_OtherTwo_" + currentID);
    					setAttrs(newRowUpdate);
				    });
				});
			}
		});
	};
    function otherInventoryFixColumns2() {
		getSectionIDs("repeating_OtherThree", function(otherArray) {
			if(otherArray.length > 0) {
				_.each(otherArray, function(currentID, i) {
				    getAttrs(["repeating_OtherThree_" + currentID + "_other_title", "repeating_OtherThree_" + currentID + "_other_contents"], function(v) {
    					var newRowID = generateRowID();
    					var newRowUpdate = {};
    					newRowUpdate["repeating_OtherOne_" + newRowID + "_other_title"] = v["repeating_OtherThree_" + currentID + "_other_title"];
    					newRowUpdate["repeating_OtherOne_" + newRowID + "_other_contents"] = v["repeating_OtherThree_" + currentID + "_other_contents"];
    					removeRepeatingRow("repeating_OtherThree_" + currentID);
    					setAttrs(newRowUpdate);
				    });
				});
			}
		});
	};

    // Function to determine dice number :: takes in the attribute score :: outputs the dice number
    function calcAttributeDiceNumber(value) {
        if(value*1 === 0 || value*1 <= 0) { return 0;
        } else if (value*1 === 1 || value*1 === 2 || value*1 === 3 || value*1 === 4) {  return 1;
        } else if (value*1 === 5 || value*1 === 6 || value*1 === 7) {  return 2;
        } else if (value*1 === 8 || value*1 === 9) {  return 3;
        } else if (value*1 >= 10) {  return 4;
        }
    };
    
    // Function to determine dice type :: takes in the attribute score :: outputs the dice type
    function calcAttributeDiceType(value) {
        if(value*1 === 0 || value*1 <= 0) { return "";
        } else if (value*1 === 1) {  return "d4!!";
        } else if (value*1 === 2 || value*1 === 5) {  return "d6!!";
        } else if (value*1 === 3 || value*1 === 6 || value*1 === 8 || value*1 >= 10) {  return "d8!!";
        } else if (value*1 === 4 || value*1 === 7 || value*1 === 9) {  return "d10!!";
        }
    };
    
    // Function to determine 1 less of die size :: takes in the attribute score :: outputs the 1 less die size
    function calcAttributeDiceDestructive(value) {
        if(value*1 === 0 || value*1 <= 0) { return "";
        } else if (value*1 === 1) {  return ">3";
        } else if (value*1 === 2 || value*1 === 5) {  return ">5";
        } else if (value*1 === 3 || value*1 === 6 || value*1 === 8 || value*1 >= 10) {  return ">7";
        } else if (value*1 === 4 || value*1 === 7 || value*1 === 9) {  return ">9";
        }
    };
    // Function to calculate total cost of attributes based on numbers put in, to be called by each attriburte on change
    function calcAttributePointsSpent() {
        getAttrs(["agility_cost", "fortitude_cost", "might_cost", "deception_cost", "presence_cost", "persuasion_cost", "learning_cost", "logic_cost", "perception_cost", "will_cost", "alteration_cost", "creation_cost", "energy_cost", "entropy_cost", "influence_cost", "movement_cost", "prescience_cost", "protection_cost"], function(values) {
            setAttrs({
                "attribute_points_spent": values.agility_cost*1 + values.fortitude_cost*1 + values.might_cost*1 + values.deception_cost*1 + values.presence_cost*1 + values.persuasion_cost*1 + values.learning_cost*1 + values.logic_cost*1 + values.perception_cost*1 + values.will_cost*1 + values.alteration_cost*1 + values.creation_cost*1 + values.energy_cost*1 + values.entropy_cost*1 + values.influence_cost*1 + values.movement_cost*1 + values.prescience_cost*1 + values.protection_cost*1
            });
        });
    };
    
    // Anytime Armor, Shield, Evasion_other, toughness_other changed, update toughness and evasion
    on("change:armor change:shield change:evasion_other change:toughness_other change:agility_substitution change:fortitude_substitution change:might_substitution", function() {
        calcEvasion();
        calcToughness();
    });
	
	// Function for determining Substitution Values
	function calcSubstitutionScore(subPrimary, subSecondary) {
        getAttrs(["might_score", "agility_score", "fortitude_score", "learning_score", "logic_score", "perception_score", "will_score", "deception_score", "persuasion_score", "presence_score", "alteration_score", "creation_score", "energy_score", "entropy_score", "influence_score", "movement_score", "prescience_score", "protection_score"], function(values) {
			var score = -1;
			var sub = "show";
			switch(subPrimary) {
				case 'Agility':
					score = values.agility_score*1;
					break;
				case 'Fortitude':
					score = values.fortitude_score*1;
					break;
				case 'Might':
					score = values.might_score*1;
					break;
				case 'Learning':
					score = values.learning_score*1;
					break;
				case 'Logic':
					score = values.logic_score*1;
					break;
				case 'Perception':
					score = values.perception_score*1;
					break;
				case 'Will':
					score = values.will_score*1;
					break;
				case 'Deception':
					score = values.deception_score*1;
					break;
				case 'Persuasion':
					score = values.persuasion_score*1;
					break;
				case 'Presence':
					score = values.presence_score*1;
					break;
				case 'Alteration':
					score = values.alteration_score*1;
					break;
				case 'Creation':
					score = values.creation_score*1;
					break;
				case 'Energy':
					score = values.energy_score*1;
					break;
				case 'Entropy':
					score = values.entropy_score*1;
					break;
				case 'Influence':
					score = values.influence_score*1;
					break;
				case 'Movement':
					score = values.movement_score*1;
					break;
				case 'Prescience':
					score = values.prescience_score*1;
					break;
				case 'Protection':
					score = values.protection_score*1;
					break;
				case 'None':
					score = -1;
					break;
				default:
					score = -1;
					break;
			}
			if(score < 0) {
				score = 0;
				sub = "hide"
			}
			switch(subSecondary) {
				case 'Agility':
					setAttrs({
						"agility_substitution": score*1,
						"agility_display_sub_flag": sub
					});
					calcAgility();
					calcOthers();
					break;
				case 'Fortitude':
					setAttrs({
						"fortitude_substitution": score*1,
						"fortitude_display_sub_flag": sub
					});
					calcFortitude();
					calcOthers();
					break;
				case 'Might':
					setAttrs({
						"might_substitution": score*1,
						"might_display_sub_flag": sub
					});
					calcMight();
					calcOthers();
					break;
				case 'Learning':
					setAttrs({
						"learning_substitution": score*1,
						"learning_display_sub_flag": sub
					});
					calcLearning();
					calcOthers();
					break;
				case 'Logic':
					setAttrs({
						"logic_substitution": score*1,
						"logic_display_sub_flag": sub
					});
					calcLogic();
					calcOthers();
					break;
				case 'Perception':
					setAttrs({
						"perception_substitution": score*1,
						"perception_display_sub_flag": sub
					});
					calcPerception();
					calcOthers();
					break;
				case 'Will':
					setAttrs({
						"will_substitution": score*1,
						"will_display_sub_flag": sub
					});
					calcWill();
					calcOthers();
					break;
				case 'Deception':
					setAttrs({
						"deception_substitution": score*1,
						"deception_display_sub_flag": sub
					});
					calcDeception();
					calcOthers();
					break;
				case 'Persuasion':
					setAttrs({
						"persuasion_substitution": score*1,
						"persuasion_display_sub_flag": sub
					});
					calcPersuasion();
					calcOthers();
					break;
				case 'Presence':
					setAttrs({
						"presence_substitution": score*1,
						"presence_display_sub_flag": sub
					});
					calcPresence();
					calcOthers();
					break;
				case 'Alteration':
					setAttrs({
						"alteration_substitution": score*1,
						"alteration_display_sub_flag": sub
					});
					calcAlteration();
					calcOthers();
					break;
				case 'Creation':
					setAttrs({
						"creation_substitution": score*1,
						"creation_display_sub_flag": sub
					});
					calcCreation();
					calcOthers();
					break;
				case 'Energy':
					setAttrs({
						"energy_substitution": score*1,
						"energy_display_sub_flag": sub
					});
					calcEnergy();
					calcOthers();
					break;
				case 'Entropy':
					setAttrs({
						"entropy_substitution": score*1,
						"entropy_display_sub_flag": sub
					});
					calcEntropy();
					calcOthers();
					break;
				case 'Influence':
					setAttrs({
						"influence_substitution": score*1,
						"influence_display_sub_flag": sub
					});
					calcInfluence();
					calcOthers();
					break;
				case 'Movement':
					setAttrs({
						"movement_substitution": score*1,
						"movement_display_sub_flag": sub
					});
					calcMovement();
					calcOthers();
					break;
				case 'Prescience':
					setAttrs({
						"prescience_substitution": score*1,
						"prescience_display_sub_flag": sub
					});
					calcPrescience();
					calcOthers();
					break;
				case 'Protection':
					setAttrs({
						"protection_substitution": score*1,
						"protection_display_sub_flag": sub
					});
					calcProtection();
					calcOthers();
					break;
				default:
					break;
			}
        });		
	};

    // Anytime Agility Substitution is selected
    on("change:agility_substitution_select", function() {
        calcAgilitySub();
    });
    // Function for Agility Substitution is selected
    function calcAgilitySub() {
        getAttrs(["agility_substitution_select"], function(values) {
            calcSubstitutionScore(values.agility_substitution_select, "Agility");
        });
        calcAgility();
    };

    // Anytime Fortitude Substitution is selected
    on("change:fortitude_substitution_select", function() {
        calcFortitudeSub();
    });
    // Anytime Fortitude Substitution is selected
    function calcFortitudeSub() {
        getAttrs(["fortitude_substitution_select"], function(values) {
            calcSubstitutionScore(values.fortitude_substitution_select, "Fortitude");
        });
        calcFortitude();
    };

    // Anytime Might Substitution is selected
    on("change:might_substitution_select", function() {
        calcMightSub();
    });
    // Anytime Might Substitution is selected
    function calcMightSub() {
        getAttrs(["might_substitution_select"], function(values) {
            calcSubstitutionScore(values.might_substitution_select, "Might");
        });
        calcMight();
    };

    // Anytime Deception Substitution is selected
    on("change:deception_substitution_select", function() {
        calcDeceptionSub();
    });
    // Anytime Deception Substitution is selected
    function calcDeceptionSub() {
        getAttrs(["deception_substitution_select"], function(values) {
            calcSubstitutionScore(values.deception_substitution_select, "Deception");
        });
        calcDeception();
    };

    // Anytime Presence Substitution is selected
    on("change:presence_substitution_select", function() {
        calcPresenceSub();
    });
    // Anytime Presence Substitution is selected
    function calcPresenceSub() {
        getAttrs(["presence_substitution_select"], function(values) {
            calcSubstitutionScore(values.presence_substitution_select, "Presence");
        });
        calcPresence();
    };

    // Anytime Persuasion Substitution is selected
    on("changepersuasiont_substitution_select", function() {
        calcPersuasionSub();
    });
    // Anytime Persuasion Substitution is selected
    function calcPersuasionSub() {
        getAttrs(["persuasion_substitution_select"], function(values) {
            calcSubstitutionScore(values.persuasion_substitution_select, "Persuasion");
        });
        calcPersuasion();
    };

    // Anytime Learning Substitution is selected
    on("change:learning_substitution_select", function() {
        calcLearningSub();
    });
    // Anytime Learning Substitution is selected
    function calcLearningSub() {
        getAttrs(["learning_substitution_select"], function(values) {
            calcSubstitutionScore(values.learning_substitution_select, "Learning");
        });
        calcLearning();
    };

    // Anytime Logic Substitution is selected
    on("change:logic_substitution_select", function() {
        calcLogicSub();
    });
    // Anytime Logic Substitution is selected
    function calcLogicSub() {
        getAttrs(["logic_substitution_select"], function(values) {
            calcSubstitutionScore(values.logic_substitution_select, "Logic");
        });
        calcLogic();
    };

    // Anytime Perception Substitution is selected
    on("change:perception_substitution_select", function() {
        calcPerceptionSub();
    });
    // Anytime Perception Substitution is selected
    function calcPerceptionSub() {
        getAttrs(["perception_substitution_select"], function(values) {
            calcSubstitutionScore(values.perception_substitution_select, "Perception");
        });
        calcPerception();
    };

    // Anytime Will Substitution is selected
    on("change:will_substitution_select", function() {
        calcWillSub();
    });
    // Anytime Will Substitution is selected
    function calcWillSub() {
        getAttrs(["will_substitution_select"], function(values) {
            calcSubstitutionScore(values.will_substitution_select, "Will");
        });
        calcWill();
    };

    // Anytime Alteration Substitution is selected
    on("change:alteration_substitution_select", function() {
        calcAlterationSub();
    });
    // Anytime Alteration Substitution is selected
    function calcAlterationSub() {
        getAttrs(["alteration_substitution_select"], function(values) {
            calcSubstitutionScore(values.alteration_substitution_select, "Alteration");
        });
        calcAlteration();
    };

    // Anytime Creation Substitution is selected
    on("change:creation_substitution_select", function() {
        calcCreationSub();
    });
    // Anytime Creation Substitution is selected
    function calcCreationSub() {
        getAttrs(["creation_substitution_select"], function(values) {
            calcSubstitutionScore(values.creation_substitution_select, "Creation");
        });
        calcCreation();
    };

    // Anytime Energy Substitution is selected
    on("change:energy_substitution_select", function() {
        calcEnergySub();
    });
    // Anytime Energy Substitution is selected
    function calcEnergySub() {
        getAttrs(["energy_substitution_select"], function(values) {
            calcSubstitutionScore(values.energy_substitution_select, "Energy");
        });
        calcEnergy();
    };

    // Anytime Entropy Substitution is selected
    on("change:entropy_substitution_select", function() {
        calcEntropySub();
    });
    // Anytime Entropy Substitution is selected
    function calcEntropySub() {
        getAttrs(["entropy_substitution_select"], function(values) {
            calcSubstitutionScore(values.entropy_substitution_select, "Entropy");
        });
        calcEntropy();
    };

    // Anytime Influence Substitution is selected
    on("change:influence_substitution_select", function() {
        calcInfluenceSub();
    });
    // Anytime Influence Substitution is selected
    function calcInfluenceSub() {
        getAttrs(["influence_substitution_select"], function(values) {
            calcSubstitutionScore(values.influence_substitution_select, "Influence");
        });
        calcInfluence();
    };

    // Anytime Movement Substitution is selected
    on("change:movement_substitution_select", function() {
        calcMovementSub();
    });
    // Anytime Movement Substitution is selected
    function calcMovementSub() {
        getAttrs(["movement_substitution_select"], function(values) {
            calcSubstitutionScore(values.movement_substitution_select, "Movement");
        });
        calcMovement();
    };

    // Anytime Prescience Substitution is selected
    on("change:prescience_substitution_select", function() {
        calcPrescienceSub();
    });
    // Anytime Prescience Substitution is selected
    function calcPrescienceSub() {
        getAttrs(["prescience_substitution_select"], function(values) {
            calcSubstitutionScore(values.prescience_substitution_select, "Prescience");
        });
        calcPrescience();
    };

    // Anytime Protection Substitution is selected
    on("change:protection_substitution_select", function() {
        calcProtectionSub();
    });
    // Anytime Protection Substitution is selected
    function calcProtectionSub() {
        getAttrs(["protection_substitution_select"], function(values) {
            calcSubstitutionScore(values.protection_substitution_select, "Protection");
        });
        calcProtection();
    };

	// Update All Attributes when any are changed (have to b/c of attribute substitution)
	function calcAttributes() {
		calcAgilitySub();
		calcFortitudeSub();
		calcMightSub();
		calcDeceptionSub();
		calcPresenceSub();
		calcPersuasionSub();
		calcLearningSub();
		calcLogicSub();
		calcPerceptionSub();
		calcWillSub();
		calcAlterationSub();
		calcCreationSub();
		calcEnergySub();
		calcEntropySub();
		calcInfluenceSub();
		calcMovementSub();
		calcPrescienceSub();
		calcProtectionSub();
		calcOthers();
	};
	
	function calcOthers() {
		calcEvasion();
		calcToughness();
		calcResolve();
		calcHeavy();
		calcHitPoints();
		calcInitiative();
		calcAllActionRolls();
	};
	
	on("change:select_initiative change:initiative_advantage", function () {
	    calcAttributes();
	});
	
	// Function to calculate Initiative
	function calcInitiative() {
	    getAttrs([
	        "select_initiative", "agility_initiative", "fortitude_initiative", "might_initiative",
	        "learning_initiative", "logic_initiative", "perception_initiative", "will_initiative",
	        "deception_initiative", "persuasion_initiative", "presence_initiative", "alteration_initiative",
	        "creation_initiative", "energy_initiative", "entropy_initiative", "influence_initiative",
	        "movement_initiative", "prescience_initiative", "protection_initiative"], function(values) {
	        switch(values.select_initiative) {
                case "Agility":
                    setAttrs({  "initiative": values.agility_initiative });
                    break;
                case "Fortitude":
                    setAttrs({  "initiative": values.fortitude_initiative });
                    break;
                case "Might":
                    setAttrs({  "initiative": values.might_initiative });
                    break;
                case "Learning":
                    setAttrs({  "initiative": values.learning_initiative });
                    break;
                case "Logic":
                    setAttrs({  "initiative": values.logic_initiative });
                    break;
                case "Perception":
                    setAttrs({  "initiative": values.perception_initiative });
                    break;
                case "Will":
                    setAttrs({  "initiative": values.will_initiative });
                    break;
                case "Deception":
                    setAttrs({  "initiative": values.deception_initiative });
                    break;
                case "Persuasion":
                    setAttrs({  "initiative": values.persuasion_initiative });
                    break;
                case "Presence":
                    setAttrs({  "initiative": values.presence_initiative });
                    break;
                case "Alteration":
                    setAttrs({  "initiative": values.alteration_initiative });
                    break;
                case "Creation":
                    setAttrs({  "initiative": values.creation_initiative });
                    break;
                case "Energy":
                    setAttrs({  "initiative": values.energy_initiative });
                    break;
                case "Entropy":
                    setAttrs({  "initiative": values.entropy_initiative });
                    break;
                case "Influence":
                    setAttrs({  "initiative": values.influence_initiative });
                    break;
                case "Movement":
                    setAttrs({  "initiative": values.movement_initiative });
                    break;
                case "Prescience":
                    setAttrs({  "initiative": values.prescience_initiative });
                    break;
                case "Protection":
                    setAttrs({  "initiative": values.protection_initiative });
                    break;
                default:
                    setAttrs({  "initiative": values.agility_initiative });
                    break;
	        }
	    });
	}

    // Function to calculate Evasion, called when changes made to Armor, Shield, Agility, or evasion other
    function calcEvasion() {
        getAttrs(["agility_score", "agility_substitution", "might_score", "might_substitution", "armor", "evasion_other"], function(values) {
            var score = 0;
            if (values.agility_score*1 >= values.agility_substitution*1) {
                score = values.agility_score*1;
            } else {
                score = values.agility_substitution*1;
            }
            if (values.might_score*1 >= values.might_substitution*1) {
                score = score + values.might_score*1;
            } else {
                score = score + values.might_substitution*1;
            }
            setAttrs({
                "evasion": score + values.armor*1 + values.evasion_other*1 + 10,
                "Guard": score + values.armor*1 + values.evasion_other*1 + 10
            });
        });
    };
    
    // Function to calculate Toughness, called when changes made to Armor, Shield, Fortitude, or toughness other
    function calcToughness() {
        getAttrs(["fortitude_score", "fortitude_substitution", "will_score", "will_substitution", "toughness_other"], function(values) {
            var score = 0;
            if (values.fortitude_score*1 >= values.fortitude_substitution*1) {
                score = values.fortitude_score*1;
            } else {
                score = values.fortitude_substitution*1;
            }
            if (values.will_score*1 >= values.will_substitution*1) {
                score += values.will_score*1;
            } else {
                score += values.will_substitution*1;
            }
            setAttrs({
                "Toughness": score + values.toughness_other*1 + 10,
                "Toughness4Token": score + values.toughness_other*1 + 10

            });
        });
    };
    
    // Anytime resolve_other changed, update resolve
    on("change:resolve_other", function() {
        calcResolve();
    });
    
    // Function to calculate Resolve, called when changes made to presence, will, or resolve other
    function calcResolve() {
        getAttrs(["presence_score", "presence_substitution", "will_score", "will_substitution", "resolve_other"], function(values) {
            var score = 0;
            if (values.presence_score*1 >= values.presence_substitution*1) {
                score = values.presence_score*1;
            } else {
                score = values.presence_substitution*1;
            }
            if (values.will_score*1 >= values.will_substitution*1) {
                score += values.will_score*1;
            } else {
                score += values.will_substitution*1;
            }
            setAttrs({
                "Resolve": score + values.resolve_other*1 + 10,
                "Resolve4Token": score + values.resolve_other*1 + 10
            });
        });
    };
	
    on("change:base_speed change:armor_penalty change:armor_training change:might_score change:might_substitution_heavy change:might_substitution change:item_1_heavy change:item_2_heavy change:item_3_heavy change:item_4_heavy change:item_5_heavy change:item_6_heavy change:item_7_heavy change:item_8_heavy change:item_9_heavy change:item_10_heavy change:item_11_heavy change:item_12_heavy change:item_13_heavy change:item_14_heavy change:item_15_heavy change:item_16_heavy change:item_17_heavy change:item_18_heavy change:item_19_heavy change:item_20_heavy", function() {
        calcHeavy();
    });

    // Function to determine Heavy items
    function calcHeavy() {
        getAttrs(["base_speed", "armor_penalty", "armor_training", "might_score", "might_substitution", "might_substitution_heavy", "item_1_heavy", "item_2_heavy", "item_3_heavy", "item_4_heavy", "item_5_heavy", "item_6_heavy", "item_7_heavy", "item_8_heavy", "item_9_heavy", "item_10_heavy", "item_11_heavy", "item_12_heavy", "item_13_heavy", "item_14_heavy", "item_15_heavy", "item_16_heavy", "item_17_heavy", "item_18_heavy", "item_19_heavy", "item_20_heavy"], function(values) {
            var heavy_speed = values.base_speed*1 - values.armor_penalty*1 + values.armor_training*1;
            var score = 0;
            if(values.might_substitution_heavy === "on") {
                if(values.might_score*1 > values.might_substitution*1) {
                    score = values.might_score*1;
                } else {
                    score = values.might_substitution*1;
                }
            } else {
                score = values.might_score*1;
            }
            var heavy_total = 0;
            if(values.item_1_heavy === "heavy") {   heavy_total += 1;   }
            if(values.item_2_heavy === "heavy") {   heavy_total += 1;   }
            if(values.item_3_heavy === "heavy") {   heavy_total += 1;   }
            if(values.item_4_heavy === "heavy") {   heavy_total += 1;   }
            if(values.item_5_heavy === "heavy") {   heavy_total += 1;   }
            if(values.item_6_heavy === "heavy") {   heavy_total += 1;   }
            if(values.item_7_heavy === "heavy") {   heavy_total += 1;   }
            if(values.item_8_heavy === "heavy") {   heavy_total += 1;   }
            if(values.item_9_heavy === "heavy") {   heavy_total += 1;   }
            if(values.item_10_heavy === "heavy") {  heavy_total += 1;   }
            if(values.item_11_heavy === "heavy") {  heavy_total += 1;   }
            if(values.item_12_heavy === "heavy") {  heavy_total += 1;   }
            if(values.item_13_heavy === "heavy") {  heavy_total += 1;   }
            if(values.item_14_heavy === "heavy") {  heavy_total += 1;   }
            if(values.item_15_heavy === "heavy") {  heavy_total += 1;   }
            if(values.item_16_heavy === "heavy") {  heavy_total += 1;   }
            if(values.item_17_heavy === "heavy") {  heavy_total += 1;   }
            if(values.item_18_heavy === "heavy") {  heavy_total += 1;   }
            if(values.item_19_heavy === "heavy") {  heavy_total += 1;   }
            if(values.item_20_heavy === "heavy") {  heavy_total += 1;   }
            if(heavy_total == score) {
                if(score != 0) {
                    heavy_speed = Math.ceil(heavy_speed/2);
                }
            }
            if(heavy_total > score) {   heavy_speed = 0;    }
            setAttrs({
                "item_heavy_result": heavy_speed
            });
        });
    };

    on("change:base_speed change:armor_penalty change:armor_training change:item_1_bulky change:item_2_bulky change:item_3_bulky change:item_4_bulky change:item_5_bulky change:item_6_bulky change:item_7_bulky change:item_8_bulky change:item_9_bulky change:item_10_bulky change:item_11_bulky change:item_12_bulky change:item_13_bulky change:item_14_bulky change:item_15_bulky change:item_16_bulky change:item_17_bulky change:item_18_bulky change:item_19_bulky change:item_20_bulky", function() {
        calcBulky();
    });

    // Function to determine bulky items
    function calcBulky() {
        getAttrs(["base_speed", "armor_penalty", "armor_training", "item_1_bulky", "item_2_bulky", "item_3_bulky", "item_4_bulky", "item_5_bulky", "item_6_bulky", "item_7_bulky", "item_8_bulky", "item_9_bulky", "item_10_bulky", "item_11_bulky", "item_12_bulky", "item_13_bulky", "item_14_bulky", "item_15_bulky", "item_16_bulky", "item_17_bulky", "item_18_bulky", "item_19_bulky", "item_20_bulky"], function(values) {
            var bulky_speed = values.base_speed*1 - values.armor_penalty*1 + values.armor_training*1;
            var bulky_total = 0;
            if(values.item_1_bulky === "bulky") {   bulky_total += 1;   }
            if(values.item_2_bulky === "bulky") {   bulky_total += 1;   }
            if(values.item_3_bulky === "bulky") {   bulky_total += 1;   }
            if(values.item_4_bulky === "bulky") {   bulky_total += 1;   }
            if(values.item_5_bulky === "bulky") {   bulky_total += 1;   }
            if(values.item_6_bulky === "bulky") {   bulky_total += 1;   }
            if(values.item_7_bulky === "bulky") {   bulky_total += 1;   }
            if(values.item_8_bulky === "bulky") {   bulky_total += 1;   }
            if(values.item_9_bulky === "bulky") {   bulky_total += 1;   }
            if(values.item_10_bulky === "bulky") {  bulky_total += 1;   }
            if(values.item_11_bulky === "bulky") {  bulky_total += 1;   }
            if(values.item_12_bulky === "bulky") {  bulky_total += 1;   }
            if(values.item_13_bulky === "bulky") {  bulky_total += 1;   }
            if(values.item_14_bulky === "bulky") {  bulky_total += 1;   }
            if(values.item_15_bulky === "bulky") {  bulky_total += 1;   }
            if(values.item_16_bulky === "bulky") {  bulky_total += 1;   }
            if(values.item_17_bulky === "bulky") {  bulky_total += 1;   }
            if(values.item_18_bulky === "bulky") {  bulky_total += 1;   }
            if(values.item_19_bulky === "bulky") {  bulky_total += 1;   }
            if(values.item_20_bulky === "bulky") {  bulky_total += 1;   }
            if(bulky_total == 2) {  bulky_speed = 5;    }
            if(bulky_total > 2) {   bulky_speed = 0;    }
            setAttrs({
                "item_bulky_result": bulky_speed
            });
        });
    };

    on("change:base_speed change:armor_penalty change:armor_training change:item_heavy_result change:item_bulky_result", function() {
        calcSpeed();
    });

    // Function to calculate Speed based on armor & equipment
    function calcSpeed() {
        getAttrs(["armor_penalty", "armor_training", "item_heavy_result", "item_bulky_result", "base_speed"], function(values) {
            var armorAdjust = 0;
            var newSpeed = values.base_speed*1 - values.armor_penalty*1 + values.armor_training*1; // NOTE: armor_training is actually "From Feats"
            if(newSpeed > values.item_heavy_result*1) {
                newSpeed = values.item_heavy_result*1;
            }
            if(newSpeed > values.item_bulky_result*1) {
                newSpeed = values.item_bulky_result*1;
            }
            setAttrs({
                "Speed": newSpeed,
                "Speed4Token": newSpeed
            });
        });
    };

    // If lethal damage changed, recalculate max HP
    on("change:lethaldamage change:hit_point_feats change:hit_point_other change:fortitude_substitution change:fortitude_score change:presence_score change:will_score", function() {
		getAttrs(["LethalDamage"], function(values) {
			setAttrs({	"lethal_damage": values.LethalDamage*1	});
		});
        calcHitPoints();
    });
	
	on("change:lethal_damage", function() {
		getAttrs(["lethal_damage"], function(values) {
			setAttrs({	"LethalDamage": values.lethal_damage*1	});
		});
		calcHitPoints();
	});
	
	on("change:HP", function() {
		getAttrs(["HP"], function(values) {
			setAttrs({
				"hit_point": values.HP*1
			});
		});
	});
	
	on("change:hit_point", function() {
		getAttrs(["hit_point"], function(values) {
			setAttrs({
				"HP": values.hit_point*1
			});
		});
	});

    // Function to calc HIt points, called when changes to fortitude, presence or will
    function calcHitPoints() {
        getAttrs(["fortitude_score", "fortitude_substitution", "presence_score", "presence_substitution", "will_score", "will_substitution", "LethalDamage", "hit_point_feats", "hit_point_other"], function(values) {
            var score = 0;
            if(values.fortitude_score*1 >= values.fortitude_substitution*1) {
                score = values.fortitude_score*1;
            } else {
                score = values.fortitude_substitution*1;
            }
            if (values.presence_score*1 >= values.presence_substitution*1) {
                score += values.presence_score*1;
            } else {
                score += values.presence_substitution*1;
            }
            if (values.will_score*1 >= values.will_substitution*1) {
                score += values.will_score*1;
            } else {
                score += values.will_substitution*1;
            }
            setAttrs({
                "HP_max": 2*(score) + 10 - values.LethalDamage*1 + values.hit_point_feats*1 + values.hit_point_other*1,
				"hit_point_max": 2*(score) + 10 - values.LethalDamage*1 + values.hit_point_feats*1 + values.hit_point_other*1
            });
        });
    };
	
    // Anytime XP is updated, recalculate Attribute Points and Feat Points and Level
    on("change:xp", function() {
        getAttrs(["xp"], function(values) {
            setAttrs({
                "level": Math.floor(values.xp/3) + 1
            });
    		calcXPpoints(values.xp);
        });
    });
    
    on("change:level", function() {
        getAttrs(["level"], function(values) {
            setAttrs({
                "xp": (values.level*1 - 1)*3
            });
            calcXPpoints((values.level*1 - 1)*3);
        });
    });

    on("change:display_sheet_type change:companion_feat_given", function() {
        getAttrs(["xp"], function(values) {
    		calcXPpoints(values.xp);
        });
    })

	// Function to run when XP is changed
	function calcXPpoints(value) {
	    getAttrs(["display_sheet_type", "companion_feat_given"], function(values) {
	        var attributePoints = 0;
	        var featPoints = 0;
	        var exp = 0;
	        if(values.display_sheet_type === "character") {
	            attributePoints = value*3 + 40;
	            featPoints = value*1 + 6;
	            exp = value*1;
	        }
	        if(values.display_sheet_type === "alt form 1") {
	            attributePoints = (value*3 + 40)/2;
	            featPoints = 3;
	            exp = value*1;
	        }
	        if(values.display_sheet_type === "alt form 2") {
	            attributePoints = value*3 + 40;
	            featPoints = value*1 + 3;
	            exp = value*1;
	        }
	        if(values.display_sheet_type === "companion 1") {
	            attributePoints = (Math.floor(value/3)+1)*4 + 20;
	            featPoints = 0;
	            exp = value*1;
	        }
	        if(values.display_sheet_type === "companion 2") {
	            attributePoints = (Math.floor(value/3)+1)*4 + 20;
	            featPoints = 3;
	            exp = value*1;
	        }
	        if(values.display_sheet_type === "companion 3") {
	            attributePoints = (Math.floor(value/3)+1)*6 + 30;
	            featPoints = 3 + values.companion_feat_given*1;
	            exp = value*1;
	        }
            setAttrs({
                "attribute_points": attributePoints,
                "feat_total_points": featPoints,
                "xp": exp
            });
	    });
	};

    // Anytime Agility score is changed, update cost and dice
    on("change:agility_score change:agility_dice_d20 change:agility_cost_modifier change:agility_dice_modifier change:agility_default_advantage", function() {
        calcAttributes();
    });
	
	// Function for calculating everything to do with Agility
	function calcAgility() {
        getAttrs(["agility_score", "agility_substitution", "agility_dice_d20", "agility_cost_modifier", "agility_dice_modifier", "initiative_advantage", "agility_default_advantage"], function(values) {
            var score = values.agility_score*1;
            if(score < 0) {
                score = 0;
                setAttrs({  "agility_score": 0    });
            } else if(score > 10) {
                score = 10;
                setAttrs({  "agility_score": 10    });
            }
            var scoreCost = score + values.agility_cost_modifier*1;
            score = score + values.agility_dice_modifier*1;
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
            var dice = number + type;
			var roll = "";
			var rollInitiative = "";
			var display = 0;
			if(values.agility_score*1 >= values.agility_substitution*1) {
				display = values.agility_score*1;
			} else {
				display = values.agility_substitution*1;
			}
			if(score === 0) {
				roll = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]";
				rollInitiative = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]";
			} else {
				roll = "[[" + values.agility_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.agility_default_advantage + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
				rollInitiative = "[[" + values.agility_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.initiative_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "&{tracker}]]";
			}
            setAttrs({
                "agility_cost": (scoreCost*1 * (scoreCost*1 + 1))/2,
                "agility_dice_roll": roll,
                "agility_dice": dice,
                "agility_initiative": rollInitiative,
				"agility_display": display
            });
            calcAttributePointsSpent();     // call to recalculate total costs, needs to be after new cost is set in setAttrs
        });
	};
    
    // Anytime fortitude score is changed, update cost and dice
    on("change:fortitude_score change:fortitude_dice_d20 change:fortitude_cost_modifier change:fortitude_dice_modifier change:fortitude_default_advantage", function() {
        calcAttributes();
    });
	
	// Function for calculating everything to do with Fortitude
	function calcFortitude() {
        getAttrs(["fortitude_score", "fortitude_substitution", "fortitude_dice_d20", "fortitude_cost_modifier", "fortitude_dice_modifier", "initiative_advantage", "fortitude_default_advantage"], function(values) {
            var score = values.fortitude_score*1;
            if(score < 0) {
                score = 0;
                setAttrs({  "fortitude_score": 0    });
            } else if(score > 10) {
                score = 10;
                setAttrs({  "fortitude_score": 10    });
            }
            var scoreCost = score + values.fortitude_cost_modifier*1;
            score = score + values.fortitude_dice_modifier*1;
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
            var dice = number + type;
			var roll = "";
			var rollInitiative = "";
			var display = 0;
			if(values.fortitude_score*1 >= values.fortitude_substitution*1) {
				display = values.fortitude_score*1;
			} else {
				display = values.fortitude_substitution*1;
			}
			if(score === 0) {
				roll = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]";
				rollInitiative = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]";
			} else {
				roll = "[[" + values.fortitude_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.fortitude_default_advantage + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
				rollInitiative = "[[" + values.fortitude_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.initiative_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "&{tracker}]]";
			}
            setAttrs({
                "fortitude_cost": (scoreCost*1 * (scoreCost*1 + 1))/2,
                "fortitude_dice_roll": roll,
                "fortitude_initiative": rollInitiative,
                "fortitude_dice": dice,
				"fortitude_display": display
            });
            calcAttributePointsSpent();     // call to recalculate total costs, needs to be after new cost is set in setAttrs
        });
	};
    
    // Anytime might score is changed, update cost and dice
    on("change:might_score change:might_dice_d20 change:might_cost_modifier change:might_dice_modifier change:might_default_advantage", function() {
        calcAttributes();
    });
	
	// Function for calculating everything to do with Might
	function calcMight() {
        getAttrs(["might_score", "might_substitution", "might_dice_d20", "might_cost_modifier", "might_dice_modifier", "initiative_advantage", "might_default_advantage"], function(values) {
            var score = values.might_score*1;
            if(score < 0) {
                score = 0;
                setAttrs({  "might_score": 0    });
            } else if(score > 10) {
                score = 10;
                setAttrs({  "might_score": 10    });
            }
            var scoreCost = score + values.might_cost_modifier*1;
            score = score + values.might_dice_modifier*1;
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
            var dice = number + type;
			var roll = "";
			var rollInitiative = "";
			var display = 0;
			if(values.might_score*1 >= values.might_substitution*1) {
				display = values.might_score*1;
			} else {
				display = values.might_substitution*1;
			}
			if(score === 0) {
				roll = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]";
				rollInitiative = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]";
			} else {
				roll = "[[" + values.might_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.might_default_advantage + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
				rollInitiative = "[[" + values.might_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.initiative_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "&{tracker}]]";
			}
            setAttrs({
                "might_cost": (scoreCost*1 * (scoreCost*1 + 1))/2,
                "might_dice_roll": roll,
                "might_initiative": rollInitiative,
                "might_dice": dice,
				"might_display": display
            });
            calcAttributePointsSpent();     // call to recalculate total costs, needs to be after new cost is set in setAttrs
        });
	};
    
    // Anytime deception score is changed, update cost and dice
    on("change:deception_score change:deception_dice_d20 change:deception_cost_modifier change:deception_dice_modifier change:deception_default_advantage", function() {
        calcAttributes();
    });
	
	// Function for calculating everything to do with Deception
	function calcDeception() {
        getAttrs(["deception_score", "deception_dice_d20", "deception_cost_modifier", "deception_dice_modifier", "initiative_advantage", "deception_default_advantage"], function(values) {
            var score = values.deception_score*1;
            if(score < 0) {
                score = 0;
                setAttrs({  "deception_score": 0    });
            } else if(score > 10) {
                score = 10;
                setAttrs({  "deception_score": 10    });
            }
            var scoreCost = score + values.deception_cost_modifier*1;
            score = score + values.deception_dice_modifier*1;
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
            var dice = number + type;
			var roll = "";
			var rollInitiative = "";
			if(score === 0) {
				roll = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]";
				rollInitiative = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]";
			} else {
				roll = "[[" + values.deception_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.deception_default_advantage + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
				rollInitiative = "[[" + values.deception_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.initiative_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "&{tracker}]]";
			}
            setAttrs({
                "deception_cost": (scoreCost*1 * (scoreCost*1 + 1))/2,
                "deception_dice_roll": roll,
                "deception_initiative": rollInitiative,
                "deception_dice": dice
            });
            calcAttributePointsSpent();     // call to recalculate total costs, needs to be after new cost is set in setAttrs
        });
	};
	
    // Anytime presence score is changed, update cost and dice
    on("change:presence_score change:presence_dice_d20 change:presence_cost_modifier change:presence_dice_modifier change:presence_default_advantage", function() {
        calcAttributes();
    });
	
	// Function for calculating everything to do with Presence
	function calcPresence() {
        getAttrs(["presence_score", "presence_substitution", "presence_dice_d20", "presence_cost_modifier", "presence_dice_modifier", "initiative_advantage", "presence_default_advantage"], function(values) {
            var score = values.presence_score*1;
            if(score < 0) {
                score = 0;
                setAttrs({  "presence_score": 0    });
            } else if(score > 10) {
                score = 10;
                setAttrs({  "presence_score": 10    });
            }
            var scoreCost = score + values.presence_cost_modifier*1;
            score = score + values.presence_dice_modifier*1;
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
            var dice = number + type;
			var roll = "";
			var rollInitiative = "";
			var display = 0;
			if(values.presence_score*1 >= values.presence_substitution*1) {
				display = values.presence_score*1;
			} else {
				display = values.presence_substitution*1;
			}
			if(score === 0) {
				roll = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]";
				rollInitiative = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]";
			} else {
				roll = "[[" + values.presence_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.presence_default_advantage + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
				rollInitiative = "[[" + values.presence_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.initiative_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "&{tracker}]]";
			}
            setAttrs({
                "presence_cost": (scoreCost*1 * (scoreCost*1 + 1))/2,
                "presence_dice_roll": roll,
                "presence_initiative": rollInitiative,
                "presence_dice": dice,
				"presence_display": display
            });
            calcAttributePointsSpent();     // call to recalculate total costs, needs to be after new cost is set in setAttrs
        });
	};
    
    // Anytime persuasion score is changed, update cost and dice
    on("change:persuasion_score change:persuasion_dice_d20 change:persuasion_cost_modifier change:persuasion_dice_modifier change:persuasion_default_advantage", function() {
        calcAttributes();
    });
	
	// Function for calculating everything to do with Persuasion
	function calcPersuasion() {
        getAttrs(["persuasion_score", "persuasion_dice_d20", "persuasion_cost_modifier", "persuasion_dice_modifier", "initiative_advantage", "persuasion_default_advantage"], function(values) {
            var score = values.persuasion_score*1;
            if(score < 0) {
                score = 0;
                setAttrs({  "persuasion_score": 0    });
            } else if(score > 10) {
                score = 10;
                setAttrs({  "persuasion_score": 10    });
            }
            var scoreCost = score + values.persuasion_cost_modifier*1;
            score = score + values.persuasion_dice_modifier*1;
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
            var dice = number + type;
			var roll = "";
			var rollInitiative = "";
			if(score === 0) {
				roll = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]";
				rollInitiative = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]";
			} else {
				roll = "[[" + values.persuasion_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.persuasion_default_advantage + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
				rollInitiative = "[[" + values.persuasion_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.initiative_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "&{tracker}]]";
			}
            setAttrs({
                "persuasion_cost": (scoreCost*1 * (scoreCost*1 + 1))/2,
                "persuasion_dice_roll": roll,
                "persuasion_initiative": rollInitiative,
                "persuasion_dice": dice
            });
            calcAttributePointsSpent();     // call to recalculate total costs, needs to be after new cost is set in setAttrs
        });
	};
    
    // Anytime learning score is changed, update cost and dice
    on("change:learning_score change:learning_dice_d20 change:learning_cost_modifier change:learning_dice_modifier change:learning_default_advantage", function() {
        calcAttributes();
    });
	
	// Function for calculating everything to do with Learning
	function calcLearning() {
        getAttrs(["learning_score", "learning_dice_d20", "learning_cost_modifier", "learning_dice_modifier", "initiative_advantage", "learning_default_advantage"], function(values) {
            var score = values.learning_score*1;
            if(score < 0) {
                score = 0;
                setAttrs({  "learning_score": 0    });
            } else if(score > 10) {
                score = 10;
                setAttrs({  "learning_score": 10    });
            }
            var scoreCost = score + values.learning_cost_modifier*1;
            score = score + values.learning_dice_modifier*1;
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
            var dice = number + type;
			var roll = "";
			var rollInitiative = "";
			if(score === 0) {
				roll = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]";
				rollInitiative = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]";
			} else {
				roll = "[[" + values.learning_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.learning_default_advantage + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
				rollInitiative = "[[" + values.learning_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.initiative_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "&{tracker}]]";
			}
            setAttrs({
                "learning_cost": (scoreCost*1 * (scoreCost*1 + 1))/2,
                "learning_dice_roll": roll,
                "learning_initiative": rollInitiative,
                "learning_dice": dice
            });
            calcAttributePointsSpent();     // call to recalculate total costs, needs to be after new cost is set in setAttrs
        });
	};
	
    // Anytime logic score is changed, update cost and dice
    on("change:logic_score change:logic_dice_d20 change:logic_cost_modifier change:logic_dice_modifier change:logic_default_advantage", function() {
        calcAttributes();
    });
	
	// Function for calculating everything to do with Logic
	function calcLogic() {
        getAttrs(["logic_score", "logic_dice_d20", "logic_cost_modifier", "logic_dice_modifier", "initiative_advantage", "logic_default_advantage"], function(values) {
            var score = values.logic_score*1;
            if(score < 0) {
                score = 0;
                setAttrs({  "logic_score": 0    });
            } else if(score > 10) {
                score = 10;
                setAttrs({  "logic_score": 10    });
            }
            var scoreCost = score + values.logic_cost_modifier*1;
            score = score + values.logic_dice_modifier*1;
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
            var dice = number + type;
			var roll = "";
			var rollInitiative = "";
			if(score === 0) {
				roll = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]";
				rollInitiative = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]";
			} else {
				roll = "[[" + values.logic_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.logic_default_advantage + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
				rollInitiative = "[[" + values.logic_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.initiative_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "&{tracker}]]";
			}
            setAttrs({
                "logic_cost": (scoreCost*1 * (scoreCost*1 + 1))/2,
                "logic_dice_roll": roll,
                "logic_initiative": rollInitiative,
                "logic_dice": dice
            });
            calcAttributePointsSpent();     // call to recalculate total costs, needs to be after new cost is set in setAttrs
        });
	};
    
    // Anytime perception score is changed, update cost and dice
    on("change:perception_score change:perception_dice_d20 change:perception_cost_modifier change:perception_dice_modifier change:perception_default_advantage", function() {
        calcAttributes();
    });
	
	// Function for calculating everything to do with Perception
	function calcPerception() {
        getAttrs(["perception_score", "perception_dice_d20", "perception_cost_modifier", "perception_dice_modifier", "initiative_advantage", "perception_default_advantage"], function(values) {
            var score = values.perception_score*1;
            if(score < 0) {
                score = 0;
                setAttrs({  "perception_score": 0    });
            } else if(score > 10) {
                score = 10;
                setAttrs({  "perception_score": 10    });
            }
            var scoreCost = score + values.perception_cost_modifier*1;
            score = score + values.perception_dice_modifier*1;
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
            var dice = number + type;
			var roll = "";
			var rollInitiative = "";
			if(score === 0) {
				roll = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]";
				rollInitiative = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]";
			} else {
				roll = "[[" + values.perception_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.perception_default_advantage + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
				rollInitiative = "[[" + values.perception_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.initiative_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "&{tracker}]]";
			}
            setAttrs({
                "perception_cost": (scoreCost*1 * (scoreCost*1 + 1))/2,
                "perception_dice_roll": roll,
                "perception_initiative": rollInitiative,
                "perception_dice": dice
            });
            calcAttributePointsSpent();     // call to recalculate total costs, needs to be after new cost is set in setAttrs
        });
	};
	
    // Anytime will score is changed, update cost and dice
    on("change:will_score change:will_dice_d20 change:will_cost_modifier change:will_dice_modifier change:will_default_advantage", function() {
        calcAttributes();
    });
	
	// Function for calculating everything to do with Will
	function calcWill() {
        getAttrs(["will_score", "will_substitution", "will_dice_d20", "will_cost_modifier", "will_dice_modifier", "initiative_advantage", "will_default_advantage"], function(values) {
            var score = values.will_score*1;
            if(score < 0) {
                score = 0;
                setAttrs({  "will_score": 0    });
            } else if(score > 10) {
                score = 10;
                setAttrs({  "will_score": 10    });
            }
            var scoreCost = score + values.will_cost_modifier*1;
            score = score + values.will_dice_modifier*1;
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
            var dice = number + type;
			var roll = "";
			var rollInitiative = "";
			var display = 0;
			if(values.will_score*1 >= values.will_substitution*1) {
				display = values.will_score*1;
			} else {
				display = values.will_substitution*1;
			}
			if(score === 0) {
				roll = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]";
				rollInitiative = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]";
			} else {
				roll = "[[" + values.will_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.will_default_advantage + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
				rollInitiative = "[[" + values.will_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.initiative_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "&{tracker}]]";
			}
            setAttrs({
                "will_cost": (scoreCost*1 * (scoreCost*1 + 1))/2,
                "will_dice_roll": roll,
                "will_initiative": rollInitiative,
                "will_dice": dice,
				"will_display": display
            });
            calcAttributePointsSpent();     // call to recalculate total costs, needs to be after new cost is set in setAttrs
        });
	};
	
    // Anytime alteration score is changed, update cost and dice
    on("change:alteration_score change:alteration_dice_d20 change:alteration_cost_modifier change:alteration_dice_modifier change:alteration_default_advantage", function() {
        calcAttributes();
    });
	
	// Function for calculating everything to do with Alteration
	function calcAlteration() {
        getAttrs(["alteration_score", "alteration_dice_d20", "alteration_cost_modifier", "alteration_dice_modifier", "initiative_advantage", "alteration_default_advantage"], function(values) {
            var score = values.alteration_score*1;
            if(score < 0) {
                score = 0;
                setAttrs({  "alteration_score": 0    });
            } else if(score > 10) {
                score = 10;
                setAttrs({  "alteration_score": 10    });
            }
            var scoreCost = score + values.alteration_cost_modifier*1;
            score = score + values.alteration_dice_modifier*1;
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
            var dice = number + type;
			var roll = "";
			var rollInitiative = "";
			if(score === 0) {
				roll = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]";
				rollInitiative = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]";
			} else {
				roll = "[[" + values.alteration_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.alteration_default_advantage + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
				rollInitiative = "[[" + values.alteration_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.initiative_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "&{tracker}]]";
			}
            setAttrs({
                "alteration_cost": (scoreCost*1 * (scoreCost*1 + 1))/2,
                "alteration_dice_roll": roll,
                "alteration_initiative": rollInitiative,
                "alteration_dice": dice
            });
            calcAttributePointsSpent();     // call to recalculate total costs, needs to be after new cost is set in setAttrs
        });
	};
	
    // Anytime creation score is changed, update cost and dice
    on("change:creation_score change:creation_dice_d20 change:creation_cost_modifier change:creation_dice_modifier change:creation_default_advantage", function() {
        calcAttributes();
    });
	
	// Function for calculating everything to do with Creation
	function calcCreation() {
        getAttrs(["creation_score", "creation_dice_d20", "creation_cost_modifier", "creation_dice_modifier", "initiative_advantage", "creation_default_advantage"], function(values) {
            var score = values.creation_score*1;
            if(score < 0) {
                score = 0;
                setAttrs({  "creation_score": 0    });
            } else if(score > 10) {
                score = 10;
                setAttrs({  "creation_score": 10    });
            }
            var scoreCost = score + values.creation_cost_modifier*1;
            score = score + values.creation_dice_modifier*1;
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
            var dice = number + type;
			var roll = "";
			var rollInitiative = "";
			if(score === 0) {
				roll = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]";
				rollInitiative = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]";
			} else {
				roll = "[[" + values.creation_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.creation_default_advantage + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
				rollInitiative = "[[" + values.creation_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.initiative_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "&{tracker}]]";
			}
            setAttrs({
                "creation_cost": (scoreCost*1 * (scoreCost*1 + 1))/2,
                "creation_dice_roll": roll,
                "creation_initiative": rollInitiative,
                "creation_dice": dice
            });
            calcAttributePointsSpent();     // call to recalculate total costs, needs to be after new cost is set in setAttrs
        });
	};
	
    // Anytime energy score is changed, update cost and dice
    on("change:energy_score change:energy_dice_d20 change:energy_cost_modifier change:energy_dice_modifier change:energy_default_advantage", function() {
        calcAttributes();
    });
	
	// Function for calculating everything to do with Energy
	function calcEnergy() {
        getAttrs(["energy_score", "energy_dice_d20", "energy_cost_modifier", "energy_dice_modifier", "initiative_advantage", "energy_default_advantage"], function(values) {
            var score = values.energy_score*1;
            if(score < 0) {
                score = 0;
                setAttrs({  "energy_score": 0    });
            } else if(score > 10) {
                score = 10;
                setAttrs({  "energy_score": 10    });
            }
            var scoreCost = score + values.energy_cost_modifier*1;
            score = score + values.energy_dice_modifier*1;
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
            var dice = number + type;
			var roll = "";
			var rollInitiative = "";
			if(score === 0) {
				roll = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]";
				rollInitiative = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]";
			} else {
				roll = "[[" + values.energy_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.energy_default_advantage + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
				rollInitiative = "[[" + values.energy_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.initiative_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "&{tracker}]]";
			}
            setAttrs({
                "energy_cost": (scoreCost*1 * (scoreCost*1 + 1))/2,
                "energy_dice_roll": roll,
                "energy_initiative": rollInitiative,
                "energy_dice": dice
            });
            calcAttributePointsSpent();     // call to recalculate total costs, needs to be after new cost is set in setAttrs
        });
	};
	
    // Anytime entropy score is changed, update cost and dice
    on("change:entropy_score change:entropy_dice_d20 change:entropy_cost_modifier change:entropy_dice_modifier change:entropy_default_advantage", function() {
        calcAttributes();
    });
	
	// Function for calculating everything to do with Entropy
	function calcEntropy() {
        getAttrs(["entropy_score", "entropy_dice_d20", "entropy_cost_modifier", "entropy_dice_modifier", "initiative_advantage", "entropy_default_advantage"], function(values) {
            var score = values.entropy_score*1;
            if(score < 0) {
                score = 0;
                setAttrs({  "entropy_score": 0    });
            } else if(score > 10) {
                score = 10;
                setAttrs({  "entropy_score": 10    });
            }
            var scoreCost = score + values.entropy_cost_modifier*1;
            score = score + values.entropy_dice_modifier*1;
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
            var dice = number + type;
			var roll = "";
			var rollInitiative = "";
			if(score === 0) {
				roll = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]";
				rollInitiative = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]";
			} else {
				roll = "[[" + values.entropy_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.entropy_default_advantage + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
				rollInitiative = "[[" + values.entropy_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.initiative_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "&{tracker}]]";
			}
            setAttrs({
                "entropy_cost": (scoreCost*1 * (scoreCost*1 + 1))/2,
                "entropy_dice_roll": roll,
                "entropy_initiative": rollInitiative,
                "entropy_dice": dice
            });
            calcAttributePointsSpent();     // call to recalculate total costs, needs to be after new cost is set in setAttrs
        });
	};
	
    // Anytime influence score is changed, update cost and dice
    on("change:influence_score change:influence_dice_d20 change:influence_cost_modifier change:influence_dice_modifier change:influence_default_advantage", function() {
        calcAttributes();
    });
	
	// Function for calculating everything to do with Influence
	function calcInfluence() {
        getAttrs(["influence_score", "influence_dice_d20", "influence_cost_modifier", "influence_dice_modifier", "initiative_advantage", "influence_default_advantage"], function(values) {
            var score = values.influence_score*1;
            if(score < 0) {
                score = 0;
                setAttrs({  "influence_score": 0    });
            } else if(score > 10) {
                score = 10;
                setAttrs({  "influence_score": 10    });
            }
            var scoreCost = score + values.influence_cost_modifier*1;
            score = score + values.influence_dice_modifier*1;
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
            var dice = number + type;
			var roll = "";
			var rollInitiative = "";
			if(score === 0) {
				roll = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]";
				rollInitiative = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]";
			} else {
				roll = "[[" + values.influence_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.influence_default_advantage + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
				rollInitiative = "[[" + values.influence_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.initiative_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "&{tracker}]]";
			}
            setAttrs({
                "influence_cost": (scoreCost*1 * (scoreCost*1 + 1))/2,
                "influence_dice_roll": roll,
                "influence_initiative": rollInitiative,
                "influence_dice": dice
            });
            calcAttributePointsSpent();     // call to recalculate total costs, needs to be after new cost is set in setAttrs
        });
	};

    // Anytime movement score is changed, update cost and dice
    on("change:movement_score change:movement_dice_d20 change:movement_cost_modifier change:movement_dice_modifier change:movement_default_advantage", function() {
        calcAttributes();
    });
	
	// Function for calculating everything to do with Movement
	function calcMovement() {
        getAttrs(["movement_score", "movement_dice_d20", "movement_cost_modifier", "movement_dice_modifier", "initiative_advantage", "movement_default_advantage"], function(values) {
            var score = values.movement_score*1;
            if(score < 0) {
                score = 0;
                setAttrs({  "movement_score": 0    });
            } else if(score > 10) {
                score = 10;
                setAttrs({  "movement_score": 10    });
            }
            var scoreCost = score + values.movement_cost_modifier*1;
            score = score + values.movement_dice_modifier*1;
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
            var dice = number + type;
			var roll = "";
			var rollInitiative = "";
			if(score === 0) {
				roll = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]";
				rollInitiative = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]";
			} else {
				roll = "[[" + values.movement_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.movement_default_advantage + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
				rollInitiative = "[[" + values.movement_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.initiative_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "&{tracker}]]";
			}
            setAttrs({
                "movement_cost": (scoreCost*1 * (scoreCost*1 + 1))/2,
                "movement_dice_roll": roll,
                "movement_initiative": rollInitiative,
                "movement_dice": dice
            });
            calcAttributePointsSpent();     // call to recalculate total costs, needs to be after new cost is set in setAttrs
        });
	};

	// Anytime prescience score is changed, update cost and dice
    on("change:prescience_score change:prescience_dice_d20 change:prescience_cost_modifier change:prescience_dice_modifier change:prescience_default_advantage", function() {
        calcAttributes();
    });
	
	// Function for calculating everything to do with Protection
	function calcPrescience() {
        getAttrs(["prescience_score", "prescience_dice_d20", "prescience_cost_modifier", "prescience_dice_modifier", "initiative_advantage", "prescience_default_advantage"], function(values) {
            var score = values.prescience_score*1;
            if(score < 0) {
                score = 0;
                setAttrs({  "prescience_score": 0    });
            } else if(score > 10) {
                score = 10;
                setAttrs({  "prescience_score": 10    });
            }
            var scoreCost = score + values.prescience_cost_modifier*1;
            score = score + values.prescience_dice_modifier*1;
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
            var dice = number + type;
			var roll = "";
			var rollInitiative = "";
			if(score === 0) {
				roll = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]";
				rollInitiative = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]";
			} else {
				roll = "[[" + values.prescience_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.prescience_default_advantage + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
				rollInitiative = "[[" + values.prescience_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.initiative_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "&{tracker}]]";
			}
            setAttrs({
                "prescience_cost": (scoreCost*1 * (scoreCost*1 + 1))/2,
                "prescience_dice_roll": roll,
                "prescience_initiative": rollInitiative,
                "prescience_dice": dice
            });
            calcAttributePointsSpent();     // call to recalculate total costs, needs to be after new cost is set in setAttrs
        });
	};

	// Anytime protection score is changed, update cost and dice
    on("change:protection_score change:protection_dice_d20 change:protection_cost_modifier change:protection_dice_modifier change:protection_default_advantage", function() {
        calcAttributes();
    });
	
	// Function for calculating everything to do with Protection
	function calcProtection() {
        getAttrs(["protection_score", "protection_dice_d20", "protection_cost_modifier", "protection_dice_modifier", "initiative_advantage", "protection_default_advantage"], function(values) {
            var score = values.protection_score*1;
            if(score < 0) {
                score = 0;
                setAttrs({  "protection_score": 0    });
            } else if(score > 10) {
                score = 10;
                setAttrs({  "protection_score": 10    });
            }
            var scoreCost = score + values.protection_cost_modifier*1;
            score = score + values.protection_dice_modifier*1;
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
            var dice = number + type;
			var roll = "";
			var rollInitiative = "";
			if(score === 0) {
				roll = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}]]";
				rollInitiative = "[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!|Advantage,2d20!!kh1|Disadvantage,2d20!!kl1}&{tracker}]]";
			} else {
				roll = "[[" + values.protection_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.protection_default_advantage + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
				rollInitiative = "[[" + values.protection_dice_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.initiative_advantage*1 + "}]]" + type + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "&{tracker}]]";
			}
            setAttrs({
                "protection_cost": (scoreCost*1 * (scoreCost*1 + 1))/2,
                "protection_dice_roll": roll,
                "protection_initiative": rollInitiative,
                "protection_dice": dice
            });
            calcAttributePointsSpent();     // call to recalculate total costs, needs to be after new cost is set in setAttrs
        });
	};
	
	// Show/Hide settings area
        // Function call to simplifiy coding for showing/hiding settings
    function showHide(value) {
        if(value === "on") {    return "show";  // If the checkbox is CHECKED then show the section
        } else {    return "hide";  }           // If the checkbox is UNchecked then hide the section
    };
        // Repeating sections show/hide settings
    on("change:output_character", function() {
        getAttrs(["output_character"], function(values) {
            setAttrs({
                "display_character_flag": showHide(values.output_character)
            });
        });
    });
    on("change:output_goalsbeliefs", function() {
        getAttrs(["output_goalsbeliefs"], function(values) {
            setAttrs({
                "display_goalsbeliefs_flag": showHide(values.output_goalsbeliefs)
            });
        });
    });
    on("change:output_attributes", function() {
        getAttrs(["output_attributes"], function(values) {
            setAttrs({
                "display_attributes_flag": showHide(values.output_attributes)
            });
        });
    });
    on("change:output_defenses", function() {
        getAttrs(["output_defenses"], function(values) {
            setAttrs({
                "display_defenses_flag": showHide(values.output_defenses)
            });
        });
    });
    on("change:output_healthspeed", function() {
        getAttrs(["output_healthspeed"], function(values) {
            setAttrs({
                "display_healthspeed_flag": showHide(values.output_healthspeed)
            });
        });
    });
    on("change:output_sanity", function() {
        getAttrs(["output_sanity"], function(values) {
            setAttrs({
                "display_sanity_flag": showHide(values.output_sanity)
            });
        });
    });
    on("change:output_favoredactions", function() {
        getAttrs(["output_favoredactions"], function(values) {
            setAttrs({
                "display_favoredactions_flag": showHide(values.output_favoredactions)
            });
        });
    });
    on("change:output_otheractions", function() {
        getAttrs(["output_otheractions"], function(values) {
            setAttrs({
                "display_otheractions_flag": showHide(values.output_otheractions)
            });
        });
    });
    on("change:output_legendaryitems", function() {
        getAttrs(["output_legendaryitems"], function(values) {
            setAttrs({
                "display_legendaryitems_flag": showHide(values.output_legendaryitems)
            });
        });
    });
    on("change:output_feats", function() {
        getAttrs(["output_feats"], function(values) {
            setAttrs({
                "display_feats_flag": showHide(values.output_feats)
            });
        });
    });
    on("change:output_perksflaws", function() {
        getAttrs(["output_perksflaws"], function(values) {
            setAttrs({
                "display_perksflaws_flag": showHide(values.output_perksflaws)
            });
        });
    });
    on("change:output_inventory", function() {
        getAttrs(["output_inventory"], function(values) {
            setAttrs({
                "display_inventory_flag": showHide(values.output_inventory)
            });
        });
    });
    on("change:output_otherinventory", function() {
        getAttrs(["output_otherinventory"], function(values) {
            setAttrs({
                "display_otherinventory_flag": showHide(values.output_otherinventory)
            });
        });
    });
    on("change:output_sanity", function() {
        getAttrs(["output_sanity"], function(values) {
            setAttrs({
                "display_sanity_flag": showHide(values.output_sanity)
            });
        });
    });
	on("change:settingsFlagInitiative", function () {
		getAttrs(["settingsFlagInitiative"], function(values) {
			setAttrs({
				"displaySettingsFlagInitiative": showHide(values.settingsFlagInitiative)
			});
		});
	});
// Inventory show/hide stuff
	on("change:settingsFlag_item1", function () {
		getAttrs(["settingsFlag_item1"], function(values) {
			setAttrs({
				"displaySettingsFlagItem1": showHide(values.settingsFlag_item1)
			});
		});
	});
	on("change:settingsFlag_item2", function () {
		getAttrs(["settingsFlag_item2"], function(values) {
			setAttrs({
				"displaySettingsFlagItem2": showHide(values.settingsFlag_item2)
			});
		});
	});
	on("change:settingsFlag_item3", function () {
		getAttrs(["settingsFlag_item3"], function(values) {
			setAttrs({
				"displaySettingsFlagItem3": showHide(values.settingsFlag_item3)
			});
		});
	});
	on("change:settingsFlag_item4", function () {
		getAttrs(["settingsFlag_item4"], function(values) {
			setAttrs({
				"displaySettingsFlagItem4": showHide(values.settingsFlag_item4)
			});
		});
	});
	on("change:settingsFlag_item5", function () {
		getAttrs(["settingsFlag_item5"], function(values) {
			setAttrs({
				"displaySettingsFlagItem5": showHide(values.settingsFlag_item5)
			});
		});
	});
	on("change:settingsFlag_item6", function () {
		getAttrs(["settingsFlag_item6"], function(values) {
			setAttrs({
				"displaySettingsFlagItem6": showHide(values.settingsFlag_item6)
			});
		});
	});
	on("change:settingsFlag_item7", function () {
		getAttrs(["settingsFlag_item7"], function(values) {
			setAttrs({
				"displaySettingsFlagItem7": showHide(values.settingsFlag_item7)
			});
		});
	});
	on("change:settingsFlag_item8", function () {
		getAttrs(["settingsFlag_item8"], function(values) {
			setAttrs({
				"displaySettingsFlagItem8": showHide(values.settingsFlag_item8)
			});
		});
	});
	on("change:settingsFlag_item9", function () {
		getAttrs(["settingsFlag_item9"], function(values) {
			setAttrs({
				"displaySettingsFlagItem9": showHide(values.settingsFlag_item9)
			});
		});
	});
	on("change:settingsFlag_item10", function () {
		getAttrs(["settingsFlag_item10"], function(values) {
			setAttrs({
				"displaySettingsFlagItem10": showHide(values.settingsFlag_item10)
			});
		});
	});
	on("change:settingsFlag_item11", function () {
		getAttrs(["settingsFlag_item11"], function(values) {
			setAttrs({
				"displaySettingsFlagItem11": showHide(values.settingsFlag_item11)
			});
		});
	});
	on("change:settingsFlag_item12", function () {
		getAttrs(["settingsFlag_item12"], function(values) {
			setAttrs({
				"displaySettingsFlagItem12": showHide(values.settingsFlag_item12)
			});
		});
	});
	on("change:settingsFlag_item13", function () {
		getAttrs(["settingsFlag_item13"], function(values) {
			setAttrs({
				"displaySettingsFlagItem13": showHide(values.settingsFlag_item13)
			});
		});
	});
	on("change:settingsFlag_item14", function () {
		getAttrs(["settingsFlag_item14"], function(values) {
			setAttrs({
				"displaySettingsFlagItem14": showHide(values.settingsFlag_item14)
			});
		});
	});
	on("change:settingsFlag_item15", function () {
		getAttrs(["settingsFlag_item15"], function(values) {
			setAttrs({
				"displaySettingsFlagItem15": showHide(values.settingsFlag_item15)
			});
		});
	});
	on("change:settingsFlag_item16", function () {
		getAttrs(["settingsFlag_item16"], function(values) {
			setAttrs({
				"displaySettingsFlagItem16": showHide(values.settingsFlag_item16)
			});
		});
	});
	on("change:settingsFlag_item17", function () {
		getAttrs(["settingsFlag_item17"], function(values) {
			setAttrs({
				"displaySettingsFlagItem17": showHide(values.settingsFlag_item17)
			});
		});
	});
	on("change:settingsFlag_item18", function () {
		getAttrs(["settingsFlag_item18"], function(values) {
			setAttrs({
				"displaySettingsFlagItem18": showHide(values.settingsFlag_item18)
			});
		});
	});
	on("change:settingsFlag_item19", function () {
		getAttrs(["settingsFlag_item19"], function(values) {
			setAttrs({
				"displaySettingsFlagItem19": showHide(values.settingsFlag_item19)
			});
		});
	});
	on("change:settingsFlag_item20", function () {
		getAttrs(["settingsFlag_item20"], function(values) {
			setAttrs({
				"displaySettingsFlagItem20": showHide(values.settingsFlag_item20)
			});
		});
	});

    on("change:agility_settings_flag", function() {
        getAttrs(["agility_settings_flag"], function(values) {
            setAttrs({
                "agility_display_settings_flag": showHide(values.agility_settings_flag)
            });
        });
    });
    on("change:fortitude_settings_flag", function() {
        getAttrs(["fortitude_settings_flag"], function(values) {
            setAttrs({
                "fortitude_display_settings_flag": showHide(values.fortitude_settings_flag)
            });
        });
    });
    on("change:might_settings_flag", function() {
        getAttrs(["might_settings_flag"], function(values) {
            setAttrs({
                "might_display_settings_flag": showHide(values.might_settings_flag)
            });
        });
    });
    on("change:learning_settings_flag", function() {
        getAttrs(["learning_settings_flag"], function(values) {
            setAttrs({
                "learning_display_settings_flag": showHide(values.learning_settings_flag)
            });
        });
    });
    on("change:logic_settings_flag", function() {
        getAttrs(["logic_settings_flag"], function(values) {
            setAttrs({
                "logic_display_settings_flag": showHide(values.logic_settings_flag)
            });
        });
    });
    on("change:perception_settings_flag", function() {
        getAttrs(["perception_settings_flag"], function(values) {
            setAttrs({
                "perception_display_settings_flag": showHide(values.perception_settings_flag)
            });
        });
    });
    on("change:will_settings_flag", function() {
        getAttrs(["will_settings_flag"], function(values) {
            setAttrs({
                "will_display_settings_flag": showHide(values.will_settings_flag)
            });
        });
    });
    on("change:deception_settings_flag", function() {
        getAttrs(["deception_settings_flag"], function(values) {
            setAttrs({
                "deception_display_settings_flag": showHide(values.deception_settings_flag)
            });
        });
    });
    on("change:persuasion_settings_flag", function() {
        getAttrs(["persuasion_settings_flag"], function(values) {
            setAttrs({
                "persuasion_display_settings_flag": showHide(values.persuasion_settings_flag)
            });
        });
    });
    on("change:presence_settings_flag", function() {
        getAttrs(["presence_settings_flag"], function(values) {
            setAttrs({
                "presence_display_settings_flag": showHide(values.presence_settings_flag)
            });
        });
    });
    on("change:alteration_settings_flag", function() {
        getAttrs(["alteration_settings_flag"], function(values) {
            setAttrs({
                "alteration_display_settings_flag": showHide(values.alteration_settings_flag)
            });
        });
    });
    on("change:creation_settings_flag", function() {
        getAttrs(["creation_settings_flag"], function(values) {
            setAttrs({
                "creation_display_settings_flag": showHide(values.creation_settings_flag)
            });
        });
    });
    on("change:energy_settings_flag", function() {
        getAttrs(["energy_settings_flag"], function(values) {
            setAttrs({
                "energy_display_settings_flag": showHide(values.energy_settings_flag)
            });
        });
    });
    on("change:entropy_settings_flag", function() {
        getAttrs(["entropy_settings_flag"], function(values) {
            setAttrs({
                "entropy_display_settings_flag": showHide(values.entropy_settings_flag)
            });
        });
    });
    on("change:influence_settings_flag", function() {
        getAttrs(["influence_settings_flag"], function(values) {
            setAttrs({
                "influence_display_settings_flag": showHide(values.influence_settings_flag)
            });
        });
    });
    on("change:movement_settings_flag", function() {
        getAttrs(["movement_settings_flag"], function(values) {
            setAttrs({
                "movement_display_settings_flag": showHide(values.movement_settings_flag)
            });
        });
    });
    on("change:prescience_settings_flag", function() {
        getAttrs(["prescience_settings_flag"], function(values) {
            setAttrs({
                "prescience_display_settings_flag": showHide(values.prescience_settings_flag)
            });
        });
    });
    on("change:protection_settings_flag", function() {
        getAttrs(["protection_settings_flag"], function(values) {
            setAttrs({
                "protection_display_settings_flag": showHide(values.protection_settings_flag)
            });
        });
    });
    on("change:repeating_OtherOne:settingsflag", function() {
        getAttrs(["repeating_OtherOne_settingsFlag"], function(values) {
            setAttrs({
                "repeating_OtherOne_displaySettingsFlag": showHide(values.repeating_OtherOne_settingsFlag)
            });
        });
    });
    on("change:repeating_actions:settingsflag", function() {
        getAttrs(["repeating_actions_settingsFlag"], function(values) {
            setAttrs({
                "repeating_actions_displaySettingsFlag": showHide(values.repeating_actions_settingsFlag)
            });
        });
    });
    on("change:repeating_otheractions:settingsflag", function() {
        getAttrs(["repeating_otheractions_settingsFlag"], function(values) {
            setAttrs({
                "repeating_otheractions_displaySettingsFlag": showHide(values.repeating_otheractions_settingsFlag)
            });
        });
    });
    on("change:repeating_legendary:settingsflag", function() {
        getAttrs(["repeating_legendary_settingsFlag"], function(values) {
            setAttrs({
                "repeating_legendary_displaySettingsFlag": showHide(values.repeating_legendary_settingsFlag)
            });
        });
    });
    on("change:repeating_featsLeft:settingsflag", function() {
        getAttrs(["repeating_featsLeft_settingsFlag"], function(values) {
            setAttrs({
                "repeating_featsLeft_displaySettingsFlag": showHide(values.repeating_featsLeft_settingsFlag)
            });
        });
    });
    on("change:repeating_featsRight:settingsflag", function() {
        getAttrs(["repeating_featsRight_settingsFlag"], function(values) {
            setAttrs({
                "repeating_featsRight_displaySettingsFlag": showHide(values.repeating_featsRight_settingsFlag)
            });
        });
    });
        // Perks
    on("change:repeating_perks:settingsflag", function() {
        getAttrs(["repeating_perks_settingsFlag"], function(values) {
            setAttrs({
                "repeating_perks_displaySettingsFlag": showHide(values.repeating_perks_settingsFlag)
            });
        });
    });
    on("change:repeating_perksRight:settingsflag", function() {
        getAttrs(["repeating_perksRight_settingsFlag"], function(values) {
            setAttrs({
                "repeating_perksRight_displaySettingsFlag": showHide(values.repeating_perksRight_settingsFlag)
            });
        });
    });
        // Flaws
    on("change:repeating_flaws:settingsflag", function() {
        getAttrs(["repeating_flaws_settingsFlag"], function(values) {
            setAttrs({
                "repeating_flaws_displaySettingsFlag": showHide(values.repeating_flaws_settingsFlag)
            });
        });
    });
    on("change:repeating_flawsRight:settingsflag", function() {
        getAttrs(["repeating_flawsRight_settingsFlag"], function(values) {
            setAttrs({
                "repeating_flawsRight_displaySettingsFlag": showHide(values.repeating_flawsRight_settingsFlag)
            });
        });
    });
    
    // MESSING WITH BORDERS RIGHT NOW - TOP
    on("change:display_alternate_border", function() {
        getAttrs(["display_alternate_border"], function(values) {
            var temp = showHide(values.display_alternate_border);
            var border = "Normal";
            if(temp === "hide") {
                border = "Normal";
            } else {
                border = "Modern";
            }
            setAttrs({
                "display_alternate_border_flag": temp,
                "template_border": border
            });
        });
    });
    
    
    // MESSING WITH BORDERS RIGHT NOW - BOTTOM

    function calcAllActionRolls () {
        calcFavoredActionRolls();
        calcOtherActionRolls();
    };
	// Function for calculating rolls for Actions
    function calcFavoredActionRolls () {
        getSectionIDs("repeating_actions", function(actionsArray) {
         if(actionsArray.length > 0) {
            _.each(actionsArray, function(currentID, i) {
                getAttrs(["repeating_actions_" + currentID + "_effect_dice_number", "repeating_actions_" + currentID + "_effect_dice_type", "repeating_actions_" + currentID + "_tab_action", "repeating_actions_" + currentID + "_action_attribute", "repeating_actions_" + currentID + "_dice_modifier", "repeating_actions_" + currentID + "_use_power_level_1", "repeating_actions_" + currentID + "_action_pl1", "repeating_actions_" + currentID + "_use_power_level_2", "repeating_actions_" + currentID + "_action_pl2", "repeating_actions_" + currentID + "_use_power_level_3", "repeating_actions_" + currentID + "_action_pl3", "repeating_actions_" + currentID + "_use_power_level_4", "repeating_actions_" + currentID + "_action_pl4", "repeating_actions_" + currentID + "_use_power_level_5", "repeating_actions_" + currentID + "_action_pl5", "repeating_actions_" + currentID + "_use_power_level_6", "repeating_actions_" + currentID + "_action_pl6", "repeating_actions_" + currentID + "_use_power_level_7", "repeating_actions_" + currentID + "_action_pl7", "repeating_actions_" + currentID + "_use_power_level_8", "repeating_actions_" + currentID + "_action_pl8", "repeating_actions_" + currentID + "_use_power_level_9", "repeating_actions_" + currentID + "_action_pl9", "repeating_actions_" + currentID + "_use_destructive_trance", "repeating_actions_" + currentID + "_default_advantage", "agility_score", "agility_dice_modifier", "fortitude_score", "fortitude_dice_modifier", "might_score", "might_dice_modifier", "learning_score", "learning_dice_modifier", "logic_score", "logic_dice_modifier", "perception_score", "perception_dice_modifier", "will_score", "will_dice_modifier", "deception_score", "deception_dice_modifier", "persuasion_score", "persuasion_dice_modifier", "presence_score", "presence_dice_modifier", "alteration_score", "alteration_dice_modifier", "creation_score", "creation_dice_modifier", "energy_score", "energy_dice_modifier", "entropy_score", "entropy_dice_modifier", "influence_score", "influence_dice_modifier", "movement_score", "movement_dice_modifier", "prescience_score", "prescience_dice_modifier", "protection_score", "protection_dice_modifier"], function(v) {
                    var update = {};
                    var score = 0;
					var displayScore = 0;
                    if(v["repeating_actions_" + currentID + "_action_attribute"] === "Agility") {
                        score = v.agility_score*1 + v.agility_dice_modifier*1;
						displayScore = v.agility_score*1;
                    } else if(v["repeating_actions_" + currentID + "_action_attribute"] === "Fortitude") {
                        score = v.fortitude_score*1 + v.fortitude_dice_modifier*1;
                        displayScore = v.fortitude_score*1;
                    } else if(v["repeating_actions_" + currentID + "_action_attribute"] === "Might") {
                        score = v.might_score*1 + v.might_dice_modifier*1;
                        displayScore = v.might_score*1;
                    } else if(v["repeating_actions_" + currentID + "_action_attribute"] === "Learning") {
                        score = v.learning_score*1 + v.learning_dice_modifier*1;
                        displayScore = v.learning_score*1;
                    } else if(v["repeating_actions_" + currentID + "_action_attribute"] === "Logic") {
                        score = v.logic_score*1 + v.logic_dice_modifier*1;
                        displayScore = v.logic_score*1;
                    } else if(v["repeating_actions_" + currentID + "_action_attribute"] === "Perception") {
                        score = v.perception_score*1 + v.perception_dice_modifier*1;
                        displayScore = v.perception_score*1;
                    } else if(v["repeating_actions_" + currentID + "_action_attribute"] === "Will") {
                        score = v.will_score*1 + v.will_dice_modifier*1;
                        displayScore = v.will_score*1;
                    } else if(v["repeating_actions_" + currentID + "_action_attribute"] === "Deception") {
                        score = v.deception_score*1 + v.deception_dice_modifier*1;
                        displayScore = v.deception_score*1;
                    } else if(v["repeating_actions_" + currentID + "_action_attribute"] === "Persuasion") {
                        score = v.persuasion_score*1 + v.persuasion_dice_modifier*1;
                        displayScore = v.persuasion_score*1;
                    } else if(v["repeating_actions_" + currentID + "_action_attribute"] === "Presence") {
                        score = v.presence_score*1 + v.presence_dice_modifier*1;
                        displayScore = v.presence_score*1;
                    } else if(v["repeating_actions_" + currentID + "_action_attribute"] === "Alteration") {
                        score = v.alteration_score*1 + v.alteration_dice_modifier*1;
                        displayScore = v.alteration_score*1;
                    } else if(v["repeating_actions_" + currentID + "_action_attribute"] === "Creation") {
                        score = v.creation_score*1 + v.creation_dice_modifier*1;
                        displayScore = v.creation_score*1;
                    } else if(v["repeating_actions_" + currentID + "_action_attribute"] === "Energy") {
                        score = v.energy_score*1 + v.energy_dice_modifier*1;
                        displayScore = v.energy_score*1;
                    } else if(v["repeating_actions_" + currentID + "_action_attribute"] === "Entropy") {
                        score = v.entropy_score*1 + v.entropy_dice_modifier*1;
                        displayScore = v.entropy_score*1;
                    } else if(v["repeating_actions_" + currentID + "_action_attribute"] === "Influence") {
                        score = v.influence_score*1 + v.influence_dice_modifier*1;
                        displayScore = v.influence_score*1;
                    } else if(v["repeating_actions_" + currentID + "_action_attribute"] === "Movement") {
                        score = v.movement_score*1 + v.movement_dice_modifier*1;
                        displayScore = v.movement_score*1;
                    } else if(v["repeating_actions_" + currentID + "_action_attribute"] === "Prescience") {
                        score = v.prescience_score*1 + v.prescience_dice_modifier*1;
                        displayScore = v.prescience_score*1;
                    } else if(v["repeating_actions_" + currentID + "_action_attribute"] === "Protection") {
                        score = v.protection_score*1 + v.protection_dice_modifier*1;
                        displayScore = v.protection_score*1;
                    }
                    if(isNaN(v["repeating_actions_" + currentID + "_dice_modifier"])) {
                        update["repeating_actions_" + currentID + "_dice_modifier"] = 0;
                    } else {
                        score = score*1 + v["repeating_actions_" + currentID + "_dice_modifier"]*1;
                    }
                    var number = calcAttributeDiceNumber(score);
                    var type = calcAttributeDiceType(score);
					var destructive = "";
					var destructive20 = "";
					if(v["repeating_actions" + currentID + "_use_destructive_trance"] === "Yes") {
						destructive = calcAttributeDiceDestructive(score);
						destructive20 = ">19";
					}
                    var roll = "";
                    var powerLevelLow = 0;
                    var powerLevelHigh = 0;
    // Start high and end low to determine the lowest Power Level to use for the given Boon
                    if(v["repeating_actions_" + currentID + "_use_power_level_9"] === "1") {    powerLevelLow = 9; }
                    if(v["repeating_actions_" + currentID + "_use_power_level_8"] === "1") {    powerLevelLow = 8; }
                    if(v["repeating_actions_" + currentID + "_use_power_level_7"] === "1") {    powerLevelLow = 7; }
                    if(v["repeating_actions_" + currentID + "_use_power_level_6"] === "1") {    powerLevelLow = 6; }
                    if(v["repeating_actions_" + currentID + "_use_power_level_5"] === "1") {    powerLevelLow = 5; }
                    if(v["repeating_actions_" + currentID + "_use_power_level_4"] === "1") {    powerLevelLow = 4; }
                    if(v["repeating_actions_" + currentID + "_use_power_level_3"] === "1") {    powerLevelLow = 3; }
                    if(v["repeating_actions_" + currentID + "_use_power_level_2"] === "1") {    powerLevelLow = 2; }
                    if(v["repeating_actions_" + currentID + "_use_power_level_1"] === "1") {    powerLevelLow = 1; }
    // Start low and end high to determine the highest Power Level to use for the given Boon
                    if(v["repeating_actions_" + currentID + "_use_power_level_1"] === "1") {    powerLevelHigh = 1; }
                    if(v["repeating_actions_" + currentID + "_use_power_level_2"] === "1") {    powerLevelHigh = 2; }
                    if(v["repeating_actions_" + currentID + "_use_power_level_3"] === "1") {    powerLevelHigh = 3; }
                    if(v["repeating_actions_" + currentID + "_use_power_level_4"] === "1") {    powerLevelHigh = 4; }
                    if(v["repeating_actions_" + currentID + "_use_power_level_5"] === "1") {    powerLevelHigh = 5; }
                    if(v["repeating_actions_" + currentID + "_use_power_level_6"] === "1") {    powerLevelHigh = 6; }
                    if(v["repeating_actions_" + currentID + "_use_power_level_7"] === "1") {    powerLevelHigh = 7; }
                    if(v["repeating_actions_" + currentID + "_use_power_level_8"] === "1") {    powerLevelHigh = 8; }
                    if(v["repeating_actions_" + currentID + "_use_power_level_9"] === "1") {    powerLevelHigh = 9; }
    // Assign only the Power Levels that exists across ones that don't exist for display vs roll in roll template
                    var usePL1 = "";
                    var titlePL1 = "";
                    var usePL2 = "";
                    var titlePL2 = "";
                    var usePL3 = "";
                    var titlePL3 = "";
                    var usePL4 = "";
                    var titlePL4 = "";
                    var usePL5 = "";
                    var titlePL5 = "";
                    var usePL6 = "";
                    var titlePL6 = "";
                    var usePL7 = "";
                    var titlePL7 = "";
                    var usePL8 = "";
                    var titlePL8 = "";
                    var usePL9 = "";
                    var titlePL9 = "";
                    if(v["repeating_actions_" + currentID + "_use_power_level_1"] === "1" && displayScore > 0) {
                        usePL1 = v["repeating_actions_" + currentID + "action_pl1"];
                        titlePL1 = "Power Level 1 Info";
                    } else {
                        usePL1 = "";
                        titlePL1 = "";
                    }
                    if(v["repeating_actions_" + currentID + "_use_power_level_2"] === "1" && displayScore > 1) {
                        usePL2 = v["repeating_actions_" + currentID + "action_pl2"];
                        titlePL2 = "Power Level 2 Info";
                    } else {
                        usePL2 = usePL1;
                        titlePL2 = titlePL1;
                    }
                    if(v["repeating_actions_" + currentID + "_use_power_level_3"] === "1" && displayScore > 2) {
                        usePL3 = v["repeating_actions_" + currentID + "action_pl3"];
                        titlePL3 = "Power Level 3 Info";
                    } else {
                        usePL3 = usePL2;
                        titlePL3 = titlePL2;
                    }
                    if(v["repeating_actions_" + currentID + "_use_power_level_4"] === "1" && displayScore > 3) {
                        usePL4 = v["repeating_actions_" + currentID + "action_pl4"];
                        titlePL4 = "Power Level 4 Info";
                    } else {
                        usePL4 = usePL3;
                        titlePL4 = titlePL3;
                    }
                    if(v["repeating_actions_" + currentID + "_use_power_level_5"] === "1" && displayScore > 4) {
                        usePL5 = v["repeating_actions_" + currentID + "action_pl5"];
                        titlePL5 = "Power Level 5 Info";
                    } else {
                        usePL5 = usePL4;
                        titlePL5 = titlePL4;
                    }
                    if(v["repeating_actions_" + currentID + "_use_power_level_6"] === "1" && displayScore > 5) {
                        usePL6 = v["repeating_actions_" + currentID + "action_pl6"];
                        titlePL6 = "Power Level 6 Info";
                    } else {
                        usePL6 = usePL5;
                        titlePL6 = titlePL5;
                    }
                    if(v["repeating_actions_" + currentID + "_use_power_level_7"] === "1" && displayScore > 6) {
                        usePL7 = v["repeating_actions_" + currentID + "action_pl7"];
                        titlePL7 = "Power Level 7 Info";
                    } else {
                        usePL7 = usePL6;
                        titlePL7 = titlePL6;
                    }
                    if(v["repeating_actions_" + currentID + "_use_power_level_8"] === "1" && displayScore > 7) {
                        usePL8 = v["repeating_actions_" + currentID + "action_pl8"];
                        titlePL8 = "Power Level 8 Info";
                    } else {
                        usePL8 = usePL7;
                        titlePL8 = titlePL7;
                    }
                    if(v["repeating_actions_" + currentID + "_use_power_level_9"] === "1" && displayScore > 8) {
                        usePL9 = v["repeating_actions_" + currentID + "action_pl9"];
                        titlePL9 = "Power Level 9 Info";
                    } else {
                        usePL9 = usePL8;
                        titlePL9 = titlePL8;
                    }

                    if(v["repeating_actions_" + currentID + "_tab_action"] === "effect") {
                        roll = "{{roll=[[" + v["repeating_actions_" + currentID + "_effect_dice_number"] + v["repeating_actions_" + currentID + "_effect_dice_type"] + "]]}}";
                    } else {
            			if(score === 0) {
            				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!" + destructive20 + "|Advantage,2d20!!" + destructive20 + "kh1|Disadvantage,2d20!!" + destructive20 + "kl1}]]}}";
            			} else {
            				roll = "{{roll=[[1d20!!" + destructive20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + v["repeating_actions_" + currentID + "_default_advantage"]*1 + "}]]" + type + destructive + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
            			}
                    }
                    update["repeating_actions_" + currentID + "_power_level_low"] = powerLevelLow;
                    update["repeating_actions_" + currentID + "_power_level_high"] = powerLevelHigh;
        			update["repeating_actions_" + currentID + "_dice_roll"] = roll;
					update["repeating_actions_" + currentID + "_attribute_score"] = displayScore;
					update["repeating_actions_" + currentID + "_pl1"] = usePL1;
					update["repeating_actions_" + currentID + "_pl1_title"] = titlePL1;
					update["repeating_actions_" + currentID + "_pl2"] = usePL2;
					update["repeating_actions_" + currentID + "_pl2_title"] = titlePL2;
					update["repeating_actions_" + currentID + "_pl3"] = usePL3;
					update["repeating_actions_" + currentID + "_pl3_title"] = titlePL3;
					update["repeating_actions_" + currentID + "_pl4"] = usePL4;
					update["repeating_actions_" + currentID + "_pl4_title"] = titlePL4;
					update["repeating_actions_" + currentID + "_pl5"] = usePL5;
					update["repeating_actions_" + currentID + "_pl5_title"] = titlePL5;
					update["repeating_actions_" + currentID + "_pl6"] = usePL6;
					update["repeating_actions_" + currentID + "_pl6_title"] = titlePL6;
					update["repeating_actions_" + currentID + "_pl7"] = usePL7;
					update["repeating_actions_" + currentID + "_pl7_title"] = titlePL7;
					update["repeating_actions_" + currentID + "_pl8"] = usePL8;
					update["repeating_actions_" + currentID + "_pl8_title"] = titlePL8;
					update["repeating_actions_" + currentID + "_pl9"] = usePL9;
					update["repeating_actions_" + currentID + "_pl9_title"] = titlePL9;
        			setAttrs(update);
                });
            });
         }
        });
    };
	
	// Function for calculating rolls for Actions
    function calcOtherActionRolls () {
        getSectionIDs("repeating_otheractions", function(actionsArray) {
         if(actionsArray.length > 0) {
            _.each(actionsArray, function(currentID, i) {
                getAttrs(["repeating_otheractions_" + currentID + "_effect_dice_number", "repeating_otheractions_" + currentID + "_effect_dice_type", "repeating_otheractions_" + currentID + "_tab_action", "repeating_otheractions_" + currentID + "_action_attribute", "repeating_otheractions_" + currentID + "_dice_modifier", "repeating_otheractions_" + currentID + "_use_destructive_trance", "repeating_otheractions_" + currentID + "_default_advantage", "repeating_otheractions_" + currentID + "_use_power_level_1", "repeating_otheractions_" + currentID + "_action_pl1", "repeating_otheractions_" + currentID + "_use_power_level_2", "repeating_otheractions_" + currentID + "_action_pl2", "repeating_otheractions_" + currentID + "_use_power_level_3", "repeating_otheractions_" + currentID + "_action_pl3", "repeating_otheractions_" + currentID + "_use_power_level_4", "repeating_otheractions_" + currentID + "_action_pl4", "repeating_otheractions_" + currentID + "_use_power_level_5", "repeating_otheractions_" + currentID + "_action_pl5", "repeating_otheractions_" + currentID + "_use_power_level_6", "repeating_otheractions_" + currentID + "_action_pl6", "repeating_otheractions_" + currentID + "_use_power_level_7", "repeating_otheractions_" + currentID + "_action_pl7", "repeating_otheractions_" + currentID + "_use_power_level_8", "repeating_otheractions_" + currentID + "_action_pl8", "repeating_otheractions_" + currentID + "_use_power_level_9", "repeating_otheractions_" + currentID + "_action_pl9", "agility_score", "agility_dice_modifier", "fortitude_score", "fortitude_dice_modifier", "might_score", "might_dice_modifier", "learning_score", "learning_dice_modifier", "logic_score", "logic_dice_modifier", "perception_score", "perception_dice_modifier", "will_score", "will_dice_modifier", "deception_score", "deception_dice_modifier", "persuasion_score", "persuasion_dice_modifier", "presence_score", "presence_dice_modifier", "alteration_score", "alteration_dice_modifier", "creation_score", "creation_dice_modifier", "energy_score", "energy_dice_modifier", "entropy_score", "entropy_dice_modifier", "influence_score", "influence_dice_modifier", "movement_score", "movement_dice_modifier", "prescience_score", "prescience_dice_modifier", "protection_score", "protection_dice_modifier"], function(v) {
                    var updateother = {};
                    var score = 0;
					var displayScore = 0;
                    if(v["repeating_otheractions_" + currentID + "_action_attribute"] === "Agility") {
                        score = v.agility_score*1 + v.agility_dice_modifier*1;
                        displayScore = v.agility_score*1;
                    } else if(v["repeating_otheractions_" + currentID + "_action_attribute"] === "Fortitude") {
                        score = v.fortitude_score*1 + v.fortitude_dice_modifier*1;
                        displayScore = v.fortitude_score*1;
                    } else if(v["repeating_otheractions_" + currentID + "_action_attribute"] === "Might") {
                        score = v.might_score*1 + v.might_dice_modifier*1;
                        displayScore = v.might_score*1;
                    } else if(v["repeating_otheractions_" + currentID + "_action_attribute"] === "Learning") {
                        score = v.learning_score*1 + v.learning_dice_modifier*1;
                        displayScore = v.learning_score*1;
                    } else if(v["repeating_otheractions_" + currentID + "_action_attribute"] === "Logic") {
                        score = v.logic_score*1 + v.logic_dice_modifier*1;
                        displayScore = v.logic_score*1;
                    } else if(v["repeating_otheractions_" + currentID + "_action_attribute"] === "Perception") {
                        score = v.perception_score*1 + v.perception_dice_modifier*1;
                        displayScore = v.perception_score*1;
                    } else if(v["repeating_otheractions_" + currentID + "_action_attribute"] === "Will") {
                        score = v.will_score*1 + v.will_dice_modifier*1;
                        displayScore = v.will_score*1;
                    } else if(v["repeating_otheractions_" + currentID + "_action_attribute"] === "Deception") {
                        score = v.deception_score*1 + v.deception_dice_modifier*1;
                        displayScore = v.deception_score*1;
                    } else if(v["repeating_otheractions_" + currentID + "_action_attribute"] === "Persuasion") {
                        score = v.persuasion_score*1 + v.persuasion_dice_modifier*1;
                        displayScore = v.persuasion_score*1;
                    } else if(v["repeating_otheractions_" + currentID + "_action_attribute"] === "Presence") {
                        score = v.presence_score*1 + v.presence_dice_modifier*1;
                        displayScore = v.presence_score*1;
                    } else if(v["repeating_otheractions_" + currentID + "_action_attribute"] === "Alteration") {
                        score = v.alteration_score*1 + v.alteration_dice_modifier*1;
                        displayScore = v.alteration_score*1;
                    } else if(v["repeating_otheractions_" + currentID + "_action_attribute"] === "Creation") {
                        score = v.creation_score*1 + v.creation_dice_modifier*1;
                        displayScore = v.creation_score*1;
                    } else if(v["repeating_otheractions_" + currentID + "_action_attribute"] === "Energy") {
                        score = v.energy_score*1 + v.energy_dice_modifier*1;
                        displayScore = v.energy_score*1;
                    } else if(v["repeating_otheractions_" + currentID + "_action_attribute"] === "Entropy") {
                        score = v.entropy_score*1 + v.entropy_dice_modifier*1;
                        displayScore = v.entropy_score*1;
                    } else if(v["repeating_otheractions_" + currentID + "_action_attribute"] === "Influence") {
                        score = v.influence_score*1 + v.influence_dice_modifier*1;
                        displayScore = v.influence_score*1;
                    } else if(v["repeating_otheractions_" + currentID + "_action_attribute"] === "Movement") {
                        score = v.movement_score*1 + v.movement_dice_modifier*1;
                        displayScore = v.movement_score*1;
                    } else if(v["repeating_otheractions_" + currentID + "_action_attribute"] === "Prescience") {
                        score = v.prescience_score*1 + v.prescience_dice_modifier*1;
                        displayScore = v.prescience_score*1;
                    } else if(v["repeating_otheractions_" + currentID + "_action_attribute"] === "Protection") {
                        score = v.protection_score*1 + v.protection_dice_modifier*1;
                        displayScore = v.protection_score*1;
                    }
                    if(isNaN(v["repeating_otheractions_" + currentID + "_dice_modifier"])) {
                        updateother["repeating_otheractions_" + currentID + "_dice_modifier"] = 0;
                    } else {
                        score = score*1 + v["repeating_otheractions_" + currentID + "_dice_modifier"]*1;
                    }
                    var number = calcAttributeDiceNumber(score);
                    var type = calcAttributeDiceType(score);
					var destructive = "";
					var destructive20 = "";
                    var powerLevelLow = 0;
                    var powerLevelHigh = 0;
            // Start high and end low to determine the lowest Power Level to use for the given Boon
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_9"] === "1") {    powerLevelLow = 9; }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_8"] === "1") {    powerLevelLow = 8; }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_7"] === "1") {    powerLevelLow = 7; }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_6"] === "1") {    powerLevelLow = 6; }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_5"] === "1") {    powerLevelLow = 5; }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_4"] === "1") {    powerLevelLow = 4; }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_3"] === "1") {    powerLevelLow = 3; }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_2"] === "1") {    powerLevelLow = 2; }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_1"] === "1") {    powerLevelLow = 1; }
            // Start low and end high to determine the highest Power Level to use for the given Boon
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_1"] === "1") {    powerLevelHigh = 1; }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_2"] === "1") {    powerLevelHigh = 2; }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_3"] === "1") {    powerLevelHigh = 3; }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_4"] === "1") {    powerLevelHigh = 4; }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_5"] === "1") {    powerLevelHigh = 5; }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_6"] === "1") {    powerLevelHigh = 6; }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_7"] === "1") {    powerLevelHigh = 7; }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_8"] === "1") {    powerLevelHigh = 8; }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_9"] === "1") {    powerLevelHigh = 9; }
            // Assign only the Power Levels that exists across ones that don't exist for display vs roll in roll template
                    var usePL1 = "";
                    var titlePL1 = "";
                    var usePL2 = "";
                    var titlePL2 = "";
                    var usePL3 = "";
                    var titlePL3 = "";
                    var usePL4 = "";
                    var titlePL4 = "";
                    var usePL5 = "";
                    var titlePL5 = "";
                    var usePL6 = "";
                    var titlePL6 = "";
                    var usePL7 = "";
                    var titlePL7 = "";
                    var usePL8 = "";
                    var titlePL8 = "";
                    var usePL9 = "";
                    var titlePL9 = "";
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_1"] === "1" && displayScore > 0) {
                        usePL1 = v["repeating_otheractions_" + currentID + "_action_pl1"];
                        titlePL1 = "Power Level 1 Info";
                    } else {
                        usePL1 = "";
                        titlePL1 = "";
                    }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_2"] === "1" && displayScore > 1) {
                        usePL2 = v["repeating_otheractions_" + currentID + "_action_pl2"];
                        titlePL2 = "Power Level 2 Info";
                    } else {
                        usePL2 = usePL1;
                        titlePL2 = titlePL1;
                    }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_3"] === "1" && displayScore > 2) {
                        usePL3 = v["repeating_otheractions_" + currentID + "_action_pl3"];
                        titlePL3 = "Power Level 3 Info";
                    } else {
                        usePL3 = usePL2;
                        titlePL3 = titlePL2;
                    }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_4"] === "1" && displayScore > 3) {
                        usePL4 = v["repeating_otheractions_" + currentID + "_action_pl4"];
                        titlePL4 = "Power Level 4 Info";
                    } else {
                        usePL4 = usePL3;
                        titlePL4 = titlePL3;
                    }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_5"] === "1" && displayScore > 4) {
                        usePL5 = v["repeating_otheractions_" + currentID + "_action_pl5"];
                        titlePL5 = "Power Level 5 Info";
                    } else {
                        usePL5 = usePL4;
                        titlePL5 = titlePL4;
                    }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_6"] === "1" && displayScore > 5) {
                        usePL6 = v["repeating_otheractions_" + currentID + "_action_pl6"];
                        titlePL6 = "Power Level 6 Info";
                    } else {
                        usePL6 = usePL5;
                        titlePL6 = titlePL5;
                    }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_7"] === "1" && displayScore > 6) {
                        usePL7 = v["repeating_otheractions_" + currentID + "_action_pl7"];
                        titlePL7 = "Power Level 7 Info";
                    } else {
                        usePL7 = usePL6;
                        titlePL7 = titlePL6;
                    }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_8"] === "1" && displayScore > 7) {
                        usePL8 = v["repeating_otheractions_" + currentID + "_action_pl8"];
                        titlePL8 = "Power Level 8 Info";
                    } else {
                        usePL8 = usePL7;
                        titlePL8 = titlePL7;
                    }
                    if(v["repeating_otheractions_" + currentID + "_use_power_level_9"] === "1" && displayScore > 8) {
                        usePL9 = v["repeating_otheractions_" + currentID + "_action_pl9"];
                        titlePL9 = "Power Level 9 Info";
                    } else {
                        usePL9 = usePL8;
                        titlePL9 = titlePL8;
                    }

                    if(v["repeating_otheractions" + currentID + "_use_destructive_trance"] === "Yes") {
						destructive = calcAttributeDiceDestructive(score);
						destructive20 = ">19";
					}
                    var roll = "";
                    if(v["repeating_otheractions_" + currentID + "_tab_action"] === "effect") {
                        roll = "{{roll=[[" + v["repeating_otheractions_" + currentID + "_effect_dice_number"] + v["repeating_otheractions_" + currentID + "_effect_dice_type"] + "]]}}";
                    } else {
            			if(score === 0) {
            				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!" + destructive20 + "|Advantage,2d20!!" + destructive20 + "kh1|Disadvantage,2d20!!" + destructive20 + "kl1}]]}}";
            			} else {
            				roll = "{{roll=[[1d20!!" + destructive20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + v["repeating_otheractions_" + currentID + "_default_advantage"]*1 + "}]]" + type + destructive + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
            			}
                    }
                    updateother["repeating_otheractions_" + currentID + "_power_level_low"] = powerLevelLow;
                    updateother["repeating_otheractions_" + currentID + "_power_level_high"] = powerLevelHigh;
        			updateother["repeating_otheractions_" + currentID + "_dice_roll"] = roll;
					updateother["repeating_otheractions_" + currentID + "_attribute_score"] = displayScore;
					updateother["repeating_otheractions_" + currentID + "_pl1"] = usePL1;
					updateother["repeating_otheractions_" + currentID + "_pl1_title"] = titlePL1;
					updateother["repeating_otheractions_" + currentID + "_pl2"] = usePL2;
					updateother["repeating_otheractions_" + currentID + "_pl2_title"] = titlePL2;
					updateother["repeating_otheractions_" + currentID + "_pl3"] = usePL3;
					updateother["repeating_otheractions_" + currentID + "_pl3_title"] = titlePL3;
					updateother["repeating_otheractions_" + currentID + "_pl4"] = usePL4;
					updateother["repeating_otheractions_" + currentID + "_pl4_title"] = titlePL4;
					updateother["repeating_otheractions_" + currentID + "_pl5"] = usePL5;
					updateother["repeating_otheractions_" + currentID + "_pl5_title"] = titlePL5;
					updateother["repeating_otheractions_" + currentID + "_pl6"] = usePL6;
					updateother["repeating_otheractions_" + currentID + "_pl6_title"] = titlePL6;
					updateother["repeating_otheractions_" + currentID + "_pl7"] = usePL7;
					updateother["repeating_otheractions_" + currentID + "_pl7_title"] = titlePL7;
					updateother["repeating_otheractions_" + currentID + "_pl8"] = usePL8;
					updateother["repeating_otheractions_" + currentID + "_pl8_title"] = titlePL8;
					updateother["repeating_otheractions_" + currentID + "_pl9"] = usePL9;
					updateother["repeating_otheractions_" + currentID + "_pl9_title"] = titlePL9;
        			setAttrs(updateother);
                });
            });
         }
        });    
	};

	// Function for calculating rolls for Legendary Items
    on("change:repeating_legendary:dice_roll_d20 change:repeating_legendary:dice_modifier change:repeating_legendary:use_destructive_trance change:repeating_legendary:default_advantage", function() {
        getAttrs(["repeating_legendary_dice_roll_d20", "repeating_legendary_dice_modifier", "repeating_legendary_use_destructive_trance", "repeating_legendary_default_advantage"], function(values) {
            var score = values.repeating_legendary_dice_modifier*1;
            var number = 0;
            var type = "";
			var destructive = "";
			var destructive20 = "";
            if(isNaN(values.repeating_legendary_dice_modifier)) {
                setAttrs({  "repeating_legendary_dice_modifier": 0    });
            } else {
                switch(score) {
                    case 1:
                        number = 1;
                        type = "d4!!";
						destructive = ">3";
                        break;
                    case 2:
                        number = 1;
                        type = "d6!!";
						destructive = ">5";
                        break;
                    case 3:
                        number = 1;
                        type = "d8!!";
						destructive = ">7";
                        break;
                    case 4:
                        number = 1;
                        type = "d10!!";
						destructive = ">9";
                        break;
                    case 5:
                        number = 2;
                        type = "d6!!";
						destructive = ">5";
                        break;
                    case 6:
                        number = 2;
                        type = "d8!!";
						destructive = ">7";
                        break;
                    case 7:
                        number = 2;
                        type = "d10!!";
						destructive = ">9";
                        break;
                    case 8:
                        number = 3;
                        type = "d8!!";
						destructive = ">7";
                        break;
                    case 9:
                        number = 3;
                        type = "d10!!";
						destructive = ">9";
                        break;
                    case 10:
                        number = 4;
                        type = "d8!!";
						destructive = ">7";
                        break;
                    default:
                        number = 0;
                        type = "";
						destructive = "";
                }
            }
			if(values.repeating_legendary_use_destructive_trance === "Yes") {
				destructive20 = ">19";
			} else {
				destructive = "";
			}
    		var roll = "[[" + values.repeating_legendary_dice_roll_d20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.repeating_legendary_default_advantage*1 + "}]]" + type + destructive + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,h|Disadvantage,l}" + number + "]]";
            setAttrs({
				"repeating_legendary_attribute_score": number,
                "repeating_legendary_dice_roll": roll
            });
        });
    });
		
	// On Change for Use Power Level in Legendary Items
    on("change:repeating_legendary:use_power_level change:repeating_legendary:power_level change:repeating_legendary:power_levelmax", function() {
        getAttrs(["repeating_legendary_use_power_level", "repeating_legendary_power_level", "repeating_legendary_power_levelmax"], function(values) {
            if(values.repeating_legendary_use_power_level === "Yes") {
                setAttrs({
                    "repeating_legendary_power_target": "[[10 + " + values.repeating_legendary_power_level*2 + "]]",
                    "repeating_legendary_power_targetmax": "[[10 + " + values.repeating_legendary_power_levelmax*2 + "]]"
                });
            } else {
               setAttrs({
                    "repeating_legendary_power_target": ""
                });
            }
        });
    });		

    // On Change for d20 of legendary actions
    on("change:repeating_legendary:select_dice_d20 change:repeating_legendary:use_destructive_trance", function() {
        getAttrs(["repeating_legendary_select_dice_d20", "repeating_legendary_use_destructive_trance"], function(values) {
			var destructive = "";
			if(values.repeating_legendary_use_destructive_trance === "Yes") {
				destructive = ">19";
			}
            switch(values.repeating_legendary_select_dice_d20) {
                case "Normal":
                    setAttrs({  "repeating_legendary_dice_roll_d20": "1d20!!" + destructive });
                    break;
                case "Advantage":
                    setAttrs({  "repeating_legendary_dice_roll_d20": "2d20!!" + destructive + "kh1" });
                    break;
                case "Disadvantage":
                    setAttrs({  "repeating_legendary_dice_roll_d20": "2d20!!" + destructive + "kl1" });
                    break;
                default:
                    setAttrs({  "repeating_legendary_dice_roll_d20": "1d20!!" + destructive });
            }
        });
    });

	// On Change for calculating rolls for Actions
    on("change:repeating_actions:tab_action change:repeating_actions:effect_dice_number change:repeating_actions:effect_dice_type change:repeating_actions:action_attribute change:repeating_actions:dice_modifier change:repeating_actions:use_destructive_trance change:repeating_actions:default_advantage change:repeating_actions:use_power_level_1 change:repeating_actions:action_pl1 change:repeating_actions:use_power_level_2 change:repeating_actions:action_pl2 change:repeating_actions:use_power_level_3 change:repeating_actions:action_pl3 change:repeating_actions:use_power_level_4 change:repeating_actions:action_pl4 change:repeating_actions:use_power_level_5 change:repeating_actions:action_pl5 change:repeating_actions:use_power_level_6 change:repeating_actions:action_pl6 change:repeating_actions:use_power_level_7 change:repeating_actions:action_pl7 change:repeating_actions:use_power_level_8 change:repeating_actions:action_pl8 change:repeating_actions:use_power_level_9 change:repeating_actions:action_pl9 change:agility_score change:agility_dice_modifier change:fortitude_score change:fortitude_dice_modifier change:might_score change:might_dice_modifier change:learning_score change:learning_dice_modifier change:logic_score change:logic_dice_modifier change:perception_score change:perception_dice_modifier change:will_score change:will_dice_modifier change:deception_score change:deception_dice_modifier change:persuasion_score change:persuasion_dice_modifier change:presence_score change:presence_dice_modifier change:alteration_score change:alteration_dice_modifier change:creation_score change:creation_dice_modifier change:energy_score change:energy_dice_modifier change:entropy_score change:entropy_dice_modifier change:influence_score change:influence_dice_modifier change:movement_score change:movement_dice_modifier change:prescience_score change:prescience_dice_modifier change:protection_score change:protection_dice_modifier", function() {
        getAttrs(["repeating_actions_effect_dice_number", "repeating_actions_effect_dice_type", "repeating_actions_tab_action", "repeating_actions_action_attribute", "repeating_actions_dice_modifier", "repeating_actions_use_destructive_trance", "repeating_actions_default_advantage", "repeating_actions_use_power_level_1", "repeating_actions_action_pl1", "repeating_actions_use_power_level_2", "repeating_actions_action_pl2", "repeating_actions_use_power_level_3", "repeating_actions_action_pl3", "repeating_actions_use_power_level_4", "repeating_actions_action_pl4", "repeating_actions_use_power_level_5", "repeating_actions_action_pl5", "repeating_actions_use_power_level_6", "repeating_actions_action_pl6", "repeating_actions_use_power_level_7", "repeating_actions_action_pl7", "repeating_actions_use_power_level_8", "repeating_actions_action_pl8", "repeating_actions_use_power_level_9", "repeating_actions_action_pl9", "agility_score", "agility_dice_modifier", "fortitude_score", "fortitude_dice_modifier", "might_score", "might_dice_modifier", "learning_score", "learning_dice_modifier", "logic_score", "logic_dice_modifier", "perception_score", "perception_dice_modifier", "will_score", "will_dice_modifier", "deception_score", "deception_dice_modifier", "persuasion_score", "persuasion_dice_modifier", "presence_score", "presence_dice_modifier", "alteration_score", "alteration_dice_modifier", "creation_score", "creation_dice_modifier", "energy_score", "energy_dice_modifier", "entropy_score", "entropy_dice_modifier", "influence_score", "influence_dice_modifier", "movement_score", "movement_dice_modifier", "prescience_score", "prescience_dice_modifier", "protection_score", "protection_dice_modifier"], function(values) {
            var score = 0;
			var displayScore = 0;
            if(values.repeating_actions_action_attribute === "Agility") {
                score = values.agility_score*1 + values.agility_dice_modifier*1;
                displayScore = values.agility_score*1;
            } else if(values.repeating_actions_action_attribute === "Fortitude") {
                score = values.fortitude_score*1 + values.fortitude_dice_modifier*1;
                displayScore = values.fortitude_score*1;
            } else if(values.repeating_actions_action_attribute === "Might") {
                score = values.might_score*1 + values.might_dice_modifier*1;
                displayScore = values.might_score*1;
            } else if(values.repeating_actions_action_attribute === "Learning") {
                score = values.learning_score*1 + values.learning_dice_modifier*1;
                displayScore = values.learning_score*1;
            } else if(values.repeating_actions_action_attribute === "Logic") {
                score = values.logic_score*1 + values.logic_dice_modifier*1;
                displayScore = values.logic_score*1;
            } else if(values.repeating_actions_action_attribute === "Perception") {
                score = values.perception_score*1 + values.perception_dice_modifier*1;
                displayScore = values.perception_score*1;
            } else if(values.repeating_actions_action_attribute === "Will") {
                score = values.will_score*1 + values.will_dice_modifier*1;
                displayScore = values.will_score*1;
            } else if(values.repeating_actions_action_attribute === "Deception") {
                score = values.deception_score*1 + values.deception_dice_modifier*1;
                displayScore = values.deception_score*1;
            } else if(values.repeating_actions_action_attribute === "Persuasion") {
                score = values.persuasion_score*1 + values.persuasion_dice_modifier*1;
                displayScore = values.persuasion_score*1;
            } else if(values.repeating_actions_action_attribute === "Presence") {
                score = values.presence_score*1 + values.presence_dice_modifier*1;
                displayScore = values.presence_score*1;
            } else if(values.repeating_actions_action_attribute === "Alteration") {
                score = values.alteration_score*1 + values.alteration_dice_modifier*1;
                displayScore = values.alteration_score*1;
            } else if(values.repeating_actions_action_attribute === "Creation") {
                score = values.creation_score*1 + values.creation_dice_modifier*1;
                displayScore = values.creation_score*1;
            } else if(values.repeating_actions_action_attribute === "Energy") {
                score = values.energy_score*1 + values.energy_dice_modifier*1;
                displayScore = values.energy_score*1;
            } else if(values.repeating_actions_action_attribute === "Entropy") {
                score = values.entropy_score*1 + values.entropy_dice_modifier*1;
                displayScore = values.entropy_score*1;
            } else if(values.repeating_actions_action_attribute === "Influence") {
                score = values.influence_score*1 + values.influence_dice_modifier*1;
                displayScore = values.influence_score*1;
            } else if(values.repeating_actions_action_attribute === "Movement") {
                score = values.movement_score*1 + values.movement_dice_modifier*1;
                displayScore = values.movement_score*1;
            } else if(values.repeating_actions_action_attribute === "Prescience") {
                score = values.prescience_score*1 + values.prescience_dice_modifier*1;
                displayScore = values.prescience_score*1;
            } else if(values.repeating_actions_action_attribute === "Protection") {
                score = values.protection_score*1 + values.protection_dice_modifier*1;
                displayScore = values.protection_score*1;
            }
            if(isNaN(values.repeating_actions_dice_modifier)) {
                setAttrs({  "repeating_actions_dice_modifier": 0    });
            } else {
                score = score*1 + values.repeating_actions_dice_modifier*1;
            }
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
			var destructive = "";
			var destructive20 = "";
			var blank = "";
            var powerLevelLow = 0;
            var powerLevelHigh = 0;
    // Start high and end low to determine the lowest Power Level to use for the given Boon
            if(values.repeating_actions_use_power_level_9 === "1") {    powerLevelLow = 9; }
            if(values.repeating_actions_use_power_level_8 === "1") {    powerLevelLow = 8; }
            if(values.repeating_actions_use_power_level_7 === "1") {    powerLevelLow = 7; }
            if(values.repeating_actions_use_power_level_6 === "1") {    powerLevelLow = 6; }
            if(values.repeating_actions_use_power_level_5 === "1") {    powerLevelLow = 5; }
            if(values.repeating_actions_use_power_level_4 === "1") {    powerLevelLow = 4; }
            if(values.repeating_actions_use_power_level_3 === "1") {    powerLevelLow = 3; }
            if(values.repeating_actions_use_power_level_2 === "1") {    powerLevelLow = 2; }
            if(values.repeating_actions_use_power_level_1 === "1") {    powerLevelLow = 1; }
    // Start low and end high to determine the highest Power Level to use for the given Boon
            if(values.repeating_actions_use_power_level_1 === "1") {    powerLevelHigh = 1; }
            if(values.repeating_actions_use_power_level_2 === "1") {    powerLevelHigh = 2; }
            if(values.repeating_actions_use_power_level_3 === "1") {    powerLevelHigh = 3; }
            if(values.repeating_actions_use_power_level_4 === "1") {    powerLevelHigh = 4; }
            if(values.repeating_actions_use_power_level_5 === "1") {    powerLevelHigh = 5; }
            if(values.repeating_actions_use_power_level_6 === "1") {    powerLevelHigh = 6; }
            if(values.repeating_actions_use_power_level_7 === "1") {    powerLevelHigh = 7; }
            if(values.repeating_actions_use_power_level_8 === "1") {    powerLevelHigh = 8; }
            if(values.repeating_actions_use_power_level_9 === "1") {    powerLevelHigh = 9; }
    // Assign only the Power Levels that exists across ones that don't exist for display vs roll in roll template
            var usePL1 = "";
            var titlePL1 = "";
            var usePL2 = "";
            var titlePL2 = "";
            var usePL3 = "";
            var titlePL3 = "";
            var usePL4 = "";
            var titlePL4 = "";
            var usePL5 = "";
            var titlePL5 = "";
            var usePL6 = "";
            var titlePL6 = "";
            var usePL7 = "";
            var titlePL7 = "";
            var usePL8 = "";
            var titlePL8 = "";
            var usePL9 = "";
            var titlePL9 = "";
            if(values.repeating_actions_use_power_level_1 === "1" && displayScore > 0) {
                usePL1 = values.repeating_actions_action_pl1;
                titlePL1 = "Power Level 1 Info";
            } else {
                usePL1 = "";
                titlePL1 = "";
            }
            if(values.repeating_actions_use_power_level_2 === "1" && displayScore > 1) {
                usePL2 = values.repeating_actions_action_pl2;
                titlePL2 = "Power Level 2 Info";
            } else {
                usePL2 = usePL1;
                titlePL2 = titlePL1;
            }
            if(values.repeating_actions_use_power_level_3 === "1" && displayScore > 2) {
                usePL3 = values.repeating_actions_action_pl3;
                titlePL3 = "Power Level 3 Info";
            } else {
                usePL3 = usePL2;
                titlePL3 = titlePL2;
            }
            if(values.repeating_actions_use_power_level_4 === "1" && displayScore > 3) {
                usePL4 = values.repeating_actions_action_pl4;
                titlePL4 = "Power Level 4 Info";
            } else {
                usePL4 = usePL3;
                titlePL4 = titlePL3;
            }
            if(values.repeating_actions_use_power_level_5 === "1" && displayScore > 4) {
                usePL5 = values.repeating_actions_action_pl5;
                titlePL5 = "Power Level 5 Info";
            } else {
                usePL5 = usePL4;
                titlePL5 = titlePL4;
            }
            if(values.repeating_actions_use_power_level_6 === "1" && displayScore > 5) {
                usePL6 = values.repeating_actions_action_pl6;
                titlePL6 = "Power Level 6 Info";
            } else {
                usePL6 = usePL5;
                titlePL6 = titlePL5;
            }
            if(values.repeating_actions_use_power_level_7 === "1" && displayScore > 6) {
                usePL7 = values.repeating_actions_action_pl7;
                titlePL7 = "Power Level 7 Info";
            } else {
                usePL7 = usePL6;
                titlePL7 = titlePL6;
            }
            if(values.repeating_actions_use_power_level_8 === "1" && displayScore > 7) {
                usePL8 = values.repeating_actions_action_pl8;
                titlePL8 = "Power Level 8 Info";
            } else {
                usePL8 = usePL7;
                titlePL8 = titlePL7;
            }
            if(values.repeating_actions_use_power_level_9 === "1" && displayScore > 8) {
                usePL9 = values.repeating_actions_action_pl9;
                titlePL9 = "Power Level 9 Info";
            } else {
                usePL9 = usePL8;
                titlePL9 = titlePL8;
            }
            

			if(values.repeating_actions_use_destructive_trance === "Yes") {
				destructive = calcAttributeDiceDestructive(score);
				destructive20 = ">19";
			}
			var roll = "";
            if(values.repeating_actions_tab_action === "effect") {
                roll = "{{roll=[[" + values.repeating_actions_effect_dice_number + values.repeating_actions_effect_dice_type + "]]}}";
            } else {
    			if(score === 0) {
    				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!" + destructive20 + "|Advantage,2d20!!" + destructive20 + "kh1|Disadvantage,2d20!!" + destructive20 + "kl1}]]}}";
    			} else {
    				roll = "{{roll=[[1d20!!" + destructive20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.repeating_actions_default_advantage*1 + "}]]" + type + destructive + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
    			}
            }

            setAttrs({
				"repeating_actions_attribute_score": displayScore,
                "repeating_actions_dice_roll": roll,
                "repeating_actions_power_level_low": powerLevelLow,
                "repeating_actions_power_level_high": powerLevelHigh,
                "repeating_actions_pl1": usePL1,
                "repeating_actions_pl1_title": titlePL1,
                "repeating_actions_pl2": usePL2,
                "repeating_actions_pl2_title": titlePL2,
                "repeating_actions_pl3": usePL3,
                "repeating_actions_pl3_title": titlePL3,
                "repeating_actions_pl4": usePL4,
                "repeating_actions_pl4_title": titlePL4,
                "repeating_actions_pl5": usePL5,
                "repeating_actions_pl5_title": titlePL5,
                "repeating_actions_pl6": usePL6,
                "repeating_actions_pl6_title": titlePL6,
                "repeating_actions_pl7": usePL7,
                "repeating_actions_pl7_title": titlePL7,
                "repeating_actions_pl8": usePL8,
                "repeating_actions_pl8_title": titlePL8,
                "repeating_actions_pl9": usePL9,
                "repeating_actions_pl9_title": titlePL9
            });
        });
    });

		// On Change for calculating rolls for Other Actions
    on("change:repeating_otheractions:tab_action change:repeating_otheractions:effect_dice_number change:repeating_otheractions:effect_dice_type change:repeating_otheractions:action_attribute change:repeating_otheractions:dice_modifier change:repeating_otheractions:use_destructive_trance change:repeating_otheractions:default_advantage change:repeating_otheractions:use_power_level_1 change:repeating_otheractions:action_pl1 change:repeating_otheractions:use_power_level_2 change:repeating_otheractions:action_pl2 change:repeating_otheractions:use_power_level_3 change:repeating_otheractions:action_pl3 change:repeating_otheractions:use_power_level_4 change:repeating_otheractions:action_pl4 change:repeating_otheractions:use_power_level_5 change:repeating_otheractions:action_pl5 change:repeating_otheractions:use_power_level_6 change:repeating_otheractions:action_pl6 change:repeating_otheractions:use_power_level_7 change:repeating_otheractions:action_pl7 change:repeating_otheractions:use_power_level_8 change:repeating_otheractions:action_pl8 change:repeating_otheractions:use_power_level_9 change:repeating_otheractions:action_pl9 change:agility_score change:agility_dice_modifier change:fortitude_score change:fortitude_dice_modifier change:might_score change:might_dice_modifier change:learning_score change:learning_dice_modifier change:logic_score change:logic_dice_modifier change:perception_score change:perception_dice_modifier change:will_score change:will_dice_modifier change:deception_score change:deception_dice_modifier change:persuasion_score change:persuasion_dice_modifier change:presence_score change:presence_dice_modifier change:alteration_score change:alteration_dice_modifier change:creation_score change:creation_dice_modifier change:energy_score change:energy_dice_modifier change:entropy_score change:entropy_dice_modifier change:influence_score change:influence_dice_modifier change:movement_score change:movement_dice_modifier change:prescience_score change:prescience_dice_modifier change:protection_score change:protection_dice_modifier", function() {
        getAttrs(["repeating_otheractions_tab_action", "repeating_otheractions_effect_dice_number", "repeating_otheractions_effect_dice_type", "repeating_otheractions_action_attribute", "repeating_otheractions_dice_modifier", "repeating_otheractions_use_destructive_trance", "repeating_otheractions_default_advantage", "repeating_otheractions_use_power_level_1", "repeating_otheractions_action_pl1", "repeating_otheractions_use_power_level_2", "repeating_otheractions_action_pl2", "repeating_otheractions_use_power_level_3", "repeating_otheractions_action_pl3", "repeating_otheractions_use_power_level_4", "repeating_otheractions_action_pl4", "repeating_otheractions_use_power_level_5", "repeating_otheractions_action_pl5", "repeating_otheractions_use_power_level_6", "repeating_otheractions_action_pl6", "repeating_otheractions_use_power_level_7", "repeating_otheractions_action_pl7", "repeating_otheractions_use_power_level_8", "repeating_otheractions_action_pl8", "repeating_otheractions_use_power_level_9", "repeating_otheractions_action_pl9", "agility_score", "agility_dice_modifier", "fortitude_score", "fortitude_dice_modifier", "might_score", "might_dice_modifier", "learning_score", "learning_dice_modifier", "logic_score", "logic_dice_modifier", "perception_score", "perception_dice_modifier", "will_score", "will_dice_modifier", "deception_score", "deception_dice_modifier", "persuasion_score", "persuasion_dice_modifier", "presence_score", "presence_dice_modifier", "alteration_score", "alteration_dice_modifier", "creation_score", "creation_dice_modifier", "energy_score", "energy_dice_modifier", "entropy_score", "entropy_dice_modifier", "influence_score", "influence_dice_modifier", "movement_score", "movement_dice_modifier", "prescience_score", "prescience_dice_modifier", "protection_score", "protection_dice_modifier"], function(values) {
            var score = 0;
			var displayScore = 0;
            if(values.repeating_otheractions_action_attribute === "Agility") {
                score = values.agility_score*1 + values.agility_dice_modifier*1;
                displayScore = values.agility_score*1;
            } else if(values.repeating_otheractions_action_attribute === "Fortitude") {
                score = values.fortitude_score*1 + values.fortitude_dice_modifier*1;
                displayScore = values.fortitude_score*1;
            } else if(values.repeating_otheractions_action_attribute === "Might") {
                score = values.might_score*1 + values.might_dice_modifier*1;
                displayScore = values.might_score*1;
            } else if(values.repeating_otheractions_action_attribute === "Learning") {
                score = values.learning_score*1 + values.learning_dice_modifier*1;
                displayScore = values.learning_score*1;
            } else if(values.repeating_otheractions_action_attribute === "Logic") {
                score = values.logic_score*1 + values.logic_dice_modifier*1;
                displayScore = values.logic_score*1;
            } else if(values.repeating_otheractions_action_attribute === "Perception") {
                score = values.perception_score*1 + values.perception_dice_modifier*1;
                displayScore = values.perception_score*1;
            } else if(values.repeating_otheractions_action_attribute === "Will") {
                score = values.will_score*1 + values.will_dice_modifier*1;
                displayScore = values.will_score*1;
            } else if(values.repeating_otheractions_action_attribute === "Deception") {
                score = values.deception_score*1 + values.deception_dice_modifier*1;
                displayScore = values.deception_score*1;
            } else if(values.repeating_otheractions_action_attribute === "Persuasion") {
                score = values.persuasion_score*1 + values.persuasion_dice_modifier*1;
                displayScore = values.persuasion_score*1;
            } else if(values.repeating_otheractions_action_attribute === "Presence") {
                score = values.presence_score*1 + values.presence_dice_modifier*1;
                displayScore = values.presence_score*1;
            } else if(values.repeating_otheractions_action_attribute === "Alteration") {
                score = values.alteration_score*1 + values.alteration_dice_modifier*1;
                displayScore = values.alteration_score*1;
            } else if(values.repeating_otheractions_action_attribute === "Creation") {
                score = values.creation_score*1 + values.creation_dice_modifier*1;
                displayScore = values.creation_score*1;
            } else if(values.repeating_otheractions_action_attribute === "Energy") {
                score = values.energy_score*1 + values.energy_dice_modifier*1;
                displayScore = values.energy_score*1;
            } else if(values.repeating_otheractions_action_attribute === "Entropy") {
                score = values.entropy_score*1 + values.entropy_dice_modifier*1;
                displayScore = values.entropy_score*1;
            } else if(values.repeating_otheractions_action_attribute === "Influence") {
                score = values.influence_score*1 + values.influence_dice_modifier*1;
                displayScore = values.influence_score*1;
            } else if(values.repeating_otheractions_action_attribute === "Movement") {
                score = values.movement_score*1 + values.movement_dice_modifier*1;
                displayScore = values.movement_score*1;
            } else if(values.repeating_otheractions_action_attribute === "Prescience") {
                score = values.prescience_score*1 + values.prescience_dice_modifier*1;
                displayScore = values.prescience_score*1;
            } else if(values.repeating_otheractions_action_attribute === "Protection") {
                score = values.protection_score*1 + values.protection_dice_modifier*1;
                displayScore = values.protection_score*1;
            }
            if(isNaN(values.repeating_otheractions_dice_modifier)) {
                setAttrs({  "repeating_otheractions_dice_modifier": 0    });
            } else {
                score = score*1 + values.repeating_otheractions_dice_modifier*1;
            }
            var number = calcAttributeDiceNumber(score);
            var type = calcAttributeDiceType(score);
			var destructive = "";
			var destructive20 = "";
            var powerLevelLow = 0;
            var powerLevelHigh = 0;
    // Start high and end low to determine the lowest Power Level to use for the given Boon
            if(values.repeating_otheractions_use_power_level_9 === "1") {    powerLevelLow = 9; }
            if(values.repeating_otheractions_use_power_level_8 === "1") {    powerLevelLow = 8; }
            if(values.repeating_otheractions_use_power_level_7 === "1") {    powerLevelLow = 7; }
            if(values.repeating_otheractions_use_power_level_6 === "1") {    powerLevelLow = 6; }
            if(values.repeating_otheractions_use_power_level_5 === "1") {    powerLevelLow = 5; }
            if(values.repeating_otheractions_use_power_level_4 === "1") {    powerLevelLow = 4; }
            if(values.repeating_otheractions_use_power_level_3 === "1") {    powerLevelLow = 3; }
            if(values.repeating_otheractions_use_power_level_2 === "1") {    powerLevelLow = 2; }
            if(values.repeating_otheractions_use_power_level_1 === "1") {    powerLevelLow = 1; }
    // Start low and end high to determine the highest Power Level to use for the given Boon
            if(values.repeating_otheractions_use_power_level_1 === "1") {    powerLevelHigh = 1; }
            if(values.repeating_otheractions_use_power_level_2 === "1") {    powerLevelHigh = 2; }
            if(values.repeating_otheractions_use_power_level_3 === "1") {    powerLevelHigh = 3; }
            if(values.repeating_otheractions_use_power_level_4 === "1") {    powerLevelHigh = 4; }
            if(values.repeating_otheractions_use_power_level_5 === "1") {    powerLevelHigh = 5; }
            if(values.repeating_otheractions_use_power_level_6 === "1") {    powerLevelHigh = 6; }
            if(values.repeating_otheractions_use_power_level_7 === "1") {    powerLevelHigh = 7; }
            if(values.repeating_otheractions_use_power_level_8 === "1") {    powerLevelHigh = 8; }
            if(values.repeating_otheractions_use_power_level_9 === "1") {    powerLevelHigh = 9; }
    // Assign only the Power Levels that exists across ones that don't exist for display vs roll in roll template
            var usePL1 = "";
            var titlePL1 = "";
            var usePL2 = "";
            var titlePL2 = "";
            var usePL3 = "";
            var titlePL3 = "";
            var usePL4 = "";
            var titlePL4 = "";
            var usePL5 = "";
            var titlePL5 = "";
            var usePL6 = "";
            var titlePL6 = "";
            var usePL7 = "";
            var titlePL7 = "";
            var usePL8 = "";
            var titlePL8 = "";
            var usePL9 = "";
            var titlePL9 = "";
            if(values.repeating_otheractions_use_power_level_1 === "1" && displayScore > 0) {
                usePL1 = values.repeating_otheractions_action_pl1;
                titlePL1 = "Power Level 1 Info";
            } else {
                usePL1 = "";
                titlePL1 = "";
            }
            if(values.repeating_otheractions_use_power_level_2 === "1" && displayScore > 1) {
                usePL2 = values.repeating_otheractions_action_pl2;
                titlePL2 = "Power Level 2 Info";
            } else {
                usePL2 = usePL1;
                titlePL2 = titlePL1;
            }
            if(values.repeating_otheractions_use_power_level_3 === "1" && displayScore > 2) {
                usePL3 = values.repeating_otheractions_action_pl3;
                titlePL3 = "Power Level 3 Info";
            } else {
                usePL3 = usePL2;
                titlePL3 = titlePL2;
            }
            if(values.repeating_otheractions_use_power_level_4 === "1" && displayScore > 3) {
                usePL4 = values.repeating_otheractions_action_pl4;
                titlePL4 = "Power Level 4 Info";
            } else {
                usePL4 = usePL3;
                titlePL4 = titlePL3;
            }
            if(values.repeating_otheractions_use_power_level_5 === "1" && displayScore > 4) {
                usePL5 = values.repeating_otheractions_action_pl5;
                titlePL5 = "Power Level 5 Info";
            } else {
                usePL5 = usePL4;
                titlePL5 = titlePL4;
            }
            if(values.repeating_otheractions_use_power_level_6 === "1" && displayScore > 5) {
                usePL6 = values.repeating_otheractions_action_pl6;
                titlePL6 = "Power Level 6 Info";
            } else {
                usePL6 = usePL5;
                titlePL6 = titlePL5;
            }
            if(values.repeating_otheractions_use_power_level_7 === "1" && displayScore > 6) {
                usePL7 = values.repeating_otheractions_action_pl7;
                titlePL7 = "Power Level 7 Info";
            } else {
                usePL7 = usePL6;
                titlePL7 = titlePL6;
            }
            if(values.repeating_otheractions_use_power_level_8 === "1" && displayScore > 7) {
                usePL8 = values.repeating_otheractions_action_pl8;
                titlePL8 = "Power Level 8 Info";
            } else {
                usePL8 = usePL7;
                titlePL8 = titlePL7;
            }
            if(values.repeating_otheractions_use_power_level_9 === "1" && displayScore > 8) {
                usePL9 = values.repeating_otheractions_action_pl9;
                titlePL9 = "Power Level 9 Info";
            } else {
                usePL9 = usePL8;
                titlePL9 = titlePL8;
            }
            
            if(values.repeating_otheractions_use_destructive_trance === "Yes") {
				destructive = calcAttributeDiceDestructive(score);
				destructive20 = ">19";
			}
			var roll = "";
            if(values.repeating_otheractions_tab_action === "effect") {
                roll = "{{roll=[[" + values.repeating_otheractions_effect_dice_number + values.repeating_otheractions_effect_dice_type + "]]}}";
            } else {
    			if(score === 0) {
    				roll = "{{roll=[[?{Do you have Advantage or Disadvantage?|Neither,1d20!!" + destructive20 + "|Advantage,2d20!!" + destructive20 + "kh1|Disadvantage,2d20!!" + destructive20 + "kl1}]]}}";
    			} else {
    				roll = "{{roll=[[1d20!!" + destructive20 + " + [[" + number + "+?{# of Advantage/Disadvantage Dice|" + values.repeating_otheractions_default_advantage*1 + "}]]" + type + destructive + "k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[" + number + "]]|Disadvantage,l[[" + number + "]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}";
    			}
            }
            setAttrs({
                "repeating_otheractions_attribute_score": displayScore,
                "repeating_otheractions_dice_roll": roll,
                "repeating_otheractions_power_level_low": powerLevelLow,
                "repeating_otheractions_power_level_high": powerLevelHigh,
                "repeating_otheractions_pl1": usePL1,
                "repeating_otheractions_pl1_title": titlePL1,
                "repeating_otheractions_pl2": usePL2,
                "repeating_otheractions_pl2_title": titlePL2,
                "repeating_otheractions_pl3": usePL3,
                "repeating_otheractions_pl3_title": titlePL3,
                "repeating_otheractions_pl4": usePL4,
                "repeating_otheractions_pl4_title": titlePL4,
                "repeating_otheractions_pl5": usePL5,
                "repeating_otheractions_pl5_title": titlePL5,
                "repeating_otheractions_pl6": usePL6,
                "repeating_otheractions_pl6_title": titlePL6,
                "repeating_otheractions_pl7": usePL7,
                "repeating_otheractions_pl7_title": titlePL7,
                "repeating_otheractions_pl8": usePL8,
                "repeating_otheractions_pl8_title": titlePL8,
                "repeating_otheractions_pl9": usePL9,
                "repeating_otheractions_pl9_title": titlePL9
            });
        });
    });
    
// Calculate the total of Feat Points spent
on("change:repeating_featsLeft", function() {
	var featCost = 0;
	getSectionIDs("repeating_featsLeft", function(featsArray) {
		if(featsArray.length > 0) {
			var names = _.map(featsArray, function(currentID) {
				return 'repeating_featsLeft_'+currentID+'_feat_left_cost';
			});
			getAttrs(names,function(v){
				var sum = _.reduce(v,function(m,a){
					return m+parseInt(a,10);
				},0);
				setAttrs({
					"featLeft_points_spent": sum
				});
			});
		}
	});
 });	
</script>
<!-- End Worker Scripts -->
<!-- Main body of Character Sheet -->
<div class="container">     <!-- defines the width/height & behavior of the page -->
    <input type="hidden" name="attr_template_border" value="Normal" />
    <input type="hidden" class="display_sheet_type" name="attr_display_sheet_type" value="character" />
    <input type="hidden" name="attr_h" value="Advantage" />
    <input type="hidden" name="attr_l" value="Disadvantage" />
    <input class="tab-chat public" type="radio" name="attr_tab_chat" checked="checked" value=""><div>Public</div>
    <input class="tab-chat gm" type="radio" name="attr_tab_chat" value="/w GM"><div>To GM</div>
    <div class="displaySheetCharacter column padAll vertMiddle bold textLarge borderBottom">Primary Character</div>
    <div class="displaySheetAltForm1 column padAll vertMiddle bold textLarge borderBottom">Alternate Form Tier 1</div>
    <div class="displaySheetAltForm2 column padAll vertMiddle bold textLarge borderBottom">Alternate Form Tier 2</div>
    <div class="displaySheetCompanion1 column padAll vertMiddle bold textLarge borderBottom">Companion Tier 1</div>
    <div class="displaySheetCompanion2 column padAll vertMiddle bold textLarge borderBottom">Companion Tier 2</div>
    <div class="displaySheetCompanion3 column padAll vertMiddle bold textLarge borderBottom">Companion Tier 3</div>
    <div class="displaySheetNPC column padAll vertMiddle bold textLarge borderBottom">NPC/Summon</div>
    <input class="tab-sheet main" type="radio" name="attr_tab_sheet" checked="checked" value="main"><div>Main</div>
    <input class="tab-sheet background" type="radio" name="attr_tab_sheet" value="background"><div>Background</div>
    <input class="tab-sheet options" type="radio" name="attr_tab_sheet" value="options"><div>Options</div>
    <div class="inlineBlock vertBottom" style="width: 110px;">      <!-- Right Third of 2/3 rows for info (Open Legend Logo) -->
        <div class="column width100 textCenter vertBottom"><img src="https://github.com/Roll20/roll20-character-sheets/blob/master/Open%20Legend/open_legend_lg_logo.png?raw=true" alt="Open Legend Open source roleplaying game" /></div>
    </div>
    <div class="column textSmall inlineBlock padLeft vertMiddle bold">Version 1.9.9</div>
    <div class="row width100 padBottom"></div>
<!-- Sheet Options, Change Logs, and Links -->
    <div class="option-main options width100 padTop marginTop">
        <div class="row">
            <div class="column width20 inlineBlock bold vertBottom">Type of Character Sheet: </div>
            <div class="column width20 inlineBlock inputSelect">
                <select name="attr_display_sheet_type">
                    <optgroup label=""></optgroup>
                        <option value="character" selected="selected">Primary Character</option>
                        <option value="npc">NPC or Summon</option>
                    <optgroup label=""></optgroup>
                        <option value="alt form 1">Alternate Form Tier 1</option>
                        <option value="alt form 2">Alternate Form Tier 2</option>
                    <optgroup label=""></optgroup>
                        <option value="companion 1">Companion Tier 1</option>
                        <option value="companion 2">Companion Tier 2</option>
                        <option value="companion 3">Companion Tier 3</option>
                </select>
            </div>
            <div class="column width30 inlineBlock bold vertBottom">Theme of Game (Border choices): </div>
            <div class="column width20 inlineBlock inputSelect">
                <select name="attr_display_alternate_border">
                        <option value="fantasy" selected="selected">Fantasy: Scrolls</option>
                        <option value="on">Modern: Industrial</option>
                </select>
            </div>
        </div>
        <div class="borderAllDotted borderRound marginTop marginBottom marginRight marginLeft red">
        <div class="row">
            <div class="column width90 inlineBlock textSmall bold">This section to be removed soon when other sections updated.</div>
        </div>
        <div class="row width100">
            <div class="column sliders inlineBlock textSmall bold">Character Info</div>
            <div class="column sliders inlineBlock textSmall bold">Goals & Beliefs</div>
            <div class="column sliders inlineBlock textSmall bold">Attributes</div>
            <div class="column sliders inlineBlock textSmall bold">Defenses</div>
            <div class="column sliders inlineBlock textSmall bold">Health & Speed</div>
    <!-- remove this line to add Sanity back in (and corresponding 2 other areas)
            <div class="column sliders inlineBlock textSmall bold">Sanity</div>
    remove this line to add Sanity back in (and corresponding 2 other areas) -->
            <div class="column sliders inlineBlock textSmall bold">Favored Actions</div>
            <div class="column sliders inlineBlock textSmall bold">Other Actions</div>
            <div class="column sliders inlineBlock textSmall bold">Legendary Items</div>
            <div class="column sliders inlineBlock textSmall bold">Feats, Perks & Flaws</div>
            <div class="column sliders inlineBlock textSmall bold">Inventory</div>
            <div class="column sliders inlineBlock textSmall bold">Other Inv/Notes</div>
            <div class="column sliders inlineBlock textSmall bold">Borders</div>
        </div>
        <div class="row width100">
            <div class="column sliders inlineBlock">
                <div class="checkboxSlider"><input type="checkbox" class="checkboxSliderInvis" name="attr_output_character" checked="checked" value="on" /><label></label></div>   
            </div>
            <div class="column sliders inlineBlock">
                <div class="checkboxSlider"><input type="checkbox" class="checkboxSliderInvis" name="attr_output_goalsbeliefs" checked="checked" value="on" /><label></label></div>   
            </div>
            <div class="column sliders inlineBlock">
                <div class="checkboxSlider"><input type="checkbox" class="checkboxSliderInvis" name="attr_output_attributes" checked="checked" value="on" /><label></label></div>   
            </div>
            <div class="column sliders inlineBlock">
                <div class="checkboxSlider"><input type="checkbox" class="checkboxSliderInvis" name="attr_output_defenses" checked="checked" value="on" /><label></label></div>   
            </div>
            <div class="column sliders inlineBlock">
                <div class="checkboxSlider"><input type="checkbox" class="checkboxSliderInvis" name="attr_output_healthspeed" checked="checked" value="on" /><label></label></div>   
            </div>
    <!-- remove this line to add Sanity back in (and corresponding 2 other areas)
            <div class="column sliders inlineBlock">
                <div class="checkboxSlider"><input type="checkbox" class="checkboxSliderInvis" name="attr_output_sanity" value="on" /><label></label></div>   
            </div>
     remove this line to add Sanity back in (and corresponding 2 other areas) -->
            <div class="column sliders inlineBlock">
                <div class="checkboxSlider"><input type="checkbox" class="checkboxSliderInvis" name="attr_output_favoredactions" checked="checked" value="on" /><label></label></div>   
            </div>
            <div class="column sliders inlineBlock">
                <div class="checkboxSlider"><input type="checkbox" class="checkboxSliderInvis" name="attr_output_otheractions" checked="checked" value="on" /><label></label></div>   
            </div>
            <div class="column sliders inlineBlock">
                <div class="checkboxSlider"><input type="checkbox" class="checkboxSliderInvis" name="attr_output_legendaryitems" value="on" /><label></label></div>   
            </div>
            <div class="column sliders inlineBlock">
                <div class="checkboxSlider"><input type="checkbox" class="checkboxSliderInvis" name="attr_output_feats" checked="checked" value="on" /><label></label></div>   
            </div>
            <div class="column sliders inlineBlock">
                <div class="checkboxSlider"><input type="checkbox" class="checkboxSliderInvis" name="attr_output_inventory" checked="checked" value="on" /><label></label></div>   
            </div>
            <div class="column sliders inlineBlock">
                <div class="checkboxSlider"><input type="checkbox" class="checkboxSliderInvis" name="attr_output_otherinventory" value="on" /><label></label></div>   
            </div>
            <div class="column sliders inlineBlock">
                <div class="checkboxSlider"><input type="checkbox" class="checkboxSliderInvis" name="attr_display_alternate_border" value="on" /><label></label></div>   
            </div>
        </div>
        </div>
        <div class="row">
            <div class="column textLargest bolder textshadow boxshadow">More Coming Soon</div>
            <div class="column">This is just the groundwork, stuff going on behind the scenes. Options like borders, Treat the sheet as: Alt Form/Companion/NPC, etc. If you would like to provide feedback or see more indepth updates, visit: https://community.openlegendrpg.com/t/roll20-character-sheet/162</div>
        </div>
        <div class="row">
            <div class="column textLargest bolder textshadow">Changelog</div>
            <div class="column">Below is the changelog of what has been going on with the Sheet so you can see exactly what has happened in latest updates.</div>
<!-- Make the Change Log scrollable so takes up less space
    Might end up just removing the changelog, not sure it is really needed here -->
            <div class="width100 height150 scroll">
                <div class="width90 inlineBlock boxShadow marginBottom marginTop">
                    <div class="column width100 textLarge bold borderBottom textLeft">1.9.9 on 2019 August 19th</div>
                    <div class="column width100 textLeft">Worker Scripts for Boon Actions</div>
                    <div class="column width100 textLeft padLeft">- Rare error when certain fields updated, did not reflect correctly for Roll Output to chat for boons</div>
                    <div class="column width100 textLeft padLeft">- Added commands to run Function that assigns Boon values to output</div>
                    <div class="column width100 textLeft">Target Selection for Attack added</div>
                    <div class="column width100 textLeft padLeft">- Drop down menu added "Attack (Defend Interrupt)" as an option for a targeted Defense</div>
                </div><div class="width90 inlineBlock boxShadow marginBottom marginTop">
                    <div class="column width100 textLarge bold borderBottom textLeft">1.9.8c on 2019 April 12th</div>
                    <div class="column width100 textLeft">Folder Rename</div>
                    <div class="column width100 textLeft padLeft">- Changing folder name in Roll20 github from "Open Legend Basic by Great Moustache" to "Open Legend"</div>
                    <div class="column width100 textLeft padLeft">- When I was a young pup in the game, didn't realize should have named folders better</div>
                    <div class="column width100 textLeft">Image Updates 2</div>
                    <div class="column width100 textLeft padLeft">- Updated all remaining links in preperation for Folder rename</div>
                </div><div class="width90 inlineBlock boxShadow marginBottom marginTop">
                    <div class="column width100 textLarge bold borderBottom textLeft">1.9.8b on 2018 April 6th</div>
                    <div class="column width100 textLeft">Image Updates</div>
                    <div class="column width100 textLeft padLeft">- Updated all link references to Roll20 Github</div>
                    <div class="column width100 textLeft padLeft">- Uploaded Open Legend Logo and background images for v2 of the sheet</div>
                </div><div class="width90 inlineBlock boxShadow marginBottom marginTop">
                    <div class="column width100 textLarge bold borderBottom textLeft">1.9.8a on 2018 July 6th</div>
                    <div class="column width100 textLeft">Quick fix of layout due to Roll20 Char-o-mancer update changing default padding/spacing for all charactersheets across the site</div>
                    <div class="column width100 textLeft padLeft">- Next update should be v2.0 of sheet with improved layout</div>
                </div><div class="width90 inlineBlock boxShadow marginBottom marginTop">
                    <div class="column width100 textLarge bold borderBottom textLeft">1.9.8 on 2018 May 31st</div>
                    <div class="column width100 textLeft">Default Advantage for NPCs on Primary attribute 1 & 3 fixed</div>
                    <div class="column width100 textLeft padLeft">- Was the same attribute name, fixed so each seperate</div>
                    <div class="column width100 textLeft">Legendary Item display on a new sheet creation by default fixed</div>
                    <div class="column width100 textLeft padLeft">- Toggled it to "hide" instead of "show"</div>
                </div><div class="width90 inlineBlock boxShadow marginBottom marginTop">
                    <div class="column width100 textLarge bold borderBottom textLeft">1.9.7 on 2018 May 27th</div>
                    <div class="column width100 textLeft">Made NPC initiative rolls go to the tracker</div>
                    <div class="column width100 textLeft padLeft">- Oops, not sure how I let that slip through</div>
                </div><div class="width90 inlineBlock boxShadow marginBottom marginTop">
                    <div class="column width100 textLarge bold borderBottom textLeft">1.9.6 on 2018 May 14th</div>
                    <div class="column width100 textLeft">Resist Rolls Update</div>
                    <div class="column width100 textLeft padLeft">- Made Resist Roll buttons next to Speed</div>
                    <div class="column width100 textLeft padLeft">- Updated look of Speed section on character sheet</div>
                </div><div class="width90 inlineBlock boxShadow marginBottom marginTop">
                    <div class="column width100 textLarge bold borderBottom textLeft">1.9.5 on 2018 May 11th</div>
                    <div class="column width100 textLeft">Sheet Type Selection added</div>
                    <div class="column width100 textLeft padLeft">- Pick between: Primary Character, NPC/Summons, Alt form Tier 1 or 2, Companion Tier 1, 2, or 3</div>
                    <div class="column width100 textLeft padLeft">- Changes the calculations for Attribute Points & Feat points based on what is selected</div>
                    <div class="column width100 textLeft padLeft">- Adds some entry fields were applicable</div>
                    <div class="column width100 textLeft padLeft">- For NPC, shows a completely different sheet for "Quick" build</div>
                </div><div class="width90 inlineBlock boxShadow marginBottom marginTop">
                    <div class="column width100 textLarge bold borderBottom textLeft">1.9.3 on 2018 May 10th</div>
                    <div class="column width100 textLeft">Fix for "Other Actions" section & Effects</div>
                    <div class="column width100 textLeft padLeft">- On Load function for Other Actions wasn't doign the Power Levels correctly</div>
                    <div class="column width100 textLeft padLeft">- Forgot to make Effects dice explode (all dice in OL explode!!)</div>
                </div><div class="width90 inlineBlock boxShadow marginBottom marginTop">
                    <div class="column width100 textLarge bold borderBottom textLeft">1.9.2 on 2018 May 8th</div>
                    <div class="column width100 textLeft">Added Whisper to GM option</div>
                    <div class="column width100 textLeft padLeft">- global button to make any roll you click on the sheet go to the GM</div>
                </div><div class="width90 inlineBlock boxShadow marginBottom marginTop">
                    <div class="column width100 textLarge bold borderBottom textLeft">1.9.1 on 2018 May 8th</div>
                    <div class="column width100 textLeft">Made Background Tab for the sheet</div>
                    <div class="column width100 textLeft padLeft">- Moved Character Info & Beliefs, Goals, Instincts Sections</div>
                    <div class="column width100 textLeft padLeft">- Added more data fields for the Character Info section</div>
                    <div class="column width100 textLeft">GUI Display at Top</div>
                    <div class="column width100 textLeft padLeft">- Added what type of sheet it is for future updates</div>
                    <div class="column width100 textLeft padLeft">- Moved OL logo up and smaller along with version</div>
                    <div class="column width100 textLeft padLeft">- Hidden groundwork for a tab button for whispering rolls to the GM</div>
                </div><div class="width90 inlineBlock boxShadow marginBottom marginTop">
                    <div class="column width100 textLarge bold borderBottom textLeft">1.9.0 on 2018 May 7th</div>
                    <div class="column width100 textLeft">Massive update to Favored & Other Actions sections</div>
                    <div class="column width100 textLeft padLeft">- Select if action is an Attack (Damaging or Bane), Boon, or Effect</div>
                    <div class="column width100 textLeft padLeft">- Effect isnt quite fully functional yet in that there is a pop-up that doesnt do anything, but will still roll the dice you choose</div>
                    <div class="column width100 textLeft">Backgrounds for the borders updated</div>
                    <div class="column width100 textLeft padLeft">- Also white background for things sent to chat</div>
                    <div class="column width100 textLeft">Prep work for NPC/Alt Form/Companion tabs</div>
                    <div class="column width100 textLeft padLeft">- Nothing functioning on the user side yet</div>
                    <div class="column width100 textLeft">Options Tab added</div>
                    <div class="column width100 textLeft padLeft">- Just information for now, functionality added in next update</div>
                </div>
            </div>
        </div>
    </div>
<!-- START Background Tab -->
    <div class="option-main background width100 padTop marginTop">
        <div class="row">
     <!-- section for basic Character information -->
            <input type="hidden" class="display_character_flag" name="attr_display_character_flag" value="show" />
            <input type="hidden" class="display_alternate_border_flag" name="attr_display_alternate_border_flag" value="hide" />
            <div class="column bold textLarge"><span style="font-family: pictos; font-size: 1.5em;">U</span> Character Information</div>
            <div class="row width100 marginBottom displayCharacter normalBorder">
                <div class="inlineBlock width1of3">      <!-- Left Third of 2/3 rows for info (Name & Player) -->
                    <div class="column width100 textCenter bold vertBottom">Character Name</div>
                    <div class="column width100 textCenter inputName"><input type="text" name="attr_character_name" /></div>
                </div>
                <div class="inlineBlock width1of3">      <!-- Left Third of 2/3 rows for info (Name & Player) -->
                    <div class="column width100 textCenter bold vertBottom">Player Name</div>
                    <div class="column width100 textCenter inputName"><input type="text" name="attr_player_name" /></div>
                </div>
                <div class="inlineBlock width1of3">      <!-- Middle Third of 2/3 rows for info (Archetype, Level, XP) -->
                    <div class="column width100 textCenter bold vertBottom">Archetype</div>
                    <div class="column width100 textCenter inputName"><input type="text" name="attr_archetype" /></div>
                </div>
                <div class="inlineBlock width1of3 padTop">      <!-- Middle Third of 2/3 rows for info (Archetype, Level, XP) -->
                    <div class="column width1of3 inlineBlock textCenter bold vertBottom">Age</div>
                    <div class="column width1of3 inlineBlock textCenter bold vertBottom">Height</div>
                    <div class="column width1of3 inlineBlock textCenter bold vertBottom">Weight</div>
                    <div class="column width1of3 inlineBlock textCenter inputName"><input type="text" name="attr_age" /></div>
                    <div class="column width1of3 inlineBlock textCenter inputName"><input type="text" name="attr_height" /></div>
                    <div class="column width1of3 inlineBlock textCenter inputName"><input type="text" name="attr_weight" /></div>
                </div>
                <div class="inlineBlock width1of3 padTop">      <!-- Middle Third of 2/3 rows for info (Archetype, Level, XP) -->
                    <div class="column width45 inlineBlock textCenter bold vertBottom">Gender</div>
                    <div class="column width45 inlineBlock textCenter bold vertBottom">Size</div>
                    <div class="column width45 inlineBlock textCenter inputName"><input type="text" name="attr_gender" /></div>
                    <div class="column width45 inlineBlock textCenter inputName"><input type="text" name="attr_size" /></div>
                </div>
                <div class="inlineBlock width1of3 padTop">      <!-- Middle Third of 2/3 rows for info (Archetype, Level, XP) -->
                    <div class="column width90 inlineBlock textCenter bold vertBottom">Heritage</div>
                    <div class="column width90 inlineBlock textCenter inputName"><input type="text" name="attr_ancestory" /></div>
                </div>
                <div class="width100">                   <!-- Bottom 1/3 of rows for Description of Character -->
                    <div class="column width100 textLeft bold vertBottom">Description</div>
                    <div class="row padBottom">
                        <div class="column width100 inlineBlock textCenter vertTop resizeVert"><textarea class="width100 height150" name="attr_description"></textarea></div>
                    </div>
                </div>
            </div>
     <!-- end of basic Character Information -->
     <!-- section for Goals and Beliefs information -->
            <input type="hidden" class="display_goalsbeliefs_flag" name="attr_display_goalsbeliefs_flag" value="show" />
            <div class="row marginBottom displayGoalsBeliefs">
                <div class="column bold textLarge"><span style="font-family: pictos; font-size: 1.5em;">p</span> Character's Goals, Beliefs, and Instincts</div>
                <div class="column italic">Use this section to give you ideas to help drive your character's actions.</div>
        <!-- How to Earn KP -->
                <div class="padBottom">
                    <div class="column third inlineBlock vertTop">
                        <div class="actionsTop padTop">
                            <div class="textCenter textLarger bold">Goals</div>
                            <div class="width90 textLarge italic textCenter inlineBlock">Include how you will know it has been accomplished.</div>
                        </div>
                        <div class="column actionsMiddle padTop">
                            <div class="height10"></div> <!-- Spacer -->
                            <fieldset class="repeating_goals">
                    			<div class="column width100 bold textSmall textCenter inventoryButton"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Goal}} {{subTitle= @{character_name}}} {{description= @{goal}}}">Send Goal to Chat</button></div>
                                <div class="column width100 resizeVert">
                                    <textarea class="height75 width85" name="attr_goal"></textarea>
                                </div>
                            </fieldset>
                        </div>
                        <div class="actionsBottom"></div>
                    </div>
                    <div class="column third inlineBlock vertTop">
                        <div class="actionsTop padTop">
                            <div class="textCenter textLarger bold">Beliefs</div>
                            <div class="width90 textLarge italic textCenter inlineBlock">What you believe AND what you will do about that!</div>
                        </div>
                        <div class="column actionsMiddle padTop">
                            <div class="height10"></div> <!-- Spacer -->
                            <fieldset class="repeating_beliefs">
                    			<div class="column width100 bold textSmall textCenter inventoryButton"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Belief}} {{subTitle= @{character_name}}} {{description= @{belief}}}">Send Belief to Chat</button></div>
                                <div class="column width100 resizeVert">
                                    <textarea class="height75 width85" name="attr_belief"></textarea>
                                </div>
                            </fieldset>
                        </div>
                        <div class="actionsBottom"></div>
                    </div>
                    <div class="column third inlineBlock vertTop">
                        <div class="actionsTop padTop">
                            <div class="textCenter textLarger bold">Instincts</div>
                            <div class="width90 textLarge italic textCenter inlineBlock">"If/Then", "Always", "Never" (usually tied to skills or gear)</div>
                        </div>
                        <div class="column actionsMiddle padTop">
                            <div class="height10"></div> <!-- Spacer -->
                            <fieldset class="repeating_instincts">
                    			<div class="column width100 bold textSmall textCenter inventoryButton"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Instinct}} {{subTitle= @{character_name}}} {{description= @{instinct}}}">Send Instinct to Chat</button></div>
                                <div class="column width100 resizeVert">
                                    <textarea class="height75 width85" name="attr_instinct"></textarea>
                                </div>
                            </fieldset>
                        </div>
                        <div class="actionsBottom"></div>
                    </div>
                </div>
            </div>
         <!-- end section for Goals and Beliefs information -->
        </div>
    </div>
<!-- END Background Tab -->
<!-- Character Sheet version for Main -->
    <div class="option-main main width100 padTop marginTop">
        <input type="hidden" class="display_sheet_type" name="attr_display_sheet_type" value="character" />
<!-- START NPC Tab -->
        <div class="displaySheetNPC width100">
            <div class="row">
                <div class="column width90 inlineBlock vertTop marginBottom boxShadow textLeft">
                    <span class="bold">Designed for NPC Quick Builds and Player Summons.</span> For a complex NPC build, use the regular (Primary) Character sheet.<br />
                    Dice will only update when you change the "Score" value. You can manual change the dice to another value b/c of items or other effects the NPC might have on them.<br />
                    Stats entered into the NPCs can be used on tokens, look for "npc1........" "npc2........." from the drop down.
                </div>
<!-- NPC #1 -->
    <!-- LEFT third of NPC 1 -->
                <div class="third inlineBlock vertTop">
                    <div class="column textCenter grey textLarger bold width95 marginCenter marginBottom smallCaps">NPC #1 Information</div>
                    <div class="column width15 inlineBlock textCenter bold vertBottom">Name</div>
                    <div class="column width85 inlineBlock textCenter inputName"><input type="text" name="attr_npc1_name" value="Name" /></div>
                    <div class="column width15 inlineBlock textCenter bold vertBottom">Level</div>
                    <div class="column width15 inlineBlock textCenter inputName"><input type="text" name="attr_npc1_level" value="1" /></div>
                    <div class="column width25 inlineBlock textCenter bold vertBottom">Archetype</div>
                    <div class="column width45 inlineBlock textCenter inputName"><input type="text" name="attr_npc1_archetype" /></div>
                    <div class="column width100 textLeft bold vertBottom">Description</div>
                    <div class="row padBottom">
                        <div class="column width100 textCenter vertTop resizeVert"><textarea class="width100 height50" name="attr_npc1_description"></textarea></div>
                    </div>
                    <div class="column width100 textLeft bold vertBottom inventoryButton"><button type="roll" name="roll_npc1_inventory" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc1_name}}} {{subTitle=Inventory}} {{description=@{npc1_inventory}}}">Treasure/Inventory</button></div>
                    <div class="row padBottom">
                        <div class="column width100 textCenter vertTop resizeVert"><textarea class="width100 height50" name="attr_npc1_inventory"></textarea></div>
                    </div>
                    <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps marginTop marginBottom">Speed</div>
                    <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc1_speed1_name" value="Ground" /></div>
                    <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_Npc1_speed1" value=30 /></div>
                    <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc1_speed2_name" value="Swim" /></div>
                    <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_npc1_speed2" value=15 /></div>
                    <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc1_speed3_name" value="Climb" /></div>
                    <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_npc1_speed3" value=15 /></div>
                    <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc1_speed4_name" value="Fly" /></div>
                    <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_npc1_speed4" value=0 /></div>
                </div>
    <!-- MIDDLE third of NPC 1 -->
                <div class="third inlineBlock vertTop">
                    <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps">Primary Attributes</div>
        <!-- TITLES -->
                    <div class="column inlineBlock textCenter textSmall bold width60">Attribute Name</div>
                    <div class="column inlineBlock textCenter textSmall bold width10">Score</div>
                    <div class="column inlineBlock textCenter textSmall bold width15">Dice</div>
                    <div class="column inlineBlock textCenter textSmall bold width15">Adv/Dis</div>
        <!-- END TITLES -->
        <!-- 1st Attribute -->
                    <div class="row">
                        <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc1_attribute1" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc1_prime_attribute1_name} Roll}} {{subTitle=@{npc1_name}}} {{subTitleAdd=Score of @{npc1_prime_attribute1_score}}} @{npc1_prime_attribute1_roll}">Roll</button></div>
                        <div class="column width45 inlineBlock inputSelect">
                            <select name="attr_npc1_prime_attribute1_name">
    							<optgroup label="Select Attribute">
    								<option value="None" selected="selected">Select Attribute</option>
    							</optgroup>
    							<optgroup label="Physical">
    								<option value="Agility">Agility</option>
    								<option value="Fortitude">Fortitude</option>
    								<option value="Might">Might</option>
    							</optgroup>
    							<optgroup label="Mental">
    								<option value="Learning">Learning</option>
    								<option value="Logic">Logic</option>
    								<option value="Perception">Perception</option>
    								<option value="Will">Will</option>
    							</optgroup>
    							<optgroup label="Social">
    								<option value="Deception">Deception</option>
    								<option value="Persuasion">Persuasion</option>
    								<option value="Presence">Presence</option>
    							</optgroup>
    							<optgroup label="Extraordinary">
    								<option value="Alteration">Alteration</option>
    								<option value="Creation">Creation</option>
    								<option value="Energy">Energy</option>
    								<option value="Entropy">Entropy</option>
    								<option value="Influence">Influence</option>
    								<option value="Movement">Movement</option>
    								<option value="Prescience">Prescience</option>
    								<option value="Protection">Protection</option>
    							</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_npc1_prime_attribute1_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc1_prime_attribute1_score" value=4 /></div>
                        <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc1_prime_attribute1_dice_number" value="1" /></div>
                        <div class="column inlineBlock inputDiceType">
                            <select name="attr_npc1_prime_attribute1_dice_type">
                                <option value=0>d0</option>
                                <option value=4>d4!!</option>
                                <option value=6>d6!!</option>
                                <option value=8>d8!!</option>
                                <option value=10 selected="selected">d10!!</option>
                                <option value=12>d12!!</option>
                                <option value=20>d20!!</option>
                            </select>
                        </div>
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc1_prime_attribute1_default_advantage" value=0 /></div>
                    </div>
        <!-- END 1st Attribute -->
        <!-- 2nd Attribute -->
                    <div class="row">
                        <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc1_attribute2" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc1_prime_attribute2_name} Roll}} {{subTitle=@{npc1_name}}} {{subTitleAdd=Score of @{npc1_prime_attribute2_score}}} @{npc1_prime_attribute2_roll}">Roll</button></div>
                        <div class="column width45 inlineBlock inputSelect">
                            <select name="attr_npc1_prime_attribute2_name">
    							<optgroup label="Select Attribute">
    								<option value="None" selected="selected">Select Attribute</option>
    							</optgroup>
    							<optgroup label="Physical">
    								<option value="Agility">Agility</option>
    								<option value="Fortitude">Fortitude</option>
    								<option value="Might">Might</option>
    							</optgroup>
    							<optgroup label="Mental">
    								<option value="Learning">Learning</option>
    								<option value="Logic">Logic</option>
    								<option value="Perception">Perception</option>
    								<option value="Will">Will</option>
    							</optgroup>
    							<optgroup label="Social">
    								<option value="Deception">Deception</option>
    								<option value="Persuasion">Persuasion</option>
    								<option value="Presence">Presence</option>
    							</optgroup>
    							<optgroup label="Extraordinary">
    								<option value="Alteration">Alteration</option>
    								<option value="Creation">Creation</option>
    								<option value="Energy">Energy</option>
    								<option value="Entropy">Entropy</option>
    								<option value="Influence">Influence</option>
    								<option value="Movement">Movement</option>
    								<option value="Prescience">Prescience</option>
    								<option value="Protection">Protection</option>
    							</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_npc1_prime_attribute2_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc1_prime_attribute2_score" value=4 /></div>
                        <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc1_prime_attribute2_dice_number" value="1" /></div>
                        <div class="column inlineBlock inputDiceType">
                            <select name="attr_npc1_prime_attribute2_dice_type">
                                <option value=0>d0</option>
                                <option value=4>d4!!</option>
                                <option value=6>d6!!</option>
                                <option value=8>d8!!</option>
                                <option value=10 selected="selected">d10!!</option>
                                <option value=12>d12!!</option>
                                <option value=20>d20!!</option>
                            </select>
                        </div>
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc1_prime_attribute2_default_advantage" value=0 /></div>
                    </div>
        <!-- END 2nd Attribute -->
        <!-- 3rd Attribute -->
                    <div class="row">
                        <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc1_attribute3" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc1_prime_attribute3_name} Roll}} {{subTitle=@{npc1_name}}} {{subTitleAdd=Score of @{npc1_prime_attribute3_score}}} @{npc1_prime_attribute3_roll}">Roll</button></div>
                        <div class="column width45 inlineBlock inputSelect">
                            <select name="attr_npc1_prime_attribute3_name">
    							<optgroup label="Select Attribute">
    								<option value="None" selected="selected">Select Attribute</option>
    							</optgroup>
    							<optgroup label="Physical">
    								<option value="Agility">Agility</option>
    								<option value="Fortitude">Fortitude</option>
    								<option value="Might">Might</option>
    							</optgroup>
    							<optgroup label="Mental">
    								<option value="Learning">Learning</option>
    								<option value="Logic">Logic</option>
    								<option value="Perception">Perception</option>
    								<option value="Will">Will</option>
    							</optgroup>
    							<optgroup label="Social">
    								<option value="Deception">Deception</option>
    								<option value="Persuasion">Persuasion</option>
    								<option value="Presence">Presence</option>
    							</optgroup>
    							<optgroup label="Extraordinary">
    								<option value="Alteration">Alteration</option>
    								<option value="Creation">Creation</option>
    								<option value="Energy">Energy</option>
    								<option value="Entropy">Entropy</option>
    								<option value="Influence">Influence</option>
    								<option value="Movement">Movement</option>
    								<option value="Prescience">Prescience</option>
    								<option value="Protection">Protection</option>
    							</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_npc1_prime_attribute3_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc1_prime_attribute3_score" value=4 /></div>
                        <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc1_prime_attribute3_dice_number" value="1" /></div>
                        <div class="column inlineBlock inputDiceType">
                            <select name="attr_npc1_prime_attribute3_dice_type">
                                <option value=0>d0</option>
                                <option value=4>d4!!</option>
                                <option value=6>d6!!</option>
                                <option value=8>d8!!</option>
                                <option value=10 selected="selected">d10!!</option>
                                <option value=12>d12!!</option>
                                <option value=20>d20!!</option>
                            </select>
                        </div>
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc1_prime_attribute3_default_advantage" value=0 /></div>
                    </div>
        <!-- END 3rd Attribute -->
        <!-- Initiative -->
                    <div class="row">
                        <div class="column width55 inlineBlock textLarge speedButton"><button type="roll" name="roll_npc1_initiative" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Initiative Roll}} {{subTitle=@{npc1_name}}} {{subTitleAdd=Score of @{npc1_initiative_score}}} @{npc1_initiative_roll} {{description=Make sure you selected your token to have it automatically added to the turn order.}}">Initiative</button></div>
                        <input type="hidden" name="attr_npc1_initiative_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}&{tracker}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc1_initiative_score" value=4 /></div>
                        <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc1_initiative_dice_number" value="1" /></div>
                        <div class="column inlineBlock inputDiceType">
                            <select name="attr_npc1_initiative_dice_type">
                                <option value=0>d0</option>
                                <option value=4>d4!!</option>
                                <option value=6>d6!!</option>
                                <option value=8>d8!!</option>
                                <option value=10 selected="selected">d10!!</option>
                                <option value=12>d12!!</option>
                                <option value=20>d20!!</option>
                            </select>
                        </div>
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc1_initiative_default_advantage" value=0 /></div>
                    </div>
        <!-- END Initiative -->
                    <div class="column textCenter grey textLarger bold width95 marginCenter marginTop smallCaps">Secondary Attributes</div>
        <!-- TITLES -->
                    <div class="column inlineBlock textCenter textSmall bold width60">Attribute Name</div>
                    <div class="column inlineBlock textCenter textSmall bold width10">Score</div>
                    <div class="column inlineBlock textCenter textSmall bold width15">Dice</div>
                    <div class="column inlineBlock textCenter textSmall bold width15">Adv/Dis</div>
        <!-- END TITLES -->
        <!-- Repeating Secondary Attributes -->
                    <div class="column width100 vertTop">
                        <fieldset class="repeating_npc1secondary">
                            <div class="row">
                                <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc1_secondary_attribute" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{name} Roll}} {{subTitle=@{npc1_name}}} {{subTitleAdd=Score of @{score}}} @{roll}">Roll</button></div>
                                <div class="column width45 inlineBlock inputSelect">
                                    <select name="attr_name">
            							<optgroup label="Select Attribute">
            								<option value="None" selected="selected">Select Attribute</option>
            							</optgroup>
            							<optgroup label="Physical">
            								<option value="Agility">Agility</option>
            								<option value="Fortitude">Fortitude</option>
            								<option value="Might">Might</option>
            							</optgroup>
            							<optgroup label="Mental">
            								<option value="Learning">Learning</option>
            								<option value="Logic">Logic</option>
            								<option value="Perception">Perception</option>
            								<option value="Will">Will</option>
            							</optgroup>
            							<optgroup label="Social">
            								<option value="Deception">Deception</option>
            								<option value="Persuasion">Persuasion</option>
            								<option value="Presence">Presence</option>
            							</optgroup>
            							<optgroup label="Extraordinary">
            								<option value="Alteration">Alteration</option>
            								<option value="Creation">Creation</option>
            								<option value="Energy">Energy</option>
            								<option value="Entropy">Entropy</option>
            								<option value="Influence">Influence</option>
            								<option value="Movement">Movement</option>
            								<option value="Prescience">Prescience</option>
            								<option value="Protection">Protection</option>
            							</optgroup>
                                    </select>
                                </div>
                                <input type="hidden" name="attr_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d8!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                                <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_score" value=3 /></div>
                                <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_dice_number" value="1" /></div>
                                <div class="column inlineBlock inputDiceType">
                                    <select name="attr_dice_type">
                                        <option value=0>d0</option>
                                        <option value=4>d4!!</option>
                                        <option value=6>d6!!</option>
                                        <option value=8 selected="selected">d8!!</option>
                                        <option value=10>d10!!</option>
                                        <option value=12>d12!!</option>
                                        <option value=20>d20!!</option>
                                    </select>
                                </div>
                                <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_default_advantage" value=0 /></div>
                            </div>
                        </fieldset>
                    </div>
        <!-- END Repeating Secondary Attributes -->
                    <div class="column textCenter grey textLarger bold width95 marginCenter marginTop smallCaps">Feats</div>
        <!-- TITLES -->
                    <div class="column inlineBlock textCenter textSmall bold width70">Feat Name</div>
                    <div class="column inlineBlock textCenter textSmall bold width20">Cost</div>
        <!-- END TITLES -->
        <!-- Repeating Feats -->
                    <div class="column width100 vertTop">
                        <fieldset class="repeating_npc1feats">
                            <div class="row">
                                <div class="column inlineBlock textCenter inputName width70"><input type="text" name="attr_name" /></div>
                                <div class="column inlineBlock textCenter inputNumber30 width20"><input type="number" name="attr_cost" value=0 /></div>
                            </div>
                        </fieldset>
                    </div>
        <!-- END Repeating Feats -->
                </div>
    <!-- RIGHT third of NPC 1 -->
                <div class="third inlineBlock vertTop">
        <!-- Defenses (yep, HP is a defense) -->
                    <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps">Defenses</div>
                    <div class="column inlineBlock textCenter bold width20">Guard</div>
                    <div class="column inlineBlock textCenter bold width25">Toughness</div>
                    <div class="column inlineBlock textCenter bold width20">Resolve</div>
                    <div class="column inlineBlock textCenter bold width35">Resist</div>
                    <div class="column width20 inlineBlock inputNumberLargeNarrowShort"><input type="number" name="attr_Npc1_guard" value=10 /></div>
                    <div class="column width25 inlineBlock inputNumberLargeNarrowShort"><input type="number" name="attr_Npc1_toughness" value=10 /></div>
                    <div class="column width20 inlineBlock inputNumberLargeNarrowShort"><input type="number" name="attr_Npc1_resolve" value=10 /></div>
                    <div class="column width35 inlineBlock speedButton vertBottom">
                        <button type="roll" name="roll_npc1_resist" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Resist Roll}} {{subTitle=@{npc1_name}}} {{subTitleAdd=Normal}} {{roll=[[1d20!!]]}} {{description=10+ is successful resist}}">Normal</button>
                        <button type="roll" name="roll_npc1_resist_resilient" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Resist Roll}} {{subTitle=@{npc1_name}}} {{subTitleAdd=with Advantage}} {{roll=[[2d20!!k1]]}} {{description=10+ is successful resist}}">Advantage</button>
                        <button type="roll" name="roll_npc1_resist_potent" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Resist Roll}} {{subTitle=@{npc1_name}}} {{subTitleAdd=with Disadvantage}} {{roll=[[2d20!!kl1]]}} {{description=10+ is successful resist}}">Disadvantage</button>
                    </div>
                    <div class="column inlineBlock textCenter bold width1of3">HP Current</div>
                    <div class="column inlineBlock textCenter bold width1of3">HP Max</div>
                    <div class="column inlineBlock textCenter bold width1of3">Lethal</div>
                    <div class="column width1of3 inlineBlock inputNumberLargeShort"><input type="number" name="attr_Npc1_hp" value=10 /></div>
                    <div class="column width1of3 inlineBlock inputNumberLargeShort"><input type="number" name="attr_Npc1_hp_max" value=10 /></div>
                    <input type="hidden" name="attr_npc1_previous_lethal" value=0 />
                    <div class="column width1of3 inlineBlock inputNumberLargeLethalShort"><input type="number" name="attr_npc1_current_lethal" value=0 /></div>
        <!-- END Defenses (yep, HP is a defense) -->
        <!-- Favored Actions -->
                    <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps marginTop">Favored Actions</div>
                <!-- Headings for the actions -->
                    <div class="column width25 bold italic inlineBlock textCenter">Settings</div>
                    <div class="column width75 bold italic inlineBlock textCenter">Name (click to roll)</div>
                <!-- Add actions as needed Section (repeating fields) -->
                    <div class="column width100 vertTop padRight">
                        <fieldset class="repeating_npc1actions">
                            <div class="row">   <!-- Fix for Mozilla squishing +Add & Modify buttons -->
                                <input class="tab-hide" type="checkbox" name="attr_npc1_action_hide" value="on" checked="checked" /><div>y</div>
                                <div class="width90 inlineBlock vertTop inputNameShort attributeButton silver"><button type="roll" name="roll_npc1action" value="@{tab_chat}&{template:openLegend-@{tab_action}} {{border=@{template_border}}} {{title=@{action_name}}} {{subTitle=@{npc1_name}}} {{subTitleAdd=@{name} @{score}}} {{target=@{action_target}}} @{dice_roll} {{description=@{action_special}}} {{powertarget=[[10 + (@{power_level_low}*2)]]}} {{PL1=@{pl1}}} {{PL1title=@{pl1_title}}} {{PL1roll=}} {{PL2=@{pl2}}} {{PL2title=@{pl2_title}}} {{PL2roll=}} {{PL3=@{pl3}}} {{PL3title=@{pl3_title}}} {{PL3roll=}} {{PL4=@{pl4}}} {{PL4title=@{pl4_title}}} {{PL4roll=}} {{PL5=@{pl5}}} {{PL5title=@{pl5_title}}} {{PL5roll=}} {{PL6=@{pl6}}} {{PL6title=@{pl6_title}}} {{PL6roll=}} {{PL7=@{pl7}}} {{PL7title=@{pl7_title}}} {{PL7roll=}} {{PL8=@{pl8}}} {{PL8title=@{pl8_title}}} {{PL8roll=}} {{PL9=@{pl9}}} {{PL9title=@{pl9_title}}} {{PL9roll=}}"><input type="text" style="text-align: center;" name="attr_action_name" /></button></div>
                                <div class="width100 show-hide">
                                    <div class="column width25 inlineBlock bold">Name: </div>
                                    <div class="column width75 inlineBlock inputNameShort"><input type="text" name="attr_action_name" /></div>
                                <!-- What kind of Action selection -->
                                    <div class="column padTop">
                                    <div class="column inlineBlock">This Action is:</div>
                                    <input class="tab-action attack" type="radio" name="attr_tab_action" checked="checked" value="attack"><span class="tab-action-text">Attack</span>
                                    <input class="tab-action boon" type="radio" name="attr_tab_action" value="boon"><span>Boon</span>
                                    <input class="tab-action effect" type="radio" name="attr_tab_action" value="effect"><span>Effect</span>
        
                                    <input type="hidden" name="attr_dice_roll" value=0 />
                                    
                                    <div class="option-action attack inlineBlock" style="width: 38%;"><div class="row padTop">
                                        <div class="column width100 inlineBlock bold textSmall textRight">Attack Attribute:</div>
                                    </div></div>
                                    <div class="option-action boon inlineBlock" style="width: 38%;"><div class="row padTop">
                                        <div class="column width100 inlineBlock bold textSmall textRight">Invoking Attribute:</div>
                                    </div></div>
                                    <div class="option-action both width60 inlineBlock"><div class="row">
                                        <div class="column width50 inlineBlock">&nbsp;</div>
                                        <div class="column width25 inlineBlock bold textSmall">Score</div>
                                        <div class="column width25 inlineBlock bold textSmall">Dice</div>
                                        <div class="column inlineBlock inputSelect" style="width: 54%;">
                                            <select name="attr_name">
                    							<optgroup label="Select Attribute">
                    								<option value="None" selected="selected">Select Attribute</option>
                    							</optgroup>
                    							<optgroup label="Physical">
                    								<option value="Agility">Agility</option>
                    								<option value="Fortitude">Fortitude</option>
                    								<option value="Might">Might</option>
                    							</optgroup>
                    							<optgroup label="Mental">
                    								<option value="Learning">Learning</option>
                    								<option value="Logic">Logic</option>
                    								<option value="Perception">Perception</option>
                    								<option value="Will">Will</option>
                    							</optgroup>
                    							<optgroup label="Social">
                    								<option value="Deception">Deception</option>
                    								<option value="Persuasion">Persuasion</option>
                    								<option value="Presence">Presence</option>
                    							</optgroup>
                    							<optgroup label="Extraordinary">
                    								<option value="Alteration">Alteration</option>
                    								<option value="Creation">Creation</option>
                    								<option value="Energy">Energy</option>
                    								<option value="Entropy">Entropy</option>
                    								<option value="Influence">Influence</option>
                    								<option value="Movement">Movement</option>
                    								<option value="Prescience">Prescience</option>
                    								<option value="Protection">Protection</option>
                    							</optgroup>
                                            </select>
                                        </div>
                                        <div class="column inlineBlock textCenter inputNumber30 width15"><input type="number" name="attr_score" value=3 /></div>
                                        <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_dice_number" value="1" /></div>
                                        <div class="column inlineBlock inputDiceType">
                                            <select name="attr_dice_type">
                                                <option value=0>d0</option>
                                                <option value=4>d4!!</option>
                                                <option value=6>d6!!</option>
                                                <option value=8 selected="selected">d8!!</option>
                                                <option value=10>d10!!</option>
                                                <option value=12>d12!!</option>
                                                <option value=20>d20!!</option>
                                            </select>
                                        </div>
                                    </div></div>
        
                                    <div class="option-action attack width100"><div class="row">
                                        <div class="column width100 bold italic textCenter">vs</div>
                                        <div class="column inlineBlock bold textSmall textRight" style="width: 37%;">Target Defense:</div>
                                        <div class="column width60 inlineBlock inputSelect">
                                            <select name="attr_action_target">
                                                <option value="None" selected="selected">None</option>
                                                <option value="Guard">Guard</option>
                                                <option value="Toughness">Toughness</option>
                                                <option value="Resolve">Resolve</option>
                                                <option value="Attack">Attack (Defend Interrupt)</option>
                                            </select>
                                        </div>
                                    </div></div>
        
                                    <div class="option-action both"><div class="row">
            							<div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_default_advantage" value=0 /></div>
            							<div class="column width75 textSmall bold textLeft inlineBlock"> Default (Dis)Advantage</div>
                                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_use_destructive_trance" value="Yes" /></div>
                                        <div class="column width75 textSmall bold textLeft inlineBlock"> Use Destructive Trance</div>
                                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_use_d20_advantage" value="Yes" /></div>
                                        <div class="column width75 textSmall bold textLeft inlineBlock"> Advantage on d20 (very Cruel)</div>
                                    </div></div>
        
                                    <div class="option-action effect width100"><div class="row padTop">
                                        <div class="column width90 inlineBlock borderAllDotted borderRound gray bold textSmall">Effects is mainly for things like Persistent Damage, Healing from Regeneration, or other Non-Action rolls (no d20) so you can have simple output to display the roll.</div>
                                        <div class="column width65 inlineBlock textSmall bold textRight">Number of Dice to Roll:</div>
                                        <div class="column width30 inlineBlock inputNumber30"><input type="number" name="attr_effect_dice_number" value=0 /></div>
                                        <div class="column width65 inlineBlock textSmall bold textRight">Type of Dice to Roll:</div>
                                        <div class="column width30 inlineBlock inputSelect">
                                            <select name="attr_effect_dice_type">
                                                <option value="None" selected="selected">Dice Size</option>
                                                <option value="d4!!">d4</option>
                                                <option value="d6!!">d6</option>
                                                <option value="d8!!">d8</option>
                                                <option value="d10!!">d10</option>
                                                <option value="d12!!">d12</option>
                                                <option value="d20!!">d20</option>
                                            </select>
                                        </div>
                                    </div></div>
        
                                    <div class="option-action all width100"><div class="row padTop">
                                        <div class="column width100 bold textSmall">Description/Special/Flavor Text</div>
                                        <div class="column width100 resizeVert vertTop"><textarea class="height50" name="attr_action_special"></textarea></div>
                                    </div></div>
        
                                    <div class="option-action boon"><div class="row">
                                        <input type="hidden" name="attr_power_level_low" value="0" />
                                        <input type="hidden" name="attr_power_level_high" value="0" />
                                        <div class="column width100 bold">Power Levels Available to Boon</div>
                                        <div class="column width100 bold textLarge">
                                            <input type="hidden" name="attr_pl1" value="" /><input type="hidden" name="attr_pl1_title" value="Power Level 1 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl1" name="attr_use_power_level_1" value="1" /> 1&nbsp;&nbsp;&nbsp; 
                                            <input type="hidden" name="attr_pl2" value="" /><input type="hidden" name="attr_pl2_title" value="Power Level 2 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl2" name="attr_use_power_level_2" value="1" /> 2&nbsp;&nbsp;&nbsp; 
                                            <input type="hidden" name="attr_pl3" value="" /><input type="hidden" name="attr_pl3_title" value="Power Level 3 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl3" name="attr_use_power_level_3" value="1" /> 3&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl4" value="" /><input type="hidden" name="attr_pl4_title" value="Power Level 4 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl4" name="attr_use_power_level_4" value="1" /> 4&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl5" value="" /><input type="hidden" name="attr_pl5_title" value="Power Level 5 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl5" name="attr_use_power_level_5" value="1" /> 5<br />
                                            <input type="hidden" name="attr_pl6" value="" /><input type="hidden" name="attr_pl6_title" value="Power Level 6 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl6" name="attr_use_power_level_6" value="1" /> 6&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl7" value="" /><input type="hidden" name="attr_pl7_title" value="Power Level 7 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl7" name="attr_use_power_level_7" value="1" /> 7&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl8" value="" /><input type="hidden" name="attr_pl8_title" value="Power Level 8 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl8" name="attr_use_power_level_8" value="1" /> 8&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl9" value="" /><input type="hidden" name="attr_pl9_title" value="Power Level 9 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl9" name="attr_use_power_level_9" value="1" /> 9
                                            <div class="width100"></div>
                                            <div class="option-boon pl1 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl1" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 1 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl1}}}">PL 1 Info</button><textarea class="height50" name="attr_action_pl1"></textarea></div>
                                            <div class="option-boon pl2 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl2" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 2 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl2}}}">PL 2 Info</button><textarea class="height50" name="attr_action_pl2"></textarea></div>
                                            <div class="option-boon pl3 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl3" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 3 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl3}}}">PL 3 Info</button><textarea class="height50" name="attr_action_pl3"></textarea></div>
                                            <div class="option-boon pl4 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl4" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 4 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl4}}}">PL 4 Info</button><textarea class="height50" name="attr_action_pl4"></textarea></div>
                                            <div class="option-boon pl5 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl5" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 5 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl5}}}">PL 5 Info</button><textarea class="height50" name="attr_action_pl5"></textarea></div>
                                            <div class="option-boon pl6 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl6" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 6 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl6}}}">PL 6 Info</button><textarea class="height50" name="attr_action_pl6"></textarea></div>
                                            <div class="option-boon pl7 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl7" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 7 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl7}}}">PL 7 Info</button><textarea class="height50" name="attr_action_pl7"></textarea></div>
                                            <div class="option-boon pl8 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl8" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 8 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl8}}}">PL 8 Info</button><textarea class="height50" name="attr_action_pl8"></textarea></div>
                                            <div class="option-boon pl9 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl9" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 9 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl9}}}">PL 9 Info</button><textarea class="height50" name="attr_action_pl9"></textarea></div>
                                        </div>
                                    </div></div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
        <!-- END Favored Actions -->
                </div>
<!-- END NPC #1 -->
        <!-- Blank Space between NPCs -->
                <div class="height5 black width100 marginTop marginBottom"></div>
        <!-- END Blank Space between NPCs -->
<!-- NPC #2 -->
                <div class="row" style="background-color: rgba(1,1,1,0.1);">
        <!-- LEFT third of NPC 2 -->
                    <div class="third inlineBlock vertTop">
                        <div class="column textCenter grey textLarger bold width95 marginCenter marginBottom smallCaps">NPC #2 Information</div>
                        <div class="column width15 inlineBlock textCenter bold vertBottom">Name</div>
                        <div class="column width85 inlineBlock textCenter inputName"><input type="text" name="attr_npc2_name" value="Name" /></div>
                        <div class="column width15 inlineBlock textCenter bold vertBottom">Level</div>
                        <div class="column width15 inlineBlock textCenter inputName"><input type="text" name="attr_npc2_level" value="1" /></div>
                        <div class="column width25 inlineBlock textCenter bold vertBottom">Archetype</div>
                        <div class="column width45 inlineBlock textCenter inputName"><input type="text" name="attr_npc2_archetype" /></div>
                        <div class="column width100 textLeft bold vertBottom">Description</div>
                        <div class="row padBottom">
                            <div class="column width100 textCenter vertTop resizeVert"><textarea class="width100 height50" name="attr_npc2_description"></textarea></div>
                        </div>
                        <div class="column width100 textLeft bold vertBottom inventoryButton"><button type="roll" name="roll_npc2_inventory" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc2_name}}} {{subTitle=Inventory}} {{description=@{npc2_inventory}}}">Treasure/Inventory</button></div>
                        <div class="row padBottom">
                            <div class="column width100 textCenter vertTop resizeVert"><textarea class="width100 height50" name="attr_npc2_inventory"></textarea></div>
                        </div>
                        <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps marginTop marginBottom">Speed</div>
                        <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc2_speed1_name" value="Ground" /></div>
                        <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_Npc2_speed1" value=30 /></div>
                        <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc2_speed2_name" value="Swim" /></div>
                        <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_npc2_speed2" value=15 /></div>
                        <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc2_speed3_name" value="Climb" /></div>
                        <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_npc2_speed3" value=15 /></div>
                        <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc2_speed4_name" value="Fly" /></div>
                        <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_npc2_speed4" value=0 /></div>
                    </div>
        <!-- MIDDLE third of NPC 2 -->
                    <div class="third inlineBlock vertTop">
                        <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps">Primary Attributes</div>
            <!-- TITLES -->
                        <div class="column inlineBlock textCenter textSmall bold width60">Attribute Name</div>
                        <div class="column inlineBlock textCenter textSmall bold width10">Score</div>
                        <div class="column inlineBlock textCenter textSmall bold width15">Dice</div>
                        <div class="column inlineBlock textCenter textSmall bold width15">Adv/Dis</div>
            <!-- END TITLES -->
            <!-- 1st Attribute -->
                        <div class="row">
                            <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc2_attribute1" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc2_prime_attribute1_name} Roll}} {{subTitle=@{npc2_name}}} {{subTitleAdd=Score of @{npc2_prime_attribute1_score}}} @{npc2_prime_attribute1_roll}">Roll</button></div>
                            <div class="column width45 inlineBlock inputSelect">
                                <select name="attr_npc2_prime_attribute1_name">
        							<optgroup label="Select Attribute">
        								<option value="None" selected="selected">Select Attribute</option>
        							</optgroup>
        							<optgroup label="Physical">
        								<option value="Agility">Agility</option>
        								<option value="Fortitude">Fortitude</option>
        								<option value="Might">Might</option>
        							</optgroup>
        							<optgroup label="Mental">
        								<option value="Learning">Learning</option>
        								<option value="Logic">Logic</option>
        								<option value="Perception">Perception</option>
        								<option value="Will">Will</option>
        							</optgroup>
        							<optgroup label="Social">
        								<option value="Deception">Deception</option>
        								<option value="Persuasion">Persuasion</option>
        								<option value="Presence">Presence</option>
        							</optgroup>
        							<optgroup label="Extraordinary">
        								<option value="Alteration">Alteration</option>
        								<option value="Creation">Creation</option>
        								<option value="Energy">Energy</option>
        								<option value="Entropy">Entropy</option>
        								<option value="Influence">Influence</option>
        								<option value="Movement">Movement</option>
        								<option value="Prescience">Prescience</option>
        								<option value="Protection">Protection</option>
        							</optgroup>
                                </select>
                            </div>
                            <input type="hidden" name="attr_npc2_prime_attribute1_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                            <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc2_prime_attribute1_score" value=4 /></div>
                            <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc2_prime_attribute1_dice_number" value="1" /></div>
                            <div class="column inlineBlock inputDiceType">
                                <select name="attr_npc2_prime_attribute1_dice_type">
                                    <option value=0>d0</option>
                                    <option value=4>d4!!</option>
                                    <option value=6>d6!!</option>
                                    <option value=8>d8!!</option>
                                    <option value=10 selected="selected">d10!!</option>
                                    <option value=12>d12!!</option>
                                    <option value=20>d20!!</option>
                                </select>
                            </div>
                            <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc2_prime_attribute1_default_advantage" value=0 /></div>
                        </div>
            <!-- END 1st Attribute -->
            <!-- 2nd Attribute -->
                        <div class="row">
                            <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc2_attribute2" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc2_prime_attribute2_name} Roll}} {{subTitle=@{npc2_name}}} {{subTitleAdd=Score of @{npc2_prime_attribute2_score}}} @{npc2_prime_attribute2_roll}">Roll</button></div>
                            <div class="column width45 inlineBlock inputSelect">
                                <select name="attr_npc2_prime_attribute2_name">
        							<optgroup label="Select Attribute">
        								<option value="None" selected="selected">Select Attribute</option>
        							</optgroup>
        							<optgroup label="Physical">
        								<option value="Agility">Agility</option>
        								<option value="Fortitude">Fortitude</option>
        								<option value="Might">Might</option>
        							</optgroup>
        							<optgroup label="Mental">
        								<option value="Learning">Learning</option>
        								<option value="Logic">Logic</option>
        								<option value="Perception">Perception</option>
        								<option value="Will">Will</option>
        							</optgroup>
        							<optgroup label="Social">
        								<option value="Deception">Deception</option>
        								<option value="Persuasion">Persuasion</option>
        								<option value="Presence">Presence</option>
        							</optgroup>
        							<optgroup label="Extraordinary">
        								<option value="Alteration">Alteration</option>
        								<option value="Creation">Creation</option>
        								<option value="Energy">Energy</option>
        								<option value="Entropy">Entropy</option>
        								<option value="Influence">Influence</option>
        								<option value="Movement">Movement</option>
        								<option value="Prescience">Prescience</option>
        								<option value="Protection">Protection</option>
        							</optgroup>
                                </select>
                            </div>
                            <input type="hidden" name="attr_npc2_prime_attribute2_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                            <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc2_prime_attribute2_score" value=4 /></div>
                            <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc2_prime_attribute2_dice_number" value="1" /></div>
                            <div class="column inlineBlock inputDiceType">
                                <select name="attr_npc2_prime_attribute2_dice_type">
                                    <option value=0>d0</option>
                                    <option value=4>d4!!</option>
                                    <option value=6>d6!!</option>
                                    <option value=8>d8!!</option>
                                    <option value=10 selected="selected">d10!!</option>
                                    <option value=12>d12!!</option>
                                    <option value=20>d20!!</option>
                                </select>
                            </div>
                            <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc2_prime_attribute2_default_advantage" value=0 /></div>
                        </div>
            <!-- END 2nd Attribute -->
            <!-- 3rd Attribute -->
                        <div class="row">
                            <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc2_attribute3" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc2_prime_attribute3_name} Roll}} {{subTitle=@{npc2_name}}} {{subTitleAdd=Score of @{npc2_prime_attribute3_score}}} @{npc2_prime_attribute3_roll}">Roll</button></div>
                            <div class="column width45 inlineBlock inputSelect">
                                <select name="attr_npc2_prime_attribute3_name">
        							<optgroup label="Select Attribute">
        								<option value="None" selected="selected">Select Attribute</option>
        							</optgroup>
        							<optgroup label="Physical">
        								<option value="Agility">Agility</option>
        								<option value="Fortitude">Fortitude</option>
        								<option value="Might">Might</option>
        							</optgroup>
        							<optgroup label="Mental">
        								<option value="Learning">Learning</option>
        								<option value="Logic">Logic</option>
        								<option value="Perception">Perception</option>
        								<option value="Will">Will</option>
        							</optgroup>
        							<optgroup label="Social">
        								<option value="Deception">Deception</option>
        								<option value="Persuasion">Persuasion</option>
        								<option value="Presence">Presence</option>
        							</optgroup>
        							<optgroup label="Extraordinary">
        								<option value="Alteration">Alteration</option>
        								<option value="Creation">Creation</option>
        								<option value="Energy">Energy</option>
        								<option value="Entropy">Entropy</option>
        								<option value="Influence">Influence</option>
        								<option value="Movement">Movement</option>
        								<option value="Prescience">Prescience</option>
        								<option value="Protection">Protection</option>
        							</optgroup>
                                </select>
                            </div>
                            <input type="hidden" name="attr_npc2_prime_attribute3_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                            <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc2_prime_attribute3_score" value=4 /></div>
                            <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc2_prime_attribute3_dice_number" value="1" /></div>
                            <div class="column inlineBlock inputDiceType">
                                <select name="attr_npc2_prime_attribute3_dice_type">
                                    <option value=0>d0</option>
                                    <option value=4>d4!!</option>
                                    <option value=6>d6!!</option>
                                    <option value=8>d8!!</option>
                                    <option value=10 selected="selected">d10!!</option>
                                    <option value=12>d12!!</option>
                                    <option value=20>d20!!</option>
                                </select>
                            </div>
                            <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc2_prime_attribute3_default_advantage" value=0 /></div>
                        </div>
            <!-- END 3rd Attribute -->
            <!-- Initiative -->
                        <div class="row">
                            <div class="column width55 inlineBlock textLarge speedButton"><button type="roll" name="roll_npc2_initiative" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Initiative Roll}} {{subTitle=@{npc2_name}}} {{subTitleAdd=Score of @{npc2_initiative_score}}} @{npc2_initiative_roll} {{description=Make sure you selected your token to have it automatically added to the turn order.}}">Initiative</button></div>
                            <input type="hidden" name="attr_npc2_initiative_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}&{tracker}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                            <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc2_initiative_score" value=4 /></div>
                            <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc2_initiative_dice_number" value="1" /></div>
                            <div class="column inlineBlock inputDiceType">
                                <select name="attr_npc2_initiative_dice_type">
                                    <option value=0>d0</option>
                                    <option value=4>d4!!</option>
                                    <option value=6>d6!!</option>
                                    <option value=8>d8!!</option>
                                    <option value=10 selected="selected">d10!!</option>
                                    <option value=12>d12!!</option>
                                    <option value=20>d20!!</option>
                                </select>
                            </div>
                            <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc2_initiative_default_advantage" value=0 /></div>
                        </div>
            <!-- END Initiative -->
                        <div class="column textCenter grey textLarger bold width95 marginCenter marginTop smallCaps">Secondary Attributes</div>
            <!-- TITLES -->
                        <div class="column inlineBlock textCenter textSmall bold width60">Attribute Name</div>
                        <div class="column inlineBlock textCenter textSmall bold width10">Score</div>
                        <div class="column inlineBlock textCenter textSmall bold width15">Dice</div>
                        <div class="column inlineBlock textCenter textSmall bold width15">Adv/Dis</div>
            <!-- END TITLES -->
            <!-- Repeating Secondary Attributes -->
                        <div class="column width100 vertTop">
                            <fieldset class="repeating_npc2secondary">
                                <div class="row">
                                    <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc2_secondary_attribute" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{name} Roll}} {{subTitle=@{npc2_name}}} {{subTitleAdd=Score of @{score}}} @{roll}">Roll</button></div>
                                    <div class="column width45 inlineBlock inputSelect">
                                        <select name="attr_name">
                							<optgroup label="Select Attribute">
                								<option value="None" selected="selected">Select Attribute</option>
                							</optgroup>
                							<optgroup label="Physical">
                								<option value="Agility">Agility</option>
                								<option value="Fortitude">Fortitude</option>
                								<option value="Might">Might</option>
                							</optgroup>
                							<optgroup label="Mental">
                								<option value="Learning">Learning</option>
                								<option value="Logic">Logic</option>
                								<option value="Perception">Perception</option>
                								<option value="Will">Will</option>
                							</optgroup>
                							<optgroup label="Social">
                								<option value="Deception">Deception</option>
                								<option value="Persuasion">Persuasion</option>
                								<option value="Presence">Presence</option>
                							</optgroup>
                							<optgroup label="Extraordinary">
                								<option value="Alteration">Alteration</option>
                								<option value="Creation">Creation</option>
                								<option value="Energy">Energy</option>
                								<option value="Entropy">Entropy</option>
                								<option value="Influence">Influence</option>
                								<option value="Movement">Movement</option>
                								<option value="Prescience">Prescience</option>
                								<option value="Protection">Protection</option>
                							</optgroup>
                                        </select>
                                    </div>
                                    <input type="hidden" name="attr_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d8!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                                    <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_score" value=3 /></div>
                                    <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_dice_number" value="1" /></div>
                                    <div class="column inlineBlock inputDiceType">
                                        <select name="attr_dice_type">
                                            <option value=0>d0</option>
                                            <option value=4>d4!!</option>
                                            <option value=6>d6!!</option>
                                            <option value=8 selected="selected">d8!!</option>
                                            <option value=10>d10!!</option>
                                            <option value=12>d12!!</option>
                                            <option value=20>d20!!</option>
                                        </select>
                                    </div>
                                    <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_default_advantage" value=0 /></div>
                                </div>
                            </fieldset>
                        </div>
            <!-- END Repeating Secondary Attributes -->
                        <div class="column textCenter grey textLarger bold width95 marginCenter marginTop smallCaps">Feats</div>
            <!-- TITLES -->
                        <div class="column inlineBlock textCenter textSmall bold width70">Feat Name</div>
                        <div class="column inlineBlock textCenter textSmall bold width20">Cost</div>
            <!-- END TITLES -->
            <!-- Repeating Feats -->
                        <div class="column width100 vertTop">
                            <fieldset class="repeating_npc2feats">
                                <div class="row">
                                    <div class="column inlineBlock textCenter inputName width70"><input type="text" name="attr_name" /></div>
                                    <div class="column inlineBlock textCenter inputNumber30 width20"><input type="number" name="attr_cost" value=0 /></div>
                                </div>
                            </fieldset>
                        </div>
            <!-- END Repeating Feats -->
                    </div>
        <!-- RIGHT third of NPC 2 -->
                    <div class="third inlineBlock vertTop">
            <!-- Defenses (yep, HP is a defense) -->
                        <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps">Defenses</div>
                        <div class="column inlineBlock textCenter bold width20">Guard</div>
                        <div class="column inlineBlock textCenter bold width25">Toughness</div>
                        <div class="column inlineBlock textCenter bold width20">Resolve</div>
                        <div class="column inlineBlock textCenter bold width35">Resist</div>
                        <div class="column width20 inlineBlock inputNumberLargeNarrowShort"><input type="number" name="attr_Npc2_guard" value=10 /></div>
                        <div class="column width25 inlineBlock inputNumberLargeNarrowShort"><input type="number" name="attr_Npc2_toughness" value=10 /></div>
                        <div class="column width20 inlineBlock inputNumberLargeNarrowShort"><input type="number" name="attr_Npc2_resolve" value=10 /></div>
                        <div class="column width35 inlineBlock speedButton vertBottom">
                            <button type="roll" name="roll_npc2_resist" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Resist Roll}} {{subTitle=@{npc2_name}}} {{subTitleAdd=Normal}} {{roll=[[1d20!!]]}} {{description=10+ is successful resist}}">Normal</button>
                            <button type="roll" name="roll_npc2_resist_resilient" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Resist Roll}} {{subTitle=@{npc2_name}}} {{subTitleAdd=with Advantage}} {{roll=[[2d20!!k1]]}} {{description=10+ is successful resist}}">Advantage</button>
                            <button type="roll" name="roll_npc2_resist_potent" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Resist Roll}} {{subTitle=@{npc2_name}}} {{subTitleAdd=with Disadvantage}} {{roll=[[2d20!!kl1]]}} {{description=10+ is successful resist}}">Disadvantage</button>
                        </div>
                        <div class="column inlineBlock textCenter bold width1of3">HP Current</div>
                        <div class="column inlineBlock textCenter bold width1of3">HP Max</div>
                        <div class="column inlineBlock textCenter bold width1of3">Lethal</div>
                        <div class="column width1of3 inlineBlock inputNumberLargeShort"><input type="number" name="attr_Npc2_hp" value=10 /></div>
                        <div class="column width1of3 inlineBlock inputNumberLargeShort"><input type="number" name="attr_Npc2_hp_max" value=10 /></div>
                        <input type="hidden" name="attr_npc2_previous_lethal" value=0 />
                        <div class="column width1of3 inlineBlock inputNumberLargeLethalShort"><input type="number" name="attr_npc2_current_lethal" value=0 /></div>
            <!-- END Defenses (yep, HP is a defense) -->
            <!-- Favored Actions -->
                        <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps marginTop">Favored Actions</div>
                    <!-- Headings for the actions -->
                        <div class="column width25 bold italic inlineBlock textCenter">Settings</div>
                        <div class="column width75 bold italic inlineBlock textCenter">Name (click to roll)</div>
                    <!-- Add actions as needed Section (repeating fields) -->
                        <div class="column width100 vertTop padRight">
                            <fieldset class="repeating_npc2actions">
                                <div class="row">   <!-- Fix for Mozilla squishing +Add & Modify buttons -->
                                    <input class="tab-hide" type="checkbox" name="attr_npc2_action_hide" value="on" checked="checked" /><div>y</div>
                                    <div class="width90 inlineBlock vertTop inputNameShort attributeButton silver"><button type="roll" name="roll_npc2action" value="@{tab_chat}&{template:openLegend-@{tab_action}} {{border=@{template_border}}} {{title=@{action_name}}} {{subTitle=@{npc2_name}}} {{subTitleAdd=@{name} @{score}}} {{target=@{action_target}}} @{dice_roll} {{description=@{action_special}}} {{powertarget=[[10 + (@{power_level_low}*2)]]}} {{PL1=@{pl1}}} {{PL1title=@{pl1_title}}} {{PL1roll=}} {{PL2=@{pl2}}} {{PL2title=@{pl2_title}}} {{PL2roll=}} {{PL3=@{pl3}}} {{PL3title=@{pl3_title}}} {{PL3roll=}} {{PL4=@{pl4}}} {{PL4title=@{pl4_title}}} {{PL4roll=}} {{PL5=@{pl5}}} {{PL5title=@{pl5_title}}} {{PL5roll=}} {{PL6=@{pl6}}} {{PL6title=@{pl6_title}}} {{PL6roll=}} {{PL7=@{pl7}}} {{PL7title=@{pl7_title}}} {{PL7roll=}} {{PL8=@{pl8}}} {{PL8title=@{pl8_title}}} {{PL8roll=}} {{PL9=@{pl9}}} {{PL9title=@{pl9_title}}} {{PL9roll=}}"><input type="text" style="text-align: center;" name="attr_action_name" /></button></div>
                                    <div class="width100 show-hide">
                                        <div class="column width25 inlineBlock bold">Name: </div>
                                        <div class="column width75 inlineBlock inputNameShort"><input type="text" name="attr_action_name" /></div>
                                    <!-- What kind of Action selection -->
                                        <div class="column padTop">
                                        <div class="column inlineBlock">This Action is:</div>
                                        <input class="tab-action attack" type="radio" name="attr_tab_action" checked="checked" value="attack"><span class="tab-action-text">Attack</span>
                                        <input class="tab-action boon" type="radio" name="attr_tab_action" value="boon"><span>Boon</span>
                                        <input class="tab-action effect" type="radio" name="attr_tab_action" value="effect"><span>Effect</span>
            
                                        <input type="hidden" name="attr_dice_roll" value=0 />
                                        
                                        <div class="option-action attack inlineBlock" style="width: 38%;"><div class="row padTop">
                                            <div class="column width100 inlineBlock bold textSmall textRight">Attack Attribute:</div>
                                        </div></div>
                                        <div class="option-action boon inlineBlock" style="width: 38%;"><div class="row padTop">
                                            <div class="column width100 inlineBlock bold textSmall textRight">Invoking Attribute:</div>
                                        </div></div>
                                        <div class="option-action both width60 inlineBlock"><div class="row">
                                            <div class="column width50 inlineBlock">&nbsp;</div>
                                            <div class="column width25 inlineBlock bold textSmall">Score</div>
                                            <div class="column width25 inlineBlock bold textSmall">Dice</div>
                                            <div class="column inlineBlock inputSelect" style="width: 54%;">
                                                <select name="attr_name">
                        							<optgroup label="Select Attribute">
                        								<option value="None" selected="selected">Select Attribute</option>
                        							</optgroup>
                        							<optgroup label="Physical">
                        								<option value="Agility">Agility</option>
                        								<option value="Fortitude">Fortitude</option>
                        								<option value="Might">Might</option>
                        							</optgroup>
                        							<optgroup label="Mental">
                        								<option value="Learning">Learning</option>
                        								<option value="Logic">Logic</option>
                        								<option value="Perception">Perception</option>
                        								<option value="Will">Will</option>
                        							</optgroup>
                        							<optgroup label="Social">
                        								<option value="Deception">Deception</option>
                        								<option value="Persuasion">Persuasion</option>
                        								<option value="Presence">Presence</option>
                        							</optgroup>
                        							<optgroup label="Extraordinary">
                        								<option value="Alteration">Alteration</option>
                        								<option value="Creation">Creation</option>
                        								<option value="Energy">Energy</option>
                        								<option value="Entropy">Entropy</option>
                        								<option value="Influence">Influence</option>
                        								<option value="Movement">Movement</option>
                        								<option value="Prescience">Prescience</option>
                        								<option value="Protection">Protection</option>
                        							</optgroup>
                                                </select>
                                            </div>
                                            <div class="column inlineBlock textCenter inputNumber30 width15"><input type="number" name="attr_score" value=3 /></div>
                                            <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_dice_number" value="1" /></div>
                                            <div class="column inlineBlock inputDiceType">
                                                <select name="attr_dice_type">
                                                    <option value=0>d0</option>
                                                    <option value=4>d4!!</option>
                                                    <option value=6>d6!!</option>
                                                    <option value=8 selected="selected">d8!!</option>
                                                    <option value=10>d10!!</option>
                                                    <option value=12>d12!!</option>
                                                    <option value=20>d20!!</option>
                                                </select>
                                            </div>
                                        </div></div>
            
                                        <div class="option-action attack width100"><div class="row">
                                            <div class="column width100 bold italic textCenter">vs</div>
                                            <div class="column inlineBlock bold textSmall textRight" style="width: 37%;">Target Defense:</div>
                                            <div class="column width60 inlineBlock inputSelect">
                                                <select name="attr_action_target">
                                                    <option value="None" selected="selected">None</option>
                                                    <option value="Guard">Guard</option>
                                                    <option value="Toughness">Toughness</option>
                                                    <option value="Resolve">Resolve</option>
													<option value="Attack">Attack (Defend Interrupt)</option>
                                                </select>
                                            </div>
                                        </div></div>
            
                                        <div class="option-action both"><div class="row">
                							<div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_default_advantage" value=0 /></div>
                							<div class="column width75 textSmall bold textLeft inlineBlock"> Default (Dis)Advantage</div>
                                            <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_use_destructive_trance" value="Yes" /></div>
                                            <div class="column width75 textSmall bold textLeft inlineBlock"> Use Destructive Trance</div>
                                            <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_use_d20_advantage" value="Yes" /></div>
                                            <div class="column width75 textSmall bold textLeft inlineBlock"> Advantage on d20 (very Cruel)</div>
                                        </div></div>
            
                                        <div class="option-action effect width100"><div class="row padTop">
                                            <div class="column width90 inlineBlock borderAllDotted borderRound gray bold textSmall">Effects is mainly for things like Persistent Damage, Healing from Regeneration, or other Non-Action rolls (no d20) so you can have simple output to display the roll.</div>
                                            <div class="column width65 inlineBlock textSmall bold textRight">Number of Dice to Roll:</div>
                                            <div class="column width30 inlineBlock inputNumber30"><input type="number" name="attr_effect_dice_number" value=0 /></div>
                                            <div class="column width65 inlineBlock textSmall bold textRight">Type of Dice to Roll:</div>
                                            <div class="column width30 inlineBlock inputSelect">
                                                <select name="attr_effect_dice_type">
                                                    <option value="None" selected="selected">Dice Size</option>
                                                    <option value="d4!!">d4</option>
                                                    <option value="d6!!">d6</option>
                                                    <option value="d8!!">d8</option>
                                                    <option value="d10!!">d10</option>
                                                    <option value="d12!!">d12</option>
                                                    <option value="d20!!">d20</option>
                                                </select>
                                            </div>
                                        </div></div>
            
                                        <div class="option-action all width100"><div class="row padTop">
                                            <div class="column width100 bold textSmall">Description/Special/Flavor Text</div>
                                            <div class="column width100 resizeVert vertTop"><textarea class="height50" name="attr_action_special"></textarea></div>
                                        </div></div>
            
                                        <div class="option-action boon"><div class="row">
                                            <input type="hidden" name="attr_power_level_low" value="0" />
                                            <input type="hidden" name="attr_power_level_high" value="0" />
                                            <div class="column width100 bold">Power Levels Available to Boon</div>
                                            <div class="column width100 bold textLarge">
                                                <input type="hidden" name="attr_pl1" value="" /><input type="hidden" name="attr_pl1_title" value="Power Level 1 Info" />
                                                <input type="checkbox" class="checks25 display-boon pl1" name="attr_use_power_level_1" value="1" /> 1&nbsp;&nbsp;&nbsp; 
                                                <input type="hidden" name="attr_pl2" value="" /><input type="hidden" name="attr_pl2_title" value="Power Level 2 Info" />
                                                <input type="checkbox" class="checks25 display-boon pl2" name="attr_use_power_level_2" value="1" /> 2&nbsp;&nbsp;&nbsp; 
                                                <input type="hidden" name="attr_pl3" value="" /><input type="hidden" name="attr_pl3_title" value="Power Level 3 Info" />
                                                <input type="checkbox" class="checks25 display-boon pl3" name="attr_use_power_level_3" value="1" /> 3&nbsp;&nbsp;&nbsp;
                                                <input type="hidden" name="attr_pl4" value="" /><input type="hidden" name="attr_pl4_title" value="Power Level 4 Info" />
                                                <input type="checkbox" class="checks25 display-boon pl4" name="attr_use_power_level_4" value="1" /> 4&nbsp;&nbsp;&nbsp;
                                                <input type="hidden" name="attr_pl5" value="" /><input type="hidden" name="attr_pl5_title" value="Power Level 5 Info" />
                                                <input type="checkbox" class="checks25 display-boon pl5" name="attr_use_power_level_5" value="1" /> 5<br />
                                                <input type="hidden" name="attr_pl6" value="" /><input type="hidden" name="attr_pl6_title" value="Power Level 6 Info" />
                                                <input type="checkbox" class="checks25 display-boon pl6" name="attr_use_power_level_6" value="1" /> 6&nbsp;&nbsp;&nbsp;
                                                <input type="hidden" name="attr_pl7" value="" /><input type="hidden" name="attr_pl7_title" value="Power Level 7 Info" />
                                                <input type="checkbox" class="checks25 display-boon pl7" name="attr_use_power_level_7" value="1" /> 7&nbsp;&nbsp;&nbsp;
                                                <input type="hidden" name="attr_pl8" value="" /><input type="hidden" name="attr_pl8_title" value="Power Level 8 Info" />
                                                <input type="checkbox" class="checks25 display-boon pl8" name="attr_use_power_level_8" value="1" /> 8&nbsp;&nbsp;&nbsp;
                                                <input type="hidden" name="attr_pl9" value="" /><input type="hidden" name="attr_pl9_title" value="Power Level 9 Info" />
                                                <input type="checkbox" class="checks25 display-boon pl9" name="attr_use_power_level_9" value="1" /> 9
                                                <div class="width100"></div>
                                                <div class="option-boon pl1 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl1" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 1 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl1}}}">PL 1 Info</button><textarea class="height50" name="attr_action_pl1"></textarea></div>
                                                <div class="option-boon pl2 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl2" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 2 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl2}}}">PL 2 Info</button><textarea class="height50" name="attr_action_pl2"></textarea></div>
                                                <div class="option-boon pl3 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl3" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 3 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl3}}}">PL 3 Info</button><textarea class="height50" name="attr_action_pl3"></textarea></div>
                                                <div class="option-boon pl4 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl4" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 4 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl4}}}">PL 4 Info</button><textarea class="height50" name="attr_action_pl4"></textarea></div>
                                                <div class="option-boon pl5 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl5" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 5 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl5}}}">PL 5 Info</button><textarea class="height50" name="attr_action_pl5"></textarea></div>
                                                <div class="option-boon pl6 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl6" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 6 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl6}}}">PL 6 Info</button><textarea class="height50" name="attr_action_pl6"></textarea></div>
                                                <div class="option-boon pl7 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl7" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 7 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl7}}}">PL 7 Info</button><textarea class="height50" name="attr_action_pl7"></textarea></div>
                                                <div class="option-boon pl8 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl8" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 8 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl8}}}">PL 8 Info</button><textarea class="height50" name="attr_action_pl8"></textarea></div>
                                                <div class="option-boon pl9 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl9" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 9 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl9}}}">PL 9 Info</button><textarea class="height50" name="attr_action_pl9"></textarea></div>
                                            </div>
                                        </div></div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
            <!-- END Favored Actions -->
                    </div>
                </div>
<!-- END NPC #2 -->
        <!-- Blank Space between NPCs -->
                <div class="height5 black width100 marginTop marginBottom"></div>
        <!-- END Blank Space between NPCs -->
<!-- NPC #3 -->
    <!-- LEFT third of NPC 3 -->
                <div class="third inlineBlock vertTop">
                    <div class="column textCenter grey textLarger bold width95 marginCenter marginBottom smallCaps">NPC #3 Information</div>
                    <div class="column width15 inlineBlock textCenter bold vertBottom">Name</div>
                    <div class="column width85 inlineBlock textCenter inputName"><input type="text" name="attr_npc3_name" value="Name" /></div>
                    <div class="column width15 inlineBlock textCenter bold vertBottom">Level</div>
                    <div class="column width15 inlineBlock textCenter inputName"><input type="text" name="attr_npc3_level" value="1" /></div>
                    <div class="column width25 inlineBlock textCenter bold vertBottom">Archetype</div>
                    <div class="column width45 inlineBlock textCenter inputName"><input type="text" name="attr_npc3_archetype" /></div>
                    <div class="column width100 textLeft bold vertBottom">Description</div>
                    <div class="row padBottom">
                        <div class="column width100 textCenter vertTop resizeVert"><textarea class="width100 height50" name="attr_npc3_description"></textarea></div>
                    </div>
                    <div class="column width100 textLeft bold vertBottom inventoryButton"><button type="roll" name="roll_npc3_inventory" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc3_name}}} {{subTitle=Inventory}} {{description=@{npc3_inventory}}}">Treasure/Inventory</button></div>
                    <div class="row padBottom">
                        <div class="column width100 textCenter vertTop resizeVert"><textarea class="width100 height50" name="attr_npc3_inventory"></textarea></div>
                    </div>
                    <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps marginTop marginBottom">Speed</div>
                    <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc3_speed1_name" value="Ground" /></div>
                    <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_Npc3_speed1" value=30 /></div>
                    <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc3_speed2_name" value="Swim" /></div>
                    <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_npc3_speed2" value=15 /></div>
                    <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc3_speed3_name" value="Climb" /></div>
                    <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_npc3_speed3" value=15 /></div>
                    <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc3_speed4_name" value="Fly" /></div>
                    <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_npc3_speed4" value=0 /></div>
                </div>
    <!-- MIDDLE third of NPC 3 -->
                <div class="third inlineBlock vertTop">
                    <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps">Primary Attributes</div>
        <!-- TITLES -->
                    <div class="column inlineBlock textCenter textSmall bold width60">Attribute Name</div>
                    <div class="column inlineBlock textCenter textSmall bold width10">Score</div>
                    <div class="column inlineBlock textCenter textSmall bold width15">Dice</div>
                    <div class="column inlineBlock textCenter textSmall bold width15">Adv/Dis</div>
        <!-- END TITLES -->
        <!-- 1st Attribute -->
                    <div class="row">
                        <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc3_attribute1" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc3_prime_attribute1_name} Roll}} {{subTitle=@{npc3_name}}} {{subTitleAdd=Score of @{npc3_prime_attribute1_score}}} @{npc3_prime_attribute1_roll}">Roll</button></div>
                        <div class="column width45 inlineBlock inputSelect">
                            <select name="attr_npc3_prime_attribute1_name">
    							<optgroup label="Select Attribute">
    								<option value="None" selected="selected">Select Attribute</option>
    							</optgroup>
    							<optgroup label="Physical">
    								<option value="Agility">Agility</option>
    								<option value="Fortitude">Fortitude</option>
    								<option value="Might">Might</option>
    							</optgroup>
    							<optgroup label="Mental">
    								<option value="Learning">Learning</option>
    								<option value="Logic">Logic</option>
    								<option value="Perception">Perception</option>
    								<option value="Will">Will</option>
    							</optgroup>
    							<optgroup label="Social">
    								<option value="Deception">Deception</option>
    								<option value="Persuasion">Persuasion</option>
    								<option value="Presence">Presence</option>
    							</optgroup>
    							<optgroup label="Extraordinary">
    								<option value="Alteration">Alteration</option>
    								<option value="Creation">Creation</option>
    								<option value="Energy">Energy</option>
    								<option value="Entropy">Entropy</option>
    								<option value="Influence">Influence</option>
    								<option value="Movement">Movement</option>
    								<option value="Prescience">Prescience</option>
    								<option value="Protection">Protection</option>
    							</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_npc3_prime_attribute1_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc3_prime_attribute1_score" value=4 /></div>
                        <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc3_prime_attribute1_dice_number" value="1" /></div>
                        <div class="column inlineBlock inputDiceType">
                            <select name="attr_npc3_prime_attribute1_dice_type">
                                <option value=0>d0</option>
                                <option value=4>d4!!</option>
                                <option value=6>d6!!</option>
                                <option value=8>d8!!</option>
                                <option value=10 selected="selected">d10!!</option>
                                <option value=12>d12!!</option>
                                <option value=20>d20!!</option>
                            </select>
                        </div>
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc3_prime_attribute1_default_advantage" value=0 /></div>
                    </div>
        <!-- END 1st Attribute -->
        <!-- 2nd Attribute -->
                    <div class="row">
                        <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc3_attribute2" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc3_prime_attribute2_name} Roll}} {{subTitle=@{npc3_name}}} {{subTitleAdd=Score of @{npc3_prime_attribute2_score}}} @{npc3_prime_attribute2_roll}">Roll</button></div>
                        <div class="column width45 inlineBlock inputSelect">
                            <select name="attr_npc3_prime_attribute2_name">
    							<optgroup label="Select Attribute">
    								<option value="None" selected="selected">Select Attribute</option>
    							</optgroup>
    							<optgroup label="Physical">
    								<option value="Agility">Agility</option>
    								<option value="Fortitude">Fortitude</option>
    								<option value="Might">Might</option>
    							</optgroup>
    							<optgroup label="Mental">
    								<option value="Learning">Learning</option>
    								<option value="Logic">Logic</option>
    								<option value="Perception">Perception</option>
    								<option value="Will">Will</option>
    							</optgroup>
    							<optgroup label="Social">
    								<option value="Deception">Deception</option>
    								<option value="Persuasion">Persuasion</option>
    								<option value="Presence">Presence</option>
    							</optgroup>
    							<optgroup label="Extraordinary">
    								<option value="Alteration">Alteration</option>
    								<option value="Creation">Creation</option>
    								<option value="Energy">Energy</option>
    								<option value="Entropy">Entropy</option>
    								<option value="Influence">Influence</option>
    								<option value="Movement">Movement</option>
    								<option value="Prescience">Prescience</option>
    								<option value="Protection">Protection</option>
    							</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_npc3_prime_attribute2_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc3_prime_attribute2_score" value=4 /></div>
                        <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc3_prime_attribute2_dice_number" value="1" /></div>
                        <div class="column inlineBlock inputDiceType">
                            <select name="attr_npc3_prime_attribute2_dice_type">
                                <option value=0>d0</option>
                                <option value=4>d4!!</option>
                                <option value=6>d6!!</option>
                                <option value=8>d8!!</option>
                                <option value=10 selected="selected">d10!!</option>
                                <option value=12>d12!!</option>
                                <option value=20>d20!!</option>
                            </select>
                        </div>
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc3_prime_attribute2_default_advantage" value=0 /></div>
                    </div>
        <!-- END 2nd Attribute -->
        <!-- 3rd Attribute -->
                    <div class="row">
                        <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc3_attribute3" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc3_prime_attribute3_name} Roll}} {{subTitle=@{npc3_name}}} {{subTitleAdd=Score of @{npc3_prime_attribute3_score}}} @{npc3_prime_attribute3_roll}">Roll</button></div>
                        <div class="column width45 inlineBlock inputSelect">
                            <select name="attr_npc3_prime_attribute3_name">
    							<optgroup label="Select Attribute">
    								<option value="None" selected="selected">Select Attribute</option>
    							</optgroup>
    							<optgroup label="Physical">
    								<option value="Agility">Agility</option>
    								<option value="Fortitude">Fortitude</option>
    								<option value="Might">Might</option>
    							</optgroup>
    							<optgroup label="Mental">
    								<option value="Learning">Learning</option>
    								<option value="Logic">Logic</option>
    								<option value="Perception">Perception</option>
    								<option value="Will">Will</option>
    							</optgroup>
    							<optgroup label="Social">
    								<option value="Deception">Deception</option>
    								<option value="Persuasion">Persuasion</option>
    								<option value="Presence">Presence</option>
    							</optgroup>
    							<optgroup label="Extraordinary">
    								<option value="Alteration">Alteration</option>
    								<option value="Creation">Creation</option>
    								<option value="Energy">Energy</option>
    								<option value="Entropy">Entropy</option>
    								<option value="Influence">Influence</option>
    								<option value="Movement">Movement</option>
    								<option value="Prescience">Prescience</option>
    								<option value="Protection">Protection</option>
    							</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_npc3_prime_attribute3_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc3_prime_attribute3_score" value=4 /></div>
                        <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc3_prime_attribute3_dice_number" value="1" /></div>
                        <div class="column inlineBlock inputDiceType">
                            <select name="attr_npc3_prime_attribute3_dice_type">
                                <option value=0>d0</option>
                                <option value=4>d4!!</option>
                                <option value=6>d6!!</option>
                                <option value=8>d8!!</option>
                                <option value=10 selected="selected">d10!!</option>
                                <option value=12>d12!!</option>
                                <option value=20>d20!!</option>
                            </select>
                        </div>
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc3_prime_attribute3_default_advantage" value=0 /></div>
                    </div>
        <!-- END 3rd Attribute -->
        <!-- Initiative -->
                    <div class="row">
                        <div class="column width55 inlineBlock textLarge speedButton"><button type="roll" name="roll_npc3_initiative" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Initiative Roll}} {{subTitle=@{npc3_name}}} {{subTitleAdd=Score of @{npc3_initiative_score}}} @{npc3_initiative_roll} {{description=Make sure you selected your token to have it automatically added to the turn order.}}">Initiative</button></div>
                        <input type="hidden" name="attr_npc3_initiative_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}&{tracker}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc3_initiative_score" value=4 /></div>
                        <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc3_initiative_dice_number" value="1" /></div>
                        <div class="column inlineBlock inputDiceType">
                            <select name="attr_npc3_initiative_dice_type">
                                <option value=0>d0</option>
                                <option value=4>d4!!</option>
                                <option value=6>d6!!</option>
                                <option value=8>d8!!</option>
                                <option value=10 selected="selected">d10!!</option>
                                <option value=12>d12!!</option>
                                <option value=20>d20!!</option>
                            </select>
                        </div>
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc3_initiative_default_advantage" value=0 /></div>
                    </div>
        <!-- END Initiative -->
                    <div class="column textCenter grey textLarger bold width95 marginCenter marginTop smallCaps">Secondary Attributes</div>
        <!-- TITLES -->
                    <div class="column inlineBlock textCenter textSmall bold width60">Attribute Name</div>
                    <div class="column inlineBlock textCenter textSmall bold width10">Score</div>
                    <div class="column inlineBlock textCenter textSmall bold width15">Dice</div>
                    <div class="column inlineBlock textCenter textSmall bold width15">Adv/Dis</div>
        <!-- END TITLES -->
        <!-- Repeating Secondary Attributes -->
                    <div class="column width100 vertTop">
                        <fieldset class="repeating_npc3secondary">
                            <div class="row">
                                <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc3_secondary_attribute" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{name} Roll}} {{subTitle=@{npc3_name}}} {{subTitleAdd=Score of @{score}}} @{roll}">Roll</button></div>
                                <div class="column width45 inlineBlock inputSelect">
                                    <select name="attr_name">
            							<optgroup label="Select Attribute">
            								<option value="None" selected="selected">Select Attribute</option>
            							</optgroup>
            							<optgroup label="Physical">
            								<option value="Agility">Agility</option>
            								<option value="Fortitude">Fortitude</option>
            								<option value="Might">Might</option>
            							</optgroup>
            							<optgroup label="Mental">
            								<option value="Learning">Learning</option>
            								<option value="Logic">Logic</option>
            								<option value="Perception">Perception</option>
            								<option value="Will">Will</option>
            							</optgroup>
            							<optgroup label="Social">
            								<option value="Deception">Deception</option>
            								<option value="Persuasion">Persuasion</option>
            								<option value="Presence">Presence</option>
            							</optgroup>
            							<optgroup label="Extraordinary">
            								<option value="Alteration">Alteration</option>
            								<option value="Creation">Creation</option>
            								<option value="Energy">Energy</option>
            								<option value="Entropy">Entropy</option>
            								<option value="Influence">Influence</option>
            								<option value="Movement">Movement</option>
            								<option value="Prescience">Prescience</option>
            								<option value="Protection">Protection</option>
            							</optgroup>
                                    </select>
                                </div>
                                <input type="hidden" name="attr_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d8!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                                <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_score" value=3 /></div>
                                <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_dice_number" value="1" /></div>
                                <div class="column inlineBlock inputDiceType">
                                    <select name="attr_dice_type">
                                        <option value=0>d0</option>
                                        <option value=4>d4!!</option>
                                        <option value=6>d6!!</option>
                                        <option value=8 selected="selected">d8!!</option>
                                        <option value=10>d10!!</option>
                                        <option value=12>d12!!</option>
                                        <option value=20>d20!!</option>
                                    </select>
                                </div>
                                <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_default_advantage" value=0 /></div>
                            </div>
                        </fieldset>
                    </div>
        <!-- END Repeating Secondary Attributes -->
                    <div class="column textCenter grey textLarger bold width95 marginCenter marginTop smallCaps">Feats</div>
        <!-- TITLES -->
                    <div class="column inlineBlock textCenter textSmall bold width70">Feat Name</div>
                    <div class="column inlineBlock textCenter textSmall bold width20">Cost</div>
        <!-- END TITLES -->
        <!-- Repeating Feats -->
                    <div class="column width100 vertTop">
                        <fieldset class="repeating_npc3feats">
                            <div class="row">
                                <div class="column inlineBlock textCenter inputName width70"><input type="text" name="attr_name" /></div>
                                <div class="column inlineBlock textCenter inputNumber30 width20"><input type="number" name="attr_cost" value=0 /></div>
                            </div>
                        </fieldset>
                    </div>
        <!-- END Repeating Feats -->
                </div>
    <!-- RIGHT third of NPC 3 -->
                <div class="third inlineBlock vertTop">
        <!-- Defenses (yep, HP is a defense) -->
                    <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps">Defenses</div>
                    <div class="column inlineBlock textCenter bold width20">Guard</div>
                    <div class="column inlineBlock textCenter bold width25">Toughness</div>
                    <div class="column inlineBlock textCenter bold width20">Resolve</div>
                    <div class="column inlineBlock textCenter bold width35">Resist</div>
                    <div class="column width20 inlineBlock inputNumberLargeNarrowShort"><input type="number" name="attr_Npc3_guard" value=10 /></div>
                    <div class="column width25 inlineBlock inputNumberLargeNarrowShort"><input type="number" name="attr_Npc3_toughness" value=10 /></div>
                    <div class="column width20 inlineBlock inputNumberLargeNarrowShort"><input type="number" name="attr_Npc3_resolve" value=10 /></div>
                    <div class="column width35 inlineBlock speedButton vertBottom">
                        <button type="roll" name="roll_npc3_resist" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Resist Roll}} {{subTitle=@{npc3_name}}} {{subTitleAdd=Normal}} {{roll=[[1d20!!]]}} {{description=10+ is successful resist}}">Normal</button>
                        <button type="roll" name="roll_npc3_resist_resilient" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Resist Roll}} {{subTitle=@{npc3_name}}} {{subTitleAdd=with Advantage}} {{roll=[[2d20!!k1]]}} {{description=10+ is successful resist}}">Advantage</button>
                        <button type="roll" name="roll_npc3_resist_potent" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Resist Roll}} {{subTitle=@{npc3_name}}} {{subTitleAdd=with Disadvantage}} {{roll=[[2d20!!kl1]]}} {{description=10+ is successful resist}}">Disadvantage</button>
                    </div>
                    <div class="column inlineBlock textCenter bold width1of3">HP Current</div>
                    <div class="column inlineBlock textCenter bold width1of3">HP Max</div>
                    <div class="column inlineBlock textCenter bold width1of3">Lethal</div>
                    <div class="column width1of3 inlineBlock inputNumberLargeShort"><input type="number" name="attr_Npc3_hp" value=10 /></div>
                    <div class="column width1of3 inlineBlock inputNumberLargeShort"><input type="number" name="attr_Npc3_hp_max" value=10 /></div>
                    <input type="hidden" name="attr_npc3_previous_lethal" value=0 />
                    <div class="column width1of3 inlineBlock inputNumberLargeLethalShort"><input type="number" name="attr_npc3_current_lethal" value=0 /></div>
        <!-- END Defenses (yep, HP is a defense) -->
        <!-- Favored Actions -->
                    <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps marginTop">Favored Actions</div>
                <!-- Headings for the actions -->
                    <div class="column width25 bold italic inlineBlock textCenter">Settings</div>
                    <div class="column width75 bold italic inlineBlock textCenter">Name (click to roll)</div>
                <!-- Add actions as needed Section (repeating fields) -->
                    <div class="column width100 vertTop padRight">
                        <fieldset class="repeating_npc3actions">
                            <div class="row">   <!-- Fix for Mozilla squishing +Add & Modify buttons -->
                                <input class="tab-hide" type="checkbox" name="attr_npc3_action_hide" value="on" checked="checked" /><div>y</div>
                                <div class="width90 inlineBlock vertTop inputNameShort attributeButton silver"><button type="roll" name="roll_npc3action" value="@{tab_chat}&{template:openLegend-@{tab_action}} {{border=@{template_border}}} {{title=@{action_name}}} {{subTitle=@{npc3_name}}} {{subTitleAdd=@{name} @{score}}} {{target=@{action_target}}} @{dice_roll} {{description=@{action_special}}} {{powertarget=[[10 + (@{power_level_low}*2)]]}} {{PL1=@{pl1}}} {{PL1title=@{pl1_title}}} {{PL1roll=}} {{PL2=@{pl2}}} {{PL2title=@{pl2_title}}} {{PL2roll=}} {{PL3=@{pl3}}} {{PL3title=@{pl3_title}}} {{PL3roll=}} {{PL4=@{pl4}}} {{PL4title=@{pl4_title}}} {{PL4roll=}} {{PL5=@{pl5}}} {{PL5title=@{pl5_title}}} {{PL5roll=}} {{PL6=@{pl6}}} {{PL6title=@{pl6_title}}} {{PL6roll=}} {{PL7=@{pl7}}} {{PL7title=@{pl7_title}}} {{PL7roll=}} {{PL8=@{pl8}}} {{PL8title=@{pl8_title}}} {{PL8roll=}} {{PL9=@{pl9}}} {{PL9title=@{pl9_title}}} {{PL9roll=}}"><input type="text" style="text-align: center;" name="attr_action_name" /></button></div>
                                <div class="width100 show-hide">
                                    <div class="column width25 inlineBlock bold">Name: </div>
                                    <div class="column width75 inlineBlock inputNameShort"><input type="text" name="attr_action_name" /></div>
                                <!-- What kind of Action selection -->
                                    <div class="column padTop">
                                    <div class="column inlineBlock">This Action is:</div>
                                    <input class="tab-action attack" type="radio" name="attr_tab_action" checked="checked" value="attack"><span class="tab-action-text">Attack</span>
                                    <input class="tab-action boon" type="radio" name="attr_tab_action" value="boon"><span>Boon</span>
                                    <input class="tab-action effect" type="radio" name="attr_tab_action" value="effect"><span>Effect</span>
        
                                    <input type="hidden" name="attr_dice_roll" value=0 />
                                    
                                    <div class="option-action attack inlineBlock" style="width: 38%;"><div class="row padTop">
                                        <div class="column width100 inlineBlock bold textSmall textRight">Attack Attribute:</div>
                                    </div></div>
                                    <div class="option-action boon inlineBlock" style="width: 38%;"><div class="row padTop">
                                        <div class="column width100 inlineBlock bold textSmall textRight">Invoking Attribute:</div>
                                    </div></div>
                                    <div class="option-action both width60 inlineBlock"><div class="row">
                                        <div class="column width50 inlineBlock">&nbsp;</div>
                                        <div class="column width25 inlineBlock bold textSmall">Score</div>
                                        <div class="column width25 inlineBlock bold textSmall">Dice</div>
                                        <div class="column inlineBlock inputSelect" style="width: 54%;">
                                            <select name="attr_name">
                    							<optgroup label="Select Attribute">
                    								<option value="None" selected="selected">Select Attribute</option>
                    							</optgroup>
                    							<optgroup label="Physical">
                    								<option value="Agility">Agility</option>
                    								<option value="Fortitude">Fortitude</option>
                    								<option value="Might">Might</option>
                    							</optgroup>
                    							<optgroup label="Mental">
                    								<option value="Learning">Learning</option>
                    								<option value="Logic">Logic</option>
                    								<option value="Perception">Perception</option>
                    								<option value="Will">Will</option>
                    							</optgroup>
                    							<optgroup label="Social">
                    								<option value="Deception">Deception</option>
                    								<option value="Persuasion">Persuasion</option>
                    								<option value="Presence">Presence</option>
                    							</optgroup>
                    							<optgroup label="Extraordinary">
                    								<option value="Alteration">Alteration</option>
                    								<option value="Creation">Creation</option>
                    								<option value="Energy">Energy</option>
                    								<option value="Entropy">Entropy</option>
                    								<option value="Influence">Influence</option>
                    								<option value="Movement">Movement</option>
                    								<option value="Prescience">Prescience</option>
                    								<option value="Protection">Protection</option>
                    							</optgroup>
                                            </select>
                                        </div>
                                        <div class="column inlineBlock textCenter inputNumber30 width15"><input type="number" name="attr_score" value=3 /></div>
                                        <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_dice_number" value="1" /></div>
                                        <div class="column inlineBlock inputDiceType">
                                            <select name="attr_dice_type">
                                                <option value=0>d0</option>
                                                <option value=4>d4!!</option>
                                                <option value=6>d6!!</option>
                                                <option value=8 selected="selected">d8!!</option>
                                                <option value=10>d10!!</option>
                                                <option value=12>d12!!</option>
                                                <option value=20>d20!!</option>
                                            </select>
                                        </div>
                                    </div></div>
        
                                    <div class="option-action attack width100"><div class="row">
                                        <div class="column width100 bold italic textCenter">vs</div>
                                        <div class="column inlineBlock bold textSmall textRight" style="width: 37%;">Target Defense:</div>
                                        <div class="column width60 inlineBlock inputSelect">
                                            <select name="attr_action_target">
                                                <option value="None" selected="selected">None</option>
                                                <option value="Guard">Guard</option>
                                                <option value="Toughness">Toughness</option>
                                                <option value="Resolve">Resolve</option>
												<option value="Attack">Attack (Defend Interrupt)</option>
                                            </select>
                                        </div>
                                    </div></div>
        
                                    <div class="option-action both"><div class="row">
            							<div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_default_advantage" value=0 /></div>
            							<div class="column width75 textSmall bold textLeft inlineBlock"> Default (Dis)Advantage</div>
                                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_use_destructive_trance" value="Yes" /></div>
                                        <div class="column width75 textSmall bold textLeft inlineBlock"> Use Destructive Trance</div>
                                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_use_d20_advantage" value="Yes" /></div>
                                        <div class="column width75 textSmall bold textLeft inlineBlock"> Advantage on d20 (very Cruel)</div>
                                    </div></div>
        
                                    <div class="option-action effect width100"><div class="row padTop">
                                        <div class="column width90 inlineBlock borderAllDotted borderRound gray bold textSmall">Effects is mainly for things like Persistent Damage, Healing from Regeneration, or other Non-Action rolls (no d20) so you can have simple output to display the roll.</div>
                                        <div class="column width65 inlineBlock textSmall bold textRight">Number of Dice to Roll:</div>
                                        <div class="column width30 inlineBlock inputNumber30"><input type="number" name="attr_effect_dice_number" value=0 /></div>
                                        <div class="column width65 inlineBlock textSmall bold textRight">Type of Dice to Roll:</div>
                                        <div class="column width30 inlineBlock inputSelect">
                                            <select name="attr_effect_dice_type">
                                                <option value="None" selected="selected">Dice Size</option>
                                                <option value="d4!!">d4</option>
                                                <option value="d6!!">d6</option>
                                                <option value="d8!!">d8</option>
                                                <option value="d10!!">d10</option>
                                                <option value="d12!!">d12</option>
                                                <option value="d20!!">d20</option>
                                            </select>
                                        </div>
                                    </div></div>
        
                                    <div class="option-action all width100"><div class="row padTop">
                                        <div class="column width100 bold textSmall">Description/Special/Flavor Text</div>
                                        <div class="column width100 resizeVert vertTop"><textarea class="height50" name="attr_action_special"></textarea></div>
                                    </div></div>
        
                                    <div class="option-action boon"><div class="row">
                                        <input type="hidden" name="attr_power_level_low" value="0" />
                                        <input type="hidden" name="attr_power_level_high" value="0" />
                                        <div class="column width100 bold">Power Levels Available to Boon</div>
                                        <div class="column width100 bold textLarge">
                                            <input type="hidden" name="attr_pl1" value="" /><input type="hidden" name="attr_pl1_title" value="Power Level 1 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl1" name="attr_use_power_level_1" value="1" /> 1&nbsp;&nbsp;&nbsp; 
                                            <input type="hidden" name="attr_pl2" value="" /><input type="hidden" name="attr_pl2_title" value="Power Level 2 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl2" name="attr_use_power_level_2" value="1" /> 2&nbsp;&nbsp;&nbsp; 
                                            <input type="hidden" name="attr_pl3" value="" /><input type="hidden" name="attr_pl3_title" value="Power Level 3 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl3" name="attr_use_power_level_3" value="1" /> 3&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl4" value="" /><input type="hidden" name="attr_pl4_title" value="Power Level 4 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl4" name="attr_use_power_level_4" value="1" /> 4&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl5" value="" /><input type="hidden" name="attr_pl5_title" value="Power Level 5 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl5" name="attr_use_power_level_5" value="1" /> 5<br />
                                            <input type="hidden" name="attr_pl6" value="" /><input type="hidden" name="attr_pl6_title" value="Power Level 6 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl6" name="attr_use_power_level_6" value="1" /> 6&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl7" value="" /><input type="hidden" name="attr_pl7_title" value="Power Level 7 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl7" name="attr_use_power_level_7" value="1" /> 7&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl8" value="" /><input type="hidden" name="attr_pl8_title" value="Power Level 8 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl8" name="attr_use_power_level_8" value="1" /> 8&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl9" value="" /><input type="hidden" name="attr_pl9_title" value="Power Level 9 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl9" name="attr_use_power_level_9" value="1" /> 9
                                            <div class="width100"></div>
                                            <div class="option-boon pl1 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl1" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 1 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl1}}}">PL 1 Info</button><textarea class="height50" name="attr_action_pl1"></textarea></div>
                                            <div class="option-boon pl2 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl2" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 2 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl2}}}">PL 2 Info</button><textarea class="height50" name="attr_action_pl2"></textarea></div>
                                            <div class="option-boon pl3 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl3" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 3 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl3}}}">PL 3 Info</button><textarea class="height50" name="attr_action_pl3"></textarea></div>
                                            <div class="option-boon pl4 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl4" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 4 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl4}}}">PL 4 Info</button><textarea class="height50" name="attr_action_pl4"></textarea></div>
                                            <div class="option-boon pl5 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl5" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 5 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl5}}}">PL 5 Info</button><textarea class="height50" name="attr_action_pl5"></textarea></div>
                                            <div class="option-boon pl6 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl6" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 6 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl6}}}">PL 6 Info</button><textarea class="height50" name="attr_action_pl6"></textarea></div>
                                            <div class="option-boon pl7 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl7" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 7 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl7}}}">PL 7 Info</button><textarea class="height50" name="attr_action_pl7"></textarea></div>
                                            <div class="option-boon pl8 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl8" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 8 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl8}}}">PL 8 Info</button><textarea class="height50" name="attr_action_pl8"></textarea></div>
                                            <div class="option-boon pl9 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl9" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 9 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl9}}}">PL 9 Info</button><textarea class="height50" name="attr_action_pl9"></textarea></div>
                                        </div>
                                    </div></div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
        <!-- END Favored Actions -->
                </div>
<!-- END NPC #3 -->
        <!-- Blank Space between NPCs -->
                <div class="height5 black width100 marginTop marginBottom"></div>
        <!-- END Blank Space between NPCs -->
<!-- NPC #4 -->
                <div class="row" style="background-color: rgba(1,1,1,0.1);">
    <!-- LEFT third of NPC 4 -->
                    <div class="third inlineBlock vertTop">
                        <div class="column textCenter grey textLarger bold width95 marginCenter marginBottom smallCaps">NPC #4 Information</div>
                        <div class="column width15 inlineBlock textCenter bold vertBottom">Name</div>
                        <div class="column width85 inlineBlock textCenter inputName"><input type="text" name="attr_npc4_name" value="Name" /></div>
                        <div class="column width15 inlineBlock textCenter bold vertBottom">Level</div>
                        <div class="column width15 inlineBlock textCenter inputName"><input type="text" name="attr_npc4_level" value="1" /></div>
                        <div class="column width25 inlineBlock textCenter bold vertBottom">Archetype</div>
                        <div class="column width45 inlineBlock textCenter inputName"><input type="text" name="attr_npc4_archetype" /></div>
                        <div class="column width100 textLeft bold vertBottom">Description</div>
                        <div class="row padBottom">
                            <div class="column width100 textCenter vertTop resizeVert"><textarea class="width100 height50" name="attr_npc4_description"></textarea></div>
                        </div>
                        <div class="column width100 textLeft bold vertBottom inventoryButton"><button type="roll" name="roll_npc4_inventory" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc4_name}}} {{subTitle=Inventory}} {{description=@{npc4_inventory}}}">Treasure/Inventory</button></div>
                        <div class="row padBottom">
                            <div class="column width100 textCenter vertTop resizeVert"><textarea class="width100 height50" name="attr_npc4_inventory"></textarea></div>
                        </div>
                        <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps marginTop marginBottom">Speed</div>
                        <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc4_speed1_name" value="Ground" /></div>
                        <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_Npc4_speed1" value=30 /></div>
                        <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc4_speed2_name" value="Swim" /></div>
                        <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_npc4_speed2" value=15 /></div>
                        <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc4_speed3_name" value="Climb" /></div>
                        <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_npc4_speed3" value=15 /></div>
                        <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc4_speed4_name" value="Fly" /></div>
                        <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_npc4_speed4" value=0 /></div>
                    </div>
        <!-- MIDDLE third of NPC 4 -->
                    <div class="third inlineBlock vertTop">
                        <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps">Primary Attributes</div>
            <!-- TITLES -->
                        <div class="column inlineBlock textCenter textSmall bold width60">Attribute Name</div>
                        <div class="column inlineBlock textCenter textSmall bold width10">Score</div>
                        <div class="column inlineBlock textCenter textSmall bold width15">Dice</div>
                        <div class="column inlineBlock textCenter textSmall bold width15">Adv/Dis</div>
            <!-- END TITLES -->
            <!-- 1st Attribute -->
                        <div class="row">
                            <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc4_attribute1" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc4_prime_attribute1_name} Roll}} {{subTitle=@{npc4_name}}} {{subTitleAdd=Score of @{npc4_prime_attribute1_score}}} @{npc4_prime_attribute1_roll}">Roll</button></div>
                            <div class="column width45 inlineBlock inputSelect">
                                <select name="attr_npc4_prime_attribute1_name">
        							<optgroup label="Select Attribute">
        								<option value="None" selected="selected">Select Attribute</option>
        							</optgroup>
        							<optgroup label="Physical">
        								<option value="Agility">Agility</option>
        								<option value="Fortitude">Fortitude</option>
        								<option value="Might">Might</option>
        							</optgroup>
        							<optgroup label="Mental">
        								<option value="Learning">Learning</option>
        								<option value="Logic">Logic</option>
        								<option value="Perception">Perception</option>
        								<option value="Will">Will</option>
        							</optgroup>
        							<optgroup label="Social">
        								<option value="Deception">Deception</option>
        								<option value="Persuasion">Persuasion</option>
        								<option value="Presence">Presence</option>
        							</optgroup>
        							<optgroup label="Extraordinary">
        								<option value="Alteration">Alteration</option>
        								<option value="Creation">Creation</option>
        								<option value="Energy">Energy</option>
        								<option value="Entropy">Entropy</option>
        								<option value="Influence">Influence</option>
        								<option value="Movement">Movement</option>
        								<option value="Prescience">Prescience</option>
        								<option value="Protection">Protection</option>
        							</optgroup>
                                </select>
                            </div>
                            <input type="hidden" name="attr_npc4_prime_attribute1_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                            <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc4_prime_attribute1_score" value=4 /></div>
                            <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc4_prime_attribute1_dice_number" value="1" /></div>
                            <div class="column inlineBlock inputDiceType">
                                <select name="attr_npc4_prime_attribute1_dice_type">
                                    <option value=0>d0</option>
                                    <option value=4>d4!!</option>
                                    <option value=6>d6!!</option>
                                    <option value=8>d8!!</option>
                                    <option value=10 selected="selected">d10!!</option>
                                    <option value=12>d12!!</option>
                                    <option value=20>d20!!</option>
                                </select>
                            </div>
                            <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc4_prime_attribute1_default_advantage" value=0 /></div>
                        </div>
            <!-- END 1st Attribute -->
            <!-- 2nd Attribute -->
                        <div class="row">
                            <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc4_attribute2" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc4_prime_attribute2_name} Roll}} {{subTitle=@{npc4_name}}} {{subTitleAdd=Score of @{npc4_prime_attribute2_score}}} @{npc4_prime_attribute2_roll}">Roll</button></div>
                            <div class="column width45 inlineBlock inputSelect">
                                <select name="attr_npc4_prime_attribute2_name">
        							<optgroup label="Select Attribute">
        								<option value="None" selected="selected">Select Attribute</option>
        							</optgroup>
        							<optgroup label="Physical">
        								<option value="Agility">Agility</option>
        								<option value="Fortitude">Fortitude</option>
        								<option value="Might">Might</option>
        							</optgroup>
        							<optgroup label="Mental">
        								<option value="Learning">Learning</option>
        								<option value="Logic">Logic</option>
        								<option value="Perception">Perception</option>
        								<option value="Will">Will</option>
        							</optgroup>
        							<optgroup label="Social">
        								<option value="Deception">Deception</option>
        								<option value="Persuasion">Persuasion</option>
        								<option value="Presence">Presence</option>
        							</optgroup>
        							<optgroup label="Extraordinary">
        								<option value="Alteration">Alteration</option>
        								<option value="Creation">Creation</option>
        								<option value="Energy">Energy</option>
        								<option value="Entropy">Entropy</option>
        								<option value="Influence">Influence</option>
        								<option value="Movement">Movement</option>
        								<option value="Prescience">Prescience</option>
        								<option value="Protection">Protection</option>
        							</optgroup>
                                </select>
                            </div>
                            <input type="hidden" name="attr_npc4_prime_attribute2_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                            <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc4_prime_attribute2_score" value=4 /></div>
                            <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc4_prime_attribute2_dice_number" value="1" /></div>
                            <div class="column inlineBlock inputDiceType">
                                <select name="attr_npc4_prime_attribute2_dice_type">
                                    <option value=0>d0</option>
                                    <option value=4>d4!!</option>
                                    <option value=6>d6!!</option>
                                    <option value=8>d8!!</option>
                                    <option value=10 selected="selected">d10!!</option>
                                    <option value=12>d12!!</option>
                                    <option value=20>d20!!</option>
                                </select>
                            </div>
                            <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc4_prime_attribute2_default_advantage" value=0 /></div>
                        </div>
            <!-- END 2nd Attribute -->
            <!-- 3rd Attribute -->
                        <div class="row">
                            <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc4_attribute3" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc4_prime_attribute3_name} Roll}} {{subTitle=@{npc4_name}}} {{subTitleAdd=Score of @{npc4_prime_attribute3_score}}} @{npc4_prime_attribute3_roll}">Roll</button></div>
                            <div class="column width45 inlineBlock inputSelect">
                                <select name="attr_npc4_prime_attribute3_name">
        							<optgroup label="Select Attribute">
        								<option value="None" selected="selected">Select Attribute</option>
        							</optgroup>
        							<optgroup label="Physical">
        								<option value="Agility">Agility</option>
        								<option value="Fortitude">Fortitude</option>
        								<option value="Might">Might</option>
        							</optgroup>
        							<optgroup label="Mental">
        								<option value="Learning">Learning</option>
        								<option value="Logic">Logic</option>
        								<option value="Perception">Perception</option>
        								<option value="Will">Will</option>
        							</optgroup>
        							<optgroup label="Social">
        								<option value="Deception">Deception</option>
        								<option value="Persuasion">Persuasion</option>
        								<option value="Presence">Presence</option>
        							</optgroup>
        							<optgroup label="Extraordinary">
        								<option value="Alteration">Alteration</option>
        								<option value="Creation">Creation</option>
        								<option value="Energy">Energy</option>
        								<option value="Entropy">Entropy</option>
        								<option value="Influence">Influence</option>
        								<option value="Movement">Movement</option>
        								<option value="Prescience">Prescience</option>
        								<option value="Protection">Protection</option>
        							</optgroup>
                                </select>
                            </div>
                            <input type="hidden" name="attr_npc4_prime_attribute3_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                            <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc4_prime_attribute3_score" value=4 /></div>
                            <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc4_prime_attribute3_dice_number" value="1" /></div>
                            <div class="column inlineBlock inputDiceType">
                                <select name="attr_npc4_prime_attribute3_dice_type">
                                    <option value=0>d0</option>
                                    <option value=4>d4!!</option>
                                    <option value=6>d6!!</option>
                                    <option value=8>d8!!</option>
                                    <option value=10 selected="selected">d10!!</option>
                                    <option value=12>d12!!</option>
                                    <option value=20>d20!!</option>
                                </select>
                            </div>
                            <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc4_prime_attribute3_default_advantage" value=0 /></div>
                        </div>
            <!-- END 3rd Attribute -->
            <!-- Initiative -->
                        <div class="row">
                            <div class="column width55 inlineBlock textLarge speedButton"><button type="roll" name="roll_npc4_initiative" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Initiative Roll}} {{subTitle=@{npc4_name}}} {{subTitleAdd=Score of @{npc4_initiative_score}}} @{npc4_initiative_roll} {{description=Make sure you selected your token to have it automatically added to the turn order.}}">Initiative</button></div>
                            <input type="hidden" name="attr_npc4_initiative_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}&{tracker}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                            <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc4_initiative_score" value=4 /></div>
                            <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc4_initiative_dice_number" value="1" /></div>
                            <div class="column inlineBlock inputDiceType">
                                <select name="attr_npc4_initiative_dice_type">
                                    <option value=0>d0</option>
                                    <option value=4>d4!!</option>
                                    <option value=6>d6!!</option>
                                    <option value=8>d8!!</option>
                                    <option value=10 selected="selected">d10!!</option>
                                    <option value=12>d12!!</option>
                                    <option value=20>d20!!</option>
                                </select>
                            </div>
                            <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc4_initiative_default_advantage" value=0 /></div>
                        </div>
            <!-- END Initiative -->
                        <div class="column textCenter grey textLarger bold width95 marginCenter marginTop smallCaps">Secondary Attributes</div>
            <!-- TITLES -->
                        <div class="column inlineBlock textCenter textSmall bold width60">Attribute Name</div>
                        <div class="column inlineBlock textCenter textSmall bold width10">Score</div>
                        <div class="column inlineBlock textCenter textSmall bold width15">Dice</div>
                        <div class="column inlineBlock textCenter textSmall bold width15">Adv/Dis</div>
            <!-- END TITLES -->
            <!-- Repeating Secondary Attributes -->
                        <div class="column width100 vertTop">
                            <fieldset class="repeating_npc4secondary">
                                <div class="row">
                                    <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc4_secondary_attribute" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{name} Roll}} {{subTitle=@{npc4_name}}} {{subTitleAdd=Score of @{score}}} @{roll}">Roll</button></div>
                                    <div class="column width45 inlineBlock inputSelect">
                                        <select name="attr_name">
                							<optgroup label="Select Attribute">
                								<option value="None" selected="selected">Select Attribute</option>
                							</optgroup>
                							<optgroup label="Physical">
                								<option value="Agility">Agility</option>
                								<option value="Fortitude">Fortitude</option>
                								<option value="Might">Might</option>
                							</optgroup>
                							<optgroup label="Mental">
                								<option value="Learning">Learning</option>
                								<option value="Logic">Logic</option>
                								<option value="Perception">Perception</option>
                								<option value="Will">Will</option>
                							</optgroup>
                							<optgroup label="Social">
                								<option value="Deception">Deception</option>
                								<option value="Persuasion">Persuasion</option>
                								<option value="Presence">Presence</option>
                							</optgroup>
                							<optgroup label="Extraordinary">
                								<option value="Alteration">Alteration</option>
                								<option value="Creation">Creation</option>
                								<option value="Energy">Energy</option>
                								<option value="Entropy">Entropy</option>
                								<option value="Influence">Influence</option>
                								<option value="Movement">Movement</option>
                								<option value="Prescience">Prescience</option>
                								<option value="Protection">Protection</option>
                							</optgroup>
                                        </select>
                                    </div>
                                    <input type="hidden" name="attr_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d8!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                                    <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_score" value=3 /></div>
                                    <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_dice_number" value="1" /></div>
                                    <div class="column inlineBlock inputDiceType">
                                        <select name="attr_dice_type">
                                            <option value=0>d0</option>
                                            <option value=4>d4!!</option>
                                            <option value=6>d6!!</option>
                                            <option value=8 selected="selected">d8!!</option>
                                            <option value=10>d10!!</option>
                                            <option value=12>d12!!</option>
                                            <option value=20>d20!!</option>
                                        </select>
                                    </div>
                                    <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_default_advantage" value=0 /></div>
                                </div>
                            </fieldset>
                        </div>
            <!-- END Repeating Secondary Attributes -->
                        <div class="column textCenter grey textLarger bold width95 marginCenter marginTop smallCaps">Feats</div>
            <!-- TITLES -->
                        <div class="column inlineBlock textCenter textSmall bold width70">Feat Name</div>
                        <div class="column inlineBlock textCenter textSmall bold width20">Cost</div>
            <!-- END TITLES -->
            <!-- Repeating Feats -->
                        <div class="column width100 vertTop">
                            <fieldset class="repeating_npc4feats">
                                <div class="row">
                                    <div class="column inlineBlock textCenter inputName width70"><input type="text" name="attr_name" /></div>
                                    <div class="column inlineBlock textCenter inputNumber30 width20"><input type="number" name="attr_cost" value=0 /></div>
                                </div>
                            </fieldset>
                        </div>
            <!-- END Repeating Feats -->
                    </div>
        <!-- RIGHT third of NPC 4 -->
                    <div class="third inlineBlock vertTop">
            <!-- Defenses (yep, HP is a defense) -->
                        <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps">Defenses</div>
                        <div class="column inlineBlock textCenter bold width20">Guard</div>
                        <div class="column inlineBlock textCenter bold width25">Toughness</div>
                        <div class="column inlineBlock textCenter bold width20">Resolve</div>
                        <div class="column inlineBlock textCenter bold width35">Resist</div>
                        <div class="column width20 inlineBlock inputNumberLargeNarrowShort"><input type="number" name="attr_Npc4_guard" value=10 /></div>
                        <div class="column width25 inlineBlock inputNumberLargeNarrowShort"><input type="number" name="attr_Npc4_toughness" value=10 /></div>
                        <div class="column width20 inlineBlock inputNumberLargeNarrowShort"><input type="number" name="attr_Npc4_resolve" value=10 /></div>
                        <div class="column width35 inlineBlock speedButton vertBottom">
                            <button type="roll" name="roll_npc4_resist" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Resist Roll}} {{subTitle=@{npc4_name}}} {{subTitleAdd=Normal}} {{roll=[[1d20!!]]}} {{description=10+ is successful resist}}">Normal</button>
                            <button type="roll" name="roll_npc4_resist_resilient" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Resist Roll}} {{subTitle=@{npc4_name}}} {{subTitleAdd=with Advantage}} {{roll=[[2d20!!k1]]}} {{description=10+ is successful resist}}">Advantage</button>
                            <button type="roll" name="roll_npc4_resist_potent" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Resist Roll}} {{subTitle=@{npc4_name}}} {{subTitleAdd=with Disadvantage}} {{roll=[[2d20!!kl1]]}} {{description=10+ is successful resist}}">Disadvantage</button>
                        </div>
                        <div class="column inlineBlock textCenter bold width1of3">HP Current</div>
                        <div class="column inlineBlock textCenter bold width1of3">HP Max</div>
                        <div class="column inlineBlock textCenter bold width1of3">Lethal</div>
                        <div class="column width1of3 inlineBlock inputNumberLargeShort"><input type="number" name="attr_Npc4_hp" value=10 /></div>
                        <div class="column width1of3 inlineBlock inputNumberLargeShort"><input type="number" name="attr_Npc4_hp_max" value=10 /></div>
                        <input type="hidden" name="attr_npc4_previous_lethal" value=0 />
                        <div class="column width1of3 inlineBlock inputNumberLargeLethalShort"><input type="number" name="attr_npc4_current_lethal" value=0 /></div>
            <!-- END Defenses (yep, HP is a defense) -->
            <!-- Favored Actions -->
                        <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps marginTop">Favored Actions</div>
                    <!-- Headings for the actions -->
                        <div class="column width25 bold italic inlineBlock textCenter">Settings</div>
                        <div class="column width75 bold italic inlineBlock textCenter">Name (click to roll)</div>
                    <!-- Add actions as needed Section (repeating fields) -->
                        <div class="column width100 vertTop padRight">
                            <fieldset class="repeating_npc4actions">
                                <div class="row">   <!-- Fix for Mozilla squishing +Add & Modify buttons -->
                                    <input class="tab-hide" type="checkbox" name="attr_npc4_action_hide" value="on" checked="checked" /><div>y</div>
                                    <div class="width90 inlineBlock vertTop inputNameShort attributeButton silver"><button type="roll" name="roll_npc4action" value="@{tab_chat}&{template:openLegend-@{tab_action}} {{border=@{template_border}}} {{title=@{action_name}}} {{subTitle=@{npc4_name}}} {{subTitleAdd=@{name} @{score}}} {{target=@{action_target}}} @{dice_roll} {{description=@{action_special}}} {{powertarget=[[10 + (@{power_level_low}*2)]]}} {{PL1=@{pl1}}} {{PL1title=@{pl1_title}}} {{PL1roll=}} {{PL2=@{pl2}}} {{PL2title=@{pl2_title}}} {{PL2roll=}} {{PL3=@{pl3}}} {{PL3title=@{pl3_title}}} {{PL3roll=}} {{PL4=@{pl4}}} {{PL4title=@{pl4_title}}} {{PL4roll=}} {{PL5=@{pl5}}} {{PL5title=@{pl5_title}}} {{PL5roll=}} {{PL6=@{pl6}}} {{PL6title=@{pl6_title}}} {{PL6roll=}} {{PL7=@{pl7}}} {{PL7title=@{pl7_title}}} {{PL7roll=}} {{PL8=@{pl8}}} {{PL8title=@{pl8_title}}} {{PL8roll=}} {{PL9=@{pl9}}} {{PL9title=@{pl9_title}}} {{PL9roll=}}"><input type="text" style="text-align: center;" name="attr_action_name" /></button></div>
                                    <div class="width100 show-hide">
                                        <div class="column width25 inlineBlock bold">Name: </div>
                                        <div class="column width75 inlineBlock inputNameShort"><input type="text" name="attr_action_name" /></div>
                                    <!-- What kind of Action selection -->
                                        <div class="column padTop">
                                        <div class="column inlineBlock">This Action is:</div>
                                        <input class="tab-action attack" type="radio" name="attr_tab_action" checked="checked" value="attack"><span class="tab-action-text">Attack</span>
                                        <input class="tab-action boon" type="radio" name="attr_tab_action" value="boon"><span>Boon</span>
                                        <input class="tab-action effect" type="radio" name="attr_tab_action" value="effect"><span>Effect</span>
            
                                        <input type="hidden" name="attr_dice_roll" value=0 />
                                        
                                        <div class="option-action attack inlineBlock" style="width: 38%;"><div class="row padTop">
                                            <div class="column width100 inlineBlock bold textSmall textRight">Attack Attribute:</div>
                                        </div></div>
                                        <div class="option-action boon inlineBlock" style="width: 38%;"><div class="row padTop">
                                            <div class="column width100 inlineBlock bold textSmall textRight">Invoking Attribute:</div>
                                        </div></div>
                                        <div class="option-action both width60 inlineBlock"><div class="row">
                                            <div class="column width50 inlineBlock">&nbsp;</div>
                                            <div class="column width25 inlineBlock bold textSmall">Score</div>
                                            <div class="column width25 inlineBlock bold textSmall">Dice</div>
                                            <div class="column inlineBlock inputSelect" style="width: 54%;">
                                                <select name="attr_name">
                        							<optgroup label="Select Attribute">
                        								<option value="None" selected="selected">Select Attribute</option>
                        							</optgroup>
                        							<optgroup label="Physical">
                        								<option value="Agility">Agility</option>
                        								<option value="Fortitude">Fortitude</option>
                        								<option value="Might">Might</option>
                        							</optgroup>
                        							<optgroup label="Mental">
                        								<option value="Learning">Learning</option>
                        								<option value="Logic">Logic</option>
                        								<option value="Perception">Perception</option>
                        								<option value="Will">Will</option>
                        							</optgroup>
                        							<optgroup label="Social">
                        								<option value="Deception">Deception</option>
                        								<option value="Persuasion">Persuasion</option>
                        								<option value="Presence">Presence</option>
                        							</optgroup>
                        							<optgroup label="Extraordinary">
                        								<option value="Alteration">Alteration</option>
                        								<option value="Creation">Creation</option>
                        								<option value="Energy">Energy</option>
                        								<option value="Entropy">Entropy</option>
                        								<option value="Influence">Influence</option>
                        								<option value="Movement">Movement</option>
                        								<option value="Prescience">Prescience</option>
                        								<option value="Protection">Protection</option>
                        							</optgroup>
                                                </select>
                                            </div>
                                            <div class="column inlineBlock textCenter inputNumber30 width15"><input type="number" name="attr_score" value=3 /></div>
                                            <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_dice_number" value="1" /></div>
                                            <div class="column inlineBlock inputDiceType">
                                                <select name="attr_dice_type">
                                                    <option value=0>d0</option>
                                                    <option value=4>d4!!</option>
                                                    <option value=6>d6!!</option>
                                                    <option value=8 selected="selected">d8!!</option>
                                                    <option value=10>d10!!</option>
                                                    <option value=12>d12!!</option>
                                                    <option value=20>d20!!</option>
                                                </select>
                                            </div>
                                        </div></div>
            
                                        <div class="option-action attack width100"><div class="row">
                                            <div class="column width100 bold italic textCenter">vs</div>
                                            <div class="column inlineBlock bold textSmall textRight" style="width: 37%;">Target Defense:</div>
                                            <div class="column width60 inlineBlock inputSelect">
                                                <select name="attr_action_target">
                                                    <option value="None" selected="selected">None</option>
                                                    <option value="Guard">Guard</option>
                                                    <option value="Toughness">Toughness</option>
                                                    <option value="Resolve">Resolve</option>
													<option value="Attack">Attack (Defend Interrupt)</option>
                                                </select>
                                            </div>
                                        </div></div>
            
                                        <div class="option-action both"><div class="row">
                							<div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_default_advantage" value=0 /></div>
                							<div class="column width75 textSmall bold textLeft inlineBlock"> Default (Dis)Advantage</div>
                                            <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_use_destructive_trance" value="Yes" /></div>
                                            <div class="column width75 textSmall bold textLeft inlineBlock"> Use Destructive Trance</div>
                                            <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_use_d20_advantage" value="Yes" /></div>
                                            <div class="column width75 textSmall bold textLeft inlineBlock"> Advantage on d20 (very Cruel)</div>
                                        </div></div>
            
                                        <div class="option-action effect width100"><div class="row padTop">
                                            <div class="column width90 inlineBlock borderAllDotted borderRound gray bold textSmall">Effects is mainly for things like Persistent Damage, Healing from Regeneration, or other Non-Action rolls (no d20) so you can have simple output to display the roll.</div>
                                            <div class="column width65 inlineBlock textSmall bold textRight">Number of Dice to Roll:</div>
                                            <div class="column width30 inlineBlock inputNumber30"><input type="number" name="attr_effect_dice_number" value=0 /></div>
                                            <div class="column width65 inlineBlock textSmall bold textRight">Type of Dice to Roll:</div>
                                            <div class="column width30 inlineBlock inputSelect">
                                                <select name="attr_effect_dice_type">
                                                    <option value="None" selected="selected">Dice Size</option>
                                                    <option value="d4!!">d4</option>
                                                    <option value="d6!!">d6</option>
                                                    <option value="d8!!">d8</option>
                                                    <option value="d10!!">d10</option>
                                                    <option value="d12!!">d12</option>
                                                    <option value="d20!!">d20</option>
                                                </select>
                                            </div>
                                        </div></div>
            
                                        <div class="option-action all width100"><div class="row padTop">
                                            <div class="column width100 bold textSmall">Description/Special/Flavor Text</div>
                                            <div class="column width100 resizeVert vertTop"><textarea class="height50" name="attr_action_special"></textarea></div>
                                        </div></div>
            
                                        <div class="option-action boon"><div class="row">
                                            <input type="hidden" name="attr_power_level_low" value="0" />
                                            <input type="hidden" name="attr_power_level_high" value="0" />
                                            <div class="column width100 bold">Power Levels Available to Boon</div>
                                            <div class="column width100 bold textLarge">
                                                <input type="hidden" name="attr_pl1" value="" /><input type="hidden" name="attr_pl1_title" value="Power Level 1 Info" />
                                                <input type="checkbox" class="checks25 display-boon pl1" name="attr_use_power_level_1" value="1" /> 1&nbsp;&nbsp;&nbsp; 
                                                <input type="hidden" name="attr_pl2" value="" /><input type="hidden" name="attr_pl2_title" value="Power Level 2 Info" />
                                                <input type="checkbox" class="checks25 display-boon pl2" name="attr_use_power_level_2" value="1" /> 2&nbsp;&nbsp;&nbsp; 
                                                <input type="hidden" name="attr_pl3" value="" /><input type="hidden" name="attr_pl3_title" value="Power Level 3 Info" />
                                                <input type="checkbox" class="checks25 display-boon pl3" name="attr_use_power_level_3" value="1" /> 3&nbsp;&nbsp;&nbsp;
                                                <input type="hidden" name="attr_pl4" value="" /><input type="hidden" name="attr_pl4_title" value="Power Level 4 Info" />
                                                <input type="checkbox" class="checks25 display-boon pl4" name="attr_use_power_level_4" value="1" /> 4&nbsp;&nbsp;&nbsp;
                                                <input type="hidden" name="attr_pl5" value="" /><input type="hidden" name="attr_pl5_title" value="Power Level 5 Info" />
                                                <input type="checkbox" class="checks25 display-boon pl5" name="attr_use_power_level_5" value="1" /> 5<br />
                                                <input type="hidden" name="attr_pl6" value="" /><input type="hidden" name="attr_pl6_title" value="Power Level 6 Info" />
                                                <input type="checkbox" class="checks25 display-boon pl6" name="attr_use_power_level_6" value="1" /> 6&nbsp;&nbsp;&nbsp;
                                                <input type="hidden" name="attr_pl7" value="" /><input type="hidden" name="attr_pl7_title" value="Power Level 7 Info" />
                                                <input type="checkbox" class="checks25 display-boon pl7" name="attr_use_power_level_7" value="1" /> 7&nbsp;&nbsp;&nbsp;
                                                <input type="hidden" name="attr_pl8" value="" /><input type="hidden" name="attr_pl8_title" value="Power Level 8 Info" />
                                                <input type="checkbox" class="checks25 display-boon pl8" name="attr_use_power_level_8" value="1" /> 8&nbsp;&nbsp;&nbsp;
                                                <input type="hidden" name="attr_pl9" value="" /><input type="hidden" name="attr_pl9_title" value="Power Level 9 Info" />
                                                <input type="checkbox" class="checks25 display-boon pl9" name="attr_use_power_level_9" value="1" /> 9
                                                <div class="width100"></div>
                                                <div class="option-boon pl1 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl1" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 1 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl1}}}">PL 1 Info</button><textarea class="height50" name="attr_action_pl1"></textarea></div>
                                                <div class="option-boon pl2 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl2" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 2 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl2}}}">PL 2 Info</button><textarea class="height50" name="attr_action_pl2"></textarea></div>
                                                <div class="option-boon pl3 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl3" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 3 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl3}}}">PL 3 Info</button><textarea class="height50" name="attr_action_pl3"></textarea></div>
                                                <div class="option-boon pl4 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl4" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 4 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl4}}}">PL 4 Info</button><textarea class="height50" name="attr_action_pl4"></textarea></div>
                                                <div class="option-boon pl5 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl5" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 5 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl5}}}">PL 5 Info</button><textarea class="height50" name="attr_action_pl5"></textarea></div>
                                                <div class="option-boon pl6 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl6" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 6 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl6}}}">PL 6 Info</button><textarea class="height50" name="attr_action_pl6"></textarea></div>
                                                <div class="option-boon pl7 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl7" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 7 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl7}}}">PL 7 Info</button><textarea class="height50" name="attr_action_pl7"></textarea></div>
                                                <div class="option-boon pl8 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl8" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 8 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl8}}}">PL 8 Info</button><textarea class="height50" name="attr_action_pl8"></textarea></div>
                                                <div class="option-boon pl9 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl9" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 9 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl9}}}">PL 9 Info</button><textarea class="height50" name="attr_action_pl9"></textarea></div>
                                            </div>
                                        </div></div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
            <!-- END Favored Actions -->
                    </div>
                </div>
<!-- END NPC #4 -->
        <!-- Blank Space between NPCs -->
                <div class="height5 black width100 marginTop marginBottom"></div>
        <!-- END Blank Space between NPCs -->
<!-- NPC #5 -->
    <!-- LEFT third of NPC 5 -->
                <div class="third inlineBlock vertTop">
                    <div class="column textCenter grey textLarger bold width95 marginCenter marginBottom smallCaps">NPC #5 Information</div>
                    <div class="column width15 inlineBlock textCenter bold vertBottom">Name</div>
                    <div class="column width85 inlineBlock textCenter inputName"><input type="text" name="attr_npc5_name" value="Name" /></div>
                    <div class="column width15 inlineBlock textCenter bold vertBottom">Level</div>
                    <div class="column width15 inlineBlock textCenter inputName"><input type="text" name="attr_npc5_level" value="1" /></div>
                    <div class="column width25 inlineBlock textCenter bold vertBottom">Archetype</div>
                    <div class="column width45 inlineBlock textCenter inputName"><input type="text" name="attr_npc5_archetype" /></div>
                    <div class="column width100 textLeft bold vertBottom">Description</div>
                    <div class="row padBottom">
                        <div class="column width100 textCenter vertTop resizeVert"><textarea class="width100 height50" name="attr_npc5_description"></textarea></div>
                    </div>
                    <div class="column width100 textLeft bold vertBottom inventoryButton"><button type="roll" name="roll_npc5_inventory" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc5_name}}} {{subTitle=Inventory}} {{description=@{npc5_inventory}}}">Treasure/Inventory</button></div>
                    <div class="row padBottom">
                        <div class="column width100 textCenter vertTop resizeVert"><textarea class="width100 height50" name="attr_npc5_inventory"></textarea></div>
                    </div>
                    <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps marginTop marginBottom">Speed</div>
                    <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc5_speed1_name" value="Ground" /></div>
                    <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_Npc5_speed1" value=30 /></div>
                    <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc5_speed2_name" value="Swim" /></div>
                    <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_npc5_speed2" value=15 /></div>
                    <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc5_speed3_name" value="Climb" /></div>
                    <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_npc5_speed3" value=15 /></div>
                    <div class="column inlineBlock textCenter inputName width25"><input type="text" name="attr_npc5_speed4_name" value="Fly" /></div>
                    <div class="column width25 inlineBlock inputNumber60"><input type="number" name="attr_npc5_speed4" value=0 /></div>
                </div>
    <!-- MIDDLE third of NPC 5 -->
                <div class="third inlineBlock vertTop">
                    <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps">Primary Attributes</div>
        <!-- TITLES -->
                    <div class="column inlineBlock textCenter textSmall bold width60">Attribute Name</div>
                    <div class="column inlineBlock textCenter textSmall bold width10">Score</div>
                    <div class="column inlineBlock textCenter textSmall bold width15">Dice</div>
                    <div class="column inlineBlock textCenter textSmall bold width15">Adv/Dis</div>
        <!-- END TITLES -->
        <!-- 1st Attribute -->
                    <div class="row">
                        <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc5_attribute1" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc5_prime_attribute1_name} Roll}} {{subTitle=@{npc5_name}}} {{subTitleAdd=Score of @{npc5_prime_attribute1_score}}} @{npc5_prime_attribute1_roll}">Roll</button></div>
                        <div class="column width45 inlineBlock inputSelect">
                            <select name="attr_npc5_prime_attribute1_name">
    							<optgroup label="Select Attribute">
    								<option value="None" selected="selected">Select Attribute</option>
    							</optgroup>
    							<optgroup label="Physical">
    								<option value="Agility">Agility</option>
    								<option value="Fortitude">Fortitude</option>
    								<option value="Might">Might</option>
    							</optgroup>
    							<optgroup label="Mental">
    								<option value="Learning">Learning</option>
    								<option value="Logic">Logic</option>
    								<option value="Perception">Perception</option>
    								<option value="Will">Will</option>
    							</optgroup>
    							<optgroup label="Social">
    								<option value="Deception">Deception</option>
    								<option value="Persuasion">Persuasion</option>
    								<option value="Presence">Presence</option>
    							</optgroup>
    							<optgroup label="Extraordinary">
    								<option value="Alteration">Alteration</option>
    								<option value="Creation">Creation</option>
    								<option value="Energy">Energy</option>
    								<option value="Entropy">Entropy</option>
    								<option value="Influence">Influence</option>
    								<option value="Movement">Movement</option>
    								<option value="Prescience">Prescience</option>
    								<option value="Protection">Protection</option>
    							</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_npc5_prime_attribute1_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc5_prime_attribute1_score" value=4 /></div>
                        <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc5_prime_attribute1_dice_number" value="1" /></div>
                        <div class="column inlineBlock inputDiceType">
                            <select name="attr_npc5_prime_attribute1_dice_type">
                                <option value=0>d0</option>
                                <option value=4>d4!!</option>
                                <option value=6>d6!!</option>
                                <option value=8>d8!!</option>
                                <option value=10 selected="selected">d10!!</option>
                                <option value=12>d12!!</option>
                                <option value=20>d20!!</option>
                            </select>
                        </div>
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc5_prime_attribute1_default_advantage" value=0 /></div>
                    </div>
        <!-- END 1st Attribute -->
        <!-- 2nd Attribute -->
                    <div class="row">
                        <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc5_attribute2" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc5_prime_attribute2_name} Roll}} {{subTitle=@{npc5_name}}} {{subTitleAdd=Score of @{npc5_prime_attribute2_score}}} @{npc5_prime_attribute2_roll}">Roll</button></div>
                        <div class="column width45 inlineBlock inputSelect">
                            <select name="attr_npc5_prime_attribute2_name">
    							<optgroup label="Select Attribute">
    								<option value="None" selected="selected">Select Attribute</option>
    							</optgroup>
    							<optgroup label="Physical">
    								<option value="Agility">Agility</option>
    								<option value="Fortitude">Fortitude</option>
    								<option value="Might">Might</option>
    							</optgroup>
    							<optgroup label="Mental">
    								<option value="Learning">Learning</option>
    								<option value="Logic">Logic</option>
    								<option value="Perception">Perception</option>
    								<option value="Will">Will</option>
    							</optgroup>
    							<optgroup label="Social">
    								<option value="Deception">Deception</option>
    								<option value="Persuasion">Persuasion</option>
    								<option value="Presence">Presence</option>
    							</optgroup>
    							<optgroup label="Extraordinary">
    								<option value="Alteration">Alteration</option>
    								<option value="Creation">Creation</option>
    								<option value="Energy">Energy</option>
    								<option value="Entropy">Entropy</option>
    								<option value="Influence">Influence</option>
    								<option value="Movement">Movement</option>
    								<option value="Prescience">Prescience</option>
    								<option value="Protection">Protection</option>
    							</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_npc5_prime_attribute2_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc5_prime_attribute2_score" value=4 /></div>
                        <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc5_prime_attribute2_dice_number" value="1" /></div>
                        <div class="column inlineBlock inputDiceType">
                            <select name="attr_npc5_prime_attribute2_dice_type">
                                <option value=0>d0</option>
                                <option value=4>d4!!</option>
                                <option value=6>d6!!</option>
                                <option value=8>d8!!</option>
                                <option value=10 selected="selected">d10!!</option>
                                <option value=12>d12!!</option>
                                <option value=20>d20!!</option>
                            </select>
                        </div>
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc5_prime_attribute2_default_advantage" value=0 /></div>
                    </div>
        <!-- END 2nd Attribute -->
        <!-- 3rd Attribute -->
                    <div class="row">
                        <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc5_attribute3" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{npc5_prime_attribute3_name} Roll}} {{subTitle=@{npc5_name}}} {{subTitleAdd=Score of @{npc5_prime_attribute3_score}}} @{npc5_prime_attribute3_roll}">Roll</button></div>
                        <div class="column width45 inlineBlock inputSelect">
                            <select name="attr_npc5_prime_attribute3_name">
    							<optgroup label="Select Attribute">
    								<option value="None" selected="selected">Select Attribute</option>
    							</optgroup>
    							<optgroup label="Physical">
    								<option value="Agility">Agility</option>
    								<option value="Fortitude">Fortitude</option>
    								<option value="Might">Might</option>
    							</optgroup>
    							<optgroup label="Mental">
    								<option value="Learning">Learning</option>
    								<option value="Logic">Logic</option>
    								<option value="Perception">Perception</option>
    								<option value="Will">Will</option>
    							</optgroup>
    							<optgroup label="Social">
    								<option value="Deception">Deception</option>
    								<option value="Persuasion">Persuasion</option>
    								<option value="Presence">Presence</option>
    							</optgroup>
    							<optgroup label="Extraordinary">
    								<option value="Alteration">Alteration</option>
    								<option value="Creation">Creation</option>
    								<option value="Energy">Energy</option>
    								<option value="Entropy">Entropy</option>
    								<option value="Influence">Influence</option>
    								<option value="Movement">Movement</option>
    								<option value="Prescience">Prescience</option>
    								<option value="Protection">Protection</option>
    							</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_npc5_prime_attribute3_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc5_prime_attribute3_score" value=4 /></div>
                        <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc5_prime_attribute3_dice_number" value="1" /></div>
                        <div class="column inlineBlock inputDiceType">
                            <select name="attr_npc5_prime_attribute3_dice_type">
                                <option value=0>d0</option>
                                <option value=4>d4!!</option>
                                <option value=6>d6!!</option>
                                <option value=8>d8!!</option>
                                <option value=10 selected="selected">d10!!</option>
                                <option value=12>d12!!</option>
                                <option value=20>d20!!</option>
                            </select>
                        </div>
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc5_prime_attribute3_default_advantage" value=0 /></div>
                    </div>
        <!-- END 3rd Attribute -->
        <!-- Initiative -->
                    <div class="row">
                        <div class="column width55 inlineBlock textLarge speedButton"><button type="roll" name="roll_npc5_initiative" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Initiative Roll}} {{subTitle=@{npc5_name}}} {{subTitleAdd=Score of @{npc5_initiative_score}}} @{npc5_initiative_roll} {{description=Make sure you selected your token to have it automatically added to the turn order.}}">Initiative</button></div>
                        <input type="hidden" name="attr_npc5_initiative_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d10!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}&{tracker}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc5_initiative_score" value=4 /></div>
                        <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_npc5_initiative_dice_number" value="1" /></div>
                        <div class="column inlineBlock inputDiceType">
                            <select name="attr_npc5_initiative_dice_type">
                                <option value=0>d0</option>
                                <option value=4>d4!!</option>
                                <option value=6>d6!!</option>
                                <option value=8>d8!!</option>
                                <option value=10 selected="selected">d10!!</option>
                                <option value=12>d12!!</option>
                                <option value=20>d20!!</option>
                            </select>
                        </div>
                        <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_npc5_initiative_default_advantage" value=0 /></div>
                    </div>
        <!-- END Initiative -->
                    <div class="column textCenter grey textLarger bold width95 marginCenter marginTop smallCaps">Secondary Attributes</div>
        <!-- TITLES -->
                    <div class="column inlineBlock textCenter textSmall bold width60">Attribute Name</div>
                    <div class="column inlineBlock textCenter textSmall bold width10">Score</div>
                    <div class="column inlineBlock textCenter textSmall bold width15">Dice</div>
                    <div class="column inlineBlock textCenter textSmall bold width15">Adv/Dis</div>
        <!-- END TITLES -->
        <!-- Repeating Secondary Attributes -->
                    <div class="column width100 vertTop">
                        <fieldset class="repeating_npc5secondary">
                            <div class="row">
                                <div class="column width10 inlineBlock vertMiddle textSmall attributeButton silver borderAll"><button type="roll" name="roll_npc5_secondary_attribute" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=@{name} Roll}} {{subTitle=@{npc5_name}}} {{subTitleAdd=Score of @{score}}} @{roll}">Roll</button></div>
                                <div class="column width45 inlineBlock inputSelect">
                                    <select name="attr_name">
            							<optgroup label="Select Attribute">
            								<option value="None" selected="selected">Select Attribute</option>
            							</optgroup>
            							<optgroup label="Physical">
            								<option value="Agility">Agility</option>
            								<option value="Fortitude">Fortitude</option>
            								<option value="Might">Might</option>
            							</optgroup>
            							<optgroup label="Mental">
            								<option value="Learning">Learning</option>
            								<option value="Logic">Logic</option>
            								<option value="Perception">Perception</option>
            								<option value="Will">Will</option>
            							</optgroup>
            							<optgroup label="Social">
            								<option value="Deception">Deception</option>
            								<option value="Persuasion">Persuasion</option>
            								<option value="Presence">Presence</option>
            							</optgroup>
            							<optgroup label="Extraordinary">
            								<option value="Alteration">Alteration</option>
            								<option value="Creation">Creation</option>
            								<option value="Energy">Energy</option>
            								<option value="Entropy">Entropy</option>
            								<option value="Influence">Influence</option>
            								<option value="Movement">Movement</option>
            								<option value="Prescience">Prescience</option>
            								<option value="Protection">Protection</option>
            							</optgroup>
                                    </select>
                                </div>
                                <input type="hidden" name="attr_roll" value="{{roll=[[1d20!! + [[1+?{# of Advantage/Disadvantage Dice|0}]]d8!!k?{Do you have Advantage or Disadvantage?|Neither/Advantage,[[1]]|Disadvantage,l[[1]]}]]}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}}" />     <!-- hidden value of the roll button string -->
                                <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_score" value=3 /></div>
                                <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_dice_number" value="1" /></div>
                                <div class="column inlineBlock inputDiceType">
                                    <select name="attr_dice_type">
                                        <option value=0>d0</option>
                                        <option value=4>d4!!</option>
                                        <option value=6>d6!!</option>
                                        <option value=8 selected="selected">d8!!</option>
                                        <option value=10>d10!!</option>
                                        <option value=12>d12!!</option>
                                        <option value=20>d20!!</option>
                                    </select>
                                </div>
                                <div class="column inlineBlock textCenter inputNumber30 width10"><input type="number" name="attr_default_advantage" value=0 /></div>
                            </div>
                        </fieldset>
                    </div>
        <!-- END Repeating Secondary Attributes -->
                    <div class="column textCenter grey textLarger bold width95 marginCenter marginTop smallCaps">Feats</div>
        <!-- TITLES -->
                    <div class="column inlineBlock textCenter textSmall bold width70">Feat Name</div>
                    <div class="column inlineBlock textCenter textSmall bold width20">Cost</div>
        <!-- END TITLES -->
        <!-- Repeating Feats -->
                    <div class="column width100 vertTop">
                        <fieldset class="repeating_npc5feats">
                            <div class="row">
                                <div class="column inlineBlock textCenter inputName width70"><input type="text" name="attr_name" /></div>
                                <div class="column inlineBlock textCenter inputNumber30 width20"><input type="number" name="attr_cost" value=0 /></div>
                            </div>
                        </fieldset>
                    </div>
        <!-- END Repeating Feats -->
                </div>
    <!-- RIGHT third of NPC 5 -->
                <div class="third inlineBlock vertTop">
        <!-- Defenses (yep, HP is a defense) -->
                    <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps">Defenses</div>
                    <div class="column inlineBlock textCenter bold width20">Guard</div>
                    <div class="column inlineBlock textCenter bold width25">Toughness</div>
                    <div class="column inlineBlock textCenter bold width20">Resolve</div>
                    <div class="column inlineBlock textCenter bold width35">Resist</div>
                    <div class="column width20 inlineBlock inputNumberLargeNarrowShort"><input type="number" name="attr_Npc5_guard" value=10 /></div>
                    <div class="column width25 inlineBlock inputNumberLargeNarrowShort"><input type="number" name="attr_Npc5_toughness" value=10 /></div>
                    <div class="column width20 inlineBlock inputNumberLargeNarrowShort"><input type="number" name="attr_Npc5_resolve" value=10 /></div>
                    <div class="column width35 inlineBlock speedButton vertBottom">
                        <button type="roll" name="roll_npc5_resist" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Resist Roll}} {{subTitle=@{npc5_name}}} {{subTitleAdd=Normal}} {{roll=[[1d20!!]]}} {{description=10+ is successful resist}}">Normal</button>
                        <button type="roll" name="roll_npc5_resist_resilient" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Resist Roll}} {{subTitle=@{npc5_name}}} {{subTitleAdd=with Advantage}} {{roll=[[2d20!!k1]]}} {{description=10+ is successful resist}}">Advantage</button>
                        <button type="roll" name="roll_npc5_resist_potent" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Resist Roll}} {{subTitle=@{npc5_name}}} {{subTitleAdd=with Disadvantage}} {{roll=[[2d20!!kl1]]}} {{description=10+ is successful resist}}">Disadvantage</button>
                    </div>
                    <div class="column inlineBlock textCenter bold width1of3">HP Current</div>
                    <div class="column inlineBlock textCenter bold width1of3">HP Max</div>
                    <div class="column inlineBlock textCenter bold width1of3">Lethal</div>
                    <div class="column width1of3 inlineBlock inputNumberLargeShort"><input type="number" name="attr_Npc5_hp" value=10 /></div>
                    <div class="column width1of3 inlineBlock inputNumberLargeShort"><input type="number" name="attr_Npc5_hp_max" value=10 /></div>
                    <input type="hidden" name="attr_npc5_previous_lethal" value=0 />
                    <div class="column width1of3 inlineBlock inputNumberLargeLethalShort"><input type="number" name="attr_npc5_current_lethal" value=0 /></div>
        <!-- END Defenses (yep, HP is a defense) -->
        <!-- Favored Actions -->
                    <div class="column textCenter grey textLarger bold width95 marginCenter smallCaps marginTop">Favored Actions</div>
                <!-- Headings for the actions -->
                    <div class="column width25 bold italic inlineBlock textCenter">Settings</div>
                    <div class="column width75 bold italic inlineBlock textCenter">Name (click to roll)</div>
                <!-- Add actions as needed Section (repeating fields) -->
                    <div class="column width100 vertTop padRight">
                        <fieldset class="repeating_npc5actions">
                            <div class="row">   <!-- Fix for Mozilla squishing +Add & Modify buttons -->
                                <input class="tab-hide" type="checkbox" name="attr_npc5_action_hide" value="on" checked="checked" /><div>y</div>
                                <div class="width90 inlineBlock vertTop inputNameShort attributeButton silver"><button type="roll" name="roll_npc5action" value="@{tab_chat}&{template:openLegend-@{tab_action}} {{border=@{template_border}}} {{title=@{action_name}}} {{subTitle=@{npc5_name}}} {{subTitleAdd=@{name} @{score}}} {{target=@{action_target}}} @{dice_roll} {{description=@{action_special}}} {{powertarget=[[10 + (@{power_level_low}*2)]]}} {{PL1=@{pl1}}} {{PL1title=@{pl1_title}}} {{PL1roll=}} {{PL2=@{pl2}}} {{PL2title=@{pl2_title}}} {{PL2roll=}} {{PL3=@{pl3}}} {{PL3title=@{pl3_title}}} {{PL3roll=}} {{PL4=@{pl4}}} {{PL4title=@{pl4_title}}} {{PL4roll=}} {{PL5=@{pl5}}} {{PL5title=@{pl5_title}}} {{PL5roll=}} {{PL6=@{pl6}}} {{PL6title=@{pl6_title}}} {{PL6roll=}} {{PL7=@{pl7}}} {{PL7title=@{pl7_title}}} {{PL7roll=}} {{PL8=@{pl8}}} {{PL8title=@{pl8_title}}} {{PL8roll=}} {{PL9=@{pl9}}} {{PL9title=@{pl9_title}}} {{PL9roll=}}"><input type="text" style="text-align: center;" name="attr_action_name" /></button></div>
                                <div class="width100 show-hide">
                                    <div class="column width25 inlineBlock bold">Name: </div>
                                    <div class="column width75 inlineBlock inputNameShort"><input type="text" name="attr_action_name" /></div>
                                <!-- What kind of Action selection -->
                                    <div class="column padTop">
                                    <div class="column inlineBlock">This Action is:</div>
                                    <input class="tab-action attack" type="radio" name="attr_tab_action" checked="checked" value="attack"><span class="tab-action-text">Attack</span>
                                    <input class="tab-action boon" type="radio" name="attr_tab_action" value="boon"><span>Boon</span>
                                    <input class="tab-action effect" type="radio" name="attr_tab_action" value="effect"><span>Effect</span>
        
                                    <input type="hidden" name="attr_dice_roll" value=0 />
                                    
                                    <div class="option-action attack inlineBlock" style="width: 38%;"><div class="row padTop">
                                        <div class="column width100 inlineBlock bold textSmall textRight">Attack Attribute:</div>
                                    </div></div>
                                    <div class="option-action boon inlineBlock" style="width: 38%;"><div class="row padTop">
                                        <div class="column width100 inlineBlock bold textSmall textRight">Invoking Attribute:</div>
                                    </div></div>
                                    <div class="option-action both width60 inlineBlock"><div class="row">
                                        <div class="column width50 inlineBlock">&nbsp;</div>
                                        <div class="column width25 inlineBlock bold textSmall">Score</div>
                                        <div class="column width25 inlineBlock bold textSmall">Dice</div>
                                        <div class="column inlineBlock inputSelect" style="width: 54%;">
                                            <select name="attr_name">
                    							<optgroup label="Select Attribute">
                    								<option value="None" selected="selected">Select Attribute</option>
                    							</optgroup>
                    							<optgroup label="Physical">
                    								<option value="Agility">Agility</option>
                    								<option value="Fortitude">Fortitude</option>
                    								<option value="Might">Might</option>
                    							</optgroup>
                    							<optgroup label="Mental">
                    								<option value="Learning">Learning</option>
                    								<option value="Logic">Logic</option>
                    								<option value="Perception">Perception</option>
                    								<option value="Will">Will</option>
                    							</optgroup>
                    							<optgroup label="Social">
                    								<option value="Deception">Deception</option>
                    								<option value="Persuasion">Persuasion</option>
                    								<option value="Presence">Presence</option>
                    							</optgroup>
                    							<optgroup label="Extraordinary">
                    								<option value="Alteration">Alteration</option>
                    								<option value="Creation">Creation</option>
                    								<option value="Energy">Energy</option>
                    								<option value="Entropy">Entropy</option>
                    								<option value="Influence">Influence</option>
                    								<option value="Movement">Movement</option>
                    								<option value="Prescience">Prescience</option>
                    								<option value="Protection">Protection</option>
                    							</optgroup>
                                            </select>
                                        </div>
                                        <div class="column inlineBlock textCenter inputNumber30 width15"><input type="number" name="attr_score" value=3 /></div>
                                        <div class="column inlineBlock inputDiceNum"><input type="text" name="attr_dice_number" value="1" /></div>
                                        <div class="column inlineBlock inputDiceType">
                                            <select name="attr_dice_type">
                                                <option value=0>d0</option>
                                                <option value=4>d4!!</option>
                                                <option value=6>d6!!</option>
                                                <option value=8 selected="selected">d8!!</option>
                                                <option value=10>d10!!</option>
                                                <option value=12>d12!!</option>
                                                <option value=20>d20!!</option>
                                            </select>
                                        </div>
                                    </div></div>
        
                                    <div class="option-action attack width100"><div class="row">
                                        <div class="column width100 bold italic textCenter">vs</div>
                                        <div class="column inlineBlock bold textSmall textRight" style="width: 37%;">Target Defense:</div>
                                        <div class="column width60 inlineBlock inputSelect">
                                            <select name="attr_action_target">
                                                <option value="None" selected="selected">None</option>
                                                <option value="Guard">Guard</option>
                                                <option value="Toughness">Toughness</option>
                                                <option value="Resolve">Resolve</option>
												<option value="Attack">Attack (Defend Interrupt)</option>
                                            </select>
                                        </div>
                                    </div></div>
        
                                    <div class="option-action both"><div class="row">
            							<div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_default_advantage" value=0 /></div>
            							<div class="column width75 textSmall bold textLeft inlineBlock"> Default (Dis)Advantage</div>
                                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_use_destructive_trance" value="Yes" /></div>
                                        <div class="column width75 textSmall bold textLeft inlineBlock"> Use Destructive Trance</div>
                                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_use_d20_advantage" value="Yes" /></div>
                                        <div class="column width75 textSmall bold textLeft inlineBlock"> Advantage on d20 (very Cruel)</div>
                                    </div></div>
        
                                    <div class="option-action effect width100"><div class="row padTop">
                                        <div class="column width90 inlineBlock borderAllDotted borderRound gray bold textSmall">Effects is mainly for things like Persistent Damage, Healing from Regeneration, or other Non-Action rolls (no d20) so you can have simple output to display the roll.</div>
                                        <div class="column width65 inlineBlock textSmall bold textRight">Number of Dice to Roll:</div>
                                        <div class="column width30 inlineBlock inputNumber30"><input type="number" name="attr_effect_dice_number" value=0 /></div>
                                        <div class="column width65 inlineBlock textSmall bold textRight">Type of Dice to Roll:</div>
                                        <div class="column width30 inlineBlock inputSelect">
                                            <select name="attr_effect_dice_type">
                                                <option value="None" selected="selected">Dice Size</option>
                                                <option value="d4!!">d4</option>
                                                <option value="d6!!">d6</option>
                                                <option value="d8!!">d8</option>
                                                <option value="d10!!">d10</option>
                                                <option value="d12!!">d12</option>
                                                <option value="d20!!">d20</option>
                                            </select>
                                        </div>
                                    </div></div>
        
                                    <div class="option-action all width100"><div class="row padTop">
                                        <div class="column width100 bold textSmall">Description/Special/Flavor Text</div>
                                        <div class="column width100 resizeVert vertTop"><textarea class="height50" name="attr_action_special"></textarea></div>
                                    </div></div>
        
                                    <div class="option-action boon"><div class="row">
                                        <input type="hidden" name="attr_power_level_low" value="0" />
                                        <input type="hidden" name="attr_power_level_high" value="0" />
                                        <div class="column width100 bold">Power Levels Available to Boon</div>
                                        <div class="column width100 bold textLarge">
                                            <input type="hidden" name="attr_pl1" value="" /><input type="hidden" name="attr_pl1_title" value="Power Level 1 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl1" name="attr_use_power_level_1" value="1" /> 1&nbsp;&nbsp;&nbsp; 
                                            <input type="hidden" name="attr_pl2" value="" /><input type="hidden" name="attr_pl2_title" value="Power Level 2 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl2" name="attr_use_power_level_2" value="1" /> 2&nbsp;&nbsp;&nbsp; 
                                            <input type="hidden" name="attr_pl3" value="" /><input type="hidden" name="attr_pl3_title" value="Power Level 3 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl3" name="attr_use_power_level_3" value="1" /> 3&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl4" value="" /><input type="hidden" name="attr_pl4_title" value="Power Level 4 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl4" name="attr_use_power_level_4" value="1" /> 4&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl5" value="" /><input type="hidden" name="attr_pl5_title" value="Power Level 5 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl5" name="attr_use_power_level_5" value="1" /> 5<br />
                                            <input type="hidden" name="attr_pl6" value="" /><input type="hidden" name="attr_pl6_title" value="Power Level 6 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl6" name="attr_use_power_level_6" value="1" /> 6&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl7" value="" /><input type="hidden" name="attr_pl7_title" value="Power Level 7 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl7" name="attr_use_power_level_7" value="1" /> 7&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl8" value="" /><input type="hidden" name="attr_pl8_title" value="Power Level 8 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl8" name="attr_use_power_level_8" value="1" /> 8&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl9" value="" /><input type="hidden" name="attr_pl9_title" value="Power Level 9 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl9" name="attr_use_power_level_9" value="1" /> 9
                                            <div class="width100"></div>
                                            <div class="option-boon pl1 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl1" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 1 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl1}}}">PL 1 Info</button><textarea class="height50" name="attr_action_pl1"></textarea></div>
                                            <div class="option-boon pl2 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl2" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 2 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl2}}}">PL 2 Info</button><textarea class="height50" name="attr_action_pl2"></textarea></div>
                                            <div class="option-boon pl3 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl3" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 3 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl3}}}">PL 3 Info</button><textarea class="height50" name="attr_action_pl3"></textarea></div>
                                            <div class="option-boon pl4 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl4" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 4 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl4}}}">PL 4 Info</button><textarea class="height50" name="attr_action_pl4"></textarea></div>
                                            <div class="option-boon pl5 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl5" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 5 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl5}}}">PL 5 Info</button><textarea class="height50" name="attr_action_pl5"></textarea></div>
                                            <div class="option-boon pl6 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl6" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 6 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl6}}}">PL 6 Info</button><textarea class="height50" name="attr_action_pl6"></textarea></div>
                                            <div class="option-boon pl7 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl7" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 7 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl7}}}">PL 7 Info</button><textarea class="height50" name="attr_action_pl7"></textarea></div>
                                            <div class="option-boon pl8 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl8" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 8 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl8}}}">PL 8 Info</button><textarea class="height50" name="attr_action_pl8"></textarea></div>
                                            <div class="option-boon pl9 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl9" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 9 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl9}}}">PL 9 Info</button><textarea class="height50" name="attr_action_pl9"></textarea></div>
                                        </div>
                                    </div></div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
        <!-- END Favored Actions -->
                </div>
<!-- END NPC #5 -->
            </div>
        </div>
<!-- END NPC Tab -->
        <div class="displaySheetCharacter main width100">
            <div class="row">
         <!-- Left Column for Attributes -->
           <!-- Attributes are setup so that clicking the name of the attribute will roll it -->
            <input type="hidden" class="display_attributes_flag" name="attr_display_attributes_flag" value="show" />
            <div class="third inlineBlock vertTop displayAttributes">
                <div class="attributes">
                    <div class="width100 height5"></div>
                    <div class="column width100 textLargest bold">Attributes</div>
                </div>
                <div class="row padBottom">
                    <div class="column width30 inlineBlock textCenter vertBottom bold">Total Points</div>   <!-- Track how many points you have TO spend -->
                    <div class="column width20 inlineBlock textCenter vertBottom inputNumber60"><input type="number" name="attr_attribute_points" value=40 /></div>
                    <div class="column width30 inlineBlock textCenter vertBottom bold">Points Spent</div>   <!-- Track how many points you HAVE spent -->
                    <div class="column width20 inlineBlock textCenter vertBottom inputNumber60"><input type="number" name="attr_attribute_points_spent" value=0 /></div>
                </div>
            <!-- Physical Attributes -->
                <div class="column width100 textLeft bold textLarger gray">PHYSICAL</div>
              <!-- Header Area -->
                <div class="row width100">
                    <div class="column width45 inlineBlock textSmall textLeft bold italic">Click name to Roll</div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter bold italic">Score</div>
                        <div class="column width1of3 inlineBlock textCenter bold italic">Cost</div>
                        <div class="column width1of3 inlineBlock textCenter bold italic">Dice</div>
                    </div>
                </div>
              <!-- Agility -->
                <div class="row width100">
                    <div class="width6 inlineBlock vertBottom"><input class="settings" type="checkbox" name="attr_agility_settings_flag" value="on" /><span>y</span></div>
                    <input type="hidden" class="agility_display_sub_flag" name="attr_agility_display_sub_flag" value="hide" />
                    <div class="column width39 inlineBlock textLeft textLarge bold italic attributeButton sub">
                        <button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Agility Roll}} {{subTitle= @{character_name}}} {{roll= @{agility_dice_roll}}}">Agility</button>
                    </div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_agility_score" value=0 /></div>
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_show_agility_cost" value="@{agility_cost}" disabled="disabled" /></div>
                        <input type="hidden" name="attr_agility_dice_roll" value=0 />     <!-- hidden value of the roll button string -->
                        <div class="column width1of3 inlineBlock textCenter inputDice"><input type="text" style="text-align: center;" name="attr_agility_dice" value=0 /></div>
                    </div>
                    <input type="hidden" class="agility_display_settings_flag" name="attr_agility_display_settings_flag" value="hide" />
                    <div class="width100 displaySettings padBottom">
                        <div class="column width95 inlineBlock boxShadow textSmall">Dodge attacks, move with stealth, perform acrobatics, shoot a bow, pick a pocket</div>
                        <div class="column width75 inlineBlock">Attribute Dice Size Bonus/Penalty:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_agility_dice_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Increase/Decrease cost in levels:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_agility_cost_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Default (Dis)Advantage:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_agility_default_advantage" value=0 /></div>
                        <div class="column width60 inlineBlock">Your d20 (non-combat rolls):</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_agility_dice_d20">
                                <option value="1d20!!" selected="selected">Normal</option>
                                <option value="2d20!!kh1">Advantage</option>
                                <option value="2d20!!kl1">Disadvantage</option>
                            </select>
                        </div>
                        <div class="column width60 inlineBlock">Attribute Substitution:</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_agility_substitution_select">
        						<optgroup label="Select Attribute">
        							<option value="None" selected="selected">No Substitution</option>
        						</optgroup>
        						<optgroup label="Physical">
        							<option value="Agility">Agility</option>
        							<option value="Fortitude">Fortitude</option>
        							<option value="Might">Might</option>
        						</optgroup>
        						<optgroup label="Mental">
        							<option value="Learning">Learning</option>
        							<option value="Logic">Logic</option>
        							<option value="Perception">Perception</option>
        							<option value="Will">Will</option>
        						</optgroup>
        						<optgroup label="Social">
        							<option value="Deception">Deception</option>
        							<option value="Persuasion">Persuasion</option>
        							<option value="Presence">Presence</option>
        						</optgroup>
        						<optgroup label="Extraordinary">
        							<option value="Alteration">Alteration</option>
        							<option value="Creation">Creation</option>
        							<option value="Energy">Energy</option>
        							<option value="Entropy">Entropy</option>
        							<option value="Influence">Influence</option>
        							<option value="Movement">Movement</option>
        							<option value="Prescience">Prescience</option>
        							<option value="Protection">Protection</option>
        						</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_agility_substitution" value=0 />
                        <div class="column width100 bold italic">For Tier II of Attribute Substituation</div>
        				<div class="column width100 italic">In the ACTIONS SECTION, select the substituted attribute instead of Agility.</div>
                    </div>
                </div>
              <!-- Fortitude -->
                <div class="row width100">
                    <div class="width6 inlineBlock vertBottom"><input class="settings" type="checkbox" name="attr_fortitude_settings_flag" value="on" /><span>y</span></div>
                    <input type="hidden" class="agility_display_sub_flag" name="attr_fortitude_display_sub_flag" value="hide" />
                    <div class="column width39 inlineBlock textLeft textLarge bold italic attributeButton sub">
                        <button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Fortitude Roll}} {{subTitle= @{character_name}}} {{roll= @{fortitude_dice_roll}}}">Fortitude</button>
                    </div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_fortitude_score" value=0 /></div>
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_show_fortitude_cost" value="@{fortitude_cost}" disabled="disabled" /></div>
                        <input type="hidden" name="attr_fortitude_dice_roll" value=0 />     <!-- hidden value of the roll button string -->
                        <div class="column width1of3 inlineBlock textCenter inputDice"><input type="text" style="text-align: center;" name="attr_fortitude_dice" value=0 /></div>
                    </div>
                    <input type="hidden" class="fortitude_display_settings_flag" name="attr_fortitude_display_settings_flag" value="hide" />
                    <div class="width100 displaySettings padBottom">
                        <div class="column width95 inlineBlock boxShadow textSmall">Resist poison, shrug off pain, survive in a desert, wear heavy armor</div>
                        <div class="column width75 inlineBlock">Attribute Dice Size Bonus/Penalty:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_fortitude_dice_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Increase/Decrease cost in levels:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_fortitude_cost_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Default (Dis)Advantage:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_fortitude_default_advantage" value=0 /></div>
                        <div class="column width60 inlineBlock">Your d20 (non-combat rolls):</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_fortitude_dice_d20">
                                <option value="1d20!!" selected="selected">Normal</option>
                                <option value="2d20!!kh1">Advantage</option>
                                <option value="2d20!!kl1">Disadvantage</option>
                            </select>
                        </div>
                        <div class="column width60 inlineBlock">Attribute Substitution:</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_fortitude_substitution_select">
        						<optgroup label="Select Attribute">
        							<option value="None" selected="selected">No Substitution</option>
        						</optgroup>
        						<optgroup label="Physical">
        							<option value="Agility">Agility</option>
        							<option value="Fortitude">Fortitude</option>
        							<option value="Might">Might</option>
        						</optgroup>
        						<optgroup label="Mental">
        							<option value="Learning">Learning</option>
        							<option value="Logic">Logic</option>
        							<option value="Perception">Perception</option>
        							<option value="Will">Will</option>
        						</optgroup>
        						<optgroup label="Social">
        							<option value="Deception">Deception</option>
        							<option value="Persuasion">Persuasion</option>
        							<option value="Presence">Presence</option>
        						</optgroup>
        						<optgroup label="Extraordinary">
        							<option value="Alteration">Alteration</option>
        							<option value="Creation">Creation</option>
        							<option value="Energy">Energy</option>
        							<option value="Entropy">Entropy</option>
        							<option value="Influence">Influence</option>
        							<option value="Movement">Movement</option>
        							<option value="Prescience">Prescience</option>
        							<option value="Protection">Protection</option>
        						</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_fortitude_substitution" value=0 />
                        <div class="column width100 bold italic">For Tier II of Attribute Substituation</div>
        				<div class="column width100 italic">In the ACTIONS SECTION(s), select the substituted attribute instead of Fortitude.</div>
                    </div>
                </div>
              <!-- Might -->
                <div class="row width100">
                    <div class="width6 inlineBlock vertBottom"><input class="settings" type="checkbox" name="attr_might_settings_flag" value="on" /><span>y</span></div>
                    <input type="hidden" class="agility_display_sub_flag" name="attr_might_display_sub_flag" value="hide" />
                    <div class="column width39 inlineBlock textLeft textLarge bold italic attributeButton sub">
                        <button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Might Roll}} {{subTitle= @{character_name}}} {{roll= @{might_dice_roll}}}">Might</button>
                    </div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_might_score" value=0 /></div>
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_show_might_cost" value="@{might_cost}" disabled="disabled" /></div>
                        <input type="hidden" name="attr_might_dice_roll" value=0 />     <!-- hidden value of the roll button string -->
                        <div class="column width1of3 inlineBlock textCenter inputDice"><input type="text" style="text-align: center;" name="attr_might_dice" value=0 /></div>
                    </div>
                    <input type="hidden" class="might_display_settings_flag" name="attr_might_display_settings_flag" value="hide" />
                    <div class="width100 displaySettings padBottom">
                        <div class="column width95 inlineBlock boxShadow textSmall">Swing a maul, jump over a chasm, break down a door, wrestle a foe to submission</div>
                        <div class="column width75 inlineBlock">Attribute Dice Size Bonus/Penalty:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_might_dice_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Increase/Decrease cost in levels:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_might_cost_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Default (Dis)Advantage:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_might_default_advantage" value=0 /></div>
                        <div class="column width60 inlineBlock">Your d20 (non-combat rolls):</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_might_dice_d20">
                                <option value="1d20!!" selected="selected">Normal</option>
                                <option value="2d20!!kh1">Advantage</option>
                                <option value="2d20!!kl1">Disadvantage</option>
                            </select>
                        </div>
                        <div class="column width60 inlineBlock">Attribute Substitution:</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_might_substitution_select">
        						<optgroup label="Select Attribute">
        							<option value="None" selected="selected">No Substitution</option>
        						</optgroup>
        						<optgroup label="Physical">
        							<option value="Agility">Agility</option>
        							<option value="Fortitude">Fortitude</option>
        							<option value="Might">Might</option>
        						</optgroup>
        						<optgroup label="Mental">
        							<option value="Learning">Learning</option>
        							<option value="Logic">Logic</option>
        							<option value="Perception">Perception</option>
        							<option value="Will">Will</option>
        						</optgroup>
        						<optgroup label="Social">
        							<option value="Deception">Deception</option>
        							<option value="Persuasion">Persuasion</option>
        							<option value="Presence">Presence</option>
        						</optgroup>
        						<optgroup label="Extraordinary">
        							<option value="Alteration">Alteration</option>
        							<option value="Creation">Creation</option>
        							<option value="Energy">Energy</option>
        							<option value="Entropy">Entropy</option>
        							<option value="Influence">Influence</option>
        							<option value="Movement">Movement</option>
        							<option value="Prescience">Prescience</option>
        							<option value="Protection">Protection</option>
        						</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_might_substitution" value=0 />
                        <div class="column width90 inlineBlock">Substitution affects Max Heavy Carry</div>
                        <div class="column width10 inlineBlock"><input type="checkbox" class="checks25" name="attr_might_substitution_heavy" /></div>
                        <div class="column width100 bold italic">For Tier II of Attribute Substituation</div>
        				<div class="column width100 italic">In the ACTIONS SECTION, select the substituted attribute instead of Might.</div>
                    </div>
                </div>
            <!-- end of physical attributes -->
            <!-- Mental Attributes -->
                <div class="column width100 textLeft bold textLarger gray">MENTAL</div>
              <!-- Header Area -->
                <div class="row width100">
                    <div class="column width45 inlineBlock textSmall textLeft bold italic">Click name to Roll</div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter bold italic">Score</div>
                        <div class="column width1of3 inlineBlock textCenter bold italic">Cost</div>
                        <div class="column width1of3 inlineBlock textCenter bold italic">Dice</div>
                    </div>
                </div>
              <!-- Learning -->
                <div class="row width100">
                    <div class="width6 inlineBlock vertBottom"><input class="settings" type="checkbox" name="attr_learning_settings_flag" value="on" /><span>y</span></div>
                    <input type="hidden" class="learning_display_sub_flag" name="attr_learning_display_sub_flag" value="hide" />
                    <div class="column width39 inlineBlock textLeft textLarge bold italic attributeButton sub">
                        <button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Learning Roll}} {{subTitle= @{character_name}}} {{roll= @{learning_dice_roll}}}">Learning</button>
                    </div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_learning_score" value=0 /></div>
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_show_learning_cost" value="@{learning_cost}" disabled="disabled" /></div>
                        <input type="hidden" name="attr_learning_dice_roll" value=0 />     <!-- hidden value of the roll button string -->
                        <div class="column width1of3 inlineBlock textCenter inputDice"><input type="text" style="text-align: center;" name="attr_learning_dice" value=0 /></div>
                    </div>
                    <input type="hidden" class="learning_display_settings_flag" name="attr_learning_display_settings_flag" value="hide" />
                    <div class="width100 displaySettings padBottom">
                        <div class="column width95 inlineBlock boxShadow textSmall">Recall facts about history, arcane magic, the natural world, or any information you picked up from an external source</div>
                        <div class="column width75 inlineBlock">Attribute Dice Size Bonus/Penalty:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_learning_dice_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Increase/Decrease cost in levels:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_learning_cost_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Default (Dis)Advantage:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_learning_default_advantage" value=0 /></div>
                        <div class="column width60 inlineBlock">Your d20 (non-combat rolls):</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_learning_dice_d20">
                                <option value="1d20!!" selected="selected">Normal</option>
                                <option value="2d20!!kh1">Advantage</option>
                                <option value="2d20!!kl1">Disadvantage</option>
                            </select>
                        </div>
                        <div class="column width60 inlineBlock">Attribute Substitution:</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_learning_substitution_select">
        						<optgroup label="Select Attribute">
        							<option value="None" selected="selected">No Substitution</option>
        						</optgroup>
        						<optgroup label="Physical">
        							<option value="Agility">Agility</option>
        							<option value="Fortitude">Fortitude</option>
        							<option value="Might">Might</option>
        						</optgroup>
        						<optgroup label="Mental">
        							<option value="Learning">Learning</option>
        							<option value="Logic">Logic</option>
        							<option value="Perception">Perception</option>
        							<option value="Will">Will</option>
        						</optgroup>
        						<optgroup label="Social">
        							<option value="Deception">Deception</option>
        							<option value="Persuasion">Persuasion</option>
        							<option value="Presence">Presence</option>
        						</optgroup>
        						<optgroup label="Extraordinary">
        							<option value="Alteration">Alteration</option>
        							<option value="Creation">Creation</option>
        							<option value="Energy">Energy</option>
        							<option value="Entropy">Entropy</option>
        							<option value="Influence">Influence</option>
        							<option value="Movement">Movement</option>
        							<option value="Prescience">Prescience</option>
        							<option value="Protection">Protection</option>
        						</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_learning_substitution" value=0 />
                        <div class="column width100 bold italic">For Tier II of Attribute Substituation</div>
        				<div class="column width100 italic">In the ACTIONS SECTION(s), select the substituted attribute instead of Learning.</div>
                    </div>
                </div>
              <!-- Logic -->
                <div class="row width100">
                    <div class="width6 inlineBlock vertBottom"><input class="settings" type="checkbox" name="attr_logic_settings_flag" value="on" /><span>y</span></div>
                    <input type="hidden" class="logic_display_sub_flag" name="attr_logic_display_sub_flag" value="hide" />
                    <div class="column width39 inlineBlock textLeft textLarge bold italic attributeButton sub">
                        <button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Logic Roll}} {{subTitle= @{character_name}}} {{roll= @{logic_dice_roll}}}">Logic</button>
                    </div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_logic_score" value=0 /></div>
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_show_logic_cost" value="@{logic_cost}" disabled="disabled" /></div>
                        <input type="hidden" name="attr_logic_dice_roll" value=0 />     <!-- hidden value of the roll button string -->
                        <div class="column width1of3 inlineBlock textCenter inputDice"><input type="text" style="text-align: center;" name="attr_logic_dice" value=0 /></div>
                    </div>
                    <input type="hidden" class="logic_display_settings_flag" name="attr_logic_display_settings_flag" value="hide" />
                    <div class="width100 displaySettings padBottom">
                        <div class="column width95 inlineBlock boxShadow textSmall">Innovate a new crafting method, decipher a code, jury-rig a device, get the gist of a language you dont speak</div>
                        <div class="column width75 inlineBlock">Attribute Dice Size Bonus/Penalty:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_logic_dice_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Increase/Decrease cost in levels:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_logic_cost_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Default (Dis)Advantage:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_logic_default_advantage" value=0 /></div>
                        <div class="column width60 inlineBlock">Your d20 (non-combat rolls):</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_logic_dice_d20">
                                <option value="1d20!!" selected="selected">Normal</option>
                                <option value="2d20!!kh1">Advantage</option>
                                <option value="2d20!!kl1">Disadvantage</option>
                            </select>
                        </div>
                        <div class="column width60 inlineBlock">Attribute Substitution:</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_logic_substitution_select">
        						<optgroup label="Select Attribute">
        							<option value="None" selected="selected">No Substitution</option>
        						</optgroup>
        						<optgroup label="Physical">
        							<option value="Agility">Agility</option>
        							<option value="Fortitude">Fortitude</option>
        							<option value="Might">Might</option>
        						</optgroup>
        						<optgroup label="Mental">
        							<option value="Learning">Learning</option>
        							<option value="Logic">Logic</option>
        							<option value="Perception">Perception</option>
        							<option value="Will">Will</option>
        						</optgroup>
        						<optgroup label="Social">
        							<option value="Deception">Deception</option>
        							<option value="Persuasion">Persuasion</option>
        							<option value="Presence">Presence</option>
        						</optgroup>
        						<optgroup label="Extraordinary">
        							<option value="Alteration">Alteration</option>
        							<option value="Creation">Creation</option>
        							<option value="Energy">Energy</option>
        							<option value="Entropy">Entropy</option>
        							<option value="Influence">Influence</option>
        							<option value="Movement">Movement</option>
        							<option value="Prescience">Prescience</option>
        							<option value="Protection">Protection</option>
        						</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_logic_substitution" value=0 />
                        <div class="column width100 bold italic">For Tier II of Attribute Substituation</div>
        				<div class="column width100 italic">In the ACTIONS SECTION(s), select the substituted attribute instead of Logic.</div>
                    </div>
                </div>
              <!-- Perception -->
                <div class="row width100">
                    <div class="width6 inlineBlock vertBottom"><input class="settings" type="checkbox" name="attr_perception_settings_flag" value="on" /><span>y</span></div>
                    <input type="hidden" class="perception_display_sub_flag" name="attr_perception_display_sub_flag" value="hide" />
                    <div class="column width39 inlineBlock textLeft textLarge bold italic attributeButton sub">
                        <button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Perception Roll}} {{subTitle= @{character_name}}} {{roll= @{perception_dice_roll}}}">Perception</button>
                    </div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_perception_score" value=0 /></div>
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_show_perception_cost" value="@{perception_cost}" disabled="disabled" /></div>
                        <input type="hidden" name="attr_perception_dice_roll" value=0 />     <!-- hidden value of the roll button string -->
                        <div class="column width1of3 inlineBlock textCenter inputDice"><input type="text" style="text-align: center;" name="attr_perception_dice" value=0 /></div>
                    </div>
                    <input type="hidden" class="perception_display_settings_flag" name="attr_perception_display_settings_flag" value="hide" />
                    <div class="width100 displaySettings padBottom">
                        <div class="column width95 inlineBlock boxShadow textSmall">Sense ulterior motives, track someone, catch a gut feeling, spot a hidden foe, find a secret door</div>
                        <div class="column width75 inlineBlock">Attribute Dice Size Bonus/Penalty:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_perception_dice_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Increase/Decrease cost in levels:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_perception_cost_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Default (Dis)Advantage:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_perception_default_advantage" value=0 /></div>
                        <div class="column width60 inlineBlock">Your d20 (non-combat rolls):</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_perception_dice_d20">
                                <option value="1d20!!" selected="selected">Normal</option>
                                <option value="2d20!!kh1">Advantage</option>
                                <option value="2d20!!kl1">Disadvantage</option>
                            </select>
                        </div>
                        <div class="column width60 inlineBlock">Attribute Substitution:</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_perception_substitution_select">
        						<optgroup label="Select Attribute">
        							<option value="None" selected="selected">No Substitution</option>
        						</optgroup>
        						<optgroup label="Physical">
        							<option value="Agility">Agility</option>
        							<option value="Fortitude">Fortitude</option>
        							<option value="Might">Might</option>
        						</optgroup>
        						<optgroup label="Mental">
        							<option value="Learning">Learning</option>
        							<option value="Logic">Logic</option>
        							<option value="Perception">Perception</option>
        							<option value="Will">Will</option>
        						</optgroup>
        						<optgroup label="Social">
        							<option value="Deception">Deception</option>
        							<option value="Persuasion">Persuasion</option>
        							<option value="Presence">Presence</option>
        						</optgroup>
        						<optgroup label="Extraordinary">
        							<option value="Alteration">Alteration</option>
        							<option value="Creation">Creation</option>
        							<option value="Energy">Energy</option>
        							<option value="Entropy">Entropy</option>
        							<option value="Influence">Influence</option>
        							<option value="Movement">Movement</option>
        							<option value="Prescience">Prescience</option>
        							<option value="Protection">Protection</option>
        						</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_perception_substitution" value=0 />
                        <div class="column width100 bold italic">For Tier II of Attribute Substituation</div>
        				<div class="column width100 italic">In the ACTIONS SECTION(s), select the substituted attribute instead of Perception.</div>
                    </div>
                </div>
              <!-- Will -->
                <div class="row width100">
                    <div class="width6 inlineBlock vertBottom"><input class="settings" type="checkbox" name="attr_will_settings_flag" value="on" /><span>y</span></div>
                    <input type="hidden" class="will_display_sub_flag" name="attr_will_display_sub_flag" value="hide" />
                    <div class="column width39 inlineBlock textLeft textLarge bold italic attributeButton sub">
                        <button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Will Roll}} {{subTitle= @{character_name}}} {{roll= @{will_dice_roll}}}">Will</button>
                    </div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_will_score" value=0 /></div>
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_show_will_cost" value="@{will_cost}" disabled="disabled" /></div>
                        <input type="hidden" name="attr_will_dice_roll" value=0 />     <!-- hidden value of the roll button string -->
                        <div class="column width1of3 inlineBlock textCenter inputDice"><input type="text" style="text-align: center;" name="attr_will_dice" value=0 /></div>
                    </div>
                    <input type="hidden" class="will_display_settings_flag" name="attr_will_display_settings_flag" value="hide" />
                    <div class="width100 displaySettings padBottom">
                        <div class="column width95 inlineBlock boxShadow textSmall">Maintain your resolve, resist torture, study long hours, stay awake on watch, stave off insanity</div>
                        <div class="column width75 inlineBlock">Attribute Dice Size Bonus/Penalty:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_will_dice_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Increase/Decrease cost in levels:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_will_cost_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Default (Dis)Advantage:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_will_default_advantage" value=0 /></div>
                        <div class="column width60 inlineBlock">Your d20 (non-combat rolls):</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_will_dice_d20">
                                <option value="1d20!!" selected="selected">Normal</option>
                                <option value="2d20!!kh1">Advantage</option>
                                <option value="2d20!!kl1">Disadvantage</option>
                            </select>
                        </div>
                        <div class="column width60 inlineBlock">Attribute Substitution:</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_will_substitution_select">
        						<optgroup label="Select Attribute">
        							<option value="None" selected="selected">No Substitution</option>
        						</optgroup>
        						<optgroup label="Physical">
        							<option value="Agility">Agility</option>
        							<option value="Fortitude">Fortitude</option>
        							<option value="Might">Might</option>
        						</optgroup>
        						<optgroup label="Mental">
        							<option value="Learning">Learning</option>
        							<option value="Logic">Logic</option>
        							<option value="Perception">Perception</option>
        							<option value="Will">Will</option>
        						</optgroup>
        						<optgroup label="Social">
        							<option value="Deception">Deception</option>
        							<option value="Persuasion">Persuasion</option>
        							<option value="Presence">Presence</option>
        						</optgroup>
        						<optgroup label="Extraordinary">
        							<option value="Alteration">Alteration</option>
        							<option value="Creation">Creation</option>
        							<option value="Energy">Energy</option>
        							<option value="Entropy">Entropy</option>
        							<option value="Influence">Influence</option>
        							<option value="Movement">Movement</option>
        							<option value="Prescience">Prescience</option>
        							<option value="Protection">Protection</option>
        						</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_will_substitution" value=0 />
                        <div class="column width100 bold italic">For Tier II of Attribute Substituation</div>
        				<div class="column width100 italic">In the ACTIONS SECTION(s), select the substituted attribute instead of Will.</div>
                    </div>
                </div>
            <!-- end mental attributes -->
            <!-- Social Attributes -->
                <div class="column width100 textLeft bold textLarger gray">SOCIAL</div>
              <!-- Header Area -->
                <div class="row width100">
                    <div class="column width45 inlineBlock textSmall textLeft bold italic">Click name to Roll</div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter bold italic">Score</div>
                        <div class="column width1of3 inlineBlock textCenter bold italic">Cost</div>
                        <div class="column width1of3 inlineBlock textCenter bold italic">Dice</div>
                    </div>
                </div>
              <!-- Deception -->
                <div class="row width100">
                    <div class="width6 inlineBlock vertBottom"><input class="settings" type="checkbox" name="attr_deception_settings_flag" value="on" /><span>y</span></div>
                    <input type="hidden" class="deception_display_sub_flag" name="attr_deception_display_sub_flag" value="hide" />
                    <div class="column width39 inlineBlock textLeft textLarge bold italic attributeButton sub">
                        <button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Deception Roll}} {{subTitle= @{character_name}}} {{roll= @{deception_dice_roll}}}">Deception</button>
                    </div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_deception_score" value=0 /></div>
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_show_deception_cost" value="@{deception_cost}" disabled="disabled" /></div>
                        <input type="hidden" name="attr_deception_dice_roll" value=0 />     <!-- hidden value of the roll button string -->
                        <div class="column width1of3 inlineBlock textCenter inputDice"><input type="text" style="text-align: center;" name="attr_deception_dice" value=0 /></div>
                    </div>
                    <input type="hidden" class="deception_display_settings_flag" name="attr_deception_display_settings_flag" value="hide" />
                    <div class="width100 displaySettings padBottom">
                        <div class="column width95 inlineBlock boxShadow textSmall">Tell a lie, bluff at cards, disguise yourself, spread rumors, swindle a sucker</div>
                        <div class="column width75 inlineBlock">Attribute Dice Size Bonus/Penalty:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_deception_dice_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Increase/Decrease cost in levels:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_deception_cost_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Default (Dis)Advantage:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_deception_default_advantage" value=0 /></div>
                        <div class="column width60 inlineBlock">Your d20 (non-combat rolls):</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_deception_dice_d20">
                                <option value="1d20!!" selected="selected">Normal</option>
                                <option value="2d20!!kh1">Advantage</option>
                                <option value="2d20!!kl1">Disadvantage</option>
                            </select>
                        </div>
                        <div class="column width60 inlineBlock">Attribute Substitution:</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_deception_substitution_select">
        						<optgroup label="Select Attribute">
        							<option value="None" selected="selected">No Substitution</option>
        						</optgroup>
        						<optgroup label="Physical">
        							<option value="Agility">Agility</option>
        							<option value="Fortitude">Fortitude</option>
        							<option value="Might">Might</option>
        						</optgroup>
        						<optgroup label="Mental">
        							<option value="Learning">Learning</option>
        							<option value="Logic">Logic</option>
        							<option value="Perception">Perception</option>
        							<option value="Will">Will</option>
        						</optgroup>
        						<optgroup label="Social">
        							<option value="Deception">Deception</option>
        							<option value="Persuasion">Persuasion</option>
        							<option value="Presence">Presence</option>
        						</optgroup>
        						<optgroup label="Extraordinary">
        							<option value="Alteration">Alteration</option>
        							<option value="Creation">Creation</option>
        							<option value="Energy">Energy</option>
        							<option value="Entropy">Entropy</option>
        							<option value="Influence">Influence</option>
        							<option value="Movement">Movement</option>
        							<option value="Prescience">Prescience</option>
        							<option value="Protection">Protection</option>
        						</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_deception_substitution" value=0 />
                        <div class="column width100 bold italic">For Tier II of Attribute Substituation</div>
        				<div class="column width100 italic">In the ACTIONS SECTION(s), select the substituted attribute instead of Deception.</div>
                    </div>
                </div>
              <!-- Persuasion -->
                <div class="row width100">
                    <div class="width6 inlineBlock vertBottom"><input class="settings" type="checkbox" name="attr_persuasion_settings_flag" value="on" /><span>y</span></div>
                    <input type="hidden" class="persuasion_display_sub_flag" name="attr_persuasion_display_sub_flag" value="hide" />
                    <div class="column width39 inlineBlock textLeft textLarge bold italic attributeButton sub">
                        <button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Persuasion Roll}} {{subTitle= @{character_name}}} {{roll= @{persuasion_dice_roll}}}">Persuasion</button>
                    </div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_persuasion_score" value=0 /></div>
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_show_persuasion_cost" value="@{persuasion_cost}" disabled="disabled" /></div>
                        <input type="hidden" name="attr_persuasion_dice_roll" value=0 />     <!-- hidden value of the roll button string -->
                        <div class="column width1of3 inlineBlock textCenter inputDice"><input type="text" style="text-align: center;" name="attr_persuasion_dice" value=0 /></div>
                    </div>
                    <input type="hidden" class="persuasion_display_settings_flag" name="attr_persuasion_display_settings_flag" value="hide" />
                    <div class="width100 displaySettings padBottom">
                        <div class="column width95 inlineBlock boxShadow textSmall">Negotiate a deal, convince someone, haggle a good price, pry information</div>
                        <div class="column width75 inlineBlock">Attribute Dice Size Bonus/Penalty:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_persuasion_dice_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Increase/Decrease cost in levels:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_persuasion_cost_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Default (Dis)Advantage:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_persuasion_default_advantage" value=0 /></div>
                        <div class="column width60 inlineBlock">Your d20 (non-combat rolls):</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_persuasion_dice_d20">
                                <option value="1d20!!" selected="selected">Normal</option>
                                <option value="2d20!!kh1">Advantage</option>
                                <option value="2d20!!kl1">Disadvantage</option>
                            </select>
                        </div>
                        <div class="column width60 inlineBlock">Attribute Substitution:</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_persuasion_substitution_select">
        						<optgroup label="Select Attribute">
        							<option value="None" selected="selected">No Substitution</option>
        						</optgroup>
        						<optgroup label="Physical">
        							<option value="Agility">Agility</option>
        							<option value="Fortitude">Fortitude</option>
        							<option value="Might">Might</option>
        						</optgroup>
        						<optgroup label="Mental">
        							<option value="Learning">Learning</option>
        							<option value="Logic">Logic</option>
        							<option value="Perception">Perception</option>
        							<option value="Will">Will</option>
        						</optgroup>
        						<optgroup label="Social">
        							<option value="Deception">Deception</option>
        							<option value="Persuasion">Persuasion</option>
        							<option value="Presence">Presence</option>
        						</optgroup>
        						<optgroup label="Extraordinary">
        							<option value="Alteration">Alteration</option>
        							<option value="Creation">Creation</option>
        							<option value="Energy">Energy</option>
        							<option value="Entropy">Entropy</option>
        							<option value="Influence">Influence</option>
        							<option value="Movement">Movement</option>
        							<option value="Prescience">Prescience</option>
        							<option value="Protection">Protection</option>
        						</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_persuasion_substitution" value=0 />
                        <div class="column width100 bold italic">For Tier II of Attribute Substituation</div>
        				<div class="column width100 italic">In the ACTIONS SECTION(s), select the substituted attribute instead of Persuasion.</div>
                    </div>
                </div>
              <!-- Presence -->
                <div class="row width100">
                    <div class="width6 inlineBlock vertBottom"><input class="settings" type="checkbox" name="attr_presence_settings_flag" value="on" /><span>y</span></div>
                    <input type="hidden" class="presence_display_sub_flag" name="attr_presence_display_sub_flag" value="hide" />
                    <div class="column width39 inlineBlock textLeft textLarge bold italic attributeButton sub">
                        <button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Presence Roll}} {{subTitle= @{character_name}}} {{roll= @{presence_dice_roll}}}">Presence</button>
                    </div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_presence_score" value=0 /></div>
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_show_presence_cost" value="@{presence_cost}" disabled="disabled" /></div>
                        <input type="hidden" name="attr_presence_dice_roll" value=0 />     <!-- hidden value of the roll button string -->
                        <div class="column width1of3 inlineBlock textCenter inputDice"><input type="text" style="text-align: center;" name="attr_presence_dice" value=0 /></div>
                    </div>
                    <input type="hidden" class="presence_display_settings_flag" name="attr_presence_display_settings_flag" value="hide" />
                    <div class="width100 displaySettings padBottom">
                        <div class="column width95 inlineBlock boxShadow textSmall">Give a speech, sing a song, inspire an army, exert your force of personality, have luck smile upon you</div>
                        <div class="column width75 inlineBlock">Attribute Dice Size Bonus/Penalty:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_presence_dice_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Increase/Decrease cost in levels:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_presence_cost_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Default (Dis)Advantage:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_presence_default_advantage" value=0 /></div>
                        <div class="column width60 inlineBlock">Your d20 (non-combat rolls):</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_presence_dice_d20">
                                <option value="1d20!!" selected="selected">Normal</option>
                                <option value="2d20!!kh1">Advantage</option>
                                <option value="2d20!!kl1">Disadvantage</option>
                            </select>
                        </div>
                        <div class="column width60 inlineBlock">Attribute Substitution:</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_presence_substitution_select">
        						<optgroup label="Select Attribute">
        							<option value="None" selected="selected">No Substitution</option>
        						</optgroup>
        						<optgroup label="Physical">
        							<option value="Agility">Agility</option>
        							<option value="Fortitude">Fortitude</option>
        							<option value="Might">Might</option>
        						</optgroup>
        						<optgroup label="Mental">
        							<option value="Learning">Learning</option>
        							<option value="Logic">Logic</option>
        							<option value="Perception">Perception</option>
        							<option value="Will">Will</option>
        						</optgroup>
        						<optgroup label="Social">
        							<option value="Deception">Deception</option>
        							<option value="Persuasion">Persuasion</option>
        							<option value="Presence">Presence</option>
        						</optgroup>
        						<optgroup label="Extraordinary">
        							<option value="Alteration">Alteration</option>
        							<option value="Creation">Creation</option>
        							<option value="Energy">Energy</option>
        							<option value="Entropy">Entropy</option>
        							<option value="Influence">Influence</option>
        							<option value="Movement">Movement</option>
        							<option value="Prescience">Prescience</option>
        							<option value="Protection">Protection</option>
        						</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_presence_substitution" value=0 />
                        <div class="column width100 bold italic">For Tier II of Attribute Substituation</div>
        				<div class="column width100 italic">In the ACTIONS SECTION(s), select the substituted attribute instead of Presence.</div>
                    </div>
                </div>
            <!-- end of Social attributes -->
            <!-- Extraordinary Attributes -->
                <div class="column width100 textLeft bold textLarger gray">EXTRAORDINARY</div>
              <!-- Header Area -->
                <div class="row width100">
                    <div class="column width45 inlineBlock textSmall textLeft bold italic">Click name to Roll</div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter bold italic">Score</div>
                        <div class="column width1of3 inlineBlock textCenter bold italic">Cost</div>
                        <div class="column width1of3 inlineBlock textCenter bold italic">Dice</div>
                    </div>
                </div>
              <!-- Alteration -->
                <div class="row width100">
                    <div class="width6 inlineBlock vertBottom"><input class="settings" type="checkbox" name="attr_alteration_settings_flag" value="on" /><span>y</span></div>
                    <input type="hidden" class="alteration_display_sub_flag" name="attr_alteration_display_sub_flag" value="hide" />
                    <div class="column width39 inlineBlock textLeft textLarge bold italic attributeButton sub">
                        <button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Alteration Roll}} {{subTitle= @{character_name}}} {{roll= @{alteration_dice_roll}}}">Alteration</button>
                    </div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_alteration_score" value=0 /></div>
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_show_alteration_cost" value="@{alteration_cost}" disabled="disabled" /></div>
                        <input type="hidden" name="attr_alteration_dice_roll" value=0 />     <!-- hidden value of the roll button string -->
                        <div class="column width1of3 inlineBlock textCenter inputDice"><input type="text" style="text-align: center;" name="attr_alteration_dice" value=0 /></div>
                    </div>
                    <input type="hidden" class="alteration_display_settings_flag" name="attr_alteration_display_settings_flag" value="hide" />
                    <div class="width100 displaySettings padBottom">
                        <div class="column width95 inlineBlock boxShadow textSmall">Change shape, alter molecular structures, transmute one material into another</div>
                        <div class="column width75 inlineBlock">Attribute Dice Size Bonus/Penalty:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_alteration_dice_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Increase/Decrease cost in levels:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_alteration_cost_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Default (Dis)Advantage:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_alteration_default_advantage" value=0 /></div>
                        <div class="column width60 inlineBlock">Your d20 (non-combat rolls):</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_alteration_dice_d20">
                                <option value="1d20!!" selected="selected">Normal</option>
                                <option value="2d20!!kh1">Advantage</option>
                                <option value="2d20!!kl1">Disadvantage</option>
                            </select>
                        </div>
                        <div class="column width60 inlineBlock">Attribute Substitution:</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_alteration_substitution_select">
        						<optgroup label="Select Attribute">
        							<option value="None" selected="selected">No Substitution</option>
        						</optgroup>
        						<optgroup label="Physical">
        							<option value="Agility">Agility</option>
        							<option value="Fortitude">Fortitude</option>
        							<option value="Might">Might</option>
        						</optgroup>
        						<optgroup label="Mental">
        							<option value="Learning">Learning</option>
        							<option value="Logic">Logic</option>
        							<option value="Perception">Perception</option>
        							<option value="Will">Will</option>
        						</optgroup>
        						<optgroup label="Social">
        							<option value="Deception">Deception</option>
        							<option value="Persuasion">Persuasion</option>
        							<option value="Presence">Presence</option>
        						</optgroup>
        						<optgroup label="Extraordinary">
        							<option value="Alteration">Alteration</option>
        							<option value="Creation">Creation</option>
        							<option value="Energy">Energy</option>
        							<option value="Entropy">Entropy</option>
        							<option value="Influence">Influence</option>
        							<option value="Movement">Movement</option>
        							<option value="Prescience">Prescience</option>
        							<option value="Protection">Protection</option>
        						</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_alteration_substitution" value=0 />
                        <div class="column width100 bold italic">For Tier II of Attribute Substituation</div>
        				<div class="column width100 italic">In the ACTIONS SECTION(s), select the substituted attribute instead of Alteration.</div>
                    </div>
                </div>
              <!-- Creation -->
                <div class="row width100">
                    <div class="width6 inlineBlock vertBottom"><input class="settings" type="checkbox" name="attr_creation_settings_flag" value="on" /><span>y</span></div>
                    <input type="hidden" class="creation_display_sub_flag" name="attr_creation_display_sub_flag" value="hide" />
                    <div class="column width39 inlineBlock textLeft textLarge bold italic attributeButton sub">
                        <button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Creation Roll}} {{subTitle= @{character_name}}} {{roll= @{creation_dice_roll}}}">Creation</button>
                    </div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_creation_score" value=0 /></div>
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_show_creation_cost" value="@{creation_cost}" disabled="disabled" /></div>
                        <input type="hidden" name="attr_creation_dice_roll" value=0 />     <!-- hidden value of the roll button string -->
                        <div class="column width1of3 inlineBlock textCenter inputDice"><input type="text" style="text-align: center;" name="attr_creation_dice" value=0 /></div>
                    </div>
                    <input type="hidden" class="creation_display_settings_flag" name="attr_creation_display_settings_flag" value="hide" />
                    <div class="width100 displaySettings padBottom">
                        <div class="column width95 inlineBlock boxShadow textSmall">Channel higher powers, manifest something from nothing, regenerate, divinely bolster</div>
                        <div class="column width75 inlineBlock">Attribute Dice Size Bonus/Penalty:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_creation_dice_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Increase/Decrease cost in levels:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_creation_cost_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Default (Dis)Advantage:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_creation_default_advantage" value=0 /></div>
                        <div class="column width60 inlineBlock">Your d20 (non-combat rolls):</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_creation_dice_d20">
                                <option value="1d20!!" selected="selected">Normal</option>
                                <option value="2d20!!kh1">Advantage</option>
                                <option value="2d20!!kl1">Disadvantage</option>
                            </select>
                        </div>
                        <div class="column width60 inlineBlock">Attribute Substitution:</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_creation_substitution_select">
        						<optgroup label="Select Attribute">
        							<option value="None" selected="selected">No Substitution</option>
        						</optgroup>
        						<optgroup label="Physical">
        							<option value="Agility">Agility</option>
        							<option value="Fortitude">Fortitude</option>
        							<option value="Might">Might</option>
        						</optgroup>
        						<optgroup label="Mental">
        							<option value="Learning">Learning</option>
        							<option value="Logic">Logic</option>
        							<option value="Perception">Perception</option>
        							<option value="Will">Will</option>
        						</optgroup>
        						<optgroup label="Social">
        							<option value="Deception">Deception</option>
        							<option value="Persuasion">Persuasion</option>
        							<option value="Presence">Presence</option>
        						</optgroup>
        						<optgroup label="Extraordinary">
        							<option value="Alteration">Alteration</option>
        							<option value="Creation">Creation</option>
        							<option value="Energy">Energy</option>
        							<option value="Entropy">Entropy</option>
        							<option value="Influence">Influence</option>
        							<option value="Movement">Movement</option>
        							<option value="Prescience">Prescience</option>
        							<option value="Protection">Protection</option>
        						</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_creation_substitution" value=0 />
                        <div class="column width100 bold italic">For Tier II of Attribute Substituation</div>
        				<div class="column width100 italic">In the ACTIONS SECTION(s), select the substituted attribute instead of Creation.</div>
                    </div>
                </div>
              <!-- Energy -->
                <div class="row width100">
                    <div class="width6 inlineBlock vertBottom"><input class="settings" type="checkbox" name="attr_energy_settings_flag" value="on" /><span>y</span></div>
                    <input type="hidden" class="energy_display_sub_flag" name="attr_energy_display_sub_flag" value="hide" />
                    <div class="column width39 inlineBlock textLeft textLarge bold italic attributeButton sub">
                        <button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Energy Roll}} {{subTitle= @{character_name}}} {{roll= @{energy_dice_roll}}}">Energy</button>
                    </div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_energy_score" value=0 /></div>
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_show_energy_cost" value="@{energy_cost}" disabled="disabled" /></div>
                        <input type="hidden" name="attr_energy_dice_roll" value=0 />     <!-- hidden value of the roll button string -->
                        <div class="column width1of3 inlineBlock textCenter inputDice"><input type="text" style="text-align: center;" name="attr_energy_dice" value=0 /></div>
                    </div>
                    <input type="hidden" class="energy_display_settings_flag" name="attr_energy_display_settings_flag" value="hide" />
                    <div class="width100 displaySettings padBottom">
                        <div class="column width95 inlineBlock boxShadow textSmall">Create and control the elementsfire, cold, electricity</div>
                        <div class="column width75 inlineBlock">Attribute Dice Size Bonus/Penalty:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_energy_dice_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Increase/Decrease cost in levels:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_energy_cost_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Default (Dis)Advantage:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_energy_default_advantage" value=0 /></div>
                        <div class="column width60 inlineBlock">Your d20 (non-combat rolls):</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_energy_dice_d20">
                                <option value="1d20!!" selected="selected">Normal</option>
                                <option value="2d20!!kh1">Advantage</option>
                                <option value="2d20!!kl1">Disadvantage</option>
                            </select>
                        </div>
                        <div class="column width60 inlineBlock">Attribute Substitution:</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_energy_substitution_select">
        						<optgroup label="Select Attribute">
        							<option value="None" selected="selected">No Substitution</option>
        						</optgroup>
        						<optgroup label="Physical">
        							<option value="Agility">Agility</option>
        							<option value="Fortitude">Fortitude</option>
        							<option value="Might">Might</option>
        						</optgroup>
        						<optgroup label="Mental">
        							<option value="Learning">Learning</option>
        							<option value="Logic">Logic</option>
        							<option value="Perception">Perception</option>
        							<option value="Will">Will</option>
        						</optgroup>
        						<optgroup label="Social">
        							<option value="Deception">Deception</option>
        							<option value="Persuasion">Persuasion</option>
        							<option value="Presence">Presence</option>
        						</optgroup>
        						<optgroup label="Extraordinary">
        							<option value="Alteration">Alteration</option>
        							<option value="Creation">Creation</option>
        							<option value="Energy">Energy</option>
        							<option value="Entropy">Entropy</option>
        							<option value="Influence">Influence</option>
        							<option value="Movement">Movement</option>
        							<option value="Prescience">Prescience</option>
        							<option value="Protection">Protection</option>
        						</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_energy_substitution" value=0 />
                        <div class="column width100 bold italic">For Tier II of Attribute Substituation</div>
        				<div class="column width100 italic">In the ACTIONS SECTION(s), select the substituted attribute instead of Energy.</div>
                    </div>
                </div>
              <!-- Entropy -->
                <div class="row width100">
                    <div class="width6 inlineBlock vertBottom"><input class="settings" type="checkbox" name="attr_entropy_settings_flag" value="on" /><span>y</span></div>
                    <input type="hidden" class="entropy_display_sub_flag" name="attr_entropy_display_sub_flag" value="hide" />
                    <div class="column width39 inlineBlock textLeft textLarge bold italic attributeButton sub">
                        <button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Entropy Roll}} {{subTitle= @{character_name}}} {{roll= @{entropy_dice_roll}}}">Entropy</button>
                    </div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_entropy_score" value=0 /></div>
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_show_entropy_cost" value="@{entropy_cost}" disabled="disabled" /></div>
                        <input type="hidden" name="attr_entropy_dice_roll" value=0 />     <!-- hidden value of the roll button string -->
                        <div class="column width1of3 inlineBlock textCenter inputDice"><input type="text" style="text-align: center;" name="attr_entropy_dice" value=0 /></div>
                    </div>
                    <input type="hidden" class="entropy_display_settings_flag" name="attr_entropy_display_settings_flag" value="hide" />
                    <div class="width100 displaySettings padBottom">
                        <div class="column width95 inlineBlock boxShadow textSmall">Disintegrate matter, kill with a word, create undead, sicken others</div>
                        <div class="column width75 inlineBlock">Attribute Dice Size Bonus/Penalty:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_entropy_dice_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Increase/Decrease cost in levels:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_entropy_cost_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Default (Dis)Advantage:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_entropy_default_advantage" value=0 /></div>
                        <div class="column width60 inlineBlock">Your d20 (non-combat rolls):</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_entropy_dice_d20">
                                <option value="1d20!!" selected="selected">Normal</option>
                                <option value="2d20!!kh1">Advantage</option>
                                <option value="2d20!!kl1">Disadvantage</option>
                            </select>
                        </div>
                        <div class="column width60 inlineBlock">Attribute Substitution:</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_entropy_substitution_select">
        						<optgroup label="Select Attribute">
        							<option value="None" selected="selected">No Substitution</option>
        						</optgroup>
        						<optgroup label="Physical">
        							<option value="Agility">Agility</option>
        							<option value="Fortitude">Fortitude</option>
        							<option value="Might">Might</option>
        						</optgroup>
        						<optgroup label="Mental">
        							<option value="Learning">Learning</option>
        							<option value="Logic">Logic</option>
        							<option value="Perception">Perception</option>
        							<option value="Will">Will</option>
        						</optgroup>
        						<optgroup label="Social">
        							<option value="Deception">Deception</option>
        							<option value="Persuasion">Persuasion</option>
        							<option value="Presence">Presence</option>
        						</optgroup>
        						<optgroup label="Extraordinary">
        							<option value="Alteration">Alteration</option>
        							<option value="Creation">Creation</option>
        							<option value="Energy">Energy</option>
        							<option value="Entropy">Entropy</option>
        							<option value="Influence">Influence</option>
        							<option value="Movement">Movement</option>
        							<option value="Prescience">Prescience</option>
        							<option value="Protection">Protection</option>
        						</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_entropy_substitution" value=0 />
                        <div class="column width100 bold italic">For Tier II of Attribute Substituation</div>
        				<div class="column width100 italic">In the ACTIONS SECTION(s), select the substituted attribute instead of Entropy.</div>
                    </div>
                </div>
              <!-- Influence -->
                <div class="row width100">
                    <div class="width6 inlineBlock vertBottom"><input class="settings" type="checkbox" name="attr_influence_settings_flag" value="on" /><span>y</span></div>
                    <input type="hidden" class="influence_display_sub_flag" name="attr_influence_display_sub_flag" value="hide" />
                    <div class="column width39 inlineBlock textLeft textLarge bold italic attributeButton sub">
                        <button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Influence Roll}} {{subTitle= @{character_name}}} {{roll= @{influence_dice_roll}}}">Influence</button>
                    </div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_influence_score" value=0 /></div>
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_show_influence_cost" value="@{influence_cost}" disabled="disabled" /></div>
                        <input type="hidden" name="attr_influence_dice_roll" value=0 />     <!-- hidden value of the roll button string -->
                        <div class="column width1of3 inlineBlock textCenter inputDice"><input type="text" style="text-align: center;" name="attr_influence_dice" value=0 /></div>
                    </div>
                    <input type="hidden" class="influence_display_settings_flag" name="attr_influence_display_settings_flag" value="hide" />
                    <div class="width100 displaySettings padBottom">
                        <div class="column width95 inlineBlock boxShadow textSmall">Control the minds of others, speak telepathically, instill fear, create illusory figments, cloak with invisibility</div>
                        <div class="column width75 inlineBlock">Attribute Dice Size Bonus/Penalty:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_influence_dice_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Increase/Decrease cost in levels:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_influence_cost_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Default (Dis)Advantage:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_influence_default_advantage" value=0 /></div>
                        <div class="column width60 inlineBlock">Your d20 (non-combat rolls):</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_influence_dice_d20">
                                <option value="1d20!!" selected="selected">Normal</option>
                                <option value="2d20!!kh1">Advantage</option>
                                <option value="2d20!!kl1">Disadvantage</option>
                            </select>
                        </div>
                        <div class="column width60 inlineBlock">Attribute Substitution:</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_influence_substitution_select">
        						<optgroup label="Select Attribute">
        							<option value="None" selected="selected">No Substitution</option>
        						</optgroup>
        						<optgroup label="Physical">
        							<option value="Agility">Agility</option>
        							<option value="Fortitude">Fortitude</option>
        							<option value="Might">Might</option>
        						</optgroup>
        						<optgroup label="Mental">
        							<option value="Learning">Learning</option>
        							<option value="Logic">Logic</option>
        							<option value="Perception">Perception</option>
        							<option value="Will">Will</option>
        						</optgroup>
        						<optgroup label="Social">
        							<option value="Deception">Deception</option>
        							<option value="Persuasion">Persuasion</option>
        							<option value="Presence">Presence</option>
        						</optgroup>
        						<optgroup label="Extraordinary">
        							<option value="Alteration">Alteration</option>
        							<option value="Creation">Creation</option>
        							<option value="Energy">Energy</option>
        							<option value="Entropy">Entropy</option>
        							<option value="Influence">Influence</option>
        							<option value="Movement">Movement</option>
        							<option value="Prescience">Prescience</option>
        							<option value="Protection">Protection</option>
        						</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_influence_substitution" value=0 />
                        <div class="column width100 bold italic">For Tier II of Attribute Substituation</div>
        				<div class="column width100 italic">In the ACTIONS SECTION(s), select the substituted attribute instead of Influence.</div>
                    </div>
                </div>
              <!-- Movement -->
                <div class="row width100">
                    <div class="width6 inlineBlock vertBottom"><input class="settings" type="checkbox" name="attr_movement_settings_flag" value="on" /><span>y</span></div>
                    <input type="hidden" class="movement_display_sub_flag" name="attr_movement_display_sub_flag" value="hide" />
                    <div class="column width39 inlineBlock textLeft textLarge bold italic attributeButton sub">
                        <button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Movement Roll}} {{subTitle= @{character_name}}} {{roll= @{movement_dice_roll}}}">Movement</button>
                    </div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_movement_score" value=0 /></div>
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_show_movement_cost" value="@{movement_cost}" disabled="disabled" /></div>
                        <input type="hidden" name="attr_movement_dice_roll" value=0 />     <!-- hidden value of the roll button string -->
                        <div class="column width1of3 inlineBlock textCenter inputDice"><input type="text" style="text-align: center;" name="attr_movement_dice" value=0 /></div>
                    </div>
                    <input type="hidden" class="movement_display_settings_flag" name="attr_movement_display_settings_flag" value="hide" />
                    <div class="width100 displaySettings padBottom">
                        <div class="column width95 inlineBlock boxShadow textSmall">Teleport, fly, hasten, telekinetically push</div>
                        <div class="column width75 inlineBlock">Attribute Dice Size Bonus/Penalty:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_movement_dice_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Increase/Decrease cost in levels:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_movement_cost_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Default (Dis)Advantage:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_movement_default_advantage" value=0 /></div>
                        <div class="column width60 inlineBlock">Your d20 (non-combat rolls):</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_movement_dice_d20">
                                <option value="1d20!!" selected="selected">Normal</option>
                                <option value="2d20!!kh1">Advantage</option>
                                <option value="2d20!!kl1">Disadvantage</option>
                            </select>
                        </div>
                        <div class="column width60 inlineBlock">Attribute Substitution:</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_movement_substitution_select">
        						<optgroup label="Select Attribute">
        							<option value="None" selected="selected">No Substitution</option>
        						</optgroup>
        						<optgroup label="Physical">
        							<option value="Agility">Agility</option>
        							<option value="Fortitude">Fortitude</option>
        							<option value="Might">Might</option>
        						</optgroup>
        						<optgroup label="Mental">
        							<option value="Learning">Learning</option>
        							<option value="Logic">Logic</option>
        							<option value="Perception">Perception</option>
        							<option value="Will">Will</option>
        						</optgroup>
        						<optgroup label="Social">
        							<option value="Deception">Deception</option>
        							<option value="Persuasion">Persuasion</option>
        							<option value="Presence">Presence</option>
        						</optgroup>
        						<optgroup label="Extraordinary">
        							<option value="Alteration">Alteration</option>
        							<option value="Creation">Creation</option>
        							<option value="Energy">Energy</option>
        							<option value="Entropy">Entropy</option>
        							<option value="Influence">Influence</option>
        							<option value="Movement">Movement</option>
        							<option value="Prescience">Prescience</option>
        							<option value="Protection">Protection</option>
        						</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_movement_substitution" value=0 />
                        <div class="column width100 bold italic">For Tier II of Attribute Substituation</div>
        				<div class="column width100 italic">In the ACTIONS SECTION(s), select the substituted attribute instead of Movement.</div>
                    </div>
                </div>
              <!-- Prescience -->
                <div class="row width100">
                    <div class="width6 inlineBlock vertBottom"><input class="settings" type="checkbox" name="attr_prescience_settings_flag" value="on" /><span>y</span></div>
                    <input type="hidden" class="prescience_display_sub_flag" name="attr_prescience_display_sub_flag" value="hide" />
                    <div class="column width39 inlineBlock textLeft textLarge bold italic attributeButton sub">
                        <button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Prescience Roll}} {{subTitle= @{character_name}}} {{roll= @{prescience_dice_roll}}}">Prescience</button>
                    </div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_prescience_score" value=0 /></div>
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_show_prescience_cost" value="@{prescience_cost}" disabled="disabled" /></div>
                        <input type="hidden" name="attr_prescience_dice_roll" value=0 />     <!-- hidden value of the roll button string -->
                        <div class="column width1of3 inlineBlock textCenter inputDice"><input type="text" style="text-align: center;" name="attr_prescience_dice" value=0 /></div>
                    </div>
                    <input type="hidden" class="prescience_display_settings_flag" name="attr_prescience_display_settings_flag" value="hide" />
                    <div class="width100 displaySettings padBottom">
                        <div class="column width95 inlineBlock boxShadow textSmall">See the future, read minds or auras, view from afar, detect magic or evil, communicate with extraplanar entities</div>
                        <div class="column width75 inlineBlock">Attribute Dice Size Bonus/Penalty:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_prescience_dice_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Increase/Decrease cost in levels:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_prescience_cost_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Default (Dis)Advantage:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_prescience_default_advantage" value=0 /></div>
                        <div class="column width60 inlineBlock">Your d20 (non-combat rolls):</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_prescience_dice_d20">
                                <option value="1d20!!" selected="selected">Normal</option>
                                <option value="2d20!!kh1">Advantage</option>
                                <option value="2d20!!kl1">Disadvantage</option>
                            </select>
                        </div>
                        <div class="column width60 inlineBlock">Attribute Substitution:</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_prescience_substitution_select">
        						<optgroup label="Select Attribute">
        							<option value="None" selected="selected">No Substitution</option>
        						</optgroup>
        						<optgroup label="Physical">
        							<option value="Agility">Agility</option>
        							<option value="Fortitude">Fortitude</option>
        							<option value="Might">Might</option>
        						</optgroup>
        						<optgroup label="Mental">
        							<option value="Learning">Learning</option>
        							<option value="Logic">Logic</option>
        							<option value="Perception">Perception</option>
        							<option value="Will">Will</option>
        						</optgroup>
        						<optgroup label="Social">
        							<option value="Deception">Deception</option>
        							<option value="Persuasion">Persuasion</option>
        							<option value="Presence">Presence</option>
        						</optgroup>
        						<optgroup label="Extraordinary">
        							<option value="Alteration">Alteration</option>
        							<option value="Creation">Creation</option>
        							<option value="Energy">Energy</option>
        							<option value="Entropy">Entropy</option>
        							<option value="Influence">Influence</option>
        							<option value="Movement">Movement</option>
        							<option value="Prescience">Prescience</option>
        							<option value="Protection">Protection</option>
        						</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_prescience_substitution" value=0 />
                        <div class="column width100 bold italic">For Tier II of Attribute Substituation</div>
        				<div class="column width100 italic">In the ACTIONS SECTION(s), select the substituted attribute instead of Prescience.</div>
                    </div>
                </div>
              <!-- Protection -->
                <div class="row width100">
                    <div class="width6 inlineBlock vertBottom"><input class="settings" type="checkbox" name="attr_protection_settings_flag" value="on" /><span>y</span></div>
                    <input type="hidden" class="protection_display_sub_flag" name="attr_protection_display_sub_flag" value="hide" />
                    <div class="column width39 inlineBlock textLeft textLarge bold italic attributeButton sub">
                        <button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Protection Roll}} {{subTitle= @{character_name}}} {{roll= @{protection_dice_roll}}}">Protection</button>
                    </div>
                    <div class="width55 inlineBlock">
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_protection_score" value=0 /></div>
                        <div class="column width1of3 inlineBlock textCenter inputNumber"><input type="number" name="attr_show_protection_cost" value="@{protection_cost}" disabled="disabled" /></div>
                        <input type="hidden" name="attr_protection_dice_roll" value=0 />     <!-- hidden value of the roll button string -->
                        <div class="column width1of3 inlineBlock textCenter inputDice"><input type="text" style="text-align: center;" name="attr_protection_dice" value=0 /></div>
                    </div>
                    <input type="hidden" class="protection_display_settings_flag" name="attr_protection_display_settings_flag" value="hide" />
                    <div class="width100 displaySettings padBottom">
                        <div class="column width95 inlineBlock boxShadow textSmall">Protect from damage, break supernatural influence, dispel magic, exile extradimensional beings</div>
                        <div class="column width75 inlineBlock">Attribute Dice Size Bonus/Penalty:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_protection_dice_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Increase/Decrease cost in levels:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_protection_cost_modifier" value=0 /></div>
                        <div class="column width75 inlineBlock">Default (Dis)Advantage:</div>
                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_protection_default_advantage" value=0 /></div>
                        <div class="column width60 inlineBlock">Your d20 (non-combat rolls):</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_protection_dice_d20">
                                <option value="1d20!!" selected="selected">Normal</option>
                                <option value="2d20!!kh1">Advantage</option>
                                <option value="2d20!!kl1">Disadvantage</option>
                            </select>
                        </div>
                        <div class="column width60 inlineBlock">Attribute Substitution:</div>
                        <div class="column width40 inlineBlock inputSelect">
                            <select name="attr_protection_substitution_select">
        						<optgroup label="Select Attribute">
        							<option value="None" selected="selected">No Substitution</option>
        						</optgroup>
        						<optgroup label="Physical">
        							<option value="Agility">Agility</option>
        							<option value="Fortitude">Fortitude</option>
        							<option value="Might">Might</option>
        						</optgroup>
        						<optgroup label="Mental">
        							<option value="Learning">Learning</option>
        							<option value="Logic">Logic</option>
        							<option value="Perception">Perception</option>
        							<option value="Will">Will</option>
        						</optgroup>
        						<optgroup label="Social">
        							<option value="Deception">Deception</option>
        							<option value="Persuasion">Persuasion</option>
        							<option value="Presence">Presence</option>
        						</optgroup>
        						<optgroup label="Extraordinary">
        							<option value="Alteration">Alteration</option>
        							<option value="Creation">Creation</option>
        							<option value="Energy">Energy</option>
        							<option value="Entropy">Entropy</option>
        							<option value="Influence">Influence</option>
        							<option value="Movement">Movement</option>
        							<option value="Prescience">Prescience</option>
        							<option value="Protection">Protection</option>
        						</optgroup>
                            </select>
                        </div>
                        <input type="hidden" name="attr_protection_substitution" value=0 />
                        <div class="column width100 bold italic">For Tier II of Attribute Substituation</div>
        				<div class="column width100 italic">In the ACTIONS SECTION(s), select the substituted attribute instead of Protection.</div>
                    </div>
                </div>
            <!-- end of EXTRAORDINARY attributes -->
            </div>
         <!-- end of left column for Attributes -->
        <div class="twoThird inlineBlock">
         <!-- Middle column for defenses & actions -->
            <input type="hidden" class="display_defenses_flag" name="attr_display_defenses_flag" value="show" />
            <div class="third inlineBlock vertTop displayDefenses">
           <!-- Guard information -->
                <div class="width100 padAll">
                    <div class="evasion vertTop padTop">
                        <div class="inlineBlock vertTop" style="width: 155px;">
                            <div class="column width100 textCenter resistButton">
                                <button type="roll" name="roll_resist_bane" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Resist Bane Roll}} {{subTitle= @{character_name}}} {{roll= [[1d20]]}} {{target= 10+ bane is removed}}">Guard</button>
                            </div>
                            <div class="column width100 textCenter textSmall">Click to roll Resist Bane</div>
                            <div class="column width100 inputNumberLarge padTop"><input type="number" name="attr_Guard" value=0 /></div>
        					<input type="hidden" name="attr_evasion" value=0 />
                        </div>
                        <div class="inlineBlock vertTop" style="width: 120px;">
                            <div class="width100">
                                <div class="column width100 height5"></div>
        						<input type="hidden" name="attr_agility_display" value=0 />
                                <div class="column width1of3 inputNumber30 inlineBlock"><input type="number" name="attr_show_agility_score" value="@{agility_display}" disabled="disabled" /></div>
                                <div class="column width2of3 italic bold textLarge textLeft inlineBlock">Agility</div>
        						<input type="hidden" name="attr_might_display" value=0 />
                                <div class="column width1of3 inputNumber30 inlineBlock"><input type="number" name="attr_show_might_score" value="@{might_display}" disabled="disabled" /></div>
                                <div class="column width2of3 italic bold textLarge padTop textLeft inlineBlock">Might</div>
                                <div class="column width1of3 inputNumber30 inlineBlock"><input type="number" name="attr_armor" value=0 /></div>
                                <div class="column width2of3 italic bold textLarge padTop textLeft inlineBlock">Armor</div>
                                <div class="column width1of3 inputNumber30 inlineBlock"><input type="number" name="attr_evasion_other" value="0" /></div>
                                <div class="column width2of3 italic bold textLarge padTop textLeft inlineBlock">Other</div>
                            </div>
                        </div>
                    </div>
                </div>
           <!-- End Guard -->
           <!-- Toughness information -->
                <div class="width100 padAll">
                    <div class="toughness vertTop padTop">
                        <div class="inlineBlock vertTop" style="width: 155px;">
                            <div class="column width100 textCenter resistButton">
                                <button type="roll" name="roll_resist_bane" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Resist Bane Roll}} {{subTitle= @{character_name}}} {{roll= [[1d20]]}} {{target= 10+ bane is removed}}">Toughness</button>
                            </div>
                            <div class="column width100 textCenter textSmall">Click to roll Resist Bane</div>
                            <div class="column width100 inputNumberLarge padTop"><input type="number" name="attr_Toughness" value=0 /></div>
        					<input type="hidden" name="attr_Toughness4Token" value=0 />
                        </div>
                        <div class="inlineBlock vertTop" style="width: 120px;">
                            <div class="width100 padTop">
        						<input type="hidden" name="attr_fortitude_display" value=0 />
                                <div class="column width1of3 inputNumber30 inlineBlock"><input type="number" name="attr_show_fortitude_score" value="@{fortitude_display}" disabled="true" /></div>
                                <div class="column width2of3 italic bold textLarge textLeft inlineBlock padTop">Fortitude</div>
        						<input type="hidden" name="attr_will_display" value=0 />
                                <div class="column width1of3 inputNumber30 inlineBlock"><input type="number" name="attr_show_will_score" value="@{will_display}" disabled="true" /></div>
                                <div class="column width2of3 italic bold textLarge textLeft inlineBlock padTop">Will</div>
                                <div class="column width1of3 inputNumber30 inlineBlock"><input type="number" name="attr_toughness_other" value="0" /></div>
                                <div class="column width2of3 italic bold textLarge textLeft inlineBlock padTop">Other</div>
                            </div>
                        </div>
                    </div>
                </div>
           <!-- end toughness -->
           <!-- Resolve information -->
                <div class="width100 padAll">
                    <div class="resolve vertTop padTop">
                        <div class="inlineBlock vertTop" style="width: 155px;">
                            <div class="column width100 textCenter resistButton">
                                <button type="roll" name="roll_resist_bane" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Resist Bane Roll}} {{subTitle= @{character_name}}} {{roll= [[1d20]]}} {{target= 10+ bane is removed}}">Resolve</button>
                            </div>
                            <div class="column width100 textCenter textSmall">Click to roll Resist Bane</div>
                            <div class="column width100 inputNumberLarge padTop"><input type="number" name="attr_Resolve" value=0 /></div>
        					<input type="hidden" name="attr_Resolve4Token" value=0 />
                        </div>
                        <div class="inlineBlock vertTop" style="width: 120px;">
                            <div class="width100 padTop">
        						<input type="hidden" name="attr_presence_display" value=0 />
                                <div class="column width1of3 inputNumber30 inlineBlock"><input type="number" name="attr_show_presence_score" value="@{presence_display}" disabled="true" /></div>
                                <div class="column width2of3 italic bold textLarge textLeft inlineBlock padTop">Presence</div>
                                <div class="column width1of3 inputNumber30 inlineBlock"><input type="number" name="attr_show_will_score" value="@{will_display}" disabled="true" /></div>
                                <div class="column width2of3 italic bold textLarge textLeft inlineBlock padTop">Will</div>
                                <div class="column width1of3 inputNumber30 inlineBlock"><input type="number" name="attr_resolve_other" value="0" /></div>
                                <div class="column width2of3 italic bold textLarge textLeft inlineBlock padTop">Other</div>
                            </div>
                        </div>
                    </div>
                </div>
           <!-- end Resolve -->
            </div>
         <!-- end Middle column for defenses & actions -->
            <input type="hidden" class="display_healthspeed_flag" name="attr_display_healthspeed_flag" value="show" />
            <div class="third inlineBlock vertTop displayHealthSpeed">
         <!-- Right column for Health, speed, wealth, feats, perks, and flaws -->
             <!-- Hit Points Section -->
                <div class="width65 inlineBlock">
                    <input type="hidden" class="display_sheet_type" name="attr_display_sheet_type" value="character" />
                    <div class="column width20 inlineBlock textCenter bold vertBottom">Level</div>
                    <div class="column width20 inlineBlock textCenter bold vertBottom">XP</div>
                    <div class="displaySheetCompanion3 column width60 inlineBlock bold textCenter textSmall vertBottom">Feat Points Granted</div>
                </div>
                <div class="column width35 inlineBlock textCenter bold vertBottom">Legend Points</div>
                <div class="width65 inlineBlock">
                    <input type="hidden" class="display_sheet_type" name="attr_display_sheet_type" value="character" />
                    <div class="column width20 inlineBlock textCenter inputNumber30"><input type="number" name="attr_level" value=1 /></div>
                    <div class="column width20 inlineBlock textCenter inputLevel"><input type="number" name="attr_xp" value=0 /></div>
                    <div class="displaySheetCompanion3 column width60 inlineBlock textCenter inputLevel"><input type="number" name="attr_companion_feat_given" value=0 /></div>
                </div>
                <div class="column width35 inlineBlock textCenter inputNumber60"><input type="number" name="attr_legend_points" value=0 /></div>
                <div class="hitPoints padTop padBottom">
                    <div class="width100 height25"></div>
                    <div class="column width100 textLargest bold">Hit Points</div>
                    <div class="column width100 textSmall italic bold">Fortitude, Presence, & Will</div>
                    <div class="width100">
                        <div class="column width30 inlineBlock textLarge italic bold">Current</div>
                        <div class="column width30 inlineBlock textLarge italic bold">Max</div>
                        <div class="column width20 inlineBlock textLarge italic bold">Lethal</div>
                        <div class="column width30 inlineBlock inputNumberLarge"><input type="number" name="attr_HP" value=10 /></div>
                        <div class="column width30 inlineBlock inputNumberLarge"><input type="number" name="attr_HP_max" value=10 /></div>
                        <div class="column width20 inlineBlock inputNumberLargeLethal"><input type="number" name="attr_LethalDamage" value=0 /></div>
        				<input type="hidden" name="attr_lethal_damage" value=0 />
        				<input type="hidden" name="attr_hit_point" value=10 /><input type="hidden" name="attr_hit_point_max" value=0 />
                        <div class="width25 inlineBlock"></div>
                        <div class="column width30 inlineBlock bold">From Feats</div>
                        <div class="column width10 inlineBlock inputNumber30"><input type="number" name="attr_hit_point_feats" value=0 /></div>
                        <div class="width35 inlineBlock"></div>
                        <div class="width25 inlineBlock"></div>
                        <div class="column width30 inlineBlock bold">From Other</div>
                        <div class="column width10 inlineBlock inputNumber30"><input type="number" name="attr_hit_point_other" value=0 /></div>
                        <div class="width35 inlineBlock"></div>
                    </div>
                </div>
             <!-- End Hit Points Section -->
                <input type="hidden" class="display_sanity_flag" name="attr_display_sanity_flag" value="hide" />
             <!-- Sanity -->
        <!-- remove this Line to add Sanity back in (and corresponding 2 other areas)
                <div class="third inlineBlock vertTop displaySanity">
                 <!-- Sanity Points Section -->
        <!-- remove this to add Sanity back in (and corresponding 2 other areas)
                    <div class="hitPoints padTop padBottom black">
                        <div class="width100 height25"></div>
                        <div class="column width100 textLargest bold padTop">Sanity Points</div>
                        <div class="column width100 textSmall italic bold">Suggested: 2x(Logic + Presence + Will) + 40</div>
                        <div class="width100">
                            <div class="column width50 inlineBlock borderRight textLarge italic bold">Current</div>
                            <div class="column width50 inlineBlock borderLeft textLarge italic bold">Max</div>
                            <div class="column width50 inlineBlock borderRight inputNumberLarge"><input type="number" name="attr_sanity_point" value=0 /></div>
                            <div class="column width50 inlineBlock borderLeft inputNumberLarge"><input type="number" name="attr_sanity_point_max" value=0 /></div>
                            <div class="column width90 inlineBlock bold">This is Homebrew;<br />NOT officially Core Rules</div>
                        </div>
                    </div>
                 <!-- End Sanity Points Section -->
        <!-- remove this to add Sanity back in (and corresponding 2 other areas)
                </div>
             <!-- Legend Points & Speed Section -->
                <div class="width25 inlineBlock vertTop">
                    <div class="column width100 textCenter textLarge bold">Speed</div>
                    <div class="column width100 inputNumberLargeNarrow"><input type="number" name="attr_Speed" value=30 /></div>
                </div><div class="width40 inlineBlock textLeft vertBottom">
                    <div class="column width100 vertTop inputNumber30 textSmall bold"><input type="number" name="attr_base_speed" value=30 /> Base</div>
                    <div class="column width100 vertTop inputNumber30 textSmall bold"><input type="number" name="attr_armor_penalty" value=0 /> Penalty(ft)</div>
                    <div class="column width100 vertTop inputNumber30 textSmall bold"><input type="number" name="attr_armor_training" value=0 /> Feat(ft)</div>
            		<input type="hidden" name="attr_Speed4Token" value=0 />
            	</div><div class="width35 inlineBlock vertTop">
                    <div class="column width100 textCenter textLarge bold">Resist Bane</div>
                    <div class="column width100 speedButton vertTop">
                        <button type="roll" name="roll_npc1_resist" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Resist Roll}} {{subTitle=@{character_name}}} {{subTitleAdd=Normal}} {{roll=[[1d20!!]]}} {{description=10+ is successful resist}}">Normal</button>
                        <button type="roll" name="roll_npc1_resist_advantage" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Resist Roll}} {{subTitle=@{character_name}}} {{subTitleAdd=with Advantage}} {{roll=[[2d20!!k1]]}} {{description=10+ is successful resist}}">Advantage</button>
                        <button type="roll" name="roll_npc1_resist_disadvantage" value="@{tab_chat}&{template:openLegend} {{border=@{template_border}}} {{title=Resist Roll}} {{subTitle=@{character_name}}} {{subTitleAdd=with Disadvantage}} {{roll=[[2d20!!kl1]]}} {{description=10+ is successful resist}}">Disadvantage</button>
                    </div>
            	</div>
                <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlagInitiative" value="on" checked="checked" /><span>y</span></div>
                <div class="column width35 inlineBlock textLarge speedButton"><button type="roll" name="roll_initiative" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= Initiative Roll}} {{subTitle= @{character_name}}} {{subTitleAdd= @{select_initiative}}} {{roll= @{initiative}}} {{description= Make sure you selected your token to have it automatically added to the turn order.}}">Initiative</button></div>
                <input type="hidden" class="displaySettingsFlagInitiative" name="attr_displaySettingsFlagInitiative" />
                <div class="width100 displaySettingsInitiative padLeft">
        			<div class="column width50 inlineBlock textSmall bold">Attribute</div>
        			<div class="column width50 inlineBlock textSmall bold">Default (Dis)Advantage</div>
                    <input type="hidden" name="attr_initiative" value="@{agility_initiative}" />
        			<div class="column width50 inlineBlock inputSelect">
        				<select name="attr_select_initiative">
                            <optgroup label="Physical">
        						<option value="Agility" selected="selected">Agility</option>
        						<option value="Fortitude">Fortitude</option>
        						<option value="Might">Might</option>
        					</optgroup>
                            <optgroup label="Mental">
        						<option value="Learning">Learning</option>
        						<option value="Logic">Logic</option>
        						<option value="Perception">Perception</option>
        						<option value="Will">Will</option>
        					</optgroup>
                            <optgroup label="Social">
        						<option value="Deception">Deception</option>
        						<option value="Persuasion">Persuasion</option>
        						<option value="Presence">Presence</option>
        					</optgroup>
                            <optgroup label="Extraordinary">
        						<option value="Alteration">Alteration</option>
        						<option value="Creation">Creation</option>
        						<option value="Energy">Energy</option>
        						<option value="Entropy">Entropy</option>
        						<option value="Influence">Influence</option>
        						<option value="Movement">Movement</option>
        						<option value="Prescience">Prescience</option>
        						<option value="Protection">Protection</option>
        					</optgroup>
        				</select>
        			</div>
        			<div class="column width50 inlineBlock inputNumber30"><input type="number" name="attr_initiative_advantage" value=0 /></div>
        		</div>
             <!-- End Legend Points & Speed Section -->
             <!-- Wealth Level Information -->
                <div class="column width100 textLargest bold padTop">Wealth Level</div>
                <div class="wealth">
                    <div class="width100 height15"></div>
                    <div class="column width100 inputNumber60 padTop"><input type="number" name="attr_wealth_level" value=2 /></div>
                </div>
             <!-- End Wealth Level Information -->
            </div>
            <input type="hidden" class="display_favoredactions_flag" name="attr_display_favoredactions_flag" value="show" />
            <div class="third inlineBlock vertTop displayFavoredActions">
           <!-- Actions Area -->
                <div class="actionsTop padTop padLeft">
                    <div class="column width100 textLargest bold textShadow">Favored Actions</div>
                    <div class="column width100 italic">Attacks, Boons, & Banes</div>
                </div>
                <div class="actionsMiddle padTop padRight">
                <!-- Headings for the actions -->
                    <div class="column width25 bold italic inlineBlock textCenter padLeft">Settings</div>
                    <div class="column width75 bold italic inlineBlock textCenter">Name (click to roll)</div>
                <!-- Add actions as needed Section (repeating fields) -->
                    <div class="column width100 vertTop padRight">
                        <fieldset class="repeating_actions">
                            <div class="row">   <!-- Fix for Mozilla squishing +Add & Modify buttons -->
                                <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag" value="on" checked="checked" /><span>y</span></div>
                                <div class="width85 inlineBlock vertTop inputNameShort attributeButton silver"><button type="roll" name="roll_action" value="@{tab_chat}&{template:openLegend-@{tab_action}} {{border=@{template_border}}} {{title=@{action_name}}} {{subTitle=@{character_name}}} {{subTitleAdd=@{action_attribute} @{attribute_score}}} {{target=@{action_target}}} @{dice_roll} {{description=@{action_special}}} {{powertarget=[[10 + (@{power_level_low}*2)]]}} {{PL1=@{pl1}}} {{PL1title=@{pl1_title}}} {{PL1roll=}} {{PL2=@{pl2}}} {{PL2title=@{pl2_title}}} {{PL2roll=}} {{PL3=@{pl3}}} {{PL3title=@{pl3_title}}} {{PL3roll=}} {{PL4=@{pl4}}} {{PL4title=@{pl4_title}}} {{PL4roll=}} {{PL5=@{pl5}}} {{PL5title=@{pl5_title}}} {{PL5roll=}} {{PL6=@{pl6}}} {{PL6title=@{pl6_title}}} {{PL6roll=}} {{PL7=@{pl7}}} {{PL7title=@{pl7_title}}} {{PL7roll=}} {{PL8=@{pl8}}} {{PL8title=@{pl8_title}}} {{PL8roll=}} {{PL9=@{pl9}}} {{PL9title=@{pl9_title}}} {{PL9roll=}}"><input type="text" style="text-align: center;" name="attr_action_name" /></button></div>
                                <input type="hidden" class="displaySettingsFlag" name="attr_displaySettingsFlag" />
                                <div class="width100 displaySettings padLeft">
                                    <div class="column width25 inlineBlock bold">Name: </div>
                                    <div class="column width75 inlineBlock inputNameShort"><input type="text" name="attr_action_name" /></div>
                                <!-- What kind of Action selection -->
                                    <div class="column padTop">
                                    <div class="inlineBlock">This Action is:</div>
                                    <input class="tab-action attack" type="radio" name="attr_tab_action" checked="checked" value="attack"><span class="tab-action-text">Attack</span>
                                    <input class="tab-action boon" type="radio" name="attr_tab_action" value="boon"><span>Boon</span>
                                    <input class="tab-action effect" type="radio" name="attr_tab_action" value="effect"><span>Effect</span>
        
                                    <input type="hidden" name="attr_dice_roll" value=0 />
        							<input type="hidden" name="attr_attribute_score" value=0 />
        
                                    <div class="option-action attack width50 inlineBlock"><div class="row padTop">
                                        <div class="column width100 inlineBlock bold textSmall">Attack Attribute:</div>
                                    </div></div>
                                    <div class="option-action boon width50 inlineBlock"><div class="row padTop">
                                        <div class="column width100 inlineBlock bold textSmall">Invoking Attribute:</div>
                                    </div></div>
                                    <div class="option-action both width45 inlineBlock"><div class="row padTop">
                                        <div class="column width100 inlineBlock inputSelect">
                                            <select name="attr_action_attribute">
            									<optgroup label="Select Attribute">
            										<option value="None" selected="selected">Select Attribute</option>
            									</optgroup>
            									<optgroup label="Physical">
            										<option value="Agility">Agility</option>
            										<option value="Fortitude">Fortitude</option>
            										<option value="Might">Might</option>
            									</optgroup>
            									<optgroup label="Mental">
            										<option value="Learning">Learning</option>
            										<option value="Logic">Logic</option>
            										<option value="Perception">Perception</option>
            										<option value="Will">Will</option>
            									</optgroup>
            									<optgroup label="Social">
            										<option value="Deception">Deception</option>
            										<option value="Persuasion">Persuasion</option>
            										<option value="Presence">Presence</option>
            									</optgroup>
            									<optgroup label="Extraordinary">
            										<option value="Alteration">Alteration</option>
            										<option value="Creation">Creation</option>
            										<option value="Energy">Energy</option>
            										<option value="Entropy">Entropy</option>
            										<option value="Influence">Influence</option>
            										<option value="Movement">Movement</option>
            										<option value="Prescience">Prescience</option>
            										<option value="Protection">Protection</option>
            									</optgroup>
                                            </select>
                                        </div>
                                    </div></div>
        
                                    <div class="option-action attack width100"><div class="row">
                                        <div class="column width100 bold italic textCenter">vs</div>
                                        <div class="column width50 inlineBlock bold textSmall">Target Defense:</div>
                                        <div class="column width45 inlineBlock inputSelect">
                                            <select name="attr_action_target">
                                                <option value="None" selected="selected">None</option>
                                                <option value="Guard">Guard</option>
                                                <option value="Toughness">Toughness</option>
                                                <option value="Resolve">Resolve</option>
												<option value="Attack">Attack (Defend Interrupt)</option>
                                            </select>
                                        </div>
                                    </div></div>
        
                                    <div class="option-action both"><div class="row">
            							<div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_default_advantage" value=0 /></div>
            							<div class="column width75 textSmall bold textLeft inlineBlock"> Default (Dis)Advantage</div>
                                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_use_destructive_trance" value="Yes" /></div>
                                        <div class="column width75 textSmall bold textLeft inlineBlock"> Use Destructive Trance</div>
                                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_dice_modifier" value=0 /></div>
                                        <div class="column width75 textSmall bold textLeft inlineBlock"> Attribute Dice Size Bonus/Penalty</div>
                                    </div></div>
        
                                    <div class="option-action effect width100"><div class="row padTop">
                                        <div class="column width90 inlineBlock borderAllDotted borderRound gray textSmall bold">Effects is mainly for things like Persistent Damage, Healing from Regeneration, or other Non-Action rolls (no d20) so you can have simple output to display the roll.</div>
                                        <div class="column width65 inlineBlock textSmall bold textRight">Number of Dice to Roll:</div>
                                        <div class="column width30 inlineBlock inputNumber30"><input type="number" name="attr_effect_dice_number" value=0 /></div>
                                        <div class="column width65 inlineBlock textSmall bold textRight">Type of Dice to Roll:</div>
                                        <div class="column width30 inlineBlock inputSelect">
                                            <select name="attr_effect_dice_type">
                                                <option value="None" selected="selected">Dice Size</option>
                                                <option value="d4!!">d4</option>
                                                <option value="d6!!">d6</option>
                                                <option value="d8!!">d8</option>
                                                <option value="d10!!">d10</option>
                                                <option value="d12!!">d12</option>
                                                <option value="d20!!">d20</option>
                                            </select>
                                        </div>
                                    </div></div>
        
                                    <div class="option-action all width100"><div class="row padTop">
                                        <div class="column width100 bold textSmall">Description/Special/Flavor Text</div>
                                        <div class="column width100 resizeVert vertTop"><textarea class="height50" name="attr_action_special"></textarea></div>
                                    </div></div>
        
                                    <div class="option-action boon"><div class="row">
                                        <input type="hidden" name="attr_power_level_low" value="0" />
                                        <input type="hidden" name="attr_power_level_high" value="0" />
                                        <div class="column width100 bold">Power Levels Available to Boon</div>
                                        <div class="column width100 bold textLarge">
                                            <input type="hidden" name="attr_pl1" value="" /><input type="hidden" name="attr_pl1_title" value="Power Level 1 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl1" name="attr_use_power_level_1" value="1" /> 1&nbsp;&nbsp;&nbsp; 
                                            <input type="hidden" name="attr_pl2" value="" /><input type="hidden" name="attr_pl2_title" value="Power Level 2 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl2" name="attr_use_power_level_2" value="1" /> 2&nbsp;&nbsp;&nbsp; 
                                            <input type="hidden" name="attr_pl3" value="" /><input type="hidden" name="attr_pl3_title" value="Power Level 3 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl3" name="attr_use_power_level_3" value="1" /> 3&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl4" value="" /><input type="hidden" name="attr_pl4_title" value="Power Level 4 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl4" name="attr_use_power_level_4" value="1" /> 4&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl5" value="" /><input type="hidden" name="attr_pl5_title" value="Power Level 5 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl5" name="attr_use_power_level_5" value="1" /> 5<br />
                                            <input type="hidden" name="attr_pl6" value="" /><input type="hidden" name="attr_pl6_title" value="Power Level 6 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl6" name="attr_use_power_level_6" value="1" /> 6&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl7" value="" /><input type="hidden" name="attr_pl7_title" value="Power Level 7 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl7" name="attr_use_power_level_7" value="1" /> 7&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl8" value="" /><input type="hidden" name="attr_pl8_title" value="Power Level 8 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl8" name="attr_use_power_level_8" value="1" /> 8&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl9" value="" /><input type="hidden" name="attr_pl9_title" value="Power Level 9 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl9" name="attr_use_power_level_9" value="1" /> 9
                                            <div class="width100"></div>
                                            <div class="option-boon pl1 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl1" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 1 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl1}}}">PL 1 Info</button><textarea class="height50" name="attr_action_pl1"></textarea></div>
                                            <div class="option-boon pl2 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl2" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 2 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl2}}}">PL 2 Info</button><textarea class="height50" name="attr_action_pl2"></textarea></div>
                                            <div class="option-boon pl3 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl3" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 3 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl3}}}">PL 3 Info</button><textarea class="height50" name="attr_action_pl3"></textarea></div>
                                            <div class="option-boon pl4 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl4" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 4 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl4}}}">PL 4 Info</button><textarea class="height50" name="attr_action_pl4"></textarea></div>
                                            <div class="option-boon pl5 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl5" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 5 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl5}}}">PL 5 Info</button><textarea class="height50" name="attr_action_pl5"></textarea></div>
                                            <div class="option-boon pl6 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl6" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 6 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl6}}}">PL 6 Info</button><textarea class="height50" name="attr_action_pl6"></textarea></div>
                                            <div class="option-boon pl7 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl7" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 7 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl7}}}">PL 7 Info</button><textarea class="height50" name="attr_action_pl7"></textarea></div>
                                            <div class="option-boon pl8 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl8" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 8 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl8}}}">PL 8 Info</button><textarea class="height50" name="attr_action_pl8"></textarea></div>
                                            <div class="option-boon pl9 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl9" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 9 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl9}}}">PL 9 Info</button><textarea class="height50" name="attr_action_pl9"></textarea></div>
                                        </div>
                                    </div></div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
                <div class="actionsBottom"></div>
           <!-- End Actions Area -->
            </div>
            <input type="hidden" class="display_otheractions_flag" name="attr_display_otheractions_flag" value="show" />
            <div class="third inlineBlock vertTop displayOtherActions">
           <!-- Other Actions Area -->
                <div class="actionsTop padTop padLeft">
                    <div class="column width100 textLargest bold textShadow">Other Actions</div>
                    <div class="column width100 italic">Attacks, Boons, & Banes</div>
                </div>
                <div class="actionsMiddle padTop padRight">
                <!-- Headings for the actions -->
                    <div class="column width25 bold italic inlineBlock textCenter padLeft">Settings</div>
                    <div class="column width75 bold italic inlineBlock textCenter">Name (click to roll)</div>
                <!-- Add actions as needed Section (repeating fields) -->
                    <div class="column width100 vertTop padRight">
                        <fieldset class="repeating_otheractions">
                            <div class="row">   <!-- Fix for Mozilla squishing +Add & Modify buttons -->
                                <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag" value="on" checked="checked" /><span>y</span></div>
                                <div class="width85 inlineBlock vertTop inputNameShort attributeButton silver"><button type="roll" name="roll_action_other" value="@{tab_chat}&{template:openLegend-@{tab_action}} {{border=@{template_border}}} {{title=@{action_name}}} {{subTitle=@{character_name}}} {{subTitleAdd=@{action_attribute} @{attribute_score}}} {{target=@{action_target}}} @{dice_roll} {{description=@{action_special}}} {{powertarget=[[10 + (@{power_level_low}*2)]]}} {{PL1=@{pl1}}} {{PL1title=@{pl1_title}}} {{PL1roll=}} {{PL2=@{pl2}}} {{PL2title=@{pl2_title}}} {{PL2roll=}} {{PL3=@{pl3}}} {{PL3title=@{pl3_title}}} {{PL3roll=}} {{PL4=@{pl4}}} {{PL4title=@{pl4_title}}} {{PL4roll=}} {{PL5=@{pl5}}} {{PL5title=@{pl5_title}}} {{PL5roll=}} {{PL6=@{pl6}}} {{PL6title=@{pl6_title}}} {{PL6roll=}} {{PL7=@{pl7}}} {{PL7title=@{pl7_title}}} {{PL7roll=}} {{PL8=@{pl8}}} {{PL8title=@{pl8_title}}} {{PL8roll=}} {{PL9=@{pl9}}} {{PL9title=@{pl9_title}}} {{PL9roll=}}"><input type="text" style="text-align: center;" name="attr_action_name" /></button></div>
                                <input type="hidden" class="displaySettingsFlag" name="attr_displaySettingsFlag" />
                                <div class="width100 displaySettings padLeft">
                                    <div class="column width25 inlineBlock bold">Name: </div>
                                    <div class="column width75 inlineBlock inputNameShort"><input type="text" name="attr_action_name" /></div>
                                <!-- What kind of Action selection -->
                                    <div class="column padTop">
                                    <div class="inlineBlock">This Action is:</div>
                                    <input class="tab-action attack" type="radio" name="attr_tab_action" checked="checked" value="attack"><span class="tab-action-text">Attack</span>
                                    <input class="tab-action boon" type="radio" name="attr_tab_action" value="boon"><span>Boon</span>
                                    <input class="tab-action effect" type="radio" name="attr_tab_action" value="effect"><span>Effect</span>
        
                                    <input type="hidden" name="attr_dice_roll" value=0 />
        							<input type="hidden" name="attr_attribute_score" value=0 />
        
                                    <div class="option-action attack width50 inlineBlock"><div class="row padTop">
                                        <div class="column width100 inlineBlock bold textSmall">Attack Attribute:</div>
                                    </div></div>
                                    <div class="option-action boon width50 inlineBlock"><div class="row padTop">
                                        <div class="column width100 inlineBlock bold textSmall">Invoking Attribute:</div>
                                    </div></div>
                                    <div class="option-action both width45 inlineBlock"><div class="row padTop">
                                        <div class="column width100 inlineBlock inputSelect">
                                            <select name="attr_action_attribute">
            									<optgroup label="Select Attribute">
            										<option value="None" selected="selected">Select Attribute</option>
            									</optgroup>
            									<optgroup label="Physical">
            										<option value="Agility">Agility</option>
            										<option value="Fortitude">Fortitude</option>
            										<option value="Might">Might</option>
            									</optgroup>
            									<optgroup label="Mental">
            										<option value="Learning">Learning</option>
            										<option value="Logic">Logic</option>
            										<option value="Perception">Perception</option>
            										<option value="Will">Will</option>
            									</optgroup>
            									<optgroup label="Social">
            										<option value="Deception">Deception</option>
            										<option value="Persuasion">Persuasion</option>
            										<option value="Presence">Presence</option>
            									</optgroup>
            									<optgroup label="Extraordinary">
            										<option value="Alteration">Alteration</option>
            										<option value="Creation">Creation</option>
            										<option value="Energy">Energy</option>
            										<option value="Entropy">Entropy</option>
            										<option value="Influence">Influence</option>
            										<option value="Movement">Movement</option>
            										<option value="Prescience">Prescience</option>
            										<option value="Protection">Protection</option>
            									</optgroup>
                                            </select>
                                        </div>
                                    </div></div>
        
                                    <div class="option-action attack width100"><div class="row">
                                        <div class="column width100 bold italic textCenter">vs</div>
                                        <div class="column width50 inlineBlock bold textSmall">Target Defense:</div>
                                        <div class="column width45 inlineBlock inputSelect">
                                            <select name="attr_action_target">
                                                <option value="None" selected="selected">None</option>
                                                <option value="Guard">Guard</option>
                                                <option value="Toughness">Toughness</option>
                                                <option value="Resolve">Resolve</option>
												<option value="Attack">Attack (Defend Interrupt)</option>
                                            </select>
                                        </div>
                                    </div></div>
        
                                    <div class="option-action both"><div class="row">
            							<div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_default_advantage" value=0 /></div>
            							<div class="column width75 textSmall bold textLeft inlineBlock"> Default (Dis)Advantage</div>
                                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_use_destructive_trance" value="Yes" /></div>
                                        <div class="column width75 textSmall bold textLeft inlineBlock"> Use Destructive Trance</div>
                                        <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_dice_modifier" value=0 /></div>
                                        <div class="column width75 textSmall bold textLeft inlineBlock"> Attribute Dice Size Bonus/Penalty</div>
                                    </div></div>
        
                                    <div class="option-action effect width100"><div class="row padTop">
                                        <div class="column width90 inlineBlock borderAllDotted borderRound gray textSmall bold">Effects is mainly for things like Persistent Damage, Healing from Regeneration, or other Non-Action rolls (no d20) so you can have simple output to display the roll.</div>
                                        <div class="column width65 inlineBlock textSmall bold textRight">Number of Dice to Roll:</div>
                                        <div class="column width30 inlineBlock inputNumber30"><input type="number" name="attr_effect_dice_number" value=0 /></div>
                                        <div class="column width65 inlineBlock textSmall bold textRight">Type of Dice to Roll:</div>
                                        <div class="column width30 inlineBlock inputSelect">
                                            <select name="attr_effect_dice_type">
                                                <option value="None" selected="selected">Dice Size</option>
                                                <option value="d4!!">d4</option>
                                                <option value="d6!!">d6</option>
                                                <option value="d8!!">d8</option>
                                                <option value="d10!!">d10</option>
                                                <option value="d12!!">d12</option>
                                                <option value="d20!!">d20</option>
                                            </select>
                                        </div>
                                    </div></div>
        
                                    <div class="option-action all width100"><div class="row padTop">
                                        <div class="column width100 bold textSmall">Description/Special/Flavor Text</div>
                                        <div class="column width100 resizeVert vertTop"><textarea class="height50" name="attr_action_special"></textarea></div>
                                    </div></div>
        
                                    <div class="option-action boon"><div class="row">
                                        <input type="hidden" name="attr_power_level_low" value="0" />
                                        <input type="hidden" name="attr_power_level_high" value="0" />
                                        <div class="column width100 bold">Power Levels Available to Boon</div>
                                        <div class="column width100 bold textLarge">
                                            <input type="hidden" name="attr_pl1" value="" /><input type="hidden" name="attr_pl1_title" value="Power Level 1 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl1" name="attr_use_power_level_1" value="1" /> 1&nbsp;&nbsp;&nbsp; 
                                            <input type="hidden" name="attr_pl2" value="" /><input type="hidden" name="attr_pl2_title" value="Power Level 2 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl2" name="attr_use_power_level_2" value="1" /> 2&nbsp;&nbsp;&nbsp; 
                                            <input type="hidden" name="attr_pl3" value="" /><input type="hidden" name="attr_pl3_title" value="Power Level 3 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl3" name="attr_use_power_level_3" value="1" /> 3&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl4" value="" /><input type="hidden" name="attr_pl4_title" value="Power Level 4 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl4" name="attr_use_power_level_4" value="1" /> 4&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl5" value="" /><input type="hidden" name="attr_pl5_title" value="Power Level 5 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl5" name="attr_use_power_level_5" value="1" /> 5<br />
                                            <input type="hidden" name="attr_pl6" value="" /><input type="hidden" name="attr_pl6_title" value="Power Level 6 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl6" name="attr_use_power_level_6" value="1" /> 6&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl7" value="" /><input type="hidden" name="attr_pl7_title" value="Power Level 7 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl7" name="attr_use_power_level_7" value="1" /> 7&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl8" value="" /><input type="hidden" name="attr_pl8_title" value="Power Level 8 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl8" name="attr_use_power_level_8" value="1" /> 8&nbsp;&nbsp;&nbsp;
                                            <input type="hidden" name="attr_pl9" value="" /><input type="hidden" name="attr_pl9_title" value="Power Level 9 Info" />
                                            <input type="checkbox" class="checks25 display-boon pl9" name="attr_use_power_level_9" value="1" /> 9
                                            <div class="width100"></div>
                                            <div class="option-boon pl1 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl1" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 1 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl1}}}">PL 1 Info</button><textarea class="height50" name="attr_action_pl1"></textarea></div>
                                            <div class="option-boon pl2 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl2" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 2 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl2}}}">PL 2 Info</button><textarea class="height50" name="attr_action_pl2"></textarea></div>
                                            <div class="option-boon pl3 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl3" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 3 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl3}}}">PL 3 Info</button><textarea class="height50" name="attr_action_pl3"></textarea></div>
                                            <div class="option-boon pl4 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl4" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 4 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl4}}}">PL 4 Info</button><textarea class="height50" name="attr_action_pl4"></textarea></div>
                                            <div class="option-boon pl5 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl5" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 5 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl5}}}">PL 5 Info</button><textarea class="height50" name="attr_action_pl5"></textarea></div>
                                            <div class="option-boon pl6 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl6" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 6 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl6}}}">PL 6 Info</button><textarea class="height50" name="attr_action_pl6"></textarea></div>
                                            <div class="option-boon pl7 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl7" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 7 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl7}}}">PL 7 Info</button><textarea class="height50" name="attr_action_pl7"></textarea></div>
                                            <div class="option-boon pl8 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl8" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 8 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl8}}}">PL 8 Info</button><textarea class="height50" name="attr_action_pl8"></textarea></div>
                                            <div class="option-boon pl9 textSmall resizeVert inventoryButton"><button type="roll" name="roll_pl9" value="@{tab_chat}&{template:openLegend-effect} {{border=@{template_border}}} {{title=Power Level 9 Info}} {{subTitle=@{action_name}}} {{emote=@{action_pl9}}}">PL 9 Info</button><textarea class="height50" name="attr_action_pl9"></textarea></div>
                                        </div>
                                    </div></div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
                <div class="actionsBottom"></div>
           <!-- End Other Actions Area -->
            </div>
        </div>
            <!--
            *
            *
            *
            *
            * visual space for editing and seeing quickly. This is stuff after Actions & Other Actions
            *
            *
            *
            -->
            <input type="hidden" class="display_legendaryitems_flag" name="attr_display_legendaryitems_flag" value="hide" />
            <div class="third inlineBlock vertTop displayLegendaryItems">
           <!-- Items Area -->
                <div class="actionsTop padTop padLeft">
                    <div class="column width100 textLargest bold textShadow">Legendary Items</div>
                    <div class="column width100 italic">Attacks, Boons, & Banes</div>
                </div>
                <div class="actionsMiddle padTop padRight">
                <!-- Headings for the actions -->
                    <div class="column width25 bold italic inlineBlock textCenter padLeft">Settings</div>
                    <div class="column width75 bold italic inlineBlock textCenter">Name (click to roll)</div>
                <!-- Add actions as needed Section (repeating fields) -->
                    <div class="column width100 vertTop padRight">
                        <fieldset class="repeating_legendary">
                            <div class="row">   <!-- Fix for Mozilla squishing +Add & Modify buttons -->
                                <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag" value="on" checked="checked" /><span>y</span></div>
                                <div class="width85 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" name="roll_action" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{action_name}}} {{subTitle=@{character_name}}} {{subTitleAdd= @{action_attribute} @{dice_modifier}}} {{target= @{action_target}}} {{roll= @{dice_roll}}} {{numberadvantage=?{# of Advantage/Disadvantage Dice}}} {{advantagedis=?{Do you have Advantage or Disadvantage?}}} {{powertarget=@{power_target}}} {{powerlevel= @{power_level}}} {{powertargetmax= @{power_targetmax}}} {{powerlevelmax= @{power_levelmax}}} {{description= @{action_special}}}"><input type="text" style="text-align: center;" name="attr_action_name" /></button></div>
                                <input type="hidden" class="displaySettingsFlag" name="attr_displaySettingsFlag" />
                                <div class="width100 displaySettings padLeft">
                                    <div class="column width25 inlineBlock bold">Name: </div>
                                    <div class="column width75 inlineBlock inputNameShort"><input type="text" name="attr_action_name" /></div>
                                    <div class="column width45 inlineBlock bold textSmall">Attribute</div>
                                    <div class="column width10 inlineBlock bold textSmall">vs</div>
                                    <div class="column width45 inlineBlock bold textSmall">Target</div>
                                    <div class="column width45 inlineBlock inputSelect">
                                        <select name="attr_action_attribute">
                                            <option value="None" selected="selected">None</option>
                                            <option value="Agility">Agility</option>
                                            <option value="Fortitude">Fortitude</option>
                                            <option value="Might">Might</option>
                                            <option value="Deception">Deception</option>
                                            <option value="Presence">Presence</option>
                                            <option value="Persuasion">Persuasion</option>
                                            <option value="Learning">Learning</option>
                                            <option value="Logic">Logic</option>
                                            <option value="Perception">Perception</option>
                                            <option value="Will">Will</option>
                                            <option value="Alteration">Alteration</option>
                                            <option value="Creation">Creation</option>
                                            <option value="Energy">Energy</option>
                                            <option value="Entropy">Entropy</option>
                                            <option value="Influence">Influence</option>
                                            <option value="Movement">Movement</option>
                                            <option value="Prescience">Prescience</option>
                                            <option value="Protection">Protection</option>
                                        </select>
                                    </div>
                                    <div class="column width10 inlineBlock bold italic textCenter">vs</div>
                                    <div class="column width45 inlineBlock inputSelect">
                                        <select name="attr_action_target">
                                            <option value="None" selected="selected">None</option>
                                            <option value="Guard">Guard</option>
                                            <option value="Toughness">Toughness</option>
                                            <option value="Resolve">Resolve</option>
											<option value="Attack">Attack (Defend Interrupt)</option>
                                        </select>
                                    </div>
                                    <input type="hidden" name="attr_dice_roll" value="[[d20!! + 1d4!!]]" />
                                    <div class="column width55 inlineBlock">Attribute Dice:</div>
                                    <div class="column width45 inlineBlock inputSelect">
                                        <select name="attr_dice_modifier">
                                            <option value="1" selected="selected">Select Dice</option>
                                            <option value="1">1 = 1d4</option>
                                            <option value="2">2 = 1d6</option>
                                            <option value="3">3 = 1d8</option>
                                            <option value="4">4 = 1d10</option>
                                            <option value="5">5 = 2d6</option>
                                            <option value="6">6 = 2d8</option>
                                            <option value="7">7 = 2d10</option>
                                            <option value="8">8 = 3d8</option>
                                            <option value="9">9 = 3d10</option>
                                            <option value="10">10 = 4d8</option>
                                        </select>
                                    </div>
                                    <div class="column width100"><input type="checkbox" class="checks25" name="attr_use_destructive_trance" value="Yes" /> Use Destructive Trance</div>
                                    <input type="hidden" name="attr_dice_roll_d20" value="1d20!!" />
                                    <input type="hidden" name="attr_attribute_score" value="0" />
                                    <div class="column width50 textSmall bold inlineBlock">d20 for this action is</div>
        							<div class="column width50 textSmall bold inlineBlock">Default (Dis)Advantage</div>
                                    <div class="column width45 inlineBlock inputSelect">
                                        <select name="attr_select_dice_d20">
                                            <option value="Normal" selected="selected">Normal</option>
                                            <option value="Advantage">Advantage</option>
                                            <option value="Disadvantage">Disadvantage</option>
                                        </select>
                                    </div>
        							<div class="column width50 inlineBlock inputNumber30"><input type="number" name="attr_default_advantage" value=0 /></div>
                                    <input type="hidden" name="attr_power_target" value="" />
                                    <input type="hidden" name="attr_power_targetmax" value=0 />
                                    <div class="column width50 inlineBlock textSmall bold">For a Boon</div>
                                    <div class="column width25 inlineBlock textSmall bold">Minimum</div>
                                    <div class="column width25 inlineBlock textSmall bold">Maximum</div>
                                    <div class="column width50 inlineBlock"><input type="checkbox" class="checks25" name="attr_use_power_level" value="Yes" /> Use Power level</div>
                                    <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_power_level" value=0 /></div>
                                    <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_power_levelmax" value=0 /></div>
                                    <div class="column width100 bold textSmall">Description/Special/Flavor Text</div>
                                    <div class="column width100 resizeVert vertTop"><textarea class="height50" name="attr_action_special"></textarea></div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
                <div class="actionsBottom"></div>
           <!-- End Legendary Items Area -->
            </div>
            <input type="hidden" class="display_feats_flag" name="attr_display_feats_flag" value="show" />
            <div class="third inlineBlock vertTop displayFeats">
           <!-- Columns of Feats -->
                <div class="actionsTop padTop padLeft padRight">
                    <div class="column width100 textCenter bold textLargest textShadow vertTop">Feats</div>
               <!-- sub sections for feat points spent and total -->
                    <div class="width50 inlineBlock vertTop padLeft">
                        <div class="column width2of3 inlineBlock textRight bold italic">Total Points</div>
                        <div class="column width1of3 inlineBlock inputNumber"><input type="number" name="attr_feat_total_points" value=6 /></div>
                    </div>
                    <div class="width50 inlineBlock vertTop padRight">
                        <div class="column width2of3 inlineBlock textRight bold italic">Points Used</div>
                        <input type="hidden" name="attr_featLeft_points_spent" value=0 />
                        <input type="hidden" name="attr_featRight_points_spent" value=0 />
                        <div class="column width1of3 inlineBlock inputNumber"><input type="number" name="attr_feat_points_spent" value="@{featLeft_points_spent}" disabled="disabled" /></div>
                    </div>
                </div>
                <div class="actionsMiddle padTop padLeft padRight">
                    <div class="column width95 vertTop padTop">
                        <fieldset class="repeating_featsLeft">
                            <div class="row">   <!-- Fix for Mozilla squishing the +Add & Modify button text -->
                                <div class="width10 inlineBlock vertTop"><input class="settings" type="checkbox" name="attr_settingsFlag" value="on" checked="checked" /><span>i</span></div>
                                <div class="width90 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{feat_left_name}}} {{subTitle= @{character_name}}} {{subTitleAdd= Feat}} {{description= @{feat_left_description}}}"><input type="text" style="text-align: center;" name="attr_feat_left_name" /></button></div>
                                <input type="hidden" class="displaySettingsFlag" name="attr_displaySettingsFlag" />
                                <div class="width100 displaySettings">
                                    <div class="column width75 inlineBlock bold textSmall">Name</div>
                                    <div class="column width25 inlineBlock bold textSmall">Cost</div>
                                    <div class="column width75 inlineBlock inputNameShort"><input type="text" name="attr_feat_left_name" /></div>
                                    <div class="column width25 inlineBlock inputNumber30"><input type="number" name="attr_feat_left_cost" /></div>
                                    <div class="column width100 bold textSmall">Description</div>
                                    <div class="column width95 resizeVert vertTop"><textarea class="height50" name="attr_feat_left_description"></textarea></div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
           <!-- End Columns of Feats -->
                </div>
                <div class="actionsBottom"></div>
           <!-- End Feats, Perks, Flaws Area -->
            </div>
            <input type="hidden" class="display_feats_flag" name="attr_display_feats_flag" value="show" />
            <div class="third inlineBlock vertTop displayFeats">
        <!--    </div>
            <input type="hidden" class="display_perksflaws_flag" name="attr_display_perksflaws_flag" value="show" />
            <div class="third inlineBlock vertTop displayPerksFlaws">
           <!-- Columns of Feats -->
                <div class="actionsTop padTop padLeft padRight">
           <!-- Column for Perks -->
                    <div class="column width100 textCenter bold textLargest textShadow vertTop">Perks</div>
                </div>
                <div class="actionsMiddle padLeft padRight">
                    <div class="column width95 vertTop">
                        <fieldset class="repeating_perks">
                            <div class="row">   <!-- Fix for Mozilla squishing the +Add & Modify button text -->
                                <div class="width10 inlineBlock vertTop"><input class="settings" type="checkbox" name="attr_settingsFlag" value="on" checked="checked" /><span>i</span></div>
                                <div class="width90 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{perks_name}}} {{subTitle= @{character_name}}} {{subTitleAdd= Perk}} {{description= @{perks_description}}}"><input type="text" style="text-align: center;" name="attr_perks_name" /></button></div>
                                <input type="hidden" class="displaySettingsFlag" name="attr_displaySettingsFlag" />
                                <div class="width100 displaySettings">
                                    <div class="column width100 bold textSmall">Name</div>
                                    <div class="column width100 inputNameShort"><input type="text" name="attr_perks_name" /></div>
                                    <div class="column width100 bold textSmall">Description</div>
                                    <div class="column width95 resizeVert vertTop"><textarea class="height50" name="attr_perks_description"></textarea></div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
           <!-- end Column for Perks -->
           <!-- Column for Flaws -->
                    <div class="column width100 textCenter bold textLargest textShadow vertTop">Flaws</div>
                    <div class="column width95 vertTop">
                        <fieldset class="repeating_flaws">
                            <div class="row">   <!-- Fix for Mozilla squishing the +Add & Modify button text -->
                                <div class="width10 inlineBlock vertTop"><input class="settings" type="checkbox" name="attr_settingsFlag" value="on" checked="checked" /><span>i</span></div>
                                <div class="width90 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{flaws_name}}} {{subTitle= @{character_name}}} {{subTitleAdd= Flaw}} {{description= @{flaws_description}}}"><input type="text" style="text-align: center;" name="attr_flaws_name" /></button></div>
                                <input type="hidden" class="displaySettingsFlag" name="attr_displaySettingsFlag" />
                                <div class="width100 displaySettings">
                                    <div class="column width100 bold textSmall">Name</div>
                                    <div class="column width100 inputNameShort"><input type="text" name="attr_flaws_name" /></div>
                                    <div class="column width100 bold textSmall">Description</div>
                                    <div class="column width95 resizeVert vertTop"><textarea class="height50" name="attr_flaws_description"></textarea></div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
           <!-- end Column for Flaws -->
                </div>
                <div class="actionsBottom"></div>
           <!-- End Feats, Perks, Flaws Area -->
            </div>
         <!-- end Right column for Health, speed, wealth, feats, perks, and flaws -->
         <!-- section for Other Inventory & Notes information -->
            <input type="hidden" class="display_otherinventory_flag" name="attr_display_otherinventory_flag" value="hide" />
            <div class="marginBottom displayOtherInventory inlineBlock third vertTop">
               <!-- Other Area -->
        		<div class="actionsTop padTop">
                    <div class="column bold textLarge padTop">Non-Essential Inventory or Notes</div>
                </div>
        		<div class="actionsMiddle padLeft">
        		    <div class="column width95 vertTop">
                		<fieldset class="repeating_OtherOne">
                		    <div class="row">
                			<!-- Roll to Chat & Expand -->
                                <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag" value="on" checked="checked" /><span>i</span></div>
                                <div class="width85 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{other_title}}} {{subTitle= @{character_name}}} {{subTitleAdd= Notes}} {{description= @{other_contents}}}"><input type="text" style="text-align: center;" name="attr_other_title" /></button></div>
                			<!-- Hidden area -->
                                <input type="hidden" class="displaySettingsFlag" name="attr_displaySettingsFlag" />
                                <div class="width100 displaySettings">
                                    <div class="column width25 inlineBlock bold">Name: </div>
                    				<div class="column width70 inlineBlock padLeft inputName"><input type="text" name="attr_other_title" /></div>
                    				<div class="column width100 bold italic textCenter">Content/Description</div>
                                    <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_other_contents"></textarea></div>
                                </div>
                            </div>
                		</fieldset>
                	</div>
            	<div style="display: none;">	
            		<fieldset class="repeating_OtherTwo">
            			<!-- Headings for the actions -->
            			<div class="column width100 bold textSmall textCenter inventoryButton"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{other_title}}} {{subTitle= @{character_name}}} {{subTitleAdd= Notes}} {{description= @{other_contents}}}">Send Notes to Chat</button></div>
        				<div class="column width100 textCenter padLeft inputName"><input type="text" name="attr_other_title" /></div>
            			<!-- Add actions as needed Section (repeating fields) -->
        				<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_other_contents"></textarea></div>
            		</fieldset>
            		<fieldset class="repeating_OtherThree">
        			<!-- Headings for the actions -->
            			<div class="column width100 bold textSmall textCenter inventoryButton"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{other_title}}} {{subTitle= @{character_name}}} {{subTitleAdd= Notes}} {{description= @{other_contents}}}">Send Notes to Chat</button></div>
        				<div class="column width100 textCenter padLeft inputName"><input type="text" name="attr_other_title" /></div>
        			<!-- Add actions as needed Section (repeating fields) -->
        				<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_other_contents"></textarea></div>
            		</fieldset>
            	</div>
        		</div>
        		<div class="actionsBottom"></div>
        	</div>
               <!-- End Other Area -->
         <!-- end section for Other Inventory & Notes information -->
         <!-- Equipment section -->
            <input type="hidden" class="display_inventory_flag" name="attr_display_inventory_flag" value="show" />
            <!-- new inventory section -->
            <div class="inlineBlock third vertTop displayInventory">
                <div class="actionsTop padTop">
                <!-- Headings for Inventory -->
                    <div class="column bold textLarge width100"><span style="font-family: pictos; font-size: 1.5em;">n</span>Important Inventory 1-10</div>
                </div>
        		<div class="actionsMiddle padLeft padRight">
            <!-- start item_1 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item1" value="on" checked="checked" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_1}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_1_contents}}}"><input type="text" style="text-align: center;" name="attr_item_1" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem1" name="attr_displaySettingsFlagItem1" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_1" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_1_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_1_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_1_contents"></textarea></div>
                    </div>
            <!-- end item_1 -->
            <!-- start item_2 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item2" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_2}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_2_contents}}}"><input type="text" style="text-align: center;" name="attr_item_2" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem2" name="attr_displaySettingsFlagItem2" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_2" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_2_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_2_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_2_contents"></textarea></div>
                    </div>
            <!-- end item_2 -->
            <!-- start item_3 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item3" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_3}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_3_contents}}}"><input type="text" style="text-align: center;" name="attr_item_3" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem3" name="attr_displaySettingsFlagItem3" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_3" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_3_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_3_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_3_contents"></textarea></div>
                    </div>
            <!-- end item_3 -->
            <!-- start item_4 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item4" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_4}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_4_contents}}}"><input type="text" style="text-align: center;" name="attr_item_4" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem4" name="attr_displaySettingsFlagItem4" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_4" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_4_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_4_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_4_contents"></textarea></div>
                    </div>
            <!-- end item_4 -->
            <!-- start item_5 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item5" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_5}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_5_contents}}}"><input type="text" style="text-align: center;" name="attr_item_5" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem5" name="attr_displaySettingsFlagItem5" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_5" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_5_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_5_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_5_contents"></textarea></div>
                    </div>
            <!-- end item_5 -->
            <!-- start item_6 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item6" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_6}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_6_contents}}}"><input type="text" style="text-align: center;" name="attr_item_6" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem6" name="attr_displaySettingsFlagItem6" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_6" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_6_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_6_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_6_contents"></textarea></div>
                    </div>
            <!-- end item_6 -->
            <!-- start item_7 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item7" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_7}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_7_contents}}}"><input type="text" style="text-align: center;" name="attr_item_7" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem7" name="attr_displaySettingsFlagItem7" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_7" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_7_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_7_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_7_contents"></textarea></div>
                    </div>
            <!-- end item_7 -->
            <!-- start item_8 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item8" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_8}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_8_contents}}}"><input type="text" style="text-align: center;" name="attr_item_8" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem8" name="attr_displaySettingsFlagItem8" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_8" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_8_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_8_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_8_contents"></textarea></div>
                    </div>
            <!-- end item_8 -->
            <!-- start item_9 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item9" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_9}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_9_contents}}}"><input type="text" style="text-align: center;" name="attr_item_9" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem9" name="attr_displaySettingsFlagItem9" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_9" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_9_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_9_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_9_contents"></textarea></div>
                    </div>
            <!-- end item_9 -->
            <!-- start item_10 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item10" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_10}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_10_contents}}}"><input type="text" style="text-align: center;" name="attr_item_10" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem10" name="attr_displaySettingsFlagItem10" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_10" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_10_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_10_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_10_contents"></textarea></div>
                    </div>
            <!-- end item_10 -->
        		</div>
        		<div class="actionsBottom"></div>
            </div>
            <input type="hidden" class="display_inventory_flag" name="attr_display_inventory_flag" value="show" />
            <!-- new inventory section -->
            <div class="inlineBlock third vertTop displayInventory">
                <div class="actionsTop padTop">
                <!-- Headings for Inventory -->
                    <div class="column bold textLarge width100"><span style="font-family: pictos; font-size: 1.5em;">n</span>Important Inventory 11-20</div>
                </div>
        		<div class="actionsMiddle padLeft padRight">
            <!-- start item_11 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item11" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_11}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_11_contents}}}"><input type="text" style="text-align: center;" name="attr_item_11" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem11" name="attr_displaySettingsFlagItem11" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_11" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_11_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_11_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_11_contents"></textarea></div>
                    </div>
            <!-- end item_11 -->
            <!-- start item_12 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item12" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_12}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_12_contents}}}"><input type="text" style="text-align: center;" name="attr_item_12" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem12" name="attr_displaySettingsFlagItem12" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_12" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_12_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_12_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_12_contents"></textarea></div>
                    </div>
            <!-- end item_12 -->
            <!-- start item_13 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item13" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_13}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_13_contents}}}"><input type="text" style="text-align: center;" name="attr_item_13" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem13" name="attr_displaySettingsFlagItem13" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_13" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_13_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_13_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_13_contents"></textarea></div>
                    </div>
            <!-- end item_13 -->
            <!-- start item_14 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item14" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_14}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_14_contents}}}"><input type="text" style="text-align: center;" name="attr_item_14" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem14" name="attr_displaySettingsFlagItem14" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_14" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_14_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_14_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_14_contents"></textarea></div>
                    </div>
            <!-- end item_14 -->
            <!-- start item_15 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item15" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_15}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_15_contents}}}"><input type="text" style="text-align: center;" name="attr_item_15" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem15" name="attr_displaySettingsFlagItem15" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_15" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_15_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_15_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_15_contents"></textarea></div>
                    </div>
            <!-- end item_15 -->
            <!-- start item_16 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item16" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_16}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_16_contents}}}"><input type="text" style="text-align: center;" name="attr_item_16" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem16" name="attr_displaySettingsFlagItem16" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_16" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_16_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_16_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_16_contents"></textarea></div>
                    </div>
            <!-- end item_16 -->
            <!-- start item_17 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item17" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_17}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_17_contents}}}"><input type="text" style="text-align: center;" name="attr_item_17" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem17" name="attr_displaySettingsFlagItem17" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_17" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_17_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_17_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_17_contents"></textarea></div>
                    </div>
            <!-- end item_17 -->
            <!-- start item_18 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item18" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_18}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_18_contents}}}"><input type="text" style="text-align: center;" name="attr_item_18" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem18" name="attr_displaySettingsFlagItem18" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_18" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_18_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_18_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_18_contents"></textarea></div>
                    </div>
            <!-- end item_18 -->
            <!-- start item_19 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item19" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_19}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_19_contents}}}"><input type="text" style="text-align: center;" name="attr_item_19" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem19" name="attr_displaySettingsFlagItem19" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_19" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_19_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_19_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_19_contents"></textarea></div>
                    </div>
            <!-- end item_19 -->
            <!-- start item_20 -->
                    <div class="width15 inlineBlock vertTop padLeft"><input class="settings" type="checkbox" name="attr_settingsFlag_item20" value="on" /><span>i</span></div>
                    <div class="width80 inlineBlock vertTop inputNameShort attributeButton gray"><button type="roll" value="@{tab_chat}&{template:openLegend@{template_border}} {{title= @{item_20}}} {{subTitle= @{character_name}}} {{subTitleAdd= Inventory Item}} {{description= @{item_20_contents}}}"><input type="text" style="text-align: center;" name="attr_item_20" /></button></div>
                    <input type="hidden" class="displaySettingsFlagItem20" name="attr_displaySettingsFlagItem20" value="hide" />
                    <div class="width100 displaySettings">
                        <div class="column width25 inlineBlock bold">Name: </div>
                        <div class="column width70 inlineBlock inputNameShort"><input type="text" name="attr_item_20" /></div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_20_heavy" value="heavy" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Heavy</div>
                        <div class="column width25 inlineBlock"><input type="checkbox" class="checks25" name="attr_item_20_bulky" value="bulky" /></div>
                        <div class="column width25 inlineBlock textLeft textSmall bold">Bulky</div>
            			<div class="column width100 bold italic textCenter">Content/Description</div>
                        <div class="column width90 resizeVert vertTop padLeft"><textarea class="height100" name="attr_item_20_contents"></textarea></div>
                    </div>
            <!-- end item_20 -->
        		</div>
        		<div class="actionsBottom"></div>
            </div>
        <!-- end Equipment section -->
        </div>
    <!-- End Main Charactersheet Section -->
    </div>
    <!-- End Main body of Character Sheet -->
</div>


<!-- Roll Templates Area -->
<rolltemplate class="sheet-rolltemplate-openLegend">
  <!-- Top of scroll graphic -->
    <div class="border{{#border}}{{border}}{{/border}} width90"><div class="white">
<!--    <div class="rollTop padTop padLeft">
      <!-- Display the title given -->
        <div class="row">
            <div class="column width100 textCenter textLarger bolder">{{title}}</div>
        </div>
<!--    </div>
  <!-- Middle of scroll graphic -->
<!--    <div class="rollMiddle padTop padLeft padRight">
      <!-- Display the title given -->
        <div class="row">
            {{#subTitle}}
            <div class="column width100 textCenter textLarge italic">{{subTitle}}{{#subTitleAdd}} &bullet; {{subTitleAdd}}{{/subTitleAdd}}</div>
            {{/subTitle}}
          <!-- Display any sub title given -->
            {{#subTitle2}}
            <div class="column width100 textCenter textLarge italic">{{subTitle2}}{{#subTitle2Add}} &bullet; {{subTitle2Add}}{{/subTitle2Add}}</div>
            {{/subTitle2}}
        </div>
      <!-- Display emote if provided -->
        {{#emote}}
        <div class="row">
            <div class="column width100 inlineBlock textCenter borderAllDotted borderRound">{{emote}}</div>
        </div>
        {{/emote}}
      <!-- Display target plus the roll if target given -->
        {{#target}}
        <div class="row">
            <div class="column textCenter width55 inlineBlock roll">{{roll}}</div>
            {{#powertarget}}
            <div class="column width40 textCenter inlineBlock">
                <div class="column width100 textCenter bold textSmall vertTop">Achieved PL<br /><br /></div>
                {{#rollLess() roll 12}}
                <div class="column width100 textCenter powerLevel textRed vertBottom">0</div>
                {{/rollLess() roll 12}}
                {{#rollBetween() roll 12 13}}
                <div class="column width100 textCenter powerLevel vertBottom">1</div>
                {{/rollBetween() roll 12 13}}
                {{#rollBetween() roll 14 15}}
                <div class="column width100 textCenter powerLevel vertBottom">2</div>
                {{/rollBetween() roll 14 15}}
                {{#rollBetween() roll 16 17}}
                <div class="column width100 textCenter powerLevel vertBottom">3</div>
                {{/rollBetween() roll 16 17}}
                {{#rollBetween() roll 18 19}}
                <div class="column width100 textCenter powerLevel vertBottom">4</div>
                {{/rollBetween() roll 18 19}}
                {{#rollBetween() roll 20 21}}
                <div class="column width100 textCenter powerLevel vertBottom">5</div>
                {{/rollBetween() roll 20 21}}
                {{#rollBetween() roll 22 23}}
                <div class="column width100 textCenter powerLevel vertBottom">6</div>
                {{/rollBetween() roll 22 23}}
                {{#rollBetween() roll 24 25}}
                <div class="column width100 textCenter powerLevel vertBottom">7</div>
                {{/rollBetween() roll 24 25}}
                {{#rollBetween() roll 26 27}}
                <div class="column width100 textCenter powerLevel vertBottom">8</div>
                {{/rollBetween() roll 26 27}}
                {{#rollGreater() roll 27}}
                <div class="column width100 textCenter powerLevel vertBottom">9</div>
                {{/rollGreater() roll 27}}
            </div>
            {{/powertarget}}
            <div class="column textCenter width100 bold">{{#numberadvantage}}Adv/Disadv {{numberadvantage}}{{/numberadvantage}} vs {{target}}</div>
        </div>
        {{/target}}
      <!-- Display just the roll if no target given -->
        {{^target}}{{#roll}}
        <div class="row">
            <div class="column textCenter width100 roll">{{roll}}</div>
            <div class="column textCenter width100">Total Roll</div>
        </div>
        {{/roll}}{{/target}}
      <!-- Display power level if provided -->
        {{#powertarget}}
        <div class="row textCenter">
            <div class="column width90 inlineBlock textCenter textLarge bold borderBottom">Boon Power Level</div>
            <div class="column width30 textCenter inlineBlock bold textSmall">Min Needed</div>
            <div class="column width30 textCenter inlineBlock bold textSmall">Achieved</div>
            <div class="column width30 textCenter inlineBlock bold textSmall">Max Allowed</div>
            <div class="width30 inlineBlock textCenter">
                <div class="column width100 textCenter">PL <span class="bold">{{powerlevel}}</span></div>
                <div class="column width100 textCenter">CR {{powertarget}}</div>
            </div>
            {{#rollLess() roll 12}}
            <div class="column width30 inlineBlock textCenter powerLevel textRed">0</div>
            {{/rollLess() roll 12}}
            {{#rollBetween() roll 12 13}}
            <div class="column width30 inlineBlock textCenter powerLevel">1</div>
            {{/rollBetween() roll 12 13}}
            {{#rollBetween() roll 14 15}}
            <div class="column width30 inlineBlock textCenter powerLevel">2</div>
            {{/rollBetween() roll 14 15}}
            {{#rollBetween() roll 16 17}}
            <div class="column width30 inlineBlock textCenter powerLevel">3</div>
            {{/rollBetween() roll 16 17}}
            {{#rollBetween() roll 18 19}}
            <div class="column width30 inlineBlock textCenter powerLevel">4</div>
            {{/rollBetween() roll 18 19}}
            {{#rollBetween() roll 20 21}}
            <div class="column width30 inlineBlock textCenter powerLevel">5</div>
            {{/rollBetween() roll 20 21}}
            {{#rollBetween() roll 22 23}}
            <div class="column width30 inlineBlock textCenter powerLevel">6</div>
            {{/rollBetween() roll 22 23}}
            {{#rollBetween() roll 24 25}}
            <div class="column width30 inlineBlock textCenter powerLevel">7</div>
            {{/rollBetween() roll 24 25}}
            {{#rollBetween() roll 26 27}}
            <div class="column width30 inlineBlock textCenter powerLevel">8</div>
            {{/rollBetween() roll 26 27}}
            {{#rollGreater() roll 27}}
            <div class="column width30 inlineBlock textCenter powerLevel">9</div>
            {{/rollGreater() roll 27}}
            <div class="width30 inlineBlock textCenter">
                <div class="column width100 textCenter">PL <span class="bold">{{powerlevelmax}}</span></div>
                <div class="column width100 textCenter">CR {{powertargetmax}}</div>
            </div>
            {{#rollLess() roll powertarget}}
            <div class="column width90 inlineBlock red textLarge bold">Success with Twist<br />or Failure</div>
            {{/rollLess() roll powertarget}}
            {{#^rollLess() roll powertarget}}
            <div class="column width90 inlineBlock green textLarge bold">Success</div>
            {{/^rollLess() roll powertarget}}
        </div>
        {{/powertarget}}
      <!-- Display description if provided -->
        {{#description}}
        <div class="row">
            <div class="column width100 textCenter bold borderBottom">Description/Flavor Text</div>
            <div class="column width100 textCenter scroll" style="max-height: 120px;">{{description}}</div>
        </div>
        {{/description}}
    {{#powertarget}}
        <div class="row">
        {{#rollBetween() roll 12 13}}
            {{#PL1}}
            <div class="column width100 textCenter bold">Power Level 1 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL1}}</div>
            {{/PL1}}
        {{/rollBetween() roll 12 13}}{{#rollBetween() roll 14 15}}
            {{#PL2}}
            <div class="column width100 textCenter bold">Power Level 2 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL2}}</div>
            {{/PL2}}
            {{^PL2}}
                {{#PL1}}
            <div class="column width100 textCenter bold">Power Level 1 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL1}}</div>
                {{/PL1}}
            {{/PL2}}
        {{/rollBetween() roll 14 15}}{{#rollBetween() roll 16 17}}
            {{#PL3}}
            <div class="column width100 textCenter bold">Power Level 3 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL3}}</div>
            {{/PL3}}
            {{^PL3}}
                {{#PL2}}
            <div class="column width100 textCenter bold">Power Level 2 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL2}}</div>
                {{/PL2}}
                {{^PL2}}
                    {{#PL1}}
            <div class="column width100 textCenter bold">Power Level 1 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL1}}</div>
                    {{/PL1}}
                {{/PL2}}
            {{/PL3}}
        {{/rollBetween() roll 16 17}}{{#rollBetween() roll 18 19}}
            {{#PL4}}
            <div class="column width100 textCenter bold">Power Level 4 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL4}}</div>
            {{/PL4}}
            {{^PL4}}
                {{#PL3}}
            <div class="column width100 textCenter bold">Power Level 3 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL3}}</div>
                {{/PL3}}
                {{^PL3}}
                    {{#PL2}}
            <div class="column width100 textCenter bold">Power Level 2 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL2}}</div>
                    {{/PL2}}
                    {{^PL2}}
                        {{#PL1}}
            <div class="column width100 textCenter bold">Power Level 1 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL1}}</div>
                        {{/PL1}}
                    {{/PL2}}
                {{/PL3}}
            {{/PL4}}
        {{/rollBetween() roll 18 19}}{{#rollBetween() roll 20 21}}
            {{#PL5}}
            <div class="column width100 textCenter bold">Power Level 5 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL5}}</div>
            {{/PL5}}
            {{^PL5}}
                {{#PL4}}
            <div class="column width100 textCenter bold">Power Level 4 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL4}}</div>
                {{/PL4}}
                {{^PL4}}
                    {{#PL3}}
            <div class="column width100 textCenter bold">Power Level 3 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL3}}</div>
                    {{/PL3}}
                    {{^PL3}}
                        {{#PL2}}
            <div class="column width100 textCenter bold">Power Level 2 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL2}}</div>
                        {{/PL2}}
                        {{^PL2}}
                            {{#PL1}}
            <div class="column width100 textCenter bold">Power Level 1 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL1}}</div>
                            {{/PL1}}
                        {{/PL2}}
                    {{/PL3}}
                {{/PL4}}
            {{/PL5}}
        {{/rollBetween() roll 20 21}}{{#rollBetween() roll 22 23}}
            {{#PL6}}
            <div class="column width100 textCenter bold">Power Level 6 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL6}}</div>
            {{/PL6}}
            {{^PL6}}
                {{#PL5}}
            <div class="column width100 textCenter bold">Power Level 5 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL5}}</div>
                {{/PL5}}
                {{^PL5}}
                    {{#PL4}}
            <div class="column width100 textCenter bold">Power Level 4 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL4}}</div>
                    {{/PL4}}
                    {{^PL4}}
                        {{#PL3}}
            <div class="column width100 textCenter bold">Power Level 3 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL3}}</div>
                        {{/PL3}}
                        {{^PL3}}
                            {{#PL2}}
            <div class="column width100 textCenter bold">Power Level 2 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL2}}</div>
                            {{/PL2}}
                            {{^PL2}}
                                {{#PL1}}
            <div class="column width100 textCenter bold">Power Level 1 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL1}}</div>
                                {{/PL1}}
                            {{/PL2}}
                        {{/PL3}}
                    {{/PL4}}
                {{/PL5}}
            {{/PL6}}
        {{/rollBetween() roll 22 23}}{{#rollBetween() roll 24 25}}
            {{#PL7}}
            <div class="column width100 textCenter bold">Power Level 7 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL7}}</div>
            {{/PL7}}
            {{^PL7}}
                {{#PL6}}
            <div class="column width100 textCenter bold">Power Level 6 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL6}}</div>
                {{/PL6}}
                {{^PL6}}
                    {{#PL5}}
            <div class="column width100 textCenter bold">Power Level 5 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL5}}</div>
                    {{/PL5}}
                    {{^PL5}}
                        {{#PL4}}
            <div class="column width100 textCenter bold">Power Level 4 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL4}}</div>
                        {{/PL4}}
                        {{^PL4}}
                            {{#PL3}}
            <div class="column width100 textCenter bold">Power Level 3 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL3}}</div>
                            {{/PL3}}
                            {{^PL3}}
                                {{#PL2}}
            <div class="column width100 textCenter bold">Power Level 2 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL2}}</div>
                                {{/PL2}}
                                {{^PL2}}
                                    {{#PL1}}
            <div class="column width100 textCenter bold">Power Level 1 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL1}}</div>
                                    {{/PL1}}
                                {{/PL2}}
                            {{/PL3}}
                        {{/PL4}}
                    {{/PL5}}
                {{/PL6}}
            {{/PL7}}
        {{/rollBetween() roll 24 25}}{{#rollBetween() roll 26 27}}
            {{#PL8}}
            <div class="column width100 textCenter bold">Power Level 8 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL8}}</div>
            {{/PL8}}
            {{^PL8}}
                {{#PL7}}
            <div class="column width100 textCenter bold">Power Level 7 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL7}}</div>
                {{/PL7}}
                {{^PL7}}
                    {{#PL6}}
            <div class="column width100 textCenter bold">Power Level 6 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL6}}</div>
                    {{/PL6}}
                    {{^PL6}}
                        {{#PL5}}
            <div class="column width100 textCenter bold">Power Level 5 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL5}}</div>
                        {{/PL5}}
                        {{^PL5}}
                            {{#PL4}}
            <div class="column width100 textCenter bold">Power Level 4 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL4}}</div>
                            {{/PL4}}
                            {{^PL4}}
                                {{#PL3}}
            <div class="column width100 textCenter bold">Power Level 3 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL3}}</div>
                                {{/PL3}}
                                {{^PL3}}
                                    {{#PL2}}
            <div class="column width100 textCenter bold">Power Level 2 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL2}}</div>
                                    {{/PL2}}
                                    {{^PL2}}
                                        {{#PL1}}
            <div class="column width100 textCenter bold">Power Level 1 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL1}}</div>
                                        {{/PL1}}
                                    {{/PL2}}
                                {{/PL3}}
                            {{/PL4}}
                        {{/PL5}}
                    {{/PL6}}
                {{/PL7}}
            {{/PL8}}
        {{/rollBetween() roll 26 27}}{{#rollGreater() roll 27}}
            {{#PL9}}
            <div class="column width100 textCenter bold">Power Level 9 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL9}}</div>
            {{/PL9}}
            {{^PL9}}
                {{#PL8}}
            <div class="column width100 textCenter bold">Power Level 8 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL8}}</div>
                {{/PL8}}
                {{^PL8}}
                    {{#PL7}}
            <div class="column width100 textCenter bold">Power Level 7 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL7}}</div>
                    {{/PL7}}
                    {{^PL7}}
                        {{#PL6}}
            <div class="column width100 textCenter bold">Power Level 6 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL6}}</div>
                        {{/PL6}}
                        {{^PL6}}
                            {{#PL5}}
            <div class="column width100 textCenter bold">Power Level 5 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL5}}</div>
                            {{/PL5}}
                            {{^PL5}}
                                {{#PL4}}
            <div class="column width100 textCenter bold">Power Level 4 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL4}}</div>
                                {{/PL4}}
                                {{^PL4}}
                                    {{#PL3}}
            <div class="column width100 textCenter bold">Power Level 3 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL3}}</div>
                                    {{/PL3}}
                                    {{^PL3}}
                                        {{#PL2}}
            <div class="column width100 textCenter bold">Power Level 2 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL2}}</div>
                                        {{/PL2}}
                                        {{^PL2}}
                                            {{#PL1}}
            <div class="column width100 textCenter bold">Power Level 1 Info</div>
            <div class="column width100 textCenter borderAllDotted borderRound">{{PL1}}</div>
                                            {{/PL1}}
                                        {{/PL2}}
                                    {{/PL3}}
                                {{/PL4}}
                            {{/PL5}}
                        {{/PL6}}
                    {{/PL7}}
                {{/PL8}}
            {{/PL9}}
        {{/rollGreater() roll 27}}
        </div><div class="row">
            <div class="column width95 inlineBlock textCenter bold borderBottom">Other Power Levels</div>
            <div class="column width95 inlineBlock textCenter">Not yet Implemented</div>
        </div>
    {{/powertarget}}
<!--    </div>
  <!-- Bottom of scroll graphic -->
<!--    <div class="rollBottom"></div> -->
    </div></div>
</rolltemplate>
<!-- End Roll Templates Area -->



<!-- START Roll Template Boons -->
<rolltemplate class="sheet-rolltemplate-openLegend-boon">
  <!-- Top of scroll graphic -->
    <div class="border{{#border}}{{border}}{{/border}} width90"><div class="white">
      <!-- Display the title given -->
        <div class="row">
            <div class="column width100 textCenter textLarger bolder">{{title}}</div>
        </div>
      <!-- Display the title given -->
        <div class="row">
            {{#subTitle}}
            <div class="column width100 textCenter textLarge italic">{{subTitle}}{{#subTitleAdd}} &bullet; {{subTitleAdd}}{{/subTitleAdd}}</div>
            {{/subTitle}}
          <!-- Display any sub title given -->
            {{#subTitle2}}
            <div class="column width100 textCenter textLarge italic">{{subTitle2}}{{#subTitle2Add}} &bullet; {{subTitle2Add}}{{/subTitle2Add}}</div>
            {{/subTitle2}}
        </div>
      <!-- Display emote if provided -->
        {{#emote}}
        <div class="row">
            <div class="column width100 inlineBlock textCenter borderAllDotted borderRound">{{emote}}</div>
        </div>
        {{/emote}}
      <!-- Display Boon roll -->
        <div class="row vertTop">
            <div class="column textCenter width65 inlineBlock roll">{{roll}}</div>
            <div class="column width30 textCenter inlineBlock vertTop boxShadow" style="height:60px;"> <!-- Achieved PL -->
                <div class="column width100 textCenter bold textSmall vertTop">PL Rolled<br /></div>
                {{#rollLess() roll 12}}
                <div class="column width100 textCenter powerLevel padTop textRed vertBottom">0</div>
                {{/rollLess() roll 12}}
                {{#rollBetween() roll 12 13}}
                <div class="column width100 textCenter powerLevel padTop vertBottom">1</div>
                {{/rollBetween() roll 12 13}}
                {{#rollBetween() roll 14 15}}
                <div class="column width100 textCenter powerLevel padTop vertBottom">2</div>
                {{/rollBetween() roll 14 15}}
                {{#rollBetween() roll 16 17}}
                <div class="column width100 textCenter powerLevel padTop vertBottom">3</div>
                {{/rollBetween() roll 16 17}}
                {{#rollBetween() roll 18 19}}
                <div class="column width100 textCenter powerLevel padTop vertBottom">4</div>
                {{/rollBetween() roll 18 19}}
                {{#rollBetween() roll 20 21}}
                <div class="column width100 textCenter powerLevel padTop vertBottom">5</div>
                {{/rollBetween() roll 20 21}}
                {{#rollBetween() roll 22 23}}
                <div class="column width100 textCenter powerLevel padTop vertBottom">6</div>
                {{/rollBetween() roll 22 23}}
                {{#rollBetween() roll 24 25}}
                <div class="column width100 textCenter powerLevel padTop vertBottom">7</div>
                {{/rollBetween() roll 24 25}}
                {{#rollBetween() roll 26 27}}
                <div class="column width100 textCenter powerLevel padTop vertBottom">8</div>
                {{/rollBetween() roll 26 27}}
                {{#rollGreater() roll 27}}
                <div class="column width100 textCenter powerLevel padTop vertBottom">9</div>
                {{/rollGreater() roll 27}}
            </div>
            <div class="column textCenter width100 bold">Boon Invocation</div> <!-- {{#rollGreater() advantagedis -1}}Advantage {{/rollGreater() advantagedis -1}}{{#^rollGreater() advantagedis -1}}Disadvantage {{/^rollGreater() advantagedis -1}} -->
            {{#numberadvantage}}<div class="column textCenter width100 italic textSmall">{{numberadvantage}} additional Attribute Dice rolled</div>{{/numberadvantage}}
        </div>
      <!-- Display power level if provided -->
        <div class="row textCenter">
            {{#rollLess() roll powertarget}}
            <div class="column width90 inlineBlock red textLarge bold">Success with Twist<br />or Failure</div>
            {{/rollLess() roll powertarget}}
            {{#^rollLess() roll powertarget}}
            <div class="column width90 inlineBlock green textLarge bold">Success</div>
            {{/^rollLess() roll powertarget}}
        </div>
      <!-- Display description if provided -->
        {{#description}}
        <div class="row">
            <div class="column width100 textCenter bold borderBottom">Description/Flavor Text</div>
            <div class="column width100 textCenter scroll" style="max-height: 120px;">{{description}}</div>
        </div>
        {{/description}}
        <div class="row textCenter">
        {{#rollBetween() roll 12 13}}
            {{#PL1}}
            <div class="column width90 inlineBlock textCenter textLarge bold borderBottom">{{PL1title}}</div>
            <div class="column width90 inlineBlock textCenter borderAllDotted borderRound">{{PL1}}</div>
            {{/PL1}}
        {{/rollBetween() roll 12 13}}{{#rollBetween() roll 14 15}}
            {{#PL2}}
            <div class="column width90 inlineBlock textCenter textLarge bold borderBottom">{{PL2title}}</div>
            <div class="column width90 inlineBlock textCenter borderAllDotted borderRound">{{PL2}}</div>
            {{/PL2}}
        {{/rollBetween() roll 14 15}}{{#rollBetween() roll 16 17}}
            {{#PL3}}
            <div class="column width90 inlineBlock textCenter textLarge bold borderBottom">{{PL3title}}</div>
            <div class="column width90 inlineBlock textCenter borderAllDotted borderRound">{{PL3}}</div>
            {{/PL3}}
        {{/rollBetween() roll 16 17}}{{#rollBetween() roll 18 19}}
            {{#PL4}}
            <div class="column width90 inlineBlock textCenter textLarge bold borderBottom">{{PL4title}}</div>
            <div class="column width90 inlineBlock textCenter borderAllDotted borderRound">{{PL4}}</div>
            {{/PL4}}
        {{/rollBetween() roll 18 19}}{{#rollBetween() roll 20 21}}
            {{#PL5}}
            <div class="column width90 inlineBlock textCenter textLarge bold borderBottom">{{PL5title}}</div>
            <div class="column width90 inlineBlock textCenter borderAllDotted borderRound">{{PL5}}</div>
            {{/PL5}}
        {{/rollBetween() roll 20 21}}{{#rollBetween() roll 22 23}}
            {{#PL6}}
            <div class="column width90 inlineBlock textCenter textLarge bold borderBottom">{{PL6title}}</div>
            <div class="column width90 inlineBlock textCenter borderAllDotted borderRound">{{PL6}}</div>
            {{/PL6}}
        {{/rollBetween() roll 22 23}}{{#rollBetween() roll 24 25}}
            {{#PL7}}
            <div class="column width90 inlineBlock textCenter textLarge bold borderBottom">{{PL7title}}</div>
            <div class="column width90 inlineBlock textCenter borderAllDotted borderRound">{{PL7}}</div>
            {{/PL7}}
        {{/rollBetween() roll 24 25}}{{#rollBetween() roll 26 27}}
            {{#PL8}}
            <div class="column width90 inlineBlock textCenter textLarge bold borderBottom">{{PL8title}}</div>
            <div class="column width90 inlineBlock textCenter borderAllDotted borderRound">{{PL8}}</div>
            {{/PL8}}
        {{/rollBetween() roll 26 27}}{{#rollGreater() roll 27}}
            {{#PL9}}
            <div class="column width90 inlineBlock textCenter textLarge bold borderBottom">{{PL9title}}</div>
            <div class="column width90 inlineBlock textCenter borderAllDotted borderRound">{{PL9}}</div>
            {{/PL9}}
        {{/rollGreater() roll 27}}
        </div><!-- not ready yet, le sigh <div class="row textCenter">
            <div class="column width90 inlineBlock textCenter bold borderBottom">Other Power Levels</div>
            <div class="column width90 inlineBlock textCenter">
                {{#PL1}}[PL1](!&#13;#bleed){{/PL1}}
                {{#PL2}}{{/PL2}}
                {{#PL3}}{{/PL3}}
                {{#PL4}}{{/PL4}}
                {{#PL5}}{{/PL5}}
                {{#PL6}}{{/PL6}}
                {{#PL7}}{{/PL7}}
                {{#PL8}}{{/PL8}}
                {{#PL9}}{{/PL9}}
            </div>
        </div> -->
    </div></div>
</rolltemplate>
<!-- End Roll Template for Boons -->


<rolltemplate class="sheet-rolltemplate-openLegend-attack">
  <!-- Top of scroll graphic -->
    <div class="border{{#border}}{{border}}{{/border}} width90"><div class="white">
      <!-- Display the title given -->
        <div class="row">
            <div class="column width100 textCenter textLarger bolder">{{title}}</div>
        </div>
      <!-- Display the title given -->
        <div class="row">
            {{#subTitle}}
            <div class="column width100 textCenter textLarge italic">{{subTitle}}{{#subTitleAdd}} &bullet; {{subTitleAdd}}{{/subTitleAdd}}</div>
            {{/subTitle}}
          <!-- Display any sub title given -->
            {{#subTitle2}}
            <div class="column width100 textCenter textLarge italic">{{subTitle2}}{{#subTitle2Add}} &bullet; {{subTitle2Add}}{{/subTitle2Add}}</div>
            {{/subTitle2}}
        </div>
      <!-- Display emote if provided -->
        {{#emote}}
        <div class="row">
            <div class="column width100 inlineBlock textCenter borderAllDotted borderRound">{{emote}}</div>
        </div>
        {{/emote}}
      <!-- Display Boon roll -->
        <div class="row vertTop">
            <div class="column textCenter width100 roll">{{roll}}</div>
            <div class="column textCenter width100 bold">vs {{#target}}{{target}}{{/target}}{{^target}}???{{/target}}</div> <!-- {{#rollGreater() advantagedis -1}}Advantage {{/rollGreater() advantagedis -1}}{{#^rollGreater() advantagedis -1}}Disadvantage {{/^rollGreater() advantagedis -1}} -->
            {{#numberadvantage}}<div class="column textCenter width100 italic textSmall">{{numberadvantage}} additional Attribute Dice rolled</div>{{/numberadvantage}}
        </div>
      <!-- Display description if provided -->
        {{#description}}
        <div class="row">
            <div class="column width100 textCenter bold borderBottom">Description/Flavor Text</div>
            <div class="column width100 textCenter scroll" style="max-height: 120px;">{{description}}</div>
        </div>
        {{/description}}
    </div></div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-openLegend-effect">
  <!-- Top of scroll graphic -->
    <div class="border{{#border}}{{border}}{{/border}} width90"><div class="white">
      <!-- Display the title given -->
        <div class="row">
            <div class="column width100 textCenter textLarger bolder">{{title}}</div>
        </div>
      <!-- Display the title given -->
        <div class="row">
            {{#subTitle}}
            <div class="column width100 textCenter textLarge italic">{{subTitle}}{{#subTitleAdd}} &bullet; {{subTitleAdd}}{{/subTitleAdd}}</div>
            {{/subTitle}}
          <!-- Display any sub title given -->
            {{#subTitle2}}
            <div class="column width100 textCenter textLarge italic">{{subTitle2}}{{#subTitle2Add}} &bullet; {{subTitle2Add}}{{/subTitle2Add}}</div>
            {{/subTitle2}}
        </div>
      <!-- Display emote if provided -->
        {{#emote}}
        <div class="row">
            <div class="column width100 inlineBlock textCenter borderAllDotted borderRound">{{emote}}</div>
        </div>
        {{/emote}}
      <!-- Display Boon roll -->
        {{#roll}}
        <div class="row vertTop">
            <div class="column textCenter width100 roll">{{roll}}</div>
            <div class="column textCenter width100 bold">Effect</div>
        </div>
        {{/roll}}
      <!-- Display description if provided -->
        {{#description}}
        <div class="row">
            <div class="column width100 textCenter bold borderBottom">Description/Flavor Text</div>
            <div class="column width100 textCenter scroll" style="max-height: 120px;">{{description}}</div>
        </div>
        {{/description}}
    </div></div>
</rolltemplate>


<!-- OLDER TEMPLATES THAT WILL BE REMOVED
    rEMEMBER TO REMOVE THEM GREAT MOUSTACHE
    YOU CAN DO IT, I BELIEVE IN YOU
    (yes, this is a message to myself, deal) -->




<!-- Roll Templates Area -->
<rolltemplate class="sheet-rolltemplate-openLegendNormal">
  <!-- Top of scroll graphic -->
    <div class="normalBorder width90"><div class="white">
<!--    <div class="rollTop padTop padLeft">
      <!-- Display the title given -->
        <div class="row padTop">
            <div class="column width100 textCenter textLargest bolder">{{title}}</div>
        </div>
<!--    </div>
  <!-- Middle of scroll graphic -->
<!--    <div class="rollMiddle padTop padLeft padRight">
      <!-- Display the title given -->
        <div class="row">
            {{#subTitle}}
            <div class="column width100 textCenter textLarge italic">{{subTitle}}{{#subTitleAdd}} &bullet; {{subTitleAdd}}{{/subTitleAdd}}</div>
            {{/subTitle}}
          <!-- Display any sub title given -->
            {{#subTitle2}}
            <div class="column width100 textCenter textLarge italic">{{subTitle2}}{{#subTitle2Add}} &bullet; {{subTitle2Add}}{{/subTitle2Add}}</div>
            {{/subTitle2}}
        </div>
      <!-- Display emote if provided -->
        {{#emote}}
        <div class="row">
            <div class="column width95 inlineBlock textCenter borderAllDotted borderRound">{{emote}}</div>
        </div>
        {{/emote}}
      <!-- Display target plus the roll if target given -->
        {{#target}}
        <div class="row">
            <div class="column textCenter width100 roll">{{roll}}</div>
            <div class="column textCenter width100 bold">{{#numberadvantage}}Adv/Disadv {{numberadvantage}}{{/numberadvantage}} vs {{target}}</div>
        </div>
        {{/target}}
      <!-- Display just the roll if no target given -->
        {{^target}}{{#roll}}
        <div class="row">
            <div class="column textCenter width100 roll">{{roll}}</div>
            <div class="column textCenter width100">Total Roll</div>
        </div>
        {{/roll}}{{/target}}
      <!-- Display power level if provided -->
        {{#powertarget}}
        <div class="row textCenter">
            <div class="column width90 inlineBlock textCenter textLarge bold borderBottom">Boon Power Level</div>
            <div class="column width30 textCenter inlineBlock bold textSmall">Min Needed</div>
            <div class="column width30 textCenter inlineBlock bold textSmall">Achieved</div>
            <div class="column width30 textCenter inlineBlock bold textSmall">Max Allowed</div>
            <div class="width30 inlineBlock textCenter">
                <div class="column width100 textCenter">PL <span class="bold">{{powerlevel}}</span></div>
                <div class="column width100 textCenter">CR {{powertarget}}</div>
            </div>
            {{#rollLess() roll 12}}
            <div class="column width30 inlineBlock textCenter powerLevel textRed">0</div>
            {{/rollLess() roll 12}}
            {{#rollBetween() roll 12 13}}
            <div class="column width30 inlineBlock textCenter powerLevel">1</div>
            {{/rollBetween() roll 12 13}}
            {{#rollBetween() roll 14 15}}
            <div class="column width30 inlineBlock textCenter powerLevel">2</div>
            {{/rollBetween() roll 14 15}}
            {{#rollBetween() roll 16 17}}
            <div class="column width30 inlineBlock textCenter powerLevel">3</div>
            {{/rollBetween() roll 16 17}}
            {{#rollBetween() roll 18 19}}
            <div class="column width30 inlineBlock textCenter powerLevel">4</div>
            {{/rollBetween() roll 18 19}}
            {{#rollBetween() roll 20 21}}
            <div class="column width30 inlineBlock textCenter powerLevel">5</div>
            {{/rollBetween() roll 20 21}}
            {{#rollBetween() roll 22 23}}
            <div class="column width30 inlineBlock textCenter powerLevel">6</div>
            {{/rollBetween() roll 22 23}}
            {{#rollBetween() roll 24 25}}
            <div class="column width30 inlineBlock textCenter powerLevel">7</div>
            {{/rollBetween() roll 24 25}}
            {{#rollBetween() roll 26 27}}
            <div class="column width30 inlineBlock textCenter powerLevel">8</div>
            {{/rollBetween() roll 26 27}}
            {{#rollGreater() roll 27}}
            <div class="column width30 inlineBlock textCenter powerLevel">9</div>
            {{/rollGreater() roll 27}}
            <div class="width30 inlineBlock textCenter">
                <div class="column width100 textCenter">PL <span class="bold">{{powerlevelmax}}</span></div>
                <div class="column width100 textCenter">CR {{powertargetmax}}</div>
            </div>
            {{#rollLess() roll powertarget}}
            <div class="column width90 inlineBlock red textLarge bold">Success with Twist<br />or Failure</div>
            {{/rollLess() roll powertarget}}
            {{#^rollLess() roll powertarget}}
            <div class="column width90 inlineBlock green textLarge bold">Success</div>
            {{/^rollLess() roll powertarget}}
        </div>
        {{/powertarget}}
      <!-- Display description if provided -->
        {{#description}}
        <div class="row">
            <div class="column width100 textCenter bold borderBottom">Description/Flavor Text</div>
            <div class="column width100 textCenter scroll" style="max-height: 120px;">{{description}}</div>
        </div>
        {{/description}}
<!--    </div>
  <!-- Bottom of scroll graphic -->
<!--    <div class="rollBottom"></div> -->
    </div></div>
</rolltemplate>
<!-- End Roll Templates Area -->


<rolltemplate class="sheet-rolltemplate-openLegendModern">
  <!-- Top of scroll graphic -->
    <div class="modernBorder width90"><div class="white">
<!--    <div class="rollTop padTop padLeft">
      <!-- Display the title given -->
        <div class="row padTop">
            <div class="column width100 textCenter textLarger bolder">{{title}}</div>
        </div>
<!--    </div>
  <!-- Middle of scroll graphic -->
<!--    <div class="rollMiddle padTop padLeft padRight">
      <!-- Display the title given -->
        <div class="row">
            {{#subTitle}}
            <div class="column width100 textCenter textLarge italic">{{subTitle}}{{#subTitleAdd}} &bullet; {{subTitleAdd}}{{/subTitleAdd}}</div>
            {{/subTitle}}
          <!-- Display any sub title given -->
            {{#subTitle2}}
            <div class="column width100 textCenter textLarge italic">{{subTitle2}}{{#subTitle2Add}} &bullet; {{subTitle2Add}}{{/subTitle2Add}}</div>
            {{/subTitle2}}
        </div>
      <!-- Display emote if provided -->
        {{#emote}}
        <div class="row">
            <div class="column width95 inlineBlock textCenter borderAllDotted borderRound">{{emote}}</div>
        </div>
        {{/emote}}
      <!-- Display target plus the roll if target given -->
        {{#target}}
        <div class="row">
            <div class="column textCenter width100 roll">{{roll}}</div>
            <div class="column textCenter width100 bold">{{#numberadvantage}}Adv/Disadv {{numberadvantage}}{{/numberadvantage}} vs {{target}}</div>
        </div>
        {{/target}}
      <!-- Display just the roll if no target given -->
        {{^target}}{{#roll}}
        <div class="row">
            <div class="column textCenter width100 roll">{{roll}}</div>
            <div class="column textCenter width100">Total Roll</div>
        </div>
        {{/roll}}{{/target}}
      <!-- Display power level if provided -->
        {{#powertarget}}
        <div class="row textCenter">
            <div class="column width90 inlineBlock textCenter textLarge bold borderBottom">Boon Power Level</div>
            <div class="column width30 textCenter inlineBlock bold textSmall">Min Needed</div>
            <div class="column width30 textCenter inlineBlock bold textSmall">Achieved</div>
            <div class="column width30 textCenter inlineBlock bold textSmall">Max Allowed</div>
            <div class="width30 inlineBlock textCenter">
                <div class="column width100 textCenter">PL <span class="bold">{{powerlevel}}</span></div>
                <div class="column width100 textCenter">CR {{powertarget}}</div>
            </div>
            {{#rollLess() roll 12}}
            <div class="column width30 inlineBlock textCenter powerLevel textRed">0</div>
            {{/rollLess() roll 12}}
            {{#rollBetween() roll 12 13}}
            <div class="column width30 inlineBlock textCenter powerLevel">1</div>
            {{/rollBetween() roll 12 13}}
            {{#rollBetween() roll 14 15}}
            <div class="column width30 inlineBlock textCenter powerLevel">2</div>
            {{/rollBetween() roll 14 15}}
            {{#rollBetween() roll 16 17}}
            <div class="column width30 inlineBlock textCenter powerLevel">3</div>
            {{/rollBetween() roll 16 17}}
            {{#rollBetween() roll 18 19}}
            <div class="column width30 inlineBlock textCenter powerLevel">4</div>
            {{/rollBetween() roll 18 19}}
            {{#rollBetween() roll 20 21}}
            <div class="column width30 inlineBlock textCenter powerLevel">5</div>
            {{/rollBetween() roll 20 21}}
            {{#rollBetween() roll 22 23}}
            <div class="column width30 inlineBlock textCenter powerLevel">6</div>
            {{/rollBetween() roll 22 23}}
            {{#rollBetween() roll 24 25}}
            <div class="column width30 inlineBlock textCenter powerLevel">7</div>
            {{/rollBetween() roll 24 25}}
            {{#rollBetween() roll 26 27}}
            <div class="column width30 inlineBlock textCenter powerLevel">8</div>
            {{/rollBetween() roll 26 27}}
            {{#rollGreater() roll 27}}
            <div class="column width30 inlineBlock textCenter powerLevel">9</div>
            {{/rollGreater() roll 27}}
            <div class="width30 inlineBlock textCenter">
                <div class="column width100 textCenter">PL <span class="bold">{{powerlevelmax}}</span></div>
                <div class="column width100 textCenter">CR {{powertargetmax}}</div>
            </div>
            {{#rollLess() roll powertarget}}
            <div class="column width90 inlineBlock red textLarge bold">Success with Twist<br />or Failure</div>
            {{/rollLess() roll powertarget}}
            {{#^rollLess() roll powertarget}}
            <div class="column width90 inlineBlock green textLarge bold">Success</div>
            {{/^rollLess() roll powertarget}}
        </div>
        {{/powertarget}}
      <!-- Display description if provided -->
        {{#description}}
        <div class="row">
            <div class="column width100 textCenter bold borderBottom">Description/Flavor Text</div>
            <div class="column width100 textCenter scroll" style="max-height: 120px;">{{description}}</div>
        </div>
        {{/description}}
<!--    </div>
  <!-- Bottom of scroll graphic -->
<!--    <div class="rollBottom"></div> -->
    </div></div>
</rolltemplate>
<!-- End Roll Templates Area -->
<!-- This is where the Year Zero prayer magic happens - don't touch! -->
<button class="hidden" name="roll_reroll0" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=0}} {{roll=[[0d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll1" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=1}} {{roll=[[[[1+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll2" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=2}} {{roll=[[[[2+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll3" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=3}} {{roll=[[[[3+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll4" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=4}} {{roll=[[[[4+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll5" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=5}} {{roll=[[[[5+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll6" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=6}} {{roll=[[[[6+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll7" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=7}} {{roll=[[[[7+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll8" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=8}} {{roll=[[[[8+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll9" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=9}} {{roll=[[[[9+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll10" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=10}} {{roll=[[[[10+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll11" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=11}} {{roll=[[[[11+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll12" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=12}} {{roll=[[[[12+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll13" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=13}} {{roll=[[[[13+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll14" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=14}} {{roll=[[[[14+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll15" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=15}} {{roll=[[[[15+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll16" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=16}} {{roll=[[[[16+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll17" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=17}} {{roll=[[[[17+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll18" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=18}} {{roll=[[[[18+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll19" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=19}} {{roll=[[[[19+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>
<button class="hidden" name="roll_reroll20" type="roll" value="&amp;{template:skill} {{skill=^{rolltemplate-pray}}} {{character_name=@{character_name}}} {{prayer_modifier=?{@{query_prayer}|0}}} {{reroll_dice=20}} {{roll=[[[[20+?{@{query_prayer}|0}]]d6&gt;6]]}}"></button>

<!-- Hidden
==========================================================================-->
<input type="hidden" name='attr_query_modifier' value='Modifier'>
<input type="hidden" name='attr_query_cover' value='Cover Bonus'>
<input type="hidden" name='attr_query_initiative' value='Initiative Bonus'>
<input type="hidden" name='attr_query_prayer' value='Prayer Modifier'>
<input type="hidden" name='attr_query_signature' value='Enemy Signature'>
<input type="hidden" name="attr_ship_energy_used" value="0"/>
<input type="hidden" name="attr_cargo_current_repeating" value="0"/>
<input type="hidden" class='sheet-tabstoggle' name='attr_sheetTab'  value='pc'  />
<input type="hidden" name="attr_armor_total" type="number" value="0">

<button class="hidden" type="roll" name="roll_target_armor" value="&amp;{template:stat} {{character_name=@{target|character_name}}} {{check=^{rolltemplate-armor-check}}} {{action=^{rolltemplate-armor-action}}} {{roll=[[[[@{target|armor_total}+?{@{query_cover}|0}]]d6&gt;6]]}} {{effect=^{rolltemplate-armor-effect}}}"></button>
<button class="hidden" type="roll" name="roll_target_ship_armor" value="&amp;{template:stat} {{character_name=@{target|character_name}}} {{check=^{rolltemplate-ship-armor-check}}} {{action=^{rolltemplate-armor-action}}} {{roll=[[@{target|ship_armor}d6&gt;6]]}} {{effect=^{rolltemplate-armor-effect}}}"></button>
<button class="hidden" type="roll" name="roll_target_ship_pilot" value="&amp;{template:skill} {{skill=^{ship-action-opposing-pilot}}} {{ship_name=@{target|character_name}}} {{character_name=@{target|ship_pilot_name}}} {{roll=[[[[@{target|ship_pilot_agility}+@{target|ship_pilot_pilot}+@{target|ship_maneuverability}]]d6&gt;6]]}}"></button>

<button class="hidden" type="roll" name="roll_ship_engineer_overload" value="&amp;{template:skill} {{skill=^{ship-action-engineer-overload-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_engineer_name}}} {{description=^{ship-action-engineer-overload-description}}} {{roll=[[[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_engineer_repair_hull" value="&amp;{template:skill} {{skill=^{ship-action-engineer-repair-hull-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_engineer_name}}} {{description=^{ship-action-engineer-repair-hull-description}}} {{roll=[[[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_engineer_repair_system" value="&amp;{template:skill} {{skill=^{ship-action-engineer-repair-system-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_engineer_name}}} {{description=^{ship-action-engineer-repair-system-description}}} {{roll=[[[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_engineer_repair_critical" value="&amp;{template:skill} {{skill=^{ship-action-engineer-repair-critical-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_engineer_name}}} {{description=^{ship-action-engineer-repair-critical-description}}} {{roll=[[[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_engineer_repair_module" value="&amp;{template:skill} {{skill=^{ship-action-engineer-repair-module-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_engineer_name}}} {{description=^{ship-action-engineer-repair-module-description}}} {{roll=[[[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_engineer_airlock" value="&amp;{template:skill} {{skill=^{ship-action-engineer-airlock-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_engineer_name}}} {{description=^{ship-action-engineer-airlock-description}}} {{roll=[[[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_engineer_default" value="&amp;{template:skill} {{skill=^{skill-technology}}} {{ship_name=@{character_name}}} {{character_name=@{ship_engineer_name}}} {{roll=[[[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{ship_engineer_wits}}} {{stat_title=^{attribute-wits}}} {{skill_value=@{ship_engineer_technology}}} {{skill_title=^{skill-technology}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_engineer_wits}+@{ship_engineer_technology}+?{@{query_modifier}|0}-15]])}}"></button>

<button class="hidden" type="roll" name="roll_ship_captain_repair" value="&amp;{template:skill} {{skill=^{ship-action-captain-repair-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_captain_name}}} {{description=^{ship-action-captain-repair-description}}} {{roll=[[[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_captain_evade" value="&amp;{template:skill} {{skill=^{ship-action-captain-evade-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_captain_name}}} {{description=^{ship-action-captain-evade-description}}} {{roll=[[[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_captain_retreat" value="&amp;{template:skill} {{skill=^{ship-action-captain-retreat-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_captain_name}}} {{description=^{ship-action-captain-retreat-description}}} {{roll=[[[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_captain_attack" value="&amp;{template:skill} {{skill=^{ship-action-captain-attack-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_captain_name}}} {{description=^{ship-action-captain-attack-description}}} {{roll=[[[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_captain_default" value="&amp;{template:skill} {{skill=^{skill-command}}} {{ship_name=@{character_name}}} {{character_name=@{ship_captain_name}}} {{roll=[[[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{ship_captain_empathy}}} {{stat_title=^{attribute-empathy}}} {{skill_value=@{ship_captain_command}}} {{skill_title=^{skill-command}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_captain_empathy}+@{ship_captain_command}+?{@{query_modifier}|0}-15]])}}"></button>

<button class="hidden" type="roll" name="roll_ship_pilot_position" value="&amp;{template:skill} {{skill=^{ship-action-pilot-position-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_pilot_name}}} {{description=^{ship-action-pilot-position-description}}} {{roll=[[[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_pilot_advance" value="&amp;{template:skill} {{skill=^{ship-action-pilot-advance-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_pilot_name}}} {{description=^{ship-action-pilot-advance-description}}} {{roll=[[[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_pilot_evade" value="&amp;{template:skill} {{skill=^{ship-action-pilot-evade-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_pilot_name}}} {{description=^{ship-action-pilot-evade-description}}} {{roll=[[[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_pilot_ram" value="&amp;{template:skill} {{skill=^{ship-action-pilot-ram-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_pilot_name}}} {{description=^{ship-action-pilot-ram-description}}} {{oppose_pilot=[^{rolltemplate-target}](~@{character_id}|target_ship_pilot)}} {{roll=[[[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_pilot_board" value="&amp;{template:skill} {{skill=^{ship-action-pilot-board-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_pilot_name}}} {{description=^{ship-action-pilot-board-description}}} {{oppose_pilot=[^{rolltemplate-target}](~@{character_id}|target_ship_pilot)}} {{roll=[[[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+{-2}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+{-2}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+{-2}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+{-2}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+{-2}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+{-2}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+{-2}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+{-2}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+{-2}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+{-2}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+{-2}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+{-2}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+{-2}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+{-2}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+{-2}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+{-2}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+@{ship_maneuverability}+{-2}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_pilot_default" value="&amp;{template:skill} {{skill=^{skill-pilot}}} {{ship_name=@{character_name}}} {{character_name=@{ship_pilot_name}}} {{roll=[[[[@{ship_pilot_agility}+@{ship_pilot_pilot}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{ship_pilot_agility}}} {{stat_title=^{attribute-agility}}} {{skill_value=@{ship_pilot_pilot}}} {{skill_title=^{skill-pilot}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_pilot_agility}+@{ship_pilot_pilot}+?{@{query_modifier}|0}-15]])}}"></button>

<button class="hidden" type="roll" name="roll_ship_sensors_target-lock" value="&amp;{template:skill} {{skill=^{ship-action-sensors-target-lock-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_sensors_name}}} {{description=^{ship-action-sensors-target-lock-description}}} {{roll=[[[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_sensors_break-lock" value="&amp;{template:skill} {{skill=^{ship-action-sensors-break-lock-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_sensors_name}}} {{description=^{ship-action-sensors-break-lock-description}}} {{roll=[[[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_sensors_pulse-attack" value="&amp;{template:skill} {{skill=^{ship-action-sensors-pulse-attack-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_sensors_name}}} {{description=^{ship-action-sensors-pulse-attack-description}}} {{roll=[[[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_sensors_meme-launch" value="&amp;{template:skill} {{skill=^{ship-action-sensors-meme-launch-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_sensors_name}}} {{description=^{ship-action-sensors-meme-launch-description}}} {{roll=[[[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_sensors_meme-attack" value="&amp;{template:skill} {{skill=^{ship-action-sensors-meme-attack-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_sensors_name}}} {{description=^{ship-action-sensors-meme-attack-description}}} {{roll=[[[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+@{target|ship_signature}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_sensors_disappear" value="&amp;{template:skill} {{skill=^{ship-action-sensors-disappear-label}}} {{ship_name=@{character_name}}} {{character_name=@{ship_sensors_name}}} {{description=^{ship-action-sensors-disappear-description}}} {{roll=[[[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-15]])}}"></button>
<button class="hidden" type="roll" name="roll_ship_sensors_default" value="&amp;{template:skill} {{skill=^{skill-data-djinn}}} {{ship_name=@{character_name}}} {{character_name=@{ship_sensors_name}}} {{roll=[[[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{ship_sensors_wits}}} {{stat_title=^{attribute-wits}}} {{skill_value=@{ship_sensors_data_djinn}}} {{skill_title=^{skill-data_djinn}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_modifier}|0}-15]])}}"></button>



<div class="wrapper grid__1col">

    <div class="header">
        <img src="https://i.imgur.com/73Bue4k.png" alt="Logo">
        <!-- toggle navigation -->
        <div class="toggle__wrapper">
            <label class="button__left">
                <input type="radio" name="attr_page" value="0" checked="checked">
                <span data-i18n="tab-pc">Character sheet</span>
            </label>
            <label class="button__center">
                <input type="radio" name="attr_page" value="1">
                <span data-i18n="tab-spaceship">Spaceship sheet</span>
            </label>
            <label class="button__right">
                <input type="radio" name="attr_page" value="2">
                <span data-i18n="tab-utility">Utility</span>
            </label>
        </div>
    </div>

    <!-- Hidden checkboxes for tab navigation -->
    <input type="radio" class="toggle__pc hidden" name="attr_calc_page" value="0" checked="checked">
    <input type="radio" class="toggle__spaceship hidden" name="attr_calc_page" value="1">
    <input type="radio" class="toggle__readme hidden" name="attr_calc_page" value="2">

    <!-- PC tab -->
    <div class="page page__pc">
        <div class="grid__4col">

            <!-- Left column -->
            <div class="grid__1col">

                <!-- Strength Skills -->
                <div class="card grid__list">
                    <div class="grid__stat card__panel">
                        <button data-i18n="attribute-strength" name="roll_strength" type="roll" value="&amp;{template:skill} {{skill=^{attribute-strength}}} {{character_name=@{character_name}}} {{roll=[[[[@{strength}+?{@{query_modifier}|0}}]]d6&gt;6]]}} {{stat_value=@{strength}}} {{stat_title=^{attribute-strength}}} {{modifier=?{@{query_modifier}|0}}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+?{@{query_modifier}|0}-15]])}}">Strength</button>
                        <input name="attr_strength" type="number" value="0"/>
                    </div>
                    <div class="grid__stat card__row">
                        <button data-i18n="skill-force" name="roll_force" type="roll" value="&amp;{template:skill} {{skill=^{skill-force}}} {{character_name=@{character_name}}} {{roll=[[[[@{strength}+@{force}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{strength}}} {{stat_title=^{attribute-strength}}} {{skill_value=@{force}}} {{skill_title=^{skill-force}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{force}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{force}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{force}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{force}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{force}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{force}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{force}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{force}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{force}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{force}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{force}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{force}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{force}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{force}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{force}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{force}+?{@{query_modifier}|0}-15]])}}">Force</button>
                        <input name="attr_force" type="number" value="0"/>
                    </div>
                    <div class="grid__stat card__row">
                        <button data-i18n="skill-melee-combat" name="roll_melee-combat" type="roll" value="&amp;{template:skill} {{skill=^{skill-melee-combat}}} {{character_name=@{character_name}}} {{roll=[[[[@{strength}+@{melee-combat}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{strength}}} {{stat_title=^{attribute-strength}}} {{skill_value=@{melee-combat}}} {{skill_title=^{skill-melee-combat}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+?{@{query_modifier}|0}-15]])}}">Melee Combat</button>
                        <input name="attr_melee-combat" type="number" value="0"/>
                    </div>
                </div>

                <!-- Agility Skills -->
                <div class="card grid__list">
                    <div class="grid__stat card__panel">
                        <button data-i18n="attribute-agility" name="roll_agility" type="roll" value="&amp;{template:skill} {{skill=^{attribute-agility}}} {{character_name=@{character_name}}} {{roll=[[[[@{agility}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{agility}}} {{stat_title=^{attribute-agility}}} {{modifier=?{@{query_modifier}|0}}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+?{@{query_modifier}|0}-15]])}}">Agility</button>
                        <input name="attr_agility" type="number" value="0"/>
                    </div>
                    <div class="grid__stat card__row">
                        <button data-i18n="skill-dexterity" name="roll_dexterity" type="roll" value="&amp;{template:skill} {{skill=^{skill-dexterity}}} {{character_name=@{character_name}}} {{roll=[[[[@{agility}+@{dexterity}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{agility}}} {{stat_title=^{attribute-agility}}} {{skill_value=@{dexterity}}} {{skill_title=^{skill-dexterity}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{dexterity}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{dexterity}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{dexterity}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{dexterity}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{dexterity}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{dexterity}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{dexterity}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{dexterity}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{dexterity}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{dexterity}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{dexterity}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{dexterity}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{dexterity}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{dexterity}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{dexterity}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{dexterity}+?{@{query_modifier}|0}-15]])}}">Dexterity</button>
                        <input name="attr_dexterity" type="number" value="0"/>
                    </div>
                    <div class="grid__stat card__row">
                        <button data-i18n="skill-infiltration" name="roll_infiltration" type="roll" value="&amp;{template:skill} {{skill=^{skill-infiltration}}} {{character_name=@{character_name}}} {{roll=[[[[@{agility}+@{infiltration}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{agility}}} {{stat_title=^{attribute-agility}}} {{skill_value=@{infiltration}}} {{skill_title=^{skill-infiltration}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{infiltration}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{infiltration}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{infiltration}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{infiltration}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{infiltration}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{infiltration}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{infiltration}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{infiltration}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{infiltration}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{infiltration}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{infiltration}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{infiltration}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{infiltration}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{infiltration}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{infiltration}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{infiltration}+?{@{query_modifier}|0}-15]])}}">Infiltration</button>
                        <input name="attr_infiltration" type="number" value="0"/>
                    </div>
                    <div class="grid__stat card__row">
                        <button data-i18n="skill-ranged-combat" name="roll_ranged-combat" type="roll" value="&amp;{template:skill} {{skill=^{skill-ranged-combat}}} {{character_name=@{character_name}}} {{roll=[[[[@{agility}+@{ranged-combat}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{agility}}} {{stat_title=^{attribute-agility}}} {{skill_value=@{ranged-combat}}} {{skill_title=^{skill-ranged-combat}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+?{@{query_modifier}|0}-15]])}}">Ranged Combat</button>
                        <input name="attr_ranged-combat" type="number" value="0"/>
                    </div>
                    <div class="grid__stat card__row advanced">
                        <input name="attr_pilot" type="number" placeholder="0"/>
                        <button data-i18n="skill-pilot" name="roll_pilot" type="roll" value="&amp;{template:skill} {{skill=^{skill-pilot}}} {{character_name=@{character_name}}} {{roll=[[[[@{agility}+@{pilot}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{agility}}} {{stat_title=^{attribute-agility}}} {{skill_value=@{pilot}}} {{skill_title=^{skill-pilot}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{pilot}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{pilot}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{pilot}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{pilot}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{pilot}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{pilot}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{pilot}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{pilot}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{pilot}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{pilot}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{pilot}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{pilot}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{pilot}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{pilot}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{pilot}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{pilot}+?{@{query_modifier}|0}-15]])}}">Pilot</button>   
                    </div>
                </div>

                <!-- Wits -->
                <div class="card grid__list">
                    <div class="grid__stat card__panel">
                        <button data-i18n="attribute-wits" name="roll_wits" type="roll" value="&amp;{template:skill} {{skill=^{attribute-wits}}} {{character_name=@{character_name}}} {{roll=[[[[@{wits}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{wits}}} {{stat_title=^{attribute-wits}}} {{modifier=?{@{query_modifier}|0}}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+?{@{query_modifier}|0}-15]])}}">Wits</button>
                        <input name="attr_wits" type="number" value="0"/>
                    </div>
                    <div class="grid__stat card__row">
                        <button data-i18n="skill-observation" name="roll_observation" type="roll" value="&amp;{template:skill} {{skill=^{skill-observation}}} {{character_name=@{character_name}}} {{roll=[[[[@{wits}+@{observation}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{wits}}} {{stat_title=^{attribute-wits}}} {{skill_value=@{observation}}} {{skill_title=^{skill-observation}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{observation}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{observation}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{observation}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{observation}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{observation}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{observation}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{observation}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{observation}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{observation}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{observation}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{observation}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{observation}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{observation}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{observation}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{observation}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{observation}+?{@{query_modifier}|0}-15]])}}">Observation</button>
                        <input name="attr_observation" type="number" value="0"/>
                    </div>
                    <div class="grid__stat card__row">
                        <button data-i18n="skill-survival" name="roll_survival" type="roll" value="&amp;{template:skill} {{skill=^{skill-survival}}} {{character_name=@{character_name}}} {{roll=[[[[@{wits}+@{survival}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{wits}}} {{stat_title=^{attribute-wits}}} {{skill_value=@{survival}}} {{skill_title=^{skill-survival}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{survival}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{survival}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{survival}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{survival}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{survival}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{survival}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{survival}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{survival}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{survival}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{survival}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{survival}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{survival}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{survival}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{survival}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{survival}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{survival}+?{@{query_modifier}|0}-15]])}}">Survival</button>
                        <input name="attr_survival" type="number" value="0"/>
                    </div>
                    <div class="grid__stat card__row advanced">
                        <input name="attr_datadjinn" type="number" placeholder="0"/>
                        <button data-i18n="skill-data-djinn" name="roll_datadjinn" type="roll" value="&amp;{template:skill} {{skill=^{skill-data-djinn}}} {{character_name=@{character_name}}} {{roll=[[[[@{wits}+@{datadjinn}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{wits}}} {{stat_title=^{attribute-wits}}} {{skill_value=@{datadjinn}}} {{skill_title=^{skill-data-djinn}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{datadjinn}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{datadjinn}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{datadjinn}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{datadjinn}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{datadjinn}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{datadjinn}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{datadjinn}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{datadjinn}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{datadjinn}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{datadjinn}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{datadjinn}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{datadjinn}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{datadjinn}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{datadjinn}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{datadjinn}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{datadjinn}+?{@{query_modifier}|0}-15]])}}">Data Djinn</button>
                    </div>
                    <div class="grid__stat card__row advanced">
                        <input name="attr_medicurgy" type="number" placeholder="0"/>
                        <button data-i18n="skill-medicurgy" name="roll_medicurgy" type="roll" value="&amp;{template:skill} {{skill=^{skill-medicurgy}}} {{character_name=@{character_name}}} {{roll=[[[[@{wits}+@{medicurgy}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{wits}}} {{stat_title=^{attribute-wits}}} {{skill_value=@{medicurgy}}} {{skill_title=^{skill-medicurgy}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{medicurgy}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{medicurgy}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{medicurgy}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{medicurgy}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{medicurgy}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{medicurgy}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{medicurgy}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{medicurgy}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{medicurgy}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{medicurgy}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{medicurgy}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{medicurgy}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{medicurgy}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{medicurgy}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{medicurgy}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{medicurgy}+?{@{query_modifier}|0}-15]])}}">Medicurgy</button>
                    </div>
                    <div class="grid__stat card__row advanced">
                        <input name="attr_science" type="number" placeholder="0"/>
                        <button data-i18n="skill-science" name="roll_science" type="roll" value="&amp;{template:skill} {{skill=^{skill-science}}} {{character_name=@{character_name}}} {{roll=[[[[@{wits}+@{science}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{wits}}} {{stat_title=^{attribute-wits}}} {{skill_value=@{science}}} {{skill_title=^{skill-science}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{science}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{science}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{science}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{science}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{science}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{science}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{science}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{science}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{science}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{science}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{science}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{science}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{science}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{science}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{science}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{science}+?{@{query_modifier}|0}-15]])}}">Science</button>
                    </div>
                    <div class="grid__stat card__row advanced">
                        <input name="attr_technology" type="number" placeholder="0"/>
                        <button data-i18n="skill-technology" name="roll_technology" type="roll" value="&amp;{template:skill} {{skill=^{skill-technology}}} {{character_name=@{character_name}}} {{roll=[[[[@{wits}+@{technology}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{wits}}} {{stat_title=^{attribute-wits}}} {{skill_value=@{technology}}} {{skill_title=^{skill-technology}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{technology}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{technology}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{technology}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{technology}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{technology}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{technology}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{technology}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{technology}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{technology}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{technology}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{technology}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{technology}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{technology}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{technology}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{technology}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{wits}+@{technology}+?{@{query_modifier}|0}-15]])}}">Technology</button>
                  </div>
                </div>

                <!-- Empathy -->
                <div class="card grid__list">
                    <div class="grid__stat card__panel">
                        <button data-i18n="attribute-empathy" name="roll_empathy" type="roll" value="&amp;{template:skill} {{skill=^{attribute-empathy}}} {{character_name=@{character_name}}} {{roll=[[[[@{empathy}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{empathy}}} {{stat_title=^{attribute-empathy}}} {{modifier=?{@{query_modifier}|0}}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+?{@{query_modifier}|0}-15]])}}">Empathy</button>
                        <input name="attr_empathy" type="number" value="0"/>
                    </div>
                    <div class="grid__stat card__row">
                        <button data-i18n="skill-manipulation" name="roll_manipulation" type="roll" value="&amp;{template:skill} {{skill=^{skill-manipulation}}} {{character_name=@{character_name}}} {{roll=[[[[@{empathy}+@{manipulation}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{empathy}}} {{stat_title=^{attribute-empathy}}} {{skill_value=@{manipulation}}} {{skill_title=^{skill-manipulation}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{manipulation}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{manipulation}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{manipulation}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{manipulation}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{manipulation}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{manipulation}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{manipulation}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{manipulation}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{manipulation}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{manipulation}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{manipulation}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{manipulation}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{manipulation}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{manipulation}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{manipulation}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{manipulation}+?{@{query_modifier}|0}-15]])}}">Manipulation</button>
                        <input name="attr_manipulation" type="number" value="0"/>
                    </div>
                    <div class="grid__stat card__row">
                        <button data-i18n="skill-command" name="roll_command" type="roll" value="&amp;{template:skill} {{skill=^{skill-command}}} {{character_name=@{character_name}}} {{roll=[[[[@{empathy}+@{command}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{empathy}}} {{stat_title=^{attribute-empathy}}} {{skill_value=@{command}}} {{skill_title=^{skill-command}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{command}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{command}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{command}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{command}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{command}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{command}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{command}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{command}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{command}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{command}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{command}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{command}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{command}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{command}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{command}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{command}+?{@{query_modifier}|0}-15]])}}">Command</button>
                        <input name="attr_command" type="number" value="0"/>
                    </div>
                    <div class="grid__stat card__row advanced">
                        <input name="attr_culture" type="number" placeholder="0"/>
                        <button data-i18n="skill-culture" name="roll_culture" type="roll" value="&amp;{template:skill} {{skill=^{skill-culture}}} {{character_name=@{character_name}}} {{roll=[[[[@{empathy}+@{culture}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{empathy}}} {{stat_title=^{attribute-empathy}}} {{skill_value=@{culture}}} {{skill_title=^{skill-culture}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{culture}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{culture}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{culture}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{culture}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{culture}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{culture}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{culture}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{culture}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{culture}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{culture}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{culture}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{culture}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{culture}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{culture}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{culture}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{culture}+?{@{query_modifier}|0}-15]])}}">Culture</button>
                    </div>
                    <div class="grid__stat card__row advanced">
                        <input name="attr_mystic-powers" type="number" placeholder="0"/>
                        <button data-i18n="skill-mystic-powers" name="roll_mystic-powers" type="roll" value="&amp;{template:skill} {{skill=^{skill-mystic-powers}}} {{character_name=@{character_name}}} {{roll=[[[[@{empathy}+@{mystic-powers}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{stat_value=@{empathy}}} {{stat_title=^{attribute-empathy}}} {{skill_value=@{mystic-powers}}} {{skill_title=^{skill-mystic-powers}}} {{modifier=?{@{query_modifier}|0}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{mystic-powers}+?{@{query_modifier}|0}-0]])}} {{reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{mystic-powers}+?{@{query_modifier}|0}-1]])}} {{reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{mystic-powers}+?{@{query_modifier}|0}-2]])}} {{reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{mystic-powers}+?{@{query_modifier}|0}-3]])}} {{reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{mystic-powers}+?{@{query_modifier}|0}-4]])}} {{reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{mystic-powers}+?{@{query_modifier}|0}-5]])}} {{reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{mystic-powers}+?{@{query_modifier}|0}-6]])}} {{reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{mystic-powers}+?{@{query_modifier}|0}-7]])}} {{reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{mystic-powers}+?{@{query_modifier}|0}-8]])}} {{reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{mystic-powers}+?{@{query_modifier}|0}-9]])}} {{reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{mystic-powers}+?{@{query_modifier}|0}-10]])}} {{reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{mystic-powers}+?{@{query_modifier}|0}-11]])}} {{reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{mystic-powers}+?{@{query_modifier}|0}-12]])}} {{reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{mystic-powers}+?{@{query_modifier}|0}-13]])}} {{reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{mystic-powers}+?{@{query_modifier}|0}-14]])}} {{reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{empathy}+@{mystic-powers}+?{@{query_modifier}|0}-15]])}}">Mystic Powers</button>
                    </div>
                </div>

                <!-- Critical Injuries -->
                <div class="card grid__list">
                    <div class="grid__generic-info table__panel">
                        <span data-i18n="label-critical-injuries">Critical Injuries</span>
                    </div>
                    <fieldset class="repeating_critical-injuries">
                        <div class="grid__generic-info table__row repeating">
                            <input name="attr_crit-injury" type="text" data-i18n-placeholder="placeholder-critical-injury" placeholder="Critical Injury"/>
                        </div>
                    </fieldset>
                </div>

            </div>

            <!-- Right column -->
            <div class="grid__3col span3">
                
                <!-- Character info -->
                <div class="card grid__2col span3">

                    <div class="grid__1col card__panel span2">
                        <span data-i18n="label-info">Info</span>
                    </div>
                    <div class="label__float">
                        <span data-i18n="char-name">Name</span>
                        <input name="attr_character_name" type="text"/>
                    </div>
                    <div class="label__float">
                        <span data-i18n="char-background">Background</span>
                        <input name="attr_background" type="text"/>
                    </div>
                    <div class="label__float">
                        <span data-i18n="char-concept">Concept</span>
                        <input name="attr_concept" type="text"/>
                    </div>
                    <div class="label__float">
                        <span data-i18n="char-reputation">Reputation</span>
                        <input name="attr_reputation" type="number"/>
                    </div>
                    <div class="label__float">
                        <span data-i18n="char-experience">Experience</span>
                        <input name="attr_experience" type="number"/>
                    </div>
                    <div class="label__float">
                        <span data-i18n="char-birr">Birr</span>
                        <input name="attr_birr" type="number"/>
                    </div>
                    <div class="label__float span2">
                        <span data-i18n="char-personal-problem">Personal Problem</span>
                        <input name="attr_personal_problem" type="text"/>
                    </div>
                </div>

                <!-- Hit Points -->
                <div class="card grid__list">
                    <div class="grid__stat card__panel">
                        <span data-i18n="char-hitpoints">Hitpoints</span>
                        <input name="attr_hitpoints" type="number" value="0"/>
                    </div>
                    <div class="grid__stat card__row">
                        <span data-i18n="char-hitpoint-bonus">Talent bonus</span>
                        <input name="attr_hitpoints_bonus" type="number" value="0"/>
                    </div>
                    <div class="grid__stat card__row">
                        <span data-i18n="char-hitpoint-max">Maximum</span>
                        <span class="count mid" name="attr_hitpoints_max" type="number" value="0"></span>
                    </div>
                </div>

                <!-- Mind Points -->
                <div class="card grid__list">
                    <div class="grid__stat card__panel">
                        <span data-i18n="char-mindpoints">Mindpoints</span>
                        <input name="attr_mindpoints" type="number" value="0"/>
                    </div>
                    <div class="grid__stat card__row">
                        <span data-i18n="char-mindpoint-bonus">Talent bonus</span>
                        <input name="attr_mindpoints_bonus" type="number" value="0"/>
                    </div>
                    <div class="grid__stat card__row">
                        <span data-i18n="char-mindpoint-max">Maximum</span>
                        <span class="count mid" name="attr_mindpoints_max" type="number" value="@{wits}+@{empathy}+@{mindpoints_bonus}"></span>
                    </div>
                </div>

                <!-- Actions -->
                <div class="card grid__list">
                    <div class="grid__1col no-icon left">
                        <button data-i18n="button-roll-initiative" class="action" type="roll" name="roll_initiative" value="&amp;{template:stat} {{character_name=@{character_name}}} {{check=^{rolltemplate-initiative-check}}} {{action=^{rolltemplate-initiative-action}}} {{roll=[[1d6+?{@{query_initiative}|0}&{tracker}]]}} {{effect=^{rolltemplate-initiative-effect}}}">Roll initiative</button>
                    </div>
                    <div class="grid__1col no-icon left">
                        <button class="action" type="roll" name="roll_armor" value="&amp;{template:stat} {{character_name=@{character_name}}} {{check=^{rolltemplate-armor-check}}} {{action=^{rolltemplate-armor-action}}} {{roll=[[[[@{armor_total}+?{@{query_cover}|0}]]d6&gt;6]]}} {{effect=^{rolltemplate-armor-effect}}}"><span data-i18n="button-roll-armor">Roll Armor</span> [<span name="attr_armor_total"></span>]</button>
                    </div>
                    <div class="grid__stat card__panel no-icon left">
                        <button data-i18n="button-roll-radiation" class="action" type="roll" name="roll_radiation" value="&amp;{template:stat} {{character_name=@{character_name}}} {{check=^{rolltemplate-radiation-check}}} {{action=^{rolltemplate-radiation-action}}} {{roll=[[@{radiation}d6&gt;6]]}} {{effect=^{rolltemplate-radiation-effect}}}">Roll radiation</button>
                        <input name="attr_radiation" type="number" value="0"/>
                    </div>
                </div>
                
                <!-- Weapons -->
                <div class="card grid__list span3">
                    <div class="grid__pc-weapons table__panel">
                        <span data-i18n="label-weapons">Weapons</span>
                        <span data-i18n="item-type">Type</span>
                        <span class="center" data-i18n="item-bonus">Bonus</span>
                        <span class="center" data-i18n="item-init">Init</span>
                        <span class="center" data-i18n="item-damage">Dmg</span>
                        <span class="center" data-i18n="item-crit">Crit</span>
                        <span class="center" data-i18n="item-range">Range</span>
                        <span data-i18n="item-comments">Comments</span>
                        <span class="center" data-i18n="item-reloads">Reloads</span>
                        <span>&nbsp;</span>
                    </div>
                    <div class="grid__pc-weapons table__row repeating">
                        <input name="attr_weapon_1" type="text" data-i18n-placeholder="placeholder-weapon" placeholder="Weapon"/>
                        <select name="attr_weapon_1_type">
                            <option data-i18n="item-type-ranged" name="item-type-ranged" value="[[0]]">Ranged</option>
                            <option data-i18n="item-type-melee" name="item-type-melee" value="[[1]]">Melee</option>
                        </select>
                        <input name="attr_weapon_1_bonus" type="number" value="0"/>
                        <input name="attr_weapon_1_init" type="number" value="0"/>
                        <input name="attr_weapon_1_damage" type="number" value="0"/>
                        <input name="attr_weapon_1_crit" type="number" value="0"/>
                        <select name="attr_weapon_1_range" value="Close">
                            <option name="item-range-close" data-i18n="item-range-close" value="Close">Close</option>
                            <option name="item-range-short" data-i18n="item-range-short" value="Short">Short</option>
                            <option name="item-range-long" data-i18n="item-range-long" value="Long">Long</option>
                            <option name="item-range-extreme" data-i18n="item-range-extreme" value="Extreme">Extreme</option>
                        </select>
                        <input name="attr_weapon_1_comments" type="text" data-i18n-placeholder="placeholder-comment" placeholder="Comment"/>
                        <input name="attr_weapon_1_reloads" type="number" value="0"/>
                        <button type="roll" name="roll_weapon_1" value="&amp;{template:attack} {{attack=@{weapon_1}}} {{character_name=@{character_name}}} {{weapon_type=@{weapon_1_type}}} {{weapon_damage=@{weapon_1_damage}}} {{target_armor=[^{rolltemplate-target}](~@{character_id}|target_armor)}} {{weapon_comment=@{weapon_1_comments}}} {{weapon_crit=@{weapon_1_crit}}} {{weapon_range=@{weapon_1_range}}} {{weapon_bonus=@{weapon_1_bonus}}} {{modifier=?{@{query_modifier}|0}}} {{ranged_roll=[[[[@{agility}+@{ranged-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{ranged_value=@{ranged-combat}}} {{ranged_title=^{skill-ranged-combat}}} {{agility_value=@{agility}}} {{agility_title=^{attribute-agility}}} {{melee_roll=[[[[@{strength}+@{melee-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{melee_value=@{melee-combat}}} {{melee_title=^{skill-melee-combat}}} {{strength_value=@{strength}}} {{strength_title=^{attribute-strength}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{ranged_reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-0]])}} {{ranged_reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-1]])}} {{ranged_reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-2]])}} {{ranged_reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-3]])}} {{ranged_reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-4]])}} {{ranged_reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-5]])}} {{ranged_reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-6]])}} {{ranged_reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-7]])}} {{ranged_reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-8]])}} {{ranged_reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-9]])}} {{ranged_reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-10]])}} {{ranged_reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-11]])}} {{ranged_reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-12]])}} {{ranged_reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-13]])}} {{ranged_reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-14]])}} {{ranged_reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-15]])}} {{melee_reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-0]])}} {{melee_reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-1]])}} {{melee_reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-2]])}} {{melee_reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-3]])}} {{melee_reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-4]])}} {{melee_reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-5]])}} {{melee_reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-6]])}} {{melee_reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-7]])}} {{melee_reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-8]])}} {{melee_reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-9]])}} {{melee_reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-10]])}} {{melee_reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-11]])}} {{melee_reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-12]])}} {{melee_reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-13]])}} {{melee_reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-14]])}} {{melee_reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_1_bonus}+?{@{query_modifier}|0}-15]])}}">
                        </button>
                        <input name="attr_weapon_2" type="text" data-i18n-placeholder="placeholder-weapon" placeholder="Weapon"/>
                        <select name="attr_weapon_2_type">
                            <option data-i18n="item-type-ranged" name="item-type-ranged" value="[[0]]">Ranged</option>
                            <option data-i18n="item-type-melee" name="item-type-melee" value="[[1]]">Melee</option>
                        </select>
                        <input name="attr_weapon_2_bonus" type="number" value="0"/>
                        <input name="attr_weapon_2_init" type="number" value="0"/>
                        <input name="attr_weapon_2_damage" type="number" value="0"/>
                        <input name="attr_weapon_2_crit" type="number" value="0"/>
                        <select name="attr_weapon_2_range" value="Close">
                            <option name="item-range-close" data-i18n="item-range-close" value="Close">Close</option>
                            <option name="item-range-short" data-i18n="item-range-short" value="Short">Short</option>
                            <option name="item-range-long" data-i18n="item-range-long" value="Long">Long</option>
                            <option name="item-range-extreme" data-i18n="item-range-extreme" value="Extreme">Extreme</option>
                        </select>
                        <input name="attr_weapon_2_comments" type="text" data-i18n-placeholder="placeholder-comment" placeholder="Comment"/>
                        <input name="attr_weapon_2_reloads" type="number" value="0"/>
                        <button type="roll" name="roll_weapon_2" value="&amp;{template:attack} {{attack=@{weapon_2}}} {{character_name=@{character_name}}} {{weapon_type=@{weapon_2_type}}} {{weapon_damage=@{weapon_2_damage}}} {{target_armor=[^{rolltemplate-target}](~@{character_id}|target_armor)}} {{weapon_comment=@{weapon_2_comments}}} {{weapon_crit=@{weapon_2_crit}}} {{weapon_range=@{weapon_2_range}}} {{weapon_bonus=@{weapon_2_bonus}}} {{modifier=?{@{query_modifier}|0}}} {{ranged_roll=[[[[@{agility}+@{ranged-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{ranged_value=@{ranged-combat}}} {{ranged_title=^{skill-ranged-combat}}} {{agility_value=@{agility}}} {{agility_title=^{attribute-agility}}} {{melee_roll=[[[[@{strength}+@{melee-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{melee_value=@{melee-combat}}} {{melee_title=^{skill-melee-combat}}} {{strength_value=@{strength}}} {{strength_title=^{attribute-strength}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{ranged_reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-0]])}} {{ranged_reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-1]])}} {{ranged_reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-2]])}} {{ranged_reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-3]])}} {{ranged_reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-4]])}} {{ranged_reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-5]])}} {{ranged_reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-6]])}} {{ranged_reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-7]])}} {{ranged_reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-8]])}} {{ranged_reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-9]])}} {{ranged_reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-10]])}} {{ranged_reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-11]])}} {{ranged_reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-12]])}} {{ranged_reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-13]])}} {{ranged_reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-14]])}} {{ranged_reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-15]])}} {{melee_reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-0]])}} {{melee_reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-1]])}} {{melee_reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-2]])}} {{melee_reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-3]])}} {{melee_reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-4]])}} {{melee_reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-5]])}} {{melee_reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-6]])}} {{melee_reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-7]])}} {{melee_reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-8]])}} {{melee_reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-9]])}} {{melee_reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-10]])}} {{melee_reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-11]])}} {{melee_reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-12]])}} {{melee_reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-13]])}} {{melee_reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-14]])}} {{melee_reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_2_bonus}+?{@{query_modifier}|0}-15]])}}">
                        </button>
                    </div>
                    <fieldset class="repeating_weapon">
                        <div class="grid__pc-weapons table__row repeating">
                            <input name="attr_weapon" type="text" data-i18n-placeholder="placeholder-weapon" placeholder="Weapon"/>
                            <select name="attr_weapon_type">
                                <option data-i18n="item-type-ranged" name="item-type-ranged" value="[[0]]">Ranged</option>
                                <option data-i18n="item-type-melee" name="item-type-melee" value="[[1]]">Melee</option>
                            </select>
                            <input name="attr_weapon_bonus" type="number" value="0"/>
                            <input name="attr_weapon_init" type="number" value="0"/>
                            <input name="attr_weapon_damage" type="number" value="0"/>
                            <input name="attr_weapon_crit" type="number" value="0"/>
                            <select name="attr_weapon_range" value="Close">
                                <option name="item-range-close" data-i18n="item-range-close" value="Close">Close</option>
                                <option name="item-range-short" data-i18n="item-range-short" value="Short">Short</option>
                                <option name="item-range-long" data-i18n="item-range-long" value="Long">Long</option>
                                <option name="item-range-extreme" data-i18n="item-range-extreme" value="Extreme">Extreme</option>
                            </select>
                            <input name="attr_weapon_comments" type="text" data-i18n-placeholder="placeholder-comment" placeholder="Comment"/>
                            <input name="attr_weapon_reloads" type="number" value="0"/>
                            <button type="roll" name="roll_weapon" value="&amp;{template:attack} {{attack=@{weapon}}} {{character_name=@{character_name}}} {{weapon_type=@{weapon_type}}} {{weapon_damage=@{weapon_damage}}} {{target_armor=[^{rolltemplate-target}](~@{character_id}|target_armor)}} {{weapon_comment=@{weapon_comments}}} {{weapon_crit=@{weapon_crit}}} {{weapon_range=@{weapon_range}}} {{weapon_bonus=@{weapon_bonus}}} {{modifier=?{@{query_modifier}|0}}} {{ranged_roll=[[[[@{agility}+@{ranged-combat}+@{weapon_bonus}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{ranged_value=@{ranged-combat}}} {{ranged_title=^{skill-ranged-combat}}} {{agility_value=@{agility}}} {{agility_title=^{attribute-agility}}} {{melee_roll=[[[[@{strength}+@{melee-combat}+@{weapon_bonus}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{melee_value=@{melee-combat}}} {{melee_title=^{skill-melee-combat}}} {{strength_value=@{strength}}} {{strength_title=^{attribute-strength}}} {{reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{ranged_reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-0]])}} {{ranged_reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-1]])}} {{ranged_reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-2]])}} {{ranged_reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-3]])}} {{ranged_reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-4]])}} {{ranged_reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-5]])}} {{ranged_reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-6]])}} {{ranged_reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-7]])}} {{ranged_reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-8]])}} {{ranged_reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-9]])}} {{ranged_reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-10]])}} {{ranged_reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-11]])}} {{ranged_reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-12]])}} {{ranged_reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-13]])}} {{ranged_reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-14]])}} {{ranged_reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{agility}+@{ranged-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-15]])}} {{melee_reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-0]])}} {{melee_reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-1]])}} {{melee_reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-2]])}} {{melee_reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-3]])}} {{melee_reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-4]])}} {{melee_reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-5]])}} {{melee_reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-6]])}} {{melee_reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-7]])}} {{melee_reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-8]])}} {{melee_reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-9]])}} {{melee_reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-10]])}} {{melee_reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-11]])}} {{melee_reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-12]])}} {{melee_reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-13]])}} {{melee_reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-14]])}} {{melee_reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{strength}+@{melee-combat}+@{weapon_bonus}+?{@{query_modifier}|0}-15]])}}">
                            </button>
                        </div>
                    </fieldset>
                </div>

                <!-- Armor -->
                <div class="card grid__list span3">
                    <div class="grid__pc-armor table__panel">
                        <span data-i18n="label-armor">Armor</span>
                        <span class="center" data-i18n="item-armor-rating">Rating</span>
                        <span data-i18n="item-comments">Comments</span>
                        <span class="center" data-i18n="item-armor-worn">Worn?</span>
                    </div>
                    <fieldset class="repeating_armor">
                        <div class="grid__pc-armor table__row repeating">
                                <input type="text" name="attr_armor" data-i18n-placeholder="placeholder-armor" placeholder="Armor"/>
                                <input type="number" name="attr_armor_rating" value="0"/>
                                <input type="text" name="attr_armor_comments" data-i18n-placeholder="placeholder-comment" placeholder="Armor"/>
                                <div class="card__table-row-group">
                                    <input type="checkbox" name="attr_armor_worn"/>
                                </div>
                        </div>
                    </fieldset>
                </div>

                <!-- Talents -->
                <div class="card grid__list span3">
                    <div class="grid__generic-info table__panel">
                        <span data-i18n="label-talents">Talents</span>
                    </div>
                    <fieldset class="repeating_talents">
                        <div class="grid__generic-info table__row repeating">
                            <input name="attr_talent" type="text" data-i18n-placeholder="placeholder-talent" placeholder="Talent"/>
                        </div>
                    </fieldset>
                </div>

                <!-- Gear -->
                <div class="card grid__list span3">
                    <div class="grid__generic-info table__panel">
                        <span data-i18n="label-gear">Gear</span>
                    </div>
                    <fieldset class="repeating_gear">
                        <div class="grid__generic-info table__row repeating">
                            <input name="attr_gear_name" type="text" data-i18n-placeholder="placeholder-gear" placeholder="Gear"/>
                        </div>
                    </fieldset>
                </div>

                <!-- Relationships -->
                <div class="card grid__list span3">
                    <div class="grid__pc-relationships-panel table__panel">
                        <span data-i18n="label-relationships">Relationships</span>
                        <span class="center" data-i18n="label-relationships-buddy">Buddy</span>
                    </div>
                    <fieldset class="repeating_relationships">
                        <div class="grid__pc-relationships-row table__row repeating">
                            <select name="attr_relationship_type" value="PC">
                                <option name="relationship-pc" data-i18n="relationship-pc" value="PC">PC</option>
                                <option name="relationship-npc" data-i18n="relationship-npc" value="NPC">NPC</option>
                            </select>
                            <input name="attr_relationship" type="text" data-i18n-placeholder="placeholder-character" placeholder="Character"/>
                            <div class="card__table-row-group">
                                <input type="checkbox" name="attr_relationship_close"/>
                            </div>
                        </div>
                    </fieldset>
                </div>

            </div>

        </div>
    </div>

    <!-- Spaceship tab -->
    <div class="page page__spaceship">
        <div class="grid__4col">
            <!-- Ship Info -->
            <div class="grid__1col span2">
                <div class="card grid__generic-info">
                    <div class="grid__spaceship-class card__panel">
                        <span data-i18n="label-info">Info</span>
                    </div>
                    <div class="label__float">
                        <span data-i18n="ship-name">Ship Name</span>
                        <input name="attr_character_name" type="text"/>
                    </div>
                    <div class="grid__spaceship-class">
                        <div class="label__float">
                            <span data-i18n="ship-class">Class</span>
                            <select name="attr_ship_class" value="I">
                                <option value="1">I</option>
                                <option value="2">II</option>
                                <option value="3">III</option>
                                <option value="4">IV</option>
                                <option value="5">V</option>
                            </select>
                        </div>
                        <div class="label__float">
                            <span data-i18n="ship-type">Type</span>
                            <input name="attr_ship_type" type="text"/>
                        </div>
                    </div>
                    <div class="grid__spaceship-class">
                        <div class="label__float">
                            <span data-i18n="ship-debt">Debt</span>
                            <input name="attr_ship_debt" type="text"/>
                        </div>
                        <div class="label__float">
                            <span data-i18n="ship-shipyard">Shipyard</span>
                            <input name="attr_ship_shipyard" type="text"/>
                        </div>
                    </div>
                    <div class="label__float">
                        <span data-i18n="ship-problem">Problem</span>
                        <input name="attr_ship_problem" type="text"/>
                    </div>
                </div>
            </div>
            <!-- Ship Stats -->
            <div class="card grid__2col span2">
                <div class="grid__stat card__panel span2">
                    <span data-i18n="label-stats">Stats</span>
                </div>
                <div class="grid__stat card__row">
                    <span data-i18n="ship-energy">Energy Points</span>
                    <input name="attr_ship_energy_points_max" type="number" value="0"/>
                </div>
                <div class="grid__stat card__row">
                    <span data-i18n="ship-hull">Hull Points</span>
                    <input name="attr_ship_hull_points_max" type="number" value="0"/>
                </div>
                <div class="grid__stat card__row">
                    <span data-i18n="ship-maneuverability">Maneuverability</span>
                    <input name="attr_ship_maneuverability" type="number" value="0"/>
                </div>
                <div class="grid__stat card__row">
                    <span data-i18n="ship-signature">Signature</span>
                    <input name="attr_ship_signature" type="number" value="0"/>
                </div>
                <div class="grid__stat card__row">
                    <span data-i18n="ship-armor">Armor</span>
                    <input name="attr_ship_armor" type="number" value="0"/>
                </div>
                <div class="grid__stat card__row">
                    <span data-i18n="ship-speed">Speed</span>
                    <input name="attr_ship_speed" type="number" value="0"/>
                </div>
                <div class="grid__stat card__row">
                    <span data-i18n="ship-max-modules">Modules</span>
                    <input name="attr_ship_max_modules" type="number" value="0"/>
                </div>
                <div class="grid__stat card__row">
                    <span data-i18n="ship-cargo">Cargo</span>
                    <input name="attr_ship_cargo_max" type="number" value="0"/>
                </div>
            </div>
            <!-- Signature Dashboard -->
            <div class="card grid__list span3">
                <div class="grid__spaceship-sensors-dashboard table__panel">
                    <span class="center" data-i18n="ship-signature-current">Current signature</span>
                    <span class="center" data-i18n="ship-signature-sensors">Sensors</span>
                    <span class="center" data-i18n="ship-signature-transponder">Transponder</span>
                    <span class="center" data-i18n="ship-signature-radio">Comms</span>
                    <span class="center" data-i18n="ship-signature-reactor">Reactor</span>
                </div>
                <div class="grid__spaceship-sensors-dashboard table__panel">
                    <span class="signature center" name="attr_ship_signature_current" value="0"></span>
                    <select name="attr_ship_sensor_range">
                        <option data-i18n="ship-signature-passive" value="0" selected="Passive">Passive</option>
                        <option data-i18n="ship-signature-active" value="2">Active</option>
                        <option data-i18n="ship-signature-extreme" value="2">Extreme</option>
                    </select>
                    <div class="card__panel-group"><input type="checkbox" name="attr_ship_transponder_status" value="1" checked="true"/></div>
                    <div class="card__panel-group"><input type="checkbox" name="attr_ship_radio_status" value="2" checked="true" ></div>
                    <div class="card__panel-group"><input type="checkbox" name="attr_ship_reactor_status" value="3" checked="true"/></div>
                </div>
            </div>
            <!-- Current EP / HP -->
            <div class="card grid__list">
                <div class="grid__stat card__panel">
                    <span data-i18n="ship-energy-current">Current Energy Points</span>
                    <input name="attr_ship_energy_points" type="number" value="0"/>
                </div>
                <div class="grid__stat card__panel">
                    <span data-i18n="ship-hull-current">Current Hull Points</span>
                    <input name="attr_ship_hull_points" type="number" value="0"/>
                </div>
            </div>
            <!-- Combat Manager -->
            <div class="card__alt span4">
                <div class="grid__1col card__panel"><span data-i18n="ship-combat-manager">Combat Manager</span></div>
                <div class="grid__spaceship-combat-manager">
                    <!-- Sensors / Initiative -->
                    <div class="card grid__list">
                        <div class="grid__1col no-icon">
                            <button class="action" type="roll" data-i18n="button-ship-sensors" name="roll_ship_sensors" value="&amp;{template:skill} {{skill=^{ship-action-sensors-detect}}} {{ship_name=@{character_name}}} {{character_name=@{ship_sensors_name}}} {{description=^{ship-action-sensors-detect-description}}} {{roll=[[[[@{ship_sensors_wits}+@{ship_sensors_data_djinn}+?{@{query_signature}|0}]]d6&gt;6]]}} {{effect=it happens}}">Sensors</button>
                        </div>
                        <div class="grid__1col no-icon">
                            <button class="action" type="roll" data-i18n="button-roll-initiative" name="roll_ship_initiative" value="&amp;{template:stat} {{ship_name=@{character_name}}} {{character_name=@{ship_captain_name}}} {{check=^{rolltemplate-initiative-check}}} {{action=^{rolltemplate-initiative-action}}} {{roll=[[[[@{ship_captain_empathy}+@{ship_captain_command}]]d6k1&{tracker}]]}} {{effect=^{rolltemplate-initiative-effect}}}">Roll Initiative</button>
                        </div>
                    </div>
                    <!-- Captain Card -->
                    <div class="card grid__list span2">
                        <div class="grid__spaceship-crew-captain table__panel">
                            <span class="left" data-i18n="label-ship-crew-captain">Captain</span>
                            <span class="center" data-i18n="attribute-empathy">Empathy</span>
                            <span class="center" data-i18n="skill-command">Command</span>
                            <span>&nbsp;</span>
                        </div>
                        <div class="grid__spaceship-crew-captain table__row">
                            <input name="attr_ship_captain_name" type="text" data-i18n-placeholder="placeholder-ship-crew" placeholder="Name"/>
                            <input name="attr_ship_captain_empathy" type="number" value="0"/>
                            <input name="attr_ship_captain_command" type="number" value="0"/>
                            <button type="roll" name="roll_captain_actions" value="/w @{character_name} &amp;{template:menu} {{is_captain=true}} {{crew_name=@{ship_captain_name}}} {{ship_name=@{character_name}}} {{menu_title=^{ship-action-captain-menu}}} {{whisper_id=@{character_name}}}{{action_1=^{ship-action-captain-repair-label}}} {{action_2=^{ship-action-captain-evade-label}}} {{action_3=^{ship-action-captain-retreat-label}}} {{action_4=^{ship-action-captain-attack-label}}} {{action_5=^{skill-command}}}"></button>
                        </div>
                    </div>
                    <!-- Armor / Reset EP -->
                    <div class="card grid__list">
                        <div class="grid__1col no-icon">
                            <button class="action" type="roll" data-i18n="button-roll-ship-armor" name="roll_ship_armor" value="&amp;{template:stat} {{character_name=@{character_name}}} {{check=^{rolltemplate-ship-armor-check}}} {{action=^{rolltemplate-armor-action}}} {{roll=[[@{ship_armor}d6&gt;6]]}} {{effect=^{rolltemplate-armor-effect}}}">Roll Armor</button>
                        </div>
                        <div class="grid__1col no-icon">
                        <button class="action" type="action" name="act_reset_ep"><span class="nobg" data-i18n="button-reset-ep">Reset EP</span> [<span class="nobg" name="attr_ship_energy_used"></span>/<span class="nobg" name="attr_ship_energy_points"></span>]</button>
                        </div>
                    </div>
                    <!-- Engineer -->
                    <div class="card grid__list span2">
                        <div class="grid__spaceship-crew table__panel">
                            <span class="center" data-i18n="ship-ep">EP</span>
                            <span class="left" data-i18n="label-ship-crew-engineer">Engineer</span>
                            <span class="center" data-i18n="attribute-wits">Wits</span>
                            <span class="center" data-i18n="skill-technology">Technology</span>
                            <span>&nbsp;</span>
                        </div>
                        <div class="grid__spaceship-crew table__row">
                            <input name="attr_ship_engineer_ep" type="number" class="ship__ep" value="0"/>
                            <input name="attr_ship_engineer_name" type="text" data-i18n-placeholder="placeholder-ship-crew" placeholder="Name"/>
                            <input name="attr_ship_engineer_wits" type="number" value="0"/>
                            <input name="attr_ship_engineer_technology" type="number" value="0"/>
                            <button type="roll" name="roll_engineer_actions" value="/w @{character_name} &amp;{template:menu} {{is_engineer=true}} {{crew_name=@{ship_engineer_name}}} {{ship_name=@{character_name}}} {{menu_title=^{ship-action-engineer-menu}}} {{ep_available=@{ship_engineer_ep}}} {{whisper_id=@{character_name}}} {{action_1=^{ship-action-engineer-overload-label}}} {{action_2=^{ship-action-engineer-repair-hull-label}}} {{action_3=^{ship-action-engineer-repair-system-label}}} {{action_4=^{ship-action-engineer-repair-critical-label}}} {{action_5=^{ship-action-engineer-repair-module-label}}} {{action_6=^{ship-action-engineer-airlock-label}}} {{action_7=^{skill-technology}}}"></button>
                        </div>
                    </div>
                    <!-- Pilot -->
                    <div class="card grid__list span2">
                        <div class="grid__spaceship-crew table__panel">
                            <span class="center" data-i18n="ship-ep">EP</span>
                            <span class="left" data-i18n="label-ship-crew-pilot">Pilot</span>
                            <span class="center" data-i18n="attribute-agility">Agility</span>
                            <span class="center" data-i18n="skill-pilot">Pilot</span>
                            <span>&nbsp;</span>
                        </div>
                        <div class="grid__spaceship-crew table__row">
                            <input name="attr_ship_pilot_ep" type="number" class="ship__ep" value="0"/>
                            <input name="attr_ship_pilot_name" type="text" data-i18n-placeholder="placeholder-ship-crew" placeholder="Name"/>
                            <input name="attr_ship_pilot_agility" type="number" value="0"/>
                            <input name="attr_ship_pilot_pilot" type="number" value="0"/>
                            <button type="roll" name="roll_pilot_actions" value="/w @{character_name} &amp;{template:menu} {{is_pilot=true}} {{crew_name=@{ship_pilot_name}}} {{ship_name=@{character_name}}} {{menu_title=^{ship-action-pilot-menu}}} {{ep_available=@{ship_pilot_ep}}} {{whisper_id=@{character_name}}} {{ep=@{ship_class}}} {{action_1=^{ship-action-pilot-position-label}}} {{action_2=^{ship-action-pilot-advance-label}}} {{action_3=^{ship-action-pilot-evade-label}}} {{action_4=^{ship-action-pilot-ram-label}}} {{action_5=^{ship-action-pilot-board-label}}} {{action_6=^{skill-pilot}}}"></button>
                        </div>
                    </div>            
                    <!-- Sensors -->
                    <div class="card grid__list span2">
                        <div class="grid__spaceship-crew table__panel">
                            <span class="center" data-i18n="ship-ep">EP</span>
                            <span class="left" data-i18n="label-ship-crew-sensors">Sensors</span>
                            <span class="center" data-i18n="attribute-wits">Wits</span>
                            <span class="center" data-i18n="skill-data-djinn">Data Djinn</span>
                            <span>&nbsp;</span>
                        </div>
                        <div class="grid__spaceship-crew table__row">
                            <input name="attr_ship_sensors_ep" type="number" class="ship__ep" value="0"/>
                            <input name="attr_ship_sensors_name" type="text" data-i18n-placeholder="placeholder-ship-crew" placeholder="Name"/>
                            <input name="attr_ship_sensors_wits" type="number" value="0"/>
                            <input name="attr_ship_sensors_data_djinn" type="number" value="0"/>
                            <button type="roll" name="roll_sensors_actions" value="/w @{character_name} &amp;{template:menu} {{is_sensors=true}} {{crew_name=@{ship_sensors_name}}} {{ship_name=@{character_name}}} {{menu_title=^{ship-action-sensors-menu}}} {{ep_available=@{ship_sensors_ep}}} {{whisper_id=@{character_name}}} {{action_1=^{ship-action-sensors-target-lock-label}}} {{action_2=^{ship-action-sensors-break-lock-label}}} {{action_3=^{ship-action-sensors-pulse-attack-label}}} {{action_4=^{ship-action-sensors-meme-launch-label}}} {{action_5=^{ship-action-sensors-meme-attack-label}}} {{action_6=^{ship-action-sensors-disappear-label}}} {{action_7=^{skill-data-djinn}}}}"></button>
                        </div>
                    </div>
                    <!-- Gunner -->
                    <div class="card grid__list span2">
                        <div class="grid__spaceship-crew table__panel">
                            <span class="center" data-i18n="ship-ep">EP</span>
                            <span class="left" data-i18n="label-ship-crew-gunner">Gunner</span>
                            <span class="center" data-i18n="attribute-agility">Agility</span>
                            <span class="center span2" data-i18n="skill-ranged-combat">Ranged Combat</span>
                        </div>
                        <div class="grid__spaceship-crew table__row">
                            <input name="attr_ship_gunner_ep" type="number" class="ship__ep" value="0"/>
                            <input name="attr_ship_gunner_name" type="text" data-i18n-placeholder="placeholder-ship-crew" placeholder="Name"/>
                            <input name="attr_ship_gunner_agility" type="number" value="0"/>
                            <input class="span2" name="attr_ship_gunner_ranged_combat" type="number" value="0"/>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Weapon Systems -->
            <div class="card grid__list span4">
                <div class="grid__spaceship-weapons table__panel">
                    <span data-i18n="label-ship-weapons">Ship Weapons</span>
                    <span class="center" data-i18n="item-bonus">Bonus</span>
                    <span class="center" data-i18n="item-damage">Dmg</span>
                    <span class="center" data-i18n="item-crit">Crit</span>
                    <span class="center" data-i18n="item-range">Range</span>
                    <span data-i18n="item-comments">Comments</span>
                    <span class="center" data-i18n="item-reloads">Reloads</span>
                    <span>&nbsp;</span>
                </div>
                <div class="grid__spaceship-weapons table__row repeating">
                    <input name="attr_ship_weapon_1_name" type="text" data-i18n-placeholder="placeholder-weapon" placeholder="Weapon Name"/>
                    <input name="attr_ship_weapon_1_bonus" type="number" value="0"/>
                    <input name="attr_ship_weapon_1_damage" type="number" value="0"/>
                    <input name="attr_ship_weapon_1_crit" type="number" value="0"/>
                    <select name="attr_ship_weapon_1_range" value="Close">
                        <option name="item-range-close" data-i18n="item-range-close" value="Close">Close</option>
                        <option name="item-range-short" data-i18n="item-range-short" value="Short">Short</option>
                        <option name="item-range-medium" data-i18n="item-range-medium" value="Medium">Medium</option>
                        <option name="item-range-long" data-i18n="item-range-long" value="Long">Long</option>
                        <option name="item-range-extreme" data-i18n="item-range-extreme" value="Extreme">Extreme</option>
                    </select>
                    <input name="attr_ship_weapon_1_comment" type="text" data-i18n-placeholder="placeholder-comment" placeholder="Comment"/>
                    <input name="attr_ship_weapon_1_reloads" type="number" value="0"/>
                    <button name="roll_ship_weapon_1" type="roll" value="&amp;{template:attack} {{ship_attack=@{ship_weapon_1_name}}} {{ship_name=@{character_name}}} {{character_name=@{ship_gunner_name}}} {{weapon_damage=@{ship_weapon_1_damage}}} {{weapon_comment=@{ship_weapon_1_comment}}} {{weapon_crit=@{ship_weapon_1_crit}}} {{ship_range=@{ship_weapon_1_range}}} {{ranged_roll=[[[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_1_bonus}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{target_ship_armor=[^{rolltemplate-target}](~@{character_id}|target_ship_armor)}} {{agility_value=@{ship_gunner_agility}}} {{agility_title=^{attribute-agility}}} {{ranged_value=@{ship_gunner_ranged_combat}}} {{ranged_title=^{skill-ranged-combat}}} {{weapon_bonus=@{ship_weapon_1_bonus}}} {{modifier=?{@{query_modifier}|0}}} {{ranged_reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{ranged_reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_1_bonus}+?{@{query_modifier}|0}-0]])}} {{ranged_reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_1_bonus}+?{@{query_modifier}|0}-1]])}} {{ranged_reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_1_bonus}+?{@{query_modifier}|0}-2]])}} {{ranged_reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_1_bonus}+?{@{query_modifier}|0}-3]])}} {{ranged_reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_1_bonus}+?{@{query_modifier}|0}-4]])}} {{ranged_reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_1_bonus}+?{@{query_modifier}|0}-5]])}} {{ranged_reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_1_bonus}+?{@{query_modifier}|0}-6]])}} {{ranged_reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_1_bonus}+?{@{query_modifier}|0}-7]])}} {{ranged_reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_1_bonus}+?{@{query_modifier}|0}-8]])}} {{ranged_reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_1_bonus}+?{@{query_modifier}|0}-9]])}} {{ranged_reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_1_bonus}+?{@{query_modifier}|0}-10]])}} {{ranged_reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_1_bonus}+?{@{query_modifier}|0}-11]])}} {{ranged_reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_1_bonus}+?{@{query_modifier}|0}-12]])}} {{ranged_reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_1_bonus}+?{@{query_modifier}|0}-13]])}} {{ranged_reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_1_bonus}+?{@{query_modifier}|0}-14]])}} {{ranged_reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_1_bonus}+?{@{query_modifier}|0}-15]])}}"></button>
                    <input name="attr_ship_weapon_2_name" type="text" data-i18n-placeholder="placeholder-weapon" placeholder="Weapon Name"/>
                    <input name="attr_ship_weapon_2_bonus" type="number" value="0"/>
                    <input name="attr_ship_weapon_2_damage" type="number" value="0"/>
                    <input name="attr_ship_weapon_2_crit" type="number" value="0"/>
                    <select name="attr_ship_weapon_2_range" value="Close">
                        <option name="item-range-close" data-i18n="item-range-close" value="Close">Close</option>
                        <option name="item-range-short" data-i18n="item-range-short" value="Short">Short</option>
                        <option name="item-range-medium" data-i18n="item-range-medium" value="Medium">Medium</option>
                        <option name="item-range-long" data-i18n="item-range-long" value="Long">Long</option>
                        <option name="item-range-extreme" data-i18n="item-range-extreme" value="Extreme">Extreme</option>
                    </select>
                    <input name="attr_ship_weapon_2_comment" type="text" data-i18n-placeholder="placeholder-comment" placeholder="Comment"/>
                    <input name="attr_ship_weapon_2_reloads" type="number" value="0"/>
                    <button name="roll_ship_weapon_2" type="roll" value="&amp;{template:attack} {{ship_attack=@{ship_weapon_2_name}}} {{ship_name=@{character_name}}} {{character_name=@{ship_gunner_name}}} {{weapon_damage=@{ship_weapon_2_damage}}} {{weapon_comment=@{ship_weapon_2_comment}}} {{weapon_crit=@{ship_weapon_2_crit}}} {{ship_range=@{ship_weapon_2_range}}} {{ranged_roll=[[[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_2_bonus}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{target_ship_armor=[^{rolltemplate-target}](~@{character_id}|target_ship_armor)}} {{agility_value=@{ship_gunner_agility}}} {{agility_title=^{attribute-agility}}} {{ranged_value=@{ship_gunner_ranged_combat}}} {{ranged_title=^{skill-ranged-combat}}} {{weapon_bonus=@{ship_weapon_2_bonus}}} {{modifier=?{@{query_modifier}|0}}} {{ranged_reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{ranged_reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_2_bonus}+?{@{query_modifier}|0}-0]])}} {{ranged_reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_2_bonus}+?{@{query_modifier}|0}-1]])}} {{ranged_reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_2_bonus}+?{@{query_modifier}|0}-2]])}} {{ranged_reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_2_bonus}+?{@{query_modifier}|0}-3]])}} {{ranged_reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_2_bonus}+?{@{query_modifier}|0}-4]])}} {{ranged_reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_2_bonus}+?{@{query_modifier}|0}-5]])}} {{ranged_reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_2_bonus}+?{@{query_modifier}|0}-6]])}} {{ranged_reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_2_bonus}+?{@{query_modifier}|0}-7]])}} {{ranged_reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_2_bonus}+?{@{query_modifier}|0}-8]])}} {{ranged_reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_2_bonus}+?{@{query_modifier}|0}-9]])}} {{ranged_reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_2_bonus}+?{@{query_modifier}|0}-10]])}} {{ranged_reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_2_bonus}+?{@{query_modifier}|0}-11]])}} {{ranged_reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_2_bonus}+?{@{query_modifier}|0}-12]])}} {{ranged_reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_2_bonus}+?{@{query_modifier}|0}-13]])}} {{ranged_reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_2_bonus}+?{@{query_modifier}|0}-14]])}} {{ranged_reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_2_bonus}+?{@{query_modifier}|0}-15]])}}"></button>
                </div>
                <fieldset class="repeating_ship-weapons">
                    <div class="grid__spaceship-weapons table__row repeating">
                        <input name="attr_ship_weapon_name" type="text" data-i18n-placeholder="placeholder-weapon" placeholder="Weapon Name"/>
                        <input name="attr_ship_weapon_bonus" type="number" value="0"/>
                        <input name="attr_ship_weapon_damage" type="number" value="0"/>
                        <input name="attr_ship_weapon_crit" type="number" value="0"/>
                        <select name="attr_ship_weapon_range" value="Close">
                            <option name="item-range-close" data-i18n="item-range-close" value="Close">Close</option>
                            <option name="item-range-short" data-i18n="item-range-short" value="Short">Short</option>
                            <option name="item-range-medium" data-i18n="item-range-medium" value="Medium">Medium</option>
                            <option name="item-range-long" data-i18n="item-range-long" value="Long">Long</option>
                            <option name="item-range-extreme" data-i18n="item-range-extreme" value="Extreme">Extreme</option>
                        </select>
                        <input name="attr_ship_weapon_comment" type="text" data-i18n-placeholder="placeholder-comment" placeholder="Comment"/>
                        <input name="attr_ship_weapon_reloads" type="number" value="0"/>
                        <button name="roll_ship_weapon" type="roll" value="&amp;{template:attack} {{ship_attack=@{ship_weapon_name}}} {{ship_name=@{character_name}}} {{character_name=@{ship_gunner_name}}} {{weapon_damage=@{ship_weapon_damage}}} {{weapon_comment=@{ship_weapon_comment}}} {{weapon_crit=@{ship_weapon_crit}}} {{ship_range=@{ship_weapon_range}}} {{ranged_roll=[[[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_bonus}+?{@{query_modifier}|0}]]d6&gt;6]]}} {{target_ship_armor=[^{rolltemplate-target}](~@{character_id}|target_ship_armor)}} {{agility_value=@{ship_gunner_agility}}} {{agility_title=^{attribute-agility}}} {{ranged_value=@{ship_gunner_ranged_combat}}} {{ranged_title=^{skill-ranged-combat}}} {{weapon_bonus=@{ship_weapon_bonus}}} {{modifier=?{@{query_modifier}|0}}} {{ranged_reroll=[^{rolltemplate-pray}](~@{character_id}|reroll)}} {{ranged_reroll0=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_bonus}+?{@{query_modifier}|0}-0]])}} {{ranged_reroll1=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_bonus}+?{@{query_modifier}|0}-1]])}} {{ranged_reroll2=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_bonus}+?{@{query_modifier}|0}-2]])}} {{ranged_reroll3=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_bonus}+?{@{query_modifier}|0}-3]])}} {{ranged_reroll4=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_bonus}+?{@{query_modifier}|0}-4]])}} {{ranged_reroll5=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_bonus}+?{@{query_modifier}|0}-5]])}} {{ranged_reroll6=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_bonus}+?{@{query_modifier}|0}-6]])}} {{ranged_reroll7=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_bonus}+?{@{query_modifier}|0}-7]])}} {{ranged_reroll8=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_bonus}+?{@{query_modifier}|0}-8]])}} {{ranged_reroll9=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_bonus}+?{@{query_modifier}|0}-9]])}} {{ranged_reroll10=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_bonus}+?{@{query_modifier}|0}-10]])}} {{ranged_reroll11=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_bonus}+?{@{query_modifier}|0}-11]])}} {{ranged_reroll12=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_bonus}+?{@{query_modifier}|0}-12]])}} {{ranged_reroll13=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_bonus}+?{@{query_modifier}|0}-13]])}} {{ranged_reroll14=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_bonus}+?{@{query_modifier}|0}-14]])}} {{ranged_reroll15=[^{rolltemplate-pray}](~@{character_id}|reroll[[@{ship_gunner_agility}+@{ship_gunner_ranged_combat}+@{ship_weapon_bonus}+?{@{query_modifier}|0}-15]])}}"></button>
                    </div>
                </fieldset>
            </div>
            <!-- Modules -->
            <div class="card grid__list span2">
                <div class="grid__spaceship-generic table__panel">
                    <span><span class="count" data-i18n="label-ship-modules">Modules</span> (<span class="count" name="attr_modules_current" type="number" value="0"></span>/<span class="count"name="attr_ship_max_modules" type="number" value="0"></span>)</span>
                    <span class="center" data-i18n="item-disabled">Disabled</span>
                </div>
                <div class="grid__spaceship-generic table__row">
                    <span data-i18n="ship-bridge">Bridge</span>
                    <div class="card__table-row-group"><input name="attr_ship_bridge_disabled" type="checkbox"/></div>
                </div>
                <div class="grid__spaceship-generic table__row">
                    <span data-i18n="ship-reactor">Reactor</span>
                    <div class="card__table-row-group"><input name="attr_ship_reactor_disabled" type="checkbox"/></div>
                </div>
                <div class="grid__spaceship-generic table__row">
                    <span data-i18n="ship-graviton-projector">Graviton Projector</span>
                    <div class="card__table-row-group"><input name="attr_ship_graviton_projector_disabled" type="checkbox"/></div>
                </div>
                <fieldset class="repeating_modules">
                    <div class="grid__spaceship-generic table__row repeating">
                        <input name="attr_ship_module" type="text" data-i18n-placeholder="placeholder-module" placeholder="Module"/>
                        <div class="card__table-row-group">
                            <input type="checkbox" name="attr_ship_module_disabled"/>
                            <input name="attr_ship_module_count" type="hidden" value="1"/>
                        </div>
                    </div>
                </fieldset>
            </div>
            <!-- Features -->
            <div class="card grid__list span2">
                <div class="grid__generic-info table__panel">
                    <span data-i18n="label-features">Features</span>
                </div>
                <div class="grid__generic-info table__row">
                    <input name="attr_ship_feature_1" type="text" data-i18n-placeholder="placeholder-feature" placeholder="Feature"/>
                </div>
                <div class="grid__generic-info table__row">
                    <input name="attr_ship_feature_2" type="text" data-i18n-placeholder="placeholder-feature" placeholder="Feature"/>
                </div>
                <div class="grid__generic-info table__row">
                    <input name="attr_ship_feature_3" type="text" data-i18n-placeholder="placeholder-feature" placeholder="Feature"/>
                </div>
                <fieldset class="repeating_features">
                    <div class="grid__generic-info table__row repeating">
                        <input name="attr_ship_feature" type="text" data-i18n-placeholder="placeholder-feature" placeholder="Feature"/>
                    </div>
                </fieldset>
            </div>
            <!-- Cargo -->
            <div class="card grid__list span2">
                <div class="grid__spaceship-generic table__panel">
                    <span><span class="count" data-i18n="label-ship-cargo">Cargo</span> (<span class="count" name="attr_cargo_current" type="number" value="0"></span>/<span class="count"name="attr_ship_cargo_max" type="number" value="0"></span>)</span>
                    <span class="center" data-i18n="item-cargo-unit">Weight</span>
                </div>
                <div class="grid__spaceship-generic table__row">
                    <input name="attr_ship_cargo_1" type="text" data-i18n-placeholder="placeholder-cargo" placeholder="Cargo"/>
                    <input name="attr_ship_cargo_unit_1" type="number" value="0"/>
                </div>
                <div class="grid__spaceship-generic table__row">
                    <input name="attr_ship_cargo_2" type="text" data-i18n-placeholder="placeholder-cargo" placeholder="Cargo"/>
                    <input name="attr_ship_cargo_unit_2" type="number" value="0"/>
                </div>
                <div class="grid__spaceship-generic table__row">
                    <input name="attr_ship_cargo_3" type="text" data-i18n-placeholder="placeholder-cargo" placeholder="Cargo"/>
                    <input name="attr_ship_cargo_unit_3" type="number" value="0"/>
                </div>
                <fieldset class="repeating_cargo">
                    <div class="grid__spaceship-generic table__row repeating">
                        <input name="attr_ship_cargo" type="text" data-i18n-placeholder="placeholder-cargo" placeholder="Cargo"/>
                        <input name="attr_ship_cargo_unit" type="number" value="0"/>
                    </div>
                </fieldset>
            </div>
            <!-- Critical Damage -->
            <div class="card grid__list span2">
                <div class="grid__generic-info table__panel">
                    <span data-i18n="ship-critical-damage">Critical Damage</span>
                </div>
                <div class="grid__generic-info table__row">
                    <input name="attr_ship_critical_damage_1" type="text" data-i18n-placeholder="ship-critical-damage" placeholder="Critical Damage"/>
                </div>
                <div class="grid__generic-info table__row">
                    <input name="attr_ship_critical_damage_2" type="text" data-i18n-placeholder="ship-critical-damage" placeholder="Critical Damage"/>
                </div>
                <div class="grid__generic-info table__row">
                    <input name="attr_ship_critical_damage_3" type="text" data-i18n-placeholder="ship-critical-damage" placeholder="Critical Damage"/>
                </div>
                <fieldset class="repeating_critical-damage">
                    <div class="grid__generic-info table__row repeating">
                        <input name="attr_ship_critical_damage" type="text" data-i18n-placeholder="ship-critical-damage" placeholder="Critical Damage"/>
                    </div>
                </fieldset>
            </div>
        </div>
    </div><!-- closes Spaceship tab -->
    
    <!-- Readme tab -->
    <div class="page page__readme">
        <div class="grid__4col">
            
            <div class="card grid__list span4">
  
                    <div class="grid__generic-info table__panel">
                        <span data-i18n="label-notes">Notes</span>
                    </div>
                    <div class="grid__generic-info table__row">
                        <textarea name="attr_notes" rows="40"></textarea>
                    </div>            
            </div>
            <div class="card grid__list span4">
                <div class="grid__generic-info table__panel">
                    <span>Macros</span>
                </div>
                <div class="grid__generic-info settings__content">
                <button data-i18n="macro-title-ship-actions" type="roll" name="roll_ship_actions" value="/w @{selected|character_name} &{template:menu} {{ship_name=@{selected|character_name}}} {{menu_title=^{macro-ship-actions}}} {{actions=[^{ship-action-captain-menu}](~selected|captain_actions)[^{ship-action-engineer-menu}](~selected|engineer_actions)[^{ship-action-pilot-menu}](~selected|pilot_actions)[^{ship-action-sensors-menu}](~selected|sensors_actions)[^{button-roll-primary-weapon}](~selected|ship_weapon_1)[^{button-roll-secondary-weapon}](~selected|ship_weapon_2)[^{button-ship-sensors}](~selected|ship_sensors)[^{button-roll-initiative}](~selected|ship_initiative)[^{button-roll-ship-armor}](~selected|ship_armor)}}">Ship Actions</button>
                <button data-i18n="macro-title-character-actions" type="roll" name="roll_character_actions" value="/w @{selected|character_name} &{template:menu} {{ship_name=@{selected|character_name}}} {{menu_title=^{macro-character-actions}}} {{actions=[^{button-roll-initiative}](~selected|initiative)[^{button-roll-armor}](~selected|armor)[^{button-roll-primary-weapon}](~selected|weapon_1)[^{button-roll-secondary-weapon}](~selected|weapon_2)[^{attribute-strength}](~selected|strength)[^{skill-force}](~selected|force)[^{skill-melee-combat}](~selected|melee-combat)[^{attribute-agility}](~selected|agility)[^{skill-dexterity}](~selected|dexterity)[^{skill-infiltration}](~selected|infiltration)[^{skill-ranged-combat}](~selected|ranged-combat)[^{skill-pilot}](~selected|pilot)[^{attribute-wits}](~selected|wits)[^{skill-observation}](~selected|observation)[^{skill-survival}](~selected|survival)[^{skill-data-djinn}](~selected|datadjinn)[^{skill-medicurgy}](~selected|medicurgy)[^{skill-science}](~selected|science)[^{skill-technology}](~selected|technology)[^{attribute-empathy}](~selected|empathy)[^{skill-manipulation}](~selected|manipulation)[^{skill-command}](~selected|command)[^{skill-culture}](~selected|culture)[^{skill-mystic-powers}](~selected|mystic-powers)}}">Character Actions</button>
                </div>            
            </div>
       
        </div>
    </div>

</div>





<!---------------------------------------------------------------->
<!------------------------ROLL TEMPLATES-------------------------->
<!---------------------------------------------------------------->

<!-- rolltemplate-skill is used for all attribute and skill checks (strength, technology etc) and prayers -->
<rolltemplate class="sheet-rolltemplate-skill">
    <div class="rolltemplate-wrapper">

        <div class="sheet-rolltemplate-header">
            {{#ship_name}}
                <span class="sheet-rolltemplate-owner">{{ship_name}} - </span>
            {{/ship_name}}

            {{#character_name}}        
                <span class="sheet-rolltemplate-skill-label">{{character_name}}</span>
            {{/character_name}}

            {{#skill}}
            <br/><span class="sheet-rolltemplate-title">{{skill}}</span><br/>
            {{/skill}}
        </div>

        <div class="sheet-rolltemplate-content">
            {{description}}
            {{#stat_value}}
                <div class="sheet-coriolis-roll-row"><span>{{stat_title}}</span> <span>({{stat_value}})</span></div>
            {{/stat_value}}

            {{#skill_value}}
                <div class="sheet-coriolis-roll-row"><span>{{skill_title}}</span> <span>({{skill_value}})</span></div>
            {{/skill_value}}

        <!-- Only used for ship piloting checks -->
            {{#ship_maneuverability_value}}
                <div class="sheet-coriolis-roll-row"><span data-i18n="ship-maneuverability">Ship Maneuverability</span> <span>({{ship_maneuverability_value}})</span></div>
            {{/ship_maneuverability_value}}

            {{#modifier}}
                <div class="sheet-coriolis-roll-row"><span data-i18n="rolltemplate-modification">Modification</span> <span>({{modifier}})</span></div>
            {{/modifier}}

        <!-- If roll is prayer -->
            {{#reroll_dice}}
                <div class="sheet-coriolis-roll-row"><span data-i18n="rolltemplate-dice-rerolled">Rerolled</span> <span>({{reroll_dice}})</span></div>
            {{/reroll_dice}}

            {{#prayer_modifier}}
                <div class="sheet-coriolis-roll-row"><span data-i18n="rolltemplate-prayer-modifier">Prayer modifier</span> <span>({{prayer_modifier}})</span></div>
            {{/prayer_modifier}}
        </div>

        <div class="sheet-rolltemplate-footer">
        <!-- Show different roll styling depending on range of success -->

            {{#rollGreater() roll 2}}
                <div class="sheet-coriolis-roll sheet-coriolis-roll-crit"><span>{{roll}}</span></div>
            {{/rollGreater() roll 2}}

            {{#rollBetween() roll 1 2}}
                <div class="sheet-coriolis-roll sheet-coriolis-roll-success"><span>{{roll}}</span></div>
            {{/rollBetween() roll 1 2}}

            {{#rollLess() roll 1}}
                <div class="sheet-coriolis-roll sheet-coriolis-roll-fail"><span>{{roll}}</span></div>
            {{/rollLess() roll 1}}

            <div class="sheet-coriolis-buttons">
            <!-- Prayer Mechanic -->
                {{#reroll1}}
                    {{#rollTotal() roll 0}}{{reroll0}}{{/rollTotal() roll 0}}
                    {{#rollTotal() roll 1}}{{reroll1}}{{/rollTotal() roll 1}}
                    {{#rollTotal() roll 2}}{{reroll2}}{{/rollTotal() roll 2}}
                    {{#rollTotal() roll 3}}{{reroll3}}{{/rollTotal() roll 3}}
                    {{#rollTotal() roll 4}}{{reroll4}}{{/rollTotal() roll 4}}
                    {{#rollTotal() roll 5}}{{reroll5}}{{/rollTotal() roll 5}}
                    {{#rollTotal() roll 6}}{{reroll6}}{{/rollTotal() roll 6}}
                    {{#rollTotal() roll 7}}{{reroll7}}{{/rollTotal() roll 7}}
                    {{#rollTotal() roll 8}}{{reroll8}}{{/rollTotal() roll 8}}
                    {{#rollTotal() roll 9}}{{reroll9}}{{/rollTotal() roll 9}}
                    {{#rollTotal() roll 10}}{{reroll10}}{{/rollTotal() roll 10}}
                    {{#rollTotal() roll 11}}{{reroll11}}{{/rollTotal() roll 11}}
                    {{#rollTotal() roll 12}}{{reroll12}}{{/rollTotal() roll 12}}
                    {{#rollTotal() roll 13}}{{reroll13}}{{/rollTotal() roll 13}}
                    {{#rollTotal() roll 14}}{{reroll14}}{{/rollTotal() roll 14}}
                    {{#rollTotal() roll 15}}{{reroll15}}{{/rollTotal() roll 15}}
                {{/reroll1}}

                    <!-- If attack, show targeting button -->
                {{#oppose_pilot}}
                    {{oppose_pilot}}
                {{/oppose_pilot}}
            </div>
        </div>

</div>
</rolltemplate>

<!-- rolltemplate-attack is used for all character and ship attacks -->
<rolltemplate class="sheet-rolltemplate-attack">
    <div class="rolltemplate-wrapper">

        <div class="sheet-rolltemplate-header">
                {{#ship_name}}
                    <span class="sheet-rolltemplate-owner">{{ship_name}} - </span>
                {{/ship_name}}

                {{#character_name}}
                    <span class="sheet-rolltemplate-skill-label">{{character_name}}</span>
                {{/character_name}}

                {{#attack}}
                <br/><span class="sheet-rolltemplate-title">{{attack}}</span><br/>
                {{/attack}}

                {{#ship_attack}}
                <br/><span class="sheet-rolltemplate-title">{{ship_attack}}</span><br/>
                {{/ship_attack}}

                {{#weapon_damage}}
                    <span class="sheet-rolltemplate-skill-weapon-stats" data-i18n="item-damage">Dmg</span> <span class="sheet-rolltemplate-skill-weapon-stats">{{weapon_damage}}</span> &vert;
                {{/weapon_damage}}

                {{#weapon_crit}}
                    <span class="sheet-rolltemplate-skill-weapon-stats" data-i18n="item-crit">Crit</span> <span class="sheet-rolltemplate-skill-weapon-stats">{{weapon_crit}}</span>
                {{/weapon_crit}}

                {{#weapon_comment}}
                    &vert; <span class="sheet-rolltemplate-skill-weapon-stats">{{weapon_comment}}</span>
                {{/weapon_comment}}
        </div>

        <div class="sheet-rolltemplate-content">

            <!-- Ranged attributes -->
            {{#rollTotal() weapon_type 0}}
                <div class="sheet-coriolis-roll-row"><span>{{agility_title}}</span> <span>({{agility_value}})</span></div>
                <div class="sheet-coriolis-roll-row"><span>{{ranged_title}}</span> <span>({{ranged_value}})</span></div>
            {{/rollTotal() weapon_type 0}}

            <!-- Melee attributes -->
            {{#rollTotal() weapon_type 1}}
                <div class="sheet-coriolis-roll-row"><span>{{strength_title}}</span> <span>({{strength_value}})</span></div>
                <div class="sheet-coriolis-roll-row"><span>{{melee_title}}</span> <span>({{melee_value}})</span></div>
            {{/rollTotal() weapon_type 1}}

            <!-- Ship attributes -->
            {{#ship_attack}}
                <div class="sheet-coriolis-roll-row"><span>{{agility_title}}</span> <span>({{agility_value}})</span></div>
                <div class="sheet-coriolis-roll-row"><span>{{ranged_title}}</span> <span>({{ranged_value}})</span></div>
            {{/ship_attack}}

            <!-- Generic stats and modifiers -->
            {{#weapon_bonus}}
                <div class="sheet-coriolis-roll-row"><span data-i18n="rolltemplate-weapon">Weapon</span> <span>({{weapon_bonus}})</span></div>
            {{/weapon_bonus}}

            {{#weapon_range_mod}}
                <div class="sheet-coriolis-roll-row"><span data-i18n="rolltemplate-range">Range</span> <span>({{weapon_range_mod}})</span></div>
            {{/weapon_range_mod}}

            {{#modifier}}
                <div class="sheet-coriolis-roll-row"><span data-i18n="rolltemplate-modification">Modification</span> <span>({{modifier}})</span></div>
            {{/modifier}}
        </div>

        <div class="sheet-rolltemplate-footer">
            <!-- Show different roll styling depending on range of success -->

            <!-- If roll is ranged weapon attack -->
            {{#rollTotal() weapon_type 0}}
                {{#rollGreater() ranged_roll 2}}<div class="sheet-coriolis-roll sheet-coriolis-roll-crit"><span>{{ranged_roll}}</span></div>{{/rollGreater() ranged_roll 2}}
                {{#rollBetween() ranged_roll 1 2}}<div class="sheet-coriolis-roll sheet-coriolis-roll-success"><span>{{ranged_roll}}</span></div>{{/rollBetween() ranged_roll 1 2}}
                {{#rollLess() ranged_roll 1}}<div class="sheet-coriolis-roll sheet-coriolis-roll-fail"><span>{{ranged_roll}}</span></div>{{/rollLess() ranged_roll 1}}
            {{/rollTotal() weapon_type 0}}

            <!-- If roll is melee weapon attack -->
            {{#rollTotal() weapon_type 1}}
                {{#rollGreater() melee_roll 2}}<div class="sheet-coriolis-roll sheet-coriolis-roll-crit"><span>{{melee_roll}}</span></div>{{/rollGreater() melee_roll 2}}
                {{#rollBetween() melee_roll 1 2}}<div class="sheet-coriolis-roll sheet-coriolis-roll-success"><span>{{melee_roll}}</span></div>{{/rollBetween() melee_roll 1 2}}
                {{#rollLess() melee_roll 1}}<div class="sheet-coriolis-roll sheet-coriolis-roll-fail"><span>{{melee_roll}}</span></div>{{/rollLess() melee_roll 1}}
            {{/rollTotal() weapon_type 1}}

            <!-- If roll is ship attack -->
            {{#ship_attack}}
                {{#rollGreater() ranged_roll 2}}<div class="sheet-coriolis-roll sheet-coriolis-roll-crit"><span>{{ranged_roll}}</span></div>{{/rollGreater() ranged_roll 2}}
                {{#rollBetween() ranged_roll 1 2}}<div class="sheet-coriolis-roll sheet-coriolis-roll-success"><span>{{ranged_roll}}</span></div>{{/rollBetween() ranged_roll 1 2}}
                {{#rollLess() ranged_roll 1}}<div class="sheet-coriolis-roll sheet-coriolis-roll-fail"><span>{{ranged_roll}}</span></div>{{/rollLess() ranged_roll 1}}
            {{/ship_attack}}

                <div class="sheet-coriolis-buttons">
                <!-- If roll is ranged weapon attack -->
                    {{#rollTotal() weapon_type 0}}
                        {{#ranged_reroll1}}
                            {{#rollTotal() ranged_roll 0}}{{ranged_reroll0}}{{/rollTotal() ranged_roll 0}}
                            {{#rollTotal() ranged_roll 1}}{{ranged_reroll1}}{{/rollTotal() ranged_roll 1}}
                            {{#rollTotal() ranged_roll 2}}{{ranged_reroll2}}{{/rollTotal() ranged_roll 2}}
                            {{#rollTotal() ranged_roll 3}}{{ranged_reroll3}}{{/rollTotal() ranged_roll 3}}
                            {{#rollTotal() ranged_roll 4}}{{ranged_reroll4}}{{/rollTotal() ranged_roll 4}}
                            {{#rollTotal() ranged_roll 5}}{{ranged_reroll5}}{{/rollTotal() ranged_roll 5}}
                            {{#rollTotal() ranged_roll 6}}{{ranged_reroll6}}{{/rollTotal() ranged_roll 6}}
                            {{#rollTotal() ranged_roll 7}}{{ranged_reroll7}}{{/rollTotal() ranged_roll 7}}
                            {{#rollTotal() ranged_roll 8}}{{ranged_reroll8}}{{/rollTotal() ranged_roll 8}}
                            {{#rollTotal() ranged_roll 9}}{{ranged_reroll9}}{{/rollTotal() ranged_roll 9}}
                            {{#rollTotal() ranged_roll 10}}{{ranged_reroll10}}{{/rollTotal() ranged_roll 10}}
                            {{#rollTotal() ranged_roll 11}}{{ranged_reroll11}}{{/rollTotal() ranged_roll 11}}
                            {{#rollTotal() ranged_roll 12}}{{ranged_reroll12}}{{/rollTotal() ranged_roll 12}}
                            {{#rollTotal() ranged_roll 13}}{{ranged_reroll13}}{{/rollTotal() ranged_roll 13}}
                            {{#rollTotal() ranged_roll 14}}{{ranged_reroll14}}{{/rollTotal() ranged_roll 14}}
                            {{#rollTotal() ranged_roll 15}}{{ranged_reroll15}}{{/rollTotal() ranged_roll 15}}
                        {{/ranged_reroll1}}
                    {{/rollTotal() weapon_type 0}}

                <!-- If roll is melee weapon attack -->
                    {{#rollTotal() weapon_type 1}}
                        {{#melee_reroll1}}
                            {{#rollTotal() melee_roll 0}}{{melee_reroll0}}{{/rollTotal() melee_roll 0}}
                            {{#rollTotal() melee_roll 1}}{{melee_reroll1}}{{/rollTotal() melee_roll 1}}
                            {{#rollTotal() melee_roll 2}}{{melee_reroll2}}{{/rollTotal() melee_roll 2}}
                            {{#rollTotal() melee_roll 3}}{{melee_reroll3}}{{/rollTotal() melee_roll 3}}
                            {{#rollTotal() melee_roll 4}}{{melee_reroll4}}{{/rollTotal() melee_roll 4}}
                            {{#rollTotal() melee_roll 5}}{{melee_reroll5}}{{/rollTotal() melee_roll 5}}
                            {{#rollTotal() melee_roll 6}}{{melee_reroll6}}{{/rollTotal() melee_roll 6}}
                            {{#rollTotal() melee_roll 7}}{{melee_reroll7}}{{/rollTotal() melee_roll 7}}
                            {{#rollTotal() melee_roll 8}}{{melee_reroll8}}{{/rollTotal() melee_roll 8}}
                            {{#rollTotal() melee_roll 9}}{{melee_reroll9}}{{/rollTotal() melee_roll 9}}
                            {{#rollTotal() melee_roll 10}}{{melee_reroll10}}{{/rollTotal() melee_roll 10}}
                            {{#rollTotal() melee_roll 11}}{{melee_reroll11}}{{/rollTotal() melee_roll 11}}
                            {{#rollTotal() melee_roll 12}}{{melee_reroll12}}{{/rollTotal() melee_roll 12}}
                            {{#rollTotal() melee_roll 13}}{{melee_reroll13}}{{/rollTotal() melee_roll 13}}
                            {{#rollTotal() melee_roll 14}}{{melee_reroll14}}{{/rollTotal() melee_roll 14}}
                            {{#rollTotal() melee_roll 15}}{{melee_reroll15}}{{/rollTotal() melee_roll 15}}
                        {{/melee_reroll1}}
                    {{/rollTotal() weapon_type 1}}

                <!-- If roll is ship attack -->
                {{#ship_attack}}
                    {{#ranged_reroll1}}
                        {{#rollTotal() ranged_roll 0}}{{ranged_reroll0}}{{/rollTotal() ranged_roll 0}}
                        {{#rollTotal() ranged_roll 1}}{{ranged_reroll1}}{{/rollTotal() ranged_roll 1}}
                        {{#rollTotal() ranged_roll 2}}{{ranged_reroll2}}{{/rollTotal() ranged_roll 2}}
                        {{#rollTotal() ranged_roll 3}}{{ranged_reroll3}}{{/rollTotal() ranged_roll 3}}
                        {{#rollTotal() ranged_roll 4}}{{ranged_reroll4}}{{/rollTotal() ranged_roll 4}}
                        {{#rollTotal() ranged_roll 5}}{{ranged_reroll5}}{{/rollTotal() ranged_roll 5}}
                        {{#rollTotal() ranged_roll 6}}{{ranged_reroll6}}{{/rollTotal() ranged_roll 6}}
                        {{#rollTotal() ranged_roll 7}}{{ranged_reroll7}}{{/rollTotal() ranged_roll 7}}
                        {{#rollTotal() ranged_roll 8}}{{ranged_reroll8}}{{/rollTotal() ranged_roll 8}}
                        {{#rollTotal() ranged_roll 9}}{{ranged_reroll9}}{{/rollTotal() ranged_roll 9}}
                        {{#rollTotal() ranged_roll 10}}{{ranged_reroll10}}{{/rollTotal() ranged_roll 10}}
                        {{#rollTotal() ranged_roll 11}}{{ranged_reroll11}}{{/rollTotal() ranged_roll 11}}
                        {{#rollTotal() ranged_roll 12}}{{ranged_reroll12}}{{/rollTotal() ranged_roll 12}}
                        {{#rollTotal() ranged_roll 13}}{{ranged_reroll13}}{{/rollTotal() ranged_roll 13}}
                        {{#rollTotal() ranged_roll 14}}{{ranged_reroll14}}{{/rollTotal() ranged_roll 14}}
                        {{#rollTotal() ranged_roll 15}}{{ranged_reroll15}}{{/rollTotal() ranged_roll 15}}
                    {{/ranged_reroll1}}
                {{/ship_attack}}

                <!-- If attack, show targeting button -->
                {{#attack}}
                    {{target_armor}}
                {{/attack}}

                <!-- If ship attack, show targeting button -->
                {{#ship_attack}}
                    {{target_ship_armor}}
                {{/ship_attack}}
                </div>

        </div>

    </div>
</rolltemplate>

<!-- rolltemplate-stat is used for all stat checks (initiative, armor) -->
<rolltemplate class="sheet-rolltemplate-stat">
    <div class="rolltemplate-wrapper">

        <div class="sheet-rolltemplate-header">

            {{#ship_name}}
              <span class="sheet-rolltemplate-owner">{{ship_name}} - </span>
            {{/ship_name}}

            {{#character_name}}
              <span class="sheet-rolltemplate-skill-label">{{character_name}}</span><br/>
            {{/character_name}}

            {{#check}}
            <span class="sheet-rolltemplate-title">{{check}}</span>
            {{/check}}       

        </div>

        <div class="sheet-rolltemplate-content">

        {{#check}}
            <div class="sheet-coriolis-roll-row">
              {{character_name}} {{action}} <span class="sheet-rolltemplate-check-roll">{{roll}}</span> {{effect}}
            </div>
        {{/check}}
  
      </div>

  </div>
</rolltemplate>

<!-- rolltemplate-menu is used for menu -->
<rolltemplate class="sheet-rolltemplate-menu">
    <div class="rolltemplate-wrapper">
      <div class="sheet-rolltemplate-header">
        {{#ship_name}}
        <span class="sheet-rolltemplate-skill-label">{{ship_name}}</span>{{/ship_name}}
        {{#crew_name}}
        <span class="sheet-rolltemplate-skill-label">- {{crew_name}}</span>{{/crew_name}}<br/>
        <span class="sheet-rolltemplate-title">{{menu_title}}</span>
        {{#ep_available}}
        <br/><span class="sheet-rolltemplate-skill-label">{{ep_available}} <span data-i18n="rolltemplate-ep-available">EP assigned</span></span>{{/ep_available}}
      </div>
      <div class="sheet-rolltemplate-content">
        <div class="sheet-coriolis-buttons">
  
        {{#is_captain}}
            [{{action_1}}](~{{whisper_id}}|ship_captain_repair)
            [{{action_2}}](~{{whisper_id}}|ship_captain_evade)
            [{{action_3}}](~{{whisper_id}}|ship_captain_retreat)
            [{{action_4}}](~{{whisper_id}}|ship_captain_attack)
        {{/is_captain}}
  
        {{#is_engineer}}
            [0 EP - {{action_1}}](~{{whisper_id}}|ship_engineer_overload)
            [1 EP - {{action_2}}](~{{whisper_id}}|ship_engineer_repair_hull)
            [1 EP - {{action_3}}](~{{whisper_id}}|ship_engineer_repair_system)
            [1 EP - {{action_4}}](~{{whisper_id}}|ship_engineer_repair_critical)
            [1 EP - {{action_5}}](~{{whisper_id}}|ship_engineer_repair_module)
            [1 EP - {{action_6}}](~{{whisper_id}}|ship_engineer_airlock)
        {{/is_engineer}}
  
        {{#is_pilot}}
            [{{ep}} EP - {{action_1}}](~{{whisper_id}}|ship_pilot_position)
            [{{ep}} EP - {{action_2}}](~{{whisper_id}}|ship_pilot_advance)
            [{{ep}} EP - {{action_3}}](~{{whisper_id}}|ship_pilot_evade)
            [{{ep}} EP - {{action_4}}](~{{whisper_id}}|ship_pilot_ram)
            [{{ep}} EP - {{action_5}}](~{{whisper_id}}|ship_pilot_board)
        {{/is_pilot}}

        {{#is_sensors}}
            [1 EP - {{action_1}}](~{{whisper_id}}|ship_sensors_target-lock)
            [1 EP - {{action_2}}](~{{whisper_id}}|ship_sensors_break-lock)
            [1 EP - {{action_3}}](~{{whisper_id}}|ship_sensors_pulse-attack)
            [1 EP - {{action_4}}](~{{whisper_id}}|ship_sensors_meme-launch)
            [1 EP - {{action_5}}](~{{whisper_id}}|ship_sensors_meme-attack)
            [1 EP - {{action_6}}](~{{whisper_id}}|ship_sensors_disappear)
        {{/is_sensors}}

        {{#actions}}
        {{actions}}
        {{/actions}}

        </div>
      </div>
    </div>
  </rolltemplate>

<!---------------------------------------------------------------->
<!------------------------SHEET WORKERS--------------------------->
<!---------------------------------------------------------------->

<script type="text/worker">


on("sheet:opened", function(eventInfo){
      
    setAttrs({
        query_modifier: getTranslationByKey("query-modifier"),
        query_cover: getTranslationByKey("query-cover"),
        query_initiative: getTranslationByKey("query-initiative"),
        query_prayer: getTranslationByKey("query-prayer"),
        query_signature: getTranslationByKey("query-signature")
    });     
    
});

  <!-- Tab Navigation -->

  on("change:page", function() {
    getAttrs(["page"], function(v) {
        setAttrs({calc_page:v.page});
    });
});
   

<!-- Using RepeatingSum (https://wiki.roll20.net/RepeatingSum) to calculate armor rating, current modules and current cargo -->

  const repeatingSum = (destinations, section, fields) => {
      if (!Array.isArray(destinations)) destinations = [destinations.replace(/\s/g, '').split(',')];
      if (!Array.isArray(fields)) fields = [fields.replace(/\s/g, '').split(',')];
      getSectionIDs(`repeating_${section}`, idArray => {
          const attrArray = idArray.reduce((m, id) => [...m, ...(fields.map(field => `repeating_${section}_${id}_${field}`))], []);
          getAttrs([...attrArray], v => {
              const getValue = (section, id, field) => v[`repeating_${section}_${id}_${field}`] === 'on' ? 1 : parseFloat(v[`repeating_${section}_${id}_${field}`]) || 0;
              const commonMultipliers = (fields.length <= destinations.length) ? [] : fields.splice(destinations.length, fields.length - destinations.length);
              const output = {};
              destinations.forEach((destination, index) => {
                  output[destination] = idArray.reduce((total, id) => total + getValue(section, id, fields[index]) * commonMultipliers.reduce((subtotal, mult) => subtotal * getValue(section, id, mult), 1), 0);
              });
              setAttrs(output);
          }); 
      }); 
  };

  on('change:repeating_armor remove:repeating_armor', function() {
    repeatingSum("armor_total", "armor",["armor_rating","armor_worn"]);
  });

  on('change:repeating_modules:ship_module remove:repeating_modules', function() {
    repeatingSum("modules_current","modules","ship_module_count");
  });

  on('change:repeating_cargo:ship_cargo_unit remove:repeating_cargo', function() {
    repeatingSum("cargo_current_repeating","cargo","ship_cargo_unit");
  });

<!-- Update max hitpoints and mindpoints to represent strength / agility and wits / empathy -->

on("open:sheet change:strength change:agility change:hitpoints_bonus", function() {
  getAttrs(["strength", "agility", "hitpoints_bonus"], function(values) {
      var strength = parseInt(values["strength"])||0;
      var agility = parseInt(values["agility"])||0;
      var hitpoints_bonus = parseInt(values["hitpoints_bonus"])||0;
      var output = strength + agility + hitpoints_bonus;
      setAttrs({
        "hitpoints_max": output
      });
  });
});

on("open:sheet change:wits change:empathy change:mindpoints_bonus", function() {
    getAttrs(["wits", "empathy", "mindpoints_bonus"], function(values) {
        var wits = parseInt(values["wits"])||0;
        var empathy = parseInt(values["empathy"])||0;
        var mindpoints_bonus = parseInt(values["mindpoints_bonus"])||0;
        var output = wits + empathy + mindpoints_bonus;
        setAttrs({
          "mindpoints_max": output
        });
    });
  });

<!-- Calculate current signature value for spaceship -->

  on("sheet:opened change:ship_signature change:ship_sensor_range change:ship_radio_status change:ship_reactor_status", function() {
    getAttrs(["ship_signature", "ship_sensor_range", "ship_radio_status", "ship_reactor_status"], function(values) {
        var ship_signature = parseInt(values["ship_signature"])||0;
        var ship_sensor_range = parseInt(values["ship_sensor_range"])||0;
        var ship_radio_status = parseInt(values["ship_radio_status"])||0;
        var ship_reactor_status = parseInt(values["ship_reactor_status"])||0;
        var output = ship_signature -5 + ship_sensor_range + ship_radio_status + ship_reactor_status;
        setAttrs({
          "ship_signature_current": output
        });
    });
  });

  <!-- Sum repeating cargo and pre-defined cargo and send to capacity -->

  on("sheet:opened change:ship_cargo_unit_1 change:ship_cargo_unit_2 change:ship_cargo_unit_3 change:repeating_cargo:ship_cargo_unit change:cargo_current_repeating", function() {
    getAttrs(["ship_cargo_unit_1", "ship_cargo_unit_2", "ship_cargo_unit_3", "cargo_current_repeating"], function(values) {
        var cargo_current_repeating = parseInt(values["cargo_current_repeating"])||0;
        var ship_cargo_unit_1 = parseInt(values["ship_cargo_unit_1"])||0;
        var ship_cargo_unit_2 = parseInt(values["ship_cargo_unit_2"])||0;
        var ship_cargo_unit_3 = parseInt(values["ship_cargo_unit_3"])||0;
        var output = cargo_current_repeating + ship_cargo_unit_1 + ship_cargo_unit_2 + ship_cargo_unit_3;
        setAttrs({
          "cargo_current": output
        });
    });
  });

  <!-- Sum EP currently in use for spaceship -->

  on("sheet:opened change:ship_engineer_ep change:ship_pilot_ep change:ship_sensors_ep change:ship_gunner_ep", function() {
    getAttrs(["ship_engineer_ep", "ship_pilot_ep", "ship_sensors_ep", "ship_gunner_ep"], function(values) {
        var ship_engineer_ep = parseInt(values["ship_engineer_ep"])||0;
        var ship_pilot_ep = parseInt(values["ship_pilot_ep"])||0;
        var ship_sensors_ep = parseInt(values["ship_sensors_ep"])||0;
        var ship_gunner_ep = parseInt(values["ship_gunner_ep"])||0;
        var output = ship_engineer_ep + ship_pilot_ep + ship_sensors_ep + ship_gunner_ep;
        setAttrs({
          "ship_energy_used": output
        });
    });
  });

  /* Clear currently used EP */
on("clicked:reset_ep", () => {
    console.log(">>> Change Detected: Clear Dice Pool - button clicked <<<");
        setAttrs({
            ship_engineer_ep: 0, 
            ship_pilot_ep: 0, 
            ship_sensors_ep: 0,
            ship_gunner_ep: 0, 
        });
    });
</script>





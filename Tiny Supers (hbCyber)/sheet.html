<div class="sheet-wrapper">
	<!-- Headers -->
	<div class="sheet-panel-container sheet-panel-container--center">
		<!-- Hidden Input: Current View -->
		<input type="hidden"
			class="sheet-id-attr-curr-view" 
			name="attr_curr_view"
			value="view_player" />

		<!-- Header: Player -->
		<div class="sheet-id-header-player sheet-panel sheet-flex sheet-flex-row sheet-flex-no-wrap sheet-items-center sheet-justify-between">
			<!-- Logo -->
			<img class="sheet-flex-none sheet-h-20"
				src="https://i.imgur.com/2azCjtl.png" />

			<!-- Button: GM View -->
			<button type="action" 
				class="sheet-flex-none sheet-text-sm"			
				name="act_btn_gm_view">
				GM mode &rarr;
			</button>
		</div>

		<!-- Header: GM -->
		<div class="sheet-id-header-gm sheet-panel sheet-flex sheet-flex-row sheet-flex-no-wrap sheet-items-center sheet-justify-between">
			<!-- Button: Player View -->
			<button type="action" 
				class="sheet-flex-none sheet-text-sm"			
				name="act_btn_player_view">
				&larr; Player mode
			</button>

			<span class="sheet-flex-initial sheet-text-right">
				Use this mode to set up NPCs.
			</span>				
		</div>
	</div>

	<!-- Layout (2 columns) -->
	<div class="sheet-flex sheet-flex-row sheet-flex-no-wrap sheet-items-start sheet-mt-8">
		<!-- View (Left) -->
		<div class="sheet-flex-1 sheet-panel-container">
			<!-- Hidden Input: Current View -->
			<input type="hidden"
				class="sheet-id-attr-curr-view" 
				name="attr_curr_view"
				value="view_player" />

			<!-- View: Player -->
			<div class="sheet-id-view-player sheet-panel">
				<!-- Top Fields -->
				<div class="sheet-container-top-fields">
					<!-- Row: Super Alias, Stress Capacity -->
					<!-- Super Alias -->
					<span class="sheet-col-span-1">Super Alias</span>

					<input type="text"
						class="sheet-col-span-1 sheet-w-full"
						name="attr_character_name"
						spellcheck="false" />

					<!-- Button: Chat Super Alias -->
					<button class="sheet-col-span-1 sheet-button sheet-button--chat"
						type="roll"
						title="Send to chat"
						value="&{template:text} {{title=Super Alias}} {{text=@{character_name}}}"></button>

					<!-- Spacer -->
					<div class="sheet-col-span-1"></div>

					<!-- Stress Capacity -->
					<span class="sheet-col-span-1">Stress Capacity</span>

					<div class="sheet-col-span-2 sheet-flex sheet-flex-row sheet-flex-no-wrap sheet-items-center">
						<input type="number"
							class="sheet-flex-none sheet-w-24"
							name="attr_sc" />

						<span class="sheet-flex-none sheet-mx-2 sheet-text-center">/</span>

						<input type="number"
							class="sheet-flex-none sheet-w-24"
							name="attr_sc_max" />

						<span class="sheet-flex-none sheet-ml-2">Max.</span>
					</div>

					<!-- Row: Real Name, Power Origin -->
					<!-- Real Name -->
					<span class="sheet-col-span-1">Real Name</span>

					<input type="text"
						class="sheet-col-span-1 sheet-w-full"
						name="attr_real_name"
						spellcheck="false" />

					<!-- Button: Chat Real Name -->
					<button class="sheet-col-span-1 sheet-button sheet-button--chat"
						type="roll"
						title="Send to chat"
						value="&{template:text} {{title=Real Name}} {{text=@{real_name}}}"></button>

					<!-- Spacer -->
					<div class="sheet-col-span-1"></div>

					<!-- Power Origin -->
					<span class="sheet-col-span-1">Power Origin</span>

					<select class="sheet-col-span-1 sheet-w-full sheet-mb-0"
						name="attr_power_origin">
					  	<option value="Alien" selected>Alien</option>
					  	<option value="Dimensional">Dimensional</option>
					  	<option value="Enhanced">Enhanced</option>
					  	<option value="Inventor">Inventor</option>
					  	<option value="Magical">Magical</option>
					  	<option value="Mutant">Mutant</option>
					  	<option value="Technological">Technological</option>
					</select>

					<!-- Button: Chat Power Origin -->
					<button class="sheet-col-span-1 sheet-button sheet-button--chat"
						type="roll"
						title="Send to chat"
						value="&{template:text} {{title=Power Origin}} {{text=@{power_origin}}}"></button>
					
					<!-- Row: Mastered Weapons, Proficient Weapons Labels -->
					<span class="sheet-col-span-2 sheet-text-sm sheet-font-bold sheet-mt-4">
						Mastered Weapons
						(<span class="sheet-font-mono">3d6</span>)
					</span>
					
					<div class="sheet-col-span-2"></div>

					<span class="sheet-col-span-2 sheet-text-sm sheet-font-bold sheet-mt-4">
						Proficient Weapons
						(<span class="sheet-font-mono">2d6</span>)
					</span>
					
					<div class="sheet-col-span-1"></div>

					<!-- Row: Mastered Weapons, Proficient Weapons Input -->
					<input type="text"
						class="sheet-col-span-2 sheet-w-full"
						name="attr_mastered_weapons"
						spellcheck="false" />

					<!-- Button: Chat Mastered Weapons -->
					<button class="sheet-col-span-1 sheet-self-y-start sheet-button sheet-button--chat"
						type="roll"
						title="Send to chat"
						value="&{template:text} {{title=Mastered Weapons}} {{text=@{mastered_weapons}}}"></button>
					
					<div class="sheet-col-span-1"></div>

					<input type="text"
						class="sheet-col-span-2 sheet-w-full"
						name="attr_proficient_weapons"
						spellcheck="false" />

					<!-- Button: Chat Proficient Weapons -->
					<button class="sheet-col-span-1 sheet-self-y-start sheet-button sheet-button--chat"
						type="roll"
						title="Send to chat"
						value="&{template:text} {{title=Proficient Weapons}} {{text=@{proficient_weapons}}}"></button>
				</div>

				<!-- Tabs -->
				<div class="sheet-flex sheet-flex-row sheet-flex-no-wrap sheet-items-end sheet-mt-6">
					<!-- Hidden Input: Current Tab -->
					<input type="hidden"
						class="sheet-id-attr-curr-tab" 
						name="attr_curr_tab"
						value="tab_bio" />
					
					<!-- Tab: Bio -->
					<button type="action" 
						class="sheet-id-tab-button-bio sheet-flex-none sheet-tab"			
						name="act_tab_bio">
						Bio
					</button>
					
					<!-- Spacer -->
					<div class="sheet-flex-none sheet-tab-spacer"></div>

					<!-- Tab: Traits -->
					<button type="action" 
						class="sheet-id-tab-button-traits sheet-flex-none sheet-tab"
						name="act_tab_traits">
						Traits
					</button>

					<!-- Spacer -->
					<div class="sheet-flex-none sheet-tab-spacer"></div>

					<!-- Tab: Gear -->
					<button type="action" 
						class="sheet-id-tab-button-gear sheet-flex-none sheet-tab"
						name="act_tab_gear">
						Inventory
					</button>
					
					<!-- Spacer -->
					<div class="sheet-flex-1 sheet-tab-spacer"></div>

					<!-- Speed -->
					<div class="sheet-flex-none sheet-tab-spacer sheet-flex sheet-flex-row sheet-flex-no-wrap sheet-items-center">
						<span class="sheet-flex-none sheet-font-bold sheet-text-sm">Speed</span>

						<input type="number"
							class="sheet-flex-none sheet-w-20 sheet-text-sm sheet-rounded-none sheet-border-b-0 sheet-ml-2"
							name="attr_speed"
							value="25" />

						<span class="sheet-flex-none sheet-text-sm sheet-ml-2">ft</span>
					</div>

					<!-- Spacer -->
					<div class="sheet-flex-none sheet-tab-spacer sheet-w-12"></div>

					<!-- Experience Points -->
					<div class="sheet-flex-none sheet-tab-spacer sheet-flex sheet-flex-row sheet-flex-no-wrap sheet-items-center">
						<span class="sheet-flex-none sheet-font-bold sheet-text-sm">Experience</span>

						<input type="number"
							class="sheet-flex-none sheet-w-20 sheet-text-sm sheet-rounded-none sheet-border-b-0 sheet-ml-2"
							name="attr_xp"
							value="0" />
					</div>
				</div>

				<!-- Tab Panels -->
				<div class="sheet-panel-container">
					<!-- Hidden Input: Current Tab -->
					<input type="hidden"
						class="sheet-id-attr-curr-tab" 
						name="attr_curr_tab"
						value="tab_bio" />

					<!-- Panel: Bio -->
					<div class="sheet-id-tab-bio sheet-panel sheet-mt-2">
						<!-- Archetype -->
						<div class="sheet-container-trait sheet-container-trait--archetype sheet-mb-2">
							<!-- Headers: Name, Description -->
							<span class="sheet-col-span-1 sheet-font-bold">Archetype Name</span>

							<span class="sheet-col-span-1 sheet-font-bold">Description</span>

							<div class="sheet-col-span-1"></div>

							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-col-span-1 sheet-w-full"
								name="attr_archetype_name"
								spellcheck="false" />

							<textarea class="sheet-col-span-1 sheet-w-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_archetype_desc"
								spellcheck="false"></textarea>

							<!-- Button: Chat Archetype Trait -->
							<button class="sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{archetype_name}}} {{subtitle=Archetype}} {{text=@{archetype_desc}}}"></button>
						</div>

						<!-- Belief -->
						<div class="sheet-container-trait sheet-mb-2">
							<!-- Header: Belief -->
							<span class="sheet-col-span-3 sheet-font-bold">Belief</span>

							<!-- Row: Description, Chat -->
							<textarea class="sheet-col-span-2 sheet-w-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_belief"
								spellcheck="false"></textarea>

							<!-- Button: Chat Belief -->
							<button class="sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=Belief}} {{text=@{belief}}}"></button>
						</div>

						<!-- Weakness -->
						<div class="sheet-container-trait">
							<!-- Header: Weakness -->
							<span class="sheet-col-span-3 sheet-font-bold">Weakness</span>

							<!-- Row: Description, Chat -->
							<textarea class="sheet-col-span-2 sheet-w-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_weakness"
								spellcheck="false"></textarea>

							<!-- Button: Chat Weakness -->
							<button class="sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=Weakness}} {{text=@{weakness}}}"></button>
						</div>
					</div>

					<!-- Panel: Traits -->
					<div class="sheet-id-tab-traits sheet-panel sheet-mt-2">
						<!-- Archetype Trait -->
						<div class="sheet-container-trait sheet-container-trait--archetype sheet-mb-2">
							<!-- Headers: Name, Description -->
							<span class="sheet-col-span-1 sheet-font-bold">Archetype Trait</span>

							<span class="sheet-col-span-1 sheet-font-bold">Description</span>

							<div class="sheet-col-span-1"></div>

							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-col-span-1 sheet-w-full"
								name="attr_archetype_trait_name"
								spellcheck="false" />

							<textarea class="sheet-col-span-1 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_archetype_trait_desc"
								spellcheck="false"></textarea>

							<!-- Button: Chat Archetype Trait -->
							<button class="sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{archetype_trait_name}}} {{subtitle=Archetype @{archetype_trait_type}}} {{text=@{archetype_trait_desc}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_archetype_trait_type">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							</select>

							<div class="sheet-col-span-1"></div>
						</div>

						<!-- Traits -->					
						<fieldset class="repeating_traits"> 
							<div class="sheet-container-trait sheet-mb-2">
								<!-- Headers: Name, Description -->
								<span class="sheet-col-span-1 sheet-font-bold">Trait Name</span>

								<span class="sheet-col-span-1 sheet-font-bold">Description</span>

								<div class="sheet-col-span-1"></div>

								<!-- Row: Name, Description, Chat -->
								<input type="text"
									class="sheet-col-span-1 sheet-w-full"
									name="attr_trait_name"
									spellcheck="false" />

								<textarea class="sheet-col-span-1 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
									name="attr_trait_desc"
									spellcheck="false"></textarea>

								<!-- Button: Chat Trait -->
								<button class="sheet-col-span-1 sheet-button sheet-button--chat"
									type="roll"
									title="Send to chat"
									value="&{template:text} {{title=@{trait_name}}} {{subtitle=@{trait_type}}} {{text=@{trait_desc}}}"></button>

								<!-- Headers: Type -->
								<span class="sheet-col-span-1 sheet-font-bold">Type</span>

								<div class="sheet-col-span-1"></div>

								<!-- Row: Type -->
								<select class="sheet-col-span-1 sheet-w-full sheet-mb-0"
									name="attr_trait_type">
								  	<option value="Trait" selected>Trait</option>
								  	<option value="Power T1">Power, Tier One</option>
								  	<option value="Power T2">Power, Tier Two</option>
								  	<option value="Power T3">Power, Tier Three</option>
								</select>

								<div class="sheet-col-span-1"></div>
							</div>
						</fieldset>
					</div>

					<!-- Panel: Gear -->
					<div class="sheet-id-tab-gear sheet-panel sheet-mt-2">
						<!-- Container: Headers -->
						<div class="sheet-container-headers sheet-mt-4 sheet-mb-2">
							<!-- Header: Name -->
							<span class="sheet-col-span-1 sheet-font-bold">Name</span>

							<!-- Header: Description -->
							<span class="sheet-col-span-1 sheet-font-bold">Description</span>

							<!-- Spacer: Button -->
							<button class="sheet-col-span-1 sheet-button sheet-button--hidden"></button>
						</div>

						<fieldset class="repeating_inventory"> 
							<div class="sheet-container-item sheet-mb-2">
								<!-- Name -->
								<input type="text"
									class="sheet-col-span-1 sheet-w-full"
									name="attr_name"
									spellcheck="false" />

								<!-- Description -->
								<input type="text"
									class="sheet-col-span-1 sheet-w-full text-sm"
									name="attr_desc"
									spellcheck="false" />

								<!-- Button: Chat Item -->
								<button class="sheet-col-span-1 sheet-button sheet-button--chat"
									type="roll"
									title="Send to chat"
									value="&{template:text} {{title=@{name}}} {{subtitle=Gear}} {{text=@{desc}}}"></button>
							</div>
						</fieldset>
					</div>
				</div>
			</div>

			<!-- View: GM -->
			<div class="sheet-id-view-gm sheet-panel">
				<!-- NPCs -->
				<fieldset class="repeating_npcs"> 
					<div class="sheet-container-npc sheet-mb-2">
						<!-- Fields -->
						<!-- Row: Headers -->
						<span class="sheet-col-span-1 sheet-font-bold">Name</span>
						<span class="sheet-col-span-1 sheet-font-bold">Notes</span>
						<span class="sheet-col-span-1 sheet-font-bold">SC</span>
						<span class="sheet-col-span-3 sheet-font-bold sheet-text-center">Num. Traits</span>

						<!-- Row: Inputs -->
						<input type="text"
							class="sheet-col-span-1 sheet-w-full"
							name="attr_name"
							spellcheck="false" />

						<input type="text"
							class="sheet-col-span-1 sheet-w-full sheet-text-sm"
							name="attr_notes"
							spellcheck="false" />

						<input type="number"
							class="sheet-col-span-1 sheet-w-full"
							name="attr_sc" />

						<button class="sheet-col-span-1 sheet-button sheet-button--minus"
							type="action"
							title="Add trait"
							name="act_traitminus"></button>

						<input type="hidden"
							name="attr_num_traits"
							value="0" />

						<span class="sheet-col-span-1 sheet-text-center"
							name="attr_numtraits"
							value="0">0</span>

						<button class="sheet-col-span-1 sheet-button sheet-button--plus"
							type="action"
							title="Remove trait"
							name="act_traitplus"></button>						

						<!-- Traits -->
						<input type="hidden"
							class="sheet-id-num-traits"
							name="attr_numtraits"
							value="0" />

						
							<!-- Trait 1 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-1 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-1 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-1 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-1 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-1"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-1 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-1"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-1 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-1}}} {{subtitle=@{trait_type-1}}} {{text=@{trait_desc-1}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-1 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-1 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-1 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-1">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-1 sheet-col-span-1"></div>
						
							<!-- Trait 2 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-2 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-2 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-2 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-2 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-2"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-2 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-2"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-2 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-2}}} {{subtitle=@{trait_type-2}}} {{text=@{trait_desc-2}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-2 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-2 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-2 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-2">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-2 sheet-col-span-1"></div>
						
							<!-- Trait 3 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-3 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-3 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-3 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-3 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-3"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-3 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-3"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-3 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-3}}} {{subtitle=@{trait_type-3}}} {{text=@{trait_desc-3}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-3 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-3 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-3 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-3">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-3 sheet-col-span-1"></div>
						
							<!-- Trait 4 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-4 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-4 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-4 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-4 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-4"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-4 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-4"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-4 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-4}}} {{subtitle=@{trait_type-4}}} {{text=@{trait_desc-4}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-4 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-4 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-4 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-4">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-4 sheet-col-span-1"></div>
						
							<!-- Trait 5 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-5 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-5 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-5 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-5 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-5"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-5 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-5"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-5 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-5}}} {{subtitle=@{trait_type-5}}} {{text=@{trait_desc-5}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-5 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-5 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-5 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-5">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-5 sheet-col-span-1"></div>
						
							<!-- Trait 6 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-6 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-6 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-6 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-6 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-6"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-6 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-6"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-6 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-6}}} {{subtitle=@{trait_type-6}}} {{text=@{trait_desc-6}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-6 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-6 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-6 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-6">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-6 sheet-col-span-1"></div>
						
							<!-- Trait 7 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-7 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-7 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-7 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-7 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-7"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-7 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-7"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-7 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-7}}} {{subtitle=@{trait_type-7}}} {{text=@{trait_desc-7}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-7 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-7 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-7 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-7">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-7 sheet-col-span-1"></div>
						
							<!-- Trait 8 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-8 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-8 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-8 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-8 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-8"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-8 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-8"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-8 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-8}}} {{subtitle=@{trait_type-8}}} {{text=@{trait_desc-8}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-8 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-8 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-8 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-8">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-8 sheet-col-span-1"></div>
						
							<!-- Trait 9 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-9 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-9 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-9 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-9 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-9"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-9 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-9"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-9 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-9}}} {{subtitle=@{trait_type-9}}} {{text=@{trait_desc-9}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-9 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-9 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-9 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-9">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-9 sheet-col-span-1"></div>
						
							<!-- Trait 10 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-10 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-10 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-10 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-10 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-10"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-10 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-10"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-10 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-10}}} {{subtitle=@{trait_type-10}}} {{text=@{trait_desc-10}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-10 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-10 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-10 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-10">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-10 sheet-col-span-1"></div>
						
							<!-- Trait 11 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-11 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-11 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-11 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-11 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-11"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-11 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-11"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-11 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-11}}} {{subtitle=@{trait_type-11}}} {{text=@{trait_desc-11}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-11 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-11 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-11 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-11">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-11 sheet-col-span-1"></div>
						
							<!-- Trait 12 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-12 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-12 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-12 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-12 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-12"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-12 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-12"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-12 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-12}}} {{subtitle=@{trait_type-12}}} {{text=@{trait_desc-12}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-12 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-12 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-12 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-12">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-12 sheet-col-span-1"></div>
						
							<!-- Trait 13 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-13 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-13 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-13 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-13 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-13"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-13 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-13"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-13 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-13}}} {{subtitle=@{trait_type-13}}} {{text=@{trait_desc-13}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-13 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-13 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-13 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-13">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-13 sheet-col-span-1"></div>
						
							<!-- Trait 14 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-14 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-14 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-14 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-14 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-14"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-14 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-14"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-14 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-14}}} {{subtitle=@{trait_type-14}}} {{text=@{trait_desc-14}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-14 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-14 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-14 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-14">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-14 sheet-col-span-1"></div>
						
							<!-- Trait 15 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-15 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-15 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-15 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-15 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-15"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-15 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-15"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-15 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-15}}} {{subtitle=@{trait_type-15}}} {{text=@{trait_desc-15}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-15 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-15 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-15 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-15">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-15 sheet-col-span-1"></div>
						
							<!-- Trait 16 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-16 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-16 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-16 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-16 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-16"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-16 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-16"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-16 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-16}}} {{subtitle=@{trait_type-16}}} {{text=@{trait_desc-16}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-16 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-16 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-16 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-16">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-16 sheet-col-span-1"></div>
						
							<!-- Trait 17 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-17 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-17 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-17 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-17 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-17"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-17 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-17"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-17 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-17}}} {{subtitle=@{trait_type-17}}} {{text=@{trait_desc-17}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-17 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-17 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-17 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-17">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-17 sheet-col-span-1"></div>
						
							<!-- Trait 18 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-18 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-18 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-18 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-18 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-18"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-18 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-18"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-18 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-18}}} {{subtitle=@{trait_type-18}}} {{text=@{trait_desc-18}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-18 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-18 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-18 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-18">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-18 sheet-col-span-1"></div>
						
							<!-- Trait 19 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-19 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-19 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-19 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-19 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-19"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-19 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-19"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-19 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-19}}} {{subtitle=@{trait_type-19}}} {{text=@{trait_desc-19}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-19 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-19 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-19 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-19">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-19 sheet-col-span-1"></div>
						
							<!-- Trait 20 -->
							<!-- Separator -->
							<div class="sheet-npc-trait-20 sheet-col-span-6 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

							<!-- Headers: Name, Description -->
							<span class="sheet-npc-trait-20 sheet-col-span-1 sheet-font-bold">Trait Name</span>

							<span class="sheet-npc-trait-20 sheet-col-span-5 sheet-font-bold">Description</span>						
							<!-- Row: Name, Description, Chat -->
							<input type="text"
								class="sheet-npc-trait-20 sheet-col-span-1 sheet-w-full"
								name="attr_trait_name-20"
								spellcheck="false" />

							<textarea class="sheet-npc-trait-20 sheet-col-span-4 sheet-row-span-3 sheet-w-full sheet-h-full sheet-textarea sheet-text-sm sheet-mb-0"
								name="attr_trait_desc-20"
								spellcheck="false"></textarea>

							<!-- Button: Chat Trait -->
							<button class="sheet-npc-trait-20 sheet-col-span-1 sheet-button sheet-button--chat"
								type="roll"
								title="Send to chat"
								value="&{template:text} {{title=@{trait_name-20}}} {{subtitle=@{trait_type-20}}} {{text=@{trait_desc-20}}}"></button>

							<!-- Headers: Type -->
							<span class="sheet-npc-trait-20 sheet-col-span-1 sheet-font-bold">Type</span>

							<div class="sheet-npc-trait-20 sheet-col-span-1"></div>

							<!-- Row: Type -->
							<select class="sheet-npc-trait-20 sheet-col-span-1 sheet-w-full sheet-mb-0"
								name="attr_trait_type-20">
							  	<option value="Trait" selected>Trait</option>
							  	<option value="Power T1">Power, Tier One</option>
							  	<option value="Power T2">Power, Tier Two</option>
							  	<option value="Power T3">Power, Tier Three</option>
							</select>

							<div class="sheet-npc-trait-20 sheet-col-span-1"></div>
															
					</div>
				</fieldset>
			</div>
		</div>

		<!-- Roller (Right) -->
		<div class="sheet-container-roller sheet-flex-none sheet-ml-2">
			<!-- Section: Tests -->			
			<input type="hidden"
				name="attr_roller_test_success_threshold_computed"
				value="5" />

			<input type="hidden"
				name="attr_roller_test_threshold_label_computed"
				value="" />

			<span class="sheet-col-span-1 sheet-font-bold">Test</span>

			<button class="sheet-col-span-1 sheet-button"
				type="roll"
				title="Roll (2d6)"
				value="&{template:roll} {{title=Test}} {{numDiceLabel=Regular Roll}} {{numDiceValue=2d6}} {{thresholdValue=@{roller_test_success_threshold_computed}-6}} {{thresholdLabel=@{roller_test_threshold_label_computed}}} {{thresholdAdv=@{roller_test_threshold_label_computed}}} {{roll=[[2d6>@{roller_test_success_threshold_computed}]]}}"></button>

			<button class="sheet-col-span-1 sheet-button sheet-button--advantage"
				type="roll"
				title="Roll with advantage (3d6)"
				value="&{template:roll} {{title=Test}} {{numDiceLabel=Roll with Advantage}} {{numDiceValue=3d6}} {{numDiceAdv=true}} {{thresholdValue=@{roller_test_success_threshold_computed}-6}} {{thresholdLabel=@{roller_test_threshold_label_computed}}} {{thresholdAdv=@{roller_test_threshold_label_computed}}} {{roll=[[3d6>@{roller_test_success_threshold_computed}]]}}"></button>

			<button class="sheet-col-span-1 sheet-button sheet-button--disadvantage"
				type="roll"
				title="Roll with disadvantage (1d6)"
				value="&{template:roll} {{title=Test}} {{numDiceLabel=Roll with Disadvantage}} {{numDiceValue=1d6}} {{numDiceDisadv=true}} {{thresholdValue=@{roller_test_success_threshold_computed}-6}} {{thresholdLabel=@{roller_test_threshold_label_computed}}} {{thresholdAdv=@{roller_test_threshold_label_computed}}} {{roll=[[1d6>@{roller_test_success_threshold_computed}]]}}"></button>

			<!-- Focused -->
			<div class="sheet-col-span-4 sheet-flex sheet-flex-row sheet-flex-no-wrap sheet-items-center sheet-justify-end">
				<label class="sheet-flex-none sheet-label sheet-text-sm sheet-text-green-600">
					<span>Focused</span>

					<input type="checkbox"						
						class="sheet-checkbox-small sheet-ml-1"
						name="attr_roller_test_focused"
						value="true" />
				</label>
			</div>

			<!-- Separator -->
			<div class="sheet-col-span-4 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>
			
			<!-- Section: Initiative -->
			<span class="sheet-col-span-1 sheet-font-bold">Initiative</span>

			<button class="sheet-col-span-1 sheet-button"
				type="roll"
				title="Roll (2d6)"
				value="&{template:roll} {{title=Initiative}} {{numDiceLabel=Regular Roll}} {{numDiceValue=2d6}} {{total=[[2d6 &{tracker}]]}}"></button>

			<button class="sheet-col-span-1 sheet-button sheet-button--advantage"
				type="roll"
				title="Roll with advantage (3d6)"
				value="&{template:roll} {{title=Initiative}} {{numDiceLabel=Roll with Advantage}} {{numDiceValue=3d6}} {{numDiceAdv=true}} {{total=[[3d6 &{tracker}]]}}"></button>

			<button class="sheet-col-span-1 sheet-button sheet-button--disadvantage"
				type="roll"
				title="Roll with disadvantage (1d6)"
				value="&{template:roll} {{title=Initiative}} {{numDiceLabel=Roll with Disadvantage}} {{numDiceValue=1d6}} {{numDiceDisadv=true}} {{total=[[1d6 &{tracker}]]}}"></button>

			<span class="sheet-col-span-1 sheet-text-sm">Tiebreaker</span>

			<button class="sheet-col-span-1 sheet-button"
				type="roll"
				title="Roll (2d6)"
				value="&{template:roll} {{title=Initiative}} {{numDiceLabel=Tiebreaker Roll}} {{numDiceValue=2d6}} {{total=[[2d6]]}}"></button>

			<div class="sheet-col-span-2"></div>

			<!-- Separator -->
			<div class="sheet-col-span-4 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

			<!-- Section: Attack -->
			<input type="hidden"
				name="attr_roller_atk_success_threshold_computed"
				value="5" />

			<input type="hidden"
				name="attr_roller_atk_threshold_label_computed"
				value="" />

			<span class="sheet-col-span-1 sheet-font-bold">Attack</span>

			<button class="sheet-col-span-1 sheet-button"
				type="roll"
				title="Roll (2d6)"
				value="&{template:roll} {{title=Attack}} {{numDiceLabel=With Proficiency}} {{numDiceValue=2d6}} {{thresholdValue=@{roller_atk_success_threshold_computed}-6}} {{thresholdLabel=@{roller_atk_threshold_label_computed}}} {{thresholdAdv=@{roller_atk_threshold_label_computed}}} {{roll=[[2d6>@{roller_atk_success_threshold_computed}]]}}"></button>

			<button class="sheet-col-span-1 sheet-button sheet-button--advantage"
				type="roll"
				title="Roll with advantage (3d6)"
				value="&{template:roll} {{title=Attack}} {{numDiceLabel=Mastered Weapon / Adv.}} {{numDiceValue=3d6}}  {{numDiceAdv=true}} {{thresholdValue=@{roller_atk_success_threshold_computed}-6}} {{thresholdLabel=@{roller_atk_threshold_label_computed}}} {{thresholdAdv=@{roller_atk_threshold_label_computed}}} {{roll=[[3d6>@{roller_atk_success_threshold_computed}]]}}"></button>

			<button class="sheet-col-span-1 sheet-button sheet-button--disadvantage"
				type="roll"
				title="Roll with disadvantage (1d6)"
				value="&{template:roll} {{title=Attack}} {{numDiceLabel=Without Proficiency / Disadv.}} {{numDiceValue=1d6}}  {{numDiceDisadv=true}} {{thresholdValue=@{roller_atk_success_threshold_computed}-6}} {{thresholdLabel=@{roller_atk_threshold_label_computed}}} {{thresholdAdv=@{roller_atk_threshold_label_computed}}} {{roll=[[1d6>@{roller_atk_success_threshold_computed}]]}}"></button>
			
			<div class="sheet-col-span-4 sheet-flex sheet-flex-row sheet-flex-no-wrap sheet-items-center sheet-justify-end">
				<label class="sheet-flex-none sheet-label sheet-text-sm sheet-text-green-600">
					<span>Focused</span>

					<input type="checkbox"						
						class="sheet-checkbox-small sheet-ml-1"
						name="attr_roller_atk_mod"
						value="focused" />
				</label>
			</div>

			<div class="sheet-col-span-4 sheet-flex sheet-flex-row sheet-flex-no-wrap sheet-items-center sheet-justify-end">
				<label class="sheet-flex-none sheet-label sheet-text-sm sheet-text-green-600">
					<span>Focused + Marksman</span>

					<input type="checkbox"						
						class="sheet-checkbox-small sheet-ml-1"
						name="attr_roller_atk_mod"
						value="marksman" />
				</label>
			</div>

			<!-- Separator -->
			<div class="sheet-col-span-4 sheet-my-2 sheet-border-0 sheet-border-t sheet-border-solid sheet-border-gray-400"></div>

			<!-- Section: Evade -->
			<span class="sheet-col-span-1 sheet-font-bold">Evade</span>

			<button class="sheet-col-span-1 sheet-button"
				type="roll"
				title="Roll (1d6)"
				value="&{template:roll} {{title=Evade}} {{numDiceLabel=Regular Roll}} {{numDiceValue=1d6}} {{thresholdValue=5-6}} {{roll=[[1d6>5]]}}"></button>

			<button class="sheet-col-span-1 sheet-button sheet-button--advantage"
				type="roll"
				title="Improved roll (2d6)"
				value="&{template:roll} {{title=Evade}} {{numDiceLabel=Improved Roll}} {{numDiceValue=2d6}} {{numDiceAdv=true}} {{thresholdValue=5-6}} {{roll=[[2d6>5]]}}"></button>

			<div class="sheet-col-span-1"></div>
		</div>
	</div>
</div>

<!-- Roll Template: Text -->
<rolltemplate class="sheet-rolltemplate-text">
	{{#title}}
		<!-- Header -->		
		<div class="sheet-rt-header">
			<span class="sheet-rt-header__title">{{title}}</span>
			
			{{#subtitle}}
				<span class="sheet-rt-header__subtitle">{{subtitle}}</span>
			{{/subtitle}}
		</div>
	{{/title}}

	{{^title}}
		{{#subtitle}}
			<!-- Header -->		
			<div class="sheet-rt-header">
				<span class="sheet-rt-header__title"></span>							
				<span class="sheet-rt-header__subtitle">{{subtitle}}</span>				
			</div>
		{{/subtitle}}
	{{/title}}
	
	<!-- Text -->
	{{#text}}
		<span class="sheet-rt-text">{{text}}</span>
	{{/text}}
</rolltemplate>

<!-- Roll Template: Roll -->
<rolltemplate class="sheet-rolltemplate-roll">
	<!-- Header -->		
	<div class="sheet-rt-header">
		<span class="sheet-rt-header__title">{{title}}</span>							
		<span class="sheet-rt-header__subtitle">Roll</span>
	</div>

	<div class="sheet-rt-grid">
		<!-- Num. Dice -->
		<span class="sheet-rt-grid__item sheet-rt-grid__item--3/4">
			{{#numDiceAdv}}<span class="sheet-text-green-600">{{/numDiceAdv}}
			{{#numDiceDisadv}}<span class="sheet-text-red-800">{{/numDiceDisadv}}
				{{numDiceLabel}}
			{{#numDiceDisadv}}</span>{{/numDiceDisadv}}
			{{#numDiceAdv}}</span>{{/numDiceAdv}}
		</span>

		<span class="sheet-rt-grid__item sheet-rt-grid__item--1/4 sheet-font-mono">
			{{#numDiceAdv}}<span class="sheet-text-green-600">{{/numDiceAdv}}
			{{#numDiceDisadv}}<span class="sheet-text-red-800">{{/numDiceDisadv}}
				{{numDiceValue}}
			{{#numDiceDisadv}}</span>{{/numDiceDisadv}}
			{{#numDiceAdv}}</span>{{/numDiceAdv}}
		</span>
		
		<!-- Success Threshold -->
		{{#thresholdValue}}
			<span class="sheet-rt-grid__item sheet-rt-grid__item--3/4">
				{{#thresholdAdv}}<span class="sheet-text-green-600">{{/thresholdAdv}}
				{{#thresholdDisadv}}<span class="sheet-text-red-800">{{/thresholdDisadv}}
					{{#thresholdLabel}}
						<span>({{thresholdLabel}})</span>
					{{/thresholdLabel}}
									
					<span>Success on</span>
				{{#thresholdDisadv}}</span>{{/thresholdDisadv}}
				{{#thresholdAdv}}</span>{{/thresholdAdv}}
			</span>

			<span class="sheet-rt-grid__item sheet-rt-grid__item--1/4 sheet-font-mono">
				{{#thresholdAdv}}<span class="sheet-text-green-600">{{/thresholdAdv}}
				{{#thresholdDisadv}}<span class="sheet-text-red-800">{{/thresholdDisadv}}
					{{thresholdValue}}
				{{#thresholdDisadv}}</span>{{/thresholdDisadv}}
				{{#thresholdAdv}}</span>{{/thresholdAdv}}
			</span>
		{{/thresholdValue}}
	</div>

	<!-- Separator -->
	<div class="sheet-rt-separator"></div>

	{{#roll}}
		<!-- Roll Result -->
		<div class="sheet-rt-grid">		
			<span class="sheet-rt-grid__item sheet-rt-grid__item--3/4 sheet-font-bold">Num. Successes</span>
			<span class="sheet-rt-grid__item sheet-rt-grid__item--1/4 sheet-font-bold">{{roll}}</span>		
		</div>	
	{{/roll}}

	{{#total}}
		<!-- Total Result -->
		<div class="sheet-rt-grid">		
			<span class="sheet-rt-grid__item sheet-rt-grid__item--3/4 sheet-font-bold">Total</span>
			<span class="sheet-rt-grid__item sheet-rt-grid__item--1/4 sheet-font-bold">{{total}}</span>
		</div>	
	{{/total}}
</rolltemplate>

<!-- Sheet Worker Script -->
<script type="text/worker">
	// Function(s)
	var toInt = function(value) {
		return (parseInt(value, 10) || 0);
	};
	
	var isBlank = function(value) {
		return ((value || '').toString().trim().length === 0);
	};
	
	// ---------------------------------------------------------------------
	// Views
	on('clicked:btn_gm_view', function() {
		setAttrs({
			'curr_view': 'view_gm'
		});
	});

	on('clicked:btn_player_view', function() {
		setAttrs({
			'curr_view': 'view_player'
		});
	});

	// ---------------------------------------------------------------------
	// Navigation
	[
		'tab_bio',
		'tab_traits',
		'tab_gear'
	].forEach(function(tab) {
		on('clicked:' + tab, function() {
			setAttrs({
				'curr_tab': tab
			})
		});
	});
	
	// ---------------------------------------------------------------------
	// Actions
	on('clicked:repeating_npcs:traitminus', function() {
		getAttrs(['repeating_npcs_numtraits'], function(attrs) {
			var numTraits = toInt(attrs['repeating_npcs_numtraits']);
			if (numTraits > 0) {
				setAttrs({
					'repeating_npcs_numtraits': (numTraits - 1)
				});
			}			
		});
	});

	on('clicked:repeating_npcs:traitplus', function() {
		getAttrs(['repeating_npcs_numtraits'], function(attrs) {
			var numTraits = toInt(attrs['repeating_npcs_numtraits']);
			if (numTraits < 20) {
				setAttrs({
					'repeating_npcs_numtraits': (numTraits + 1)
				});
			}
		});
	});

	// ---------------------------------------------------------------------
	// Auto-calc
	// -- attr_roller_test_threshold_label_computed
	// -- attr_roller_test_success_threshold_computed
	on('change:roller_test_focused', function() {
		getAttrs(['roller_test_focused'], function(attrs) {
			var successThreshold = 5;
			var thresholdLabel = '';
			if (attrs['roller_test_focused'] === 'true') {
				successThreshold = 4;
				thresholdLabel = 'Focused';
			}

			setAttrs({				
				'roller_test_success_threshold_computed': successThreshold,
				'roller_test_threshold_label_computed': thresholdLabel
			});
		});
	});

	// -- attr_roller_atk_threshold_label_computed
	// -- attr_roller_atk_success_threshold_computed
	on('change:roller_atk_mod', function() {
		getAttrs(['roller_atk_mod'], function(attrs) {
			var successThreshold = 5;
			var thresholdLabel = '';
			if (attrs['roller_atk_mod'] === 'focused') {
				successThreshold = 4;
				thresholdLabel = 'Focused';
			}

			if (attrs['roller_atk_mod'] === 'marksman') {
				successThreshold = 3;
				thresholdLabel = 'Marksman';
			}

			setAttrs({
				'roller_atk_success_threshold_computed': successThreshold,
				'roller_atk_threshold_label_computed': thresholdLabel
			});
		});
	});
</script>

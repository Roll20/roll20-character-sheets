<input type="checkbox" name="attr_use_specfont" value="1" class="accessible noshow" role="presentation" />
<input type="checkbox" name="attr_use_specfont" value="2" class="comic noshow" role="presentation" />
<input type="checkbox" name="attr_use_specfont" value="3" class="segoe noshow" role="presentation" />
<input type="checkbox" name="attr_use_specfont" value="4" class="lucida noshow" role="presentation" />
<input type="checkbox" name="attr_use_specfont" value="5" class="fantasy noshow" role="presentation" />
<input type="checkbox" name="attr_use_specfont" value="6" class="fantasy2 noshow" role="presentation" />
<input type="checkbox" name="attr_use_specfont" value="7" class="fantasy3 noshow" role="presentation" />
<input type="checkbox" name="attr_use_background" value="1" class="graph-paper noshow" role="presentation" />
<input type="checkbox" name="attr_use_background" value="2" class="parchment-1 noshow" role="presentation" />
<input type="checkbox" name="attr_use_background" value="3" class="parchment-2 noshow" role="presentation" />
<input type="checkbox" name="attr_hide_announcements" value="1" class="noshow" role="presentation" />
<div class="pf-wrapper">
    <div style="display: grid;grid-template-columns: 1fr auto;">
        <div class="mode" data-i18n-title="edit-mode-title" data-i18n-aria-label="edit-mode-title" title="Toggle Expanded mode(full editing) or Compact mode(important fields only)" aria-label="Toggle Expanded mode(full editing) or Compact mode(important fields only)">
            <input type="checkbox" name="attr_readonly_show" value="1" class="readonly-show" checked />
            <span class="mode"><span data-i18n="edit-mode">Edit Mode</span></span>
            <span class="mode"><span data-i18n="compact-mode">Compact Mode</span></span>
        </div>
        <div style="grid-area: 1/1/1/3;">
            <input type="checkbox" class="showarrow ack-button" name="attr_attentionv172-show" value="1" data-i18n-title="show-announcements" aria-label="Check to hide Announcements section" data-i18n-aria-label="show-announcements" />
            <label class="showsect" data-i18n-title="show-announcements" data-i18n-aria-label="show-announcements" data-i18n="announcements">Announcements</label>
            <br />
            <div role="contentinfo" class="announcements selectable" aria-label="Announces changes to sheet" data-i18n-aria-label="announcements">
                <div class="footer" style="text-align:left; padding:0.5rem; margin:0.5rem;">
                    <h2 style="margin-top:0;margin-bottom:1em;">
                        <span data-i18n="version">Version</span>
                        <input type="text" name="attr_PFSheet_Version" value="0" class="calc number" readonly title="A non-blank version indicates attributes have been successfully recalculated." />
                        <span data-i18n="new-features">New Features and Updates</span>
                    </h2>
                    <ol>
                        <li>Fix font-size of roll templates when chat is popped out.</li>
                        <li>Fix for fonts not showing bold text in roll templates.</li>
                        <li>Fixed extra macro code showing for NPC saves.</li>
                        <li>Fixed a bug with a Buff to CMD(type:Dodge) that applied the Dodge bonus to Flat Footed CMD.</li>
                        <li>Fixed a bug with all Skill tabs being shown regardless if the Unchained options state.</li>
                        <li>Fixed which Menu Buttons should be displayed when Unchained Skills is enabled (ie Background/Adventure or Consolidated). Also updated the All menus chat output to match.</li>
                    </ol>
                    <details>
                        <summary>
                            <h4 data-i18n="announcements-older-changes">Older Changes</h4>
                        </summary>
                        <ol>
                            <li>Added Racial modifiers and Ability Score Increases to the Ability Score grid. Given these modifiers are already accounted for in the Base column either directly or through the Misc modifier, you will need to manually adjust these fields for existing characters if you would like to track these modifiers separately.</li>
                            <li>Feat and Trait abilities will display their type2 value with the roll template subtitle in chat if provided on the repeating row.</li>
                            <li>Feat and Trait datalist translation added.</li>
                            <li>Hide All Skills and Combat Skills menu buttons when Unchained Skills are being used.</li>
                            <li>Fixed a bug with Temp hp that erroneously reset to max on triggered events.</li>
                            <li>Added a 'blocked' image indicator over ACP and Max-Dex on the Defenses page to help show they are not applicable when encumbrance has been disabled from the settings page.</li>
                            <li>Added a 'Death Threshold' macro-calculated field to the Hit Point calculations sub-section.</li>
                            <li>Some misc adjustments to layout, including metric/empirical postscript and ACP tag on Skills.</li>
                            <li>Fixed local casting type. Spell Class, 'Casting Type' now displays the #Prep, #Used, and #Cast fields per spell based on the Caster class selected. One-time sheet version check included to update existing spells.</li>
                            <li>Added popup text-input windows to many of the macro-text fields.</li>
                            <li>Fixed Ability Notes alignment issue when the sheet is in Compact mode.</li>
                            <li>Added 'Type' field for Feats and Traits.</li>
                            <li>Added an encumbrance option for Carried Currency. This can be toggled via Sheet Settings>Sheet Configuration>Encumbrance and/or using a checkbox on the Equipment tab>Carried Weight sub-section.</li>
                            <li>Added a Critical Confirm bonus to the Buffs Bonus selector/dropdown. This is a global modifier that is applied to all attacks.</li>
                            <li>The Critical Confirm bonus field (+Conf) on attacks has been changed into a macro field. The 'Val' field now shows the Total crit confirm bonus ie local bonus + attack-grid bonus and/or any buffs.</li>
                            <li>Added Mythic Abilities and Mythic Feats to the Rule dropdown selector to help with sorting abilities. Note: this does not convert non-mythic abilities or feats into a mythic version. It simply moves the ability or feat to the appropriate tab.</li>
                            <li>Added Spell DC Misc. field to Spells&#62;Level and Caster Ability&#62;Roll Adjustments. Any 'DC Misc.' modifier and/or 'DC Buff' will be included on the 'Save DC' column under Spells/Day as well as each spells' computed DC.</li>
                            <li>Added Spell DC Classes 0, 1, and 2 to the Buffs Bonus selector/dropdown. This is a global modifier that is applied to all spells under a given spell class.</li>
                            <li>Added HL Import attacks. <b>Consider this beta...</b> You may need to make adjustments to natural and weapon attacks after import, but this should be faster than creating the attacks from scratch.</li>
                        </ol>
                        <label class="boldlabel-check"><input type="checkbox" name="attr_attentionv172-show" value="1"> <b><span data-i18n="do-not-show-again">Do not show again</span></b></label>
                        <div class="cheat"></div>
                        <label><button type="roll" class="no-decoration" data-i18n-title="url-link" style="color:#0000FF;" name="roll_blank" value="https://tinyurl.com/PFCommunityOld"><b data-i18n="announcements-old">Old Announcements</b></button></label>
                    </details>
                </div>
            </div>
        </div>
    </div>
    <span class="offscreen" data-i18n="instru-a-3">Screenreader users should check expand all to ensure all content is visible to the reader. It is the second checkbox on this page.</span>
    <span class="offscreen" data-i18n="instru-a-2">Screenreader users please turn on reading of Title attributes. A lot of information is still in the titles.</span>
    <span class="offscreen" data-i18n="instru-a-1">Checkboxes with a label right after cause the section with same name (h2 or h3 header) to be revealed or hidden.</span>
    <span class="offscreen" data-i18n="instru-a-0">New sheets begin on the Configuration page. Use the Settings button(config-show) to edit the sheet.</span>
    <input type="checkbox" class="offscreen" name="attr_expandall" value="1" aria-label="Expand All" data-i18n-aria-label="expand-all" />
    <input type="checkbox" name="attr_config-show" value="1" class="hidden cssbutton configbutton config-show" checked />
    <div>
        <input type="checkbox" name="attr_is_npc" value="1" class="npc-show noshow" role="presentation" />
        <div class="monster-indicator npc-only" role="status" aria-live="polite" aria-label="Monster or PC Indicator" data-i18n-aria-label="monster-or-pc-indicator">
            <input type="checkbox" name="attr_is_npc" value="1" class="condition-exists" role="Presentation"><label style="font-size:1.6rem; padding:0.25em .5em .25em .5em;" data-i18n-title="monster-or-non-player-character" data-i18n-aria-label="monster-or-non-player-character"><b data-i18n="monster-or-non-player-character-abbrv">Monster/NPC</b></label>
        </div>
        <div class="small-label2" style="display:inline;" role="presentation">
            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_logo.png" style="max-height:70px;width:140px;margin-bottom:-.5em;" data-i18n-alt="pathfinder-logo" alt="Pathfinder RPG Logo &copy; Paizo" />
        </div>
        <span data-i18n-title="edit-mode-title">
            <input type="checkbox" name="attr_readonly_show" value="1" class="cssbutton readonly-show" data-i18n-aria-label="edit-mode-title" checked /><span></span><span class="cssbutton-label" style="margin-left:-2.7rem;" data-i18n-title="edit-mode-title" data-i18n-aria-label="edit-mode-title" data-i18n="mode">Mode</span>
        </span>
        <input type="checkbox" name="attr_migrate1" value="1" class="noshow" aria-label="for the API to ensure sheets up to date" />
        <span data-i18n-title="recalculate-cmd">
            <input type="checkbox" name="attr_recalc1" value="1" class="cssbutton refreshbutton progress-show" data-i18n-aria-label="recalculate-cmd" /><span></span>
            <span class="cssbutton-label" style="margin-left:-3.5rem;" data-i18n-title="recalculate-cmd" data-i18n-aria-label="recalculate-cmd" data-i18n="recalculate-abbrv">Recalc</span>
            <span class="progress-icon" style="top:5em; left:17em;"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/busy_icon.gif" style="vertical-align:top;" /> <span data-i18n="recalculating">Recalculating...</span></span>
        </span>
        <span data-i18n-title="display-settings-config">
            <input type="checkbox" name="attr_config-show" value="1" class="cssbutton configbutton config-show" data-i18n-aria-label="display-settings-config" style="width:3em;" checked /><span></span><span class="cssbutton-label" style="margin-left:-3.3rem;" data-i18n-title="display-settings-config" data-i18n-aria-label="display-settings-config" data-i18n="settings">Settings</span>
        </span>
        <label class="small-label2 entry-20p"><input title="@{character_name}" type="text" name="attr_character_name" data-i18n-placeholder="character-name" /><span data-i18n="character-name">Character Name</span></label>
        <label class="small-label2 pc-only entry-15p"><input title="@{player-name}" type="text" name="attr_player-name" data-i18n-placeholder="player-name" /><span data-i18n="player-name">Player Name</span></label>
        <label class="small-label2 entry-vshort"><input title="@{alignment}" type="text" name="attr_alignment" data-i18n-placeholder="alignment"><span data-i18n="alignment-abbrv">Align</span></label>
        <label class="small-label2 pc-only entry-15p"><input title="@{class-0-name}" type="text" name="attr_class-0-name" data-i18n-placeholder="class" /><span data-i18n="class">Class</span></label>
        <label class="small-label2 npc-only entry-25p"><input title="@{npc-type}" type="text" name="attr_npc-type" data-i18n-placeholder="type-or-sub-type" /><span data-i18n="type-or-sub-type">Type/(sub-type)</span></label>
        <label class="small-label2 npc-only narrow-numbers"><input class="number" title="@{npc-cr}" type="text" name="attr_npc-cr" value="0" /><span data-i18n="challenge-rating-abbrv">CR</span></label>
        <label class="small-label2 npc-only narrow-numbers"><input title="@{npc-hd-num}" type="number" name="attr_npc-hd-num" value="0" /><span data-i18n="hit-dice-abbrv">HD</span></label>
        <label class="small-label2 pc-only narrow-numbers"><input title="@{level}" type="number" name="attr_level" value="0" style="text-align:right;" class="calc" readonly data-i18n-placeholder="level" /><span data-i18n="level">Level</span></label>
    </div>
    <div class="pfsheet">
        <input type="checkbox" name="attr_readonly_show" value="1" class="readonly-show noshow" role="presentation" checked />
        <input type="checkbox" name="attr_is_undead" value="1" class="noshow" role="presentation" />
        <input type="checkbox" name="attr_normal_macro_show" value="1" class="all-macro-text-show noshow" style="display:none;" role="presentation" checked />
        <input type="checkbox" name="attr_adv_macro_show" value="1" class="advanced-macro-show noshow" role="presentation" checked />
        <input type="checkbox" name="attr_use_spells" value="1" class="show-spell-tab noshow" data-i18n-aria-label="uses-spells-title" role="presentation" />
        <div role="contentinfo" aria-label="Buffs and Conditions" data-i18n-aria-label="buffs-conditions-status-section" class="section-status">
            <div class="status-panel" role="status" aria-live="polite" aria-label="Current Conditions" data-i18n-aria-label="current-conditions">
                <div class="options">
                    <input type="checkbox" class="condition-exists" name="attr_condition-Bleed" value="1" role="Presentation"><label data-i18n-title="condition-bleed-title" data-i18n-aria-label="condition-bleed-title"><b data-i18n="bleed"> Bleed</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Blinded" value="2" role="Presentation"><label data-i18n-title="condition-blinded-title" data-i18n-aria-label="condition-blinded-title"><b data-i18n="blinded"> Blinded</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Cowering" value="2" role="Presentation"><label data-i18n-title="condition-cowering-title" data-i18n-aria-label="condition-cowering-title"><b data-i18n="cowering"> Cowering</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Dazed" value="1" role="Presentation"><label data-i18n-title="condition-dazed-title" data-i18n-aria-label="condition-dazed-title"><b data-i18n="dazed"> Dazed</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Dazzled" value="1" role="Presentation"><label data-i18n-title="condition-dazzled-title" data-i18n-aria-label="condition-dazzled-title"><b data-i18n="dazzled"> Dazzled</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Dead" value="1" role="Presentation"><label data-i18n-title="condition-dead-title" data-i18n-aria-label="condition-dead-title"><b data-i18n="dead"> Dead</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Deafened" value="4" role="Presentation"><label data-i18n-title="condition-deafened-title" data-i18n-aria-label="condition-deafened-title"><b data-i18n="deafened"> Deafened</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Disabled" value="1" role="Presentation"><label data-i18n-title="condition-disabled-title" data-i18n-aria-label="condition-disabled-title"><b data-i18n="disabled"> Disabled</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition_is_drained" value="1" role="Presentation"><label data-i18n-title="condition-energy-drained-title" data-i18n-aria-label="condition-energy-drained-title"><b data-i18n="energy-drained"> Energy Drain</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Drowning" value="1" role="Presentation"><label data-i18n-title="condition-drowning-title" data-i18n-aria-label="condition-drowning-title"><b data-i18n="drowning"> Drowning</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Dying" value="1" role="Presentation"><label data-i18n-title="condition-dying-title" data-i18n-aria-label="condition-dying-title"><b data-i18n="dying"> Dying</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Entangled" value="2" role="Presentation"><label data-i18n-title="condition-entangled-title" data-i18n-aria-label="condition-entangled-title"><b data-i18n="entangled"> Entangled</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Exhausted" value="3" role="Presentation"><label data-i18n-title="condition-exhausted-title" data-i18n-aria-label="condition-exhausted-title"><b data-i18n="exhausted"> Exhausted</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Fascinated" value="4" role="Presentation"><label data-i18n-title="condition-fascinated-title" data-i18n-aria-label="condition-fascinated-title"><b data-i18n="fascinated"> Fascinated</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Fatigued" value="1" role="Presentation"><label data-i18n-title="condition-fatigued-title" data-i18n-aria-label="condition-fatigued-title"><b data-i18n="fatigued"> Fatigued</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Fear" value="2" role="Presentation"><label data-i18n-title="condition-fear-title" data-i18n-aria-label="condition-fear-title"><b data-i18n="fear"> Fear</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Flat-Footed" value="1" role="Presentation"><label data-i18n-title="condition-flat-footed-title" data-i18n-aria-label="condition-flat-footed-title"><b data-i18n="flat-footed"> Flat-Footed</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Grappled" value="2" role="Presentation"><label data-i18n-title="condition-grappled-title" data-i18n-aria-label="condition-grappled-title"><b data-i18n="grappled"> Grappled</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Helpless" value="1" role="Presentation"><label title="Set Dexterity to 0(-5 DEX-mod)"><b data-i18n="helpless" data-i18n-title="condition-helpless-title" data-i18n-aria-label="condition-helpless-title">Helpless</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Incorporeal" value="1" role="Presentation"><label data-i18n-title="condition-incorporeal-title" data-i18n-aria-label="condition-incorporeal-title"><b data-i18n="incorporeal"> Incorporeal</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Invisible" value="2" role="Presentation"><label data-i18n-title="condition-invisible-title" data-i18n-aria-label="condition-invisible-title"><b data-i18n="invisible"> Invisible</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Nauseated" value="1" role="Presentation"><label data-i18n-title="condition-nauseated-title" data-i18n-aria-label="condition-nauseated-title"><b data-i18n="nauseated"> Nauseated</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Paralyzed" value="4" role="Presentation"><label data-i18n-title="condition-paralyzed-title" data-i18n-aria-label="condition-paralyzed-title"><b data-i18n="paralyzed"> Paralyzed</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Petrified" value="1" role="Presentation"><label data-i18n-title="condition-petrified-title" data-i18n-aria-label="condition-petrified-title"><b data-i18n="petrified"> Petrified</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Pinned" value="4" role="Presentation"><label data-i18n-title="condition-pinned-title" data-i18n-aria-label="condition-pinned-title"><b data-i18n="pinned"> Pinned</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Prone" value="4" role="Presentation"><label data-i18n-title="condition-prone-title" data-i18n-aria-label="condition-prone-title"><b data-i18n="prone"> Prone</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Sickened" value="2" role="Presentation"><label data-i18n-title="condition-sickened-title" data-i18n-aria-label="condition-sickened-title"><b data-i18n="sickened"> Sickened</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Slowed" value="1" /><label data-i18n-title="slowed" data-i18n-aria-label="slowed"><b data-i18n="slowed"> Slowed</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Stable" value="1" role="Presentation"><label data-i18n-title="condition-stable-title" data-i18n-aria-label="condition-stable-title"><b data-i18n="stable"> Stable</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Staggered" value="1" role="Presentation"><label data-i18n-title="condition-staggered-title" data-i18n-aria-label="condition-staggered-title"><b data-i18n="staggered"> Staggered</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Stunned" value="2" role="Presentation"><label data-i18n-title="condition-stunned-title" data-i18n-aria-label="condition-stunned-title"><b data-i18n="stunned"> Stunned</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Suffocating" value="1" role="Presentation"><label data-i18n-title="condition-suffocating-title" data-i18n-aria-label="condition-suffocating-title"><b data-i18n="suffocating"> Suffocating</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Unconscious" value="1" role="Presentation"><label data-i18n-title="condition-unconscious-title" data-i18n-aria-label="condition-unconscious-title"><b data-i18n="unconscious"> Unconscious</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_wounds_gritty_mode" value="1" role="Presentation"><label data-i18n-title="gritty-title" data-i18n-aria-label="gritty-title"><b data-i18n="toggle-gritty-mode"> Gritty Mode</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Wounds" value="1" role="Presentation"><label data-i18n-title="grazed-title" data-i18n-aria-label="grazed-title"><b data-i18n="grazed"> Grazed</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Wounds" value="2" role="Presentation"><label data-i18n-title="wounded-title" data-i18n-aria-label="wounded-title"><b data-i18n="wounded"> Wounded</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_condition-Wounds" value="3" role="Presentation"><label data-i18n-title="critical-title" data-i18n-aria-label="critical-title"><b data-i18n="critical"> Critical</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_maxdex-toggle" value="1" role="Presentation"><label data-i18n-title="maximum-dexterity-title" data-i18n-aria-label="maximum-dexterity-title"><b data-i18n="condition-maximum-dexterity-abbrv"> Max Dex</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_nodex-toggle" value="1" role="Presentation"><label data-i18n-title="lose-dexterity-title" data-i18n-aria-label="lose-dexterity-title"><b data-i18n="condition-lose-dexterity-abbrv"> Lose Dex</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_STR-modded" value="1" role="Presentation"><label data-i18n-title="strength-penalized-title" data-i18n-aria-label="strength-penalized-title"><b data-i18n="strength-penalized"> Str Penalized</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_DEX-modded" value="1" role="Presentation"><label data-i18n-title="dexterity-penalized-title" data-i18n-aria-label="dexterity-penalized-title"><b data-i18n="dexterity-penalized"> Dex Penalized</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_CON-modded" value="1" role="Presentation"><label data-i18n-title="constitution-penalized-title" data-i18n-aria-label="constitution-penalized-title"><b data-i18n="constitution-penalized"> Con Penalized</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_INT-modded" value="1" role="Presentation"><label data-i18n-title="intelligence-penalized-title" data-i18n-aria-label="intelligence-penalized-title"><b data-i18n="intelligence-penalized"> Int Penalized</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_WIS-modded" value="1" role="Presentation"><label data-i18n-title="wisdom-penalized-title" data-i18n-aria-label="wisdom-penalized-title"><b data-i18n="wisdom-penalized"> Wis Penalized</b></label>
                    <input type="checkbox" class="condition-exists" name="attr_CHA-modded" value="1" role="Presentation"><label data-i18n-title="charisma-penalized-title" data-i18n-aria-label="charisma-penalized-title"><b data-i18n="charisma-penalized"> Cha Penalized</b></label>
                    <input type="checkbox" class="or-B-show noshow" name="attr_max-dex-source" value="2" role="Presentation" />
                    <div class="either-or-sect">
                        <input type="checkbox" class="condition-exists" name="attr_current-load" value="1" role="Presentation" /><label data-i18n-title="encumbered-title" data-i18n-aria-label="encumbered"><b data-i18n="encumbered"> Encumbered</b></label>
                        <input type="checkbox" class="condition-exists" name="attr_current-load" value="2" role="Presentation" /><label data-i18n-title="encumbered-title" data-i18n-aria-label="encumbered"><b data-i18n="encumbered"> Encumbered</b></label>
                        <input type="checkbox" class="condition-exists" name="attr_current-load" value="3" role="Presentation" /><label data-i18n-title="overloaded-title" data-i18n-aria-label="overloaded"><b data-i18n="overloaded"> Overloaded</b></label>
                        <input type="checkbox" class="condition-exists" name="attr_current-load" value="4" role="Presentation" /><label data-i18n-title="overloaded-title" data-i18n-aria-label="overloaded"><b data-i18n="overloaded"> Overloaded</b></label>
                    </div>
                    <span class="panel-name" data-i18n="current-conditions">Current Conditions</span>
                </div>
            </div>
            <div class="status-panel" role="status" aria-live="polite" aria-label="Current Buffs" data-i18n-aria-label="current-buffs">
                <div class="options">
                    <input type="checkbox" class="buff-exists" name="attr_buff_STR_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-strength-title"><input title="@{buff_STR-total}" name="attr_buff_STR-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="strength-abbrv">STR</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_STR_penalty_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-strength-penalty-title"><input title="@{buff_STR-total_penalty}" name="attr_buff_STR-total_penalty" type="number" value="0" class="calc" readonly />-<span class="nowrap-over" data-i18n-title="buff-strength-penalty-title" data-i18n="strength-abbrv">STR</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_DEX_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-dexterity-title"><input title="@{buff_DEX-total}" name="attr_buff_DEX-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="dexterity-abbrv">DEX</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_DEX_penalty_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-dexterity-penalty-title"><input title="@{buff_DEX-total_penalty}" name="attr_buff_DEX-total_penalty" type="number" value="0" class="calc" readonly />-<span class="nowrap-over" data-i18n-title="buff-dexterity-penalty-title" data-i18n="dexterity-abbrv">DEX</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_CON_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-constitution-title"><input title="@{buff_CON-total}" name="attr_buff_CON-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="constitution-abbrv">CON</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_CON_penalty_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-constitution-penalty-title"><input title="@{buff_CON-total_penalty}" name="attr_buff_CON-total_penalty" type="number" value="0" class="calc" readonly />-<span class="nowrap-over" data-i18n-title="buff-constitution-penalty-title" data-i18n="constitution-abbrv">CON</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_INT_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-intelligence-title"><input title="@{buff_INT-total}" name="attr_buff_INT-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="intelligence-abbrv">INT</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_INT_penalty_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-intelligence-penalty-title"><input title="@{buff_INT-total_penalty}" name="attr_buff_INT-total_penalty" type="number" value="0" class="calc" readonly />-<span class="nowrap-over" data-i18n-title="buff-intelligence-penalty-title" data-i18n="intelligence-abbrv">INT</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_WIS_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-wisdom-title"><input title="@{buff_WIS-total}" name="attr_buff_WIS-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="wisdom-abbrv">WIS</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_WIS_penalty_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-wisdom-penalty-title"><input title="@{buff_WIS-total_penalty}" name="attr_buff_WIS-total_penalty" type="number" value="0" class="calc" readonly />-<span class="nowrap-over" data-i18n-title="buff-wisdom-penalty-title" data-i18n="wisdom-abbrv">WIS</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_CHA_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-charisma-title"><input title="@{buff_CHA-total}" name="attr_buff_CHA-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="charisma-abbrv">CHA</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_CHA_penalty_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-charisma-penalty-title"><input title="@{buff_CHA-total_penalty}" name="attr_buff_CHA-total_penalty" type="number" value="0" class="calc" readonly />-<span class="nowrap-over" data-i18n-title="buff-charisma-penalty-title" data-i18n="charisma-abbrv">CHA</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_STR_skills_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-strength-title"><input title="@{buff_STR_skills-total}" name="attr_buff_STR_skills-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-strength-based-skills-title" data-i18n="strength-skills-abbrv">STR</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_DEX_skills_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-dexterity-title"><input title="@{buff_DEX_skills-total}" name="attr_buff_DEX_skills-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-dexterity-based-skills-title" data-i18n="dexterity-skills-abbrv">DEX</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_CON_skills_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-constitution-title"><input title="@{buff_CON_skills-total}" name="attr_buff_CON_skills-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-constitution-based-skills-title" data-i18n="constitution-skills-abbrv">CON</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_INT_skills_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-intelligence-title"><input title="@{buff_INT_skills-total}" name="attr_buff_INT_skills-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-intelligence-based-skills-title" data-i18n="intelligence-skills-abbrv">INT</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_WIS_skills_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-wisdom-title"><input title="@{buff_WIS_skills-total}" name="attr_buff_WIS_skills-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-wisdom-based-skills-title" data-i18n="wisdom-skills-abbrv">WIS</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_CHA_skills_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-charisma-title"><input title="@{buff_CHA_skills-total}" name="attr_buff_CHA_skills-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-charisma-based-skills-title" data-i18n="charisma-skills-abbrv">CHA</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_saves_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-saves-title"><input title="@{buff_saves-total}" name="attr_buff_saves-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-saves-title" data-i18n="all-saves">all saves</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_Fort_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-fortitude-title"><input title="@{buff_Fort-total}" name="attr_buff_Fort-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-fortitude-title" data-i18n="fortitude-abbrv">Fort</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_Ref_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-reflex-title"><input title="@{buff_Ref-total}" name="attr_buff_Ref-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-reflex-title" data-i18n="reflex-abbrv">Ref</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_Will_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-will-title"><input title="@{buff_Will-total}" name="attr_buff_Will-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-will-title" data-i18n="willpower-abbrv">Will</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_AC_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-armor-class-title"><input title="@{buff_AC-total}" name="attr_buff_AC-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-armor-class-title" data-i18n="armor-class-abbrv">AC</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_Touch_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-touch-title"><input title="@{buff_Touch-total}" name="attr_buff_Touch-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-touch-title" data-i18n="touch-armor-class-abbrv">Touch AC</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_Flat-Footed_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-flat-footed-title"><input title="@{buff_flat-footed-total}" name="attr_buff_flat-footed-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-flat-footed-title" data-i18n="flat-footed-abbrv">Flat-Footed AC</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_CMD_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-cmd-title"><input title="@{buff_CMD-total}" name="attr_buff_CMD-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-cmd-title" data-i18n="combat-maneuver-defense-abbrv">CMD</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_armor_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-armor-title"><input title="@{buff_armor-total}" name="attr_buff_armor-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-armor-title" data-i18n="armor">Armor</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_shield_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-shield-title"><input title="@{buff_shield-total}" name="attr_buff_shield-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-shield-title" data-i18n="shield">Shield</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_natural_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-natural-title"><input title="@{buff_natural-total}" name="attr_buff_natural-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-natural-title" data-i18n="natural-armor-abbrv">Nat Armor</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_dodge_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-dodge-title"><input title="@{buff_dodge-total}" name="attr_buff_dodge-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-dodge-title" data-i18n="dodge">dodge</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_deflection_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-deflection-title"><input title="@{buff_deflection-total}" name="attr_buff_deflection-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-deflection-title" data-i18n="deflect">deflect</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_attack_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-attack-title"><input title="@{buff_attack-total}" name="attr_buff_attack-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-attack-title" data-i18n="attack">Attack</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_Melee_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-melee-title"><input title="@{buff_Melee-total}" name="attr_buff_Melee-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-melee-title" data-i18n="melee">Melee</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_melee2_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-melee2-title"><input title="@{buff_melee2-total}" name="attr_buff_melee2-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-melee2-title" data-i18n="melee2">Melee</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_Ranged_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-ranged-title"><input title="@{buff_Ranged-total}" name="attr_buff_Ranged-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-ranged-title" data-i18n="ranged">Ranged</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_ranged2_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-ranged2-title"><input title="@{buff_ranged2-total}" name="attr_buff_ranged2-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-ranged2-title" data-i18n="ranged2">Ranged</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_CMB_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-combat-maneuver-bonus-title"><input title="@{buff_CMB-total}" name="attr_buff_CMB-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-combat-maneuver-bonus-title" data-i18n="combat-maneuver-bonus-abbrv">CMB</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_cmb2_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-combat-maneuver-bonus2-title"><input title="@{buff_cmb2-total}" name="attr_buff_cmb2-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-combat-maneuver-bonus2-title" data-i18n="combat-maneuver-bonus-abbrv2">CMB</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_crit_conf_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-critical-confirm-title"><input title="@{buff_crit_conf-total}" name="attr_buff_crit_conf-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-critical-confirm-title" data-i18n="critical-bonus-abbrv">+Crit</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_DMG_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-damage-title"><input title="@{buff_DMG-total}" name="attr_buff_DMG-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-damage-title" data-i18n="damage-abbrv">Dmg</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_dmg_melee_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-blade-damage-title"><input title="@{buff_dmg_melee-total}" name="attr_buff_dmg_melee-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-blade-damage-title" data-i18n="damage-blade-abbrv">Melee Dmg</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_dmg_melee2_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-blade-damage2-title"><input title="@{buff_dmg_melee2-total}" name="attr_buff_dmg_melee2-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-blade-damage2-title" data-i18n="melee2-damage-abbrv">Melee Dmg</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_dmg_ranged_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-damage-ranged-title"><input title="@{buff_dmg_ranged-total}" name="attr_buff_dmg_ranged-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-damage-ranged-title" data-i18n="damage-ranged-abbrv">Ranged Dmg</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_dmg_ranged2_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-damage-ranged2-title"><input title="@{buff_dmg_ranged2-total}" name="attr_buff_dmg_ranged2-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-damage-ranged2-title" data-i18n="ranged2-damage-abbrv">Ranged Dmg</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_Check_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-ability-skill-checks-title"><input title="@{buff_Check-total}" name="attr_buff_Check-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-ability-skill-checks" data-i18n="all-checks">all checks</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_check_ability_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-ability-checks-title"><input title="@{buff_check_ability-total}" name="attr_buff_check_ability-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-ability-checks-title" data-i18n="ability-checks-abbrv">Abil Check</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_check_skills_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-skills-checks-title"><input title="@{buff_check_skills-total}" name="attr_buff_check_skills-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-skill-checks-title" data-i18n="skill-checks-abbrv">skill chks</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_initiative_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-initiative-title"><input title="@{buff_initiative-total}" name="attr_buff_initiative-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-initiative-title" data-i18n="initiative-abbrv">initiative</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_size_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-size-title"><input title="@{buff_size-total}" name="attr_buff_size-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-size-title" data-i18n="size">size</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_speed_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-speed-title"><input title="@{buff_speed-total}" name="attr_buff_speed-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-speed-title" data-i18n="speed">speed</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_CasterLevel_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-spell-caster-level-title"><input title="@{buff_CasterLevel-total}" name="attr_buff_CasterLevel-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-caster-level-title" data-i18n-aria-label="buff-caster-level-title" data-i18n="caster-level-abbrv">Caster Level</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_SpellDC_0_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-spell-dc-title"><input title="@{buff_SpellDC_0-total}" name="attr_buff_SpellDC_0-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over spell-class-0" data-i18n-title="buff-spell-dc-title" data-i18n-aria-label="buff-spell-dc-title" data-i18n="difficulty-class-abbrv">DC</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_SpellDC_1_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-spell-dc-title"><input title="@{buff_SpellDC_1-total}" name="attr_buff_SpellDC_1-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over spell-class-1" data-i18n-title="buff-spell-dc-title" data-i18n-aria-label="buff-spell-dc-title" data-i18n="difficulty-class-abbrv">DC</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_SpellDC_2_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-spell-dc-title"><input title="@{buff_SpellDC_2-total}" name="attr_buff_SpellDC_2-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over spell-class-2" data-i18n-title="buff-spell-dc-title" data-i18n-aria-label="buff-spell-dc-title" data-i18n="difficulty-class-abbrv">DC</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_HP-temp_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-temp-hp-title"><input title="@{buff_HP-temp-total}" name="attr_buff_HP-temp-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-temp-hp-title" data-i18n-aria-label="buff-temp-hp-title" data-i18n="temporary-hit-points-abbrv">Temp HP</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_customa1_exists" value="1" role="presentation" /><label class="small-label2"><input title="@{buff_customa1-total}" name="attr_buff_customa1-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over">customa1</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_customa2_exists" value="1" role="presentation" /><label class="small-label2"><input title="@{buff_customa2-total}" name="attr_buff_customa2-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over">customa2</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_customa3_exists" value="1" role="presentation" /><label class="small-label2"><input title="@{buff_customa3-total}" name="attr_buff_customa3-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over">customa3</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_customa10_exists" value="1" role="presentation" /><label class="small-label2"><input title="@{buff_customa10-total}" name="attr_buff_customa10-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over">customa10</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_customa11_exists" value="1" role="presentation" /><label class="small-label2"><input title="@{buff_customa11-total}" name="attr_buff_customa11-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over">customa11</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_customa12_exists" value="1" role="presentation" /><label class="small-label2"><input title="@{buff_customa12-total}" name="attr_buff_customa12-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over">customa12</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_customa4_exists" value="1" role="presentation" /><label class="small-label2"><input title="@{buff_customa4-total}" name="attr_buff_customa4-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over">customa4|max</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_customa5_exists" value="1" role="presentation" /><label class="small-label2"><input title="@{buff_customa5-total}" name="attr_buff_customa5-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over">customa5|max</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_customa6_exists" value="1" role="presentation" /><label class="small-label2"><input title="@{buff_customa6-total}" name="attr_buff_customa6-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over">customa6|max</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_customa7_exists" value="1" role="presentation" /><label class="small-label2"><input title="@{buff_customa7-total}" name="attr_buff_customa7-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over">customa7|max</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_customa8_exists" value="1" role="presentation" /><label class="small-label2"><input title="@{buff_customa8-total}" name="attr_buff_customa8-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over">customa8|max</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_customa9_exists" value="1" role="presentation" /><label class="small-label2"><input title="@{buff_customa9-total}" name="attr_buff_customa9-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over">customa9|max</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_kineticblast_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-kinetic-blast-title"><input title="@{buff_kineticblast-total}" name="attr_buff_kineticblast-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-kinetic-blast-title" data-i18n="blast">blast</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_dmg_kineticblast_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-kinetic-blast-damage-title"><input title="@{buff_dmg_kineticblast-total}" name="attr_buff_dmg_kineticblast-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-kinetic-blast-damage-title" data-i18n="blast-damage-abbrv">Blast Dmg</span></label>
                    <input type="checkbox" class="buff-exists" name="attr_buff_dmg_power_attack_exists" value="1" role="presentation" /><label class="small-label2" data-i18n-aria-label="buff-power-attack-damage-title"><input title="@{buff_dmg_power_attack-total}" name="attr_buff_dmg_power_attack-total" type="number" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-power-attack-damage-title" data-i18n="power-attack-abbrv">PwrAttk</span></label>
                    <span class="panel-name" data-i18n="current-buffs">Current Buffs</span>
                </div>
            </div>
        </div>
        <div role="contentinfo" aria-label="Buffs and Conditions" data-i18n-aria-label="buffs-conditions-edit-section" class="section-condbuffedit">
            <input type="checkbox" class="showarrow conditions-show" name="attr_conditions-show" value="1" data-i18n-title="conditions-showsect-cmd" aria-labeledby="Set Conditions" data-i18n-aria-label="conditions-set" />
            <h2 class="showsect" style="width:49%;margin-right:0.25em;margin-bottom:0;"><label data-i18n="conditions-set">Set Conditions</label></h2>
            <input type="checkbox" class="showarrow buffs-show" name="attr_buffstop-show" value="1" data-i18n-title="buffs-showsect-cmd" aria-labeledby="Set Buffs" data-i18n-aria-label="buffs-set" />
            <h2 class="showsect" style="margin-bottom:0;"><label data-i18n="buffs-set">Set Buffs</label></h2>
            <div class="cheat"></div>
            <div class="conditions" data-i18n-list="conditions-list">
                <span class="nontable-name secondary-table-name" data-i18n="conditions-set">Set Conditions</span>
                <input type="checkbox" value="1" name="attr_extra_fields_conditions_show" title="@{extra_fields_conditions_show}" class="extra-show selectedlabel-check" /><b data-i18n-title="show-all-conditions-desc" data-i18n="show-all-conditions">SHOW ALL CONDITIONS</b>
                <label class="option-condition extra-sect left" data-i18n-list-item="bleed"><input type="checkbox" title="@{condition-Bleed}" class="boldlabel-check" name="attr_condition-Bleed" value="1" /><b><span data-i18n-title="condition-bleed-title" data-i18n-aria-label="condition-bleed-title" data-i18n="bleed">Bleed</span></b></label>
                <label class="option-condition left" data-i18n-list-item="blinded"><input type="checkbox" title="@{condition-Blinded}" class="boldlabel-check" name="attr_condition-Blinded" value="2" /><b><span data-i18n-title="condition-blinded-title" data-i18n-aria-label="condition-blinded-title" data-i18n="blinded">Blinded</span></b></label>
                <label class="option-condition left" data-i18n-list-item="cowering"><input type="checkbox" title="@{condition-Cowering}" class="boldlabel-check" name="attr_condition-Cowering" value="2" /><b><span data-i18n-title="condition-cowering-title" data-i18n-aria-label="condition-cowering-title" data-i18n="cowering">Cowering</span></b></label>
                <label class="option-condition left" data-i18n-list-item="dazed"><input type="checkbox" title="@{condition-Dazed}" class="boldlabel-check" name="attr_condition-Dazed" value="1" /><b><span data-i18n-title="condition-dazed-title" data-i18n-aria-label="condition-dazed-title" data-i18n="dazed">Dazed</span></b></label>
                <label class="option-condition left" data-i18n-list-item="dazzled"><input type="checkbox" title="@{condition-Dazzled}" class="boldlabel-check" name="attr_condition-Dazzled" value="1" /><b><span data-i18n-title="condition-dazzled-title" data-i18n-aria-label="condition-dazzled-title" data-i18n="dazzled">Dazzled</span></b></label>
                <label class="option-condition extra-sect left" data-i18n-list-item="dead"><input type="checkbox" title="@{condition-Dead}" class="boldlabel-check" name="attr_condition-Dead" value="1" /><b><span data-i18n-title="condition-dead-title" data-i18n-aria-label="condition-dead-title" data-i18n="dead">Dead</span></b></label>
                <label class="option-condition left" data-i18n-list-item="deafened"><input type="checkbox" title="@{condition-Deafened}" class="boldlabel-check" name="attr_condition-Deafened" value="4" /><b><span data-i18n-title="condition-deafened-title" data-i18n-aria-label="condition-deafened-title" data-i18n="deafened">Deafened</span></b></label>
                <label class="option-condition extra-sect left" data-i18n-list-item="disabled"><input type="checkbox" title="@{condition-Disabled}" class="boldlabel-check" name="attr_condition-Disabled" value="1" /><b><span data-i18n-title="condition-disabled-title" data-i18n-aria-label="condition-disabled-title" data-i18n="disabled">Disabled</span></b></label>
                <label class="option-condition extra-sect left" data-i18n-list-item="drowning"><input type="checkbox" title="@{condition-Drowning}" class="boldlabel-check" name="attr_condition-Drowning" value="1" /><b><span data-i18n-title="condition-drowning-title" data-i18n-aria-label="condition-drowning-title" data-i18n="drowning">Drowning</span></b></label>
                <label class="option-condition extra-sect left" data-i18n-list-item="dying"><input type="checkbox" title="@{condition-Dying}" class="boldlabel-check" name="attr_condition-Dying" value="1" /><b><span data-i18n-title="condition-dying-title" data-i18n-aria-label="condition-dying-title" data-i18n="dying">Dying</span></b></label>
                <label class="option-condition left" data-i18n-list-item="energy-drained"><input type="number" title="@{condition-Drained}" name="attr_condition-Drained" value="0" max="0" class="narrow-numbers boldlabel-check" /><input type="checkbox" name="attr_condition-Drained-toggle" class="noshow boldlabel-check" value="1" /><b><span data-i18n-title="condition-energy-drained-title" data-i18n-aria-label="condition-energy-drained-title" data-i18n="energy-drained">Energy Drain</span></b></label>
                <label class="option-condition left" data-i18n-list-item="entangled"><input type="checkbox" title="@{condition-Entangled}" class="boldlabel-check" name="attr_condition-Entangled" value="2" /><b><span data-i18n-title="condition-entangled-title" data-i18n-aria-label="condition-entangled-title" data-i18n="entangled">Entangled</span></b></label>
                <label class="option-condition left" data-i18n-list-item="exhausted"><input type="checkbox" title="@{condition-Exhausted}" class="boldlabel-check" name="attr_condition-Exhausted" value="3" /><b><span data-i18n-title="condition-exhausted-title" data-i18n-aria-label="condition-exhausted-title" data-i18n="exhausted">Exhausted</span></b></label>
                <label class="option-condition left" data-i18n-list-item="fascinated"><input type="checkbox" title="@{condition-Fascinated}" class="boldlabel-check" name="attr_condition-Fascinated" value="4" /><b><span data-i18n-title="condition-fascinated-title" data-i18n-aria-label="condition-fascinated-title" data-i18n="fascinated">Fascinated</span></b></label>
                <label class="option-condition left" data-i18n-list-item="fatigued"><input type="checkbox" title="@{condition-Fatigued}" class="boldlabel-check" name="attr_condition-Fatigued" value="1" /><b><span data-i18n-title="condition-fatigued-title" data-i18n-aria-label="condition-fatigued-title" data-i18n="fatigued">Fatigued</span></b></label>
                <label class="option-condition left" data-i18n-list-item="flat-footed"><input type="checkbox" title="@{condition-Flat-Footed}" class="boldlabel-check" name="attr_condition-Flat-Footed" value="1" /><b><span data-i18n-title="condition-flat-footed-title" data-i18n-aria-label="condition-flat-footed-title" data-i18n="flat-footed">Flat-Footed</span></b></label>
                <label class="option-condition left" data-i18n-list-item="grappled"><input type="checkbox" title="@{condition-Grappled}" class="boldlabel-check" name="attr_condition-Grappled" value="2" /><b><span data-i18n-title="condition-grappled-title" data-i18n-aria-label="condition-grappled-title" data-i18n="grappled">Grappled</span></b></label>
                <label class="option-condition left" data-i18n-list-item="helpless"><input type="checkbox" title="@{condition-Helpless}" class="boldlabel-check" name="attr_condition-Helpless" value="1" /><b><span data-i18n-title="condition-helpless-title" data-i18n-aria-label="condition-helpless-title" data-i18n="helpless">Helpless</span></b></label>
                <label class="option-condition extra-sect left" data-i18n-list-item="incorporeal"><input type="checkbox" title="@{condition-Incorporeal}" class="boldlabel-check" name="attr_condition-Incorporeal" value="1" /><b><span data-i18n-title="condition-incorporeal-title" data-i18n-aria-label="condition-incorporeal-title" data-i18n="incorporeal">Incorporeal</span></b></label>
                <label class="option-condition left" data-i18n-list-item="invisible"><input type="checkbox" title="@{condition-Invisible}" class="boldlabel-check" name="attr_condition-Invisible" value="2" /><b><span data-i18n-title="condition-invisible-title" data-i18n-aria-label="condition-invisible-title" data-i18n="invisible">Invisible</span></b></label>
                <label class="option-condition left" data-i18n-list-item="nauseated"><input type="checkbox" title="@{condition-Nauseated}" class="boldlabel-check" name="attr_condition-Nauseated" value="1" /><b><span data-i18n-title="condition-nauseated-title" data-i18n-aria-label="condition-nauseated-title" data-i18n="nauseated">Nauseated</span></b></label>
                <label class="option-condition extra-sect left" data-i18n-list-item="paralyzed"><input type="checkbox" title="@{condition-Paralyzed}" class="boldlabel-check" name="attr_condition-Paralyzed" value="1" /><b><span data-i18n-title="condition-paralyzed-title" data-i18n-aria-label="condition-paralyzed-title" data-i18n="paralyzed">Paralyzed</span></b></label>
                <label class="option-condition extra-sect left" data-i18n-list-item="petrified"><input type="checkbox" title="@{condition-Petrified}" class="boldlabel-check" name="attr_condition-Petrified" value="1" /><b><span data-i18n-title="condition-petrified-title" data-i18n-aria-label="condition-petrified-title" data-i18n="petrified">Petrified</span></b></label>
                <label class="option-condition left" data-i18n-list-item="pinned"><input type="checkbox" title="@{condition-Pinned}" class="boldlabel-check" name="attr_condition-Pinned" value="4" /><b><span data-i18n-title="condition-pinned-title" data-i18n-aria-label="condition-pinned-title" data-i18n="pinned">Pinned</span></b></label>
                <label class="option-condition left" data-i18n-list-item="prone"><input type="checkbox" title="@{condition-Prone}" class="boldlabel-check" name="attr_condition-Prone" value="4" /><b><span data-i18n-title="condition-prone-title" data-i18n-aria-label="condition-prone-title" data-i18n="prone">Prone</span></b></label>
                <label class="option-condition left" data-i18n-list-item="fear-any"><input type="checkbox" title="@{condition-Fear}" class="boldlabel-check" name="attr_condition-Fear" value="2" /><b><span data-i18n-title="condition-fear-title" data-i18n-aria-label="condition-fear-title" data-i18n="fear-any">Shaken/Frightened/Panicked</span></b></label>
                <label class="option-condition left" data-i18n-list-item="sickened"><input type="checkbox" title="@{condition-Sickened}" class="boldlabel-check" name="attr_condition-Sickened" value="2" /><b><span data-i18n-title="condition-sickened-title" data-i18n-aria-label="condition-sickened-title" data-i18n="sickened">Sickened</span></b></label>
                <label class="option-condition extra-sect left" data-i18n-list-item="stable"><input type="checkbox" title="@{condition-Stable}" class="boldlabel-check" name="attr_condition-Stable" value="1" /><b><span data-i18n-title="condition-stable-title" data-i18n-aria-label="condition-stable-title" data-i18n="stable">Stable</span></b></label>
                <label class="option-condition extra-sect left" data-i18n-list-item="staggered"><input type="checkbox" title="@{condition-Staggered}" class="boldlabel-check" name="attr_condition-Staggered" value="1" /><b><span data-i18n-title="condition-staggered-title" data-i18n-aria-label="condition-staggered-title" data-i18n="staggered">Staggered</span></b></label>
                <label class="option-condition extra-sect left" data-i18n-list-item="suffocating"><input type="checkbox" title="@{condition-Suffocating}" class="boldlabel-check" name="attr_condition-Suffocating" value="1" /><b><span data-i18n-title="condition-suffocating-title" data-i18n-aria-label="condition-suffocating-title" data-i18n="suffocating">Suffocating</span></b></label>
                <label class="option-condition left" data-i18n-list-item="stunned"><input type="checkbox" title="@{condition-Stunned}" class="boldlabel-check" name="attr_condition-Stunned" value="2" /><b><span data-i18n-title="condition-stunned-title" data-i18n-aria-label="condition-stunned-title" data-i18n="stunned">Stunned</span></b></label>
                <label class="option-condition left" data-i18n-list-item="unconscious"><input type="checkbox" title="@{condition-Unconscious}" class="boldlabel-check" name="attr_condition-Unconscious" value="1" /><b><span data-i18n-title="condition-unconscious-title" data-i18n-aria-label="condition-unconscious-title" data-i18n="unconscious">Unconscious</span></b></label>
            </div>
            <div class="repeating-sect buffs">
                <span class="nontable-name secondary-table-name" style="margin-bottom:0;" data-i18n="set-buffs">Set Buffs</span>
                <input type="checkbox" class="bonustype-show noshow" name="attr_use_buff_bonuses" value="1" role="presentation" checked />
                <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" data-i18n-aria-label="minimize-all-cmd" title="Minimize all rows." name="attr_buff-min-show" value="1" /><span></span>
                <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" data-i18n-aria-label="expand-cmd" title="Collapse or expand all rows." name="attr_buff-expand-show" value="1" /><span></span>
                <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" data-i18n-aria-label="column-cmd" title="Split into two columns" name="attr_buff-column-show" value="1" /><span></span>
                <input class="deletebutton oldbuff cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_buff_btn" value="1" data-i18n-title="delete-buff" data-i18n-aria-label="delete-buff-must-confirm-next-checkbox" /><span class="oldbuff"></span><label class="deletesect allrows-note oldbuff"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_buff" data-i18n-aria-label="confirm-delete-buff" data-i18n-title="confirm-delete-buff" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                <input class="deletebutton newbuff cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_buff2_btn" value="1" data-i18n-title="delete-buff" data-i18n-aria-label="delete-buff-must-confirm-next-checkbox" /><span class="newbuff"></span><label class="deletesect allrows-note newbuff"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_buff2" data-i18n-aria-label="confirm-delete-buff" data-i18n-title="confirm-delete-buff" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                <span class="compendium-note newbuff" style="margin-right:2em;">
                    <label class="small-label2">
                        <select name="attr_common_buff_toadd" class="select-small">
                            <option value="" data-i18n="select-one-default" selected>Select one</option>
                            <option value="aid" data-i18n="buff-aid">Aid</option>
                            <option value="airbarrier" data-i18n="buff-air-barrier">Air Barrier</option>
                            <option value="archonsaura" data-i18n="buff-archons-aura">Archon's Aura</option>
                            <option value="bane" data-i18n="buff-bane">Bane</option>
                            <option value="battlespirit" data-i18n="buff-battle-spirit">Battle Spirit</option>
                            <option value="battleward" data-i18n="buff-battle-ward">Battle Ward</option>
                            <option value="bless" data-i18n="buff-bless">Bless</option>
                            <option value="blessingoffervor" data-i18n="buff-blessing-of-fervor">Blessing of Fervor</option>
                            <option value="boneward" data-i18n="buff-bone-ward">Bone Ward</option>
                            <option value="combatexpertise" data-i18n="buff-combat-expertise">Combat Expertise</option>
                            <option value="consecrate" data-i18n="buff-consecrate">Consecrate (if undead)</option>
                            <option value="crushingdespair" data-i18n="buff-crushing-despair">Crushing Despair</option>
                            <option value="curse" data-i18n="buff-curse">Curse</option>
                            <option value="deadlyaim" data-i18n="buff-deadly-aim">Deadly Aim</option>
                            <option value="deathknell" data-i18n="buff-death-knell">Death Knell</option>
                            <option value="descrate" data-i18n="buff-desecrate">Desecrate (if undead)</option>
                            <option value="divinefavor" data-i18n="buff-divine-favor">Divine Favor</option>
                            <option value="elementaloverflow" data-i18n="buff-elemental-overflow">Elemental Overflow</option>
                            <option value="enlargeperson" data-i18n="buff-enlarge-person">Enlarge Person</option>
                            <option value="goodhope" data-i18n="buff-good-hope">Good Hope</option>
                            <option value="hamperinghex" data-i18n="buff-hampering-hex">Hampering Hex</option>
                            <option value="haste" data-i18n="buff-haste">Haste</option>
                            <option value="heroism" data-i18n="buff-heroism">Heroism</option>
                            <option value="inspirecourage" data-i18n="buff-inspire-courage">Inspire Courage</option>
                            <option value="inspiredrage" data-i18n="buff-inspired-rage">Inspired Rage</option>
                            <option value="inspiregreatness" data-i18n="buff-inspire-greatness">Inspire Greatness</option>
                            <option value="magearmor" data-i18n="buff-mage-armor">Mage Armor</option>
                            <option value="magicvestment" data-i18n="buff-magic-vestment">Magic Vestment</option>
                            <option value="powerattack" data-i18n="buff-power-attack">Power Attack</option>
                            <option value="prayer" data-i18n="buff-prayer">Prayer</option>
                            <option value="prayerdebuff" data-i18n="buff-prayer-debuff">Prayer (Debuff)</option>
                            <option value="rage" data-i18n="buff-rage">Rage</option>
                            <option value="unchainedrage" data-i18n="buff-rage-unchained">Rage (Unchained)</option>
                            <option value="reduceperson" data-i18n="buff-reduce-person">Reduce Person</option>
                            <option value="shield" data-i18n="buff-shield">Shield</option>
                            <option value="shieldoffaith" data-i18n="buff-shield-of-faith">Shield of Faith</option>
                            <option value="slow" data-i18n="buff-slow">Slow</option>
                            <option value="stardust" data-i18n="buff-stardust">Stardust</option>
                            <option value="ward" data-i18n="buff-ward">Ward</option>
                        </select>
                        <span data-i18n="common-buff" data-i18n-title="common-buff-title" data-i18n-aria-label="common-buff-title">Add a Common Buff</span>
                    </label>
                    <label class="small-label2" style="margin-top:0;">
                        <input type="checkbox" class="newbuff-button cssbutton" value="1" name="attr_add_common_buff" title="@{add_common_buff}" /><span></span>
                        <span class="cssbutton-label" data-i18n="add">Add</span>
                    </label>
                </span>
                <div class="cheat newbuff"></div>
                <div role="menubar" class="newbuff buffnav2 tabs custbordernav" aria-label="buff menubar"></div>
                <input type="radio" class="newbuff tabinput tab6" name="attr_buffs_tab" value="aura" data-i18n-title="aura" data-i18n-aria-label="aura" />
                <label role="menuitem" class="newbuff tab tab6" data-i18n="aura">aura</label>
                <input type="radio" class="newbuff tabinput tab4" name="attr_buffs_tab" value="class" data-i18n-title="class-features" data-i18n-aria-label="class-features" />
                <label role="menuitem" class="newbuff tab tab4" data-i18n="class">Class</label>
                <input type="radio" class="newbuff tabinput tab7" name="attr_buffs_tab" value="hex" data-i18n-title="hex" data-i18n-aria-label="hex" />
                <label role="menuitem" class="newbuff tab tab7" data-i18n="hex">hex</label>
                <input type="radio" class="newbuff tabinput tab5" name="attr_buffs_tab" value="item" data-i18n-title="item" data-i18n-aria-label="item" />
                <label role="menuitem" class="newbuff tab tab5" data-i18n="item">Item</label>
                <input type="radio" class="newbuff tabinput tab0" name="attr_buffs_tab" value="permanent" data-i18n-title="permanent" data-i18n-aria-label="permanent" />
                <label role="menuitem" class="newbuff tab tab0" data-i18n="permanent-abbrv">Perm</label>
                <input type="radio" class="newbuff tabinput tab3" name="attr_buffs_tab" value="song" data-i18n-title="song" data-i18n-aria-label="song" />
                <label role="menuitem" class="newbuff tab tab3" data-i18n="song">Song</label>
                <input type="radio" class="newbuff tabinput tab2" name="attr_buffs_tab" value="spell" data-i18n-title="spell" data-i18n-aria-label="spell" />
                <label role="menuitem" class="newbuff tab tab2" data-i18n="spell">Spell</label>
                <input type="radio" class="newbuff tabinput tab1" name="attr_buffs_tab" value="temporary" data-i18n-title="temporary" data-i18n-aria-label="temporary" />
                <label role="menuitem" class="newbuff tab tab1" data-i18n="temporary-abbrv">Temporary</label>
                <input type="radio" class="newbuff tabinput tab8" name="attr_buffs_tab" value="other" data-i18n-title="other" data-i18n-aria-label="other" />
                <label role="menuitem" class="newbuff tab tab8" data-i18n="other">Other</label>
                <input type="radio" class="newbuff tabinput tab99 narrow-tab" name="attr_buffs_tab" value="99" data-i18n-title="all" data-i18n-aria-label="all" checked />
                <label role="menuitem" class="newbuff tab tab99 narrow-tab" data-i18n="all">All</label>
                <span class="newbuff divider-db-lg"> </span>
                <input type="radio" class="newbuff tabinput tab10 wider-tab" name="attr_buffs_tab" value="10" data-i18n-title="enabled-buffs" data-i18n-aria-label="enabled-buffs" />
                <label role="menuitem" class="newbuff tab tab10 wider-tab" data-i18n="enabled-chkbox">Enable</label>
                <input type="radio" class="newbuff tabinput tab11 wider-tab" name="attr_buffs_tab" value="11" data-i18n-title="disabled-buffs" data-i18n-aria-label="disabled-buffs" />
                <label role="menuitem" class="newbuff tab tab11 wider-tab" data-i18n="disabled-only">Disabled</label>
                <div class="cheat"></div>
                <div class="sect-buff newbuff repeating-fields hiderepborder">
                    <fieldset class="repeating_buff2">
                        <div class="nontable-repeating">
                            <span class="error"><span class="pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
                            <input type="radio" name="attr_tabcat" value="-1" class="tabcopy custnavsection-new" checked role="presentation" />
                            <input type="radio" name="attr_tabcat" value="permanent" class="tabcopy custnavsection-0" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="temporary" class="tabcopy custnavsection-1" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="spell" class="tabcopy custnavsection-2" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="song" class="tabcopy custnavsection-3" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="class" class="tabcopy custnavsection-4" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="item" class="tabcopy custnavsection-5" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="aura" class="tabcopy custnavsection-6" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="hex" class="tabcopy custnavsection-7" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="other" class="tabcopy custnavsection-8" role="presentation" />
                            <input type="radio" name="attr_tabcat2" value="1" class="tabcopy custnavsection-10" role="presentation" />
                            <input type="radio" name="attr_tabcat2" value="0" class="tabcopy custnavsection-11" checked role="presentation" />
                            <div class="custrepeating-border nontable-repeating compendium-drop-target">
                                <h3 class="offscreen">Buff <span name="attr_name"></span></h3>
                                <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" data-i18n-aria-label="minimize-cmd" title="Minimize Row" name="attr_row-show" value="1" checked /><span></span>
                                <span class="small-label2" data-i18n-title="toggle-buff" data-i18n-aria-label="toggle-buff" title="When checked, this buff is active and will count towards the totals, which will then affect the rest of the sheet. Also, only the visible/selected buffs will count towards the totals.">
                                    <input type="checkbox" name="attr_enable_toggle" title="@{repeating_buff2_$X_enable_toggle}" value="1" />
                                    <span data-i18n="enabled-chkbox">Enable</span>
                                </span>
                                <label class="small-label2 entry-25p-shrink"><input type="text" name="attr_name" title="@{repeating_buff2_$X_name}" data-i18n-placeholder="name" /><span data-i18n="name">Name</span></label>
                                <label class="small-label2 sect">
                                    <select name="attr_bufftype" title="@{repeating_buff2_$X_bufftype">
                                        <option value="" data-i18n="not-applicable-abbrv-default">N/A</option>
                                        <option value="aura" data-i18n="aura">Aura</option>
                                        <option value="class" data-i18n="class">Class</option>
                                        <option value="hex" data-i18n="hex">Hex</option>
                                        <option value="item" data-i18n="item">Item</option>
                                        <option value="permanent" data-i18n="permanent-abbrv">Perm</option>
                                        <option value="song" data-i18n="song">Song</option>
                                        <option value="spell" data-i18n="spell">Spell</option>
                                        <option value="temporary" data-i18n="temporary-abbrv">Temp</option>
                                        <option value="other" data-i18n="other">Other</option>
                                    </select>
                                    <span data-i18n-title="buff-type-title" data-i18n="type">Type</span>
                                </label>
                                <label class="small-label2 sect entry-short">
                                    <select name="attr_add_note_to_roll" title="@{repeating_buff2_$X_add_note_to_roll}" class="select-small">
                                        <option value="" data-i18n="not-applicable-abbrv-default" selected>N/A</option>
                                        <option value="attack" data-i18n="attack">attack</option>
                                        <option value="defense" data-i18n="defenses">defense</option>
                                        <option value="save" data-i18n="save">save</option>
                                        <option value="init" data-i18n="initiative-abbrv">Init</option>
                                        <option value="skill" data-i18n="skill">Skill</option>
                                    </select>
                                    <span style="margin-left:-.75em;" data-i18n-title="add-note-to-roll-desc" data-i18n="add-note-to-roll">Add note to roll</span>
                                </label>
                                <input class="nextitem-show" type="checkbox" name="attr_b1-show" value="1" />
                                <div class="linked-fields nextitem">
                                    <label class="small-label2 entry-med">
                                        <select class="select-small" name="attr_b1_bonus" title="repeating_buff2_$X_b1_bonus">
                                            <option value="" data-i18n="select-one-default">select one</option>
                                            <option value="attack" class="option-header" data-i18n="attack">attack</option>
                                            <option value="melee" class="option-header" data-i18n="melee-attack">melee attack</option>
                                            <option value="ranged" class="option-header" data-i18n="ranged-attack">ranged attack</option>
                                            <option value="cmb" class="option-header" data-i18n="combat-maneuver-bonus-abbrv">cmb</option>
                                            <option value="crit_conf" class="option-header" data-i18n="critical-confirm">crit confirm</option>
                                            <option value="kineticblast" class="option-header" data-i18n="kinetic-blast">Kinetic Blast</option>
                                            <option value="melee2" class="option-header" data-i18n="melee2-attack">alt melee attack</option>
                                            <option value="ranged2" class="option-header" data-i18n="ranged2-attack">alt ranged attack</option>
                                            <option value="cmb2" class="option-header" data-i18n="combat-maneuver-bonus-abbrv2">alt cmb</option>
                                            <option value="dmg" data-i18n="damage">damage</option>
                                            <option value="dmg_melee" data-i18n="melee-damage">melee damage</option>
                                            <option value="dmg_ranged" data-i18n="ranged-damage">rng damage</option>
                                            <option value="dmg_kineticblast" data-i18n="kinetic-blast-damage-abbrv">Kinetic Blast</option>
                                            <option value="dmg_melee2" data-i18n="melee2-damage">melee damage</option>
                                            <option value="dmg_ranged2" data-i18n="ranged2-damage">rng damage</option>
                                            <option value="dmg_power_attack" data-i18n="power-attack-damage">Power Attack Dmg</option>
                                            <option value="ac" class="option-header" data-i18n="armor-class-abbrv">ac</option>
                                            <option value="armor" class="option-header" data-i18n="armor">armor</option>
                                            <option value="shield" class="option-header" data-i18n="shield">shield</option>
                                            <option value="natural" class="option-header" data-i18n="natural-armor">natural</option>
                                            <option value="touch" class="option-header" data-i18n="touch">touch</option>
                                            <option value="cmd" class="option-header" data-i18n="combat-maneuver-defense-abbrv">cmd</option>
                                            <option value="flatfooted" class="option-header" data-i18n="flat-footed">flatfooted</option>
                                            <option value="check" data-i18n="ability-skill-checks">ability &amp; skill checks</option>
                                            <option value="check_ability" data-i18n="ability-checks">ability checks</option>
                                            <option value="check_skills" data-i18n="skill-checks">skill checks</option>
                                            <option value="initiative" data-i18n="initiative-abbrv">init</option>
                                            <option value="casterlevel" data-i18n="caster-level">caster level</option>
                                            <option value="spelldc_0" data-i18n="spell-dc-0">spell dc class 0</option>
                                            <option value="spelldc_1" data-i18n="spell-dc-1">spell dc class 1</option>
                                            <option value="spelldc_2" data-i18n="spell-dc-2">spell dc class 2</option>
                                            <option value="size" class="option-header" data-i18n="size">size</option>
                                            <option value="speed" class="option-header" data-i18n="speed">speed</option>
                                            <option value="hptemp" class="option-header" data-i18n="temporary-hit-points-abbrv">hptemp</option>
                                            <option value="saves" data-i18n="all-saves">saves</option>
                                            <option value="fort" data-i18n="fortitude-abbrv">fort</option>
                                            <option value="will" data-i18n="willpower-abbrv">will</option>
                                            <option value="ref" data-i18n="reflex-abbrv">ref</option>
                                            <option value="str" class="option-header" data-i18n="strength">str</option>
                                            <option value="dex" class="option-header" data-i18n="dexterity">dex</option>
                                            <option value="con" class="option-header" data-i18n="constitution">con</option>
                                            <option value="int" class="option-header" data-i18n="intelligence">int</option>
                                            <option value="wis" class="option-header" data-i18n="wisdom">wis</option>
                                            <option value="cha" class="option-header" data-i18n="charisma">cha</option>
                                            <option value="str_skills" data-i18n="strength-skills-abbrv">str_skills</option>
                                            <option value="dex_skills" data-i18n="dexterity-skills-abbrv">dex_skills</option>
                                            <option value="con_skills" data-i18n="constitution-skills-abbrv">con_skills</option>
                                            <option value="int_skills" data-i18n="intelligence-skills-abbrv">int_skills</option>
                                            <option value="wis_skills" data-i18n="wisdom-skills-abbrv">wis_skills</option>
                                            <option value="cha_skills" data-i18n="charisma-skills-abbrv">cha_skills</option>
                                            <option value="customa1" class="option-header">customa1</option>
                                            <option value="customa2" class="option-header">customa2</option>
                                            <option value="customa3" class="option-header">customa3</option>
                                            <option value="customa10" class="option-header">customa10</option>
                                            <option value="customa11" class="option-header">customa11</option>
                                            <option value="customa12" class="option-header">customa12</option>
                                            <option value="customa4">customa4|max</option>
                                            <option value="customa5">customa5|max</option>
                                            <option value="customa6">customa6|max</option>
                                            <option value="customa7">customa7|max</option>
                                            <option value="customa8">customa8|max</option>
                                            <option value="customa9">customa9|max</option>
                                        </select>
                                        <span data-i18n-title="bonus-or-penalty" data-i18n="bonus">Bonus</span>
                                    </label>
                                    <input type="checkbox" name="attr_b1_hide" class="nextitem2-hide noshow" value="1" />
                                    <label class="small-label2 sect nextitem2 entry-med">
                                        <select class="select-small" name="attr_b1_bonustype" title="repeating_buff2_$X_b1_bonustype">
                                            <option value="untyped" data-i18n="untyped-default" selected>&#8226;Untyped</option>
                                            <option value="alchemical" data-i18n="alchemical">Alchemical</option>
                                            <option value="circumstance" data-i18n="circumstance">Circumstance</option>
                                            <option value="competence" data-i18n="competence">Competence</option>
                                            <option value="deflection" data-i18n="deflection">Deflection</option>
                                            <option value="dodge" data-i18n="dodge">Dodge</option>
                                            <option value="enhancement" data-i18n="enhancement">Enhancement</option>
                                            <option value="inherent" data-i18n="inherent">Inherent</option>
                                            <option value="insight" data-i18n="insight">Insight</option>
                                            <option value="luck" data-i18n="luck">Luck</option>
                                            <option value="morale" data-i18n="morale">Morale</option>
                                            <option value="profane" data-i18n="profane">Profane</option>
                                            <option value="racial" data-i18n="racial-bonus">Racial</option>
                                            <option value="resistance" data-i18n="resistance">Resistance</option>
                                            <option value="sacred" data-i18n="sacred">Sacred</option>
                                            <option value="size" data-i18n="size">Size</option>
                                            <option value="trait" data-i18n="trait">Trait</option>
                                        </select>
                                        <span data-i18n-title="bonus-type-title" data-i18n="bonus-type">Bonus Type</span>
                                    </label>
                                    <input type="checkbox" name="attr_b1_val_error" class="error-mshow" value="1" />
                                    <label class="small-label2 entry-med sect highlight"><input class="macro-text-inline" type="text" name="attr_b1_macro-text" title="@{repeating_buff2_$X_b1_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="buff-calculation">b1 calc</span></label>
                                    <label class="small-label2 number highlight"><input type="number" name="attr_b1_val" title="@{repeating_buff2_$X_b1_val}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="buff">b1</span></label>
                                </div>

                                <input class="nextitem-show" type="checkbox" name="attr_b2-show" value="1" />
                                <div class="linked-fields nextitem">
                                    <label class="small-label2 entry-med">
                                        <select class="select-small" name="attr_b2_bonus" title="repeating_buff2_$X_b2_bonus">
                                            <option value="" data-i18n="select-one-default">select one</option>
                                            <option value="attack" class="option-header" data-i18n="attack">attack</option>
                                            <option value="melee" class="option-header" data-i18n="melee-attack">melee attack</option>
                                            <option value="ranged" class="option-header" data-i18n="ranged-attack">ranged attack</option>
                                            <option value="cmb" class="option-header" data-i18n="combat-maneuver-bonus-abbrv">cmb</option>
                                            <option value="crit_conf" class="option-header" data-i18n="critical-confirm">crit confirm</option>
                                            <option value="kineticblast" class="option-header" data-i18n="kinetic-blast">Kinetic Blast</option>
                                            <option value="melee2" class="option-header" data-i18n="melee2-attack">alt melee attack</option>
                                            <option value="ranged2" class="option-header" data-i18n="ranged2-attack">alt ranged attack</option>
                                            <option value="cmb2" class="option-header" data-i18n="combat-maneuver-bonus-abbrv2">alt cmb</option>
                                            <option value="dmg" data-i18n="damage">damage</option>
                                            <option value="dmg_melee" data-i18n="melee-damage">melee damage</option>
                                            <option value="dmg_ranged" data-i18n="ranged-damage">rng damage</option>
                                            <option value="dmg_kineticblast" data-i18n="kinetic-blast-damage-abbrv">Kinetic Blast</option>
                                            <option value="dmg_melee2" data-i18n="melee2-damage">melee damage</option>
                                            <option value="dmg_ranged2" data-i18n="ranged2-damage">rng damage</option>
                                            <option value="dmg_power_attack" data-i18n="power-attack-damage">Power Attack Dmg</option>
                                            <option value="ac" class="option-header" data-i18n="armor-class-abbrv">ac</option>
                                            <option value="armor" class="option-header" data-i18n="armor">armor</option>
                                            <option value="shield" class="option-header" data-i18n="shield">shield</option>
                                            <option value="natural" class="option-header" data-i18n="natural-armor">natural</option>
                                            <option value="touch" class="option-header" data-i18n="touch">touch</option>
                                            <option value="cmd" class="option-header" data-i18n="combat-maneuver-defense-abbrv">cmd</option>
                                            <option value="flatfooted" class="option-header" data-i18n="flat-footed">flatfooted</option>
                                            <option value="check" data-i18n="ability-skill-checks">ability &amp; skill checks</option>
                                            <option value="check_ability" data-i18n="ability-checks">ability checks</option>
                                            <option value="check_skills" data-i18n="skill-checks">skill checks</option>
                                            <option value="initiative" data-i18n="initiative-abbrv">init</option>
                                            <option value="casterlevel" data-i18n="caster-level">caster level</option>
                                            <option value="spelldc_0" data-i18n="spell-dc-0">spell dc class 0</option>
                                            <option value="spelldc_1" data-i18n="spell-dc-1">spell dc class 1</option>
                                            <option value="spelldc_2" data-i18n="spell-dc-2">spell dc class 2</option>
                                            <option value="size" class="option-header" data-i18n="size">size</option>
                                            <option value="speed" class="option-header" data-i18n="speed">speed</option>
                                            <option value="hptemp" class="option-header" data-i18n="temporary-hit-points-abbrv">hptemp</option>
                                            <option value="saves" data-i18n="all-saves">saves</option>
                                            <option value="fort" data-i18n="fortitude-abbrv">fort</option>
                                            <option value="will" data-i18n="willpower-abbrv">will</option>
                                            <option value="ref" data-i18n="reflex-abbrv">ref</option>
                                            <option value="str" class="option-header" data-i18n="strength">str</option>
                                            <option value="dex" class="option-header" data-i18n="dexterity">dex</option>
                                            <option value="con" class="option-header" data-i18n="constitution">con</option>
                                            <option value="int" class="option-header" data-i18n="intelligence">int</option>
                                            <option value="wis" class="option-header" data-i18n="wisdom">wis</option>
                                            <option value="cha" class="option-header" data-i18n="charisma">cha</option>
                                            <option value="str_skills" data-i18n="strength-skills-abbrv">str_skills</option>
                                            <option value="dex_skills" data-i18n="dexterity-skills-abbrv">dex_skills</option>
                                            <option value="con_skills" data-i18n="constitution-skills-abbrv">con_skills</option>
                                            <option value="int_skills" data-i18n="intelligence-skills-abbrv">int_skills</option>
                                            <option value="wis_skills" data-i18n="wisdom-skills-abbrv">wis_skills</option>
                                            <option value="cha_skills" data-i18n="charisma-skills-abbrv">cha_skills</option>
                                            <option value="customa1" class="option-header">customa1</option>
                                            <option value="customa2" class="option-header">customa2</option>
                                            <option value="customa3" class="option-header">customa3</option>
                                            <option value="customa10" class="option-header">customa10</option>
                                            <option value="customa11" class="option-header">customa11</option>
                                            <option value="customa12" class="option-header">customa12</option>
                                            <option value="customa4">customa4|max</option>
                                            <option value="customa5">customa5|max</option>
                                            <option value="customa6">customa6|max</option>
                                            <option value="customa7">customa7|max</option>
                                            <option value="customa8">customa8|max</option>
                                            <option value="customa9">customa9|max</option>
                                        </select>
                                        <span data-i18n-title="bonus-or-penalty" data-i18n="bonus">Bonus</span>
                                    </label>
                                    <input type="checkbox" name="attr_b2_hide" class="nextitem2-hide noshow" value="1" />
                                    <label class="small-label2 sect nextitem2 entry-med">
                                        <select class="select-small" name="attr_b2_bonustype" title="repeating_buff2_$X_b2_bonustype">
                                            <option value="untyped" data-i18n="untyped-default" selected>&#8226;Untyped</option>
                                            <option value="alchemical" data-i18n="alchemical">Alchemical</option>
                                            <option value="circumstance" data-i18n="circumstance">Circumstance</option>
                                            <option value="competence" data-i18n="competence">Competence</option>
                                            <option value="deflection" data-i18n="deflection">Deflection</option>
                                            <option value="dodge" data-i18n="dodge">Dodge</option>
                                            <option value="enhancement" data-i18n="enhancement">Enhancement</option>
                                            <option value="inherent" data-i18n="inherent">Inherent</option>
                                            <option value="insight" data-i18n="insight">Insight</option>
                                            <option value="luck" data-i18n="luck">Luck</option>
                                            <option value="morale" data-i18n="morale">Morale</option>
                                            <option value="profane" data-i18n="profane">Profane</option>
                                            <option value="racial" data-i18n="racial-bonus">Racial</option>
                                            <option value="resistance" data-i18n="resistance">Resistance</option>
                                            <option value="sacred" data-i18n="sacred">Sacred</option>
                                            <option value="size" data-i18n="size">Size</option>
                                            <option value="trait" data-i18n="trait">Trait</option>
                                        </select>
                                        <span data-i18n-title="bonus-type-title" data-i18n="bonus-type">Bonus Type</span>
                                    </label>
                                    <input type="checkbox" name="attr_b2_val_error" class="error-mshow" value="1" />
                                    <label class="small-label2 sect entry-med highlight"><input class="macro-text-inline float-right" type="text" name="attr_b2_macro-text" title="@{repeating_buff2_$X_b2_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="buff-calculation">b2 calc</span></label>
                                    <label class="small-label2 number highlight"><input type="number" name="attr_b2_val" title="@{repeating_buff2_$X_b2_val}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="buff">b2</span></label>
                                </div>

                                <input class="nextitem-show" type="checkbox" name="attr_b3-show" value="1" />
                                <div class="linked-fields nextitem">
                                    <label class="small-label2 entry-med">
                                        <select class="select-small" name="attr_b3_bonus" title="repeating_buff2_$X_b3_bonus">
                                            <option value="" data-i18n="select-one-default">select one</option>
                                            <option value="attack" class="option-header" data-i18n="attack">attack</option>
                                            <option value="melee" class="option-header" data-i18n="melee-attack">melee attack</option>
                                            <option value="ranged" class="option-header" data-i18n="ranged-attack">ranged attack</option>
                                            <option value="cmb" class="option-header" data-i18n="combat-maneuver-bonus-abbrv">cmb</option>
                                            <option value="crit_conf" class="option-header" data-i18n="critical-confirm">crit confirm</option>
                                            <option value="kineticblast" class="option-header" data-i18n="kinetic-blast">Kinetic Blast</option>
                                            <option value="melee2" class="option-header" data-i18n="melee2-attack">alt melee attack</option>
                                            <option value="ranged2" class="option-header" data-i18n="ranged2-attack">alt ranged attack</option>
                                            <option value="cmb2" class="option-header" data-i18n="combat-maneuver-bonus-abbrv2">alt cmb</option>
                                            <option value="dmg" data-i18n="damage">damage</option>
                                            <option value="dmg_melee" data-i18n="melee-damage">melee damage</option>
                                            <option value="dmg_ranged" data-i18n="ranged-damage">rng damage</option>
                                            <option value="dmg_kineticblast" data-i18n="kinetic-blast-damage-abbrv">Kinetic Blast</option>
                                            <option value="dmg_melee2" data-i18n="melee2-damage">melee damage</option>
                                            <option value="dmg_ranged2" data-i18n="ranged2-damage">rng damage</option>
                                            <option value="dmg_power_attack" data-i18n="power-attack-damage">Power Attack Dmg</option>
                                            <option value="ac" class="option-header" data-i18n="armor-class-abbrv">ac</option>
                                            <option value="armor" class="option-header" data-i18n="armor">armor</option>
                                            <option value="shield" class="option-header" data-i18n="shield">shield</option>
                                            <option value="natural" class="option-header" data-i18n="natural-armor">natural</option>
                                            <option value="touch" class="option-header" data-i18n="touch">touch</option>
                                            <option value="cmd" class="option-header" data-i18n="combat-maneuver-defense-abbrv">cmd</option>
                                            <option value="flatfooted" class="option-header" data-i18n="flat-footed">flatfooted</option>
                                            <option value="check" data-i18n="ability-skill-checks">ability &amp; skill checks</option>
                                            <option value="check_ability" data-i18n="ability-checks">ability checks</option>
                                            <option value="check_skills" data-i18n="skill-checks">skill checks</option>
                                            <option value="initiative" data-i18n="initiative-abbrv">init</option>
                                            <option value="casterlevel" data-i18n="caster-level">caster level</option>
                                            <option value="spelldc_0" data-i18n="spell-dc-0">spell dc class 0</option>
                                            <option value="spelldc_1" data-i18n="spell-dc-1">spell dc class 1</option>
                                            <option value="spelldc_2" data-i18n="spell-dc-2">spell dc class 2</option>
                                            <option value="size" class="option-header" data-i18n="size">size</option>
                                            <option value="speed" class="option-header" data-i18n="speed">speed</option>
                                            <option value="hptemp" class="option-header" data-i18n="temporary-hit-points-abbrv">hptemp</option>
                                            <option value="saves" data-i18n="all-saves">saves</option>
                                            <option value="fort" data-i18n="fortitude-abbrv">fort</option>
                                            <option value="will" data-i18n="willpower-abbrv">will</option>
                                            <option value="ref" data-i18n="reflex-abbrv">ref</option>
                                            <option value="str" class="option-header" data-i18n="strength">str</option>
                                            <option value="dex" class="option-header" data-i18n="dexterity">dex</option>
                                            <option value="con" class="option-header" data-i18n="constitution">con</option>
                                            <option value="int" class="option-header" data-i18n="intelligence">int</option>
                                            <option value="wis" class="option-header" data-i18n="wisdom">wis</option>
                                            <option value="cha" class="option-header" data-i18n="charisma">cha</option>
                                            <option value="str_skills" data-i18n="strength-skills-abbrv">str_skills</option>
                                            <option value="dex_skills" data-i18n="dexterity-skills-abbrv">dex_skills</option>
                                            <option value="con_skills" data-i18n="constitution-skills-abbrv">con_skills</option>
                                            <option value="int_skills" data-i18n="intelligence-skills-abbrv">int_skills</option>
                                            <option value="wis_skills" data-i18n="wisdom-skills-abbrv">wis_skills</option>
                                            <option value="cha_skills" data-i18n="charisma-skills-abbrv">cha_skills</option>
                                            <option value="customa1" class="option-header">customa1</option>
                                            <option value="customa2" class="option-header">customa2</option>
                                            <option value="customa3" class="option-header">customa3</option>
                                            <option value="customa10" class="option-header">customa10</option>
                                            <option value="customa11" class="option-header">customa11</option>
                                            <option value="customa12" class="option-header">customa12</option>
                                            <option value="customa4">customa4|max</option>
                                            <option value="customa5">customa5|max</option>
                                            <option value="customa6">customa6|max</option>
                                            <option value="customa7">customa7|max</option>
                                            <option value="customa8">customa8|max</option>
                                            <option value="customa9">customa9|max</option>
                                        </select>
                                        <span data-i18n-title="bonus-or-penalty" data-i18n="bonus">Bonus</span>
                                    </label>
                                    <input type="checkbox" name="attr_b3_hide" class="nextitem2-hide noshow" value="1" />
                                    <label class="small-label2 sect nextitem2 entry-med">
                                        <select class="select-small" name="attr_b3_bonustype" title="repeating_buff2_$X_b3_bonustype">
                                            <option value="untyped" data-i18n="untyped-default" selected>&#8226;Untyped</option>
                                            <option value="alchemical" data-i18n="alchemical">Alchemical</option>
                                            <option value="circumstance" data-i18n="circumstance">Circumstance</option>
                                            <option value="competence" data-i18n="competence">Competence</option>
                                            <option value="deflection" data-i18n="deflection">Deflection</option>
                                            <option value="dodge" data-i18n="dodge">Dodge</option>
                                            <option value="enhancement" data-i18n="enhancement">Enhancement</option>
                                            <option value="inherent" data-i18n="inherent">Inherent</option>
                                            <option value="insight" data-i18n="insight">Insight</option>
                                            <option value="luck" data-i18n="luck">Luck</option>
                                            <option value="morale" data-i18n="morale">Morale</option>
                                            <option value="profane" data-i18n="profane">Profane</option>
                                            <option value="racial" data-i18n="racial-bonus">Racial</option>
                                            <option value="resistance" data-i18n="resistance">Resistance</option>
                                            <option value="sacred" data-i18n="sacred">Sacred</option>
                                            <option value="size" data-i18n="size">Size</option>
                                            <option value="trait" data-i18n="trait">Trait</option>
                                        </select>
                                        <span data-i18n-title="bonus-type-title" data-i18n="bonus-type">Bonus Type</span>
                                    </label>
                                    <input type="checkbox" name="attr_b3_val_error" class="error-mshow" value="1" />
                                    <label class="small-label2 sect entry-med highlight"><input class="macro-text-inline" type="text" name="attr_b3_macro-text" title="@{repeating_buff2_$X_b3_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="buff-calculation">b3 calc</span></label>
                                    <label class="small-label2 number highlight"><input type="number" name="attr_b3_val" title="@{repeating_buff2_$X_b3_val}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="buff">b3</span></label>
                                </div>

                                <input class="nextitem-show" type="checkbox" name="attr_b4-show" value="1" />
                                <div class="linked-fields nextitem">
                                    <label class="small-label2 entry-med">
                                        <select class="select-small" name="attr_b4_bonus" title="repeating_buff2_$X_b4_bonus">
                                            <option value="" data-i18n="select-one-default">select one</option>
                                            <option value="attack" class="option-header" data-i18n="attack">attack</option>
                                            <option value="melee" class="option-header" data-i18n="melee-attack">melee attack</option>
                                            <option value="ranged" class="option-header" data-i18n="ranged-attack">ranged attack</option>
                                            <option value="cmb" class="option-header" data-i18n="combat-maneuver-bonus-abbrv">cmb</option>
                                            <option value="crit_conf" class="option-header" data-i18n="critical-confirm">crit confirm</option>
                                            <option value="kineticblast" class="option-header" data-i18n="kinetic-blast">Kinetic Blast</option>
                                            <option value="melee2" class="option-header" data-i18n="melee2-attack">alt melee attack</option>
                                            <option value="ranged2" class="option-header" data-i18n="ranged2-attack">alt ranged attack</option>
                                            <option value="cmb2" class="option-header" data-i18n="combat-maneuver-bonus-abbrv2">alt cmb</option>
                                            <option value="dmg" data-i18n="damage">damage</option>
                                            <option value="dmg_melee" data-i18n="melee-damage">melee damage</option>
                                            <option value="dmg_ranged" data-i18n="ranged-damage">rng damage</option>
                                            <option value="dmg_kineticblast" data-i18n="kinetic-blast-damage-abbrv">Kinetic Blast</option>
                                            <option value="dmg_melee2" data-i18n="melee2-damage">melee damage</option>
                                            <option value="dmg_ranged2" data-i18n="ranged2-damage">rng damage</option>
                                            <option value="dmg_power_attack" data-i18n="power-attack-damage">Power Attack Dmg</option>
                                            <option value="ac" class="option-header" data-i18n="armor-class-abbrv">ac</option>
                                            <option value="armor" class="option-header" data-i18n="armor">armor</option>
                                            <option value="shield" class="option-header" data-i18n="shield">shield</option>
                                            <option value="natural" class="option-header" data-i18n="natural-armor">natural</option>
                                            <option value="touch" class="option-header" data-i18n="touch">touch</option>
                                            <option value="cmd" class="option-header" data-i18n="combat-maneuver-defense-abbrv">cmd</option>
                                            <option value="flatfooted" class="option-header" data-i18n="flat-footed">flatfooted</option>
                                            <option value="check" data-i18n="ability-skill-checks">ability &amp; skill checks</option>
                                            <option value="check_ability" data-i18n="ability-checks">ability checks</option>
                                            <option value="check_skills" data-i18n="skill-checks">skill checks</option>
                                            <option value="initiative" data-i18n="initiative-abbrv">init</option>
                                            <option value="casterlevel" data-i18n="caster-level">caster level</option>
                                            <option value="spelldc_0" data-i18n="spell-dc-0">spell dc class 0</option>
                                            <option value="spelldc_1" data-i18n="spell-dc-1">spell dc class 1</option>
                                            <option value="spelldc_2" data-i18n="spell-dc-2">spell dc class 2</option>
                                            <option value="size" class="option-header" data-i18n="size">size</option>
                                            <option value="speed" class="option-header" data-i18n="speed">speed</option>
                                            <option value="hptemp" class="option-header" data-i18n="temporary-hit-points-abbrv">hptemp</option>
                                            <option value="saves" data-i18n="all-saves">saves</option>
                                            <option value="fort" data-i18n="fortitude-abbrv">fort</option>
                                            <option value="will" data-i18n="willpower-abbrv">will</option>
                                            <option value="ref" data-i18n="reflex-abbrv">ref</option>
                                            <option value="str" class="option-header" data-i18n="strength">str</option>
                                            <option value="dex" class="option-header" data-i18n="dexterity">dex</option>
                                            <option value="con" class="option-header" data-i18n="constitution">con</option>
                                            <option value="int" class="option-header" data-i18n="intelligence">int</option>
                                            <option value="wis" class="option-header" data-i18n="wisdom">wis</option>
                                            <option value="cha" class="option-header" data-i18n="charisma">cha</option>
                                            <option value="str_skills" data-i18n="strength-skills-abbrv">str_skills</option>
                                            <option value="dex_skills" data-i18n="dexterity-skills-abbrv">dex_skills</option>
                                            <option value="con_skills" data-i18n="constitution-skills-abbrv">con_skills</option>
                                            <option value="int_skills" data-i18n="intelligence-skills-abbrv">int_skills</option>
                                            <option value="wis_skills" data-i18n="wisdom-skills-abbrv">wis_skills</option>
                                            <option value="cha_skills" data-i18n="charisma-skills-abbrv">cha_skills</option>
                                            <option value="customa1" class="option-header">customa1</option>
                                            <option value="customa2" class="option-header">customa2</option>
                                            <option value="customa3" class="option-header">customa3</option>
                                            <option value="customa10" class="option-header">customa10</option>
                                            <option value="customa11" class="option-header">customa11</option>
                                            <option value="customa12" class="option-header">customa12</option>
                                            <option value="customa4">customa4|max</option>
                                            <option value="customa5">customa5|max</option>
                                            <option value="customa6">customa6|max</option>
                                            <option value="customa7">customa7|max</option>
                                            <option value="customa8">customa8|max</option>
                                            <option value="customa9">customa9|max</option>
                                        </select>
                                        <span data-i18n-title="bonus-or-penalty" data-i18n="bonus">Bonus</span>
                                    </label>
                                    <input type="checkbox" name="attr_b4_hide" class="nextitem2-hide noshow" value="1" />
                                    <label class="small-label2 sect nextitem2 entry-med">
                                        <select class="select-small" name="attr_b4_bonustype" title="repeating_buff2_$X_b4_bonustype">
                                            <option value="untyped" data-i18n="untyped-default" selected>&#8226;Untyped</option>
                                            <option value="alchemical" data-i18n="alchemical">Alchemical</option>
                                            <option value="circumstance" data-i18n="circumstance">Circumstance</option>
                                            <option value="competence" data-i18n="competence">Competence</option>
                                            <option value="deflection" data-i18n="deflection">Deflection</option>
                                            <option value="dodge" data-i18n="dodge">Dodge</option>
                                            <option value="enhancement" data-i18n="enhancement">Enhancement</option>
                                            <option value="inherent" data-i18n="inherent">Inherent</option>
                                            <option value="insight" data-i18n="insight">Insight</option>
                                            <option value="luck" data-i18n="luck">Luck</option>
                                            <option value="morale" data-i18n="morale">Morale</option>
                                            <option value="profane" data-i18n="profane">Profane</option>
                                            <option value="racial" data-i18n="racial-bonus">Racial</option>
                                            <option value="resistance" data-i18n="resistance">Resistance</option>
                                            <option value="sacred" data-i18n="sacred">Sacred</option>
                                            <option value="size" data-i18n="size">Size</option>
                                            <option value="trait" data-i18n="trait">Trait</option>
                                        </select>
                                        <span data-i18n-title="bonus-type-title" data-i18n="bonus-type">Bonus Type</span>
                                    </label>
                                    <input type="checkbox" name="attr_b4_val_error" class="error-mshow" value="1" />
                                    <label class="small-label2 sect entry-med highlight"><input class="macro-text-inline float-right" type="text" name="attr_b4_macro-text" title="@{repeating_buff2_$X_b4_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="buff-calculation">b4 calc</span></label>
                                    <label class="small-label2 number highlight"><input type="number" name="attr_b4_val" title="@{repeating_buff2_$X_b4_val}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="buff">b4</span></label>
                                </div>

                                <input class="nextitem-show" type="checkbox" name="attr_b5-show" value="1" />
                                <div class="linked-fields nextitem">
                                    <label class="small-label2 entry-med">
                                        <select class="select-small" name="attr_b5_bonus" title="repeating_buff2_$X_b5_bonus">
                                            <option value="" data-i18n="select-one-default">select one</option>
                                            <option value="attack" class="option-header" data-i18n="attack">attack</option>
                                            <option value="melee" class="option-header" data-i18n="melee-attack">melee attack</option>
                                            <option value="ranged" class="option-header" data-i18n="ranged-attack">ranged attack</option>
                                            <option value="cmb" class="option-header" data-i18n="combat-maneuver-bonus-abbrv">cmb</option>
                                            <option value="crit_conf" class="option-header" data-i18n="critical-confirm">crit confirm</option>
                                            <option value="kineticblast" class="option-header" data-i18n="kinetic-blast">Kinetic Blast</option>
                                            <option value="melee2" class="option-header" data-i18n="melee2-attack">alt melee attack</option>
                                            <option value="ranged2" class="option-header" data-i18n="ranged2-attack">alt ranged attack</option>
                                            <option value="cmb2" class="option-header" data-i18n="combat-maneuver-bonus-abbrv2">alt cmb</option>
                                            <option value="dmg" data-i18n="damage">damage</option>
                                            <option value="dmg_melee" data-i18n="melee-damage">melee damage</option>
                                            <option value="dmg_ranged" data-i18n="ranged-damage">rng damage</option>
                                            <option value="dmg_kineticblast" data-i18n="kinetic-blast-damage-abbrv">Kinetic Blast</option>
                                            <option value="dmg_melee2" data-i18n="melee2-damage">melee damage</option>
                                            <option value="dmg_ranged2" data-i18n="ranged2-damage">rng damage</option>
                                            <option value="dmg_power_attack" data-i18n="power-attack-damage">Power Attack Dmg</option>
                                            <option value="ac" class="option-header" data-i18n="armor-class-abbrv">ac</option>
                                            <option value="armor" class="option-header" data-i18n="armor">armor</option>
                                            <option value="shield" class="option-header" data-i18n="shield">shield</option>
                                            <option value="natural" class="option-header" data-i18n="natural-armor">natural</option>
                                            <option value="touch" class="option-header" data-i18n="touch">touch</option>
                                            <option value="cmd" class="option-header" data-i18n="combat-maneuver-defense-abbrv">cmd</option>
                                            <option value="flatfooted" class="option-header" data-i18n="flat-footed">flatfooted</option>
                                            <option value="check" data-i18n="ability-skill-checks">ability &amp; skill checks</option>
                                            <option value="check_ability" data-i18n="ability-checks">ability checks</option>
                                            <option value="check_skills" data-i18n="skill-checks">skill checks</option>
                                            <option value="initiative" data-i18n="initiative-abbrv">init</option>
                                            <option value="casterlevel" data-i18n="caster-level">caster level</option>
                                            <option value="spelldc_0" data-i18n="spell-dc-0">spell dc class 0</option>
                                            <option value="spelldc_1" data-i18n="spell-dc-1">spell dc class 1</option>
                                            <option value="spelldc_2" data-i18n="spell-dc-2">spell dc class 2</option>
                                            <option value="size" class="option-header" data-i18n="size">size</option>
                                            <option value="speed" class="option-header" data-i18n="speed">speed</option>
                                            <option value="hptemp" class="option-header" data-i18n="temporary-hit-points-abbrv">hptemp</option>
                                            <option value="saves" data-i18n="all-saves">saves</option>
                                            <option value="fort" data-i18n="fortitude-abbrv">fort</option>
                                            <option value="will" data-i18n="willpower-abbrv">will</option>
                                            <option value="ref" data-i18n="reflex-abbrv">ref</option>
                                            <option value="str" class="option-header" data-i18n="strength">str</option>
                                            <option value="dex" class="option-header" data-i18n="dexterity">dex</option>
                                            <option value="con" class="option-header" data-i18n="constitution">con</option>
                                            <option value="int" class="option-header" data-i18n="intelligence">int</option>
                                            <option value="wis" class="option-header" data-i18n="wisdom">wis</option>
                                            <option value="cha" class="option-header" data-i18n="charisma">cha</option>
                                            <option value="str_skills" data-i18n="strength-skills-abbrv">str_skills</option>
                                            <option value="dex_skills" data-i18n="dexterity-skills-abbrv">dex_skills</option>
                                            <option value="con_skills" data-i18n="constitution-skills-abbrv">con_skills</option>
                                            <option value="int_skills" data-i18n="intelligence-skills-abbrv">int_skills</option>
                                            <option value="wis_skills" data-i18n="wisdom-skills-abbrv">wis_skills</option>
                                            <option value="cha_skills" data-i18n="charisma-skills-abbrv">cha_skills</option>
                                            <option value="customa1" class="option-header">customa1</option>
                                            <option value="customa2" class="option-header">customa2</option>
                                            <option value="customa3" class="option-header">customa3</option>
                                            <option value="customa10" class="option-header">customa10</option>
                                            <option value="customa11" class="option-header">customa11</option>
                                            <option value="customa12" class="option-header">customa12</option>
                                            <option value="customa4">customa4|max</option>
                                            <option value="customa5">customa5|max</option>
                                            <option value="customa6">customa6|max</option>
                                            <option value="customa7">customa7|max</option>
                                            <option value="customa8">customa8|max</option>
                                            <option value="customa9">customa9|max</option>
                                        </select>
                                        <span data-i18n-title="bonus-or-penalty" data-i18n="bonus">Bonus</span>
                                    </label>
                                    <input type="checkbox" name="attr_b5_hide" class="nextitem2-hide noshow" value="1" />
                                    <label class="small-label2 sect nextitem2 entry-med">
                                        <select class="select-small" name="attr_b5_bonustype" title="repeating_buff2_$X_b5_bonustype">
                                            <option value="untyped" data-i18n="untyped-default" selected>&#8226;Untyped</option>
                                            <option value="alchemical" data-i18n="alchemical">Alchemical</option>
                                            <option value="circumstance" data-i18n="circumstance">Circumstance</option>
                                            <option value="competence" data-i18n="competence">Competence</option>
                                            <option value="deflection" data-i18n="deflection">Deflection</option>
                                            <option value="dodge" data-i18n="dodge">Dodge</option>
                                            <option value="enhancement" data-i18n="enhancement">Enhancement</option>
                                            <option value="inherent" data-i18n="inherent">Inherent</option>
                                            <option value="insight" data-i18n="insight">Insight</option>
                                            <option value="luck" data-i18n="luck">Luck</option>
                                            <option value="morale" data-i18n="morale">Morale</option>
                                            <option value="profane" data-i18n="profane">Profane</option>
                                            <option value="racial" data-i18n="racial-bonus">Racial</option>
                                            <option value="resistance" data-i18n="resistance">Resistance</option>
                                            <option value="sacred" data-i18n="sacred">Sacred</option>
                                            <option value="size" data-i18n="size">Size</option>
                                            <option value="trait" data-i18n="trait">Trait</option>
                                        </select>
                                        <span data-i18n-title="bonus-type-title" data-i18n="bonus-type">Bonus Type</span>
                                    </label>
                                    <input type="checkbox" name="attr_b5_val_error" class="error-mshow" value="1" />
                                    <label class="small-label2 sect entry-med highlight"><input class="macro-text-inline" type="text" name="attr_b5_macro-text" title="@{repeating_buff2_$X_b5_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="buff-calculation">b5 calc</span></label>
                                    <label class="small-label2 number highlight"><input type="number" name="attr_b5_val" title="@{repeating_buff2_$X_b5_val}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="buff">b5</span></label>
                                </div>
                                <input class="nextitem-show" type="checkbox" name="attr_b6-show" value="1" />
                                <div class="linked-fields nextitem">
                                    <label class="small-label2 entry-med">
                                        <select class="select-small" name="attr_b6_bonus" title="repeating_buff2_$X_b6_bonus">
                                            <option value="" data-i18n="select-one-default">select one</option>
                                            <option value="attack" class="option-header" data-i18n="attack">attack</option>
                                            <option value="melee" class="option-header" data-i18n="melee-attack">melee attack</option>
                                            <option value="ranged" class="option-header" data-i18n="ranged-attack">ranged attack</option>
                                            <option value="cmb" class="option-header" data-i18n="combat-maneuver-bonus-abbrv">cmb</option>
                                            <option value="crit_conf" class="option-header" data-i18n="critical-confirm">crit confirm</option>
                                            <option value="kineticblast" class="option-header" data-i18n="kinetic-blast">Kinetic Blast</option>
                                            <option value="melee2" class="option-header" data-i18n="melee2-attack">alt melee attack</option>
                                            <option value="ranged2" class="option-header" data-i18n="ranged2-attack">alt ranged attack</option>
                                            <option value="cmb2" class="option-header" data-i18n="combat-maneuver-bonus-abbrv2">alt cmb</option>
                                            <option value="dmg" data-i18n="damage">damage</option>
                                            <option value="dmg_melee" data-i18n="melee-damage">melee damage</option>
                                            <option value="dmg_ranged" data-i18n="ranged-damage">rng damage</option>
                                            <option value="dmg_kineticblast" data-i18n="kinetic-blast-damage-abbrv">Kinetic Blast</option>
                                            <option value="dmg_melee2" data-i18n="melee2-damage">melee damage</option>
                                            <option value="dmg_ranged2" data-i18n="ranged2-damage">rng damage</option>
                                            <option value="dmg_power_attack" data-i18n="power-attack-damage">Power Attack Dmg</option>
                                            <option value="ac" class="option-header" data-i18n="armor-class-abbrv">ac</option>
                                            <option value="armor" class="option-header" data-i18n="armor">armor</option>
                                            <option value="shield" class="option-header" data-i18n="shield">shield</option>
                                            <option value="natural" class="option-header" data-i18n="natural-armor">natural</option>
                                            <option value="touch" class="option-header" data-i18n="touch">touch</option>
                                            <option value="cmd" class="option-header" data-i18n="combat-maneuver-defense-abbrv">cmd</option>
                                            <option value="flatfooted" class="option-header" data-i18n="flat-footed">flatfooted</option>
                                            <option value="check" data-i18n="ability-skill-checks">ability &amp; skill checks</option>
                                            <option value="check_ability" data-i18n="ability-checks">ability checks</option>
                                            <option value="check_skills" data-i18n="skill-checks">skill checks</option>
                                            <option value="initiative" data-i18n="initiative-abbrv">init</option>
                                            <option value="casterlevel" data-i18n="caster-level">caster level</option>
                                            <option value="spelldc_0" data-i18n="spell-dc-0">spell dc class 0</option>
                                            <option value="spelldc_1" data-i18n="spell-dc-1">spell dc class 1</option>
                                            <option value="spelldc_2" data-i18n="spell-dc-2">spell dc class 2</option>
                                            <option value="size" class="option-header" data-i18n="size">size</option>
                                            <option value="speed" class="option-header" data-i18n="speed">speed</option>
                                            <option value="hptemp" class="option-header" data-i18n="temporary-hit-points-abbrv">hptemp</option>
                                            <option value="saves" data-i18n="all-saves">saves</option>
                                            <option value="fort" data-i18n="fortitude-abbrv">fort</option>
                                            <option value="will" data-i18n="willpower-abbrv">will</option>
                                            <option value="ref" data-i18n="reflex-abbrv">ref</option>
                                            <option value="str" class="option-header" data-i18n="strength">str</option>
                                            <option value="dex" class="option-header" data-i18n="dexterity">dex</option>
                                            <option value="con" class="option-header" data-i18n="constitution">con</option>
                                            <option value="int" class="option-header" data-i18n="intelligence">int</option>
                                            <option value="wis" class="option-header" data-i18n="wisdom">wis</option>
                                            <option value="cha" class="option-header" data-i18n="charisma">cha</option>
                                            <option value="str_skills" data-i18n="strength-skills-abbrv">str_skills</option>
                                            <option value="dex_skills" data-i18n="dexterity-skills-abbrv">dex_skills</option>
                                            <option value="con_skills" data-i18n="constitution-skills-abbrv">con_skills</option>
                                            <option value="int_skills" data-i18n="intelligence-skills-abbrv">int_skills</option>
                                            <option value="wis_skills" data-i18n="wisdom-skills-abbrv">wis_skills</option>
                                            <option value="cha_skills" data-i18n="charisma-skills-abbrv">cha_skills</option>
                                            <option value="customa1" class="option-header">customa1</option>
                                            <option value="customa2" class="option-header">customa2</option>
                                            <option value="customa3" class="option-header">customa3</option>
                                            <option value="customa10" class="option-header">customa10</option>
                                            <option value="customa11" class="option-header">customa11</option>
                                            <option value="customa12" class="option-header">customa12</option>
                                            <option value="customa4">customa4|max</option>
                                            <option value="customa5">customa5|max</option>
                                            <option value="customa6">customa6|max</option>
                                            <option value="customa7">customa7|max</option>
                                            <option value="customa8">customa8|max</option>
                                            <option value="customa9">customa9|max</option>
                                        </select>
                                        <span data-i18n-title="bonus-or-penalty" data-i18n="bonus">Bonus</span>
                                    </label>
                                    <input type="checkbox" name="attr_b6_hide" class="nextitem2-hide noshow" value="1" />
                                    <label class="small-label2 sect nextitem2 entry-med">
                                        <select class="select-small" name="attr_b6_bonustype" title="repeating_buff2_$X_b6_bonustype">
                                            <option value="untyped" data-i18n="untyped-default" selected>&#8226;Untyped</option>
                                            <option value="alchemical" data-i18n="alchemical">Alchemical</option>
                                            <option value="circumstance" data-i18n="circumstance">Circumstance</option>
                                            <option value="competence" data-i18n="competence">Competence</option>
                                            <option value="deflection" data-i18n="deflection">Deflection</option>
                                            <option value="dodge" data-i18n="dodge">Dodge</option>
                                            <option value="enhancement" data-i18n="enhancement">Enhancement</option>
                                            <option value="inherent" data-i18n="inherent">Inherent</option>
                                            <option value="insight" data-i18n="insight">Insight</option>
                                            <option value="luck" data-i18n="luck">Luck</option>
                                            <option value="morale" data-i18n="morale">Morale</option>
                                            <option value="profane" data-i18n="profane">Profane</option>
                                            <option value="racial" data-i18n="racial-bonus">Racial</option>
                                            <option value="resistance" data-i18n="resistance">Resistance</option>
                                            <option value="sacred" data-i18n="sacred">Sacred</option>
                                            <option value="size" data-i18n="size">Size</option>
                                            <option value="trait" data-i18n="trait">Trait</option>
                                        </select>
                                        <span data-i18n-title="bonus-type-title" data-i18n="bonus-type">Bonus Type</span>
                                    </label>
                                    <input type="checkbox" name="attr_b6_val_error" class="error-mshow" value="1" />
                                    <label class="small-label2 sect entry-med highlight"><input class="macro-text-inline float-right" type="text" name="attr_b6_macro-text" title="@{repeating_buff2_$X_b6_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="buff-calculation">b6 calc</span></label>
                                    <label class="small-label2 number highlight"><input type="number" name="attr_b6_val" title="@{repeating_buff2_$X_b6_val}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="buff">b6</span></label>
                                </div>
                                <div class="sect expand">
                                    <input type="checkbox" class="showarrow options-show" title="@{repeating_buff2_$X_options-show}" name="attr_options-show" value="1" checked />
                                    <label class="showsect options-showlabel" data-i18n="select-buffs">Select Buffs</label>
                                    <input type="checkbox" class="showarrow desc-show" title="@{repeating_buff2_$X_description-show}" name="attr_description-show" value="1" />
                                    <label class="showsect desc-showlabel" data-i18n="notes">Notes</label>
                                    <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_ids-show" value="1" />
                                    <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                    <hr class="subnav-hr">
                                    <div class="cheat"></div>
                                    <div class="table options" style="border:none;">
                                        <span data-i18n="buff">Buff</span> 1:<input name="attr_b1-show" type="checkbox" value="1" />
                                        <span data-i18n="buff">Buff</span> 2:<input name="attr_b2-show" type="checkbox" value="1" />
                                        <span data-i18n="buff">Buff</span> 3:<input name="attr_b3-show" type="checkbox" value="1" />
                                        <span data-i18n="buff">Buff</span> 4:<input name="attr_b4-show" type="checkbox" value="1" />
                                        <span data-i18n="buff">Buff</span> 5:<input name="attr_b5-show" type="checkbox" value="1" />
                                        <span data-i18n="buff">Buff</span> 6:<input name="attr_b6-show" type="checkbox" value="1" />
                                    </div>
                                    <textarea class="desc half" name="attr_notes" title="@{repeating_buff2_$X_notes}" data-i18n-placeholder="buff-notes"></textarea>
                                    <div class="repeating-id">
                                        <label class="small-label2 nextitem">
                                            <input class="selectable calc" name="attr_row_id" readonly />
                                            <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </fieldset>

                    <input type="text" name="attr_buff_init_notes" value="" class="noshow" />
                    <input type="text" name="attr_buff_save_notes" value="" class="noshow" />
                    <input type="text" name="attr_buff_defense_notes" value="" class="noshow" />
                    <input type="text" name="attr_buff_attack_notes" value="" class="noshow" />
                    <input type="text" name="attr_buff_skill_notes" value="" class="noshow" />
                    <input type="text" name="attr_condition_init_notes" value="" class="noshow" />
                    <input type="text" name="attr_condition_save_notes" value="" class="noshow" />
                    <input type="text" name="attr_condition_defense_notes" value="" class="noshow" />
                    <input type="text" name="attr_condition_attack_notes" value="" class="noshow" />
                    <input type="text" name="attr_condition_skill_notes" value="" class="noshow" />
                    <input type="text" name="attr_condition_spell_notes" value="" class="noshow" />
                </div>
                <div class="sect-buff oldbuff repeating-fields">
                    <fieldset class="repeating_buff">
                        <div class="nontable-repeating">
                            <span class="error"><span class="pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
                            <h3 class="offscreen">Buff <span name="attr_buff-name"></span></h3>
                            <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" data-i18n-aria-label="minimize-cmd" title="Minimize Row" name="attr_row-show" value="1" checked /><span></span>
                            <label class="small-label2" data-i18n-title="toggle-buff" data-i18n-aria-label="toggle-buff" title="When checked, this buff is active and will count towards the totals, which will then affect the rest of the sheet. Also, only the visible/selected buffs will count towards the totals.">
                                <input type="checkbox" name="attr_buff-enable_toggle" title="@{repeating_buff_$X_buff-enable_toggle}" value="1" />
                                <span data-i18n="enabled-chkbox">Enable</span>
                            </label>
                            <label class="small-label2 entry-25p-shrink"><input type="text" name="attr_buff-name" title="@{repeating_buff_$X_buff-name}" data-i18n-placeholder="name" /><span data-i18n="name">Name</span></label>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-STR-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-STR_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-STR_macro-text" title="@{repeating_buff_$X_buff-STR_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="strength-calculation-abbrv">STR calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-STR" title="@{repeating_buff_$X_buff-STR}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="strength-abbrv">STR</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-STR_skills-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-STR_skills_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-STR_skills_macro-text" title="@{repeating_buff_$X_buff-STR_skills_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="strength-calculation-skills-abbrv">STR_skills calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-STR_skills" title="@{repeating_buff_$X_buff-STR_skills}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="strength-skills-abbrv">STR_skills</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-DEX-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-DEX_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-DEX_macro-text" title="@{repeating_buff_$X_buff-DEX_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="dexterity-calculation-abbrv">DEX calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-DEX" title="@{repeating_buff_$X_buff-DEX}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="dexterity-abbrv">DEX</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-DEX_skills-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-DEX_skills_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-DEX_skills_macro-text" title="@{repeating_buff_$X_buff-DEX_skills_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="dexterity-calculation-skills-abbrv">DEX_skills calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-DEX_skills" title="@{repeating_buff_$X_buff-DEX_skills}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="dexterity-skills-abbrv">DEX_skills</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-CON-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-CON_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-CON_macro-text" title="@{repeating_buff_$X_buff-CON_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="constitution-calculation-abbrv">CON Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-CON" title="@{repeating_buff_$X_buff-CON}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="constitution-abbrv">CON</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-CON_skills-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-CON_skills_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-CON_skills_macro-text" title="@{repeating_buff_$X_buff-CON_skills_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="constitution-calculation-skills-abbrv">CON_skills Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-CON_skills" title="@{repeating_buff_$X_buff-CON_skills}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="constitution-skills-abbrv">CON_skills</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-INT-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-INT_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-INT_macro-text" title="@{repeating_buff_$X_buff-INT_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="intelligence-calculation-abbrv">INT Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-INT" title="@{repeating_buff_$X_buff-INT}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="intelligence-abbrv">INT</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-INT_skills-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-INT_skills_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-INT_skills_macro-text" title="@{repeating_buff_$X_buff-INT_skills_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="intelligence-calculation-skills-abbrv">INT_skills Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-INT_skills" title="@{repeating_buff_$X_buff-INT_skills}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="intelligence-skills-abbrv">INT_skills</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-WIS-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-WIS_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-WIS_macro-text" title="@{repeating_buff_$X_buff-WIS_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="wisdom-calculation-abbrv">WIS Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-WIS" title="@{repeating_buff_$X_buff-WIS}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="wisdom-abbrv">WIS</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-WIS_skills-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-WIS_skills_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-WIS_skills_macro-text" title="@{repeating_buff_$X_buff-WIS_skills_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="wisdom-calculation-skills-abbrv">WIS_skills Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-WIS_skills" title="@{repeating_buff_$X_buff-WIS_skills}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="wisdom-skills-abbrv">WIS_skills</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-CHA-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-CHA_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-CHA_macro-text" title="@{repeating_buff_$X_buff-CHA_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="charisma-calculation-abbrv">CHA Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-CHA" title="@{repeating_buff_$X_buff-CHA}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="charisma-abbrv">CHA</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-CHA_skills-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-CHA_skills_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-CHA_skills_macro-text" title="@{repeating_buff_$X_buff-CHA_skills_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="charisma-calculation-skills-abbrv">CHA_skills Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-CHA_skills" title="@{repeating_buff_$X_buff-CHA_skills}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="charisma-skills-abbrv">CHA_skills</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-Fort-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-Fort_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-Fort_macro-text" title="@{repeating_buff_$X_buff-Fort_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="fortitude-calculation-abbrv">Fort Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-Fort" title="@{repeating_buff_$X_buff-Fort}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="fortitude-abbrv">Fort</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-Ref-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-Ref_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-Ref_macro-text" title="@{repeating_buff_$X_buff-Ref_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="reflex-calculation-abbrv">Ref Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-Ref" title="@{repeating_buff_$X_buff-Ref}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="reflex-abbrv">Ref</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-Will-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-Will_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-Will_macro-text" title="@{repeating_buff_$X_buff-Will_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="willpower-calculation-abbrv">Will Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-Will" title="@{repeating_buff_$X_buff-Will}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="willpower-abbrv">Will</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-AC-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-AC_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-AC_macro-text" title="@{repeating_buff_$X_buff-AC_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="armor-class-calculation-abbrv">AC Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-AC" title="@{repeating_buff_$X_buff-AC}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="armor-class-abbrv">AC</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-Touch-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-Touch_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-Touch_macro-text" title="@{repeating_buff_$X_buff-Touch_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="touch-armor-class-calculation-abbrv">Touch Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-Touch" title="@{repeating_buff_$X_buff-Touch}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="touch">Touch</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-flat-footed-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-flat-footed_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-flat-footed_macro-text" title="@{repeating_buff_$X_buff-flat-footed_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="flat-footed-only-calculation-abbrv">Flat-Footed Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-flat-footed" title="@{repeating_buff_$X_buff-flat-footed}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="flat-footed-abbrv">Flat-Footed</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-CMD-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-CMD_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-CMD_macro-text" title="@{repeating_buff_$X_buff-CMD_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="combat-maneuver-defense-calculation-abbrv">CMD Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-CMD" title="@{repeating_buff_$X_buff-CMD}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="combat-maneuver-defense-abbrv">CMD</span></label>
                            </div>

                            <input class="nextitem-show" type="checkbox" name="attr_buff-Melee-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-Melee_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-Melee_macro-text" title="@{repeating_buff_$X_buff-Melee_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="melee-calculation">Melee Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-Melee" title="@{repeating_buff_$X_buff-Melee}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="melee">Melee</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-Ranged-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-Ranged_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-Ranged_macro-text" title="@{repeating_buff_$X_buff-Ranged_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="ranged-calculation">Ranged Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-Ranged" title="@{repeating_buff_$X_buff-Ranged}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="ranged">Ranged</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-CMB-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-CMB_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-CMB_macro-text" title="@{repeating_buff_$X_buff-CMB_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="combat-maneuver-bonus-calculation-abbrv">CMB Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-CMB" title="@{repeating_buff_$X_buff-CMB}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="combat-maneuver-bonus-abbrv">CMB</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-DMG-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-DMG_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-DMG_macro-text" title="@{repeating_buff_$X_buff-DMG_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="damage-calculation-abbrv">DMG Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-DMG" title="@{repeating_buff_$X_buff-DMG}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="damage-abbrv">DMG</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-DMG_ranged-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-DMG_ranged_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-DMG_ranged_macro-text" title="@{repeating_buff_$X_buff-DMG_ranged_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="damage-ranged-calculation-abbrv">DMG_ranged Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-DMG_ranged" title="@{repeating_buff_$X_buff-DMG_ranged}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="damage-ranged-abbrv">DMG_ranged</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-size-show" value="1" />
                            <div class="linked-fields nextitem" style="width:8em !important;">
                                <label class="small-label2 entry-long">
                                    <select name="attr_buff-size" title="@{buff-size}">
                                        <option value="-3" data-i18n="3-sizes-smaller">3 sizes smaller</option>
                                        <option value="-2" data-i18n="2-sizes-smaller">2 sizes smaller</option>
                                        <option value="-1" data-i18n="1-size-smaller">1 size smaller</option>
                                        <option value="0" data-i18n="select-one-default" selected>&#8226;Select One</option>
                                        <option value="1" data-i18n="1-size-larger">1 size larger</option>
                                        <option value="2" data-i18n="2-sizes-larger">2 sizes larger</option>
                                        <option value="3" data-i18n="3-sizes-larger">3 sizes larger</option>
                                    </select>
                                    <span data-i18n="size">Size</span>
                                </label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-initiative-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-initiative_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-initiative_macro-text" title="@{repeating_buff_$X_buff-initiative_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="initiative-calculation-abbrv">Initiative calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-initiative" title="@{repeating_buff_$X_buff-initiative}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="initiative-abbrv">Init</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-speed-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-speed_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-speed_macro-text" title="@{repeating_buff_$X_buff-speed_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="speed-calculation-abbrv">Speed calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-speed" title="@{repeating_buff_$X_buff-speed}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="speed">Speed</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-Check-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-Check_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-Check_macro-text" title="@{repeating_buff_$X_buff-Check_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="ability-checks-calculation-abbrv">check_ability Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-Check" title="@{repeating_buff_$X_buff-Check}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-ability-checks-title" data-i18n="ability-checks-abbrv">check_ability</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-check_skills-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-check_skills_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-check_skills_macro-text" title="@{repeating_buff_$X_buff-check_skills_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="skill-checks-calculation-abbrv">check_skills Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-check_skills" title="@{repeating_buff_$X_buff-check_skills} Skill and ability check" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n-title="buff-skill-checks-title" data-i18n="skill-checks-abbrv">check_skills</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-CasterLevel-show" value="1" />
                            <div class="linked-fields nextitem">
                                <input type="checkbox" name="attr_buff-CasterLevel_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-CasterLevel_macro-text" title="@{repeating_buff_$X_buff-CasterLevel_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="caster-level-calculation">Caster Lvl Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-CasterLevel" title="@{repeating_buff_$X_buff-CasterLevel}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="caster-level-abbrv">CL</span></label>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_buff-HP-temp-show" value="1" />
                            <div class="linked-fields nextitem buff-notype">
                                <input type="checkbox" name="attr_buff-HP-temp_error" class="error-mshow" value="1" />
                                <label class="small-label2 entry-med highlight"><input class="macro-text-inline" type="text" name="attr_buff-HP-temp_macro-text" title="@{repeating_buff_$X_buff-HP-temp_macro-text}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="temporary-hit-points-calculation-abbrv">Temp HP Calc</span></label>
                                <label class="small-label2 number highlight"><input type="number" name="attr_buff-HP-temp" title="@{repeating_buff_$X_buff-HP-temp}" value="0" class="calc" readonly /><span class="nowrap-over" data-i18n="temporary-hit-points-abbrv">HP</span></label>
                            </div>
                            <div class="sect expand">
                                <input type="checkbox" class="showarrow options-show" title="@{repeating_buff_$X_options-show}" name="attr_options-show" value="1" checked />
                                <label class="showsect options-showlabel" data-i18n="select-buffs">Select Buffs</label>
                                <input type="checkbox" class="showarrow desc-show" title="@{repeating_buff_$X_description-show}" name="attr_description-show" value="1" />
                                <label class="showsect desc-showlabel" data-i18n="notes">Notes</label>
                                <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_ids-show" value="1" />
                                <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                <hr class="subnav-hr">
                                <div class="cheat"></div>
                                <div class="table options" style="border:none;">
                                    <div class="main" style="font-weight:bold;">
                                        <div class="buffsnav tabs custbordernav" role="menubar" aria-label="buffs-navigation" data-i18n-aria-label="buffs-navigation"></div>
                                        <input type="radio" class="tabinput tab0" name="attr_buffs_tab" value="0" data-i18n-aria-label="abilities" data-i18n-title="abilities" checked />
                                        <label role="menuitem" class="tab tab0" data-i18n-title="abilities" data-i18n-aria-label="abilities" title="abilities" data-i18n="abilities">Abilities</label>
                                        <input type="radio" class="tabinput tab1" name="attr_buffs_tab" value="1" data-i18n-aria-label="skills-buffs" data-i18n-title="skills" />
                                        <label role="menuitem" class="tab tab1" data-i18n-title="skills" data-i18n="skills">Skills</label>
                                        <input type="radio" class="tabinput tab2" name="attr_buffs_tab" value="2" data-i18n-aria-label="attack-buffs" data-i18n-title="attacks" />
                                        <label role="menuitem" class="tab tab2" data-i18n-title="attacks" data-i18n="attacks">Attacks</label>
                                        <input type="radio" class="tabinput tab3" name="attr_buffs_tab" value="3" data-i18n-aria-label="defense-buffs" data-i18n-title="defense" />
                                        <label role="menuitem" class="tab tab3" data-i18n-title="defenses" data-i18n="defenses">Defenses</label>
                                        <input type="radio" class="tabinput tab4" name="attr_buffs_tab" value="4" data-i18n-aria-label="Other-buffs" data-i18n-title="other" />
                                        <label role="menuitem" class="tab tab4" data-i18n-title="other" data-i18n="other">Other</label>
                                        <span class="nontable-name"> </span>

                                        <div class="section0 section section-abilities" role="region" aria-label="abilities" data-i18n-aria-label="abilities">
                                            <span data-i18n-title="buff-ability-checks-title" data-i18n-aria-label="buff-ability-checks-title"><span data-i18n="ability-checks">Check</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-Check-show}" name="attr_buff-Check-show" value="1" /></span>
                                            <span data-i18n-title="buff-strength-title" data-i18n-aria-label="buff-strength-title"><span data-i18n="strength-abbrv">STR</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-STR-show}" name="attr_buff-STR-show" value="1" /></span>
                                            <span data-i18n-title="buff-dexterity-title" data-i18n-aria-label="buff-dexterity-title"><span data-i18n="dexterity-abbrv">DEX</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-DEX-show}" name="attr_buff-DEX-show" value="1" /></span>
                                            <span data-i18n-title="buff-constitution-title" data-i18n-aria-label="buff-constitution-title"><span data-i18n="constitution-abbrv">CON</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-CON-show}" name="attr_buff-CON-show" value="1" /></span>
                                            <span data-i18n-title="buff-intelligence-title" data-i18n-aria-label="buff-intelligence-title"><span data-i18n="intelligence-abbrv">INT</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-INT-show}" name="attr_buff-INT-show" value="1" /></span>
                                            <span data-i18n-title="buff-wisdom-title" data-i18n-aria-label="buff-wisdom-title"><span data-i18n="wisdom-abbrv">WIS</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-WIS-show}" name="attr_buff-WIS-show" value="1" /></span>
                                            <span data-i18n-title="buff-charisma-title" data-i18n-aria-label="buff-charisma-title"><span data-i18n="charisma-abbrv">CHA</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-CHA-show}" name="attr_buff-CHA-show" value="1" /></span>
                                        </div>
                                        <div class="section1 section section-skills" role="region" aria-label="skills" data-i18n-aria-label="skills">
                                            <span data-i18n-title="buff-skill-checks-title" data-i18n-aria-label="buff-skill-checks-title"><span data-i18n="skill-checks">Check</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-check_skills-show}" name="attr_buff-check_skills-show" value="1" /></span>
                                            <span data-i18n-title="buff-strength-based-skills-title" data-i18n-aria-label="buff-strength-based-skills-title"><span data-i18n="strength-skills-abbrv">STR</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-STR_skills-show}" name="attr_buff-STR_skills-show" value="1" /></span>
                                            <span data-i18n-title="buff-dexterity-based-skills-title" data-i18n-aria-label="buff-dexterity-based-skills-title"><span data-i18n="dexterity-skills-abbrv">DEX</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-DEX_skills-show}" name="attr_buff-DEX_skills-show" value="1" /></span>
                                            <span data-i18n-title="buff-constitution-based-skills-title" data-i18n-aria-label="buff-constitution-based-skills-title"><span data-i18n="constitution-skills-abbrv">CON</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-CON_skills-show}" name="attr_buff-CON_skills-show" value="1" /></span>
                                            <span data-i18n-title="buff-intelligence-based-skills-title" data-i18n-aria-label="buff-intelligence-based-skills-title"><span data-i18n="intelligence-skills-abbrv">INT</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-INT_skills-show}" name="attr_buff-INT_skills-show" value="1" /></span>
                                            <span data-i18n-title="buff-wisdom-based-skills-title" data-i18n-aria-label="buff-wisdom-based-skills-title"><span data-i18n="wisdom-skills-abbrv">WIS</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-WIS_skills-show}" name="attr_buff-WIS_skills-show" value="1" /></span>
                                            <span data-i18n-title="buff-charisma-based-skills-title" data-i18n-aria-label="buff-charisma-based-skills-title"><span data-i18n="charisma-skills-abbrv">CHA</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-CHA_skills-show}" name="attr_buff-CHA_skills-show" value="1" /></span>
                                        </div>
                                        <div class="section2 section section-attack" role="region" aria-label="attacks" data-i18n-aria-label="attacks">
                                            <span data-i18n-title="buff-melee-title" data-i18n-aria-label="buff-melee-title"><span data-i18n="melee">Melee</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-Melee-show}" name="attr_buff-Melee-show" value="1" /></span>
                                            <span data-i18n-title="buff-ranged-title" data-i18n-aria-label="buff-ranged-title"><span data-i18n="ranged">Ranged</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-Ranged-show}" name="attr_buff-Ranged-show" value="1" /></span>
                                            <span data-i18n-title="buff-combat-maneuver-bonus-title" data-i18n-aria-label="buff-combat-maneuver-bonus-title"><span data-i18n="combat-maneuver-bonus-only-abbrv">CMB only</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-CMB-show}" name="attr_buff-CMB-show" value="1" /></span>
                                            <span data-i18n-title="buff-blade-damage-title" data-i18n-aria-label="buff-blade-damage-title"><span data-i18n="damage-blade-abbrv">Dmg</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-DMG-show}" name="attr_buff-DMG-show" value="1" /></span>
                                            <span data-i18n-title="buff-damage-ranged-title" data-i18n-aria-label="buff-damage-ranged-title"><span data-i18n="damage-ranged-abbrv">DMG_ranged</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-DMG_ranged-show}" name="attr_buff-DMG_ranged-show" value="1" /></span>
                                        </div>
                                        <div class="section3 section section-defense" role="region" aria-label="defenses" data-i18n-aria-label="defenses">
                                            <span data-i18n-title="buff-armor-class-title" data-i18n-aria-label="buff-armor-class-title"><span data-i18n="armor-class-abbrv">AC</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-AC-show}" name="attr_buff-AC-show" value="1" /></span>
                                            <span data-i18n-title="buff-touch-title" data-i18n-aria-label="buff-touch-title"><span data-i18n="touch-armor-class-abbrv">Touch AC</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-Touch-show}" name="attr_buff-Touch-show" value="1" /></span>
                                            <span data-i18n-title="buff-flat-footed-title" data-i18n-aria-label="buff-flat-footed-title"><span data-i18n="flat-footed-abbrv">AC</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-flat-footed-show}" name="attr_buff-flat-footed-show" value="1" /></span>
                                            <span data-i18n-title="buff-cmd-title" data-i18n-aria-label="buff-cmd-title"><span data-i18n="combat-maneuver-defense-abbrv">CMD</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-CMD-show}" name="attr_buff-CMD-show" value="1" /></span>
                                            <span data-i18n-title="buff-deflection-title" data-i18n-aria-label="buff-deflection-title"><span data-i18n="deflection">Deflection</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-deflection-show}" name="attr_buff-deflection-show" value="1" /></span>
                                            <span data-i18n-title="buff-dodge-title" data-i18n-aria-label="buff-dodge-title"><span data-i18n="dodge">Dodge</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-dodge-show}" name="attr_buff-dodge-show" value="1" /></span>
                                        </div>
                                        <div class="section4 section section-other" role="region" aria-label="other" data-i18n-aria-label="other">
                                            <span data-i18n-title="buff-temp-hp-title" data-i18n-aria-label="buff-temp-hp-title"><span data-i18n="temporary-hit-points-abbrv">Temp HP</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-HP-temp-show}" name="attr_buff-HP-temp-show" value="1" /></span>
                                            <span data-i18n-title="buff-fortitude-title" data-i18n-aria-label="buff-fortitude-title"><span data-i18n="fortitude-abbrv">Fort</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-Fort-show}" name="attr_buff-Fort-show" value="1" /></span>
                                            <span data-i18n-title="buff-reflex-title" data-i18n-aria-label="buff-reflex-title"><span data-i18n="reflex-abbrv">Ref</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-Ref-show}" name="attr_buff-Ref-show" value="1" /></span>
                                            <span data-i18n-title="buff-will-title" data-i18n-aria-label="buff-will-title"><span data-i18n="willpower-abbrv">Will</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-Will-show}" name="attr_buff-Will-show" value="1" /></span>
                                            <span data-i18n-title="buff-initiative-title" data-i18n-aria-label="buff-initiative-title"><span data-i18n="initiative-abbrv">Init</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-initiative-show}" name="attr_buff-initiative-show" value="1" /></span>
                                            <span data-i18n-title="buff-size-title" data-i18n-aria-label="buff-size-title"><span data-i18n="size">Size</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-size-show}" name="attr_buff-size-show" value="1" /></span>
                                            <span data-i18n-title="buff-speed-title" data-i18n-aria-label="buff-speed-title"><span data-i18n="speed">AC</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-speed-show}" name="attr_buff-speed-show" value="1" /></span>
                                            <span data-i18n-title="buff-caster-level-title" data-i18n-aria-label="buff-caster-level-title"><span data-i18n="caster-level">Caster Lvl</span>:<input type="checkbox" title="@{repeating_buff_$X_buff-CasterLevel-show}" name="attr_buff-CasterLevel-show" value="1" /></span>
                                        </div>
                                    </div>
                                </div>
                                <textarea class="desc half" name="attr_buff-notes" title="@{repeating_buff_$X_buff-notes}" data-i18n-placeholder="buff-notes"></textarea>
                                <div class="repeating-id">
                                    <label class="small-label2 nextitem">
                                        <input class="selectable calc" name="attr_row_id" readonly />
                                        <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>
            </div>
        </div>
        <input type="checkbox" class="noshow npc-show not-A-show" name="attr_is_npc" value="1" role="presentation" />
        <input type="checkbox" class="noshow or-B-show" name="attr_both_whisper_show" value="1" role="presentation" />
        <div role="group" aria-label="menu buttons display menus in chat area for user to pick from. These are groups of attacks, abilities, etc" class="top-buttons inline not-A-or-B-sect">
            <input class="showarrow h2arrow" style="width:5em;margin-right:-4.75em;" type="checkbox" name="attr_command-buttons-show" aria-label="check to reveal command buttons" data-i18n-title="menus-showsect-cmd" data-i18n-aria-label="menus-showsect-cmd" value="1" checked />
            <h2 class="clickheader showsect"><label data-i18n="menus">Menus</label></h2>
            <span class="h2-section inline buttons-menu">
                <input type="checkbox" name="attr_unchained_skills-show" class="unchained-show" value="1" role="presentation" />
                <input type="checkbox" name="attr_BG-Skill-Use" class="consolidated-show" value="0" role="presentation" />
                <input type="checkbox" name="attr_BG-Skill-Use" class="bg-show" value="1" checked role="presentation" />
                <input type="checkbox" name="attr_use_spells" class="sect2-show noshow" value="1" />
                <input type="checkbox" name="attr_spellclass-0-exists" class="spellclass0-show noshow" value="1" />
                <input type="checkbox" name="attr_spellclass-1-exists" class="spellclass1-show noshow" value="1" />
                <input type="checkbox" name="attr_spellclass-2-exists" class="spellclass2-show noshow" value="1" />
                <button type="roll" name="roll_allmenus" class="command-button" value="/w &quot;@{character_name}&quot; @{allmenus_macro}" title="%{selected|allmenus}" data-i18n="all">All</button>
                <button type="roll" name="roll_ability_checks" class="command-button" value="/w &quot;@{character_name}&quot; @{ability_checks_macro} {{whisper=@{PC-whisper}}} {{switch=~@{character_id}|NPC-ability_checks}}" title="%{selected|ability_checks}" data-i18n="ability-checks">Ability Checks</button>
                <button type="roll" name="roll_Roll-for-initiative" class="command-button" value="@{PC-whisper} @{init-macro-text}" title="%{selected|Roll-for-initiative}" data-i18n="initiative-abbrv-caps">Init</button>
                <button type="roll" name="roll_defenses" class="command-button" value="/w &quot;@{character_name}&quot; @{defenses-macro} {{whisper=@{PC-whisper}}} {{switch=~@{character_id}|NPC-defenses}}" title="%{selected|defenses}" data-i18n="defenses">Defenses</button>
                <button type="roll" name="roll_attacks" class="command-button" value="/w &quot;@{character_name}&quot; @{attacks-macro} {{whisper=@{PC-whisper}}} {{switch=~@{character_id}|NPC-attacks}}" title="%{selected|attacks}" data-i18n="attacks">Attacks</button>
                <button type="roll" name="roll_abilities" class="command-button" value="/w &quot;@{character_name}&quot; @{ability_buttons_macro} {{whisper=@{PC-whisper}}} {{switch=~@{character_id}|NPC-abilities}}" title="%{selected|abilities}" data-i18n="abilities">Abilities</button>
                <button type="roll" name="roll_combat_skills" class="command-button core-only" value="/w &quot;@{character_name}&quot; @{combat_skills-macro} {{whisper=@{PC-whisper}}} {{switch=~@{character_id}|NPC-combat_skills}}" title="%{selected|combat_skills}" data-i18n="combat-skills">Combat Skills</button>
                <button type="roll" name="roll_skills" class="command-button core-only" value="/w &quot;@{character_name}&quot; @{skills-macro} {{whisper=@{PC-whisper}}} {{switch=~@{character_id}|NPC-skills}}" title="%{selected|skills}" data-i18n="all-skills">All Skills</button>
                <button type="roll" name="roll_adventure_skills" class="command-button bg-only" value="/w &quot;@{character_name}&quot; @{adventure_skills-macro} {{whisper=@{PC-whisper}}} {{switch=~@{character_id}|NPC-adventure_skills}}" title="%{selected|adventure_skills}" data-i18n="adventure">Adventure</button>
                <button type="roll" name="roll_background_skills" class="command-button bg-only" value="/w &quot;@{character_name}&quot; @{background_skills-macro} {{switch=~@{character_id}|NPC-background_skills}}" title="%{selected|background_skills}" data-i18n="background">Background</button>
                <button type="roll" name="roll_consolidated_skills" class="command-button consolidated" value="/w &quot;@{character_name}&quot; @{consolidated_skills-macro} {{whisper=@{PC-whisper}}} {{switch=~@{character_id}|NPC-consolidated_skills}}" title="%{selected|consolidated_skills}" data-i18n="consolidated">Consolidated</button>
                <button type="roll" name="roll_spellbook-0" class="command-button sect2 sect-spellclass0" value="/w &quot;@{character_name}&quot; @{spellclass-0-book} {{whisper=@{PC-whisper}}} {{switch=~@{character_id}|NPC-spellbook-0}}" title="%{selected|spellbook-0}"><span name="attr_spellclass-0-name"></span> <span data-i18n="spellbook">Spellbook</span></button>
                <button type="roll" name="roll_spellbook-1" class="command-button sect2 sect-spellclass1" value="/w &quot;@{character_name}&quot; @{spellclass-1-book} {{whisper=@{PC-whisper}}} {{switch=~@{character_id}|NPC-spellbook-1}}" title="%{selected|spellbook-1}"><span name="attr_spellclass-1-name"></span> <span data-i18n="spellbook">Spellbook</span></button>
                <button type="roll" name="roll_spellbook-2" class="command-button sect2 sect-spellclass2" value="/w &quot;@{character_name}&quot; @{spellclass-2-book} {{whisper=@{PC-whisper}}} {{switch=~@{character_id}|NPC-spellbook-2}}" title="%{selected|spellbook-2}"><span name="attr_spellclass-2-name"></span> <span data-i18n="spellbook">Spellbook</span></button>
                <button type="roll" name="roll_items" class="command-button" value="/w &quot;@{character_name}&quot; @{item_buttons_macro} {{whisper=@{PC-whisper}}} {{switch=~@{character_id}|NPC-items}}" title="%{selected|items}" data-i18n="items">Items</button>
                <input type="hidden" name="attr_allmenus_macro" value="&{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{name=^{all}}} {{row01=[^{init-speed-info-abbrv}](~@{character_id}|init-speed-info) }} {{row02=[^{initiative}](~@{character_id}|Roll-for-initiative) }} {{row03=[^{ability-checks}](~@{character_id}|ability_checks) }} {{row04=[^{abilities}](~@{character_id}|abilities) }} {{row05=[^{defenses}](~@{character_id}|defenses) }} {{row06=[^{attacks}](~@{character_id}|attacks) }} {{row07=[^{combat-skills}](~@{character_id}|combat_skills) }} {{row08=[^{all-skills}](~@{character_id}|skills) }} {{row09=[^{items}](~@{character_id}|items) }} @{allspells_macro} @{allcustom_macro}" />

                <input type="hidden" name="attr_allspells_macro" value="" />
                <input type="hidden" name="attr_allcustom_macro" value="" />
                <input type="hidden" name="attr_ability_checks_macro" value="&{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block-check}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{name=^{ability-checks}}} {{row01=^{ability-scores}}} {{row02=[^{strength-abbrv}](~@{character_id}|STR-Check) [^{dexterity-abbrv}](~@{character_id}|DEX-Check) [^{constitution-abbrv}](~@{character_id}|CON-Check) [^{intelligence-abbrv}](~@{character_id}|INT-Check) [^{wisdom-abbrv}](~@{character_id}|WIS-Check) [^{charisma-abbrv}](~@{character_id}|CHA-Check)}} {{row03=^{initiative}}} {{row04=[^{initiative-abbrv-caps}](~@{character_id}|Roll-for-initiative)}}" />
                <input type="hidden" name="attr_defenses-macro" value="&{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{name=^{defenses}}} {{buttons=[^{fortitude-abbrv}](~@{character_id}|Fort-Save) [^{reflex-abbrv}](~@{character_id}|Ref-Save) [^{willpower-abbrv}](~@{character_id}|Will-Save) [^{all-saves}](~@{character_id}|All-Saves) [^{defense-statistics-abbrv}](~@{character_id}|defense-stats)}}" />
                <input type="hidden" name="attr_defense-stats-macro-text" value="&{template:pf_defense} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{name=^{defense-statistics}}} {{showdefenses=1}} {{showsaves=1}} {{showspecialdefenses=1}} {{ac=@{ac}}} {{touch=@{touch}}} {{flat_footed=@{flat-footed}}} @{var_armor_notes} {{cmd=@{cmd}}} @{var_cmd_notes} {{cmd_ff=@{ff-cmd}}} {{fort=@{fort}}} {{ref=@{ref}}} {{will=@{will}}} {{spellfail=@{spell-fail}}} @{var_save_notes} {{buff_note=@{buff_save_notes}}} {{condition_note=@{condition_save_notes}}} {{condition_note=@{condition_save_notes}}} @{var_dr_notes} @{var_resistances_notes} @{var_immunities_notes} @{var_weaknesses_notes} @{var_sr0_notes} @{var_defensive-abilities_notes} @{var_armor_notes} @{var_defense_notes} {{buff_note=@{buff_defense_notes}}} {{condition_note=@{condition_defense_notes}}}" />
                <input type="hidden" name="attr_attacks-macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{attacks}}} @{attacks_header_macro} {{description=^{none-available} }}" />
                <input type="hidden" name="attr_attacks_header_macro" value="{{row01= **^{base-attacks}** }} {{row02=[^{melee}](~@{character_id}|Melee-Attack-Roll) [^{ranged}](~@{character_id}|Ranged-Attack-Roll) [^{combat-maneuver-bonus-abbrv}](~@{character_id}|CMB-Check) [^{melee2}](~@{character_id}|Melee2-Attack-Roll) [^{ranged2}](~@{character_id}|Ranged2-Attack-Roll) [^{combat-maneuver-bonus-abbrv2}](~@{character_id}|CMB2-Check) }}" />
                <input type="hidden" name="attr_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{skills} }} {{ [^{acrobatics}](~@{character_id}|Acrobatics-check) [^{appraise}](~@{character_id}|Appraise-check) [^{bluff}](~@{character_id}|Bluff-check) [^{climb}](~@{character_id}|Climb-check) [^{craft}](~@{character_id}|craft_skills_buttons_macro) [^{diplomacy}](~@{character_id}|Diplomacy-check) [^{disable-device}](~@{character_id}|Disable-Device-check) [^{disguise}](~@{character_id}|Disguise-check) [^{escape-artist}](~@{character_id}|Escape-Artist-check) [^{fly}](~@{character_id}|Fly-check) [^{handle-animal}](~@{character_id}|Handle-Animal-check) [^{heal}](~@{character_id}|Heal-check) [^{intimidate}](~@{character_id}|Intimidate-check) [^{knowledge}](~@{character_id}|knowledge_skills_buttons_macro) [^{linguistics}](~@{character_id}|Linguistics-check) [^{misc-skill}](~@{character_id}|misc-skill_skills_buttons_macro) [^{perception}](~@{character_id}|Perception-check) [^{perform}](~@{character_id}|perform_skills_buttons_macro) [^{profession}](~@{character_id}|profession_skills_buttons_macro) [^{ride}](~@{character_id}|Ride-check) [^{sense-motive}](~@{character_id}|Sense-Motive-check) [^{sleight-of-hand}](~@{character_id}|Sleight-of-Hand-check) [^{spellcraft}](~@{character_id}|Spellcraft-check) [^{stealth}](~@{character_id}|Stealth-check) [^{survival}](~@{character_id}|Survival-check) [^{swim}](~@{character_id}|Swim-check) [^{use-magic-device}](~@{character_id}|Use-Magic-Device-check) }}" />
                <input type="hidden" name="attr_combat_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{combat-skills} }} {{^{skills}}} {{ [^{acrobatics} +@{Acrobatics}](~@{character_id}|Acrobatics-check) [^{bluff} +@{Bluff}](~@{character_id}|Bluff-check) [^{disable-device} +@{Disable-Device}](~@{character_id}|Disable-Device-check) [^{fly} +@{Fly}](~@{character_id}|Fly-check) [^{handle-animal} +@{Handle-Animal}](~@{character_id}|Handle-Animal-check) [^{intimidate} +@{Intimidate}](~@{character_id}|Intimidate-check) [^{perception} +@{Perception}](~@{character_id}|Perception-check)  [^{ride} +@{Ride}](~@{character_id}|Ride-check)  [^{sense-motive} +@{Sense-Motive}](~@{character_id}|Sense-Motive-check) [^{spellcraft} +@{Spellcraft}](~@{character_id}|Spellcraft-check) [^{stealth} +@{Stealth}](~@{character_id}|Stealth-check) [^{use-magic-device} +@{Use-Magic-Device}](~@{character_id}|Use-Magic-Device-check) [^{perform} +@{Perform}](~@{character_id}|perform_skills_buttons_macro) }} {{ ^{knowledge} ^{skills} }} {{ [^{arcana} +@{Knowledge-Arcana}](~@{character_id}|Knowledge-Arcana-check) [^{dungeoneering} +@{Knowledge-Dungeoneering}](~@{character_id}|Knowledge-Dungeoneering-check) [^{engineering} +@{Knowledge-Engineering}](~@{character_id}|Knowledge-Engineering-check) [^{geography} +@{Knowledge-Geography}](~@{character_id}|Knowledge-Geography-check) [^{history} +@{Knowledge-History}](~@{character_id}|Knowledge-History-check) [^{local} +@{Knowledge-Local}](~@{character_id}|Knowledge-Local-check) [^{nature} +@{Knowledge-Nature}](~@{character_id}|Knowledge-Nature-check) [^{nobility} +@{Knowledge-Nobility}](~@{character_id}|Knowledge-Nobility-check) [^{planes} +@{Knowledge-Planes}](~@{character_id}|Knowledge-Planes-check) [^{religion} +@{Knowledge-Religion}](~@{character_id}|Knowledge-Religion-check) }}" />
                <input type="hidden" name="attr_spellclass-0-book" value="&{template:pf_block} @{toggle_spell_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{spellclass-0-name} ^{spells}}} {{concentration=@{Concentration-0}}} {{casterlevel=@{spellclass-0-level-total}}} {{row01=**^{checks}**}} {{row02=[^{caster-level-check}](~@{character_id}|Spell-Class-0-CL-Check) [^{concentration-check}](~@{character_id}|Concentration-Check-0) [^{spell-failure}](~@{character_id}|Spell-Fail-Check)}} {{description=^{none-available} }}" />
                <input type="hidden" name="attr_spellclass-1-book" value="&{template:pf_block} @{toggle_spell_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{spellclass-1-name} ^{spells}}} {{concentration=@{Concentration-1}}} {{casterlevel=@{spellclass-1-level-total}}} {{row01=**^{checks}**}} {{row02=[^{caster-level-check}](~@{character_id}|Spell-Class-1-CL-Check) [^{concentration-check}](~@{character_id}|Concentration-Check-1) [^{spell-failure}](~@{character_id}|Spell-Fail-Check)}} {{description=^{none-available} }}" />
                <input type="hidden" name="attr_spellclass-2-book" value="&{template:pf_block} @{toggle_spell_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{spellclass-2-name} ^{spells}}} {{concentration=@{Concentration-2}}} {{casterlevel=@{spellclass-2-level-total}}} {{row01=**^{check}**}} {{row02=[^{caster-level-check}](~@{character_id}|Spell-Class-2-CL-Check) [^{concentration-check}](~@{character_id}|Concentration-Check-2) [^{spell-failure}](~@{character_id}|Spell-Fail-Check)}} {{description=^{none-available} }}" />
                <input type="hidden" name="attr_item_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{items}}} {{description=^{none-available} }}" />
            </span>
        </div>
        <div class="cheat not-A-or-B-sect"></div>
        <div role="group" aria-label="menu buttons display menus in chat area for user to pick from. These are groups of attacks, abilities, etc" class="top-buttons inline npc-only">
            <input class="showarrow h2arrow" style="width:5em;margin-right:-4.75em;" type="checkbox" name="attr_NPC-command-buttons-show" aria-label="check to reveal command buttons" data-i18n-title="menus-showsect-cmd" data-i18n-aria-label="menus-showsect-cmd" value="1" checked />
            <h2 class="clickheader showsect"><label data-i18n="npc-menus">NPC Menus</label></h2>
            <span class="h2-section inline buttons-menu">
                <input type="checkbox" name="attr_unchained_skills-show" class="unchained-show" value="1" role="presentation" />
                <input type="checkbox" name="attr_BG-Skill-Use" class="consolidated-show" value="0" role="presentation" />
                <input type="checkbox" name="attr_BG-Skill-Use" class="bg-show" value="1" checked role="presentation" />
                <input type="checkbox" name="attr_use_spells" class="sect2-show noshow" value="1" />
                <input type="checkbox" name="attr_spellclass-0-exists" class="spellclass0-show noshow" value="1" />
                <input type="checkbox" name="attr_spellclass-1-exists" class="spellclass1-show noshow" value="1" />
                <input type="checkbox" name="attr_spellclass-2-exists" class="spellclass2-show noshow" value="1" />
                <button type="roll" name="roll_NPC-allmenus" class="command-button" value="/w &quot;@{character_name}&quot; @{NPC-allmenus_macro}" title="%{selected|NPC-allmenus}" data-i18n="NPC-all">NPC-all</button>
                <button type="roll" name="roll_NPC-ability_checks" class="command-button" value="/w &quot;@{character_name}&quot; @{NPC-ability_checks_macro} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|ability_checks}}" title="%{selected|NPC-ability_checks}" data-i18n="ability-checks">Ability Checks</button>
                <button type="roll" name="roll_NPC-Initiative-Roll" class="command-button" value="@{NPC-whisper} @{init-macro-text}" title="%{selected|NPC-Initiative-Roll}" data-i18n="initiative-abbrv-caps">Init</button>
                <button type="roll" name="roll_NPC-defenses" class="command-button" value="/w &quot;@{character_name}&quot; @{NPC-defenses-macro} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|defenses}}" title="%{selected|NPC-defenses}" data-i18n="defenses">Defenses</button>
                <button type="roll" name="roll_NPC-attacks" class="command-button" value="/w &quot;@{character_name}&quot; @{attacks-macro-npc} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|attacks}}" title="%{selected|NPC-attacks}" data-i18n="attacks">Attacks</button>
                <button type="roll" name="roll_NPC-abilities" class="command-button" value="/w &quot;@{character_name}&quot; @{NPC-ability_buttons_macro} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|abilities}}" title="%{selected|NPC-abilities}" data-i18n="abilities">Abilities</button>
                <button type="roll" name="roll_NPC-combat_skills" class="command-button core-only" value="/w &quot;@{character_name}&quot; @{NPC-combat_skills-macro} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|combat_skills}}" title="%{selected|NPC-combat_skills}" data-i18n="combat-skills">Combat Skills</button>
                <button type="roll" name="roll_NPC-skills" class="command-button core-only" value="/w &quot;@{character_name}&quot; @{NPC-skills-macro} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|skills}}" title="%{selected|NPC-skills}" data-i18n="all-skills">All Skills</button>
                <button type="roll" name="roll_NPC-adventure_skills" class="command-button bg-only" value="/w &quot;@{character_name}&quot; @{NPC-adventure_skills-macro} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|adventure_skills}}" title="%{selected|NPC-adventure_skills}" data-i18n="adventure">Adventure</button>
                <button type="roll" name="roll_NPC-background_skills" class="command-button bg-only" value="/w &quot;@{character_name}&quot; @{NPC-background_skills-macro} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|background_skills}}" title="%{selected|NPC-background_skills}" data-i18n="background">Background</button>
                <button type="roll" name="roll_NPC-consolidated_skills" class="command-button consolidated" value="/w &quot;@{character_name}&quot; @{NPC-consolidated_skills-macro} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|consolidated_skills}}" title="%{selected|NPC-consolidated_skills}" data-i18n="consolidated">Consolidated</button>
                <button type="roll" name="roll_NPC-spellbook-0" class="command-button sect2 sect-spellclass0" value="/w &quot;@{character_name}&quot; @{spellclass-0-book-npc} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|spellbook-0}}" title="%{selected|NPC-spellbook-0}"><span name="attr_spellclass-0-name"></span> <span data-i18n="spellbook">Spellbook</span></button>
                <button type="roll" name="roll_NPC-spellbook-1" class="command-button sect2 sect-spellclass1" value="/w &quot;@{character_name}&quot; @{spellclass-1-book-npc} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|spellbook-1}}" title="%{selected|NPC-spellbook-1}"><span name="attr_spellclass-1-name"></span> <span data-i18n="spellbook">Spellbook</span></button>
                <button type="roll" name="roll_NPC-spellbook-2" class="command-button sect2 sect-spellclass2" value="/w &quot;@{character_name}&quot; @{spellclass-2-book-npc} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|spellbook-2}}" title="%{selected|NPC-spellbook-2}"><span name="attr_spellclass-2-name"></span> <span data-i18n="spellbook">Spellbook</span></button>
                <button type="roll" name="roll_NPC-items" class="command-button" value="/w &quot;@{character_name}&quot; @{NPC-item_buttons_macro} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|items}}" title="%{selected|NPC-items}" data-i18n="items">Items</button>
                <input type="hidden" name="attr_NPC-allmenus_macro" value="&{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{name=^{all}}} {{row01=[^{init-speed-info-abbrv}](~@{character_id}|init-speed-info) }} {{row02=[^{abilities}](~@{character_id}|NPC-abilities) }} {{row03=[^{ability-checks}](~@{character_id}|NPC-ability_checks) }} {{row04=[^{initiative}](~@{character_id}|NPC-Initiative-Roll) }} {{row05=[^{defenses}](~@{character_id}|NPC-defenses) }} {{row06=[^{attacks}](~@{character_id}|NPC-attacks) }} {{row07=[^{skills}](~@{character_id}|NPC-skills) }} {{row08=[^{items}](~@{character_id}|NPC-items) }} @{NPC-allspells_macro} @{NPC-allcustom_macro}" />
                <input type="hidden" name="attr_NPC-allspells_macro" value="" />
                <input type="hidden" name="attr_NPC-allcustom_macro" value="" />
                <input type="hidden" name="attr_NPC-ability_checks_macro" value="&{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block-check}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{name=^{npc} ^{ability-checks}}} {{row01=[^{strength-abbrv}](~@{character_id}|NPC-STR-Check) [^{dexterity-abbrv}](~@{character_id}|NPC-DEX-Check) [^{constitution-abbrv}](~@{character_id}|NPC-CON-Check) [^{intelligence-abbrv}](~@{character_id}|NPC-INT-Check) [^{wisdom-abbrv}](~@{character_id}|NPC-WIS-Check) [^{charisma-abbrv}](~@{character_id}|NPC-CHA-Check)}} {{row03=^{initiative}}} {{row04=[^{initiative-abbrv-caps}](~@{character_id}|NPC-Initiative-Roll)}}" />
                <input type="hidden" name="attr_NPC-defenses-macro" value="&{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{name=^{npc} ^{defenses}}} {{buttons=[^{fortitude-abbrv}](~@{character_id}|NPC-Fort-Save) [^{reflex-abbrv}](~@{character_id}|NPC-Ref-Save) [^{willpower-abbrv}](~@{character_id}|NPC-Will-Save) [^{all-saves}](~@{character_id}|NPC-All-Saves) [^{defense-statistics-abbrv}](~@{character_id}|NPC-defense-stats)}}" />
                <input type="hidden" name="attr_attacks-macro-npc" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} ^{attacks}}} @{NPC-attacks_header_macro} {{description=^{none-available} }}" />
                <input type="hidden" name="attr_NPC-attacks_header_macro" value="{{row01= **^{base-attacks}** }} {{row02=[^{melee}](~@{character_id}|NPC-Melee-Attack-Roll) [^{ranged}](~@{character_id}|NPC-Ranged-Attack-Roll) [^{combat-maneuver-bonus-abbrv}](~@{character_id}|NPC-CMB-Check) [^{melee2}](~@{character_id}|NPC-Melee2-Attack-Roll) [^{ranged2}](~@{character_id}|NPC-Ranged2-Attack-Roll) [^{combat-maneuver-bonus-abbrv2}](~@{character_id}|NPC-CMB2-Check) }}" />
                <input type="hidden" name="attr_NPC-skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} ^{skills} }} {{ [^{appraise}](~@{character_id}|NPC-Appraise-check) [^{acrobatics}](~@{character_id}|NPC-Acrobatics-check) [^{bluff}](~@{character_id}|NPC-Bluff-check) [^{climb}](~@{character_id}|NPC-Climb-check) [^{craft}](~@{character_id}|NPC-craft_skills_buttons_macro) [^{diplomacy}](~@{character_id}|NPC-Diplomacy-check) [^{disable-device}](~@{character_id}|NPC-Disable-Device-check) [^{disguise}](~@{character_id}|NPC-Disguise-check) [^{escape-artist}](~@{character_id}|NPC-Escape-Artist-check) [^{fly}](~@{character_id}|NPC-Fly-check) [^{handle-animal}](~@{character_id}|NPC-Handle-Animal-check) [^{heal}](~@{character_id}|NPC-Heal-check) [^{knowledge}](~@{character_id}|NPC-knowledge_skills_buttons_macro) [^{intimidate}](~@{character_id}|NPC-Intimidate-check) [^{linguistics}](~@{character_id}|NPC-Linguistics-check) [^{misc-skill}](~@{character_id}|NPC-misc-skill_skills_buttons_macro) [^{perception}](~@{character_id}|NPC-Perception-check) [^{perform}](~@{character_id}|NPC-perform_skills_buttons_macro) [^{profession}](~@{character_id}|NPC-profession_skills_buttons_macro) [^{ride}](~@{character_id}|NPC-Ride-check) [^{sense-motive}](~@{character_id}|NPC-Sense-Motive-check) [^{sleight-of-hand}](~@{character_id}|NPC-Sleight-of-Hand-check) [^{spellcraft}](~@{character_id}|NPC-Spellcraft-check) [^{stealth}](~@{character_id}|NPC-Stealth-check) [^{swim}](~@{character_id}|NPC-Swim-check) [^{use-magic-device}](~@{character_id}|NPC-Use-Magic-Device-check) }}" />
                <input type="hidden" name="attr_NPC-combat_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} ^{combat-skills} }} {{^{npc} ^{skills}}} {{ [^{acrobatics}](~@{character_id}|NPC-Acrobatics-check) [^{bluff}](~@{character_id}|NPC-Bluff-check) [^{disable-device}](~@{character_id}|NPC-Disable-Device-check) [^{fly}](~@{character_id}|NPC-Fly-check)  [^{handle-animal}](~@{character_id}|NPC-Handle-Animal-check) [^{intimidate}](~@{character_id}|NPC-Intimidate-check) [^{perception}](~@{character_id}|NPC-Perception-check)  [^{ride}](~@{character_id}|NPC-Ride-check) [^{sense-motive}](~@{character_id}|NPC-Sense-Motive-check) [^{stealth}](~@{character_id}|NPC-Stealth-check) [^{survival}](~@{character_id}|NPC-Survival-check) [^{use-magic-device}](~@{character_id}|NPC-Use-Magic-Device-check) [^{perform}](~@{character_id}|NPC-perform_skills_buttons_macro) }} {{^{knowledge} ^{skills}}} {{ [^{arcana}](~@{character_id}|NPC-Knowledge-Arcana-check) [^{dungeoneering}](~@{character_id}|NPC-Knowledge-Dungeoneering-check) [^{engineering}](~@{character_id}|NPC-Knowledge-Engineering-check) [^{geography}](~@{character_id}|NPC-Knowledge-Geography-check) [^{history}](~@{character_id}|NPC-Knowledge-History-check) [^{local}](~@{character_id}|NPC-Knowledge-Local-check) [^{nature}](~@{character_id}|NPC-Knowledge-Nature-check) [^{nobility}](~@{character_id}|NPC-Knowledge-Nobility-check) [^{planes}](~@{character_id}|NPC-Knowledge-Planes-check) [^{religion}](~@{character_id}|NPC-Knowledge-Religion-check) }}" />
                <input type="hidden" name="attr_spellclass-0-book-npc" value="&{template:pf_block} @{toggle_spell_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} @{spellclass-0-name} ^{spells}}} {{concentration=@{Concentration-0}}} {{casterlevel=@{spellclass-0-level-total}}} {{row01=**^{checks}**}} {{row02=[^{caster-level-check}](~@{character_id}|Spell-Class-0-CL-Check) [^{concentration-check}](~@{character_id}|Concentration-Check-0) [^{spell-failure}](~@{character_id}|NPC-Spell-Fail-Check)}} {{description=^{none-available} }}" />
                <input type="hidden" name="attr_spellclass-1-book-npc" value="&{template:pf_block} @{toggle_spell_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} @{spellclass-1-name} ^{spells}}} {{concentration=@{Concentration-1}}} {{casterlevel=@{spellclass-1-level-total}}} {{row01=**^{checks}**}} {{row02=[^{caster-level-check}](~@{character_id}|Spell-Class-1-CL-Check) [^{concentration-check}](~@{character_id}|Concentration-Check-1) [^{spell-failure}](~@{character_id}|NPC-Spell-Fail-Check)}} {{description=^{none-available} }}" />
                <input type="hidden" name="attr_spellclass-2-book-npc" value="&{template:pf_block} @{toggle_spell_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} @{spellclass-2-name} ^{spells}}} {{concentration=@{Concentration-2}}} {{casterlevel=@{spellclass-2-level-total}}} {{row01=**^{checks}**}} {{row02=[^{caster-level-check}](~@{character_id}|Spell-Class-2-CL-Check) [^{concentration-check}](~@{character_id}|Concentration-Check-2) [^{spell-failure}](~@{character_id}|NPC-Spell-Fail-Check)}} {{description=^{none-available} }}" />
                <input type="hidden" name="attr_NPC-item_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{items}}} {{description=^{none-available} }}" />
            </span>
            <div style="display:none;">
                <button type="roll" name="roll_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{skills-macro} {{this uses old macro=this uses old macro}}">Old All Skills</button>
                <button type="roll" name="roll_NPC-skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{NPC-skills-macro} {{this uses old macro=this uses old macro}}">Old NPC All Skills</button>
                <button type="roll" name="roll_adventure_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{adventure_skills-macro} {{this uses old macro=this uses old macro}}">Old Adventure</button>
                <button type="roll" name="roll_background_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{background_skills-macro} {{this uses old macro=this uses old macro}}">Old Background</button>
                <button type="roll" name="roll_consolidated_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{consolidated_skills-macro} {{this uses old macro=this uses old macro}}">Old Consolidated</button>
                <button type="roll" name="roll_NPC-attacks_buttons" value="/w &quot;@{character_name}&quot; @{attacks-macro-npc} {{this uses old macro=this uses old macro}}">old npc Attacks</button>
                <button type="roll" name="roll_attacks_buttons" value="/w &quot;@{character_name}&quot; @{attacks-macro} {{this uses old macro=this uses old macro}}">old Attacks</button>
                <button type="roll" name="roll_attacks_buttons_macro-npc" value="/w &quot;@{character_name}&quot; @{attacks-macro-npc} {{this uses old macro=this uses old macro}}">old NPC Attacks</button>
                <button type="roll" name="roll_spellbook-0-roll" value="/w &quot;@{character_name}&quot; @{spellclass-0-book} {{this uses old macro=this uses old macro}}">old class 0 spellbook</button>
                <button type="roll" name="roll_spellbook-1-roll" value="/w &quot;@{character_name}&quot; @{spellclass-1-book} {{this uses old macro=this uses old macro}}">old class 1 spellbook</button>
                <button type="roll" name="roll_spellbook-2-roll" value="/w &quot;@{character_name}&quot; @{spellclass-2-book} {{this uses old macro=this uses old macro}}">old class 2 spellbook</button>
                <button type="roll" name="roll_spellbook-0-roll-npc" value="/w &quot;@{character_name}&quot; @{spellclass-0-book-npc} {{this uses old macro=this uses old macro}}">old NPC class 0 spellbook</button>
                <button type="roll" name="roll_spellbook-1-roll-npc" value="/w &quot;@{character_name}&quot; @{spellclass-1-book-npc} {{this uses old macro=this uses old macro}}">old NPC class 1 spellbook</button>
                <button type="roll" name="roll_spellbook-2-roll-npc" value="/w &quot;@{character_name}&quot; @{spellclass-2-book-npc} {{this uses old macro=this uses old macro}}">old NPC class 2 spellbook</button>
            </div>
        </div>
        <div role="main" class="main">
            <div role="menubar" class="mainnav tabs" aria-label="Main menubar" data-i18n-aria-label="nav-main-desc"></div>
            <input type="radio" name="attr_tab" value="1" class="tabinput tab1 narrow-tab" aria-label="Core" data-i18n-title="core" data-i18n-aria-label="core" checked />
            <label role="menuitem" class="tab tab1 narrow-tab" data-i18n-title="core" data-i18n-aria-label="core" title="Core" data-i18n="core">Core</label>
            <input type="radio" name="attr_tab" value="2" class="tabinput tab2 wider-tab" data-i18n-title="defenses" aria-label="Defenses" data-i18n-aria-label="defenses" />
            <label role="menuitem" class="tab tab2 wider-tab" data-i18n-title="defenses" data-i18n-aria-label="defenses" title="defenses" data-i18n="defenses">Defenses</label>
            <input type="radio" name="attr_tab" value="3" class="tabinput tab3 wider-tab" data-i18n-title="attacks" aria-label="Attacks" data-i18n-aria-label="attacks" />
            <label role="menuitem" class="tab tab3 wider-tab" data-i18n-title="attacks" data-i18n-aria-label="attacks" data-i18n="attacks">Attacks</label>
            <input type="radio" name="attr_tab" value="4" class="tabinput tab4 wider-tab" data-i18n-title="abilities" aria-label="Abilities" data-i18n-aria-label="abilities" />
            <label role="menuitem" class="tab tab4 wider-tab" data-i18n-title="abilities" data-i18n-aria-label="abilities" data-i18n="abilities">Abilities</label>
            <input type="radio" name="attr_tab" value="5" class="tabinput tab5" data-i18n-title="skills" aria-label="Skills" data-i18n-aria-label="skills" />
            <label role="menuitem" class="tab tab5" data-i18n-title="skills" data-i18n-aria-label="skills" data-i18n="skills">Skills</label>
            <input type="radio" name="attr_tab" value="7" class="tabinput tab7 spelltab" data-i18n-title="spells" aria-label="Spells" data-i18n-aria-label="spells" />
            <label role="menuitem" class="tab tab7 spelltab" data-i18n-title="spells" data-i18n-aria-label="spells" title="Spells" data-i18n="spells">Spells</label>
            <input type="radio" name="attr_tab" value="6" class="tabinput tab6" data-i18n-title="equipment" aria-label="Equipment" data-i18n-aria-label="equipment" />
            <label role="menuitem" class="tab tab6" data-i18n-title="equipment" data-i18n-aria-label="equipment" title="Equipment" data-i18n="equipment-abbrv">Equip</label>
            <input type="radio" name="attr_tab" value="8" class="tabinput tab8 narrow-tab npc-only" data-i18n-title="npc" aria-label="NPC" data-i18n-aria-label="npc" />
            <label role="menuitem" class="tab tab8 narrow-tab npc-only" data-i18n-title="npc" data-i18n-aria-label="npc" title="NPC" data-i18n="npc">NPC</label>
            <input type="radio" name="attr_tab" value="9" class="tabinput tab9 wider-tab" data-i18n-title="custom" aria-label="custom" data-i18n-aria-label="custom" />
            <label role="menuitem" class="tab tab9 wider-tab" data-i18n-title="custom" data-i18n-aria-label="custom" title="custom" data-i18n="custom">Custom</label>
            <input type="radio" name="attr_tab" value="10" class="tabinput tab10" data-i18n-title="notes" aria-label="notes" data-i18n-aria-label="notes" />
            <label role="menuitem" class="tab tab10" data-i18n-title="notes" data-i18n-aria-label="notes" title="notes" data-i18n="notes">notes</label>
            <input type="radio" name="attr_tab" value="99" class="tabinput tab99" data-i18n-title="all" aria-label="All" data-i18n-aria-label="all" />
            <label role="menuitem" class="tab tab99" data-i18n-title="all" data-i18n-aria-label="all" title="All" data-i18n="all">All</label>
            <div class="cheat"></div>
            <div class="section1 section section-core" role="region" aria-label="Core" data-i18n-aria-label="core">
                <h1 class="selected-tabtitle" data-i18n="core">Core</h1>
                <input class="showarrow h2arrow" type="checkbox" name="attr_character-details-show" data-i18n-aria-label="char-h-exp" value="1" checked />
                <h2 class="clickheader showsect"><label data-i18n-title="char-h-exp" data-i18n-aria-label="char-h-exp" data-i18n="char">Character Details</label></h2>
                <div class="h2-section nontable core-details wide-readonly">
                    <span class="nontable-name secondary-table-name" data-i18n="char">Character Details</span>
                    <label class="small-label2 autoexpand"><input title="@{character_title}" type="text" name="attr_character_title" data-i18n-placeholder="title"><span data-i18n="title">Title/Nickname</span><span name="attr_character_title" class="autoexpand"></span></label>
                    <label class="small-label2 autoexpand"><input title="@{race}" type="text" name="attr_race" data-i18n-placeholder="race"><span data-i18n="race">Race</span><span name="attr_race" class="autoexpand"></span></label>
                    <label class="small-label2 autoexpand"><input title="@{npc-type}" type="text" name="attr_npc-type" data-i18n-placeholder="type-or-sub-type"><span data-i18n="type-or-sub-type">Type/(sub-type)</span><span name="attr_npc-type" class="autoexpand"></span></label>
                    <label class="small-label2 autoexpand"><input title="@{alignment}" type="text" name="attr_alignment" data-i18n-placeholder="alignment"><span data-i18n="alignment">Alignment</span><span name="attr_alignment" class="autoexpand"></span></label>
                    <label class="small-label2 autoexpand"><input title="@{gender}" type="text" name="attr_gender" data-i18n-placeholder="gender"><span data-i18n="gender">Gender</span><span name="attr_gender" class="autoexpand"></span></label>
                    <label class="small-label2 entry-med hide-readonly" style="padding-left:0.5em;">
                        <select title="@{default_char_size}" name="attr_default_char_size">
                            <option value="-8" data-i18n="size-colossal">Colossal</option>
                            <option value="-4" data-i18n="size-gargantuan">Gargantuan</option>
                            <option value="-2" data-i18n="size-huge">Huge</option>
                            <option value="-1" data-i18n="size-large">Large</option>
                            <option value="0" data-i18n="medium-abbrv-default" selected>&#8226;Medium</option>
                            <option value="1" data-i18n="size-small">Small</option>
                            <option value="2" data-i18n="size-tiny">Tiny</option>
                            <option value="4" data-i18n="size-diminutive">Diminutive</option>
                            <option value="8" data-i18n="size-fine">Fine</option>
                        </select>
                        <span data-i18n="default-size">Default Size</span>
                    </label>
                    <label class="small-label2 entry-med" style="padding-left:0.5em;">
                        <select title="@{size}" name="attr_size">
                            <option value="-8" data-i18n="size-colossal">Colossal</option>
                            <option value="-4" data-i18n="size-gargantuan">Gargantuan</option>
                            <option value="-2" data-i18n="size-huge">Huge</option>
                            <option value="-1" data-i18n="size-large">Large</option>
                            <option value="0" data-i18n="medium-abbrv-default" selected>&#8226;Medium</option>
                            <option value="1" data-i18n="size-small">Small</option>
                            <option value="2" data-i18n="size-tiny">Tiny</option>
                            <option value="4" data-i18n="size-diminutive">Diminutive</option>
                            <option value="8" data-i18n="size-fine">Fine</option>
                        </select>
                        <span data-i18n="size">Size</span>
                    </label>
                    <label class="small-label2 narrow-numbers">
                        <input type="hidden" name="attr_old_size" value="x" />
                        <input type="hidden" name="attr_size_display" value="medium" />
                        <input title="@{size}" type="number" name="attr_size" value="0" class="calc" readonly />
                        <span data-i18n="modifier-abbrv">Mod</span>
                    </label>
                    <label class="small-label2 narrow-numbers hide-readonly"><input title="@{size_skill}" type="number" name="attr_size_skill" value="0" class="calc" readonly /><span data-i18n-title="skill-size-title" data-i18n-aria-label="skill-size-title" data-i18n="skill-size-modifier">Skill</span></label>
                    <label class="small-label2 number">
                        <input type="checkbox" value="4" name="attr_legs" title="@{legs}" style="margin-bottom:0.4em;" />
                        <span data-i18n-title="legs-title" data-i18n-aria-label="legs-title" data-i18n="four-legged-abbrv">Quad</span>
                    </label>
                    <label class="small-label2 number"><input title="@{age}" type="number" name="attr_age" data-i18n-placeholder="details-age" class="entry-wide" /><span data-i18n="age">Age</span></label>
                    <label class="small-label2 autoexpand"><input title="@{height}" type="text" name="attr_height" data-i18n-placeholder="details-height" /><span data-i18n="details-height">Height</span><span name="attr_height" class="autoexpand"></span></label>
                    <label class="small-label2 autoexpand"><input title="@{weight}" type="text" name="attr_weight" data-i18n-placeholder="details-weight" /><span data-i18n="weight">Weight</span><span name="attr_weight" class="autoexpand"></span></label>
                    <label class="small-label2 autoexpand"><input title="@{eyes}" type="text" name="attr_eyes" data-i18n-placeholder="eyes-details" /><span data-i18n="eyes">Eyes</span><span name="attr_eyes" class="autoexpand"></span></label>
                    <label class="small-label2 autoexpand"><input title="@{hair}" type="text" name="attr_hair" data-i18n-placeholder="hair-details" /><span data-i18n="hair">Hair</span><span name="attr_hair" class="autoexpand"></span></label>
                    <label class="small-label2 autoexpand"><input title="@{skin}" type="text" name="attr_skin" data-i18n-placeholder="skin-details" /><span data-i18n="skin">Skin</span><span name="attr_skin" class="autoexpand"></span></label>
                    <label class="small-label2 autoexpand"><input title="@{deity}" type="text" name="attr_deity" data-i18n-placeholder="details-deity" /><span data-i18n="deity">Deity</span><span name="attr_deity" class="autoexpand"></span></label>
                    <label class="small-label2 autoexpand"><input title="@{homeland}" type="text" name="attr_homeland" data-i18n-placeholder="details-homeland" /><span data-i18n="homeland">Homeland</span><span name="attr_homeland" class="autoexpand"></span></label>
                    <label class="small-label2 autoexpand"><input title="@{occupation}" type="text" name="attr_occupation" data-i18n-placeholder="details-occupation" /><span data-i18n="occupation">Occupation</span><span name="attr_occupation" class="autoexpand"></span></label>
                    <label class="small-label2 autoexpand"><input data-i18n-title="vision-title" data-i18n-aria-label="vision-title" type="text" name="attr_vision" data-i18n-placeholder="vision-details" /><span data-i18n="vision-senses">Vision and Senses</span><span name="attr_vision" class="autoexpand"></span></label>
                    <label class="small-label2 autoexpand"><input title="@{languages}" type="text" name="attr_languages" value="" data-i18n-placeholder="details-languages" class="entry-wide" /><span data-i18n="languages">Languages</span><span name="attr_languages" class="autoexpand"></span></label>
                    <input title="@{CMD-size}" type="hidden" name="attr_CMD-size" value="0">
                    <input title="@{size_skill_double}" type="hidden" name="attr_size_skill_double" value="0">
                    <span class="cheat"></span>
                    <label class="small-label2 wide-textareaparent"><textarea class="inline-textarea" title="@{character_description}" type="text" name="attr_character_description" data-i18n-placeholder="description"></textarea><span data-i18n="description">Description</span></label>
                </div>
                <div class="row row1 flex-row">
                    <input class="prestige-show noshow" type="checkbox" name="attr_use_prestige_fame" value="1" />
                    <input type="hidden" name="attr_checks-cond" value="0" />
                    <div class="cheat"></div>
                    <div class="col">
                        <input class="showarrow h2arrow" type="checkbox" name="attr_ability-scores-show" data-i18n-aria-label="ability-scores" value="1" checked />
                        <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="ability-scores">Ability Scores</label></h2>
                        <div class="h2-section ability-scores">
                            <input type="checkbox" value="1" name="attr_extra_fields_abilities_show" title="@{extra_fields_abilities_show}" class="extra-show extra-saves-show selectedlabel-check hide-readonly" /><b class="hide-readonly" data-i18n="show-more-fields">Show More Fields</b>
                            <div class="cheat"></div>
                            <div class="table narrow-numbers-readonly">
                                <span class="table-name secondary-table-name" data-i18n="ability-scores">Ability Scores</span>
                                <div class="table-group-head">
                                    <span class="table-header" data-i18n="ability">Ability</span>
                                    <span class="table-header" data-i18n-title="ability-score" data-i18n="total">Total</span>
                                    <span class="table-header right-border" data-i18n="modifier-abbrv">Mod</span>
                                    <span class="table-header emphasize-field" data-i18n="base-value">Base</span>
                                    <span class="table-header extra-sect" data-i18n-title="inherent-bonus" data-i18n-aria-label="inherent-bonus" data-i18n="inherent-abbrv">Inher</span>
                                    <span class="table-header" data-i18n-title="enhancement-bonus" data-i18n="enhancement-abbrv">Enhan</span>
                                    <span class="table-header" data-i18n-title="miscellaneous-bonus" data-i18n="miscellaneous-abbrv">Misc</span>
                                    <span class="table-header extra-sect" data-i18n-title="racial-modifiers" data-i18n-aria-label="racial-modifiers" data-i18n="race">Race</span>
                                    <span class="table-header extra-sect" data-i18n-title="ability-score-increase-bonus" data-i18n-aria-label="ability-score-increase-bonus" data-i18n="ability-score-increase-abbrv">ASI</span>
                                    <span class="table-header" data-i18n="buffs">Buffs</span>
                                    <span class="table-header" data-i18n-title="ability-damage-desc" data-i18n="damage">Damage</span>
                                    <span class="table-header extra-sect" data-i18n-title="ability-penalty-desc" data-i18n="penalty">Penalty</span>
                                    <span class="table-header" data-i18n-title="ability-drain-desc" data-i18n="drain">Drain</span>
                                    <!-- hide debuff with noshow -->
                                    <span class="table-header noshow" data-i18n-title="debuff-title" data-i18n="debuff">Debuff</span>
                                    <span class="table-header" data-i18n-title="condition-description" data-i18n-aria-label="condition-description" data-i18n="condition-abbrv">Cond</span>
                                    <span class="table-header extra-sect hide-readonly super note-d" data-i18n="macro">Macro</span>
                                </div>
                                <div class="table-group">
                                    <div class="table-row">
                                        <span class="table-cell"><button class="text-button" title="%{selected|STR-Check}" type="roll" name="roll_STR-Check" value="@{STR-check-macro-text}"> <span style="vertical-align:middle;" data-i18n="strength-abbrv">STR</span></button></span>
                                        <span class="table-cell number"><input class="calc number bigger-total" readonly title="@{STR}" type="text" name="attr_STR" value="10" /></span>
                                        <span class="table-cell right-border"><input type="checkbox" class="warn-show" name="attr_STR-modded" value="1" /><input class="calc highlight" readonly title="@{STR-mod}" type="number" name="attr_STR-mod" value="0" /></span>
                                        <span class="table-cell right-border emphasize-field"><input class="number" title="@{STR-base}" type="text" name="attr_STR-base" value="10" /></span>
                                        <span class="table-cell extra-sect"><input title="@{STR-inherent}" type="number" name="attr_STR-inherent" value="0" /></span>
                                        <span class="table-cell"><input title="@{STR-enhance}" type="number" name="attr_STR-enhance" value="0" /></span>
                                        <span class="table-cell"><input title="@{STR-misc}" type="number" name="attr_STR-misc" value="0" /></span>
                                        <span class="table-cell extra-sect"><input title="@{STR-racial}" type="number" name="attr_STR-racial" value="0" /></span>
                                        <span class="table-cell extra-sect"><input title="@{STR-asi}" type="number" name="attr_STR-asi" value="0" /></span>
                                        <span class="table-cell left-border right-border"><input title="@{buff_STR-total}" type="number" name="attr_buff_STR-total" value="0" class="calc" readonly /></span>
                                        <span class="table-cell"><input title="@{STR-damage}" type="number" name="attr_STR-damage" value="0" max="0" /></span>
                                        <span class="table-cell extra-sect"><input title="@{STR-penalty}" type="number" name="attr_STR-penalty" value="0" max="0" /></span>
                                        <span class="table-cell"><input title="@{STR-drain}" type="number" name="attr_STR-drain" value="0" max="0" /></span>
                                        <!-- hide debuff with noshow -->
                                        <span class="table-cell noshow"><input title="@{buff_STR-total_penalty}" name="attr_buff_STR-total_penalty" type="number" value="0" class="calc" readonly /></span>
                                        <span class="table-cell"><input title="@{STR-cond}" type="number" name="attr_STR-cond" value="0" class="calc" readonly /></span>
                                        <details class="table-cell extra-sect">
                                            <summary class="hide-readonly">...</summary>
                                            <textarea class="skill-macro-text options" title="@{STR-Check-macro-text}" name="attr_STR-Check-macro-text">@{PC-whisper} &amp;{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block-check}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{strength}}} {{check=[[ 1d20 + [[ @{STR-mod} ]] + [[ @{checks-cond} + @{buff_Check-total} + @{buff_check_ability-total} ]] ]]}} @{toggle_ability_notes}
                                            </textarea>
                                        </details>
                                    </div>
                                    <div class="table-row">
                                        <span class="table-cell"><button class="text-button" title="%{selected|DEX-Check}" type="roll" name="roll_DEX-Check" value="@{DEX-Check-macro-text}"> <span style="vertical-align:middle;" data-i18n="dexterity-abbrv">DEX</span></button></span>
                                        <span class="table-cell number"><input class="calc number bigger-total" readonly title="@{DEX}" type="text" name="attr_DEX" value="10" /></span>
                                        <span class="table-cell right-border"><input type="checkbox" class="warn-show" name="attr_DEX-modded" value="1" /><input class="calc highlight" readonly title="@{DEX-mod}" type="number" name="attr_DEX-mod" value="0" /></span>
                                        <span class="table-cell right-border emphasize-field"><input class="number" title="@{DEX-base}" type="text" name="attr_DEX-base" value="10" /></span>
                                        <span class="table-cell extra-sect"><input title="@{DEX-inherent}" type="number" name="attr_DEX-inherent" value="0" /></span>
                                        <span class="table-cell"><input title="@{DEX-enhance}" type="number" name="attr_DEX-enhance" value="0" /></span>
                                        <span class="table-cell"><input title="@{DEX-misc}" type="number" name="attr_DEX-misc" value="0" min="0" /></span>
                                        <span class="table-cell extra-sect"><input title="@{DEX-racial}" type="number" name="attr_DEX-racial" value="0" /></span>
                                        <span class="table-cell extra-sect"><input title="@{DEX-asi}" type="number" name="attr_DEX-asi" value="0" /></span>
                                        <span class="table-cell left-border right-border"><input class="calc" readonly title="@{buff_DEX-total}" type="number" name="attr_buff_DEX-total" value="0" /></span>
                                        <span class="table-cell"><input title="@{DEX-damage}" type="number" name="attr_DEX-damage" value="0" max="0" /></span>
                                        <span class="table-cell extra-sect"><input title="@{DEX-penalty}" type="number" name="attr_DEX-penalty" value="0" max="0" /></span>
                                        <span class="table-cell"><input title="@{DEX-drain}" type="number" name="attr_DEX-drain" value="0" max="0" /></span>
                                        <!-- hide debuff with noshow -->
                                        <span class="table-cell noshow"><input title="@{buff_DEX-total_penalty}" name="attr_buff_DEX-total_penalty" type="number" value="0" class="calc" readonly /></span>
                                        <span class="table-cell"><input class="calc" readonly title="@{DEX-cond}" type="number" name="attr_DEX-cond" value="0" max="0" /></span>
                                        <details class="table-cell extra-sect">
                                            <summary class="hide-readonly">...</summary>
                                            <textarea class="skill-macro-text options" title="@{DEX-Check-macro-text}" name="attr_DEX-Check-macro-text">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block-check}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{dexterity}}} {{check=[[ 1d20 + [[ @{DEX-mod} ]] + [[ @{checks-cond} + @{buff_Check-total} + @{buff_check_ability-total} ]] ]]}} @{toggle_ability_notes}</textarea>
                                        </details>
                                    </div>
                                    <div class="table-row">
                                        <span class="table-cell"><button class="text-button" title="%{selected|CON-Check}" type="roll" name="roll_CON-Check" value="@{CON-Check-macro-text}"> <span style="vertical-align:middle;" data-i18n="constitution-abbrv">CON</span></button></span>
                                        <span class="table-cell number"><input class="calc number bigger-total" readonly title="@{CON}" type="text" name="attr_CON" value="10" /></span>
                                        <span class="table-cell right-border"><input type="checkbox" class="warn-show" name="attr_CON-modded" value="1" /><input class="calc highlight" readonly title="@{CON-mod}" type="number" name="attr_CON-mod" value="0" /></span>
                                        <span class="table-cell right-border emphasize-field"><input class="number" title="@{CON-base}" type="text" name="attr_CON-base" value="10" /></span>
                                        <span class="table-cell extra-sect"><input title="@{CON-inherent}" type="number" name="attr_CON-inherent" value="0" /></span>
                                        <span class="table-cell"><input title="@{CON-enhance}" type="number" name="attr_CON-enhance" value="0" /></span>
                                        <span class="table-cell"><input title="@{CON-misc}" type="number" name="attr_CON-misc" value="0" min="0" /></span>
                                        <span class="table-cell extra-sect"><input title="@{CON-racial}" type="number" name="attr_CON-racial" value="0" /></span>
                                        <span class="table-cell extra-sect"><input title="@{CON-asi}" type="number" name="attr_CON-asi" value="0" /></span>
                                        <span class="table-cell left-border right-border"><input class="calc" readonly title="@{buff_CON-total}" type="number" name="attr_buff_CON-total" value="0" /></span>
                                        <span class="table-cell"><input title="@{CON-damage}" type="number" name="attr_CON-damage" value="0" max="0" /></span>
                                        <span class="table-cell extra-sect"><input title="@{CON-penalty}" type="number" name="attr_CON-penalty" value="0" max="0" /></span>
                                        <span class="table-cell"><input title="@{CON-drain}" type="number" name="attr_CON-drain" value="0" max="0" /></span>
                                        <!-- hide debuff with noshow -->
                                        <span class="table-cell noshow"><input title="@{buff_CON-total_penalty}" name="attr_buff_CON-total_penalty" type="number" value="0" class="calc" readonly /></span>
                                        <span class="table-cell"><input class="calc" readonly title="@{CON-cond}" type="number" name="attr_CON-cond" value="0" max="0" /></span>
                                        <details class="table-cell extra-sect">
                                            <summary class="hide-readonly">...</summary>
                                            <textarea class="skill-macro-text options" title="@{CON-Check-macro-text}" type="roll" name="attr_CON-Check-macro-text">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block-check}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{constitution}}} {{check=[[ 1d20 + [[ @{CON-mod} ]] + [[ @{checks-cond} + @{buff_Check-total} + @{buff_check_ability-total} ]] ]]}} @{toggle_ability_notes}</textarea>
                                        </details>
                                    </div>
                                    <div class="table-row">
                                        <span class="table-cell"><button class="text-button" title="%{selected|INT-Check}" type="roll" name="roll_INT-Check" value="@{INT-Check-macro-text}"> <span style="vertical-align:middle;" data-i18n="intelligence-abbrv">INT</span></button></span>
                                        <span class="table-cell number"><input class="calc number bigger-total" readonly title="@{INT}" type="text" name="attr_INT" value="10" /></span>
                                        <span class="table-cell right-border"><input type="checkbox" class="warn-show" name="attr_INT-modded" value="1" /><input class="calc highlight" readonly title="@{INT-mod}" type="number" name="attr_INT-mod" value="0" /></span>
                                        <span class="table-cell right-border emphasize-field"><input class="number" title="@{INT-base}" type="text" name="attr_INT-base" value="10" /></span>
                                        <span class="table-cell extra-sect"><input title="@{INT-inherent}" type="number" name="attr_INT-inherent" value="0" /></span>
                                        <span class="table-cell"><input title="@{INT-enhance}" type="number" name="attr_INT-enhance" value="0" /></span>
                                        <span class="table-cell"><input title="@{INT-misc}" type="number" name="attr_INT-misc" value="0" min="0" /></span>
                                        <span class="table-cell extra-sect"><input title="@{INT-racial}" type="number" name="attr_INT-racial" value="0" /></span>
                                        <span class="table-cell extra-sect"><input title="@{INT-asi}" type="number" name="attr_INT-asi" value="0" /></span>
                                        <span class="table-cell left-border right-border"><input class="calc" readonly title="@{buff_INT-total}" type="number" name="attr_buff_INT-total" value="0" /></span>
                                        <span class="table-cell"><input title="@{INT-damage}" type="number" name="attr_INT-damage" value="0" max="0" /></span>
                                        <span class="table-cell extra-sect"><input title="@{INT-penalty}" type="number" name="attr_INT-penalty" value="0" max="0" /></span>
                                        <span class="table-cell"><input title="@{INT-drain}" type="number" name="attr_INT-drain" value="0" max="0" /></span>
                                        <!-- hide debuff with noshow -->
                                        <span class="table-cell noshow"><input title="@{buff_INT-total_penalty}" name="attr_buff_INT-total_penalty" type="number" value="0" class="calc" readonly /></span>
                                        <span class="table-cell"><input class="calc" readonly title="@{INT-cond}" type="number" name="attr_INT-cond" value="0" max="0" /></span>
                                        <details class="table-cell extra-sect">
                                            <summary class="hide-readonly">...</summary>
                                            <textarea class="skill-macro-text options" title="@{INT-Check-macro-text}" name="attr_INT-Check-macro-text">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block-check}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{intelligence}}} {{check=[[ 1d20 + [[ @{INT-mod} ]] + [[ @{checks-cond} + @{buff_Check-total} + @{buff_check_ability-total} ]] ]]}} @{toggle_ability_notes}</textarea>
                                        </details>
                                    </div>
                                    <div class="table-row">
                                        <span class="table-cell"><button class="text-button" title="%{selected|WIS-Check}" type="roll" name="roll_WIS-Check" value="@{WIS-Check-macro-text}"> <span style="vertical-align:middle;" data-i18n="wisdom-abbrv">WIS</span></button></span>
                                        <span class="table-cell number"><input class="calc number bigger-total" readonly title="@{WIS}" type="text" name="attr_WIS" value="10" /></span>
                                        <span class="table-cell right-border"><input type="checkbox" class="warn-show" name="attr_WIS-modded" value="1" /><input class="calc highlight" readonly title="@{WIS-mod}" type="number" name="attr_WIS-mod" value="0" /></span>
                                        <span class="table-cell right-border emphasize-field"><input class="number" title="@{WIS-base}" type="text" name="attr_WIS-base" value="10" /></span>
                                        <span class="table-cell extra-sect"><input title="@{WIS-inherent}" type="number" name="attr_WIS-inherent" value="0" /></span>
                                        <span class="table-cell"><input title="@{WIS-enhance}" type="number" name="attr_WIS-enhance" value="0" /></span>
                                        <span class="table-cell"><input title="@{WIS-misc}" type="number" name="attr_WIS-misc" value="0" min="0" /></span>
                                        <span class="table-cell extra-sect"><input title="@{WIS-racial}" type="number" name="attr_WIS-racial" value="0" /></span>
                                        <span class="table-cell extra-sect"><input title="@{WIS-asi}" type="number" name="attr_WIS-asi" value="0" /></span>
                                        <span class="table-cell left-border right-border"><input class="calc" readonly title="@{buff_WIS-total}" type="number" name="attr_buff_WIS-total" value="0" /></span>
                                        <span class="table-cell"><input title="@{WIS-damage}" type="number" name="attr_WIS-damage" value="0" max="0" /></span>
                                        <span class="table-cell extra-sect"><input title="@{WIS-penalty}" type="number" name="attr_WIS-penalty" value="0" max="0" /></span>
                                        <span class="table-cell"><input title="@{WIS-drain}" type="number" name="attr_WIS-drain" value="0" max="0" /></span>
                                        <!-- hide debuff with noshow -->
                                        <span class="table-cell noshow"><input title="@{buff_WIS-total_penalty}" name="attr_buff_WIS-total_penalty" type="number" value="0" class="calc" readonly /></span>
                                        <span class="table-cell"><input class="calc" readonly title="@{WIS-cond}" type="number" name="attr_WIS-cond" value="0" max="0" /></span>
                                        <details class="table-cell extra-sect">
                                            <summary class="hide-readonly">...</summary>
                                            <textarea class="skill-macro-text options" title="@{WIS-Check-macro-text}" name="attr_WIS-Check-macro-text">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block-check}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{wisdom}}} {{check=[[ 1d20 + [[ @{WIS-mod} ]] + [[ @{checks-cond} + @{buff_Check-total} + @{buff_check_ability-total} ]] ]]}} @{toggle_ability_notes}</textarea>
                                        </details>
                                    </div>
                                    <div class="table-row">
                                        <span class="table-cell"><button class="text-button" title="%{selected|CHA-Check}" type="roll" name="roll_CHA-Check" value="@{CHA-Check-macro-text}"> <span style="vertical-align:middle;" data-i18n="charisma-abbrv">CHA</span></button></span>
                                        <span class="table-cell number"><input class="calc number bigger-total" readonly title="@{CHA}" type="text" name="attr_CHA" value="10" /></span>
                                        <span class="table-cell right-border"><input type="checkbox" class="warn-show" name="attr_CHA-modded" value="1" /><input class="calc highlight" readonly title="@{CHA-mod}" type="number" name="attr_CHA-mod" value="0" /></span>
                                        <span class="table-cell right-border emphasize-field"><input class="number" title="@{CHA-base}" type="text" name="attr_CHA-base" value="10" /></span>
                                        <span class="table-cell extra-sect"><input title="@{CHA-inherent}" type="number" name="attr_CHA-inherent" value="0" /></span>
                                        <span class="table-cell"><input title="@{CHA-enhance}" type="number" name="attr_CHA-enhance" value="0" /></span>
                                        <span class="table-cell"><input title="@{CHA-misc}" type="number" name="attr_CHA-misc" value="0" min="0" /></span>
                                        <span class="table-cell extra-sect"><input title="@{CHA-racial}" type="number" name="attr_CHA-racial" value="0" /></span>
                                        <span class="table-cell extra-sect"><input title="@{CHA-asi}" type="number" name="attr_CHA-asi" value="0" /></span>
                                        <span class="table-cell left-border right-border"><input class="calc" readonly title="@{buff_CHA-total}" type="number" name="attr_buff_CHA-total" value="0" /></span>
                                        <span class="table-cell"><input title="@{CHA-damage}" type="number" name="attr_CHA-damage" value="0" max="0" /></span>
                                        <span class="table-cell extra-sect"><input title="@{CHA-penalty}" type="number" name="attr_CHA-penalty" value="0" max="0" /></span>
                                        <span class="table-cell"><input title="@{CHA-drain}" type="number" name="attr_CHA-drain" value="0" max="0" /></span>
                                        <!-- hide debuff with noshow -->
                                        <span class="table-cell noshow"><input title="@{buff_CHA-total_penalty}" name="attr_buff_CHA-total_penalty" type="number" value="0" class="calc" readonly /></span>
                                        <span class="table-cell"><input class="calc" readonly title="@{CHA-cond}" type="number" name="attr_CHA-cond" value="0" max="0" /></span>
                                        <details class="table-cell extra-sect">
                                            <summary class="hide-readonly">...</summary>
                                            <textarea class="skill-macro-text options" title="@{CHA-Check-macro-text}" name="attr_CHA-Check-macro-text">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block-check}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{charisma}}} {{check=[[ 1d20 + [[ @{CHA-mod} ]] + [[ @{checks-cond} + @{buff_Check-total} + @{buff_check_ability-total} ]] ]]}} @{toggle_ability_notes}</textarea>
                                        </details>
                                    </div>
                                </div>
                            </div>
                            <div class="table">
                                <div class="table-row sect expand">
                                    <input type="checkbox" class="showarrow ability-notes-show" title="Click to expand" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_ability-notes-show" value="1" style="margin-left:0.25em;" aria-label="Click to expand">
                                    <span class="showsect ability-notes-showlabel" data-i18n="notes">Notes</span>
                                    <div class="ability-notes">
                                        <label>
                                            <input type="checkbox" class="selectedlabel-check" name="attr_toggle_ability_notes" value="@{var_ability_notes}" title="@{toggle_ability_notes}">
                                            <b data-i18n-title="options-ability-title" data-i18n-aria-label="options-ability-title" data-i18n="include-ability-notes" title="Show Ability Notes" aria-label="Show Ability Notes">Include Ability Notes in roll</b>
                                        </label>
                                        <textarea class="inline-textarea" title="@{ability-notes}" name="attr_ability-notes" data-i18n-placeholder="ability-notes-place" placeholder="Put notes about context-sensitive Ability bonuses here"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="cheat"></div>
                        <input class="sect-show-inverse noshow" type="checkbox" name="attr_is_npc" value="1" role="presentation" />
                        <input type="checkbox" name="attr_multiclassed" value="1" class="multiclassed-show noshow" />
                        <input class="showarrow h2arrow" type="checkbox" name="attr_class-info-show" data-i18n-aria-label="class-information" data-i18n-title="showsect-cmd" value="1" checked />
                        <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="class-race-xp">Class, Race, Experience</label></h2>
                        <div class="h2-section class-grid">
                            <span class="nontable-name" data-i18n="class-race-information-abbrv">Class and Race Info</span>
                            <input class="sect-show sect-show-inverse not-C-show or-A-show noshow" type="checkbox" name="attr_is_npc" value="1" role="presentation" />
                            <input class="sect or-D-show hide-readonly selectedlabel-check" name="attr_add_class" value="1" type="checkbox" />
                            <b class="sect hide-readonly" data-i18n="add-class-levels">Add Class Levels</b>
                            <input class="sect-inverse or-B-show hide-readonly selectedlabel-check" name="attr_add_race" value="1" type="checkbox" />
                            <b class="sect-inverse hide-readonly" data-i18n="add-hit-dice">Add Race/Monster HD</b>
                            <div class="cheat"></div>
                            <div class="table class-table wide-numbers hasexpandrows narrow-numbers-readonly" role="region" aria-label="Class Information" data-i18n-aria-label="class-information">
                                <span class="table-name secondary-table-name not-C-or-D-sect show-readonly" aria-label="Base Class Levels and Monster HD BAB, hp, skills, and saves" data-i18n="class-and-level">Class(es) and levels</span>
                                <div class="table-group-head not-C-or-D-sect">
                                    <div class="table-row">
                                        <span class="table-header nowrap left" data-i18n-title="class-number-explanation" data-i18n-aria-label="class-number-explanation" data-i18n="class-number">Class #</span>
                                        <span class="table-header entry-long" data-i18n-title="class-name" data-i18n-aria-label="class-name" data-i18n="class-name">Class Name</span>
                                        <span class="table-header" data-i18n-title="level-current" data-i18n-aria-label="level-current" data-i18n="level">Level</span>
                                        <span class="table-header" data-i18n-title="hit-die-desc" data-i18n-aria-label="hit-die-desc" data-i18n="d-hit-die">d(hitdie)</span>
                                        <span class="table-header" data-i18n-title="hit-points-class-title" data-i18n-aria-label="hit-points-class-title" data-i18n="class-hit-points-abbrv">Class hp</span>
                                        <span class="table-header" data-i18n-title="favored-class-hit-points-title" data-i18n-aria-label="favored-class-hit-points-title" data-i18n="favored-class-hit-points-abbrv">FC hp</span>
                                        <span class="table-header" data-i18n-title="base-attack-bonus" data-i18n-aria-label="base-attack-bonus" data-i18n="base-attack-bonus-abbrv">BAB</span>
                                        <span class="table-header" data-i18n-title="fortitude-save" data-i18n-aria-label="fortitude-save" data-i18n="fortitude-abbrv" aria-label="Fortitude Save">FORT</span>
                                        <span class="table-header" data-i18n-title="reflex-save" data-i18n-aria-label="reflex-save" data-i18n="reflex-abbrv">REF</span>
                                        <span class="table-header" data-i18n-title="willpower-save-abbrv" data-i18n-aria-label="will-save" data-i18n="willpower-abbrv">WILL</span>
                                        <span class="table-header" data-i18n-title="skills-per-level" data-i18n-aria-label="skills-per-level" data-i18n="skills-per-level-abbrv">Skills/Lvl</span>
                                        <span class="table-header" data-i18n-title="favored-class-skill" data-i18n-aria-label="favored-class-skill" data-i18n="favored-class-skill-abbrv">FC Skill</span>
                                        <span class="table-header" data-i18n-title="alternate-favored-class" data-i18n-aria-label="alternate-favored-class" data-i18n="alternate-favored-class-abbrv">FC Alt</span>
                                    </div>
                                </div>
                                <div class="table-group not-C-or-D-sect">
                                    <div class="table-row">
                                        <span class="table-cell"><b data-i18n-title="class-0-title" data-i18n="1-ordinal">1st</b></span>
                                        <span class="table-cell"><input title="@{class-0-name}" type="text" name="attr_class-0-name" data-i18n-placeholder="class-name"></span>
                                        <span class="table-cell"><input title="@{class-0-level}" type="number" name="attr_class-0-level" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-0-hd}" type="text" name="attr_class-0-hd" value="" class="number" /></span>
                                        <span class="table-cell"><input title="@{class-0-hp}" type="number" name="attr_class-0-hp" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-0-fchp}" type="number" name="attr_class-0-fchp" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-0-bab}" type="number" name="attr_class-0-bab" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-0-Fort}" type="number" name="attr_class-0-Fort" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-0-Ref}" type="number" name="attr_class-0-Ref" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-0-Will}" type="number" name="attr_class-0-Will" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-0-skill}" type="number" name="attr_class-0-skill" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-0-fcskill}" type="number" name="attr_class-0-fcskill" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-0-fcalt}" type="number" name="attr_class-0-fcalt" value="0" step="0" min="0" /></span>
                                    </div>
                                    <input type="checkbox" class="showarrow sect-show expand-arrow expand1" name="attr_class1_show" value="1" data-i18n-title="expand-multiclass" data-i18n-aria-label="Expand-multiclass" /><span class="showsect" data-i18n-title="expand-multiclass" data-i18n-aria-label="Expand-multiclass"></span>
                                    <div class="table-row sect">
                                        <span class="table-cell"><b data-i18n-title="class-1-title" data-i18n="2-ordinal">2nd</b></span>
                                        <span class="table-cell"><input title="@{class-1-name}" type="text" name="attr_class-1-name" data-i18n-placeholder="class-name"></span>
                                        <span class="table-cell"><input title="@{class-1-level}" type="number" name="attr_class-1-level" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-1-hd}" type="text" name="attr_class-1-hd" value="" class="number" /></span>
                                        <span class="table-cell"><input title="@{class-1-hp}" type="number" name="attr_class-1-hp" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-1-fchp}" type="number" name="attr_class-1-fchp" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-1-bab}" type="number" name="attr_class-1-bab" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-1-Fort}" type="number" name="attr_class-1-Fort" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-1-Ref}" type="number" name="attr_class-1-Ref" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-1-Will}" type="number" name="attr_class-1-Will" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-1-skill}" type="number" name="attr_class-1-skill" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-1-fcskill}" type="number" name="attr_class-1-fcskill" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-1-fcalt}" type="number" name="attr_class-1-fcalt" value="0" step="0" min="0" /></span>
                                    </div>
                                    <input type="checkbox" class="showarrow sect2-show sect expand-arrow expand2" name="attr_class2_show" value="1" data-i18n-title="expand-multiclass" data-i18n-aria-label="Expand-multiclass" /><span class="showsect sect" data-i18n-title="expand-multiclass" data-i18n-aria-label="Expand-multiclass"></span>
                                    <div class="table-row sect sect2">
                                        <span class="table-cell"><b data-i18n-title="class-2-title" data-i18n="3-ordinal">3rd</b></span>
                                        <span class="table-cell"><input title="@{class-2-name}" type="text" name="attr_class-2-name" data-i18n-placeholder="class-name"></span>
                                        <span class="table-cell"><input title="@{class-2-level}" type="number" name="attr_class-2-level" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-2-hd}" type="text" name="attr_class-2-hd" value="" class="number" /></span>
                                        <span class="table-cell"><input title="@{class-2-hp}" type="number" name="attr_class-2-hp" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-2-fchp}" type="number" name="attr_class-2-fchp" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-2-bab}" type="number" name="attr_class-2-bab" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-2-Fort}" type="number" name="attr_class-2-Fort" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-2-Ref}" type="number" name="attr_class-2-Ref" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-2-Will}" type="number" name="attr_class-2-Will" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-2-skill}" type="number" name="attr_class-2-skill" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-2-fcskill}" type="number" name="attr_class-2-fcskill" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-2-fcalt}" type="number" name="attr_class-2-fcalt" value="0" step="0" min="0" /></span>
                                    </div>
                                    <input type="checkbox" class="showarrow sect3-show sect sect2 expand-arrow expand3" name="attr_class3_show" value="1" data-i18n-title="expand-multiclass" data-i18n-aria-label="Expand-multiclass" /><span class="showsect sect sect2" data-i18n-title="expand-multiclass" data-i18n-aria-label="Expand-multiclass"></span>
                                    <div class="table-row sect sect2 sect3">
                                        <span class="table-cell"><b data-i18n-title="class-3-title" data-i18n="4-ordinal">4th</b></span>
                                        <span class="table-cell"><input title="@{class-3-name}" type="text" name="attr_class-3-name" data-i18n-placeholder="class-name"></span>
                                        <span class="table-cell"><input title="@{class-3-level}" type="number" name="attr_class-3-level" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-3-hd}" type="text" name="attr_class-3-hd" value="" class="number" /></span>
                                        <span class="table-cell"><input title="@{class-3-hp}" type="number" name="attr_class-3-hp" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-3-fchp}" type="number" name="attr_class-3-fchp" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-3-bab}" type="number" name="attr_class-3-bab" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-3-Fort}" type="number" name="attr_class-3-Fort" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-3-Ref}" type="number" name="attr_class-3-Ref" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-3-Will}" type="number" name="attr_class-3-Will" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-3-skill}" type="number" name="attr_class-3-skill" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-3-fcskill}" type="number" name="attr_class-3-fcskill" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-3-fcalt}" type="number" name="attr_class-3-fcalt" value="0" step="0" min="0" /></span>
                                    </div>
                                    <div class="table-row sect sect2 sect3">
                                        <span class="table-cell"><b data-i18n-title="class-4-title" data-i18n="5-ordinal">5th</b></span>
                                        <span class="table-cell"><input title="@{class-4-name}" type="text" name="attr_class-4-name" data-i18n-placeholder="class-name"></span>
                                        <span class="table-cell"><input title="@{class-4-level}" type="number" name="attr_class-4-level" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-4-hd}" type="text" name="attr_class-4-hd" value="" class="number" /></span>
                                        <span class="table-cell"><input title="@{class-4-hp}" type="number" name="attr_class-4-hp" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-4-fchp}" type="number" name="attr_class-4-fchp" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-4-bab}" type="number" name="attr_class-4-bab" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-4-Fort}" type="number" name="attr_class-4-Fort" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-4-Ref}" type="number" name="attr_class-4-Ref" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-4-Will}" type="number" name="attr_class-4-Will" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-4-skill}" type="number" name="attr_class-4-skill" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-4-fcskill}" type="number" name="attr_class-4-fcskill" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-4-fcalt}" type="number" name="attr_class-4-fcalt" value="0" step="0" min="0" /></span>
                                    </div>
                                    <div class="table-row sect sect2 sect3">
                                        <span class="table-cell"><b data-i18n-title="class-5-title" data-i18n="6-ordinal">6th</b></span>
                                        <span class="table-cell"><input title="@{class-5-name}" type="text" name="attr_class-5-name" data-i18n-placeholder="class-name"></span>
                                        <span class="table-cell"><input title="@{class-5-level}" type="number" name="attr_class-5-level" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-5-hd}" type="text" name="attr_class-5-hd" value="" class="number" /></span>
                                        <span class="table-cell"><input title="@{class-5-hp}" type="number" name="attr_class-5-hp" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-5-fchp}" type="number" name="attr_class-5-fchp" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-5-bab}" type="number" name="attr_class-5-bab" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-5-Fort}" type="number" name="attr_class-5-Fort" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-5-Ref}" type="number" name="attr_class-5-Ref" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-5-Will}" type="number" name="attr_class-5-Will" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{class-5-skill}" type="number" name="attr_class-5-skill" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-5-fcskill}" type="number" name="attr_class-5-fcskill" value="0" /></span>
                                        <span class="table-cell"><input title="@{class-5-fcalt}" type="number" name="attr_class-5-fcalt" value="0" step="0" min="0" /></span>
                                    </div>
                                </div>
                                <span class="nontable-name secondary-table-name either-or-sect show-readonly" style="position:absolute;" data-i18n="monster-racial-hit-dice-abbrv">Monster Racial HD</span>
                                <div class="table-group either-or-sect" style="margin-top:1em" ;>
                                    <div class="table-row creature-race-header">
                                        <span class="table-header right nowrap" data-i18n="race">Race</span>
                                        <span class="table-header entry-long" data-i18n="type-or-sub-type">Type (Sub type)</span>
                                        <span class="table-header" data-i18n-title="hit-dice-desc" data-i18n="number-hit-dice-abbrv"># HD</span>
                                        <span class="table-header" data-i18n-title="hit-die-desc" data-i18n="d-hit-die">d(hitdie)</span>
                                        <span class="table-header" data-i18n="hit-points-abbrv">hp</span>
                                        <span class="table-header not-C-or-D-sect"></span>
                                        <span class="table-header" data-i18n-title="base-attack-bonus" data-i18n-aria-label="base-attack-bonus" data-i18n="base-attack-bonus-abbrv">BAB</span>
                                        <span class="table-header" data-i18n-title="fortitude-save" data-i18n-aria-label="fortitude-save" data-i18n="fortitude-abbrv">Fort</span>
                                        <span class="table-header" data-i18n-title="reflex-save" data-i18n-aria-label="reflex-save" data-i18n="reflex-abbrv">Ref</span>
                                        <span class="table-header" data-i18n-title="willpower-save-abbrv" data-i18n-aria-label="will-save" data-i18n="willpower-abbrv">Will</span>
                                        <span class="table-header" data-i18n-title="skills-per-hit-die" data-i18n-aria-label="skills-per-hit-die" data-i18n="skills-per-hit-die-abbrv">Skills/HD</span>
                                        <span class="table-header not-C-or-D-sect"></span>
                                        <span class="table-header not-C-or-D-sect"></span>
                                    </div>
                                    <div class="table-row">
                                        <span class="table-cell" data-i18n-title="type-or-sub-type" style="padding-left:0.5em;"><b><span data-i18n="type">Type</span></b></span>
                                        <span class="table-cell left" style="padding-left:0.5em;"><span title="@{npc-type}" type="text" name="attr_npc-type" data-i18n-placeholder="type-or-sub-type" class="left"></span></span>
                                        <span class="table-cell"><input title="@{npc-hd-num}" type="number" name="attr_npc-hd-num" value="0" /></span>
                                        <span class="table-cell"><input title="@{npc-hd}" type="text" name="attr_npc-hd" value="" class="number" /></span>
                                        <span class="table-cell"><input title="@{NPC-HP}" type="number" name="attr_NPC-HP" value="0" /></span>
                                        <span class="table-cell not-C-or-D-sect"><input style="display:none;" title="@{npc-fchp}" type="number" name="attr_npc-fchp" value="0" /></span>
                                        <span class="table-cell"><input title="@{npc-bab}" type="number" name="attr_npc-bab" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{npc-Fort}" type="number" name="attr_npc-Fort" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{npc-Ref}" type="number" name="attr_npc-Ref" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{npc-Will}" type="number" name="attr_npc-Will" value="0" step="0" min="0" /></span>
                                        <span class="table-cell"><input title="@{npc-skill}" type="number" name="attr_npc-skill" value="0" /></span>
                                        <span class="table-cell not-C-or-D-sect"><input style="display:none;" title="@{npc-fcskill}" type="number" name="attr_npc-fcskill" value="0" /></span>
                                        <span class="table-cell not-C-or-D-sect"><input style="display:none;" title="@{npc-fcalt}" type="number" name="attr_npc-fcalt" value="0" step="0" min="0" /></span>
                                    </div>
                                </div>
                                <div class="total-row">
                                    <span class="table-cell"><b><span data-i18n="total">Total</span></b></span>
                                    <span class="table-cell"><input class="not-C-or-D-sect" title="@{class-favored}" type="text" name="attr_class-favored" data-i18n-placeholder="favored-class" /></span>
                                    <span class="table-cell"><input title="@{level}" type="number" name="attr_level" value="0" class="calc" readonly /></span>
                                    <span class="table-cell"></span>
                                    <span class="table-cell"><input title="@{total-hp}" type="number" name="attr_total-hp" value="0" class="calc" readonly /></span>
                                    <span class="table-cell label not-C-or-D-sect"> </span>
                                    <span class="table-cell"><input title="@{bab}" type="number" name="attr_bab" value="0" class="calc" readonly /></span>
                                    <span class="table-cell"><input title="@{total-Fort}" type="number" name="attr_total-Fort" value="0" class="calc" readonly /></span>
                                    <span class="table-cell"><input title="@{total-Ref}" type="number" name="attr_total-Ref" value="0" class="calc" readonly /></span>
                                    <span class="table-cell"><input title="@{total-Will}" type="number" name="attr_total-Will" value="0" class="calc" readonly /></span>
                                    <span class="table-cell"><input title="@{total-skill}" type="number" name="attr_total-skill" value="0" class="calc" readonly /></span>
                                    <span class="table-cell not-C-or-D-sect"><input title="@{total-fcskill}" type="number" name="attr_total-fcskill" value="0" class="calc" readonly /></span>
                                    <span class="table-cell not-C-or-D-sect"><input title="@{total-fcalt}" type="number" name="attr_total-fcalt" value="0" class="calc" readonly /></span>
                                </div>
                            </div>
                        </div>
                        <div class="h2-section experience sect-inverse">
                            <input class="wider-readonly noshow" type="checkbox" name="attr_use_prestige_fame" value="1" />
                            <input class="wider-readonly noshow" type="checkbox" name="attr_use_hero_points" value="1" />
                            <div class="table sect">
                                <span class="table-name secondary-table-name" data-i18n="experience-points-abbrv">XP</span>
                                <div class="table-group-head">
                                    <input class="sect-show noshow" type="checkbox" name="attr_use_prestige_fame" value="1" />
                                    <input class="sect2-show noshow" type="checkbox" name="attr_use_hero_points" value="1" />
                                    <span class="table-header" data-i18n="current-experience">Current Experience</span>
                                    <span class="table-header divider-lg"> </span>
                                    <span class="table-header" data-i18n="next-level">Next Level</span>
                                    <span class="table-header sect left-border" data-i18n="prestige-points">Prestige Points</span>
                                    <span class="table-header sect divider-lg"> </span>
                                    <span class="table-header sect" data-i18n="fame">Fame</span>
                                    <span class="table-header sect2 left-border" data-i18n="hero-points">Hero Points</span>
                                </div>
                                <div class="table-row">
                                    <input class="sect-show noshow" type="checkbox" name="attr_use_prestige_fame" value="1" />
                                    <input class="sect2-show noshow" type="checkbox" name="attr_use_hero_points" value="1" />
                                    <span class="table-cell"><input class="entry-wide" title="@{experience}" type="number" name="attr_experience" data-i18n-placeholder="experience-current-place" /></span>
                                    <span class="divider-lg">/</span>
                                    <span class="table-cell"><input class="entry-wide" title="@{experience|max}" type="number" name="attr_experience_max" data-i18n-placeholder="experience-next" /></span>
                                    <span class="table-cell sect"><input class="entry-wide" title="@{prestige}" type="number" name="attr_prestige" data-i18n-placeholder="prestige-points" /></span>
                                    <span class="divider-lg sect">/</span>
                                    <span class="table-cell sect"><input class="entry-wide" title="@{fame}" type="number" name="attr_fame" data-i18n-placeholder="fame" /></span>
                                    <span class="table-cell sect2"><input class="entry-wide" title="@{hero-points}" type="number" name="attr_hero-points" data-i18n-placeholder="hero-points" /></span>
                                </div>
                            </div>
                            <input class="nextitem-show" type="checkbox" name="attr_use_prestige_fame" value="1" />
                            <div class="faction-notes nextitem" style="width:99%;margin-top:0.5em;">
                                <label class="left small-label" style="display:block;" data-i18n="faction-notes">Faction Notes</label>
                                <textarea class="inline-textarea" title="@{faction_notes}" name="attr_faction_notes" data-i18n-placeholder="faction-notes-place"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cheat"></div>
                <div class="row row2 flex-col">
                    <div class="flex-row">
                        <input type="checkbox" class="wounds-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_wound_threshold-show" value="1">
                        <input class="showarrow h2arrow" type="checkbox" name="attr_health-and-wounds-show" data-i18n-aria-label="health-and-wounds" value="1" checked />
                        <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="health-and-wounds">Health and Wounds</label></h2>
                        <div class="cheat"></div>
                        <div class="h2-section hit-points">
                            <div class="wide-numbers">
                                <div class="table">
                                    <span class="table-name" data-i18n="hit-points">Hit Points</span>
                                    <div class="table-group-head">
                                        <span class="table-header"></span>
                                        <span class="table-header" data-i18n-title="current-hp-title" data-i18n-aria-label="current-hp-title" data-i18n="current-hit-points-abbrv">Curr HP</span>
                                        <span class="table-header"></span>
                                        <span class="table-header" data-i18n-title="max-hp-title" data-i18n-aria-label="max-hp-title" data-i18n="maximum-abbrv">Max</span>
                                    </div>
                                    <div class="table-row center" style="line-height: 1rem;">
                                        <span class="icon pictos">k</span>
                                        <span class="table-cell"><input type="number" title="@{HP}" name="attr_HP" value="0"></span>
                                        <span class="divider-lg">/</span>
                                        <span class="table-cell"><input class="calc" readonly type="number" title="@{HP|max}" name="attr_HP_max" value="0"></span>
                                    </div>
                                </div>
                                <div class="table" style="margin-top:0.2rem;">
                                    <div class="table-group-head">
                                        <span class="table-header" style="width:4em;padding-top:1.8rem;" data-i18n-title="recalculate-hit-points-title" data-i18n-aria-label="recalculate-hit-points-title" data-i18n="reset-hp">Reset hp</span>
                                        <span class="table-header" style="padding-top:1.8rem;" data-i18n-title="temporary-hit-points-title" data-i18n-aria-label="temporary-hit-points-title" data-i18n="temporary-hit-points-abbrv">Temp HP</span>
                                        <span class="table-header"> </span>
                                        <span class="table-header" style="width:4em;padding-top:1.8rem;" data-i18n-title="temporary-hit-points-maximum-title" data-i18n-aria-label="temporary-hit-points-maximum-title" data-i18n="maximum-abbrv">Max</span>
                                        <span class="table-header" style="line-height:1.5rem; vertical-align: bottom;" data-i18n-title="nonlethal-damage-title" data-i18n-aria-label="nonlethal-damage-title" data-i18n="nonlethal-damage">Nonlethal Damage</span>
                                    </div>
                                    <div class="table-row">
                                        <span class="table-cell small-label" style="width:4em;">
                                            <input type="checkbox" class="cssbutton maxhealbutton" name="attr_HP_reset" value="1" data-i18n-title="recalculate-hit-points" data-i18n-aria-label="recalculate-hit-points"><span></span>
                                            <br />
                                            <span data-i18n-title="recalculate-hit-points" data-i18n-aria-label="recalculate-hit-points" data-i18n="maximum-abbrv" style="margin-left: -0.75rem;">Max</span>
                                        </span>
                                        <span class="table-cell" style="vertical-align:top;"><input type="number" title="@{HP-temp}" name="attr_HP-temp" value="0"></span>
                                        <span class="divider" style="vertical-align:top;padding-top:0.8rem;">/</span>
                                        <span class="table-cell" style="width:4em;vertical-align:top;"><input class="calc" readonly type="number" title="@{HP-temp|max}" name="attr_HP-temp_max" value="0"></span>
                                        <input type="checkbox" class="warn-show noshow" name="attr_condition-Staggered" value="1" style="display:none">
                                        <span class="table-cell highlight" style="vertical-align:top;"><input type="number" title="@{non-lethal-damage}" name="attr_non-lethal-damage" value="0" min="0"></span>
                                    </div>
                                </div>
                                <div class="table npc-only">
                                    <div class="table-row">
                                        <span class="table-cell small-label" style="padding-left:0.3rem;">
                                            <input type="text" title="@{npc-heal-conditions}" name="attr_npc-heal-conditions" value="" data-i18n-placeholder="heal-conditions" />
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="h2-section wound-threshold">
                            <div class="table">
                                <span class="table-name show-readonly" data-i18n="wound-threshold">Wound Threshold</span>
                                <div class="table-row"><span class="table-cell left"><label><input type="radio" title="@{condition-Wounds}" name="attr_condition-Wounds" value="0" checked="checked"><b class="offCase" style="vertical-align:middle;" data-i18n="healthy">Healthy </b></label></span></div>
                                <div class="table-row"><span class="table-cell left"><label><input type="radio" title="@{condition-Wounds}" class="boldlabel-check" name="attr_condition-Wounds" value="1"><b data-i18n-title="grazed-title" data-i18n-aria-label="grazed-title" data-i18n="grazed">Grazed </b></label><input title="@{HP_grazed} 75% or less of max HP" type="number" name="attr_HP_grazed" value="0" class="calc" readonly /></span></div>
                                <div class="table-row"><span class="table-cell left"><label><input type="radio" title="@{condition-Wounds}" class="boldlabel-check" name="attr_condition-Wounds" value="2"><b data-i18n-title="wounded-title" data-i18n-aria-label="wounded-title" data-i18n="wounded">Wounded </b></label><input title="@{HP_wounded} 50% or less of max HP" type="number" name="attr_HP_wounded" value="0" class="calc" readonly /></span></div>
                                <div class="table-row"><span class="table-cell left"><label><input type="radio" title="@{condition-Wounds}" class="boldlabel-check" name="attr_condition-Wounds" value="3"><b data-i18n-title="critical-title" data-i18n-aria-label="critical-title" data-i18n="critical">Critical </b></label><input title="@{HP_critical} 25% or less of max HP" type="number" name="attr_HP_critical" value="0" class="calc" readonly /></span></div>
                                <div class="table-row"><span class="table-cell left" style="max-width:8em;"><label data-i18n-title="disabled-title" data-i18n-aria-label="disabled-title" style="margin-right:0;"><b data-i18n="disabled-at">Disabled at </b><input title="@{HP_disabled}" type="text" name="attr_HP_disabled" value="0" class="calc" readonly /></label></span></div>
                            </div>
                        </div>
                        <div class="h2-section hit-point-calcs hide-readonly">
                            <div class="table">
                                <span class="table-name secondary-table-name">Hit Point Calculations</span>
                                <div class="table-group-head">
                                    <span class="table-header divider-lg"> </span>
                                    <span class="table-header ability-column" data-i18n-title="hit-points-ability-title" data-i18n-aria-label="hit-points-ability-title" data-i18n="ability">Ability</span>
                                    <span class="table-header" data-i18n-title="hit-points-modifier-title" data-i18n-aria-label="hit-points-modifier-title" data-i18n="modifier-abbrv">Mod</span>
                                    <span class="table-header divider-lg"> </span>
                                    <span class="table-header" data-i18n-title="level-hit-dice" data-i18n-aria-label="level-hit-dice" data-i18n="level-hit-dice-abbrv">Level/HD</span>
                                    <span class="table-header divider-lg"> </span>
                                    <span class="table-header" data-i18n="ability-bonus">Ability Bonus</span>
                                    <span class="table-header divider-lg"> </span>
                                    <span class="table-header" data-i18n-title="hit-points-due-to-hit-dice-title" data-i18n-aria-label="hit-points-due-to-hit-dice-title" data-i18n="hit-points-due-to-hit-dice-abbrv">Class/HD hp</span>
                                    <span class="table-header divider-lg"> </span>
                                    <span class="table-header entry-10p-shrink super note-a" data-i18n-title="hit-points-adjustment-title" data-i18n-aria-label="hit-points-adjustment-title" data-i18n="miscellaneous-abbrv">Misc</span>
                                </div>
                                <div class="table-row">
                                    <span class="divider-lg">= (</span>
                                    <span class="table-cell ability-column">
                                        <select title="@{HP-ability}" name="attr_HP-ability" class="select-small">
                                            <option value="0" data-i18n="none">None</option>
                                            <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                            <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                            <option value="CON-mod" data-i18n="constitution-abbrv-default" selected>&#8226;CON</option>
                                            <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                            <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                            <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                        </select>
                                    </span>
                                    <span class="table-cell number"><input type="number" class="calc narrow-numbers" title="@{HP-ability-mod}" name="attr_HP-ability-mod" value="0" readonly /></span>
                                    <span class="divider-lg">*</span>
                                    <span class="table-cell number"><input type="number" class="calc narrow-numbers" title="@{level}" name="attr_level" value="0" readonly /></span>
                                    <span class="divider divider-lg">)=</span>
                                    <span class="table-cell number"><input type="number" name="attr_hp_ability_bonus" title="@{hp_ability_bonus}" value="0" class="calc narrow-numbers" readonly /></span>
                                    <span class="divider divider-lg">+</span>
                                    <span class="table-cell number"><input type="number" class="calc entry-wide" title="@{total-hp}" name="attr_total-hp" value="0" readonly /></span>
                                    <span class="divider divider-lg">+</span>
                                    <span class="table-cell highlight linked-tablecell">
                                        <input type="checkbox" name="attr_HP-formula-mod_error" class="error-mshow" value="1" />
                                        <input class="macro-text-inline skill-macro-text linked-cellfield highlight float-right" title="@{HP-formula-macro-text}" name="attr_HP-formula-macro-text" type="text" data-i18n-placeholder="equation-macro-place" placeholder="#/Equation" />
                                        <input type="number" class="narrow-numbers calc highlight" title="@{HP-formula-mod}" name="attr_HP-formula-mod" value="0" readonly />
                                    </span>
                                </div>
                            </div>
                            <div class="table hit-points-calcs2" style="margin-top:0.2rem">
                                <span class="table-name secondary-table-name nowrap" data-i18n="temporary-hp-calculations">Temp hp calculations</span>
                                <div class="table-group-head">
                                    <span class="table-header number" data-i18n-title="temporary-hit-points-miscellaneous-title" data-i18n-aria-label="temporary-hit-points-miscellaneous-title" data-i18n="miscellaneous-abbrv" title="Player configurable temporary hit points that add to the total Temp hp value" aria-label="Player configurable temporary hit points that add to the total Temp hp value">Misc</span>
                                    <span class="table-header"></span>
                                    <span class="table-header" data-i18n-title="temporary-hit-points-buff-title" data-i18n-aria-label="temporary-hit-points-buff-title" data-i18n="buff" title="Temporary hit points that come from active Buffs (see Core tab)" aria-label="Temporary hit points that come from active Buffs (see Core tab)">Buff</span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell number" style="padding-left: 1em;"><input type="number" title="@{HP-temp-misc}" name="attr_HP-temp-misc" value="0"></span>
                                    <span class="divider">+</span>
                                    <span class="table-cell">
                                        <input class="calc" type="number" title="@{buff_HP-temp-total}" name="attr_buff_HP-temp-total" value="0" readonly />
                                    </span>
                                </div>
                            </div>
                            <div class="table hit-points-calcs2">
                                <span class="table-name secondary-table-name" data-i18n="death-threshold">Death Threshold</span>
                                <div class="table-group-head">
                                    <span class="table-header number super note-a" data-i18n-title="death-threshold-title" data-i18n-aria-label="death-threshold-title" data-i18n="macro" title="Death threshold calculation. Normally this is -@{CON}" aria-label="Death threshold calculation. Normally this is -@{CON}">Macro</span>
                                    <span class="table-header" data-i18n-title="death-threshold-total-title" data-i18n-aria-label="death-threshold-total-title" data-i18n="total" title="Point at which character death occurs." aria-label="Point at which character death occurs." style="padding-right: 2.2em;">Total</span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell number highlight linked-tablecell">
                                        <input type="checkbox" name="attr_death_threshold_total_error" class="error-mshow" value="1">
                                        <input class="macro-text-inline skill-macro-text linked-cellfield highlight" title="@{death_threshold-macro-text}" name="attr_death_threshold-macro-text" type="text" value="-@{CON}" data-i18n-placeholder="equation-macro-place" placeholder="#/Equation" style="margin-left: 2em;">
                                        <input type="number" class="narrow-numbers calc highlight" title="@{death_threshold_total}" name="attr_death_threshold_total" value="0" style="margin-left: 1em;" readonly />
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="cheat"></div>
                        <input class="showarrow h2arrow" type="checkbox" name="attr_initiative-show" data-i18n-aria-label="initiative" value="1" checked />
                        <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="initiative-and-speeds">Initiative and Speed</label></h2>
                        <div class="h2-section initiative">
                            <input type="checkbox" value="1" name="attr_extra_fields_init_show" title="@{extra_fields_init_show}" class="extra-show extra-saves-show selectedlabel-check hide-readonly" /><b class="hide-readonly" data-i18n="show-more-fields">Show More Fields</b>
                            <div class="cheat"></div>
                            <div class="table narrow-numbers-readonly" style="margin-bottom:0.5em;">
                                <span class="table-name" data-i18n="initiative">Initiative</span>
                                <div class="table init-group">
                                    <div class="table-row hide-readonly">
                                        <span class="table-header" data-i18n="roll">Roll</span>
                                        <span class="table-header" data-i18n="total">Total</span>
                                        <span class="table-header"></span>
                                        <span class="table-header" style="max-width:6em; min-width:3em" data-i18n="ability">Ability</span>
                                        <span class="table-header" data-i18n="modifier-abbrv">Mod</span>
                                        <span class="table-header"></span>
                                        <span class="table-header" data-i18n="trait">Trait</span>
                                        <span class="table-header"></span>
                                        <span class="table-header extra-sect super note-a" data-i18n="miscellaneous-abbrv">Misc</span>
                                        <span class="table-header extra-sect"></span>
                                        <span class="table-header" data-i18n-title="condition-description" data-i18n-aria-label="condition-description" data-i18n="condition-abbrv">Cond</span>
                                        <span class="table-header"></span>
                                        <span class="table-header" data-i18n="buff">Buff</span>
                                        <span class="table-header"></span>
                                        <span class="table-header" data-i18n="notes">Notes</span>
                                        <span class="table-header"></span>
                                        <span class="table-header table-rightcell"></span>
                                    </div>
                                    <div class="table-row">
                                        <span class="table-cell"><button title="%{selected|Roll-for-initiative}" type="roll" name="roll_Roll-for-initiative" value="@{PC-whisper} @{init-macro-text}" style="height:1.85em;margin-top:0.2rem;"> <span style="vertical-align:middle;" data-i18n="initiative-abbrv-caps">INIT</span> </button><span class="show-readonly inverse-readonly"><br> </span></span>
                                        <span class="table-cell"><input type="number" title="@{init}" name="attr_init" value="0" class="calc" readonly />
                                            <span class="show-readonly inverse-readonly"><br><span data-i18n="total">Total</span></span>
                                        </span>
                                        <span class="divider hide-readonly">=</span>
                                        <span class="table-cell" style="line-height: 2.4rem;">
                                            <select title="@{init-ability}" name="attr_init-ability" class="select-small">
                                                <option value="0" data-i18n="none">None</option>
                                                <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                                <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                                <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                                <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                                <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                                <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                            </select>
                                            <span class="show-readonly inverse-readonly" style="margin-top: -3px;display: block;"><span data-i18n="ability">Ability</span></span>
                                        </span>
                                        <span class="table-cell hide-readonly">
                                            <input value="1" type="checkbox" name="attr_nodex-toggle" class="warn-show sect-show sect-show-inverse noshow" />
                                            <input type="number" title="@{init-ability-mod}" name="attr_init-ability-display" value="0" class="calc highlight sect" readonly />
                                            <input type="number" title="@{init-ability-mod}" name="attr_init-ability-mod" value="0" class="calc sect-inverse" readonly />
                                            <span class="show-readonly inverse-readonly"><br><span data-i18n="modifier-abbrv">Mod</span></span>
                                        </span>
                                        <span class="divider hide-readonly">+</span>
                                        <span class="table-cell hide-readonly"><input type="number" title="@{init-trait}" name="attr_init-trait" value="0"></span>
                                        <span class="divider hide-readonly">+</span>
                                        <span class="table-cell linked-tablecell hide-readonly">
                                            <input type="checkbox" name="attr_init-misc-mod_error" class="error-mshow" value="1">
                                            <input class="linked-cellfield highlight macro-text-inline skill-macro-text extra-sect" title="@{init-misc}" name="attr_init-misc" type="text" data-i18n-placeholder="equation-macro-place" />
                                            <input class="highlight narrow-numbers calc" type="number" title="@{init-misc-mod}" name="attr_init-misc-mod" value="0" readonly />
                                        </span>
                                        <span class="table-cell show-readonly inverse-readonly">
                                            <input class="calc" type="number" title="@{init-misc-mod}" name="attr_init-misc-mod" value="0" readonly />
                                            <br>
                                            <span data-i18n="miscellaneous-abbrv">Misc</span>
                                        </span>
                                        <span class="divider hide-readonly extra-sect">+</span>
                                        <span class="table-cell">
                                            <input type="text" title="@{init_mods}" name="attr_init_mods" value="(@{checks-cond}-@{condition-Deafened})" class="number calc" disabled />
                                            <span class="show-readonly inverse-readonly"><br><span data-i18n-title="condition-description" data-i18n-aria-label="condition-description" data-i18n="condition-abbrv">Cond</span></span>
                                        </span>
                                        <span class="divider hide-readonly">+</span>
                                        <span class="table-cell">
                                            <input type="text" title="@{allbuffs_initiative}" name="attr_allbuffs_initiative" value="(@{buff_initiative-total}+@{buff_Check-total}+@{buff_check_ability-total})" class="number calc" disabled />
                                            <span class="show-readonly inverse-readonly"><br><span data-i18n="buff">Buff</span></span>
                                        </span>
                                        <span class="table-cell" style="vertical-align:top;"><button data-i18n-title="init-speed-title" type="roll" name="roll_init-speed-info" value="@{PC-whisper} @{init_speed-macro-text}" style="height:1.85em; margin-top:0.2rem" class="btn ui-draggable"> <span style="vertical-align:middle" data-i18n="information-abbrv">Info</span> </button></span>
                                        <span class="table-cell nowrap" style="padding-left:0.25em;vertical-align:top;padding-top:0.25em;">
                                            <input class="selectedlabel-check" type="checkbox" title="@{toggle_init_notes}" name="attr_toggle_init_notes" value="@{var_init_notes}" checked="checked"><b data-i18n-title="initiative-notes-title" data-i18n-aria-label="initiative-notes-title" data-i18n="include-notes" title="Include initiative notes with roll." aria-label="Include initiative notes with roll.">Include notes in roll</b><br class="show-readonly inverse-readonly">
                                        </span>
                                        <span class="table-cell table-rightcell hide-readonly"></span>
                                    </div>
                                </div>
                                <div class="table">
                                    <div class="table-row sect expand" style="vertical-align:top;">
                                        <input type="checkbox" class="showarrow macro-text-show hide-readonly" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_macro-text-show" value="1" style="margin-left:0.25em;">
                                        <span class="showsect macro-text-showlabel hide-readonly super note-d" data-i18n="macro-text">Macro Text</span>
                                        <input type="checkbox" class="showarrow init-notes-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_notes-show" value="1" style="margin-left:0.25em;">
                                        <span class="showsect init-notes-showlabel" data-i18n="notes">Notes</span>
                                        <div class="macro-text hide-readonly">
                                            <h3 class="super note-d" data-i18n="full-macro">Full Macro:</h3>
                                            <textarea class="macro-text-inline" name="attr_init-macro-text" title="@{init-macro-text}" data-i18n-placeholder="full-macro-place">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-init}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{initiative}}} {{check=[[ (1d20 + [[ @{init} ]][init] + [[ {(0.01 * @{init}),0}kh1 ]][tie-breaker]) &amp;{tracker} ]]}} @{init_options} {{buff_note=@{buff_init_notes}}} {{condition_note=@{condition_init_notes}}}</textarea>
                                            <br>
                                            <h3 class="super note-d" data-i18n="init-speed-full-macro">Init and Speed Info Full Macro:</h3>
                                            <textarea class="macro-text-inline" name="attr_init_speed-macro-text" title="@{init_speed-macro-text}" data-i18n-placeholder="full-macro-place">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-init}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{init-speed-info}}} {{righttext_1=**INIT:** [[ @{init} ]] }} {{lefttext_2=**Init Notes:** @{init_notes} }} {{righttext_3=**Speed:** [[ @{speed-modified} ]] **Fly:** [[ @{speed-fly} ]] **Swim:** [[ @{speed-swim} ]] **Climb:** [[ @{speed-climb} ]] **Run:** [[ @{speed-run} ]] }} {{lefttext_4=**Speed Notes:** @{speed-notes} }} {{buff_note=@{buff_init_notes}}} {{condition_note=@{condition_init_notes}}}</textarea>
                                        </div>
                                        <div class="init-notes" style="vertical-align:top; width:100%; height:auto; clear:both;">
                                            <textarea class="inline-textarea" name="attr_init_notes" title="@{init_notes}" data-i18n-placeholder="initiative-notes"></textarea>
                                            <input type="hidden" name="attr_var_init_notes" value="{{description=@{init_notes}}}" disabled />
                                            <input type="hidden" name="attr_init_options" value="@{toggle_init_notes}" disabled />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <input class="nextitem-show noshow" type="checkbox" name="attr_initiative-show" value="1" checked role="presentation" />
                    <div class="h2-section speeds nextitem">
                        <input type="checkbox" value="1" name="attr_extra_fields_speeds_show" title="@{extra_fields_speeds_show}" class="extra-show extra-saves-show selectedlabel-check hide-readonly" /><b class="hide-readonly" data-i18n="show-more-fields">Show More Fields</b>
                        <div class="cheat"></div>
                        <div class="table narrow-numbers-readonly">
                            <span class="secondary-table-name" data-i18n="speeds">Speeds</span>
                            <input type="checkbox" class="use-metrics noshow" name="attr_use_metrics" value="1" />
                            <div class="table-group-head">
                                <div class="table-row">
                                    <span class="table-header" data-i18n-title="speed-base-title" data-i18n-aria-label="speed-base-title" title="The base speed for the character">
                                        <input type="checkbox" name="attr_max-dex-source" value="3" class="sect-show sect-show-inverse noshow" />
                                        <span class="sect-inverse distance-used" data-i18n="base">Base</span>
                                        <span class="sect distance-used" data-i18n="speed">Speed</span>
                                    </span>
                                    <input type="checkbox" name="attr_max-dex-source" value="3" class="sect-show-inverse noshow" />
                                    <span class="table-header sect-inverse right-border distance-used" data-i18n-title="speed-title" data-i18n-aria-label="speed-title" data-i18n="speed">Speed</span>
                                    <span class="table-header extra-sect hide-readonly" data-i18n-title="speed-multiplier-title" data-i18n-aria-label="speed-multiplier-title" data-i18n="run-multiplier-abbrv">Run Mult</span>
                                    <span class="table-header distance-used" data-i18n-title="speed-run-title" data-i18n-aria-label="speed-run-title" data-i18n="run">Run</span>
                                    <span class="table-header left-border distance-used" data-i18n="fly">Fly</span>
                                    <span class="table-header distance-used" data-i18n="swim">Swim</span>
                                    <span class="table-header distance-used" data-i18n="climb">Climb</span>
                                    <span class="table-header extra-sect distance-used" data-i18n="burrow-speed">Burrow</span>
                                    <span class="table-header extra-sect entry-short entry-custom-header"><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_speed-misc-name" title="@{speed-misc-name}" /></span>
                                    <span class="table-header extra-sect entry-short entry-custom-header"><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_speed-misc2-name" title="@{speed-misc2-name}" /></span>
                                </div>
                            </div>
                            <div class="table-group">
                                <div class="table-row">
                                    <span class="table-cell shown">
                                        <input class="input-feet" title="@{speed-base}" type="number" step="5" min="0" name="attr_speed-base" value="0" />
                                        <input class="input-meters" title="@{speed-base}" type="number" step="1.5" min="0" name="attr_speed-base" value="0" />
                                    </span>
                                    <input type="checkbox" name="attr_max-dex-source" value="3" class="sect-show-inverse noshow" />
                                    <span class="table-cell sect-inverse right-border">
                                        <input type="checkbox" name="attr_condition-Slowed" value="1" class="warn-show noshow" />
                                        <input title="@{speed-modified}" type="number" name="attr_speed-modified" value="0" data-i18n-aria-label="speed-title" class="calc highlight" readonly />
                                    </span>
                                    <span class="table-cell extra-sect hide-readonly"><input title="@{run-mult}" type="number" name="attr_run-mult" value="4" step="1"></span>
                                    <span class="table-cell">
                                        <input type="checkbox" name="attr_run_cond_applied" value="1" class="warn-show noshow" />
                                        <input title="@{speed-run}" type="number" name="attr_speed-run" value="0" class="calc highlight" readonly />
                                    </span>
                                    <span class="table-cell left-border shown">
                                        <input class="input-feet" title="@{speed-fly}" type="number" step="5" min="0" name="attr_speed-fly" value="0" />
                                        <input class="input-meters" title="@{speed-fly}" type="number" step="1.5" min="0" name="attr_speed-fly" value="0" />
                                    </span>
                                    <span class="table-cell shown">
                                        <input class="input-feet" title="@{speed-swim}" type="number" step="5" min="0" name="attr_speed-swim" value="0" />
                                        <input class="input-meters" title="@{speed-swim}" type="number" step="1.5" min="0" name="attr_speed-swim" value="0" />
                                    </span>
                                    <span class="table-cell shown">
                                        <input class="input-feet" title="@{speed-climb}" type="number" step="5" min="0" name="attr_speed-climb" value="0" />
                                        <input class="input-meters" title="@{speed-climb}" type="number" step="1.5" min="0" name="attr_speed-climb" value="0" />
                                    </span>
                                    <span class="table-cell extra-sect shown">
                                        <input class="input-feet" title="@{speed-burrow}" type="number" step="5" min="0" name="attr_speed-burrow" value="0" />
                                        <input class="input-meters" title="@{speed-burrow}" type="number" step="1.5" min="0" name="attr_speed-burrow" value="0" />
                                    </span>
                                    <span class="table-cell extra-sect"><input title="@{speed-misc}" type="number" name="attr_speed-misc" value="0" /></span>
                                    <span class="table-cell extra-sect"><input title="@{speed-misc2}" type="number" name="attr_speed-misc2" value="0" /></span>
                                </div>
                            </div>
                        </div>
                        <div class="hide-readonly center">
                            <textarea class="inline-textarea" name="attr_speed-notes" title="@{speed-notes}" data-i18n-placeholder="speed-notes"></textarea>
                            <label class="small-label"><span data-i18n="speed-notes">Speed Notes</span></label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="section2 section section-defenses" role="region" aria-label="Defenses" data-i18n-aria-label="defenses">
                <h1 class="selected-tabtitle" data-i18n="defenses">Defenses</h1>
                <div style="display:none;">
                    <button type="roll" name="roll_All-Saves" class="command-button" value="@{PC-whisper} @{all_saves-macro}" title="%{selected|All-Saves}" data-i18n="all-saves">All Saves</button>
                    <button type="roll" name="roll_NPC-All-Saves" class="command-button" value="@{NPC-whisper} @{all_saves-macro}" title="%{selected|NPC-All-Saves}" data-i18n="all-saves">All Saves</button>
                    <button type="roll" name="roll_defense-stats" class="command-button" value="@{STATS-whisper} @{defense-stats-macro-text}" title="%{selected|defense-stats-macro-text}" data-i18n="defense-statistics-abbrv">Defense Stats</button>
                    <button type="roll" name="roll_NPC-defense-stats" class="command-button" value="@{STATS-whisper} @{defense-stats-macro-text} {{name=^{npc} ^{defense-statistics}}}" title="%{selected|NPC-defense-stats}" data-i18n="defense-statistics-abbrv">Defense Stats</button>
                </div>
                <div class="cheat"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_saves-show" data-i18n-aria-label="saving-throws" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="saving-throws">Saving Throws</label></h2>
                <div class="h2-section saves">
                    <input type="checkbox" value="1" name="attr_extra_fields_saves_show" title="@{extra_fields_saves_show}" class="extra-show extra-saves-show selectedlabel-check hide-readonly" /><b class="hide-readonly" data-i18n="show-more-fields">Show More Fields</b>
                    <div class="cheat"></div>
                    <div class="table saves-table">
                        <span class="table-name" data-i18n="saving-throws">Saving Throws</span>
                        <div class="table-group-head">
                            <span class="table-header" data-i18n="save">Save</span>
                            <span class="table-header" data-i18n="total">Total</span>
                            <span class="table-header divider"></span>
                            <span class="table-header" data-i18n="base">Base</span>
                            <span class="table-header divider"></span>
                            <span class="table-header ability-column" data-i18n="ability">Ability</span>
                            <span class="table-header" data-i18n="modifier-abbrv">Mod</span>
                            <span class="table-header divider"></span>
                            <span class="table-header" data-i18n="trait">Trait</span>
                            <span class="table-header divider"></span>
                            <span class="table-header" data-i18n="resistance-abbrv">Resistance</span>
                            <span class="table-header divider"></span>
                            <span class="table-header entry-10p-shrink extra-sect"><span class="super note-a" data-i18n="miscellaneous-abbrv">Misc</span></span>
                            <span class="table-header divider"></span>
                            <span class="table-header" data-i18n-title="condition-description" data-i18n-aria-label="condition-description" data-i18n="condition-abbrv">Cond</span>
                            <span class="table-header divider"></span>
                            <span class="table-header" data-i18n="buff">Buff</span>
                            <span class="table-header extra-sect"></span>
                            <span class="table-header extra-sect hide-readonly super note-b" data-i18n="roll">Roll</span>
                            <span class="table-header extra-sect hide-readonly super note-d" data-i18n="macro">Macro</span>
                        </div>
                        <div class="table-group">
                            <div class="table-row save">
                                <span class="table-cell"><button class="text-button" title="%{selected|Fort-Save}" type="roll" name="roll_Fort-Save" value="@{PC-whisper} @{fort-save-macro-text}"> <span style="vertical-align:middle;" data-i18n="fortitude-abbrv">Fort</span></button></span>
                                <span class="table-cell"><input title="@{Fort}" type="number" name="attr_Fort" value="0" class="calc bigger-total" readonly /></span>
                                <span class="divider">=</span>
                                <span class="table-cell"><input title="@{total-Fort}" type="number" name="attr_total-Fort" value="0" class="calc" readonly /></span>
                                <span class="divider">+</span>
                                <span class="table-cell ability-column">
                                    <select title="@{Fort-ability}" name="attr_Fort-ability">
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv-default" selected>&#8226;CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <span class="table-cell"><input title="@{Fort-ability-mod}" type="number" name="attr_Fort-ability-mod" value="0" class="calc narrow-numbers" readonly /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{Fort-trait}" type="number" name="attr_Fort-trait" value="0" /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{Fort-resist}" type="number" name="attr_Fort-resist" value="0" /></span>
                                <span class="divider">+</span>
                                <span class="table-cell linked-tablecell extra-sect">
                                    <input type="checkbox" name="attr_Fort-misc-mod_error" value="1" class="error-mshow" />
                                    <input type="text" class="macro-text-inline skill-macro-text linked-cellfield highlight" title="@{Fort-misc}" name="attr_Fort-misc" data-i18n-placeholder="equation-macro-place" placeholder="#/Equation" />
                                    <input title="@{Fort-misc-mod}" type="number" name="attr_Fort-misc-mod" value="0" class="narrow-numbers calc highlight" readonly />
                                </span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{saves-cond}" type="number" name="attr_saves-cond" value="0" class="calc" readonly /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{fort_buffs}" type="number" name="attr_fort_buffs" value="(@{buff_Fort-total}+@{buff_saves-total})" class="number calc" disabled /></span>
                                <span class="table-cell extra-sect"><input title="@{Fort-enhance}" type="hidden" name="attr_Fort-enhance" value="0" /></span>
                                <span class="table-cell extra-sect">
                                    <details>
                                        <summary class="hide-readonly">...</summary>
                                        <textarea class="skill-macro-text options" title="@{fort-macro-text}" name="attr_fort-macro-text">[[ 1d20 + [[ @{Fort} ]] ]]</textarea>
                                    </details>
                                </span>
                                <span class="table-cell extra-sect">
                                    <details>
                                        <summary class="hide-readonly">...</summary>
                                        <textarea class="skill-macro-text options" title="@{fort-save-macro-text}" name="attr_fort-save-macro-text">&{template:pf_defense} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{fortitude}}} {{^{save}=@{fort-macro-text}}} @{toggle_save_notes} {{buff_note=@{buff_save_notes}}} {{condition_note=@{condition_save_notes}}} {{condition_note=@{condition_save_notes}}}</textarea>
                                    </details>
                                </span>
                            </div>
                            <div class="table-row save">
                                <span class="table-cell"><button class="text-button" title="%{selected|Ref-Save}" type="roll" name="roll_Ref-Save" value="@{PC-whisper} @{ref-save-macro-text}"> <span style="vertical-align:middle;" data-i18n="reflex-abbrv">Ref</span></button></span>
                                <span class="table-cell"><input title="@{Ref}" type="number" name="attr_Ref" value="0" class="calc bigger-total" readonly /></span>
                                <span class="divider">=</span>
                                <span class="table-cell"><input title="@{total-Ref}" type="number" name="attr_total-Ref" value="0" class="calc" readonly /></span>
                                <span class="divider">+</span>
                                <span class="table-cell ability-column">
                                    <select title="@{Ref-ability}" name="attr_Ref-ability">
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <span class="table-cell"><input title="@{Ref-ability-mod}" type="number" name="attr_Ref-ability-mod" value="0" class="calc narrow-numbers" readonly /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{Ref-trait}" type="number" name="attr_Ref-trait" value="0" /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{Ref-resist}" type="number" name="attr_Ref-resist" value="0" /></span>
                                <span class="divider">+</span>
                                <span class="table-cell linked-tablecell extra-sect">
                                    <input type="checkbox" name="attr_Ref-misc-mod_error" value="1" class="error-mshow" />
                                    <input type="text" class="macro-text-inline skill-macro-text linked-cellfield highlight" title="@{Ref-misc}" name="attr_Ref-misc" data-i18n-placeholder="equation-macro-place" placeholder="#/Equation" />
                                    <input title="@{Ref-misc-mod}" type="number" name="attr_Ref-misc-mod" value="0" class="narrow-numbers calc highlight" readonly />
                                </span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{saves-cond}" type="number" name="attr_saves-cond" value="0" class="calc" readonly /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{ref_buffs}" type="number" name="attr_ref_buffs" value="(@{buff_Ref-total}+@{buff_saves-total})" class="number calc" disabled /></span>
                                <span class="table-cell extra-sect"><input title="@{Ref-enhance}" type="hidden" name="attr_Ref-enhance" value="0" /></span>
                                <span class="table-cell extra-sect">
                                    <details>
                                        <summary class="hide-readonly">...</summary>
                                        <textarea class="skill-macro-text options" title="@{ref-macro-text}" name="attr_ref-macro-text">[[ 1d20 + [[ @{Ref} ]] ]]</textarea>
                                    </details>
                                </span>
                                <span class="table-cell extra-sect">
                                    <details>
                                        <summary class="hide-readonly">...</summary>
                                        <textarea class="skill-macro-text options" title="@{ref-save-macro-text}" name="attr_ref-save-macro-text">&{template:pf_defense} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{reflex}}} {{^{save}=@{ref-macro-text}}} @{toggle_save_notes} {{buff_note=@{buff_save_notes}}} {{condition_note=@{condition_save_notes}}} {{condition_note=@{condition_save_notes}}}</textarea>
                                    </details>
                                </span>
                            </div>
                            <div class="table-row save">
                                <span class="table-cell"><button class="text-button" title="%{selected|Will-Save}" type="roll" name="roll_Will-Save" value="@{PC-whisper} @{will-save-macro-text}"> <span style="vertical-align:middle;" data-i18n="willpower-abbrv">Will</span></button></span>
                                <span class="table-cell"><input title="@{Will}" type="number" name="attr_Will" value="0" class="calc bigger-total" readonly /></span>
                                <span class="divider">=</span>
                                <span class="table-cell"><input title="@{total-Will}" type="number" name="attr_total-Will" value="0" class="calc" readonly /></span>
                                <span class="divider">+</span>
                                <span class="table-cell ability-column">
                                    <select title="@{Will-ability}" name="attr_Will-ability">
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <span class="table-cell"><input title="@{Will-ability-mod}" type="number" name="attr_Will-ability-mod" value="0" class="calc narrow-numbers" readonly /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{Will-trait}" type="number" name="attr_Will-trait" value="0" /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{Will-resist}" type="number" name="attr_Will-resist" value="0" /></span>
                                <span class="divider">+</span>
                                <span class="table-cell linked-tablecell extra-sect">
                                    <input type="checkbox" name="attr_Will-misc-mod_error" value="1" class="error-mshow" />
                                    <input type="text" class="macro-text-inline skill-macro-text linked-cellfield highlight" title="@{Will-misc}" name="attr_Will-misc" data-i18n-placeholder="equation-macro-place" placeholder="#/Equation" />
                                    <input title="@{Will-misc-mod}" type="number" name="attr_Will-misc-mod" value="0" class="narrow-numbers calc highlight" readonly />
                                </span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{saves-cond}" type="number" name="attr_saves-cond" value="0" class="calc" readonly /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{will_buffs}" type="number" name="attr_will_buffs" value="(@{buff_Will-total}+@{buff_saves-total})" class="number calc" disabled /></span>
                                <span class="table-cell extra-sect"><input title="@{Will-enhance}" type="hidden" name="attr_Will-enhance" value="0" /></span>
                                <span class="table-cell extra-sect">
                                    <details>
                                        <summary class="hide-readonly">...</summary>
                                        <textarea class="skill-macro-text options" title="@{will-macro-text}" name="attr_will-macro-text">[[ 1d20 + [[ @{Will} ]] ]]</textarea>
                                    </details>
                                </span>
                                <span class="table-cell extra-sect">
                                    <details>
                                        <summary class="hide-readonly">...</summary>
                                        <textarea class="skill-macro-text options" title="@{will-save-macro-text}" name="attr_will-save-macro-text">&{template:pf_defense} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{willpower}}} {{^{save}=@{will-macro-text}}} @{toggle_save_notes} {{buff_note=@{buff_save_notes}}} {{condition_note=@{condition_save_notes}}} {{condition_note=@{condition_save_notes}}}</textarea>
                                    </details>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="table">
                        <div class="table-row sect expand" style="vertical-align:top;">
                            <input type="checkbox" class="showarrow macro-text-show hide-readonly" title="" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_all-saves-macro-show" value="1" style="margin-left:0.25em" aria-label="Click to expand">
                            <span class="showsect all-saves-macro-showlabel hide-readonly super note-d" data-i18n="all-saves-macro">All Saves Macro</span>
                            <input type="checkbox" class="showarrow save-notes-show" title="" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_save-notes-show" value="1" style="margin-left:0.25em;" aria-label="Click to expand">
                            <span class="showsect save-notes-showlabel" data-i18n="notes">Notes</span>
                            <div class="macro-text hide-readonly">
                                <textarea class="macro-text-inline" name="attr_all_saves-macro" data-i18n-title="all-saves-macro-title">&{template:pf_defense} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{all-saves}}} {{^{fortitude-save}=@{fort-macro-text}}} {{^{reflex-save}=@{ref-macro-text}}} {{^{willpower-save}=@{will-macro-text}}} @{toggle_save_notes} {{buff_note=@{buff_save_notes}}} {{condition_note=@{condition_save_notes}}} {{condition_note=@{condition_save_notes}}}</textarea>
                            </div>
                            <div class="save-notes">
                                <label>
                                    <input type="checkbox" class="selectedlabel-check" name="attr_toggle_save_notes" value="@{var_save_notes}" title="@{toggle_save_notes}" />
                                    <b data-i18n-title="options-defenses-save-title" data-i18n-aria-label="options-defenses-save-title" data-i18n="include-save-notes">Include Save Notes in roll</b>
                                </label>
                                <textarea class="inline-textarea" title="@{Save-notes}" name="attr_Save-notes" data-i18n-placeholder="save-notes-place"></textarea>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" name="attr_var_defensive-abilities_notes" value="{{defensive-abilities_notes=@{npc-defensive-abilities}}}" disabled />
                    <input type="hidden" name="attr_var_dr_notes" value="{{dr_notes=@{DR}}}" disabled />
                    <input type="hidden" name="attr_var_resistances_notes" value="{{resistances_notes=@{resistances}}}" disabled />
                    <input type="hidden" name="attr_var_immunities_notes" value="{{immunities_notes=@{immunities}}}" disabled />
                    <input type="hidden" name="attr_var_weaknesses_notes" value="{{weaknesses_notes=@{weaknesses}}}" disabled />
                    <input type="hidden" name="attr_var_sr0_notes" value="{{sr0_notes=@{SR}}}" disabled />
                    <input type="hidden" name="attr_var_armor_notes" value="{{armor_notes=@{Armor-notes}}}" disabled />
                    <input type="hidden" name="attr_var_save_notes" value="{{save_notes=@{Save-notes}}}" disabled />
                    <input type="hidden" name="attr_var_ability_notes" value="{{ability_notes=@{ability-notes}}}" disabled />
                    <input type="hidden" name="attr_var_cmd_notes" value="{{cmd_notes=@{cmd-notes}}}" disabled />
                    <input type="hidden" name="attr_var_defense_notes" value="{{defense_notes=@{defense-notes}}}" disabled />
                </div>
                <div class="cheat"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_defense-values-show" data-i18n-aria-label="defense-values-grid" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="defense-values-grid">Defense Values</label></h2>
                <div class="h2-section defense-grid">
                    <input type="checkbox" value="1" name="attr_extra_fields_defense_show" title="@{extra_fields_defense_show}" class="extra-show selectedlabel-check" /><b data-i18n="show-more-fields">Show More Fields</b>
                    <input type="checkbox" value="1" name="attr_uncanny_dodge" title="@{uncanny_dodge}" class="selectedlabel-check" /><b data-i18n-title="uncanny-dodge-title" data-i18n-aria-label="uncanny-dodge-title" data-i18n="uncanny-dodge-desc">Do not lose DEX when Flat footed</b>
                    <div class="table defense-table narrow-numbers">
                        <span class="table-name" data-i18n="defense-values-grid">Defense Values</span>
                        <div class="table-group-head">
                            <span class="table-header" style="width:10%;"></span>
                            <span class="table-header" data-i18n="total">Total</span>
                            <span class="table-header" style="width:3.25em;min-width:3.25em;"> </span>
                            <span class="table-header" data-i18n="armor">Armor</span>
                            <span class="table-header ability-column"></span>
                            <span class="table-header" data-i18n="shield">Shield</span>
                            <span class="table-header ability-column" data-i18n="ability">Ability</span>
                            <span class="table-header" data-i18n="modifier-abbrv">Mod</span>
                            <span class="table-header" data-i18n="size">Size</span>
                            <span class="table-header" data-i18n="dodge">Dodge</span>
                            <span class="table-header" data-i18n="natural">Natural</span>
                            <span class="table-header" data-i18n="deflect">Deflect</span>
                            <span class="table-header entry-10p-shrink extra-sect"><span class="super note-a" data-i18n="miscellaneous-abbrv">Misc</span></span>
                            <span class="table-header" data-i18n="buff">Buff</span>
                            <span class="table-header" data-i18n-title="condition-description" data-i18n-aria-label="condition-description" data-i18n="condition-abbrv" style="padding-right:0.5em">Cond</span>
                        </div>
                        <div class="table-group">
                            <div class="table-row">
                                <span class="table-row-name"><span class="show-readonly inverse-readonly" style="position:absolute; top:-1.5rem; margin-left:-1.5rem; color:white; font-family:pictos custom; font-size:6.4rem; font-weight:lighter;">e</span><span data-i18n="armor-class-abbrv" data-i18n-title="armor-class" data-i18n-aria-label="armor-class">AC</span></span>
                                <span class="table-cell"><input title="@{AC}" type="number" name="attr_AC" value="10" class="calc bigger-total" readonly /></span>
                                <span class="table-cell"><span style="font-weight:bold">=&nbsp;10&nbsp;+</span></span>
                                <span class="table-cell"><input title="@{AC-armor}" type="number" name="attr_AC-armor" value="0" class="calc" readonly /></span>
                                <span class="table-cell ability-column"></span>
                                <span class="table-cell"><input title="@{AC-shield}" type="number" name="attr_AC-shield" value="0" class="calc" readonly /></span>
                                <span class="table-cell ability-column">
                                    <select title="@{AC-ability}" name="attr_AC-ability" class="select-small">
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <input type="hidden" name="attr_AC-ability-mod" value="0">
                                <input type="checkbox" name="attr_nodex-toggle" class="warn-mshow" value="1" />
                                <input type="checkbox" name="attr_maxdex-toggle" class="warn-show" value="1" />
                                <span class="table-cell highlight"><input title="@{AC-ability-mod}" type="number" name="attr_AC-ability-display" value="0" class="calc" readonly /></span>
                                <span class="table-cell"><input title="@{size}" type="number" name="attr_size" value="0" class="calc" readonly /></span>
                                <span class="table-cell highlight"><input title="@{AC-dodge}" type="number" name="attr_AC-dodge" value="0"></span>
                                <span class="table-cell"><input title="@{AC-natural}" type="number" name="attr_AC-natural" value="0"></span>
                                <span class="table-cell"><input title="@{AC-deflect}" type="number" name="attr_AC-deflect" value="0"></span>
                                <span class="table-cell linked-tablecell extra-sect right">
                                    <input type="checkbox" name="attr_AC-misc-mod_error" value="1" class="error-mshow" />
                                    <input class="macro-text-inline skill-macro-text linked-cellfield highlight float-right" title="@{AC-misc}" type="text" name="attr_AC-misc"" data-i18n-placeholder=" equation-macro-place" placeholder="#/Equation" />
                                    <input title="@{AC-misc-mod}" type="number" name="attr_AC-misc-mod" value="0" class="narrow-numbers calc highlight" readonly />
                                </span>
                                <span class="table-cell"><input title="@{buffsumac}" type="number" name="attr_buffsumac" value="0" class="calc" readonly /></span>
                                <span class="table-cell"><input title="@{AC-penalty}" type="number" name="attr_AC-penalty" value="0" class="calc" readonly /></span>
                            </div>
                            <div class="table-row">
                                <span class="table-row-name" title="Touch Armor Class" data-i18n-placeholder="touch-armor-class" data-i18n="touch-armor-class-abbrv">Touch</span>
                                <span class="table-cell"><input title="@{Touch}" type="number" name="attr_Touch" value="10" class="calc bigger-total" readonly /></span>
                                <span class="table-cell"><span style="font-weight:bold">=&nbsp;10&nbsp;+</span></span>
                                <span class="table-cell"></span>
                                <span class="table-cell"></span>
                                <span class="table-cell"></span>
                                <span class="table-cell ability-column">
                                    <select title="@{AC-ability}" name="attr_AC-ability" class="select-small">
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <input type="checkbox" name="attr_nodex-toggle" class="warn-mshow" value="1" />
                                <input type="checkbox" name="attr_maxdex-toggle" class="warn-show" value="1" />
                                <span class="table-cell highlight"><input title="@{AC-ability-mod}" type="number" name="attr_AC-ability-display" value="0" class="calc" readonly /></span>
                                <span class="table-cell"><input title="@{size}" type="number" name="attr_size" value="0" class="calc" readonly /></span>
                                <span class="table-cell highlight"><input title="@{AC-dodge}" type="number" name="attr_AC-dodge" value="0" class="calc" readonly /></span>
                                <span class="table-cell"></span>
                                <span class="table-cell"><input title="@{AC-deflect}" type="number" name="attr_AC-deflect" value="0" class="calc" readonly /></span>
                                <span class="table-cell right extra-sect"><input title="@{AC-misc-mod}" type="number" name="attr_AC-misc-mod" value="0" class="calc" readonly /></span>
                                <span class="table-cell"><input title="@{buffsumtouch}" type="number" name="attr_buffsumtouch" value="0" class="calc" readonly /></span>
                                <span class="table-cell"><input title="@{AC-penalty}" type="number" name="attr_AC-penalty" value="0" class="calc" readonly /></span>
                            </div>
                            <div class="table-row">
                                <span class="table-row-name" data-i18n-title="flat-footed-armor-class" data-i18n-aria-label="flat-footed-armor-class" data-i18n="flat-footed-armor-class-abbrv">Flat-Footed</span>
                                <span class="table-cell"><input title="@{Flat-Footed}" type="number" name="attr_Flat-Footed" value="10" class="calc bigger-total" readonly /></span>
                                <span class="table-cell"><span style="font-weight:bold">=&nbsp;10&nbsp;+</span></span>
                                <span class="table-cell"><input title="@{AC-armor}" type="number" name="attr_AC-armor" value="0" class="calc" readonly /></span>
                                <span class="table-cell ability-column"></span>
                                <span class="table-cell"><input title="@{AC-shield}" type="number" name="attr_AC-shield" value="0" class="calc" readonly /></span>
                                <span class="table-cell ability-column">
                                    <input type="checkbox" value="1" name="attr_unlock_def_ability" class="sect-show sect-show-inverse noshow" />
                                    <input type="checkbox" value="1" name="attr_uncanny_dodge" class="nextitem-show noshow" />
                                    <select title="@{AC-ability}" name="attr_AC-ability" class="select-small sect-inverse nextitem">
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                    <select title="@{FF-ability}" name="attr_FF-ability" class="select-small sect">
                                        <option value="0" data-i18n="none-default" selected>&#8226;None</option>
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv">&#8226;DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <input type="hidden" name="attr_FF-DEX" value="0">
                                <input type="checkbox" name="attr_nodex-toggle" class="warn-mshow" value="1" />
                                <input type="checkbox" name="attr_maxdex-toggle" class="warn-show" value="1" />
                                <span class="table-cell highlight">
                                    <input type="checkbox" value="1" name="attr_unlock_def_ability" class="sect-show sect-show-inverse noshow" />
                                    <input type="checkbox" value="1" name="attr_uncanny_dodge" class="nextitem-show noshow" />
                                    <input title="@{AC-ability-mod}" type="number" name="attr_AC-ability-display" value="0" class="calc sect-inverse nextitem" readonly />
                                    <input title="@{FF-DEX}" type="number" name="attr_FF-DEX-display" value="0" class="calc sect" readonly />
                                </span>
                                <span class="table-cell"><input title="@{size}" type="number" name="attr_size" value="0" class="calc" readonly /></span>
                                <span class="table-cell highlight">
                                    <input name="attr_uncanny_dodge" type="checkbox" value="1" class="nextitem-show noshow" />
                                    <input title="@{AC-dodge}" type="number" name="attr_AC-dodge" value="0" class="nextitem calc" readonly />
                                </span>
                                <span class="table-cell"><input title="@{AC-natural}" type="number" name="attr_AC-natural" value="0" class="calc" readonly /></span>
                                <span class="table-cell"><input title="@{AC-deflect}" type="number" name="attr_AC-deflect" value="0" class="calc" readonly /></span>
                                <span class="table-cell right extra-sect"><input title="@{AC-misc-mod}" type="number" name="attr_AC-misc-mod" value="0" class="calc" readonly /></span>
                                <span class="table-cell"><input title="@{buffsumff}" type="number" name="attr_buffsumff" value="0" class="calc" readonly /></span>
                                <span class="table-cell"><input title="@{AC-penalty}" type="number" name="attr_AC-penalty" value="0" class="calc" readonly /></span>
                            </div>
                        </div>
                    </div>
                    <div class="table defense-table narrow-numbers">
                        <div class="table-group-head">
                            <div class="table-row">
                                <span class="table-header" style="width:10%;" data-i18n="combat-maneuver-defense-abbrv">CMD</span>
                                <span class="table-header" data-i18n="total">Total</span>
                                <span class="table-header" style="width:3.25em;min-width:3.25em;"></span>
                                <span class="table-header">
                                    <input name="attr_hd_not_bab" type="checkbox" value="1" class="sect-show sect-show-inverse noshow" role="presentation" data-i18n-aria-label="hd-not-bab-title" aria-label="if checked use total HD not Bab for CMD" />
                                    <span class="sect-inverse" data-i18n="base-attack-bonus-abbrv">BAB</span>
                                    <span class="sect" data-i18n="hit-dice-abbrv">HD</span>
                                </span>
                                <span class="table-header ability-column"><span data-i18n="ability">Ability</span> 1</span>
                                <span class="table-header" data-i18n="modifier-abbrv">Mod</span>
                                <span class="table-header ability-column"><span data-i18n="ability">Ability</span> 2</span>
                                <span class="table-header" data-i18n="modifier-abbrv">Mod</span>
                                <span class="table-header" data-i18n="size">Size</span>
                                <span class="table-header" data-i18n="dodge">Dodge</span>
                                <span class="table-header" style="width:4em;"></span>
                                <span class="table-header" data-i18n="deflect">Deflect</span>
                                <span class="table-header entry-10p-shrink extra-sect"><span class="super note-a" data-i18n="miscellaneous-abbrv">Misc</span></span>
                                <span class="table-header" data-i18n="buff">Buff</span>
                                <span class="table-header" data-i18n="condition-abbrv" style="padding-right:0.5em">Cond</span>
                            </div>
                        </div>
                        <div class="table-group">
                            <div class="table-row">
                                <span class="table-row-name" data-i18n="combat-maneuver-defense-abbrv" data-i18n-title="combat-maneuver-defense-abbrv" data-i18n-aria-label="combat-maneuver-defense-abbrv">CMD</span>
                                <span class="table-cell"><input title="@{CMD}" type="number" name="attr_CMD" value="10" class="calc bigger-total" readonly /></span>
                                <span class="table-cell"><span style="font-weight:bold">=&nbsp;10&nbsp;+</span></span>
                                <span class="table-cell">
                                    <input name="attr_hd_not_bab" type="checkbox" value="1" class="sect-show sect-show-inverse noshow" role="presentation" data-i18n-aria-label="hd-not-bab-title" />
                                    <input class="sect-inverse calc" title="@{bab}" type="number" name="attr_bab" value="0" readonly />
                                    <input class="sect calc" title="@{level}" type="number" name="attr_level" value="0" readonly />
                                </span>
                                <span class="table-cell ability-column">
                                    <select title="@{CMD-ability1}" name="attr_CMD-ability1" class="select-small">
                                        <option value="STR-mod" data-i18n="strength-abbrv-default" selected>&#8226;STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <span class="table-cell"><input title="@{CMD-STR}" type="number" name="attr_CMD-STR" value="0" class="calc" readonly /></span>
                                <span class="table-cell ability-column">
                                    <input type="checkbox" value="1" name="attr_unlock_def_ability" class="sect-show sect-show-inverse noshow" />
                                    <select title="@{AC-ability}" name="attr_AC-ability" class="select-small sect-inverse">
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                    <select title="@{CMD-ability2}" name="attr_CMD-ability2" class="select-small sect">
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <input type="hidden" name="attr_CMD-DEX" value="0">
                                <input type="checkbox" name="attr_nodex-toggle" class="warn-mshow" value="1" />
                                <input type="checkbox" name="attr_maxdex-toggle" class="warn-show" value="1" />
                                <span class="table-cell">
                                    <input type="checkbox" value="1" name="attr_unlock_def_ability" class="sect-show sect-show-inverse noshow" />
                                    <input title="@{AC-ability-mod}" type="number" name="attr_AC-ability-display" value="0" class="calc sect" readonly />
                                    <input title="@{CMD-DEX}" type="number" name="attr_CMD-DEX-display" value="0" class="calc sect-inverse" readonly />
                                </span>
                                <span class="table-cell"><input title="@{CMD-size}" type="number" name="attr_CMD-size" value="0" class="calc" readonly /></span>
                                <span class="table-cell highlight"><input title="@{AC-dodge}" type="number" name="attr_AC-dodge" value="0" class="calc" readonly /></span>
                                <span class="table-cell"></span>
                                <span class="table-cell"><input title="@{AC-deflect}" type="number" name="attr_AC-deflect" value="0" class="calc" readonly /></span>
                                <span class="table-cell linked-tablecell extra-sect right">
                                    <input type="checkbox" name="attr_CMD-misc-mod_error" value="1" class="error-mshow" />
                                    <input class="macro-text-inline skill-macro-text linked-cellfield highlight float-right" title="@{CMD-misc}" type="text" name="attr_CMD-misc" data-i18n-placeholder="equation-macro-place" placeholder="#/Equation" />
                                    <input title="@{CMD-misc-mod}" type="number" name="attr_CMD-misc-mod" value="0" class="narrow-numbers calc" readonly />
                                </span>
                                <span class="table-cell"><input title="@{buffsumcmd}" type="number" name="attr_buffsumcmd" value="0" class="calc" readonly /></span>
                                <span class="table-cell"><input title="@{CMD-penalty}" type="number" name="attr_CMD-penalty" class="calc" readonly value="0" max="0"></span>
                            </div>
                            <div class="table-row">
                                <span class="table-row-name" title="Flat-Footed Combat Maneuver Defense" data-i18n="flat-footed-combat-maneuver-defense-abbrv">FF CMD</span>
                                <span class="table-cell"><input title="@{FF-CMD}" type="number" name="attr_FF-CMD" value="10" class="calc bigger-total" readonly /></span>
                                <span class="table-cell"><span style="font-weight:bold">=&nbsp;10&nbsp;+</span></span>
                                <span class="table-cell">
                                    <input name="attr_hd_not_bab" type="checkbox" value="1" class="sect-show sect-show-inverse noshow" role="presentation" data-i18n-aria-label="hd-not-bab-title" />
                                    <input class="sect-inverse calc" title="@{bab}" type="number" name="attr_bab" value="0" readonly />
                                    <input class="sect calc" title="@{level}" type="number" name="attr_level" value="0" readonly />
                                </span>
                                <span class="table-cell ability-column">
                                    <select title="@{CMD-ability1}" name="attr_CMD-ability1" class="select-small">
                                        <option value="STR-mod" data-i18n="strength-abbrv-default" selected>&#8226;STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <span class="table-cell"><input title="@{CMD-STR}" type="number" name="attr_CMD-STR" value="0" class="calc" readonly /></span>
                                <span class="table-cell ability-column">
                                    <input type="checkbox" value="1" name="attr_unlock_def_ability" class="sect-show sect-show-inverse noshow" />
                                    <input type="checkbox" value="1" name="attr_uncanny_dodge" class="nextitem-show noshow" />
                                    <select title="@{AC-ability}" name="attr_AC-ability" class="select-small sect-inverse nextitem">
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                    <select title="@{CMD-ability}" name="attr_CMD-ability" class="select-small sect">
                                        <option value="0" data-i18n="none-default" selected>&#8226;None</option>
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <input type="hidden" name="attr_FF-CMD-DEX" value="0" />
                                <input type="checkbox" name="attr_nodex-toggle" class="warn-mshow" value="1">
                                <input type="checkbox" name="attr_maxdex-toggle" class="warn-show" value="1">
                                <span class="table-cell">
                                    <input type="checkbox" value="1" name="attr_unlock_def_ability" class="sect-show sect-show-inverse noshow" />
                                    <input type="checkbox" value="1" name="attr_uncanny_dodge" class="nextitem-show noshow" />
                                    <input title="@{AC-ability-mod}" type="number" name="attr_AC-ability-display" value="0" class="calc sect nextitem" readonly />
                                    <input title="@{FF-CMD-DEX}" type="number" name="attr_FF-CMD-DEX-display" value="0" class="calc sect-inverse" readonly />
                                </span>
                                <span class="table-cell"><input title="@{CMD-size}" type="number" name="attr_CMD-size" value="0" class="calc" readonly /></span>
                                <span class="table-cell highlight">
                                    <input name="attr_uncanny_dodge" type="checkbox" value="1" class="nextitem-show noshow" style="display:none;" />
                                    <input title="@{AC-dodge}" type="number" name="attr_AC-dodge" value="0" class="nextitem calc" readonly />
                                </span>
                                <span class="table-cell"></span>
                                <span class="table-cell"><input title="@{AC-deflect}" type="number" name="attr_AC-deflect" value="0" class="calc" readonly /></span>
                                <span class="table-cell right extra-sect"><input title="@{CMD-misc-mod}" type="number" name="attr_CMD-misc-mod" value="0" class="calc" readonly /></span>
                                <span class="table-cell"><input title="@{buffsumffcmd}" type="number" name="attr_buffsumffcmd" value="0" class="calc" readonly /></span>
                                <span class="table-cell"><input title="@{CMD-penalty}" type="number" name="attr_CMD-penalty" class="calc" readonly value="0"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cheat"></div>
                <div class="col col1 half-readonly">
                    <input class="showarrow h2arrow" type="checkbox" name="attr_armor-shield-show" data-i18n-aria-label="armor-shield" data-i18n-title="showsect-cmd" value="1" checked />
                    <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="armor-and-shield">Armor and Shield</label></h2>
                    <div class="cheat"></div>
                    <div class="h2-section table armor-shield">
                        <span class="secondary-table-name" data-i18n="armor-and-shield">Armor and Shield</span>
                        <input type="checkbox" class="subsect-show noshow" name="attr_use_spells" value="1" />
                        <div class="table-group-head">
                            <div class="table-row">
                                <span class="table-header entry-10p"><span data-i18n="equipment-abbrv" data-i18n-title="equipped-title" data-i18n-aria-label="equipped-title" title="Select which armor and shield are equipped.">Equip</span></span>
                                <span class="table-header entry-25p" data-i18n="armor-shield-name">Armor or Shield Name</span>
                                <span class="table-header entry-10p" data-i18n="armor-class-abbrv">AC</span>
                                <span class="table-header entry-10p" data-i18n="enhancement-abbrv">Enh</span>
                                <span class="table-header entry-10p" data-i18n="maximum-dexterity-bonus-abbrv">Max Dex</span>
                                <span class="table-header entry-10p" data-i18n="armor-check-penalty-abbrv">ACP</span>
                                <span class="table-header entry-10p nowrap sect" data-i18n="spell-failure">Spell Fail</span>
                                <span class="table-header entry-10p hide-readonly" data-i18n-title="armor-type" data-i18n-aria-label="armor-type" data-i18n="type">Type</span>
                                <span class="table-header entry-10p hide-readonly" data-i18n-title="non-proficient-armor-title" data-i18n-aria-label="non-proficient-armor-title" data-i18n="proficiency-abbrv">Prof</span>
                            </div>
                        </div>
                        <div class="table-group">
                            <div class="table-row">
                                <span class="table-cell"><input title="@{armor3-equipped}" type="checkbox" class="boldlabel-check" name="attr_armor3-equipped" value="1" checked /></span>
                                <span class="table-cell"><input title="@{armor3}" type="text" name="attr_armor3" value="" data-i18n-placeholder="set-on-equipment" class="detail-medium calc" readonly /></span>
                                <span class="table-cell"><input title="@{armor3-acbonus}" type="number" name="attr_armor3-acbonus" value="0" min="0" class="calc" readonly /></span>
                                <span class="table-cell"><input title="@{armor3-enhance}" type="number" name="attr_armor3-enhance" value="0" min="0" class="calc" readonly /></span>
                                <span class="table-cell"><input title="@{armor3-max-dex}" type="text" name="attr_armor3-max-dex" value="-" class="number calc" readonly /></span>
                                <span class="table-cell"><input title="@{armor3-acp}" type="number" name="attr_armor3-acp" value="0" max="0" class="calc" readonly /></span>
                                <span class="table-cell nowrap sect"><input title="@{armor3-spell-fail}" type="number" name="attr_armor3-spell-fail" value="0" min="0" max="100" class="calc" readonly />&#37;</span>
                                <span class="table-cell hide-readonly">
                                    <input type="checkbox" name="attr_armor3-type" value="Light" class="nextitem-show" /><span class="nextitem" data-i18n="light">Light</span>
                                    <input type="checkbox" name="attr_armor3-type" value="Medium" class="nextitem-show" /><span class="nextitem" data-i18n="medium">Medium</span>
                                    <input type="checkbox" name="attr_armor3-type" value="Heavy" class="nextitem-show" /><span class="nextitem" data-i18n="heavy">Heavy</span>
                                </span>
                                <span class="table-cell hide-readonly">
                                    <input type="checkbox" value="1" name="attr_armor3-proficiency" class="sect-show sect-show-inverse noshow">
                                    <span class="sect-inverse" title="@{armor3-proficiency}" data-i18n="yes">Yes</span>
                                    <span class="sect" title="@{armor3-proficiency}" data-i18n="no">No</span>
                                </span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell"><input title="@{shield3-equipped}" type="checkbox" class="boldlabel-check" name="attr_shield3-equipped" value="1" checked /></span>
                                <span class="table-cell"><input title="@{shield3}" type="text" name="attr_shield3" value="" data-i18n-placeholder="set-on-equipment" class="detail-medium calc" readonly /></span>
                                <span class="table-cell"><input title="@{shield3-acbonus}" type="number" name="attr_shield3-acbonus" value="0" min="0" class="calc" readonly /></span>
                                <span class="table-cell"><input title="@{shield3-enhance}" type="number" name="attr_shield3-enhance" value="0" min="0" class="calc" readonly /></span>
                                <span class="table-cell"><input title="@{shield3-max-dex}" type="text" name="attr_shield3-max-dex" value="-" class="calc number" readonly /></span>
                                <span class="table-cell"><input title="@{shield3-acp}" type="number" name="attr_shield3-acp" value="0" max="0" class="calc" readonly /></span>
                                <span class="table-cell nowrap sect"><input title="@{shield3-spell-fail}" type="number" name="attr_shield3-spell-fail" value="0" min="0" max="100" class="calc" readonly />&#37;</span>
                                <span class="table-cell hide-readonly">
                                    <input type="checkbox" name="attr_shield3-type" value="Light" class="nextitem-show" /><span class="nextitem" title="@{shield3-type}" data-i18n="light">Light</span>
                                    <input type="checkbox" name="attr_shield3-type" value="Heavy" class="nextitem-show" /><span class="nextitem" title="@{shield3-type}" data-i18n="heavy">Heavy</span>
                                    <input type="checkbox" name="attr_shield3-type" value="Tower Shield" class="nextitem-show" /><span class="nextitem" title="@{shield3-type}" data-i18n="tower">Tower</span>
                                </span>
                                <span class="table-cell hide-readonly">
                                    <input type="checkbox" value="1" name="attr_shield3-proficiency" class="sect-show sect-show-inverse noshow">
                                    <span class="sect-inverse" title="@{shield3-proficiency}" data-i18n="yes">Yes</span>
                                    <span class="sect" title="@{shield3-proficiency}" data-i18n="no">No</span>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="h2-section table armor-penalties medium-numbers">
                        <input type="checkbox" name="attr_max-dex-source" value="2" class="max-dex-indicator noshow" />
                        <input type="checkbox" name="attr_max-dex-source" value="3" class="max-dex-indicator noshow" />
                        <input name="attr_SpellFailureNote" type="hidden" value="" />
                        <input type="checkbox" class="subsect-show noshow" name="attr_use_spells" value="1" />
                        <span class="secondary-table-name" data-i18n="armor-penalties">Armor Penalties</span>
                        <div class="table-row hide-readonly">
                            <span class="table-header"></span>
                            <span class="table-header"></span>
                        </div>
                        <div class="table-row">
                            <label class="table-cell right nowrap">
                                <span data-i18n-title="armor-check-penalty-title" data-i18n-aria-label="armor-check-penalty-title" data-i18n="armor-check-penalty-abbrv">ACP</span>:
                                <span class="max-dex-indicator custom-title-text">
                                    <input title="@{acp}" type="number" name="attr_acp" value="0" class="calc" style="max-width:3em;" readonly />
                                </span>
                            </label>
                            <label class="table-cell right nowrap" style="padding-left:0.3rem;">
                                <span data-i18n="attack-penalty">Attack penalty</span>:
                                <input title="@{acp-attack-mod}" type="number" name="attr_acp-attack-mod" value="0" class="calc" readonly />
                            </label>
                        </div>
                        <div class="table-row">
                            <label class="table-cell right nowrap">
                                <span data-i18n-title="maximum-dexterity-title" data-i18n-aria-label="maximum-dexterity-title" data-i18n="maximum-dexterity-bonus-abbrv">Max Dex</span>:
                                <span class="max-dex-indicator custom-title-text">
                                    <input title="@{max-dex}" type="number" name="attr_max-dex" value="99" class="calc" style="max-width:3em;" readonly />
                                </span>
                            </label>
                            <span class="table-rollbuttoncell">
                                <button class="nowrap" type="roll" title="%{selected|Spell-Fail-Check)" name="roll_Spell-Fail-Check" value="@{PC-whisper} @{spell-fail-macro}">
                                    <span style="vertical-align:middle;" data-i18n="spell-failure">Spell Fail</span>
                                    <span style="vertical-align:middle;" title="@{spell-fail}" name="attr_spell-fail"></span>
                                    <span>%</span>
                                </button>
                                <input title="@{spell-fail}" type="hidden" name="attr_spell-fail" value="0" class="calc" />
                                <input type="hidden" name="attr_spell-fail-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{spell-failure}}} {{^{spell-failure-chance}=[[ @{spell-fail} ]] % }} {{check=[[ 1d100cf<[[ @{spell-fail} ]]cs>[[ @{spell-fail}+1 ]] ]] % }} {{lefttext_6=@{SpellFailureNote}}}" />
                            </span>
                        </div>
                    </div>
                </div>
                <div class="cheat"></div>
                <input class="horror-show" type="checkbox" name="attr_use_horror_adventures" value="1" />
                <input class="showarrow h2arrow horror-sect" type="checkbox" name="attr_san-show" data-i18n-aria-label="saving-throws" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect horror-sect"><label class="horror-sect" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="sanity">Sanity (BETA)</label></h2>
                <div class="h2-section nontable horror-sect" role="section" data-i18n-aria-label="sanity">
                    <span class="nontable-name" data-i18n="sanity">Sanity</span>
                    <input type="checkbox" value="1" name="attr_extra_fields_san_show" title="@{extra_fields_san_show}" class="extra-show selectedlabel-check" /><b data-i18n="show-more-fields">Show More Fields</b>
                    <div class="cheat"></div>
                    <div class="table  medium-numbers">
                        <div class="table-row">
                            <div class="table-cell small-label">
                                <button class="text-button pc-only entry-short" title="%{selected|SAN-Save} (will save)" type="roll" name="roll_SAN-Save" value="@{PC-whisper} @{san-save-macro-text}"> <span style="vertical-align:middle;" data-i18n="sanity-abbrv">SAN</span></button>
                                <button class="text-button npc-only entry-short" title="%{selected|SAN-Save} (will save)" type="roll" name="roll_SAN-Save" value="@{NPC-whisper} @{san-save-macro-text}"> <span style="vertical-align:middle;" data-i18n="sanity-npc-abbrv">NPC SAN</span></button>
                                <input type="hidden" name="attr_san-save-macro-text" value="&{template:pf_defense} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{willpower-abbrv}}} {{^{save}=@{will-san-macro-text}}} {{^{sanity-damage}=@{sanity_score}}} {{^{sanity-score}=@{sanity_score|max}}} {{^{sanity-edge}=@{sanity_edge}}} {{^{sanity-threshold}=@{sanity_threshold}}} @{toggle_save_notes} {{buff_note=@{buff_save_notes}}} {{condition_note=@{condition_save_notes}}} {{condition_note=@{condition_save_notes}}}" />
                                <input type="hidden" name="attr_will-san-macro-text" value="[[ 1d20 + [[ @{Will} ]] + [[ @{san-save-misc-macro-text} ]] ]]" />
                            </div>
                            <div class="table-cell small-label hide-readonly extra-sect">
                                <textarea type="text" name="attr_san-save-misc-macro-text" title="@{san-save-misc-macro-text}" class="macro-text-inline" data-i18n-placeholder="full-macro-place">0</textarea>
                                <br /><span data-i18n-aria-label="sanity-save-custom-modifier" data-i18n-title="sanity-save-custom-modifier" data-i18n="modifier-abbrv" class="super note-c">Sanity will save bonus</span>
                            </div>
                            <div class="table-cell small-label">
                                <input type="number" name="attr_sanity_score" class="narrow-numbers" title="@{sanity_score}" value="0" />
                                <br /><span data-i18n-aria-label="sanity-damage" data-i18n-title="sanity-damage" data-i18n="damage-abbrv">Dmg</span>
                            </div>
                            <div class="divider-lg hide-readonly">/</div>
                            <div class="table-cell small-label narrow-numbers">
                                <input type="number" name="attr_sanity_score_max" title="@{sanity_score|max}" value="0" class="calc" readonly />
                                <br /><span data-i18n-aria-label="sanity-score" data-i18n-title="sanity-score" data-i18n="score">Score</span>
                            </div>
                            <div class="divider-lg hide-readonly extra-sect">(</div>
                            <div class="table-cell small-label narrow-numbers">
                                <input type="number" name="attr_sanity_edge" title="@{sanity_edge}" value="0" class="calc" readonly />
                                <br /><span data-i18n-aria-label="sanity-edge" data-i18n-title="sanity-edge" data-i18n="edge">Edge</span>
                            </div>
                            <div class="divider-lg hide-readonly extra-sect">)</div>
                            <div class="divider-lg hide-readonly extra-sect">=</div>
                            <div class="table-cell small-label hide-readonly extra-sect narrow-numbers">
                                <input type="text" name="attr_mental_mods_total" title="@{mental_mods_total}" value="(@{WIS}+@{INT}+@{CHA})" class="number" disabled />
                                <br /><span data-i18n-title="mental-modifiers-total" data-i18n-aria-label="mental-modifiers-total" data-i18n="mental-modifiers-abbrv">Mental</span>
                            </div>
                            <div class="divider-lg hide-readonly extra-sect">-</div>
                            <div class="table-cell small-label hide-readonly extra-sect narrow-numbers">
                                <input type="text" name="attr_mental_dmg_total" title="@{mental_dmg_total}" value="(-1*(@{WIS-damage}+@{INT-damage}+@{CHA-damage}+@{WIS-penalty}+@{INT-penalty}+@{CHA-penalty}+@{buff_WIS-total_penalty}+@{buff_INT-total_penalty}+@{buff_CHA-total_penalty}))" class="number" disabled />
                                <br /><span data-i18n-title="damage-abbrv" data-i18n-aria-label="damage-abbrv" data-i18n="damage-abbrv">dmg</span>
                            </div>
                            <div class="divider-lg hide-readonly extra-sect">+</div>
                            <div class="table-cell small-label hide-readonly extra-sect highlight">
                                <input type="checkbox" name="attr_sanity_score_misc-mod_error" class="error-show" value="1" />
                                <input type="text" name="attr_sanity_score_misc" title="@{sanity_score_misc}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" class="macro-text-inline highlight" />
                                <br /><span class="super note-a" data-i18n-title="score-miscellaneous-abbrv" data-i18n="miscellaneous-abbrv">Misc</span>
                            </div>
                            <div class="table-cell small-label hide-readonly extra-sect narrow-numbers highlight">
                                <input type="checkbox" name="attr_sanity_score_misc-mod_error" class="error-show" value="1" />
                                <input type="number" name="attr_sanity_score_misc-mod" title="@{sanity_score_misc-mod}" value="0" class="calc highlight" readonly />
                                <br /><span data-i18n="modifier-abbrv">Mod</span>
                            </div>
                            <div class="table-cell small-label left-border narrow-numbers">
                                <input type="number" name="attr_sanity_threshold" title="@{sanity_threshold}" value="0" class="calc" readonly />
                                <br /><span data-i18n-aria-label="sanity-threshold" data-i18n-title="sanity-threshold" data-i18n="threshold">Threshold</span>
                            </div>
                            <div class="divider-lg hide-readonly extra-sect">=</div>
                            <div class="table-cell small-label">
                                <select title="@{sanity-ability}" name="attr_sanity-ability" class="select-small">
                                    <option value="0" data-i18n="pick-highest">Pick Highest</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                                <br /><span data-i18n-aria-label="highest-mental-ability" data-i18n-title="highest-mental-ability" data-i18n="ability">Ability</span>
                            </div>
                            <div class="table-cell small-label hide-readonly narrow-numbers">
                                <input type="number" name="attr_sanity-ability-mod" title="@{sanity-ability-mod}" value="0" class="calc" readonly />
                                <br /><span data-i18n="modifier-abbrv">Mod</span>
                            </div>
                            <div class="divider-lg hide-readonly extra-sect">+</div>
                            <div class="table-cell small-label hide-readonly extra-sect">
                                <input type="checkbox" name="attr_sanity_threshold_misc-mod_error" class="error-show" value="1" />
                                <input type="text" name="attr_sanity_threshold_misc" title="@{sanity_threshold_misc}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" class="macro-text-inline highlight" />
                                <br /><span class="super note-a" data-i18n-title="threshold-miscellaneous-abbrv" data-i18n="miscellaneous-abbrv">Misc</span>
                            </div>
                            <div class="table-cell small-label hide-readonly extra-sect narrow-numbers left">
                                <input type="checkbox" name="attr_sanity_threshold_misc-mod_error" class="error-show" value="1" />
                                <input type="number" name="attr_sanity_threshold_misc-mod" title="@{sanity_threshold_misc-mod}" value="0" class="calc highlight" readonly />
                                <br /><span data-i18n="modifier-abbrv">Mod</span>
                            </div>
                            <div class="table-cell extra-sect-inverse" style="width:25%;max-width:25%;"></div>
                        </div>
                    </div>
                    <div class="linked-custom-notes">
                        <span data-i18n="madnesses">Madnesses:</span>
                        <textarea name="attr_madnesses" class="inline-textarea half" data-i18n-placeholder="madnesses-and-effects"></textarea>
                    </div>
                </div>
                <div class="cheat horror-sect"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_defense-notes-show" data-i18n-aria-label="defense-notes" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="special-defense-notes">Special Defenses and Notes</label></h2>
                <span class="nontable-name" data-i18n="special-defense-notes">Special Defenses and Notes </span>
                <div class="h2-section special-defenses">
                    <div class="table">
                        <span class="table-name secondary-table-name show-readonly" data-i18n="special-defense">Special Defenses</span>
                        <div class="table-group">
                            <div class="table-row">
                                <span class="table-header entry-12p-shrink" data-i18n-title="damage-resistance-title" data-i18n-aria-label="damage-resistance-title" data-i18n="damage-resistance-abbrv">DR</span>
                                <span class="table-header hide-readonly super note-a" data-i18n-title="spell-resistance-title" data-i18n-aria-label="spell-resistance-title" data-i18n="spell-resistance-abbrv2">Spell Resist</span>
                                <span class="table-header number header-expand" title="Spell Resistance Modifier that is the result of the macro formula." data-i18n="spell-resist-bonus-abbrv">SR Bonus</span>
                                <span class="table-header" data-i18n-title="resistances-title" data-i18n-aria-label="resistances-title" data-i18n="resistance">Resistances</span>
                                <span class="table-header" data-i18n-title="immunities-title" data-i18n-aria-label="immunities-title" data-i18n="immunities">Immunities</span>
                                <span class="table-header" data-i18n-title="weaknesses-title" data-i18n-aria-label="weaknesses-title" data-i18n="weaknesses">Weaknesses</span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell"><input title="@{DR}" type="text" name="attr_DR" data-i18n-placeholder="damage-reduction" value="" /></span>
                                <input type="checkbox" name="attr_SR_error" class="error-mshow" value="1" />
                                <span class="table-cell hide-readonly highlight entry-med"><input type="text" class="macro-text-inline" title="@{SR-macro-text}" name="attr_SR-macro-text" data-i18n-placeholder="equation-macro-place" /></span>
                                <span class="table-cell number left highlight"><input title="@{SR}" type="number" name="attr_SR" value="0" class="calc" readonly /></span>
                                <span class="table-cell"><textarea title="@{resistances}" name="attr_resistances" class="inline-textarea" data-i18n-placeholder="resistances"></textarea></span>
                                <span class="table-cell"><textarea title="@{immunities}" name="attr_immunities" class="inline-textarea" data-i18n-placeholder="immunities"></textarea></span>
                                <span class="table-cell"><textarea title="@{weaknesses}" name="attr_weaknesses" class="inline-textarea" data-i18n-placeholder="weaknesses"></textarea></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="h2-section table defense-notes">
                    <div class="table ">
                        <span class="table-name secondary-table-name" data-i18n="defense-notes">Defense Notes</span>
                        <div class="table-group-head">
                            <span class="table-header show-readonly" data-i18n="armor-notes">Armor Notes</span>
                            <span class="table-header show-readonly" data-i18n="combat-maneuver-defense-notes">CMD Notes</span>
                            <span class="table-header show-readonly" data-i18n="defense-notes">Defense Notes</span>
                        </div>
                        <div class="table-row">
                            <div class="table-cell notes-cell">
                                <div class="table">
                                    <div class="table-row">
                                        <span class="table-cell left notes-cell"><textarea class="notes" title="@{Armor-notes}" name="attr_Armor-notes" data-i18n-placeholder="armor-notes-place"></textarea></span>
                                    </div>
                                </div>
                            </div>
                            <div class="table-cell notes-cell">
                                <div class="table">
                                    <div class="table-row">
                                        <span class="table-cell left notes-cell"><textarea class="notes" title="@{cmd-notes}" name="attr_cmd-notes" data-i18n-placeholder="combat-maneuver-notes-place"></textarea></span>
                                    </div>
                                </div>
                            </div>
                            <div class="table-cell notes-cell">
                                <div class="table">
                                    <div class="table-row">
                                        <span class="table-cell left notes-cell"><textarea class="notes" title="@{defense-notes}" name="attr_defense-notes" data-i18n-placeholder="defense-notes-place"></textarea></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="section3 section section-attacks" role="region" aria-label="Attacks" data-i18n-aria-label="attacks">
                <h1 class="selected-tabtitle" data-i18n="attacks">Attacks</h1>
                <div class="cheat show-readonly"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_attack-bonuses-show" data-i18n-aria-label="attack-and-combat-maneuver-bonuses" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect attack-grid"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="attack-and-combat-maneuver-bonuses">Attack and Combat Maneuver Bonuses</label></h2>
                <div class="cheat"></div>
                <div class="h2-section attack-grid hasexpandrows narrow-numbers">
                    <input type="checkbox" value="1" name="attr_extra_fields_attacks_show" title="@{extra_fields_attacks_show}" class="extra-show selectedlabel-check hide-readonly" checked="checked"><b class="hide-readonly" data-i18n="show-more-fields">Show more fields</b>
                    <div class="cheat"></div>
                    <div class="table">
                        <span class="table-name" data-i18n="attack-and-combat-maneuver-bonuses">Attack and Combat Maneuver Bonuses</span>
                        <div class="table-group-head">
                            <span class="table-header" style="width:11em;" data-i18n="attack-type">Attack Type</span>
                            <span class="table-header" data-i18n="total">Total</span>
                            <span class="table-header divider"> </span>
                            <span class="table-header" data-i18n="base-attack-bonus-abbrv">BAB</span>
                            <span class="table-header divider"> </span>
                            <span class="table-header ability-column" data-i18n="ability">Ability</span>
                            <span class="table-header" style="width:2.8em;" data-i18n="modifier-abbrv"> Mod</span>
                            <span class="table-header divider"> </span>
                            <span class="table-header" data-i18n="size" data-i18n-title="size-modifier-attack" data-i18n-aria-label="size-modifier-attack">Size</span>
                            <span class="table-header divider extra-sect"> </span>
                            <span class="table-header extra-sect super note-a" data-i18n="miscellaneous-abbrv">Misc</span>
                            <span class="table-header divider"> </span>
                            <span class="table-header" data-i18n="buff">Buff</span>
                            <span class="table-header divider"> </span>
                            <span class="table-header" data-i18n-title="condition-description" data-i18n-aria-label="condition-description" data-i18n="condition-abbrv" style="padding-right:0.25em;">Cond</span>
                            <span class="table-header hide-readonly left-border" data-i18n="critical-bonus-abbrv" data-i18n-title="crit-confirmation-bonus" data-i18n-aria-label="crit-confirmation-bonus">+Crit</span>
                            <span class="table-header hide-readonly" data-i18n="buff">Buff</span>
                            <span class="table-header hide-readonly" style="width:15%" data-i18n="description">Description</span>
                            <span class="table-header extra-sect hide-readonly entry-8p-shrink super note-d" data-i18n="macro">Macro</span>
                        </div>
                        <div class="table-group">
                            <div class="table-row">
                                <span class="table-cell">
                                    <input type="checkbox" class="sect-show sect-show-inverse noshow" name="attr_is_npc" value="1" role="presentation" />
                                    <button class="text-button sect-inverse" type="roll" title="%{selected|Melee-Attack-Roll}" name="roll_Melee-Attack-Roll" value="@{PC-whisper} @{Melee-Attack-macro}"> <span style="vertical-align:middle;" data-i18n="melee">Melee</span></button>
                                    <button class="text-button sect" type="roll" title="%{selected|npc-Melee-Attack-Roll}" name="roll_npc-Melee-Attack-Roll" value="@{NPC-whisper} @{Melee-Attack-macro}"> <span style="vertical-align:middle;" data-i18n="melee">Melee</span></button>
                                </span>
                                <span class="table-cell"><input title="@{attk-melee}" type="number" name="attr_attk-melee" value="0" class="calc bigger-total" readonly /></span>
                                <span class="divider">=</span>
                                <span class="table-cell linked-tablecell-short">
                                    <select name="attr_melee_bab" class="linked-cellfield extra-sect" title="@{melee-bab}">
                                        <option value="bab" selected data-i18n="base-attack-bonus-abbrv">BAB</option>
                                        <option value="level" data-i18n="full-caster-level-abbrv">Lvl/HD</option>
                                        <option value="class-0-level" data-i18n="1-ordinal-class-level">1st Class Lvl</option>
                                        <option value="class-1-level" data-i18n="2-ordinal-class-level">2nd Class Lvl</option>
                                        <option value="class-2-level" data-i18n="3-ordinal-class-level">3rd Class Lvl</option>
                                        <option value="class-3-level" data-i18n="4-ordinal-class-level">4th Class Lvl</option>
                                        <option value="class-4-level" data-i18n="5-ordinal-class-level">5th Class Lvl</option>
                                        <option value="class-5-level" data-i18n="6-ordinal-class-level">6th Class Lvl</option>
                                        <option value="npc-hd-num" data-i18n="race-hd-only">HD only</option>
                                    </select>
                                    <input title="@{melee_bab-mod}" type="number" name="attr_melee_bab-mod" value="0" class="calc narrow-numbers" readonly />
                                </span>
                                <span class="divider">+</span>
                                <span class="table-cell ability-column">
                                    <select title="@{melee-ability}" name="attr_melee-ability" class="select-small">
                                        <option value="0" data-i18n="none">None</option>
                                        <option value="STR-mod" data-i18n="strength-abbrv-default" selected>&#8226;STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <span class="table-cell left"><input title="@{melee-ability-mod}" type="number" name="attr_melee-ability-mod" value="0" class="calc narrow-numbers" readonly /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{size}" type="number" name="attr_size" value="0" class="calc" readonly /></span>
                                <span class="divider extra-sect">+</span>
                                <span class="table-cell linked-tablecell extra-sect">
                                    <input type="checkbox" name="attr_attk-melee-misc-mod_error" class="error-mshow" value="1" />
                                    <input type="text" class="macro-text-inline linked-cellfield highlight" title="@{attk-melee-misc}" name="attr_attk-melee-misc" placeholder="#/Equation" data-i18n-placeholder="equation-macro-place" />
                                    <input type="number" name="attr_attk-melee-misc-mod" title="@{attk-melee-misc-mod}" value="0" class="calc narrow-numbers highlight" readonly />
                                </span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{melee_buffs}" name="attr_melee_buffs" type="text" value="(@{buff_Melee-total}+@{buff_attack-total})" class="number calc" disabled /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{attk-penalty}" type="number" name="attr_attk-penalty" value="0" class="calc" readonly /></span>
                                <span class="table-cell hide-readonly left-border"><input title="@{attk_melee_crit_conf}" type="number" name="attr_attk_melee_crit_conf" value="0" /></span>
                                <span class="table-cell hide-readonly"><input title="@{buff_crit_conf-total}" type="text" name="attr_buff_crit_conf-total" value="0" class="number calc" readonly /></span>
                                <span class="table-cell hide-readonly"><input title="@{attk_melee_desc} :condition" type="text" name="attr_attk_melee_desc" value="" /></span>
                                <details class="table-cell extra-sect">
                                    <summary class="hide-readonly">...</summary>
                                    <textarea class="skill-macro-text" name="attr_Melee-Attack-macro" title="@{Melee-Attack-macro}">&{template:pf_attack} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{melee-attack}}} {{check=[[ 1d20 + [[ @{attk-melee} + @{toggle_global_attack_macro_insert} + @{toggle_global_melee_macro_insert} ]] ]]}} {{description=@{attk_melee_desc}}} {{buff_note=@{buff_attack_notes}}} {{condition_note=@{condition_attack_notes}}}</textarea>
                                </details>
                            </div>
                            <input type="checkbox" class="showarrow sect-show expand-arrow expand1" name="attr_atkm2_show" value="1" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd"><span class="showsect"></span>
                            <div class="table-row sect">
                                <span class="table-cell">
                                    <input type="checkbox" class="sect-show sect-show-inverse noshow" name="attr_is_npc" value="1" role="presentation" />
                                    <button class="text-button sect-inverse" type="roll" title="%{selected|Melee2-Attack-Roll} Alternate ability melee attack, for example: Weapon Finesse based attacks" name="roll_Melee2-Attack-Roll" value="@{PC-whisper} @{Melee2-Attack-macro}"> <span style="vertical-align:middle;" value="@{attk_melee2_note}" data-i18n="melee2">Melee2</span></button>
                                    <button class="text-button sect" type="roll" title="%{selected|npc-Melee2-Attack-Roll} Alternate ability melee attack, for example: Weapon Finesse based attacks" name="roll_NPC-Melee2-Attack-Roll" value="@{NPC-whisper} @{Melee2-Attack-macro}"> <span style="vertical-align:middle;" value="@{attk_melee2_note}" data-i18n="melee2">Melee2</span></button>
                                </span>
                                <span class="table-cell"><input title="@{attk-melee2}" type="number" name="attr_attk-melee2" value="0" class="calc bigger-total" readonly /></span>
                                <span class="divider">=</span>
                                <span class="table-cell linked-tablecell-short">
                                    <select name="attr_melee2_bab" class="linked-cellfield extra-sect" title="@{melee2-bab}">
                                        <option value="bab" selected data-i18n="base-attack-bonus-abbrv">BAB</option>
                                        <option value="level" data-i18n="full-caster-level-abbrv">Lvl/HD</option>
                                        <option value="class-0-level" data-i18n="1-ordinal-class-level">1st Class Lvl</option>
                                        <option value="class-1-level" data-i18n="2-ordinal-class-level">2nd Class Lvl</option>
                                        <option value="class-2-level" data-i18n="3-ordinal-class-level">3rd Class Lvl</option>
                                        <option value="class-3-level" data-i18n="4-ordinal-class-level">4th Class Lvl</option>
                                        <option value="class-4-level" data-i18n="5-ordinal-class-level">5th Class Lvl</option>
                                        <option value="class-5-level" data-i18n="6-ordinal-class-level">6th Class Lvl</option>
                                        <option value="npc-hd-num" data-i18n="race-hd-only">HD only</option>
                                    </select>
                                    <input title="@{melee2_bab-mod}" type="number" name="attr_melee2_bab-mod" value="0" class="calc narrow-numbers" readonly />
                                </span>
                                <span class="divider">+</span>
                                <span class="table-cell ability-column">
                                    <select title="@{melee2-ability}" name="attr_melee2-ability" class="select-small">
                                        <option value="0" data-i18n="none-default">&#8226;None</option>
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv" selected>DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <span class="table-cell left"><input title="@{melee2-ability-mod}" type="number" name="attr_melee2-ability-mod" value="0" class="calc narrow-numbers" readonly /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{size}" type="number" name="attr_size" value="0" class="calc" readonly /></span>
                                <span class="divider extra-sect">+</span>
                                <span class="table-cell linked-tablecell extra-sect">
                                    <input type="checkbox" name="attr_attk-melee2-misc-mod_error" class="error-mshow" value="1" />
                                    <input type="text" class="macro-text-inline linked-cellfield highlight" title="@{attk-melee2-misc}" name="attr_attk-melee2-misc" placeholder="#/Equation" data-i18n-placeholder="equation-macro-place" />
                                    <input type="number" name="attr_attk-melee2-misc-mod" title="@{attk-melee2-misc-mod}" value="0" class="calc narrow-numbers highlight" readonly />
                                </span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{melee_buffs}" name="attr_melee_buffs" type="text" value="(@{buff_Melee-total}+@{buff_attack-total})" class="number calc" disabled /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{attk-penalty}" type="number" name="attr_attk-penalty" value="0" class="calc" readonly /></span>
                                <span class="table-cell hide-readonly left-border"><input title="@{attk_melee2_crit_conf}" type="number" name="attr_attk_melee2_crit_conf" value="0" /></span>
                                <span class="table-cell hide-readonly"><input title="@{buff_crit_conf-total}" type="text" name="attr_buff_crit_conf-total" value="0" class="number calc" readonly /></span>
                                <span class="table-cell hide-readonly"><input title="@{attk_melee2_note}" type="text" name="attr_attk_melee2_note" value="Weapon Finesse" data-i18n-placeholder="alternate-ability-melee-desc" /></span>
                                <details class="table-cell extra-sect">
                                    <summary class="hide-readonly">...</summary>
                                    <textarea class="skill-macro-text" name="attr_Melee2-Attack-macro" title="@{Melee2-Attack-macro}">&{template:pf_attack} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{melee2-attack}}} {{check=[[ 1d20 + [[ @{attk-melee2} + @{toggle_global_attack_macro_insert} + @{toggle_global_melee_macro_insert} ]] ]]}} {{description=@{attk_melee2_note}}} {{buff_note=@{buff_attack_notes}}} {{condition_note=@{condition_attack_notes}}}</textarea>
                                </details>
                            </div>
                            <div class="table-row">
                                <span class="table-cell">
                                    <input type="checkbox" class="sect-show sect-show-inverse noshow" name="attr_is_npc" value="1" role="presentation" />
                                    <button class="text-button sect-inverse" type="roll" title="%{selected|Ranged-Attack-Roll}" name="roll_Ranged-Attack-Roll" value="@{PC-whisper} @{Ranged-Attack-macro}"> <span style="vertical-align:middle;" data-i18n="ranged">Ranged</span></button>
                                    <button class="text-button sect" type="roll" title="%{selected|npc-Ranged-Attack-Roll}" name="roll_npc-Ranged-Attack-Roll" value="@{NPC-whisper} @{Ranged-Attack-macro}"> <span style="vertical-align:middle;" data-i18n="ranged">Ranged</span></button>
                                </span>
                                <span class="table-cell"><input title="@{attk-ranged}" type="number" name="attr_attk-ranged" value="0" class="calc bigger-total" readonly /></span>
                                <span class="divider">=</span>
                                <span class="table-cell linked-tablecell-short">
                                    <select name="attr_ranged_bab" class="linked-cellfield extra-sect" title="@{ranged-bab}">
                                        <option value="bab" selected data-i18n="base-attack-bonus-abbrv">BAB</option>
                                        <option value="level" data-i18n="full-caster-level-abbrv">Lvl/HD</option>
                                        <option value="class-0-level" data-i18n="1-ordinal-class-level">1st Class Lvl</option>
                                        <option value="class-1-level" data-i18n="2-ordinal-class-level">2nd Class Lvl</option>
                                        <option value="class-2-level" data-i18n="3-ordinal-class-level">3rd Class Lvl</option>
                                        <option value="class-3-level" data-i18n="4-ordinal-class-level">4th Class Lvl</option>
                                        <option value="class-4-level" data-i18n="5-ordinal-class-level">5th Class Lvl</option>
                                        <option value="class-5-level" data-i18n="6-ordinal-class-level">6th Class Lvl</option>
                                        <option value="npc-hd-num" data-i18n="race-hd-only">HD only</option>
                                    </select>
                                    <input title="@{ranged_bab-mod}" type="number" name="attr_ranged_bab-mod" value="0" class="calc narrow-numbers" readonly />
                                </span>
                                <span class="divider">+</span>
                                <span class="table-cell ability-column">
                                    <select title="@{ranged-ability}" name="attr_ranged-ability" class="select-small">
                                        <option value="0" data-i18n="none">None</option>
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <span class="table-cell left"><input title="@{ranged-ability-mod}" type="number" name="attr_ranged-ability-mod" value="0" class="calc narrow-numbers" readonly /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{size}" type="number" name="attr_size" value="0" class="calc" readonly /></span>
                                <span class="divider extra-sect">+</span>
                                <span class="table-cell linked-tablecell extra-sect">
                                    <input type="checkbox" name="attr_attk-ranged-misc-mod_error" class="error-mshow" value="1" />
                                    <input type="text" class="macro-text-inline linked-cellfield highlight" title="@{attk-ranged-misc}" name="attr_attk-ranged-misc" placeholder="#/Equation" data-i18n-placeholder="equation-macro-place" />
                                    <input type="number" name="attr_attk-ranged-misc-mod" title="@{attk-ranged-misc-mod}" value="0" class="calc narrow-numbers highlight" readonly />
                                </span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{ranged_buffs}" name="attr_ranged_buffs" type="text" value="(@{buff_Ranged-total}+@{buff_attack-total})" class="number calc" disabled /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{attk-penalty}" type="number" name="attr_attk-penalty" value="0" class="calc" readonly /></span>
                                <span class="table-cell hide-readonly left-border"><input title="@{attk_ranged_crit_conf}" type="number" name="attr_attk_ranged_crit_conf" value="0" /></span>
                                <span class="table-cell hide-readonly"><input title="@{buff_crit_conf-total}" type="text" name="attr_buff_crit_conf-total" value="0" class="number calc" readonly /></span>
                                <span class="table-cell hide-readonly"><input title="@{attk_ranged_desc} : condition" type="text" name="attr_attk_ranged_desc" value="" /></span>
                                <details class="table-cell extra-sect">
                                    <summary class="hide-readonly">...</summary>
                                    <textarea class="skill-macro-text" name="attr_Ranged-Attack-macro" title="@{Ranged-Attack-macro}">&{template:pf_attack} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-ranged}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{ranged-attack}}} {{check=[[ 1d20 + [[ @{attk-ranged} + @{toggle_global_attack_macro_insert} + @{toggle_global_ranged_macro_insert} ]] ]]}} {{description=@{attk_ranged_desc}}} {{buff_note=@{buff_attack_notes}}} {{condition_note=@{condition_attack_notes}}}</textarea>
                                </details>
                            </div>
                            <input type="checkbox" class="showarrow sect2-show expand-arrow expand2" name="attr_ranged_2_show" value="1" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd"><span class="showsect"></span>
                            <div class="table-row sect2">
                                <span class="table-cell">
                                    <input type="checkbox" class="sect-show sect-show-inverse noshow" name="attr_is_npc" value="1" role="presentation" />
                                    <button class="text-button sect-inverse" type="roll" title="%{selected|Ranged2-Attack-Roll}" name="roll_Ranged2-Attack-Roll" value="@{PC-whisper} @{Ranged2-Attack-macro}"> <span style="vertical-align:middle;" data-i18n="ranged2">Ranged2</span></button>
                                    <button class="text-button sect" type="roll" title="%{selected|npc-Ranged2-Attack-Roll}" name="roll_npc-Ranged2-Attack-Roll" value="@{NPC-whisper} @{Ranged2-Attack-macro}"> <span style="vertical-align:middle;" data-i18n="ranged2">Ranged2</span></button>
                                </span>
                                <span class="table-cell"><input title="@{attk-ranged2}" type="number" name="attr_attk-ranged2" value="0" class="calc bigger-total" readonly /></span>
                                <span class="divider">=</span>
                                <span class="table-cell linked-tablecell-short">
                                    <select name="attr_ranged2_bab" class="linked-cellfield extra-sect" title="@{ranged2-bab}">
                                        <option value="bab" selected data-i18n="base-attack-bonus-abbrv">BAB</option>
                                        <option value="level" data-i18n="full-caster-level-abbrv">Lvl/HD</option>
                                        <option value="class-0-level" data-i18n="1-ordinal-class-level">1st Class Lvl</option>
                                        <option value="class-1-level" data-i18n="2-ordinal-class-level">2nd Class Lvl</option>
                                        <option value="class-2-level" data-i18n="3-ordinal-class-level">3rd Class Lvl</option>
                                        <option value="class-3-level" data-i18n="4-ordinal-class-level">4th Class Lvl</option>
                                        <option value="class-4-level" data-i18n="5-ordinal-class-level">5th Class Lvl</option>
                                        <option value="class-5-level" data-i18n="6-ordinal-class-level">6th Class Lvl</option>
                                        <option value="npc-hd-num" data-i18n="race-hd-only">HD only</option>
                                    </select>
                                    <input title="@{ranged2_bab-mod}" type="number" name="attr_ranged2_bab-mod" value="0" class="calc narrow-numbers" readonly />
                                </span>
                                <span class="divider">+</span>
                                <span class="table-cell ability-column">
                                    <select title="@{ranged2-ability}" name="attr_ranged2-ability" class="select-small">
                                        <option value="0" data-i18n="none-default" selected>&#8226;None</option>
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <span class="table-cell left"><input title="@{ranged2-ability-mod}" type="number" name="attr_ranged2-ability-mod" value="0" class="calc narrow-numbers" readonly /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{size}" type="number" name="attr_size" value="0" class="calc" readonly /></span>
                                <span class="divider extra-sect">+</span>
                                <span class="table-cell linked-tablecell extra-sect">
                                    <input type="checkbox" name="attr_attk-ranged2-misc-mod_error" class="error-mshow" value="1" />
                                    <input type="text" class="macro-text-inline linked-cellfield highlight" title="@{attk-ranged2-misc}" name="attr_attk-ranged2-misc" placeholder="#/Equation" data-i18n-placeholder="equation-macro-place" />
                                    <input type="number" name="attr_attk-ranged2-misc-mod" title="@{attk-ranged2-misc-mod}" value="0" class="calc narrow-numbers highlight" readonly />
                                </span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{ranged_buffs}" name="attr_ranged_buffs" type="text" value="(@{buff_Ranged-total}+@{buff_attack-total})" class="number calc" disabled /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{attk-penalty}" type="number" name="attr_attk-penalty" value="0" class="calc" readonly /></span>
                                <span class="table-cell hide-readonly left-border"><input title="@{attk_ranged2_crit_conf}" type="number" name="attr_attk_ranged2_crit_conf" value="0" /></span>
                                <span class="table-cell hide-readonly"><input title="@{buff_crit_conf-total}" type="text" name="attr_buff_crit_conf-total" value="0" class="number calc" readonly /></span>
                                <span class="table-cell hide-readonly"><input title="@{attk_ranged2_desc}" type="text" name="attr_attk_ranged2_desc" value="" data-i18n-placeholder="alternate-ability-ranged-desc" /></span>
                                <details class="table-cell extra-sect">
                                    <summary class="hide-readonly">...</summary>
                                    <textarea class="skill-macro-text" name="attr_Ranged2-Attack-macro" title="@{Ranged2-Attack-macro}">&{template:pf_attack} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-ranged}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{ranged2-attack}}} {{check=[[ 1d20 + [[ @{attk-ranged2} + @{toggle_global_attack_macro_insert} + @{toggle_global_ranged_macro_insert} ]] ]]}} {{description=@{attk_ranged2_desc}}} {{buff_note=@{buff_attack_notes}}} {{condition_note=@{condition_attack_notes}}}</textarea>
                                </details>
                            </div>
                            <div class="table-row">
                                <span class="table-cell">
                                    <input type="checkbox" class="sect-show sect-show-inverse noshow" name="attr_is_npc" value="1" role="presentation" />
                                    <button class="text-button sect-inverse" type="roll" title="%{selected|CMB-Check}" name="roll_CMB-Check" value="@{PC-whisper} @{CMB-Check-macro}"> <span style="vertical-align:middle;" data-i18n="combat-maneuver-bonus-abbrv">CMB</span></button>
                                    <button class="text-button sect" type="roll" title="%{selected|npc-CMB-Check}" name="roll_npc-CMB-Check" value="@{NPC-whisper} @{CMB-Check-macro}"> <span style="vertical-align:middle;" data-i18n="combat-maneuver-bonus-abbrv">CMB</span></button>
                                </span>
                                <span class="table-cell"><input title="@{CMB}" type="number" name="attr_CMB" value="0" class="calc bigger-total" readonly /></span>
                                <span class="divider">=</span>
                                <span class="table-cell linked-tablecell-short">
                                    <select name="attr_cmb_bab" class="linked-cellfield extra-sect" title="@{cmb-bab}">
                                        <option value="bab" selected data-i18n="base-attack-bonus-abbrv">BAB</option>
                                        <option value="level" data-i18n="full-caster-level-abbrv">Lvl/HD</option>
                                        <option value="class-0-level" data-i18n="1-ordinal-class-level">1st Class Lvl</option>
                                        <option value="class-1-level" data-i18n="2-ordinal-class-level">2nd Class Lvl</option>
                                        <option value="class-2-level" data-i18n="3-ordinal-class-level">3rd Class Lvl</option>
                                        <option value="class-3-level" data-i18n="4-ordinal-class-level">4th Class Lvl</option>
                                        <option value="class-4-level" data-i18n="5-ordinal-class-level">5th Class Lvl</option>
                                        <option value="class-5-level" data-i18n="6-ordinal-class-level">6th Class Lvl</option>
                                        <option value="npc-hd-num" data-i18n="race-hd-only">HD only</option>
                                    </select>
                                    <input title="@{cmb_bab-mod}" type="number" name="attr_cmb_bab-mod" value="0" class="calc narrow-numbers" readonly />
                                </span>
                                <span class="divider">+</span>
                                <span class="table-cell ability-column">
                                    <select title="@{CMB-ability}" name="attr_CMB-ability" class="select-small">
                                        <option value="0" data-i18n="none">None</option>
                                        <option value="STR-mod" data-i18n="strength-abbrv-default" selected>&#8226;STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <span class="table-cell left"><input title="@{CMB-ability-mod}" type="number" name="attr_CMB-ability-mod" value="0" class="calc narrow-numbers" readonly /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{CMD-size}" type="number" name="attr_CMD-size" value="0" class="calc" readonly /></span>
                                <span class="divider extra-sect">+</span>
                                <span class="table-cell linked-tablecell extra-sect">
                                    <input type="checkbox" name="attr_attk-CMB-misc-mod_error" class="error-mshow" value="1" />
                                    <input type="text" class="macro-text-inline linked-cellfield highlight" title="@{attk-CMB-misc}" name="attr_attk-CMB-misc" placeholder="#/Equation" data-i18n-placeholder="equation-macro-place" />
                                    <input type="number" name="attr_attk-CMB-misc-mod" title="@{attk-CMB-misc-mod}" value="0" class="calc narrow-numbers highlight" readonly />
                                </span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{cmb_buffs}" name="attr_cmb_buffs" type="text" value="(@{buff_CMB-total}+@{buff_attack-total})" class="number calc" disabled /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{attk-penalty}" type="number" name="attr_attk-penalty" value="0" class="calc" readonly /></span>
                                <span class="table-cell hide-readonly left-border"><input title="@{attk_cmb_crit_conf}" type="number" name="attr_attk_cmb_crit_conf" value="0" /></span>
                                <span class="table-cell hide-readonly"><input title="@{buff_crit_conf-total}" type="text" name="attr_buff_crit_conf-total" value="0" class="number calc" readonly /></span>
                                <span class="table-cell hide-readonly"><input title="@{attk_cmb_desc}" type="text" name="attr_attk_cmb_desc" value="" /></span>
                                <details class="table-cell extra-sect">
                                    <summary class="hide-readonly">...</summary>
                                    <textarea class="skill-macro-text" name="attr_CMB-Check-macro" title="@{CMB-Check-macro}">&{template:pf_attack} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-cmb}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{combat-maneuver-bonus-abbrv}}} {{check=[[ 1d20 + [[ @{CMB} + @{toggle_global_attack_macro_insert} + @{toggle_global_cmb_macro_insert} ]] ]]}} {{description=@{attk_cmb_desc}}} {{buff_note=@{buff_attack_notes}}} {{condition_note=@{condition_attack_notes}}}</textarea>
                                </details>
                            </div>
                            <input type="checkbox" class="showarrow sect3-show expand-arrow expand3" name="attr_cmb_2_show" value="1" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd"><span class="showsect"></span>
                            <div class="table-row sect3">
                                <span class="table-cell">
                                    <input type="checkbox" class="sect-show sect-show-inverse noshow" name="attr_is_npc" value="1" role="presentation" />
                                    <button class="text-button sect-inverse" type="roll" title="%{selected|CMB2-Check}" name="roll_CMB2-Check" value="@{PC-whisper} @{CMB2-Check-macro}"> <span style="vertical-align:middle;" data-i18n="combat-maneuver-bonus-abbrv2">Alt CMB</span></button>
                                    <button class="text-button sect" type="roll" title="%{selected|npc-CMB2-Check}" name="roll_npc-CMB2-Check" value="@{NPC-whisper} @{CMB2-Check-macro}"> <span style="vertical-align:middle;" data-i18n="combat-maneuver-bonus-abbrv2">Alt CMB</span></button>
                                </span>
                                <span class="table-cell"><input title="@{CMB2}" type="number" name="attr_CMB2" value="0" class="calc bigger-total" readonly /></span>
                                <span class="divider">=</span>
                                <span class="table-cell linked-tablecell-short">
                                    <select name="attr_cmb2_bab" class="linked-cellfield extra-sect" title="@{cmb2-bab}">
                                        <option value="bab" selected data-i18n="base-attack-bonus-abbrv">BAB</option>
                                        <option value="level" data-i18n="full-caster-level-abbrv">Lvl/HD</option>
                                        <option value="class-0-level" data-i18n="1-ordinal-class-level">1st Class Lvl</option>
                                        <option value="class-1-level" data-i18n="2-ordinal-class-level">2nd Class Lvl</option>
                                        <option value="class-2-level" data-i18n="3-ordinal-class-level">3rd Class Lvl</option>
                                        <option value="class-3-level" data-i18n="4-ordinal-class-level">4th Class Lvl</option>
                                        <option value="class-4-level" data-i18n="5-ordinal-class-level">5th Class Lvl</option>
                                        <option value="class-5-level" data-i18n="6-ordinal-class-level">6th Class Lvl</option>
                                        <option value="npc-hd-num" data-i18n="race-hd-only">HD only</option>
                                    </select>
                                    <input title="@{cmb2_bab-mod}" type="number" name="attr_cmb2_bab-mod" value="0" class="calc narrow-numbers" readonly />
                                </span>
                                <span class="divider">+</span>
                                <span class="table-cell ability-column">
                                    <select title="@{CMB2-ability}" name="attr_CMB2-ability" class="select-small">
                                        <option value="0" data-i18n="none-default" selected>&#8226;None</option>
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <span class="table-cell left"><input title="@{CMB2-ability-mod}" type="number" name="attr_CMB2-ability-mod" value="0" class="calc narrow-numbers" readonly /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{CMD-size}" type="number" name="attr_CMD-size" value="0" class="calc" readonly /></span>
                                <span class="divider extra-sect">+</span>
                                <span class="table-cell linked-tablecell extra-sect">
                                    <input type="checkbox" name="attr_attk-CMB2-misc-mod_error" class="error-mshow" value="1" />
                                    <input type="text" class="macro-text-inline linked-cellfield highlight" title="@{attk-CMB2-misc}" name="attr_attk-CMB2-misc" placeholder="#/Equation" data-i18n-placeholder="equation-macro-place" />
                                    <input type="number" name="attr_attk-CMB2-misc-mod" title="@{attk-CMB2-misc-mod}" value="0" class="calc narrow-numbers highlight" readonly />
                                </span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{cmb_buffs}" name="attr_cmb_buffs" type="text" value="(@{buff_CMB-total}+@{buff_attack-total})" class="number calc" disabled /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{attk-penalty}" type="number" name="attr_attk-penalty" value="0" class="calc" readonly /></span>
                                <span class="table-cell hide-readonly left-border"><input title="@{attk_cmb2_crit_conf}" type="number" name="attr_attk_cmb2_crit_conf" value="0" /></span>
                                <span class="table-cell hide-readonly"><input title="@{buff_crit_conf-total}" type="text" name="attr_buff_crit_conf-total" value="0" class="number calc" readonly /></span>
                                <span class="table-cell hide-readonly"><input title="@{attk_cmb2_desc}" type="text" name="attr_attk_cmb2_desc" value="" data-i18n-placeholder="alternate-ability-cmb-desc" /></span>
                                <details class="table-cell extra-sect">
                                    <summary class="hide-readonly">...</summary>
                                    <textarea class="skill-macro-text" name="attr_CMB2-Check-macro" title="@{CMB2-Check-macro}">&{template:pf_attack} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-cmb}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{combat-maneuver-bonus-abbrv2}}} {{check=[[ 1d20 + [[ @{CMB2} + @{toggle_global_attack_macro_insert} + @{toggle_global_cmb_macro_insert} ]] ]]}} {{description=@{attk_cmb2_desc}}} {{buff_note=@{buff_attack_notes}}} {{condition_note=@{condition_attack_notes}}}</textarea>
                                </details>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="h2-section damage-grid" style="margin-top:0.25em;">
                    <div class="table">
                        <div class="table-row">
                            <span class="table-cell table-row-name hide-readonly" data-i18n="buff-cond-damage-mods">Buff/Cond Damage Mods</span>
                            <span class="table-cell hide-readonly"> </span>
                            <span class="table-cell table-header" data-i18n="melee">Melee</span>
                            <span class="table-cell"><input type="text" title="@{DMG-mod}" name="attr_DMG-mod" value="(@{buff_DMG-total}+@{buff_dmg_melee-total}-@{condition-Sickened})" class="calc number center" disabled /></span>
                            <span class="table-cell table-header" data-i18n="melee2">Alt Melee</span>
                            <span class="table-cell"><input type="text" title="@{DMG2-mod}" name="attr_DMG2-mod" value="(@{buff_DMG-total}+@{buff_dmg_melee-total}+@{buff_dmg_melee2-total}-@{condition-Sickened})" class="calc number center" disabled /></span>
                            <span class="table-cell table-header" data-i18n="ranged">Ranged</span>
                            <span class="table-cell"><input type="text" title="@{DMG_ranged-mod}" name="attr_DMG_ranged-mod" value="(@{buff_DMG-total}+@{buff_DMG_ranged-total}-@{condition-Sickened})" class="calc number center" disabled /></span>
                            <span class="table-cell table-header" data-i18n="ranged2">Alt Ranged</span>
                            <span class="table-cell"><input type="text" title="@{DMG_ranged2-mod}" name="attr_DMG_ranged2-mod" value="(@{buff_DMG-total}+@{buff_DMG_ranged-total}+@{buff_DMG_ranged2-total}-@{condition-Sickened})" class="calc number center" disabled /></span>
                            <div style="display:none;"><input title="@{dmg-penalty}" type="text" name="attr_dmg-penalty" value="@{condition-Sickened}" disabled readonly class="number calc" /></div>
                        </div>
                    </div>
                </div>
                <div class="cheat"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_attack-notes-show" data-i18n-aria-label="attack-notes" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="attack-notes">Attack Notes</label></h2>
                <div class="h2-section attack-options hide-readonly">
                    <div class="table options named">
                        <span class="table-name" data-i18n="include-attack-notes">Include notes or images in attack rolls? Notes and image will be mapped to attack type.</span>
                        <div class="table-row">
                            <span class="table-cell small-label nowrap"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_attack_melee_notes" value="1" title="@{toggle_attack_melee_notes}" checked><b data-i18n-title="options-attacks-melee-title" data-i18n-aria-label="options-attacks-melee-title" data-i18n="melee-notes"> Melee Notes</b></label></span>
                            <span class="table-cell small-label nowrap"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_attack_ranged_notes" value="1" title="@{toggle_attack_ranged_notes}" checked><b data-i18n-title="options-attacks-ranged-title" data-i18n-aria-label="options-attacks-ranged-title" data-i18n="ranged-notes"> Ranged Notes</b></label></span>
                            <span class="table-cell small-label nowrap"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_attack_CMB_notes" value="1" title="@{toggle_attack_CMB_notes}" checked><b data-i18n-title="options-attacks-cmb-title" data-i18n-aria-label="options-attacks-cmb-title" data-i18n="combat-maneuver-bonus-notes"> CMB Notes</b></label></span>
                            <span class="table-cell small-label nowrap"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_attack_attack_notes" value="1" title="@{toggle_attack_attack_notes}" checked><b data-i18n-title="options-attacks-attack-title" data-i18n-aria-label="options-attacks-attack-title" data-i18n="attack-notes"> Attack Notes</b></label></span>
                            <span class="table-cell small-label nowrap"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_attack_header_image" value="1" title="@{toggle_attack_header_image}" checked><b data-i18n-title="options-attacks-header-title" data-i18n-aria-label="options-attacks-header-title" data-i18n="header-image">Header Image</b></label></span>
                            <span class="table-cell small-label nowrap"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_attack_accessible" value="@{var_accessible_flag}" title="@{toggle_attack_accessible}"><b data-i18n-title="options-attacks-accessible-title" data-i18n-aria-label="options-attacks-accessible-title" data-i18n="simple-template">Simple Template</b></label></span>
                        </div>
                    </div>
                </div>
                <div class="h2-section table attack-notes">
                    <div class="table">
                        <div class="table-group-head">
                            <span class="table-header show-readonly" data-i18n="melee-attack-notes">Melee Attack Notes</span>
                            <span class="table-header show-readonly" data-i18n="ranged-attack-notes">Ranged Attack Notes</span>
                            <span class="table-header show-readonly" data-i18n="combat-maneuver-bonus-notes">CMB Notes</span>
                            <span class="table-header show-readonly" data-i18n="attack-notes">Attack Notes</span>
                        </div>
                        <div class="table-row">
                            <div class="table-cell notes-cell">
                                <textarea class="notes" title="@{melee-attack-notes}" name="attr_melee-attack-notes" data-i18n-placeholder="melee-attack-notes-place"></textarea>
                            </div>
                            <div class="table-cell notes-cell">
                                <textarea class="notes" title="@{ranged-attack-notes}" name="attr_ranged-attack-notes" data-i18n-placeholder="ranged-attack-notes-place"></textarea>
                            </div>
                            <div class="table-cell notes-cell">
                                <textarea class="notes" title="@{CMB-notes}" name="attr_CMB-notes" data-i18n-placeholder="combat-maneuver-bonus-notes-place"></textarea>
                            </div>
                            <div class="table-cell notes-cell">
                                <textarea class="notes" title="@{attack-notes}" name="attr_attack-notes" data-i18n-placeholder="attack-notes-place"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cheat"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_attack-options-show" data-i18n-aria-label="macro-options" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="extra-damage-or-attack-modifiers">Extra Damage or Attack Modifiers</label></h2>
                <div class="h2-section extra-damage-section" style="margin-top:0.5em;">
                    <div class="table extra-damage options named">
                        <div class="table-name secondary-table-name show-readonly" data-i18n="additional-damage">Extra Damage</div>
                        <div class="table-row">
                            <span class="table-cell small-label">
                                <textarea class="macro-text-inline both" name="attr_global_precision_dmg_type" title="@{global_precision_dmg_type}" value="" data-i18n-placeholder="damage-type-or-description"></textarea>
                                <span data-i18n-title="precision-damage-type" data-i18n-aria-label="precision-damage-type" title="Extra Damage type" data-i18n="type">Type</span>
                            </span>
                            <span class="table-cell small-label">
                                <textarea class="macro-text-inline both" name="attr_global_precision_dmg_macro" title="@{global_precision_dmg_macro}" value="" data-i18n-placeholder="full-macro-place"></textarea>
                                <span class="super note-b" data-i18n-title="precision-damage-title" data-i18n-aria-label="precision-damage-title" title="Extra or Precision Damage (not added to critical damage)" data-i18n="extra-damage">Extra Non-Crit Dmg</span>
                            </span>
                            <span class="table-cell small-label">
                                <textarea class="macro-text-inline both" name="attr_global_critical_dmg_type" title="@{global_critical_dmg_type}" value="" data-i18n-placeholder="damage-type-or-description"></textarea>
                                <span data-i18n-title="precision-damage-type" data-i18n-aria-label="precision-damage-type" title="Extra Damage type" data-i18n="type">Type</span>
                            </span>
                            <span class="table-cell small-label">
                                <textarea class="macro-text-inline both" name="attr_global_critical_dmg_macro" title="@{global_critical_dmg_macro}" value="" data-i18n-placeholder="full-macro-place"></textarea>
                                <span class="super note-b" data-i18n-title="extra-critical-damage-title" data-i18n-aria-label="extra-critical-damage-title" title="Extra Critical Damage" data-i18n="extra-critical-damage">Extra Crit Dmg</span>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="h2-section advanced-macros add-to-macros wide-readonly" style="margin-top:0.5em;">
                    <div class="table extra-damage options named add-to-macros">
                        <div class="table-name secondary-table-name show-readonly" data-i18n="all-attacks-macro-insert-section">Add to Attack Roll macro</div>
                        <div class="table-row">
                            <div class="insertmacrocell col1">
                                <input class="textarea-gray" type="checkbox" name="attr_toggle_global_melee_macro_insert" value="@{var_global_melee_macro_insert}" title="@{toggle_global_melee_macro_insert}" />
                                <label class="small-label2">
                                    <span class="super note-c" data-i18n="all-attacks-insert-macro-melee">Add to Melee Attack Roll macro</span>
                                    <input type="hidden" name="attr_var_global_melee_macro_insert" value="[[ @{global_melee_macro_insert} ]] [Type]" />
                                    <textarea class="macro-text-inline both" name="attr_global_melee_macro_insert" title="@{global_melee_macro_insert}">0</textarea>
                                </label>
                            </div>
                            <div class="insertmacrocell col2">
                                <input class="textarea-gray" type="checkbox" name="attr_toggle_global_ranged_macro_insert" value="@{var_global_ranged_macro_insert}" title="@{toggle_global_ranged_macro_insert}" />
                                <label class="small-label2">
                                    <span class="super note-c" data-i18n="all-attacks-insert-macro-ranged">Add to Ranged Attack Roll macro</span>
                                    <input type="hidden" name="attr_var_global_ranged_macro_insert" value="[[ @{global_ranged_macro_insert} ]] [Type]" />
                                    <textarea class="macro-text-inline both" name="attr_global_ranged_macro_insert" title="@{global_ranged_macro_insert}">0</textarea>
                                </label>
                            </div>
                            <div class="insertmacrocell col3">
                                <input class="textarea-gray" type="checkbox" name="attr_toggle_global_cmb_macro_insert" value="@{var_global_cmb_macro_insert}" title="@{toggle_global_cmb_macro_insert}" />
                                <label class="small-label2">
                                    <span class="super note-c" data-i18n="all-attacks-insert-macro-cmb">Add to CMB Roll macro</span>
                                    <input type="hidden" name="attr_var_global_cmb_macro_insert" value="[[ @{global_cmb_macro_insert} ]] [Type]" />
                                    <textarea class="macro-text-inline both" name="attr_global_cmb_macro_insert" title="@{global_cmb_macro_insert}">0</textarea>
                                </label>
                            </div>
                            <div class="insertmacrocell col4">
                                <input class="textarea-gray" type="checkbox" name="attr_toggle_global_attack_macro_insert" value="@{var_global_attack_macro_insert}" title="@{toggle_global_attack_macro_insert}" />
                                <label class="small-label2">
                                    <span class="super note-c" data-i18n="all-attacks-insert-macro-attack">Add to Attack Roll macro</span>
                                    <input type="hidden" name="attr_var_global_attack_macro_insert" value="[[ @{global_attack_macro_insert} ]] [Global]" />
                                    <textarea class="macro-text-inline both" name="attr_global_attack_macro_insert" title="@{global_attack_macro_insert}">0</textarea>
                                </label>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="insertmacrocell col1">
                                <input class="textarea-gray" type="checkbox" name="attr_toggle_global_melee_damage_macro_insert" value="@{var_global_melee_damage_macro_insert}" title="@{toggle_global_melee_damage_macro_insert}" />
                                <label class="small-label2">
                                    <span class="super note-c" data-i18n="all-attacks-insert-macro-melee-damage">Add to Melee Dmg macro</span>
                                    <input type="hidden" name="attr_var_global_melee_damage_macro_insert" value="[[ @{global_melee_damage_macro_insert} ]] [Type]" />
                                    <textarea class="macro-text-inline both" name="attr_global_melee_damage_macro_insert" title="@{global_melee_damage_macro_insert}">0</textarea>
                                </label>
                            </div>
                            <div class="insertmacrocell col2">
                                <input class="textarea-gray" type="checkbox" name="attr_toggle_global_ranged_damage_macro_insert" value="@{var_global_ranged_damage_macro_insert}" title="@{toggle_global_ranged_damage_macro_insert}" />
                                <label class="small-label2">
                                    <span class="super note-c" data-i18n="all-attacks-insert-macro-ranged-damage">Add to Ranged Dmg macro</span>
                                    <input type="hidden" name="attr_var_global_ranged_damage_macro_insert" value="[[ @{global_ranged_damage_macro_insert} ]] [Type]" />
                                    <textarea class="macro-text-inline both" name="attr_global_ranged_damage_macro_insert" title="@{global_ranged_damage_macro_insert}">0</textarea>
                                </label>
                            </div>
                            <div class="insertmacrocell col3">
                                <input class="textarea-gray" type="checkbox" name="attr_toggle_global_cmb_damage_macro_insert" value="@{var_global_cmb_damage_macro_insert}" title="@{toggle_global_cmb_damage_macro_insert}" />
                                <label class="small-label2">
                                    <span class="super note-c" data-i18n="all-attacks-insert-macro-cmb-damage">Add to CMB Dmg macro</span>
                                    <input type="hidden" name="attr_var_global_cmb_damage_macro_insert" value="[[ @{global_cmb_damage_macro_insert} ]] [Type]" />
                                    <textarea class="macro-text-inline both" name="attr_global_cmb_damage_macro_insert" title="@{global_cmb_damage_macro_insert}">0</textarea>
                                </label>
                            </div>
                            <div class="insertmacrocell col4">
                                <input class="textarea-gray" type="checkbox" name="attr_toggle_global_damage_macro_insert" value="@{var_global_damage_macro_insert}" title="@{toggle_global_damage_macro_insert}" />
                                <label class="small-label2">
                                    <span class="super note-c" data-i18n="all-attacks-insert-macro-damage">Add to Dmg macro</span>
                                    <input type="hidden" name="attr_var_global_damage_macro_insert" value="[[ @{global_damage_macro_insert} ]] [Global]" />
                                    <textarea class="macro-text-inline both" name="attr_global_damage_macro_insert" title="@{global_damage_macro_insert}">0</textarea>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cheat show-readonly"></div>
                <input type="checkbox" name="attr_use_dual_wield" value="1" class="dual-wield-show noshow" />
                <input class="showarrow h2arrow dual-wield-sect" type="checkbox" name="attr_two-weapon-show" data-i18n-aria-label="two-weapon" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect dual-wield-sect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="dual-wield-beta">Dual Wield (BETA)</label></h2>
                <div class="h2-section dual-wield-sect wide-readonly">
                    <span data-i18n="dual-wield-instructions">To setup dual wield, copy and paste the <strong>Row ID For Macros</strong> of the mainhand weapon and offhand weapon (found in <strong>IDs</strong> section of each attack row) into the fields below. Set mainhand and offhand penalties and the additional number of attacks, then press <strong>Create</strong> at left.<br />If successful a new attack row appears and the two ID fields below will clear. If unsuccessful or attack IDs cannot be found they will not be cleared. <br />When penalties change, update here and press <strong>Update</strong> to update <strong>ALL</strong> existing dual wield entries.</span>
                    <div class="cheat"></div>
                    <br>
                    <div class="small-label2">
                        <input type="checkbox" name="attr_create_twoweapon_attack" value="1" class="cssbutton createattackbutton" title="@{create_twoweapon_attack}" data-i18n-aria-label="create-attack-entry"><span></span>
                        <span data-i18n-title="create-dual-wield" data-i18n-aria-label="create-dual-wield" data-i18n="create-attack">Create Attack</span>
                    </div>
                    <div class="small-label2">
                        <input type="checkbox" name="attr_update_twoweapon_attack" value="1" class="cssbutton refreshbutton" data-i18n-aria-label="recalculate-cmd" title="@{update_twoweapon_attack}" /><span></span>
                        <span data-i18n-title="update-weapons" data-i18n="update">Update</span>
                    </div>
                    <div class="divider-db-lg"></div>
                    <div class="small-label2"><input type="text" name="attr_mainhand_id" value="" title="@{mainhand_id}" class="entry-long" /><span title="row-id-desc" data-i18n="mainhand-id"></span></div>
                    <div class="small-label2"><input type="number" name="attr_mainhand_penalty" value="-6" title="@{mainhand_penalty}" /><span title="mainhand-penalty" data-i18n="mainhand-penalty-abbrv"></span></div>
                    <div class="small-label2"><input type="text" name="attr_offhand_id" value="" title="@{offhand_id}" class="entry-long" /><span title="row-id-desc" data-i18n="offhand-id"></span></div>
                    <div class="small-label2"><input type="number" name="attr_offhand_penalty" title="@{offhand_penalty}" value="-10" /><span title="offhand-penalty" data-i18n="offhand-penalty-abbrv"></span></div>
                    <div class="small-label2"><input type="number" name="attr_offhand_improved" title="@{offhand_improved}" value="1" /><span data-i18n-title="number-extra-attacks-title" data-i18n="number-extra-attacks"></span></div>
                    <div class="small-label2">
                        <select name="attr_offhand_str_mult" title="@{offhand_str_mult}">
                            <option value=".5" selected>.5</option>
                            <option value="1">1</option>
                        </select>
                        <span data-i18n-title="offhand-damage-multiplier" data-i18n="offhand-damage-multiplier-abbrv">OH dmg mult</span>
                    </div>
                </div>
                <div class="cheat show-readonly"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_attacks-show" data-i18n-aria-label="attacks" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="attacks">Attacks</label></h2>
                <div class="h2-section repeating-sect attacks wide-readonly">
                    <span class="nontable-name show-readonly" data-i18n="attacks">Attacks</span>
                    <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" data-i18n-aria-label="minimize-all-cmd" title="Minimize all rows." name="attr_weapon-min-show" value="1" /><span></span>
                    <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" data-i18n-aria-label="expand-cmd" title="Collapse or expand all rows." name="attr_weapon-expand-show" value="1" /><span></span>
                    <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" data-i18n-aria-label="column-cmd" title="Split into two columns" name="attr_weapon-column-show" value="1" /><span></span>
                    <input class="deletebutton cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_weapon_btn" value="1" data-i18n-title="delete-attack" data-i18n-aria-label="delete-attack-must-confirm-next-checkbox" /><span></span><label class="deletesect allrows-note"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_weapon" data-i18n-aria-label="confirm-delete-attack" data-i18n-title="confirm-delete-attack" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                    <input type="checkbox" name="attr_adv_macro_show" class="repeating-sect-show" value="1" role="presentation" />
                    <input name="attr_modify_dmg_by_size" type="checkbox" value="1" class="use-size-show" />
                    <div class="repeating-fields">
                        <input type="checkbox" class="use-metrics noshow" name="attr_use_metrics" value="1" />
                        <fieldset class="repeating_weapon">
                            <span class="error"><span class="pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
                            <div class="nontable-repeating">
                                <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" data-i18n-aria-label="minimize-cmd" title="Minimize Row" name="attr_row-show" value="1" checked /><span></span>
                                <span class="repeating-rollbutton"><button type="roll" name="attr_attack-roll" title="%{selected|repeating_weapon_$X_attack-roll}" value="@{PC-whisper} @{macro-text}"></button></span>
                                <span style="display:none;" class="repeating-rollbutton"><button type="roll" name="attr_attack-npc-roll" title="%{selected|repeating_weapon_$X_attack-npc-roll}" value="@{NPC-whisper} @{macro-text}"></button></span>
                                <input type="checkbox" value="1" name="attr_dualwield" class="dualwield-hide noshow" role="presentation" />
                                <label class="small-label2 narrow-numbers sect nondual-sect"><input type="number" name="attr_enhance" title="@{repeating_weapon_$X_enhance}" value="0" /><span data-i18n="enhancement-abbrv">Enh</span></label>
                                <label class="small-label2 sect nondual-sect" style="width:2.5em;"><input type="checkbox" name="attr_masterwork" title="@{repeating_weapon_$X_masterwork}" value="1" style="margin-bottom:0.55em;" /><span data-i18n="masterwork-abbrv">Mwk</span></label>
                                <label class="small-label2 entry-20p-shrink"><input type="text" name="attr_name" value="" title="@{repeating_weapon_$X_name}" data-i18n-placeholder="name" /><span data-i18n="name">Name</span></label>
                                <div class="linked-fields sect nondual-sect">
                                    <input type="checkbox" name="attr_attack-mod_error" class="error-mshow" value="1" />
                                    <label class="small-label2 entry-short highlight"><input type="text" class="macro-text-inline" name="attr_attack" title="@{repeating_weapon_$X_attack}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" class="macro-text-inline" /><span class="super note-a" data-i18n="attack-modifiers-abbrv">Attack Mods</span></label>
                                    <label class="small-label2 narrow-numbers highlight space-right-collapse"><input type="number" name="attr_attack-mod" title="@{repeating_weapon_$X_attack-mod}" value="0" class="calc" readonly /><span data-i18n="value-abbrv">val</span></label>
                                </div>
                                <span class="divider-db sect nondual-sect">+</span>
                                <label class="small-label2 entry-short">
                                    <select class="select-small" title="@{repeating_weapon_$X_attack-type}" name="attr_attack-type">
                                        <option value="0" data-i18n="none-default" selected>&#8226;None</option>
                                        <option value="attk-melee" data-i18n="melee">Melee</option>
                                        <option value="attk-ranged" data-i18n="ranged">Ranged</option>
                                        <option value="CMB" data-i18n="combat-maneuver-bonus-abbrv">CMB</option>
                                        <option value="attk-melee2" data-i18n="melee2">Alt Melee</option>
                                        <option value="attk-ranged2" data-i18n="ranged2">Alt Ranged</option>
                                        <option value="CMB2" data-i18n="combat-maneuver-bonus-abbrv2">Alt CMB</option>
                                        <option value="dual" data-i18n="dual-wield">Dual Wield</option>
                                    </select>
                                    <span data-i18n="attack-type">Attack Type</span>
                                </label>
                                <span class="divider-db sect nondual-sect">=</span>
                                <label class="small-label2 narrow-numbers space-right-collapse"><input type="number" name="attr_total-attack" title="@{repeating_weapon_$X_total-attack}" value="0" class="calc bigger-total" readonly /><span data-i18n="attack">Attack</span></label>
                                <label class="small-label2 entry-short sect nondual-sect">
                                    <select class="select-small" name="attr_vs">
                                        <option value="ac" data-i18n="armor-class-abbrv-default" selected>&#8226;AC</option>
                                        <option value="touch" data-i18n="touch">Touch</option>
                                        <option value="ff" data-i18n="flat-footed-armor-class-abbrv">FF</option>
                                        <option value="fft" data-i18n="flat-footed-touch-abbrv">FF Touch</option>
                                        <option value="cmd" data-i18n="combat-maneuver-defense-abbrv">CMD</option>
                                        <option value="cmb" data-i18n="opposed-combat-maneuver-bonus-abbrv">Opposed CMB</option>
                                        <option value="other" data-i18n="other">Other</option>
                                    </select>
                                    <span data-i18n="versus-abbrv">Vs.</span>
                                </label>
                                <div class="linked-fields nondual-sect">
                                    <label class="small-label2 narrow-numbers"><input type="number" name="attr_crit-target" title="@{repeating_weapon_$X_crit-target}" value="20" min="0" max="20" /><span data-i18n="critical-abbrv">Crit</span></label>
                                    <span class="divider-db-lg" style="width:1em; padding-bottom:1rem;">/x</span>
                                    <label class="small-label2 narrow-numbers"><input type="number" name="attr_crit-multiplier" title="@{repeating_weapon_$X_crit-multiplier}" value="2" min="0" /><span data-i18n="multiplier-abbrv">Mult</span></label>
                                </div>
                                <div class="linked-fields nondual-sect">
                                    <input type="checkbox" name="attr_crit_confirm_temp_error" class="error-mshow" value="1" />
                                    <label class="small-label2 entry-short highlight sect">
                                        <input type="text" class="macro-text-inline float-right" name="attr_crit_confirm" title="@{repeating_weapon_$X_crit_confirm}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" />
                                        <input type="text" name="attr_crit_confirm_temp" value="0" class="hidden" />
                                        <span class="super note-a" data-i18n-title="custom-crit-confirmation-bonus" data-i18n-aria-label="custom-crit-confirmation-bonus" title="Custom critical confirmation bonus for this attack" data-i18n="confirm-critical-bonus-abbrv">+Conf</span>
                                    </label>
                                    <label class="small-label2 narrow-numbers highlight space-right-collapse">
                                        <input type="number" name="attr_crit_conf_mod" title="@{repeating_weapon_$X_crit_conf_mod}" value="0" class="calc" readonly />
                                        <span data-i18n="value-abbrv">val</span>
                                    </label>
                                </div>
                                <input name="attr_size_affects" type="checkbox" value="1" class="sect3-show noshow" />
                                <input name="attr_not_default_size" type="checkbox" value="1" class="sect3-show size-affects-show noshow" />
                                <div class="linked-fields dont-use-size nondual-sect">
                                    <label class="small-label2 narrow-numbers"><input type="number" name="attr_damage-dice-num" title="@{repeating_weapon_$X_damage-dice-num}" value="0" /></label>
                                    <span class="divider-db-lg">d</span>
                                    <label class="small-label2 narrow-numbers"><input type="number" name="attr_damage-die" title="@{repeating_weapon_$X_damage-die}" value="0" /></label>
                                    <span class="divider-subtext">dmg dice</span>
                                </div>
                                <div class="linked-fields sect3 use-size nondual-sect">
                                    <label class="small-label2 narrow-numbers"><input type="number" name="attr_damage-dice-num" title="@{repeating_weapon_$X_damage-dice-num}" value="0" class="calc" readonly /></label>
                                    <span class="divider-db-lg">d</span>
                                    <label class="small-label2 narrow-numbers"><input type="number" name="attr_damage-die" title="@{repeating_weapon_$X_damage-die}" value="0" class="calc" readonly /></label>
                                    <span class="divider-subtext">adj damage dice</span>
                                </div>
                                <div class="linked-fields use-size nondual-sect">
                                    <label class="small-label2 narrow-numbers"><input type="number" name="attr_default_damage-dice-num" title="@{repeating_weapon_$X_default_damage-dice-num}" value="0" min="0" /></label>
                                    <span class="divider-db-lg">d</span>
                                    <label class="small-label2 narrow-numbers"><input type="number" name="attr_default_damage-die" title="@{repeating_weapon_$X_default_damage-die}" value="0" min="0" /></label>
                                    <span class="divider-subtext">dmg dice</span>
                                </div>
                                <span class="divider-db sect nondual-sect">+</span>
                                <div class="linked-fields sect nondual-sect">
                                    <input type="checkbox" name="attr_damage-mod_error" class="error-mshow" value="1" />
                                    <label class="small-label2 entry-short highlight"><input type="text" class="macro-text-inline" name="attr_damage" title="@{repeating_weapon_$X_damage}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="damage-modifier-abbrv">Dmg Mods</span></label>
                                    <label class="small-label2 narrow-numbers highlight space-right-collapse"><input type="number" name="attr_damage-mod" title="@{repeating_weapon_$X_damage-mod}" value="0" class="calc" readonly /><span data-i18n="value-abbrv">val</span></label>
                                </div>
                                <span class="divider-db nondual-sect">+</span>
                                <label class="small-label2 narrow-numbers sect nondual-sect"><input type="number" step=".5" name="attr_damage_ability_mult" title="@{repeating_weapon_$X_damage_ability_mult}" value="1"><span data-i18n="multiplier-abbrv" data-i18n-title="damage-multiplier-title" data-i18n-aria-label="damage-multiplier-title" title="Damage ability multiplier: .5, 1.5, 2, etc. Penalties are not multiplied.">Mult</span></label>
                                <span class="divider-db-lg sect nondual-sect">*</span>
                                <label class="small-label2 entry-short sect nondual-sect">
                                    <select class="select-small" title="@{repeating_weapon_$X_damage-ability}" name="attr_damage-ability">
                                        <option value="0" data-i18n="none-default" selected>&#8226;None</option>
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                    <span style="margin-left:-.75em;" data-i18n="damage-ability">Dmg Ability</span>
                                </label>
                                <input type="hidden" name="attr_damage-ability-mod" value="0" />
                                <input type="checkbox" class="noshow sect2-show sect-show-inverse" name="attr_isranged" value="1" role="presentation" title="@{repeating_weapon_$X_isranged}" />
                                <span class="divider-db sect sect2 nondual-sect">(</span>
                                <label class="small-label2 sect sect2 nondual-sect" style="width:1.75em;">
                                    <input style="min-width:0.5em;" type="text" name="attr_damage-ability-max" title="@{repeating_weapon_$X_damage-ability-max}" value="" data-i18n-placeholder="not-applicable" />
                                    <span data-i18n-title="maximum-damage-ability-title" data-i18n-aria-label="maximum-damage-ability-title" title="Maximum damage ability applied (for strength score, etc.)" data-i18n="maximum-abbrv">Max</span>
                                </label>
                                <span class="divider-db sect sect2 nondual-sect">)</span>
                                <span class="divider-db sect nondual-sect">=</span>
                                <label class="small-label2 narrow-numbers space-right-collapse nondual-sect"><input type="number" name="attr_total-damage" title="@{repeating_weapon_$X_total-damage}" value="0" class="calc bigger-total" readonly /><span data-i18n="damage-abbrv">Dmg</span></label>
                                <label class="small-label2 entry-8p-shrink sect nondual-sect"><input type="text" name="attr_type" value="p/b/s...?" title="@{repeating_weapon_$X_type} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" /><span data-i18n="type">Type</span></label>
                                <label class="small-label2 narrow-numbers nondual-sect">
                                    <input class="number" type="text" name="attr_range" title="@{repeating_weapon_$X_range}" value="0" style="padding: 0; margin: 4px 0 0 0;">
                                    <input type="checkbox" class="noshow sect2-show sect-show-inverse" name="attr_isranged" value="1" role="presentation" title="@{repeating_weapon_$X_isranged}" />
                                    <span class="sect2 distance-used" data-i18n="range">Range</span>
                                    <span class="sect-inverse distance-used" data-i18n="reach-small">Reach</span>
                                </label>
                                <label class="small-label2 sect2 narrow-numbers ammo nondual-sect">
                                    <input type="number" name="attr_ammo" title="@{repeating_weapon_$X_ammo}" value="0" />
                                    <span data-i18n="ammo">Ammo</span>
                                </label>
                                <div class="cheat"></div>
                                <input type="hidden" name="attr_attack-type_macro_insert" value="@{toggle_global_melee_macro_insert}" />
                                <input type="hidden" name="attr_damage-type_macro_insert" value="@{toggle_global_melee_damage_macro_insert}" />
                                <input type="hidden" name="attr_macro_options" value="{{buff_note=@{buff_attack_notes}}} {{condition_note=@{condition_attack_notes}}}" />
                                <input type="hidden" name="attr_iterative_attacks" value="@{toggle_iterative_attack2} @{toggle_iterative_attack3} @{toggle_iterative_attack4} @{toggle_iterative_attack5} @{toggle_iterative_attack6} @{toggle_iterative_attack7} @{toggle_iterative_attack8} @{toggle_iterative_attack9}" />
                                <div class="sect expand">
                                    <input type="checkbox" class="showarrow misc-show" name="attr_misc-show" value="1" data-i18n-title="miscellaneous" data-i18n-aria-label="miscellaneous" />
                                    <label class="showsect misc-showlabel" data-i18n="miscellaneous-abbrv">Misc</label>
                                    <input type="checkbox" class="showarrow extra-damage-show" name="attr_add-damage-show" value="1" data-i18n-title="additional-damage-title" aria-label="Show Additional Damage" data-i18n-aria-label="additional-damage" />
                                    <label class="showsect extra-damage-showlabel" data-i18n="precision-abbrv">Extra Dmg</label>
                                    <input type="checkbox" class="showarrow iterations-show" data-i18n-title="iterative-attacks-title" data-i18n-aria-label="iterative-attacks-title" aria-label="Show Iterative Attacks" name="attr_iterative-attacks-show" value="1" />
                                    <label class="showsect iterations-showlabel" data-i18n="iterative-attacks-abbrv">Iterative Atks</label>
                                    <input type="checkbox" class="showarrow advmacro-text-show nondual-sect" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Macro Text" name="attr_advmacro-text-show" value="1" />
                                    <label class="showsect advmacro-text-showlabel nondual-sect" data-i18n="macro-text-advanced">Adv Rolltime Macros</label>
                                    <input type="checkbox" class="showarrow macro-text-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1" />
                                    <label class="showsect macro-text-showlabel" data-i18n="macro-text">Macro Text</label>
                                    <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1" />
                                    <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                    <hr class="subnav-hr">
                                    <div class="cheat"></div>
                                    <div class="misc">
                                        <label class="small-label2 autoexpand">
                                            <input type="text" name="attr_group" value="" title="@{repeating_weapon_$X_group}" data-i18n-placeholder="group-name" />
                                            <span data-i18n="group">Group name</span><span name="attr_group" class="autoexpand"></span>
                                        </label>
                                        <label class="small-label2 nondual-sect">
                                            <select title="@{repeating_weapon_$X_proficiency}" name="attr_proficiency">
                                                <option value="0" data-i18n="yes-default" selected>&#8226;Yes</option>
                                                <option value="-4" data-i18n="no">No</option>
                                            </select>
                                            <span data-i18n-title="proficiency-title" data-i18n-aria-label="proficiency-title" data-i18n="proficiency">Prof</span>
                                        </label>
                                        <label class="small-label2 use-size-only nondual-sect" style="width:4.5em;"><input type="checkbox" name="attr_size_affects" title="@{repeating_weapon_$X_size_affects}" value="1" checked /><span data-i18n-title="damage-dice-affected-by-size" data-i18n="use-size-abbrv">Use sze</span></label>
                                        <input type="checkbox" name="attr_size_affects" value="1" class="nextitem-show noshow" />
                                        <label class="small-label2 nextitem use-size-only nondual-sect">
                                            <select title="@{repeating_weapon_$X_default_size}" name="attr_default_size">
                                                <option value="-8" data-i18n="size-colossal">Colossal</option>
                                                <option value="-4" data-i18n="size-gargantuan">Gargantuan</option>
                                                <option value="-2" data-i18n="size-huge">Huge</option>
                                                <option value="-1" data-i18n="size-large">Large</option>
                                                <option value="0" data-i18n="medium-abbrv-default" selected>&#8226;Medium</option>
                                                <option value="1" data-i18n="size-small">Small</option>
                                                <option value="2" data-i18n="size-tiny">Tiny</option>
                                                <option value="4" data-i18n="size-diminutive">Diminutive</option>
                                                <option value="8" data-i18n="size-fine">Fine</option>
                                            </select>
                                            <span data-i18n="normal-size">Normal Size</span>
                                        </label>
                                        <label class="small-label" style="width:75%;">
                                            <textarea class="inline-textarea" name="attr_notes" title="@{repeating_weapon_$X_notes}" placeholder="Weapon Notes"></textarea>
                                            <span data-i18n="notes">Notes</span>
                                        </label>
                                    </div>
                                    <div class="extra-damage center">
                                        <label class="small-label2" style="width:23.85%;">
                                            <span class="nondual-sect" data-i18n-title="precision-damage-type" data-i18n-aria-label="precision-damage-type" title="Extra Damage type" data-i18n="type">Type</span>
                                            <span class="dual-sect" data-i18n-title="extra-damage-condition" data-i18n-aria-label="extra-damage-condition" title="Extra Damage type" data-i18n="rake-rend-etc">Condition</span>
                                            <textarea class="macro-text-inline both" name="attr_precision_dmg_type" title="@{repeating_weapon_$X_precision_dmg_type}" data-i18n-placeholder="damage-type-or-description" placeholder="Dmg type / Description"></textarea>
                                        </label>
                                        <label class="small-label2" style="width:23.85%;">
                                            <span class="super note-b" data-i18n-title="precision-damage-title" data-i18n-aria-label="precision-damage-title" title="Extra or Precision Damage (not added to critical damage)" data-i18n="extra-damage">Extra Non-Crit Dmg</span>
                                            <textarea class="macro-text-inline both" type="text" name="attr_precision_dmg_macro" title="@{repeating_weapon_$X_precision_dmg_macro}" data-i18n-placeholder="full-macro-place"></textarea>
                                        </label>
                                        <label class="small-label2 nondual-sect" style="width:23.85%;">
                                            <span data-i18n-title="precision-damage-type" data-i18n-aria-label="precision-damage-type" title="Extra Damage type" data-i18n="type">Type</span>
                                            <textarea class="macro-text-inline both" name="attr_critical_dmg_type" title="@{repeating_weapon_$X_critical_dmg_type}" data-i18n-placeholder="damage-type-or-description" placeholder="Dmg type / Description"></textarea>
                                        </label>
                                        <label class="small-label2 nondual-sect" style="width:23.85%;">
                                            <span class="super note-b" data-i18n-title="extra-critical-damage-title" data-i18n-aria-label="extra-critical-damage-title" title="Extra Critical Damage" data-i18n="extra-critical-damage">Extra Crit Dmg</span>
                                            <textarea class="macro-text-inline both" type="text" name="attr_critical_dmg_macro" title="@{repeating_weapon_$X_critical_dmg_macro}" data-i18n-placeholder="full-macro-place"></textarea>
                                        </label>
                                    </div>
                                    <div class="table iterative_attack_section">
                                        <span class="secondary-table-name" data-i18n="iterative-attacks">Iterative Attacks</span>
                                        <div class="table-row">
                                            <span class="table-header" style="width:14em;" data-i18n="include-attacks-?">Include Attack?</span>
                                            <span class="table-header" style="width:20%;" data-i18n="custom-name">Custom Name</span>
                                            <span class="table-header" style="width:7em;" data-i18n="attack-modifier-abbrv">Attack Mod</span>
                                            <span class="table-header" style="width:7em;" data-i18n="type">Type</span>
                                            <span class="table-header super note-d" data-i18n="macro-text">Macro</span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell">
                                                <label>
                                                    <b data-i18n="primary-attack">Primary attack</b>
                                                </label>
                                            </span>
                                            <span class="table-cell">
                                                <input type="text" name="attr_iterative_attack1_name" title="@{repeating_weapon_$X_iterative_attack1_name}" value="" data-i18n-placeholder="attack-1">
                                            </span>
                                            <span class="table-cell">
                                                <input type="number" name="attr_total-attack" title="@{repeating_weapon_$X_total-attack}" value="0" class="calc" readonly />
                                            </span>
                                            <span class="table-cell">
                                                <input type="text" name="attr_type" value="p/b/s...?" title="@{repeating_weapon_$X_type} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" />
                                            </span>
                                            <span class="table-cell macro-text-tohide"> </span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell">
                                                <label>
                                                    <input type="checkbox" class="boldlabel-check" name="attr_toggle_iterative_attack2" title="@{repeating_weapon_$X_toggle_iterative_attack2}" value="@{var_iterative_attack2_macro}" /><b title="Include a second attack to your weapon?" data-i18n="include-second-attack">Include a 2nd attack?</b>
                                                </label>
                                            </span>
                                            <span class="table-cell">
                                                <input type="text" name="attr_iterative_attack2_name" title="@{repeating_weapon_$X_iterative_attack2_name}" value="" data-i18n-placeholder="attack-2">
                                            </span>
                                            <span class="table-cell">
                                                <input type="number" name="attr_iterative_attack2_value" title="@{repeating_weapon_$X_iterative_attack2_value}" value="-5" max="0" />
                                            </span>
                                            <span class="table-cell">
                                                <input type="text" name="attr_type2" value="" title="@{repeating_weapon_$X_type2} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" />
                                            </span>
                                            <span class="table-cell macro-text-tohide">
                                                <textarea class="macro-text-inline" data-i18n-placeholder="full-macro-place" name="attr_var_iterative_attack2_macro" title="@{repeating_weapon_$X_var_iterative_attack2_macro}">{{attack2=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{attack_macro} + @{iterative_attack2_value} ]] [iterative] ]]}} {{damage2=[[ @{damage-dice-num}d@{damage-die} + @{damage_macro} ]]}} {{type2=@{type2}}} {{crit_confirm2=[[ 1d20 + [[ @{attack_macro} + @{iterative_attack2_value} ]] [iterative] + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage2=[[ [[ @{damage-dice-num} * [[ @{crit-multiplier} - 1 ]] ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1 ]]) ]]}} {{precision_dmg21=@{precision_dmg_macro}}} {{precision_dmg22=@{global_precision_dmg_macro}}} {{critical_dmg21=@{critical_dmg_macro}}} {{critical_dmg22=@{global_critical_dmg_macro}}} {{attack2name=@{iterative_attack2_name}}}</textarea>
                                            </span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell">
                                                <label>
                                                    <input type="checkbox" class="boldlabel-check" name="attr_toggle_iterative_attack3" title="@{repeating_weapon_$X_toggle_iterative_attack3}" value="@{var_iterative_attack3_macro}" /><b title="Include a third attack to your weapon?" data-i18n="include-third-attack">Include a 3rd attack?</b>
                                                </label>
                                            </span>
                                            <span class="table-cell">
                                                <input type="text" name="attr_iterative_attack3_name" title="@{repeating_weapon_$X_iterative_attack3_name}" value="" data-i18n-placeholder="attack-3">
                                            </span>
                                            <span class="table-cell">
                                                <input type="number" name="attr_iterative_attack3_value" title="@{repeating_weapon_$X_iterative_attack3_value}" value="-10" max="0" />
                                            </span>
                                            <span class="table-cell">
                                                <input type="text" name="attr_type3" value="" title="@{repeating_weapon_$X_type3} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" />
                                            </span>
                                            <span class="table-cell macro-text-tohide">
                                                <textarea class="macro-text-inline" data-i18n-placeholder="full-macro-place" name="attr_var_iterative_attack3_macro" title="@{repeating_weapon_$X_var_iterative_attack3_macro}">{{attack3=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{attack_macro} + @{iterative_attack3_value} ]] [iterative] ]]}} {{damage3=[[ @{damage-dice-num}d@{damage-die} + @{damage_macro} ]]}} {{type3=@{type3}}} {{crit_confirm3=[[ 1d20 + [[ @{attack_macro} + @{iterative_attack3_value} ]] [iterative] + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage3=[[ [[ @{damage-dice-num} * [[ @{crit-multiplier} - 1 ]] ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1]]) ]]}} {{precision_dmg31=@{precision_dmg_macro}}} {{precision_dmg32=@{global_precision_dmg_macro}}} {{critical_dmg31=@{critical_dmg_macro}}} {{critical_dmg32=@{global_critical_dmg_macro}}} {{attack3name=@{iterative_attack3_name}}}</textarea>
                                            </span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell">
                                                <label>
                                                    <input type="checkbox" class="boldlabel-check" name="attr_toggle_iterative_attack4" title="@{repeating_weapon_$X_toggle_iterative_attack4}" value="@{var_iterative_attack4_macro}" /><b title="Include a fourth attack to your weapon?" data-i18n="include-fourth-attack">Include a 4th attack?</b>
                                                </label>
                                            </span>
                                            <span class="table-cell">
                                                <input type="text" name="attr_iterative_attack4_name" title="@{repeating_weapon_$X_iterative_attack4_name}" value="" data-i18n-placeholder="attack-4">
                                            </span>
                                            <span class="table-cell">
                                                <input type="number" name="attr_iterative_attack4_value" title="@{repeating_weapon_$X_iterative_attack4_value}" value="-15" max="0" />
                                            </span>
                                            <span class="table-cell">
                                                <input type="text" name="attr_type4" value="" title="@{repeating_weapon_$X_type4} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" />
                                            </span>
                                            <span class="table-cell macro-text-tohide">
                                                <textarea class="macro-text-inline" data-i18n-placeholder="full-macro-place" name="attr_var_iterative_attack4_macro" title="@{repeating_weapon_$X_var_iterative_attack4_macro}">{{attack4=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{attack_macro} + @{iterative_attack4_value} ]] [iterative] ]]}} {{damage4=[[ @{damage-dice-num}d@{damage-die} + @{damage_macro} ]]}} {{type4=@{type4}}} {{crit_confirm4=[[ 1d20 + [[ @{attack_macro} + @{iterative_attack4_value} ]] [iterative] + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage4=[[ [[ @{damage-dice-num} * [[ @{crit-multiplier} - 1 ]] ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1 ]]) ]]}} {{precision_dmg41=@{precision_dmg_macro}}} {{precision_dmg42=@{global_precision_dmg_macro}}} {{critical_dmg41=@{critical_dmg_macro}}} {{critical_dmg42=@{global_critical_dmg_macro}}} {{attack4name=@{iterative_attack4_name}}}</textarea>
                                            </span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell">
                                                <label>
                                                    <input type="checkbox" class="boldlabel-check" name="attr_toggle_iterative_attack5" title="@{repeating_weapon_$X_toggle_iterative_attack5}" value="@{var_iterative_attack5_macro}" /><b title="Include a fifth attack to your weapon?" data-i18n="include-fifth-attack">Include a 5th attack?</b>
                                                </label>
                                            </span>
                                            <span class="table-cell">
                                                <input type="text" name="attr_iterative_attack5_name" title="@{repeating_weapon_$X_iterative_attack5_name}" value="" data-i18n-placeholder="attack-5">
                                            </span>
                                            <span class="table-cell">
                                                <input type="number" name="attr_iterative_attack5_value" title="@{repeating_weapon_$X_iterative_attack5_value}" value="-20" max="0" />
                                            </span>
                                            <span class="table-cell">
                                                <input type="text" name="attr_type5" value="" title="@{repeating_weapon_$X_type5} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" />
                                            </span>
                                            <span class="table-cell macro-text-tohide">
                                                <textarea class="macro-text-inline" data-i18n-placeholder="full-macro-place" name="attr_var_iterative_attack5_macro" title="@{repeating_weapon_$X_var_iterative_attack5_macro}">{{attack5=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{attack_macro} + @{iterative_attack5_value} ]] [iterative] ]]}} {{damage5=[[ @{damage-dice-num}d@{damage-die} + @{damage_macro} ]]}} {{type5=@{type5}}} {{crit_confirm5=[[ 1d20 + [[ @{attack_macro} + @{iterative_attack5_value} ]] [iterative] + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage5=[[ [[ @{damage-dice-num} * [[ @{crit-multiplier} - 1 ]] ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1 ]]) ]]}} {{precision_dmg51=@{precision_dmg_macro}}} {{precision_dmg52=@{global_precision_dmg_macro}}} {{critical_dmg51=@{critical_dmg_macro}}} {{critical_dmg52=@{global_critical_dmg_macro}}} {{attack5name=@{iterative_attack5_name}}}</textarea>
                                            </span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell">
                                                <label>
                                                    <input type="checkbox" class="boldlabel-check" name="attr_toggle_iterative_attack6" title="@{repeating_weapon_$X_toggle_iterative_attack6}" value="@{var_iterative_attack6_macro}" /><b title="Include a sixth attack to your weapon?" data-i18n="include-sixth-attack">Include a 6th attack?</b>
                                                </label>
                                            </span>
                                            <span class="table-cell">
                                                <input type="text" name="attr_iterative_attack6_name" title="@{repeating_weapon_$X_iterative_attack6_name}" value="" data-i18n-placeholder="attack-6">
                                            </span>
                                            <span class="table-cell">
                                                <input type="number" name="attr_iterative_attack6_value" title="@{repeating_weapon_$X_iterative_attack6_value}" value="-25" max="0" />
                                            </span>
                                            <span class="table-cell">
                                                <input type="text" name="attr_type6" value="" title="@{repeating_weapon_$X_type6} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" />
                                            </span>
                                            <span class="table-cell macro-text-tohide">
                                                <textarea class="macro-text-inline" data-i18n-placeholder="full-macro-place" name="attr_var_iterative_attack6_macro" title="@{repeating_weapon_$X_var_iterative_attack6_macro}">{{attack6=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{attack_macro} + @{iterative_attack6_value} ]] [iterative] ]]}} {{damage6=[[ @{damage-dice-num}d@{damage-die} + @{damage_macro} ]]}} {{type6=@{type6}}} {{crit_confirm6=[[ 1d20 + [[ @{attack_macro} + @{iterative_attack6_value} ]] [iterative] + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage6=[[ [[ @{damage-dice-num} * [[ @{crit-multiplier} - 1 ]] ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1 ]]) ]]}} {{precision_dmg61=@{precision_dmg_macro}}} {{precision_dmg62=@{global_precision_dmg_macro}}} {{critical_dmg61=@{critical_dmg_macro}}} {{critical_dmg62=@{global_critical_dmg_macro}}} {{attack6name=@{iterative_attack6_name}}}</textarea>
                                            </span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell">
                                                <label>
                                                    <input type="checkbox" class="boldlabel-check" name="attr_toggle_iterative_attack7" title="@{repeating_weapon_$X_toggle_iterative_attack7}" value="@{var_iterative_attack7_macro}" /><b title="Include a seventh attack to your weapon?" data-i18n="include-seventh-attack">Include a 7th attack?</b>
                                                </label>
                                            </span>
                                            <span class="table-cell">
                                                <input type="text" name="attr_iterative_attack7_name" title="@{repeating_weapon_$X_iterative_attack7_name}" value="" data-i18n-placeholder="attack-7">
                                            </span>
                                            <span class="table-cell">
                                                <input type="number" name="attr_iterative_attack7_value" title="@{repeating_weapon_$X_iterative_attack7_value}" value="-30" max="0" />
                                            </span>
                                            <span class="table-cell">
                                                <input type="text" name="attr_type7" value="" title="@{repeating_weapon_$X_type7} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" />
                                            </span>
                                            <span class="table-cell macro-text-tohide">
                                                <textarea class="macro-text-inline" data-i18n-placeholder="full-macro-place" name="attr_var_iterative_attack7_macro" title="@{repeating_weapon_$X_var_iterative_attack7_macro}">{{attack7=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{attack_macro} + @{iterative_attack7_value} ]] [iterative] ]]}} {{damage7=[[ @{damage-dice-num}d@{damage-die} + @{damage_macro} ]]}} {{type7=@{type7}}} {{crit_confirm7=[[ 1d20 + [[ @{attack_macro} + @{iterative_attack7_value} ]] [iterative] + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage7=[[ [[ @{damage-dice-num} * [[ @{crit-multiplier} - 1 ]] ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1 ]]) ]]}} {{precision_dmg71=@{precision_dmg_macro}}} {{precision_dmg72=@{global_precision_dmg_macro}}} {{critical_dmg71=@{critical_dmg_macro}}} {{critical_dmg72=@{global_critical_dmg_macro}}} {{attack7name=@{iterative_attack7_name}}}</textarea>
                                            </span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell">
                                                <label>
                                                    <input type="checkbox" class="boldlabel-check" name="attr_toggle_iterative_attack8" title="@{repeating_weapon_$X_toggle_iterative_attack8}" value="@{var_iterative_attack8_macro}" /><b title="Include an eighth attack to your weapon?" data-i18n="include-eighth-attack">Include an 8th attack?</b>
                                                </label>
                                            </span>
                                            <span class="table-cell">
                                                <input type="text" name="attr_iterative_attack8_name" title="@{repeating_weapon_$X_iterative_attack8_name}" value="" data-i18n-placeholder="attack-8">
                                            </span>
                                            <span class="table-cell">
                                                <input type="number" name="attr_iterative_attack8_value" title="@{repeating_weapon_$X_iterative_attack8_value}" value="-35" max="0" />
                                            </span>
                                            <span class="table-cell">
                                                <input type="text" name="attr_type8" value="" title="@{repeating_weapon_$X_type8} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" />
                                            </span>
                                            <span class="table-cell macro-text-tohide">
                                                <textarea class="macro-text-inline" data-i18n-placeholder="full-macro-place" name="attr_var_iterative_attack8_macro" title="@{repeating_weapon_$X_var_iterative_attack8_macro}">{{attack8=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{attack_macro} + @{iterative_attack8_value} ]] [iterative] ]]}} {{damage8=[[ @{damage-dice-num}d@{damage-die} + @{damage_macro} ]]}} {{type8=@{type8}}} {{crit_confirm8=[[ 1d20 + [[ @{attack_macro} + @{iterative_attack8_value} ]] [iterative] + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage8=[[ [[ @{damage-dice-num} * [[ @{crit-multiplier} - 1 ]] ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1 ]]) ]]}} {{precision_dmg81=@{precision_dmg_macro}}} {{precision_dmg82=@{global_precision_dmg_macro}}} {{critical_dmg81=@{critical_dmg_macro}}} {{critical_dmg82=@{global_critical_dmg_macro}}} {{attack8name=@{iterative_attack8_name}}}</textarea>
                                            </span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell">
                                                <label>
                                                    <input type="checkbox" class="boldlabel-check" name="attr_toggle_iterative_attack9" title="@{repeating_weapon_$X_toggle_iterative_attack9}" value="@{var_iterative_attack9_macro}" /><b title="Include a ninth attack to your weapon?" data-i18n="include-ninth-attack">Include a 9th attack?</b>
                                                </label>
                                            </span>
                                            <span class="table-cell">
                                                <input type="text" name="attr_iterative_attack9_name" title="@{repeating_weapon_$X_iterative_attack9_name}" value="" data-i18n-placeholder="attack-9">
                                            </span>
                                            <span class="table-cell">
                                                <input type="number" name="attr_iterative_attack9_value" title="@{repeating_weapon_$X_iterative_attack9_value}" value="-40" max="0" />
                                            </span>
                                            <span class="table-cell">
                                                <input type="text" name="attr_type9" value="" title="@{repeating_weapon_$X_type9} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" />
                                            </span>
                                            <span class="table-cell macro-text-tohide">
                                                <textarea class="macro-text-inline" data-i18n-placeholder="full-macro-place" name="attr_var_iterative_attack9_macro" title="@{repeating_weapon_$X_var_iterative_attack9_macro}">{{attack9=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{attack_macro} + @{iterative_attack9_value} ]] [iterative] ]]}} {{damage9=[[ @{damage-dice-num}d@{damage-die} + @{damage_macro} ]]}} {{type9=@{type9}}} {{crit_confirm9=[[ 1d20 + [[ @{attack_macro} + @{iterative_attack9_value} ]] [iterative] + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage9=[[ [[ @{damage-dice-num} * [[ @{crit-multiplier} - 1 ]] ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1 ]]) ]]}} {{precision_dmg91=@{precision_dmg_macro}}} {{precision_dmg92=@{global_precision_dmg_macro}}} {{critical_dmg91=@{critical_dmg_macro}}} {{critical_dmg92=@{global_critical_dmg_macro}}} {{attack9name=@{iterative_attack9_name}}}</textarea>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="advanced-macros nondual-sect">
                                        <div class="center repeating-hidesect">
                                            <div class="insertmacrocell" style="width:48.5%">
                                                <input class="textarea-gray" type="checkbox" name="attr_toggle_attack_macro_insert" value="@{var_attack_macro_insert}" title="@{toggle_attack_macro_insert}" checked />
                                                <label class="small-label2">
                                                    <span class="super note-c" data-i18n="insert-macro-attack" data-i18n-title="additional-attack-macro-query-included-with-crits" data-i18n-aria-label="additional-attack-macro-query-included-with-crits" title="Additional Attack Macro/Query(included with crits)">'Add to Attack' Macro:</span>
                                                    <input type="hidden" name="attr_var_attack_macro_insert" value="[[ @{attack_macro_insert} ]] [Macro]" />
                                                    <textarea class="macro-text-inline both" name="attr_attack_macro_insert" data-i18n-placeholder="full-macro-place" title="@{repeating_weapon_$X_attack_macro_insert}">0</textarea>
                                                </label>
                                            </div>
                                            <div class="insertmacrocell" style="width:48.5%">
                                                <input class="textarea-gray" type="checkbox" name="attr_toggle_damage_macro_insert" value="@{var_damage_macro_insert}" title="@{toggle_damage_macro_insert}" checked />
                                                <label class="small-label2">
                                                    <span class="super note-c" data-i18n="insert-macro-damage" data-i18n-title="additional-damage-macro-query-included-with-crits" data-i18n-aria-label="additional-damage-macro-query-included-with-crits" title="Additional Damage Macro/Query(included with crits)">'Add to Damage' Macro:</span>
                                                    <input type="hidden" name="attr_var_damage_macro_insert" value="[[ @{damage_macro_insert} ]] [Macro]" />
                                                    <textarea class="macro-text-inline both" name="attr_damage_macro_insert" data-i18n-placeholder="full-macro-place" title="@{repeating_weapon_$X_damage_macro_insert}">0</textarea>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="macro-text">
                                        <label class="small-label2" style="width:100%;">
                                            <h3 class="super note-d" data-i18n="full-macro">Full Macro:</h3>
                                            <div class="cheat"></div>
                                            <textarea class="macro-text" title="@{repeating_weapon_$X_macro-text}" name="attr_macro-text">&{template:pf_attack} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{attack=[[ 1d20cs>[[ @{crit-target} ]] + @{attack_macro} ]]}} {{damage=[[@{damage-dice-num}d@{damage-die} + @{damage_macro}]]}} {{crit_confirm=[[ 1d20 + @{attack_macro} + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage=[[ [[ @{damage-dice-num} * (@{crit-multiplier} - 1) ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1 ]]) ]]}} {{type=@{type}}} {{weapon_notes=@{notes}}} @{iterative_attacks} @{macro_options} {{vs=@{vs}}} {{vs@{vs}=@{vs}}} {{precision_dmg1=@{precision_dmg_macro}}} {{precision_dmg1_type=@{precision_dmg_type}}} {{precision_dmg2=@{global_precision_dmg_macro}}} {{precision_dmg2_type=@{global_precision_dmg_type}}} {{critical_dmg1=@{critical_dmg_macro}}} {{critical_dmg1_type=@{critical_dmg_type}}} {{critical_dmg2=@{global_critical_dmg_macro}}} {{critical_dmg2_type=@{global_critical_dmg_type}}} {{attack1name=@{iterative_attack1_name}}}</textarea>
                                            <textarea style="display:none;" class="macro-text" title="@{repeating_weapon_$X_NPC-macro-text}" name="attr_NPC-macro-text">&{template:pf_attack} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{attack=[[ 1d20cs>[[ @{crit-target} ]] + @{attack_macro} ]]}} {{damage=[[@{damage-dice-num}d@{damage-die} + @{damage_macro}]]}} {{crit_confirm=[[ 1d20 + @{attack_macro} + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage=[[ [[ @{damage-dice-num} * (@{crit-multiplier} - 1) ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1 ]]) ]]}} {{type=@{type}}} {{weapon_notes=@{notes}}} @{iterative_attacks} @{macro_options} {{vs=@{vs}}} {{vs@{vs}=@{vs}}} {{precision_dmg1=@{precision_dmg_macro}}} {{precision_dmg1_type=@{precision_dmg_type}}} {{precision_dmg2=@{global_precision_dmg_macro}}} {{precision_dmg2_type=@{global_precision_dmg_type}}} {{critical_dmg1=@{critical_dmg_macro}}} {{critical_dmg1_type=@{critical_dmg_type}}} {{critical_dmg2=@{global_critical_dmg_macro}}} {{critical_dmg2_type=@{global_critical_dmg_type}}} {{attack1name=@{iterative_attack1_name}}}</textarea>
                                            <div class="cheat"></div>
                                            <span style="line-height: 2em;float: left;width: 15%;"><span data-i18n="attack-macro">Attack Macro</span>:</span>
                                            <input class="skill-macro-text calc" style="width:85%;" type="text" name="attr_attack_macro" title="@{repeating_weapon_$X_attack_macro}" value="[[ @{total-attack} ]] [Total] + @{toggle_attack_macro_insert} + @{attack-type_macro_insert} + @{toggle_global_attack_macro_insert}" readonly />
                                            <div class="cheat"></div>
                                            <span style="line-height: 2em;float: left;width: 15%;"><span data-i18n="damage-macro">Damage Macro</span>:</span>
                                            <input class="skill-macro-text calc" style="width:85%;" type="text" name="attr_damage_macro" title="@{repeating_weapon_$X_damage_macro}" value="[[ @{total-damage} ]] [Total] + @{toggle_damage_macro_insert} + @{damage-type_macro_insert} + @{toggle_global_damage_macro_insert}" readonly />
                                        </label>
                                    </div>
                                    <div class="repeating-id">
                                        <label class="small-label2 nextitem">
                                            <input class="selectable calc" name="attr_row_id" readonly />
                                            <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                        </label>
                                        <input type="checkbox" name="attr_link_type" class="noshow" value="0" role="presentation" checked />
                                        <input type="checkbox" name="attr_link_type" class="nextitem-show noshow" value="1" role="presentation" />
                                        <label class="small-label2 nextitem" data-i18n-title="source-item-title" data-i18n-aria-label="source-item-title"><input type="text" name="attr_source-item" title="@{repeating_weapon_$X_source-item}" value="" data-i18n-placeholder="source-item-placeholder" readonly /><span data-i18n="source-item">Linked Item ID</span> <span name="attr_source-item-name"></span></label>
                                        <input type="checkbox" name="attr_link_type" class="nextitem-show noshow" value="2" role="presentation" />
                                        <label class="small-label2 nextitem" data-i18n-title="source-spell-title" data-i18n-aria-label="source-spell-title"><input type="text" name="attr_source-spell" title="@{repeating_weapon_$X_source-spell}" value="" data-i18n-placeholder="source-spell-placeholder" readonly /><span data-i18n="source-spell">Linked Spell ID</span> <span name="attr_source-spell-name"></span></label>
                                        <input type="checkbox" name="attr_link_type" class="nextitem-show noshow" value="3" role="presentation" />
                                        <label class="small-label2 nextitem" data-i18n-title="source-ability-title" data-i18n-aria-label="source-ability-title"><input type="text" name="attr_source-ability" title="@{repeating_weapon_$X_source-ability}" value="" data-i18n-placeholder="source-ability-placeholder" readonly /><span data-i18n="source-ability">Linked ability ID</span> <span name="attr_source-ability-name"></span></label>
                                        <input type="checkbox" name="attr_link_type" class="sect3-show noshow" value="4" role="presentation" />
                                        <label class="small-label2 sect3" data-i18n-title="source-attack-title" data-i18n-aria-label="source-attack-title"><input type="text" name="attr_source-main" title="@{repeating_weapon_$X_source-main}" value="" data-i18n-placeholder="source-attack-placeholder" readonly /><span data-i18n="source-mainhand">Mainhand ID</span></label>
                                        <label class="small-label2 sect3" data-i18n-title="source-attack-title" data-i18n-aria-label="source-attack-title"><input type="text" name="attr_source-off" title="@{repeating_weapon_$X_source-off}" value="" data-i18n-placeholder="source-attack-placeholder" readonly /><span data-i18n="source-offhand">Offhand ID</span></label>
                                        <input type="hidden" name="attr_source-main-name" />
                                        <input type="hidden" name="attr_source-off-name" />
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div>
            <div class="section5 section section-skills" role="region" aria-label="Skills" data-i18n-aria-label="skills">
                <h1 class="selected-tabtitle" data-i18n="skills">Skills</h1>
                <div class="hide-readonly" style="display:none;">
                    <input type="hidden" name="attr_adventure_skills-macro" value="" />
                    <input type="hidden" name="attr_background_skills-macro" value="" />
                    <input type="hidden" name="attr_consolidated_skills-macro" value="" />
                    <input type="hidden" name="attr_NPC-adventure_skills-macro" value="" />
                    <input type="hidden" name="attr_NPC-background_skills-macro" value="" />
                    <input type="hidden" name="attr_NPC-consolidated_skills-macro" value="" />
                    <button type="roll" class="command-button" name="attr_craft_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{craft_skills-macro}" title="%{selected|craft_skills_buttons_macro}">craft</button>
                    <button type="roll" class="command-button" name="attr_artistry_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{artistry_skills-macro}" title="%{selected|artistry_skills_buttons_macro}">artistry</button>
                    <button type="roll" class="command-button" name="attr_lore_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{lore_skills-macro}" title="%{selected|lore_skills_buttons_macro}">lore</button>
                    <button type="roll" class="command-button" name="attr_knowledge_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{knowledge_skills-macro}" title="%{selected|knowledge_skills_buttons_macro}">knowledge</button>
                    <button type="roll" class="command-button" name="attr_perform_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{perform_skills-macro}" title="%{selected|perform_skills_buttons_macro}">perform</button>
                    <button type="roll" class="command-button" name="attr_profession_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{profession_skills-macro}" title="%{selected|profession_skills_buttons_macro}">profession</button>
                    <button type="roll" class="command-button" name="attr_misc-skill_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{misc-skill_skills-macro}" title="%{selected|misc-skill_skills_buttons_macro}">misc-skill</button>
                    <button type="roll" class="command-button" name="attr_CS-misc-skill_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{CS-misc-skill_skills-macro}" title="%{selected|CS-misc-skill_skills_buttons_macro}">misc-skill</button>
                    <button type="roll" class="command-button" name="attr_NPC-craft_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{NPC-craft_skills-macro}" title="%{selected|NPC-craft_skills_buttons_macro}">craft</button>
                    <button type="roll" class="command-button" name="attr_NPC-artistry_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{NPC-artistry_skills-macro}" title="%{selected|NPC-artistry_skills_buttons_macro}">artistry</button>
                    <button type="roll" class="command-button" name="attr_NPC-lore_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{NPC-lore_skills-macro}" title="%{selected|NPC-lore_skills_buttons_macro}">lore</button>
                    <button type="roll" class="command-button" name="attr_NPC-knowledge_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{NPC-knowledge_skills-macro}" title="%{selected|NPC-knowledge_skills_buttons_macro}">knowledge</button>
                    <button type="roll" class="command-button" name="attr_NPC-perform_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{NPC-perform_skills-macro}" title="%{selected|NPC-perform_skills_buttons_macro}">perform</button>
                    <button type="roll" class="command-button" name="attr_NPC-profession_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{NPC-profession_skills-macro}" title="%{selected|NPC-profession_skills_buttons_macro}">profession</button>
                    <button type="roll" class="command-button" name="attr_NPC-misc-skill_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{NPC-misc-skill_skills-macro}" title="%{selected|NPC-misc-skill_skills_buttons_macro}">misc-skill</button>
                    <button type="roll" class="command-button" name="attr_NPC-CS-misc-skill_skills_buttons_macro" value="/w &quot;@{character_name}&quot; @{NPC-CS-misc-skill_skills-macro}" title="%{selected|CS-NPC-misc-skill_skills_buttons_macro}">misc-skill</button>
                    <input type="hidden" name="attr_craft_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{craft} ^{skills} }} {{ ^{no-skills-available} }}" />
                    <input type="hidden" name="attr_artistry_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{artistry} ^{skills} }} {{ ^{no-skills-available} }}" />
                    <input type="hidden" name="attr_lore_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{lore} ^{skills} }} {{ ^{no-skills-available} }}" />
                    <input type="hidden" name="attr_knowledge_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{knowledge} ^{skills} }} {{ [^{arcana}](~@{character_id}|Knowledge-Arcana-check) [^{dungeoneering}](~@{character_id}|Knowledge-Dungeoneering-check) [^{engineering}](~@{character_id}|Knowledge-Engineering-check) [^{geography}](~@{character_id}|Knowledge-Geography-check) [^{history}](~@{character_id}|Knowledge-History-check) [^{local}](~@{character_id}|Knowledge-Local-check) [^{nature}](~@{character_id}|Knowledge-Nature-check) [^{nobility}](~@{character_id}|Knowledge-Nobility-check) [^{planes}](~@{character_id}|Knowledge-Planes-check) [^{religion}](~@{character_id}|Knowledge-Religion-check)  }}" />
                    <input type="hidden" name="attr_perform_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{perform} ^{skills} }} {{ ^{no-skills-available} }}" />
                    <input type="hidden" name="attr_profession_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{profession} ^{skills} }} {{ ^{no-skills-available} }}" />
                    <input type="hidden" name="attr_misc-skill_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{misc-skill} ^{skills} }} {{ ^{no-skills-available} }}" />
                    <input type="hidden" name="attr_NPC-craft_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} ^{craft} ^{skills} }} {{ ^{no-skills-available} }}" />
                    <input type="hidden" name="attr_NPC-artistry_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} ^{artistry} ^{skills} }} {{ ^{no-skills-available} }}" />
                    <input type="hidden" name="attr_NPC-lore_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} ^{lore} ^{skills} }} {{ ^{no-skills-available} }}" />
                    <input type="hidden" name="attr_NPC-knowledge_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} ^{knowledge} ^{skills} }} {{ [^{arcana}](~@{character_id}|NPC-Knowledge-Arcana-check) [^{dungeoneering}](~@{character_id}|NPC-Knowledge-Dungeoneering-check) [^{engineering}](~@{character_id}|NPC-Knowledge-Engineering-check) [^{geography}](~@{character_id}|NPC-Knowledge-Geography-check) [^{history}](~@{character_id}|NPC-Knowledge-History-check) [^{local}](~@{character_id}|NPC-Knowledge-Local-check) [^{nature}](~@{character_id}|NPC-Knowledge-Nature-check) [^{nobility}](~@{character_id}|NPC-Knowledge-Nobility-check) [^{planes}](~@{character_id}|NPC-Knowledge-Planes-check) [^{religion}](~@{character_id}|NPC-Knowledge-Religion-check) }}" />
                    <input type="hidden" name="attr_NPC-perform_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} ^{perform} ^{skills} }} {{ ^{no-skills-available} }}" />
                    <input type="hidden" name="attr_NPC-profession_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} ^{profession} ^{skills} }} {{ ^{no-skills-available} }}" />
                    <input type="hidden" name="attr_NPC-misc-skill_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} ^{misc-skill} ^{skills} }} {{ ^{no-skills-available} }}" />
                    <input type="hidden" name="attr_CS-misc-skill_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{misc-skill} ^{skills} }} {{ ^{no-skills-available} }}" />
                    <input type="hidden" name="attr_NPC-CS-misc-skill_skills-macro" value="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} ^{misc-skill} ^{skills} }} {{ ^{no-skills-available} }}" />
                </div>
                <div class="col">
                    <input class="showarrow h2arrow" type="checkbox" name="attr_skill-ranks-show" data-i18n-aria-label="skill-rank-totals" data-i18n-title="showsect-cmd" value="1" checked />
                    <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="skill-rank-totals">Skill Rank Totals</label></h2>
                    <div class="h2-section table skill-totals">
                        <input type="text" style="display:none;" name="attr_Core-Skill-Ranks" value="(abs(@{unchained_skills-show}-1) * (@{Acrobatics-ranks} + @{Bluff-ranks} + @{Climb-ranks} + @{Diplomacy-ranks} + @{Disable-Device-ranks} + @{Disguise-ranks} + @{Escape-Artist-ranks} + @{Fly-ranks} + @{Heal-ranks} + @{Intimidate-ranks} + @{Knowledge-Arcana-ranks} + @{Knowledge-Dungeoneering-ranks} + @{Knowledge-Local-ranks} + @{Knowledge-Nature-ranks} + @{Knowledge-Planes-ranks} + @{Knowledge-Religion-ranks} + @{Perception-ranks} + @{Ride-ranks} + @{Sense-Motive-ranks} + @{Spellcraft-ranks} + @{Stealth-ranks} + @{Survival-ranks} + @{Swim-ranks} + @{Use-Magic-Device-ranks} + @{Appraise-ranks} + @{Handle-Animal-ranks} + @{Knowledge-Engineering-ranks} + @{Knowledge-Geography-ranks} + @{Knowledge-History-ranks} + @{Knowledge-Nobility-ranks} + @{Linguistics-ranks} + @{Sleight-of-Hand-ranks} + @{Misc-Adventure-Ranks} + @{Misc-BG-Ranks} + @{Craft-BG-Ranks} + @{Perform-BG-Ranks} + @{Profession-BG-Ranks}  ))" disabled />
                        <input type="text" style="display:none;" name="attr_Adventure-Skill-Ranks" value="(@{unchained_skills-show} * @{BG-Skill-Use}*(@{Acrobatics-ranks} + @{Bluff-ranks} + @{Climb-ranks} + @{Diplomacy-ranks} + @{Disable-Device-ranks} + @{Disguise-ranks} + @{Escape-Artist-ranks} + @{Fly-ranks} + @{Heal-ranks} + @{Intimidate-ranks} + @{Knowledge-Arcana-ranks} + @{Knowledge-Dungeoneering-ranks} + @{Knowledge-Local-ranks} + @{Knowledge-Nature-ranks} + @{Knowledge-Planes-ranks} + @{Knowledge-Religion-ranks} + @{Perception-ranks} + @{Ride-ranks} + @{Sense-Motive-ranks} + @{Spellcraft-ranks} + @{Stealth-ranks} + @{Survival-ranks} + @{Swim-ranks} + @{Use-Magic-Device-ranks} + @{Misc-Adventure-Ranks} ))" disabled />
                        <input type="text" style="display:none;" name="attr_Consolidated-Skill-Ranks" value="(@{unchained_skills-show} * abs(@{BG-Skill-Use}-1) * (  @{CS-Acrobatics-ranks} + @{CS-Athletics-ranks} + @{CS-Finesse-ranks} + @{CS-Influence-ranks} + @{CS-Nature-ranks} + @{CS-Perception-ranks} + @{CS-Performance-ranks} + @{CS-Religion-ranks} + @{CS-Society-ranks} + @{CS-Spellcraft-ranks} + @{CS-Stealth-ranks} + @{CS-Survival-ranks} + @{CS-Misc-Skill-0-ranks} + @{CS-Misc-Skill-1-ranks} + @{CS-Misc-Skill-2-ranks} + @{CS-Misc-Skill-3-ranks} + @{CS-Misc-Skill-4-ranks} + @{CS-Misc-Skill-5-ranks} + @{CS-Misc-Skill-6-ranks} + @{CS-Misc-Skill-7-ranks} + @{CS-Misc-Skill-8-ranks} + @{CS-Misc-Skill-9-ranks} ))" disabled />
                        <input type="text" style="display:none;" name="attr_Misc-Adventure-Ranks" value="(@{Misc-Skill-0-ranks} + @{Misc-Skill-1-ranks} + @{Misc-Skill-2-ranks} + @{Misc-Skill-3-ranks} + @{Misc-Skill-4-ranks} )" disabled />
                        <input type="text" style="display:none;" name="attr_Misc-BG-Ranks" value="(@{Misc-Skill-5-ranks} + @{Misc-Skill-6-ranks} + @{Misc-Skill-7-ranks} + @{Misc-Skill-8-ranks} + @{Misc-Skill-9-ranks})" disabled />
                        <input type="text" style="display:none;" name="attr_Profession-BG-Ranks" value="(@{Profession-ranks} + @{Profession2-ranks} + @{Profession3-ranks} + @{Profession4-ranks} + @{Profession5-ranks} + @{Profession6-ranks} + @{Profession7-ranks} + @{Profession8-ranks} + @{Profession9-ranks} + @{Profession10-ranks})" disabled />
                        <input type="text" style="display:none;" name="attr_Perform-BG-Ranks" value="(@{Perform-ranks} + @{Perform2-ranks} + @{Perform3-ranks} + @{Perform4-ranks} + @{Perform5-ranks} + @{Perform6-ranks} + @{Perform7-ranks} + @{Perform8-ranks} + @{Perform9-ranks} + @{Perform10-ranks})" disabled />
                        <input type="text" style="display:none;" name="attr_Craft-BG-Ranks" value="(@{Craft-ranks} + @{Craft2-ranks} + @{Craft3-ranks} + @{Craft4-ranks} + @{Craft5-ranks} + @{Craft6-ranks} + @{Craft7-ranks} + @{Craft8-ranks} + @{Craft9-ranks} + @{Craft10-ranks})" disabled />
                        <input type="text" style="display:none;" name="attr_Artistry-BG-Ranks" value="(@{Artistry-ranks} + @{Artistry2-ranks} + @{Artistry3-ranks} + @{Artistry4-ranks} + @{Artistry5-ranks} + @{Artistry6-ranks} + @{Artistry7-ranks} + @{Artistry8-ranks} + @{Artistry9-ranks} + @{Artistry10-ranks})" disabled />
                        <input type="text" style="display:none;" name="attr_Lore-BG-Ranks" value="(@{Lore-ranks} + @{Lore2-ranks} + @{Lore3-ranks} + @{Lore4-ranks} + @{Lore5-ranks} + @{Lore6-ranks} + @{Lore7-ranks} + @{Lore8-ranks} + @{Lore9-ranks} + @{Lore10-ranks})" disabled />
                        <input type="checkbox" name="attr_unchained_skills-show" class="unchained-show" value="1" role="presentation" />
                        <input type="checkbox" name="attr_BG-Skill-Use" class="consolidated-show" value="0" role="presentation" />
                        <input type="checkbox" name="attr_BG-Skill-Use" class="bg-show" value="1" role="presentation" checked />
                        <span class="table-name" data-i18n="skill-ranks">Skill Ranks</span>
                        <div class="table">
                            <div class="table-row">
                                <span class="table-header">
                                    <span data-i18n="extra-ranks">Extra ranks:</span>
                                    <span class="super note-a" data-i18n="skill-miscellaneous">Skill Misc</span>
                                </span>
                                <span class="table-header right-border" data-i18n="modifier-abbrv">Mod</span>
                                <span class="table-header divider"></span>
                                <span class="table-header show-readonly">
                                    <span data-i18n="maximum-abbrv">Max</span>
                                    <span class="bg" data-i18n="adventure">Adventure </span><span data-i18n="skill-ranks">Skill Ranks</span>
                                </span>
                                <span class="table-header"></span>
                                <span class="table-header show-readonly">
                                    <span data-i18n="total">Total</span>
                                    <span class="bg" data-i18n="adventure">Adventure </span><span data-i18n="skill-ranks">Skill Ranks</span>
                                </span>
                                <span class="table-header"></span>
                                <span class="table-header show-readonly">
                                    <span class="bg" data-i18n="adventure">Adventure </span><span data-i18n="ranks-remaining">Ranks Remaining</span>
                                </span>
                                <span class="table-header bg"></span>
                                <span class="table-header bg" title="Any number of adventure skill ranks can be traded for an equal number of background skill ranks, but not vice versa." data-i18n="move-adventure-to-background">Move Adventure to Background</span>
                                <span class="table-header bg"></span>
                                <span class="table-header bg show-readonly" title="Optional: used for PF Unchained." data-i18n="background-ranks-remaining">Background Ranks Remaining</span>
                                <span class="table-header bg" data-i18n="total-background-skill-ranks">Total Background Skill Ranks</span>
                            </div>
                            <div class="table-row">
                                <input type="checkbox" name="attr_Max-Skill-Ranks-mod_error" class="error-mshow" value="1" />
                                <span class="table-cell highlight entry-15p-shrink"><input type="text" class="macro-text-inline" title="@{Max-Skill-Ranks-Misc}" name="attr_Max-Skill-Ranks-Misc" data-i18n-placeholder="equation-macro-place" /></span>
                                <span class="table-cell highlight right-border"><input type="number" title="@{Max-Skill-Ranks-mod}" name="attr_Max-Skill-Ranks-mod" value="0" class="calc" readonly style="width:4em;" /></span>
                                <span class="divider"></span>
                                <span class="table-cell show-readonly"><input type="number" title="@{Max-Skill-Ranks}" name="attr_Max-Skill-Ranks" value="0" class="calc" readonly /></span>
                                <span class="divider">-</span>
                                <span class="table-cell show-readonly">
                                    <input type="text" title="@{Total-Skill-Ranks}" name="attr_Total-Skill-Ranks" value="(@{Core-Skill-Ranks}+@{Adventure-Skill-Ranks}+@{Consolidated-Skill-Ranks})" class="number" disabled />
                                </span>
                                <span class="divider">=</span>
                                <span class="table-cell show-readonly">
                                    <input type="text" title="@{Skill-Ranks-Remaining}" name="attr_Skill-Ranks-Remaining" value="(@{Max-Skill-Ranks} - @{Total-Skill-Ranks} - @{adventure-skills-traded} )" class="number" disabled />
                                </span>
                                <span class="divider bg">&rarr;</span>
                                <span class="table-cell bg"><input type="text" class="number calc" title="@{adventure-skills-traded}" name="attr_adventure-skills-traded" value="(@{unchained_skills-show} * @{BG-Skill-Use}* -1*floor(((@{level} * 2)-@{Total-BG-Skill-Ranks}+0.1)/(abs((@{level} * 2)-@{Total-BG-Skill-Ranks}+0.1)+0.001))*(( @{Total-BG-Skill-Ranks} - (@{level} * 2)) ) )" style="width:2.85em" disabled /></span>
                                <span class="divider bg" title="Use up to Adventure Ranks Remaining as ranks in Background Skills">&rarr;</span>
                                <span class="table-cell bg show-readonly"><input type="text" title="@{BG-Skill-Ranks-Remaining}" name="attr_BG-Skill-Ranks-Remaining" value="( ((@{level} * 2) - @{Total-BG-Skill-Ranks} + @{adventure-skills-traded}))" class="number calc" disabled /></span>
                                <span class="table-cell bg">( <input type="text" class="number calc" title="@{Total-BG-Skill-Ranks}" name="attr_Total-BG-Skill-Ranks" value="(@{unchained_skills-show} * @{BG-Skill-Use}*(@{Appraise-ranks} + @{Handle-Animal-ranks} + @{Knowledge-Engineering-ranks} + @{Knowledge-Geography-ranks} + @{Knowledge-History-ranks} + @{Knowledge-Nobility-ranks} + @{Linguistics-ranks} + @{Sleight-of-Hand-ranks} + @{Misc-BG-Ranks} + @{Craft-BG-Ranks} + @{Perform-BG-Ranks} + @{Profession-BG-Ranks} + @{Artistry-BG-Ranks} + @{Lore-BG-Ranks} ))" disabled /> )</span>
                            </div>
                        </div>
                    </div>
                    <div class="cheat"></div>
                    <input class="showarrow h2arrow" type="checkbox" name="attr_skill_options-show" data-i18n-aria-label="skill-options" data-i18n-title="showsect-cmd" value="1" checked />
                    <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="skill-options">Skill Options</label></h2>
                    <div class="h2-section skill-options">
                        <div class="table config-table options named">
                            <div class="table-name" data-i18n="skill-options">Skill Options</div>
                            <div class="cheat"></div>
                            <div class="table">
                                <div class="table-row">
                                    <span class="table-cell left small-label" style="padding-left:0.25em;">
                                        <label class="nowrap">
                                            <input type="checkbox" class="boldlabel-check" name="attr_enforce_requires_training" value="1" /><b title="Only affects skillbook buttons" data-i18n="enforce-requires-training">Enforce Requires Training?</b>
                                        </label>
                                        <br>
                                        <label>
                                            <input type="hidden" name="attr_var_skill-notes" value="{{description=@{Skill-notes}}}" disabled />
                                            <input type="hidden" name="attr_skill_options" value="@{buff_skill_notes} @{toggle_skill-notes}" disabled />
                                            <input type="checkbox" class="boldlabel-check" name="attr_toggle_skill-notes" value="@{var_skill-notes}" title="@{toggle_skill-notes}" checked><b data-i18n-title="include-skill-notes" data-i18n-aria-label="include-skill-notes" data-i18n="skill-notes">Skill notes?</b>
                                        </label>
                                        <br>
                                        <label>
                                            <input type="checkbox" class="boldlabel-check" name="attr_include_skill_totals" value="1" checked><b title="Only affects skillbook buttons" data-i18n="include-skill-totals">Include Skill Totals?</b>
                                        </label>
                                    </span>
                                    <span class="table-cell left small-label" style="vertical-align:middle;">
                                        <span data-i18n="number-fill-in-skills-show">Number of craft, perform, profession to show:</span>
                                        <br>
                                        <select name="attr_custom_skill_num_show" title="@{custom_skill_num_show}">
                                            <option value="1" selected>•1</option>
                                            <option value="2"> 2</option>
                                            <option value="3"> 3</option>
                                            <option value="6"> 6</option>
                                            <option value="10">10</option>
                                        </select>
                                    </span>
                                    <span class="table-cell left small-label" style="vertical-align:middle;">
                                        <span data-i18n="number-misc-skills-show">Number of Misc skills to show:</span>
                                        <br>
                                        <select name="attr_misc_skill_num_show" title="@{misc_skill_num_show}">
                                            <option value="1" selected> 1</option>
                                            <option value="2"> 2</option>
                                            <option value="3"> 3</option>
                                            <option value="6"> 6</option>
                                            <option value="10">10</option>
                                        </select>
                                    </span>
                                </div>
                            </div>
                            <div class="table">
                                <div class="table-row">
                                    <span class="table-cell left small-label" style="padding-left:0.25em; width:30%;">
                                        <span data-i18n="enable-take-10-or-20-options" data-i18n-title="enable-skill-check-query-title" data-i18n-aria-label="enable-skill-check-query-title" title="Skill Checks will include an option to Roll, Take 10, or Take 20.">Enable Take 10 or 20 options?</span>
                                        <br>
                                        <select name="attr_skill-query" title="@{skill-query}" style="width:7.25em;margin-top:0.1rem;height:2.125em;">
                                            <option value="1d20+@{skill-invest-query}" data-i18n="no" selected>No</option>
                                            <option value="?{Roll or Take 10/20?|1d20,1d20|10,10|20,20}+@{skill-invest-query}" data-i18n="yes">Yes</option>
                                            <option value="@{skill-invest-query}+@{custom_dice}" data-i18n="custom-roll">Custom Roll</option>
                                        </select>
                                    </span>
                                    <input type="checkbox" class="nextitem-show" name="attr_skill-query" value="@{skill-invest-query}+@{custom_dice}" role="presentation" />
                                    <span class="table-cell left nextitem small-label" style="width:20%;">
                                        <span class="super note-c" data-i18n="custom-roll">Custom Roll</span>
                                        <br>
                                        <textarea title="@{custom_dice}" class="macro-text-inline both" name="attr_custom_dice" data-i18n-placeholder="full-macro-place">[[ 1d20 ]]</textarea>
                                    </span>
                                    <input type="checkbox" class="nextitem-show" name="attr_adv_macro_show" value="1" role="presentation" />
                                    <span class="table-cell left nextitem small-label extra-sect" style="width:20%;">
                                        <span data-i18n="add-skill-bonus-macro">Add Skill Bonus Macro?</span>
                                        <br>
                                        <select name="attr_skill-invest-query" title="@{skill-invest-query}" style="width:4.5em; margin-top:0.1rem;height:2.125em;">
                                            <option value="0" data-i18n="no-default" selected>No</option>
                                            <option value="@{investigator_dice}" data-i18n="yes">Yes</option>
                                        </select>
                                    </span>
                                    <input type="checkbox" name="attr_skill-invest-query" class="nextitem-show noshow" value="@{investigator_dice}" />
                                    <span class="table-cell left nextitem small-label extra-sect" style="width:20%;">
                                        <span class="super note-c" data-i18n="skill-bonus-macro" data-i18n-title="additional-modifier-or-macro" data-i18n-aria-label="additional-modifier-or-macro" title="Additional modifier or macro with brackets, e.g. [[ 1d6 ]], [[ 2d20k1 ]] etc">Skill Bonus Macro</span>
                                        <br>
                                        <textarea title="@{investigator_dice}" class="macro-text-inline both" name="attr_investigator_dice" data-i18n-placeholder="full-macro-place">1d6 [custom bonus]</textarea>
                                    </span>
                                    <span class="table-rightcell"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="cheat"></div>
                    <input class="showarrow h2arrow" type="checkbox" name="attr_skill-notes-show" data-i18n-aria-label="skill-notes" data-i18n-title="showsect-cmd" value="1" checked />
                    <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="skill-notes">Skill Notes</label></h2>
                    <div class="h2-section skill-notes">
                        <div class="table center notes-cell">
                            <span class="table-name show-readonly secondary-table-name" data-i18n="skill-notes">Skill Notes</span>
                            <div class="table-row">
                                <span class="table-cell left"><textarea class="notes" title="@{Skill-notes}" name="attr_Skill-notes" data-i18n-placeholder="skill-notes-place"></textarea></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cheat"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_skills-show" data-i18n-aria-label="skills" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="skills">Skills</label></h2>
                <div class="h2-section skilllist wide-readonly">
                    <input type="checkbox" name="attr_adv_macro_show" class="advanced-macro-show" value="1" role="presentation" />
                    <input type="checkbox" class="selectedlabel-check" name="attr_skill_onetimecolumns_show" title="@{skill_onetimecolumns_show}" value="1" role="presentation" checked /><b data-i18n-title="show-onetime-columns-title" data-i18n-aria-label="show-onetime-columns-title" title="show feat and race and onetime columns" data-i18n="show-more-fields">Show more fields</b>
                    <input type="checkbox" class="skill-onetime-show noshow" name="attr_skill_onetimecolumns_show" title="@{skill_onetimecolumns_show}" value="1" role="presentation" checked />
                    <input type="checkbox" class="unchained-show" name="attr_unchained_skills-show" value="1" role="presentation" />
                    <input type="checkbox" class="consolidated-show" name="attr_BG-Skill-Use" value="0" role="presentation" />
                    <input type="checkbox" class="bg-show" name="attr_BG-Skill-Use" value="1" checked role="presentation" checked />
                    <div role="menubar" class="skillsnav tabs" aria-label="Skills" data-i18n-aria-label="skills"></div>
                    <input type="radio" class="bg-only tabinput tab1" name="attr_skills_tab" value="1" data-i18n-title="adventure-skills" aria-label="adventure" data-i18n-aria-label="adventure" />
                    <label role="menuitem" class="bg-only tab tab1" data-i18n-title="adventure-skills" data-i18n-aria-label="adventure" title="Adventure Skills" data-i18n="adventure">Adventure</label>
                    <input type="radio" class="bg-only tabinput tab2" name="attr_skills_tab" value="2" data-i18n-title="background-skills" aria-label="background" data-i18n-aria-label="background" />
                    <label role="menuitem" class="bg-only tab tab2" data-i18n-title="background-skills" data-i18n-aria-label="background" title="Background Skills" data-i18n="background">Background</label>
                    <input type="radio" class="tabinput tab99" name="attr_skills_tab" data-i18n-title="all-skills" aria-label="All Skills" data-i18n-aria-label="all-skills" value="99" checked />
                    <label role="menuitem" class="consolidated tab tab99" data-i18n-title="consolidated-skills" data-i18n-aria-label="consolidated" title="Consolidated Skills" data-i18n="consolidated">Consolidated</label>
                    <label role="menuitem" class="core-only tab tab99" data-i18n-title="all-skills" data-i18n-aria-label="skills" title="All Skills" data-i18n="skills">Skills</label>
                    <label role="menuitem" class="bg-only tab tab99" data-i18n-title="all-skills" data-i18n-aria-label="skills" title="All Skills" data-i18n="all">All</label>
                    <span class="nontable-name"> </span>
                    <div class="table skills narrow-numbers" data-i18n-list="skills-list">
                        <input type="checkbox" name="attr_custom_skill_num_show" class="custom-skill-1-show noshow" value="1" />
                        <input type="checkbox" name="attr_custom_skill_num_show" class="custom-skill-2-show noshow" value="2" />
                        <input type="checkbox" name="attr_custom_skill_num_show" class="custom-skill-3-show noshow" value="3" />
                        <input type="checkbox" name="attr_custom_skill_num_show" class="custom-skill-6-show noshow" value="6" />
                        <input type="checkbox" name="attr_custom_skill_num_show" class="custom-skill-10-show noshow" value="10" />
                        <input type="checkbox" name="attr_misc_skill_num_show" class="misc-skill-1-show noshow" value="1" />
                        <input type="checkbox" name="attr_misc_skill_num_show" class="misc-skill-2-show noshow" value="2" />
                        <input type="checkbox" name="attr_misc_skill_num_show" class="misc-skill-3-show noshow" value="3" />
                        <input type="checkbox" name="attr_misc_skill_num_show" class="misc-skill-6-show noshow" value="6" />
                        <input type="checkbox" name="attr_misc_skill_num_show" class="misc-skill-10-show noshow" value="10" />
                        <div class="table-row">
                            <span class="table-header"></span>
                            <span class="table-header entry-25p-shrink" data-i18n="skill">Skill</span>
                            <span class="table-header" data-i18n="total">Total</span>
                            <span class="table-header emphasize-field" data-i18n="ranks">Ranks</span>
                            <span class="table-header" style="width:2em;min-width:2em;" data-i18n-title="class-skill" data-i18n="class-skill-abbrv">CS</span>
                            <span class="table-header ability-column" data-i18n="ability">Ability</span>
                            <span class="table-header" data-i18n-title="armor-check-penalty" data-i18n-aria-label="armor-check-penalty-abbrv"></span>
                            <span class="table-header" data-i18n="race">Race</span>
                            <span class="table-header" data-i18n="trait">Trait</span>
                            <span class="table-header" data-i18n="feat">Feat</span>
                            <span class="table-header" data-i18n="item">Item</span>
                            <span class="table-header entry-15p-shrink super note-a" data-i18n="macro">Macro</span>
                            <span class="table-header" data-i18n="miscellaneous-abbrv">Misc</span>
                            <span class="table-header" style="width:1.25em;" title="Requires Training" data-i18n="requires-training-abbrv">RT</span>
                            <span class="table-header entry-15p-shrink" data-i18n="notes">Notes</span>
                            <span class="table-header entry-8p-shrink extra-sect super note-d" data-i18n="macro">Macro</span>
                        </div>
                        <div class="table-row adventure" data-i18n-list-item="acrobatics">
                            <span class="table-cell"><button title="%{selected|Acrobatics-Check}" type="roll" value="@{PC-Whisper} @{Acrobatics-macro}" name="roll_Acrobatics-Check"></button></span>
                            <span class="table-cell left" data-i18n="acrobatics">Acrobatics</span>
                            <span class="table-cell"><input title="@{Acrobatics}" type="number" name="attr_Acrobatics" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Acrobatics-ranks}" type="number" name="attr_Acrobatics-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Acrobatics-cs}" type="checkbox" name="attr_Acrobatics-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Acrobatics-ability}" name="attr_Acrobatics-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Acrobatics-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Acrobatics-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Acrobatics-racial}" type="number" name="attr_Acrobatics-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Acrobatics-trait}" type="number" name="attr_Acrobatics-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Acrobatics-feat}" type="number" name="attr_Acrobatics-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Acrobatics-item}" type="number" name="attr_Acrobatics-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Acrobatics-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Acrobatics-misc}" type="text" name="attr_Acrobatics-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Acrobatics-misc-mod}" type="number" class="calc" readonly name="attr_Acrobatics-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Acrobatics-ReqTrain}" type="checkbox" name="attr_Acrobatics-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Acrobatics-note}" name="attr_Acrobatics-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Acrobatics-macro}" name="attr_Acrobatics-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{acrobatics}}} {{Check=[[ @{skill-query} + [[ @{Acrobatics} ]]  ]]}} @{Acrobatics-ut} @{skill_options} @{Acrobatics-cond-notes} {{generic_note=@{Acrobatics-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row bg" data-i18n-list-item="appraise">
                            <span class="table-cell"><button title="%{selected|Appraise-Check}" type="roll" value="@{PC-Whisper} @{Appraise-macro}" name="roll_Appraise-Check"></button></span>
                            <span class="table-cell left" data-i18n="appraise">Appraise</span>
                            <span class="table-cell"><input title="@{Appraise}" type="number" name="attr_Appraise" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Appraise-ranks}" type="number" name="attr_Appraise-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Appraise-cs}" type="checkbox" name="attr_Appraise-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Appraise-ability}" name="attr_Appraise-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Appraise-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Appraise-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Appraise-racial}" type="number" name="attr_Appraise-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Appraise-trait}" type="number" name="attr_Appraise-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Appraise-feat}" type="number" name="attr_Appraise-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Appraise-item}" type="number" name="attr_Appraise-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Appraise-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Appraise-misc}" type="text" name="attr_Appraise-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Appraise-misc-mod}" type="number" class="calc" readonly name="attr_Appraise-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Appraise-ReqTrain}" type="checkbox" name="attr_Appraise-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Appraise-note}" name="attr_Appraise-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Appraise-macro}" name="attr_Appraise-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{appraise}}} {{Check=[[ @{skill-query} + [[ @{Appraise} ]]  ]]}} @{Appraise-ut} @{skill_options} @{Appraise-cond-notes} {{generic_note=@{Appraise-note}}}</textarea>
                            </details>
                        </div>
                        <span class="custom-skill-2 table-cell bg-only" data-i18n-list-item="artistry"> </span>
                        <input class="custom-skill-2 showarrow artistry-show bg-only" data-i18n-list-item="artistry-00" type="checkbox" name="attr_artistry-show" data-i18n-aria-label="artistry" data-i18n-title="showsect-cmd" value="1" checked />
                        <label class="custom-skill-2 showsect bg-only skill-minishow" data-i18n-list-item="artistry-01" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="artistry">Artistry</label>
                        <span class="custom-skill-2 bg-only" data-i18n-list-item="artistry-02"></span>
                        <div class="custom-skill-2 table-row bg-only" data-i18n-list-item="artistry-03" style="position:relative;">
                            <!--used to keep these sections from collapsing on each other when hidden-->
                        </div>
                        <div class="table-row artistry bg-only" data-i18n-list-item="artistry-04">
                            <span class="table-cell"><button title="%{selected|Artistry-Check}" type="roll" value="@{PC-Whisper} @{Artistry-macro}" name="roll_Artistry-Check"></button></span>
                            <span class="table-cell left"><input title="@{Artistry-name}" style="width:96%;" type="text" name="attr_Artistry-name" placeholder="Artistry" /></span>
                            <span class="table-cell"><input title="@{Artistry}" type="number" name="attr_Artistry" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Artistry-ranks}" type="number" name="attr_Artistry-ranks" value="0" /></span>
                            <span class="table-cell"><span title="Optional Ruleset"><input title="@{Artistry-cs}" type="checkbox" name="attr_Artistry-cs" value="3" /></span></span>
                            <span class="table-cell">
                                <select title="@{Artistry-ability}" name="attr_Artistry-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Artistry-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Artistry-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Artistry-racial}" type="number" name="attr_Artistry-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry-trait}" type="number" name="attr_Artistry-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry-feat}" type="number" name="attr_Artistry-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry-item}" type="number" name="attr_Artistry-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Artistry-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Artistry-misc}" type="text" name="attr_Artistry-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Artistry-misc-mod}" type="number" class="calc" readonly name="attr_Artistry-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry-ReqTrain}" type="checkbox" name="attr_Artistry-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Artistry-note}" name="attr_Artistry-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Artistry-macro}" name="attr_Artistry-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{artistry} @{Artistry-name}}} {{Check=[[ @{skill-query} + [[ @{Artistry} ]]  ]]}} @{Artistry-ut} @{skill_options} @{Artistry-cond-notes} {{generic_note=@{Artistry-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row artistry bg-only custom-skill-2" data-i18n-list-item="artistry-05">
                            <span class="table-cell"><button title="%{selected|Artistry2-Check}" type="roll" value="@{PC-Whisper} @{Artistry2-macro}" name="roll_Artistry2-Check"></button></span>
                            <span class="table-cell left"><input title="@{Artistry2-name}" style="width:96%;" type="text" name="attr_Artistry2-name" data-i18n-placeholder="artistry" /></span>
                            <span class="table-cell"><input title="@{Artistry2}" type="number" name="attr_Artistry2" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Artistry2-ranks}" type="number" name="attr_Artistry2-ranks" value="0" /></span>
                            <span class="table-cell"><span title="Optional Ruleset"><input title="@{Artistry2-cs}" type="checkbox" name="attr_Artistry2-cs" value="3" /></span></span>
                            <span class="table-cell">
                                <select title="@{Artistry2-ability}" name="attr_Artistry2-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Artistry2-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Artistry2-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Artistry2-racial}" type="number" name="attr_Artistry2-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry2-trait}" type="number" name="attr_Artistry2-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry2-feat}" type="number" name="attr_Artistry2-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry2-item}" type="number" name="attr_Artistry2-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Artistry2-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Artistry2-misc}" type="text" name="attr_Artistry2-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Artistry2-misc-mod}" type="number" class="calc" readonly name="attr_Artistry2-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry2-ReqTrain}" type="checkbox" name="attr_Artistry2-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Artistry2-note}" name="attr_Artistry2-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Artistry2-macro}" name="attr_Artistry2-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{artistry} @{Artistry2-name}}} {{Check=[[ @{skill-query} + [[ @{Artistry2} ]]  ]]}} @{Artistry2-ut} @{skill_options} @{Artistry2-cond-notes} {{generic_note=@{Artistry2-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row artistry bg-only custom-skill-3" data-i18n-list-item="artistry-06">
                            <span class="table-cell"><button title="%{selected|Artistry3-Check}" type="roll" value="@{PC-Whisper} @{Artistry3-macro}" name="roll_Artistry3-Check"></button></span>
                            <span class="table-cell left"><input title="@{Artistry3-name}" style="width:96%;" type="text" name="attr_Artistry3-name" data-i18n-placeholder="artistry" /></span>
                            <span class="table-cell"><input title="@{Artistry3}" type="number" name="attr_Artistry3" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Artistry3-ranks}" type="number" name="attr_Artistry3-ranks" value="0" /></span>
                            <span class="table-cell"><span title="Optional Ruleset"><input title="@{Artistry3-cs}" type="checkbox" name="attr_Artistry3-cs" value="3" /></span></span>
                            <span class="table-cell">
                                <select title="@{Artistry3-ability}" name="attr_Artistry3-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Artistry3-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Artistry3-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Artistry3-racial}" type="number" name="attr_Artistry3-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry3-trait}" type="number" name="attr_Artistry3-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry3-feat}" type="number" name="attr_Artistry3-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry3-item}" type="number" name="attr_Artistry3-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Artistry3-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Artistry3-misc}" type="text" name="attr_Artistry3-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Artistry3-misc-mod}" type="number" class="calc" readonly name="attr_Artistry3-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry3-ReqTrain}" type="checkbox" name="attr_Artistry3-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Artistry3-note}" name="attr_Artistry3-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Artistry3-macro}" name="attr_Artistry3-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{artistry} @{Artistry3-name}}} {{Check=[[ @{skill-query} + [[ @{Artistry3} ]]  ]]}} @{Artistry3-ut} @{skill_options} @{Artistry3-cond-notes} {{generic_note=@{Artistry3-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row artistry bg-only custom-skill-6" data-i18n-list-item="artistry-07">
                            <span class="table-cell"><button title="%{selected|Artistry4-Check}" type="roll" value="@{PC-Whisper} @{Artistry4-macro}" name="roll_Artistry4-Check"></button></span>
                            <span class="table-cell left"><input title="@{Artistry4-name}" style="width:96%;" type="text" name="attr_Artistry4-name" data-i18n-placeholder="artistry" /></span>
                            <span class="table-cell"><input title="@{Artistry4}" type="number" name="attr_Artistry4" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Artistry4-ranks}" type="number" name="attr_Artistry4-ranks" value="0" /></span>
                            <span class="table-cell"><span title="Optional Ruleset"><input title="@{Artistry4-cs}" type="checkbox" name="attr_Artistry4-cs" value="3" /></span></span>
                            <span class="table-cell">
                                <select title="@{Artistry4-ability}" name="attr_Artistry4-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Artistry4-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Artistry4-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Artistry4-racial}" type="number" name="attr_Artistry4-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry4-trait}" type="number" name="attr_Artistry4-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry4-feat}" type="number" name="attr_Artistry4-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry4-item}" type="number" name="attr_Artistry4-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Artistry4-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Artistry4-misc}" type="text" name="attr_Artistry4-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Artistry4-misc-mod}" type="number" class="calc" readonly name="attr_Artistry4-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry4-ReqTrain}" type="checkbox" name="attr_Artistry4-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Artistry4-note}" name="attr_Artistry4-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Artistry4-macro}" name="attr_Artistry4-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{artistry} @{Artistry4-name}}} {{Check=[[ @{skill-query} + [[ @{Artistry4} ]]  ]]}} @{Artistry4-ut} @{skill_options} @{Artistry4-cond-notes} {{generic_note=@{Artistry4-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row artistry bg-only custom-skill-6" data-i18n-list-item="artistry-08">
                            <span class="table-cell"><button title="%{selected|Artistry5-Check}" type="roll" value="@{PC-Whisper} @{Artistry5-macro}" name="roll_Artistry5-Check"></button></span>
                            <span class="table-cell left"><input title="@{Artistry5-name}" style="width:96%;" type="text" name="attr_Artistry5-name" data-i18n-placeholder="artistry" /></span>
                            <span class="table-cell"><input title="@{Artistry5}" type="number" name="attr_Artistry5" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Artistry5-ranks}" type="number" name="attr_Artistry5-ranks" value="0" /></span>
                            <span class="table-cell"><span title="Optional Ruleset"><input title="@{Artistry5-cs}" type="checkbox" name="attr_Artistry5-cs" value="3" /></span></span>
                            <span class="table-cell">
                                <select title="@{Artistry5-ability}" name="attr_Artistry5-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Artistry5-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Artistry5-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Artistry5-racial}" type="number" name="attr_Artistry5-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry5-trait}" type="number" name="attr_Artistry5-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry5-feat}" type="number" name="attr_Artistry5-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry5-item}" type="number" name="attr_Artistry5-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Artistry5-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Artistry5-misc}" type="text" name="attr_Artistry5-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Artistry5-misc-mod}" type="number" class="calc" readonly name="attr_Artistry5-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry5-ReqTrain}" type="checkbox" name="attr_Artistry5-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Artistry5-note}" name="attr_Artistry5-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Artistry5-macro}" name="attr_Artistry5-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{artistry} @{Artistry5-name}}} {{Check=[[ @{skill-query} + [[ @{Artistry5} ]]  ]]}} @{Artistry5-ut} @{skill_options} @{Artistry5-cond-notes} {{generic_note=@{Artistry5-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row artistry bg-only custom-skill-6" data-i18n-list-item="artistry-09">
                            <span class="table-cell"><button title="%{selected|Artistry6-Check}" type="roll" value="@{PC-Whisper} @{Artistry6-macro}" name="roll_Artistry6-Check"></button></span>
                            <span class="table-cell left"><input title="@{Artistry6-name}" style="width:96%;" type="text" name="attr_Artistry6-name" data-i18n-placeholder="artistry" /></span>
                            <span class="table-cell"><input title="@{Artistry6}" type="number" name="attr_Artistry6" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Artistry6-ranks}" type="number" name="attr_Artistry6-ranks" value="0" /></span>
                            <span class="table-cell"><span title="Optional Ruleset"><input title="@{Artistry6-cs}" type="checkbox" name="attr_Artistry6-cs" value="3" /></span></span>
                            <span class="table-cell">
                                <select title="@{Artistry6-ability}" name="attr_Artistry6-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Artistry6-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Artistry6-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Artistry6-racial}" type="number" name="attr_Artistry6-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry6-trait}" type="number" name="attr_Artistry6-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry6-feat}" type="number" name="attr_Artistry6-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry6-item}" type="number" name="attr_Artistry6-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Artistry6-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Artistry6-misc}" type="text" name="attr_Artistry6-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Artistry6-misc-mod}" type="number" class="calc" readonly name="attr_Artistry6-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry6-ReqTrain}" type="checkbox" name="attr_Artistry6-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Artistry6-note}" name="attr_Artistry6-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Artistry6-macro}" name="attr_Artistry6-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{artistry} @{Artistry6-name}}} {{Check=[[ @{skill-query} + [[ @{Artistry6} ]]  ]]}} @{Artistry6-ut} @{skill_options} @{Artistry6-cond-notes} {{generic_note=@{Artistry6-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row artistry bg-only custom-skill-10" data-i18n-list-item="artistry-10">
                            <span class="table-cell"><button title="%{selected|Artistry7-Check}" type="roll" value="@{PC-Whisper} @{Artistry7-macro}" name="roll_Artistry7-Check"></button></span>
                            <span class="table-cell left"><input title="@{Artistry7-name}" style="width:96%;" type="text" name="attr_Artistry7-name" data-i18n-placeholder="artistry" /></span>
                            <span class="table-cell"><input title="@{Artistry7}" type="number" name="attr_Artistry7" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Artistry7-ranks}" type="number" name="attr_Artistry7-ranks" value="0" /></span>
                            <span class="table-cell"><span title="Optional Ruleset"><input title="@{Artistry7-cs}" type="checkbox" name="attr_Artistry7-cs" value="3" /></span></span>
                            <span class="table-cell">
                                <select title="@{Artistry7-ability}" name="attr_Artistry7-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Artistry7-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Artistry7-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Artistry7-racial}" type="number" name="attr_Artistry7-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry7-trait}" type="number" name="attr_Artistry7-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry7-feat}" type="number" name="attr_Artistry7-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry7-item}" type="number" name="attr_Artistry7-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Artistry7-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Artistry7-misc}" type="text" name="attr_Artistry7-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Artistry7-misc-mod}" type="number" class="calc" readonly name="attr_Artistry7-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry7-ReqTrain}" type="checkbox" name="attr_Artistry7-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Artistry7-note}" name="attr_Artistry7-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Artistry7-macro}" name="attr_Artistry7-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{artistry} @{Artistry7-name}}} {{Check=[[ @{skill-query} + [[ @{Artistry7} ]]  ]]}} @{Artistry7-ut} @{skill_options} @{Artistry7-cond-notes} {{generic_note=@{Artistry7-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row artistry bg-only custom-skill-10" data-i18n-list-item="artistry-11">
                            <span class="table-cell"><button title="%{selected|Artistry8-Check}" type="roll" value="@{PC-Whisper} @{Artistry8-macro}" name="roll_Artistry8-Check"></button></span>
                            <span class="table-cell left"><input title="@{Artistry8-name}" style="width:96%;" type="text" name="attr_Artistry8-name" data-i18n-placeholder="artistry" /></span>
                            <span class="table-cell"><input title="@{Artistry8}" type="number" name="attr_Artistry8" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Artistry8-ranks}" type="number" name="attr_Artistry8-ranks" value="0" /></span>
                            <span class="table-cell"><span title="Optional Ruleset"><input title="@{Artistry8-cs}" type="checkbox" name="attr_Artistry8-cs" value="3" /></span></span>
                            <span class="table-cell">
                                <select title="@{Artistry8-ability}" name="attr_Artistry8-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Artistry8-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Artistry8-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Artistry8-racial}" type="number" name="attr_Artistry8-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry8-trait}" type="number" name="attr_Artistry8-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry8-feat}" type="number" name="attr_Artistry8-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry8-item}" type="number" name="attr_Artistry8-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Artistry8-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Artistry8-misc}" type="text" name="attr_Artistry8-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Artistry8-misc-mod}" type="number" class="calc" readonly name="attr_Artistry8-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry8-ReqTrain}" type="checkbox" name="attr_Artistry8-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Artistry8-note}" name="attr_Artistry8-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Artistry8-macro}" name="attr_Artistry8-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{artistry} @{Artistry8-name}}} {{Check=[[ @{skill-query} + [[ @{Artistry8} ]]  ]]}} @{Artistry8-ut} @{skill_options} @{Artistry8-cond-notes} {{generic_note=@{Artistry8-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row artistry bg-only custom-skill-10" data-i18n-list-item="artistry-12">
                            <span class="table-cell"><button title="%{selected|Artistry9-Check}" type="roll" value="@{PC-Whisper} @{Artistry9-macro}" name="roll_Artistry9-Check"></button></span>
                            <span class="table-cell left"><input title="@{Artistry9-name}" style="width:96%;" type="text" name="attr_Artistry9-name" data-i18n-placeholder="artistry" /></span>
                            <span class="table-cell"><input title="@{Artistry9}" type="number" name="attr_Artistry9" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Artistry9-ranks}" type="number" name="attr_Artistry9-ranks" value="0" /></span>
                            <span class="table-cell"><span title="Optional Ruleset"><input title="@{Artistry9-cs}" type="checkbox" name="attr_Artistry9-cs" value="3" /></span></span>
                            <span class="table-cell">
                                <select title="@{Artistry9-ability}" name="attr_Artistry9-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Artistry9-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Artistry9-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Artistry9-racial}" type="number" name="attr_Artistry9-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry9-trait}" type="number" name="attr_Artistry9-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry9-feat}" type="number" name="attr_Artistry9-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry9-item}" type="number" name="attr_Artistry9-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Artistry9-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Artistry9-misc}" type="text" name="attr_Artistry9-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Artistry9-misc-mod}" type="number" class="calc" readonly name="attr_Artistry9-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry9-ReqTrain}" type="checkbox" name="attr_Artistry9-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Artistry9-note}" name="attr_Artistry9-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Artistry9-macro}" name="attr_Artistry9-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{artistry} @{Artistry9-name}}} {{Check=[[ @{skill-query} + [[ @{Artistry9} ]]  ]]}} @{Artistry9-ut} @{skill_options} @{Artistry9-cond-notes} {{generic_note=@{Artistry9-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row artistry bg-only custom-skill-10" data-i18n-list-item="artistry-13">
                            <span class="table-cell"><button title="%{selected|Artistry10-Check}" type="roll" value="@{PC-Whisper} @{Artistry10-macro}" name="roll_Artistry10-Check"></button></span>
                            <span class="table-cell left"><input title="@{Artistry10-name}" style="width:96%;" type="text" name="attr_Artistry10-name" data-i18n-placeholder="artistry" /></span>
                            <span class="table-cell"><input title="@{Artistry10}" type="number" name="attr_Artistry10" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Artistry10-ranks}" type="number" name="attr_Artistry10-ranks" value="0" /></span>
                            <span class="table-cell"><span title="Optional Ruleset"><input title="@{Artistry10-cs}" type="checkbox" name="attr_Artistry10-cs" value="3" /></span></span>
                            <span class="table-cell">
                                <select title="@{Artistry10-ability}" name="attr_Artistry10-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Artistry10-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Artistry10-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Artistry10-racial}" type="number" name="attr_Artistry10-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry10-trait}" type="number" name="attr_Artistry10-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry10-feat}" type="number" name="attr_Artistry10-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry10-item}" type="number" name="attr_Artistry10-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Artistry10-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Artistry10-misc}" type="text" name="attr_Artistry10-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Artistry10-misc-mod}" type="number" class="calc" readonly name="attr_Artistry10-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Artistry10-ReqTrain}" type="checkbox" name="attr_Artistry10-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Artistry10-note}" name="attr_Artistry10-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Artistry10-macro}" name="attr_Artistry10-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{artistry} @{Artistry10-name}}} {{Check=[[ @{skill-query} + [[ @{Artistry10} ]]  ]]}} @{Artistry10-ut} @{skill_options} @{Artistry10-cond-notes} {{generic_note=@{Artistry10-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row adventure" data-i18n-list-item="bluff">
                            <span class="table-cell"><button title="%{selected|Bluff-Check}" type="roll" value="@{PC-Whisper} @{Bluff-macro}" name="roll_Bluff-Check"></button></span>
                            <span class="table-cell left" data-i18n="bluff">Bluff</span>
                            <span class="table-cell"><input title="@{Bluff}" type="number" name="attr_Bluff" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Bluff-ranks}" type="number" name="attr_Bluff-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Bluff-cs}" type="checkbox" name="attr_Bluff-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Bluff-ability}" name="attr_Bluff-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Bluff-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Bluff-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Bluff-racial}" type="number" name="attr_Bluff-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Bluff-trait}" type="number" name="attr_Bluff-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Bluff-feat}" type="number" name="attr_Bluff-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Bluff-item}" type="number" name="attr_Bluff-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Bluff-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Bluff-misc}" type="text" name="attr_Bluff-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Bluff-misc-mod}" type="number" class="calc" readonly name="attr_Bluff-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Bluff-ReqTrain}" type="checkbox" name="attr_Bluff-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Bluff-note}" name="attr_Bluff-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Bluff-macro}" name="attr_Bluff-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{bluff}}} {{Check=[[ @{skill-query} + [[ @{Bluff} ]]  ]]}} @{Bluff-ut} @{skill_options} @{Bluff-cond-notes} {{generic_note=@{Bluff-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row adventure" data-i18n-list-item="climb">
                            <span class="table-cell"><button title="%{selected|Climb-Check}" type="roll" value="@{PC-Whisper} @{Climb-macro}" name="roll_Climb-Check"></button></span>
                            <span class="table-cell left" data-i18n="climb">Climb</span>
                            <span class="table-cell"><input title="@{Climb}" type="number" name="attr_Climb" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Climb-ranks}" type="number" name="attr_Climb-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Climb-cs}" type="checkbox" name="attr_Climb-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Climb-ability}" name="attr_Climb-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv-default" selected>&#8226;STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Climb-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Climb-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Climb-racial}" type="number" name="attr_Climb-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Climb-trait}" type="number" name="attr_Climb-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Climb-feat}" type="number" name="attr_Climb-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Climb-item}" type="number" name="attr_Climb-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Climb-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Climb-misc}" type="text" name="attr_Climb-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Climb-misc-mod}" type="number" class="calc" readonly name="attr_Climb-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Climb-ReqTrain}" type="checkbox" name="attr_Climb-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Climb-note}" name="attr_Climb-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Climb-macro}" name="attr_Climb-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{climb}}} {{Check=[[ @{skill-query} + [[ @{Climb} ]]  ]]}} @{Climb-ut} @{skill_options} @{Climb-cond-notes} {{generic_note=@{Climb-note}}}</textarea>
                            </details>
                        </div>
                        <span class="custom-skill-2 table-cell bg" data-i18n-list-item="craft"> </span>
                        <input class="custom-skill-2 showarrow craft-show bg" data-i18n-list-item="craft-00" type="checkbox" name="attr_craft-show" data-i18n-aria-label="craft" data-i18n-title="showsect-cmd" value="1" checked />
                        <label class="custom-skill-2 showsect bg skill-minishow" data-i18n-list-item="craft-01" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="craft">Craft</label>
                        <span class="custom-skill-2 bg" data-i18n-list-item="craft-02"></span>
                        <div class="custom-skill-2 table-row bg" data-i18n-list-item="craft-03">
                            <!--used to keep these sections from collapsing on each other when hidden-->
                        </div>
                        <div class="table-row craft bg" data-i18n-list-item="craft-04">
                            <span class="table-cell"><button title="%{selected|Craft-Check}" type="roll" value="@{PC-Whisper} @{Craft-macro}" name="roll_Craft-Check"></button></span>
                            <span class="table-cell left"><input title="@{Craft-name}" style="width:96%;" type="text" name="attr_Craft-name" data-i18n-placeholder="craft" /></span>
                            <span class="table-cell"><input title="@{Craft}" type="number" name="attr_Craft" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Craft-ranks}" type="number" name="attr_Craft-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft-cs}" type="checkbox" name="attr_Craft-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Craft-ability}" name="attr_Craft-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Craft-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Craft-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Craft-racial}" type="number" name="attr_Craft-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft-trait}" type="number" name="attr_Craft-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft-feat}" type="number" name="attr_Craft-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft-item}" type="number" name="attr_Craft-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Craft-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Craft-misc}" type="text" name="attr_Craft-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Craft-misc-mod}" type="number" class="calc" readonly name="attr_Craft-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft-ReqTrain}" type="checkbox" name="attr_Craft-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Craft-note}" name="attr_Craft-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Craft-macro}" name="attr_Craft-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{craft} @{Craft-name}}} {{Check=[[ @{skill-query} + [[ @{Craft} ]]  ]]}} @{Craft-ut} @{skill_options} @{Craft-cond-notes} {{generic_note=@{Craft-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row craft bg custom-skill-2" data-i18n-list-item="craft-05">
                            <span class="table-cell"><button title="%{selected|Craft2-Check}" type="roll" value="@{PC-Whisper} @{Craft2-macro}" name="roll_Craft2-Check"></button></span>
                            <span class="table-cell left"><input title="@{Craft2-name}" style="width:96%;" type="text" name="attr_Craft2-name" data-i18n-placeholder="craft" /></span>
                            <span class="table-cell"><input title="@{Craft2}" type="number" name="attr_Craft2" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Craft2-ranks}" type="number" name="attr_Craft2-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft2-cs}" type="checkbox" name="attr_Craft2-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Craft2-ability}" name="attr_Craft2-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Craft2-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Craft2-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Craft2-racial}" type="number" name="attr_Craft2-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft2-trait}" type="number" name="attr_Craft2-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft2-feat}" type="number" name="attr_Craft2-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft2-item}" type="number" name="attr_Craft2-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Craft2-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Craft2-misc}" type="text" name="attr_Craft2-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Craft2-misc-mod}" type="number" class="calc" readonly name="attr_Craft2-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft2-ReqTrain}" type="checkbox" name="attr_Craft2-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Craft2-note}" name="attr_Craft2-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Craft2-macro}" name="attr_Craft2-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{craft} @{Craft2-name}}} {{Check=[[ @{skill-query} + [[ @{Craft2} ]]  ]]}} @{Craft2-ut} @{skill_options} @{Craft2-cond-notes} {{generic_note=@{Craft2-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row craft bg custom-skill-3" data-i18n-list-item="craft-06">
                            <span class="table-cell"><button title="%{selected|Craft3-Check}" type="roll" value="@{PC-Whisper} @{Craft3-macro}" name="roll_Craft3-Check"></button></span>
                            <span class="table-cell left"><input title="@{Craft3-name}" style="width:96%;" type="text" name="attr_Craft3-name" data-i18n-placeholder="craft" /></span>
                            <span class="table-cell"><input title="@{Craft3}" type="number" name="attr_Craft3" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Craft3-ranks}" type="number" name="attr_Craft3-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft3-cs}" type="checkbox" name="attr_Craft3-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Craft3-ability}" name="attr_Craft3-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Craft3-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Craft3-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Craft3-racial}" type="number" name="attr_Craft3-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft3-trait}" type="number" name="attr_Craft3-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft3-feat}" type="number" name="attr_Craft3-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft3-item}" type="number" name="attr_Craft3-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Craft3-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Craft3-misc}" type="text" name="attr_Craft3-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Craft3-misc-mod}" type="number" class="calc" readonly name="attr_Craft3-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft3-ReqTrain}" type="checkbox" name="attr_Craft3-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Craft3-note}" name="attr_Craft3-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Craft3-macro}" name="attr_Craft3-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{craft} @{Craft3-name}}} {{Check=[[ @{skill-query} + [[ @{Craft3} ]]  ]]}} @{Craft3-ut} @{skill_options} @{Craft3-cond-notes} {{generic_note=@{Craft3-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row craft bg custom-skill-6" data-i18n-list-item="craft-07">
                            <span class="table-cell"><button title="%{selected|Craft4-Check}" type="roll" value="@{PC-Whisper} @{Craft4-macro}" name="roll_Craft4-Check"></button></span>
                            <span class="table-cell left"><input title="@{Craft4-name}" style="width:96%;" type="text" name="attr_Craft4-name" data-i18n-placeholder="craft" /></span>
                            <span class="table-cell"><input title="@{Craft4}" type="number" name="attr_Craft4" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Craft4-ranks}" type="number" name="attr_Craft4-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft4-cs}" type="checkbox" name="attr_Craft4-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Craft4-ability}" name="attr_Craft4-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Craft4-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Craft4-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Craft4-racial}" type="number" name="attr_Craft4-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft4-trait}" type="number" name="attr_Craft4-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft4-feat}" type="number" name="attr_Craft4-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft4-item}" type="number" name="attr_Craft4-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Craft4-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Craft4-misc}" type="text" name="attr_Craft4-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Craft4-misc-mod}" type="number" class="calc" readonly name="attr_Craft4-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft4-ReqTrain}" type="checkbox" name="attr_Craft4-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Craft4-note}" name="attr_Craft4-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Craft4-macro}" name="attr_Craft4-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{craft} @{Craft4-name}}} {{Check=[[ @{skill-query} + [[ @{Craft4} ]]  ]]}} @{Craft4-ut} @{skill_options} @{Craft4-cond-notes} {{generic_note=@{Craft4-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row craft bg custom-skill-6" data-i18n-list-item="craft-08">
                            <span class="table-cell"><button title="%{selected|Craft5-Check}" type="roll" value="@{PC-Whisper} @{Craft5-macro}" name="roll_Craft5-Check"></button></span>
                            <span class="table-cell left"><input title="@{Craft5-name}" style="width:96%;" type="text" name="attr_Craft5-name" data-i18n-placeholder="craft" /></span>
                            <span class="table-cell"><input title="@{Craft5}" type="number" name="attr_Craft5" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Craft5-ranks}" type="number" name="attr_Craft5-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft5-cs}" type="checkbox" name="attr_Craft5-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Craft5-ability}" name="attr_Craft5-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Craft5-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Craft5-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Craft5-racial}" type="number" name="attr_Craft5-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft5-trait}" type="number" name="attr_Craft5-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft5-feat}" type="number" name="attr_Craft5-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft5-item}" type="number" name="attr_Craft5-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Craft5-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Craft5-misc}" type="text" name="attr_Craft5-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Craft5-misc-mod}" type="number" class="calc" readonly name="attr_Craft5-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft5-ReqTrain}" type="checkbox" name="attr_Craft5-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Craft5-note}" name="attr_Craft5-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Craft5-macro}" name="attr_Craft5-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{craft} @{Craft5-name}}} {{Check=[[ @{skill-query} + [[ @{Craft5} ]]  ]]}} @{Craft5-ut} @{skill_options} @{Craft5-cond-notes} {{generic_note=@{Craft5-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row craft bg custom-skill-6" data-i18n-list-item="craft-09">
                            <span class="table-cell"><button title="%{selected|Craft6-Check}" type="roll" value="@{PC-Whisper} @{Craft6-macro}" name="roll_Craft6-Check"></button></span>
                            <span class="table-cell left"><input title="@{Craft6-name}" style="width:96%;" type="text" name="attr_Craft6-name" data-i18n-placeholder="craft" /></span>
                            <span class="table-cell"><input title="@{Craft6}" type="number" name="attr_Craft6" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Craft6-ranks}" type="number" name="attr_Craft6-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft6-cs}" type="checkbox" name="attr_Craft6-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Craft6-ability}" name="attr_Craft6-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Craft6-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Craft6-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Craft6-racial}" type="number" name="attr_Craft6-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft6-trait}" type="number" name="attr_Craft6-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft6-feat}" type="number" name="attr_Craft6-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft6-item}" type="number" name="attr_Craft6-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Craft6-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Craft6-misc}" type="text" name="attr_Craft6-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Craft6-misc-mod}" type="number" class="calc" readonly name="attr_Craft6-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft6-ReqTrain}" type="checkbox" name="attr_Craft6-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Craft6-note}" name="attr_Craft6-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Craft6-macro}" name="attr_Craft6-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{craft} @{Craft6-name}}} {{Check=[[ @{skill-query} + [[ @{Craft6} ]]  ]]}} @{Craft6-ut} @{skill_options} @{Craft6-cond-notes} {{generic_note=@{Craft6-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row craft bg custom-skill-10" data-i18n-list-item="craft-10">
                            <span class="table-cell"><button title="%{selected|Craft7-Check}" type="roll" value="@{PC-Whisper} @{Craft7-macro}" name="roll_Craft7-Check"></button></span>
                            <span class="table-cell left"><input title="@{Craft7-name}" style="width:96%;" type="text" name="attr_Craft7-name" data-i18n-placeholder="craft" /></span>
                            <span class="table-cell"><input title="@{Craft7}" type="number" name="attr_Craft7" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Craft7-ranks}" type="number" name="attr_Craft7-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft7-cs}" type="checkbox" name="attr_Craft7-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Craft7-ability}" name="attr_Craft7-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Craft7-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Craft7-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Craft7-racial}" type="number" name="attr_Craft7-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft7-trait}" type="number" name="attr_Craft7-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft7-feat}" type="number" name="attr_Craft7-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft7-item}" type="number" name="attr_Craft7-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Craft7-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Craft7-misc}" type="text" name="attr_Craft7-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Craft7-misc-mod}" type="number" class="calc" readonly name="attr_Craft7-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft7-ReqTrain}" type="checkbox" name="attr_Craft7-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Craft7-note}" name="attr_Craft7-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Craft7-macro}" name="attr_Craft7-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{craft} @{Craft7-name}}} {{Check=[[ @{skill-query} + [[ @{Craft7} ]]  ]]}} @{Craft7-ut} @{skill_options} @{Craft7-cond-notes} {{generic_note=@{Craft7-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row craft bg custom-skill-10" data-i18n-list-item="craft-11">
                            <span class="table-cell"><button title="%{selected|Craft8-Check}" type="roll" value="@{PC-Whisper} @{Craft8-macro}" name="roll_Craft8-Check"></button></span>
                            <span class="table-cell left"><input title="@{Craft8-name}" style="width:96%;" type="text" name="attr_Craft8-name" data-i18n-placeholder="craft" /></span>
                            <span class="table-cell"><input title="@{Craft8}" type="number" name="attr_Craft8" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Craft8-ranks}" type="number" name="attr_Craft8-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft8-cs}" type="checkbox" name="attr_Craft8-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Craft8-ability}" name="attr_Craft8-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Craft8-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Craft8-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Craft8-racial}" type="number" name="attr_Craft8-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft8-trait}" type="number" name="attr_Craft8-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft8-feat}" type="number" name="attr_Craft8-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft8-item}" type="number" name="attr_Craft8-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Craft8-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Craft8-misc}" type="text" name="attr_Craft8-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Craft8-misc-mod}" type="number" class="calc" readonly name="attr_Craft8-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft8-ReqTrain}" type="checkbox" name="attr_Craft8-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Craft8-note}" name="attr_Craft8-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Craft8-macro}" name="attr_Craft8-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{craft} @{Craft8-name}}} {{Check=[[ @{skill-query} + [[ @{Craft8} ]]  ]]}} @{Craft8-ut} @{skill_options} @{Craft8-cond-notes} {{generic_note=@{Craft8-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row craft bg custom-skill-10" data-i18n-list-item="craft-12">
                            <span class="table-cell"><button title="%{selected|Craft9-Check}" type="roll" value="@{PC-Whisper} @{Craft9-macro}" name="roll_Craft9-Check"></button></span>
                            <span class="table-cell left"><input title="@{Craft9-name}" style="width:96%;" type="text" name="attr_Craft9-name" data-i18n-placeholder="craft" /></span>
                            <span class="table-cell"><input title="@{Craft9}" type="number" name="attr_Craft9" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Craft9-ranks}" type="number" name="attr_Craft9-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft9-cs}" type="checkbox" name="attr_Craft9-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Craft9-ability}" name="attr_Craft9-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Craft9-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Craft9-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Craft9-racial}" type="number" name="attr_Craft9-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft9-trait}" type="number" name="attr_Craft9-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft9-feat}" type="number" name="attr_Craft9-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft9-item}" type="number" name="attr_Craft9-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Craft9-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Craft9-misc}" type="text" name="attr_Craft9-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Craft9-misc-mod}" type="number" class="calc" readonly name="attr_Craft9-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft9-ReqTrain}" type="checkbox" name="attr_Craft9-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Craft9-note}" name="attr_Craft9-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Craft9-macro}" name="attr_Craft9-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{craft} @{Craft9-name}}} {{Check=[[ @{skill-query} + [[ @{Craft9} ]]  ]]}} @{Craft9-ut} @{skill_options} @{Craft9-cond-notes} {{generic_note=@{Craft9-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row craft bg custom-skill-10" data-i18n-list-item="craft-13">
                            <span class="table-cell"><button title="%{selected|Craft10-Check}" type="roll" value="@{PC-Whisper} @{Craft10-macro}" name="roll_Craft10-Check"></button></span>
                            <span class="table-cell left"><input title="@{Craft10-name}" style="width:96%;" type="text" name="attr_Craft10-name" data-i18n-placeholder="craft" /></span>
                            <span class="table-cell"><input title="@{Craft10}" type="number" name="attr_Craft10" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Craft10-ranks}" type="number" name="attr_Craft10-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft10-cs}" type="checkbox" name="attr_Craft10-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Craft10-ability}" name="attr_Craft10-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Craft10-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Craft10-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Craft10-racial}" type="number" name="attr_Craft10-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft10-trait}" type="number" name="attr_Craft10-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft10-feat}" type="number" name="attr_Craft10-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft10-item}" type="number" name="attr_Craft10-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Craft10-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Craft10-misc}" type="text" name="attr_Craft10-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Craft10-misc-mod}" type="number" class="calc" readonly name="attr_Craft10-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Craft10-ReqTrain}" type="checkbox" name="attr_Craft10-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Craft10-note}" name="attr_Craft10-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Craft10-macro}" name="attr_Craft10-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{craft} @{Craft10-name}}} {{Check=[[ @{skill-query} + [[ @{Craft10} ]]  ]]}} @{Craft10-ut} @{skill_options} @{Craft10-cond-notes} {{generic_note=@{Craft10-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row adventure" data-i18n-list-item="diplomacy">
                            <span class="table-cell"><button title="%{selected|Diplomacy-Check}" type="roll" value="@{PC-Whisper} @{Diplomacy-macro}" name="roll_Diplomacy-Check"></button></span>
                            <span class="table-cell left" data-i18n="diplomacy">Diplomacy</span>
                            <span class="table-cell"><input title="@{Diplomacy}" type="number" name="attr_Diplomacy" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Diplomacy-ranks}" type="number" name="attr_Diplomacy-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Diplomacy-cs}" type="checkbox" name="attr_Diplomacy-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Diplomacy-ability}" name="attr_Diplomacy-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Diplomacy-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Diplomacy-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Diplomacy-racial}" type="number" name="attr_Diplomacy-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Diplomacy-trait}" type="number" name="attr_Diplomacy-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Diplomacy-feat}" type="number" name="attr_Diplomacy-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Diplomacy-item}" type="number" name="attr_Diplomacy-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Diplomacy-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Diplomacy-misc}" type="text" name="attr_Diplomacy-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Diplomacy-misc-mod}" type="number" class="calc" readonly name="attr_Diplomacy-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Diplomacy-ReqTrain}" type="checkbox" name="attr_Diplomacy-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Diplomacy-note}" name="attr_Diplomacy-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Diplomacy-macro}" name="attr_Diplomacy-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{diplomacy}}} {{Check=[[ @{skill-query} + [[ @{Diplomacy} ]]  ]]}} @{Diplomacy-ut} @{skill_options} @{Diplomacy-cond-notes} {{generic_note=@{Diplomacy-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row adventure" data-i18n-list-item="disable-device">
                            <span class="table-cell"><button title="%{selected|Disable-Device-Check}" type="roll" value="@{PC-Whisper} @{Disable-Device-macro}" name="roll_Disable-Device-Check"></button></span>
                            <span class="table-cell left" data-i18n="disable-device">Disable-Device</span>
                            <span class="table-cell"><input title="@{Disable-Device}" type="number" name="attr_Disable-Device" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Disable-Device-ranks}" type="number" name="attr_Disable-Device-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Disable-Device-cs}" type="checkbox" name="attr_Disable-Device-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Disable-Device-ability}" name="attr_Disable-Device-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Disable-Device-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Disable-Device-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Disable-Device-racial}" type="number" name="attr_Disable-Device-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Disable-Device-trait}" type="number" name="attr_Disable-Device-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Disable-Device-feat}" type="number" name="attr_Disable-Device-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Disable-Device-item}" type="number" name="attr_Disable-Device-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Disable-Device-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Disable-Device-misc}" type="text" name="attr_Disable-Device-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Disable-Device-misc-mod}" type="number" class="calc" readonly name="attr_Disable-Device-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Disable-Device-ReqTrain}" type="checkbox" name="attr_Disable-Device-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Disable-Device-note}" name="attr_Disable-Device-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Disable-Device-macro}" name="attr_Disable-Device-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{disable-device}}} {{Check=[[ @{skill-query} + [[ @{Disable-Device} ]]  ]]}} @{Disable-Device-ut} @{skill_options} @{Disable-Device-cond-notes} {{generic_note=@{Disable-Device-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row adventure" data-i18n-list-item="disguise">
                            <span class="table-cell"><button title="%{selected|Disguise-Check}" type="roll" value="@{PC-Whisper} @{Disguise-macro}" name="roll_Disguise-Check"></button></span>
                            <span class="table-cell left" data-i18n="disguise">Disguise</span>
                            <span class="table-cell"><input title="@{Disguise}" type="number" name="attr_Disguise" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Disguise-ranks}" type="number" name="attr_Disguise-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Disguise-cs}" type="checkbox" name="attr_Disguise-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Disguise-ability}" name="attr_Disguise-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Disguise-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Disguise-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Disguise-racial}" type="number" name="attr_Disguise-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Disguise-trait}" type="number" name="attr_Disguise-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Disguise-feat}" type="number" name="attr_Disguise-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Disguise-item}" type="number" name="attr_Disguise-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Disguise-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Disguise-misc}" type="text" name="attr_Disguise-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Disguise-misc-mod}" type="number" class="calc" readonly name="attr_Disguise-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Disguise-ReqTrain}" type="checkbox" name="attr_Disguise-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Disguise-note}" name="attr_Disguise-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Disguise-macro}" name="attr_Disguise-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{disguise}}} {{Check=[[ @{skill-query} + [[ @{Disguise} ]]  ]]}} @{Disguise-ut} @{skill_options} @{Disguise-cond-notes} {{generic_note=@{Disguise-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row adventure" data-i18n-list-item="escape-artist">
                            <span class="table-cell"><button title="%{selected|Escape-Artist-Check}" type="roll" value="@{PC-Whisper} @{Escape-Artist-macro}" name="roll_Escape-Artist-Check"></button></span>
                            <span class="table-cell left" data-i18n="escape-artist">Escape-Artist</span>
                            <span class="table-cell"><input title="@{Escape-Artist}" type="number" name="attr_Escape-Artist" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Escape-Artist-ranks}" type="number" name="attr_Escape-Artist-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Escape-Artist-cs}" type="checkbox" name="attr_Escape-Artist-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Escape-Artist-ability}" name="attr_Escape-Artist-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Escape-Artist-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Escape-Artist-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Escape-Artist-racial}" type="number" name="attr_Escape-Artist-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Escape-Artist-trait}" type="number" name="attr_Escape-Artist-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Escape-Artist-feat}" type="number" name="attr_Escape-Artist-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Escape-Artist-item}" type="number" name="attr_Escape-Artist-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Escape-Artist-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Escape-Artist-misc}" type="text" name="attr_Escape-Artist-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Escape-Artist-misc-mod}" type="number" class="calc" readonly name="attr_Escape-Artist-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Escape-Artist-ReqTrain}" type="checkbox" name="attr_Escape-Artist-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Escape-Artist-note}" name="attr_Escape-Artist-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Escape-Artist-macro}" name="attr_Escape-Artist-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{escape-artist}}} {{Check=[[ @{skill-query} + [[ @{Escape-Artist} ]]  ]]}} @{Escape-Artist-ut} @{skill_options} @{Escape-Artist-cond-notes} {{generic_note=@{Escape-Artist-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row adventure" data-i18n-list-item="fly">
                            <span class="table-cell"><button title="%{selected|Fly-Check}" type="roll" value="@{PC-Whisper} @{Fly-macro}" name="roll_Fly-Check"></button></span>
                            <span class="table-cell left"><span data-i18n="fly">Fly</span>*</span>
                            <span class="table-cell"><input title="@{Fly}" type="number" name="attr_Fly" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Fly-ranks}" type="number" name="attr_Fly-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Fly-cs}" type="checkbox" name="attr_Fly-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Fly-ability}" name="attr_Fly-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Fly-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Fly-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Fly-racial}" type="number" name="attr_Fly-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Fly-trait}" type="number" name="attr_Fly-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Fly-feat}" type="number" name="attr_Fly-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Fly-item}" type="number" name="attr_Fly-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Fly-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Fly-misc}" type="text" name="attr_Fly-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Fly-misc-mod}" type="number" class="calc" readonly name="attr_Fly-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Fly-ReqTrain}" type="checkbox" name="attr_Fly-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Fly-note}" name="attr_Fly-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Fly-macro}" name="attr_Fly-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{fly}}} {{Check=[[ @{skill-query} + [[ @{Fly} ]]  ]]}} @{Fly-ut} @{skill_options} @{Fly-cond-notes} {{generic_note=@{Fly-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row bg" data-i18n-list-item="handle-animal">
                            <span class="table-cell"><button title="%{selected|Handle-Animal-Check}" type="roll" value="@{PC-Whisper} @{Handle-Animal-macro}" name="roll_Handle-Animal-Check"></button></span>
                            <span class="table-cell left" data-i18n="handle-animal">Handle-Animal</span>
                            <span class="table-cell"><input title="@{Handle-Animal}" type="number" name="attr_Handle-Animal" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Handle-Animal-ranks}" type="number" name="attr_Handle-Animal-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Handle-Animal-cs}" type="checkbox" name="attr_Handle-Animal-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Handle-Animal-ability}" name="attr_Handle-Animal-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Handle-Animal-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Handle-Animal-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Handle-Animal-racial}" type="number" name="attr_Handle-Animal-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Handle-Animal-trait}" type="number" name="attr_Handle-Animal-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Handle-Animal-feat}" type="number" name="attr_Handle-Animal-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Handle-Animal-item}" type="number" name="attr_Handle-Animal-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Handle-Animal-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Handle-Animal-misc}" type="text" name="attr_Handle-Animal-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Handle-Animal-misc-mod}" type="number" class="calc" readonly name="attr_Handle-Animal-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Handle-Animal-ReqTrain}" type="checkbox" name="attr_Handle-Animal-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Handle-Animal-note}" name="attr_Handle-Animal-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Handle-Animal-macro}" name="attr_Handle-Animal-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{handle-animal}}} {{Check=[[ @{skill-query} + [[ @{Handle-Animal} ]]  ]]}} @{Handle-Animal-ut} @{skill_options} @{Handle-Animal-cond-notes} {{generic_note=@{Handle-Animal-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row adventure" data-i18n-list-item="heal">
                            <span class="table-cell"><button title="%{selected|Heal-Check}" type="roll" value="@{PC-Whisper} @{Heal-macro}" name="roll_Heal-Check"></button></span>
                            <span class="table-cell left" data-i18n="heal">Heal</span>
                            <span class="table-cell"><input title="@{Heal}" type="number" name="attr_Heal" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Heal-ranks}" type="number" name="attr_Heal-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Heal-cs}" type="checkbox" name="attr_Heal-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Heal-ability}" name="attr_Heal-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Heal-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Heal-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Heal-racial}" type="number" name="attr_Heal-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Heal-trait}" type="number" name="attr_Heal-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Heal-feat}" type="number" name="attr_Heal-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Heal-item}" type="number" name="attr_Heal-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Heal-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Heal-misc}" type="text" name="attr_Heal-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Heal-misc-mod}" type="number" class="calc" readonly name="attr_Heal-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Heal-ReqTrain}" type="checkbox" name="attr_Heal-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Heal-note}" name="attr_Heal-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Heal-macro}" name="attr_Heal-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{heal}}} {{Check=[[ @{skill-query} + [[ @{Heal} ]]  ]]}} @{Heal-ut} @{skill_options} @{Heal-cond-notes} {{generic_note=@{Heal-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row adventure" data-i18n-list-item="intimidate">
                            <span class="table-cell"><button title="%{selected|Intimidate-Check}" type="roll" value="@{PC-Whisper} @{Intimidate-macro}" name="roll_Intimidate-Check"></button></span>
                            <span class="table-cell left" data-i18n="intimidate">Intimidate</span>
                            <span class="table-cell"><input title="@{Intimidate}" type="number" name="attr_Intimidate" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Intimidate-ranks}" type="number" name="attr_Intimidate-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Intimidate-cs}" type="checkbox" name="attr_Intimidate-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Intimidate-ability}" name="attr_Intimidate-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Intimidate-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Intimidate-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Intimidate-racial}" type="number" name="attr_Intimidate-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Intimidate-trait}" type="number" name="attr_Intimidate-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Intimidate-feat}" type="number" name="attr_Intimidate-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Intimidate-item}" type="number" name="attr_Intimidate-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Intimidate-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Intimidate-misc}" type="text" name="attr_Intimidate-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Intimidate-misc-mod}" type="number" class="calc" readonly name="attr_Intimidate-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Intimidate-ReqTrain}" type="checkbox" name="attr_Intimidate-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Intimidate-note}" name="attr_Intimidate-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Intimidate-macro}" name="attr_Intimidate-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{intimidate}}} {{Check=[[ @{skill-query} + [[ @{Intimidate} ]]  ]]}} @{Intimidate-ut} @{skill_options} @{Intimidate-cond-notes} {{generic_note=@{Intimidate-note}}}</textarea>
                            </details>
                        </div>
                        <span class="table-cell adventure bg" data-i18n-list-item="knowledge"> </span>
                        <input class="showarrow knowledge-show adventure bg" data-i18n-list-item="knowledge-00" type="checkbox" name="attr_knowledge-show" data-i18n-aria-label="knowledge" data-i18n-title="showsect-cmd" value="1" checked />
                        <label class="showsect skill-minishow adventure bg" data-i18n-list-item="knowledge-01" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="knowledge">Knowledge</label>
                        <span class="adventure bg" data-i18n-list-item="knowledge-02"></span>
                        <div class="table-row adventure bg" data-i18n-list-item="knowledge-03">
                            <!--used to keep these sections from collapsing on each other when hidden-->
                        </div>
                        <div class="table-row knowledge adventure" data-i18n-list-item="knowledge-arcana">
                            <span class="table-cell"><button title="%{selected|Knowledge-Arcana-Check}" type="roll" value="@{PC-Whisper} @{Knowledge-Arcana-macro}" name="roll_Knowledge-Arcana-Check"></button></span>
                            <span class="table-cell left" data-i18n="knowledge-arcana">Knowledge (Arcana)</span>
                            <span class="table-cell"><input title="@{Knowledge-Arcana}" type="number" name="attr_Knowledge-Arcana" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Knowledge-Arcana-ranks}" type="number" name="attr_Knowledge-Arcana-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Arcana-cs}" type="checkbox" name="attr_Knowledge-Arcana-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Knowledge-Arcana-ability}" name="attr_Knowledge-Arcana-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Knowledge-Arcana-racial}" type="number" name="attr_Knowledge-Arcana-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Arcana-trait}" type="number" name="attr_Knowledge-Arcana-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Arcana-feat}" type="number" name="attr_Knowledge-Arcana-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Arcana-item}" type="number" name="attr_Knowledge-Arcana-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Knowledge-Arcana-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Knowledge-Arcana-misc}" type="text" name="attr_Knowledge-Arcana-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Knowledge-Arcana-misc-mod}" type="number" class="calc" readonly name="attr_Knowledge-Arcana-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Arcana-ReqTrain}" type="checkbox" name="attr_Knowledge-Arcana-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Knowledge-Arcana-note}" name="attr_Knowledge-Arcana-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Knowledge-Arcana-macro}" name="attr_Knowledge-Arcana-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{knowledge-arcana}}} {{Check=[[ @{skill-query} + [[ @{Knowledge-Arcana} ]]  ]]}} @{Knowledge-Arcana-ut} @{skill_options} @{Knowledge-Arcana-cond-notes} {{generic_note=@{Knowledge-Arcana-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row knowledge adventure" data-i18n-list-item="knowledge-dungeoneering">
                            <span class="table-cell"><button title="%{selected|Knowledge-Dungeoneering-Check}" type="roll" value="@{PC-Whisper} @{Knowledge-Dungeoneering-macro}" name="roll_Knowledge-Dungeoneering-Check"></button></span>
                            <span class="table-cell left" data-i18n="knowledge-dungeoneering">Knowledge (Dungeoneering)</span>
                            <span class="table-cell"><input title="@{Knowledge-Dungeoneering}" type="number" name="attr_Knowledge-Dungeoneering" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Knowledge-Dungeoneering-ranks}" type="number" name="attr_Knowledge-Dungeoneering-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Dungeoneering-cs}" type="checkbox" name="attr_Knowledge-Dungeoneering-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Knowledge-Dungeoneering-ability}" name="attr_Knowledge-Dungeoneering-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Knowledge-Dungeoneering-racial}" type="number" name="attr_Knowledge-Dungeoneering-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Dungeoneering-trait}" type="number" name="attr_Knowledge-Dungeoneering-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Dungeoneering-feat}" type="number" name="attr_Knowledge-Dungeoneering-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Dungeoneering-item}" type="number" name="attr_Knowledge-Dungeoneering-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Knowledge-Dungeoneering-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Knowledge-Dungeoneering-misc}" type="text" name="attr_Knowledge-Dungeoneering-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Knowledge-Dungeoneering-misc-mod}" type="number" class="calc" readonly name="attr_Knowledge-Dungeoneering-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Dungeoneering-ReqTrain}" type="checkbox" name="attr_Knowledge-Dungeoneering-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Knowledge-Dungeoneering-note}" name="attr_Knowledge-Dungeoneering-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Knowledge-Dungeoneering-macro}" name="attr_Knowledge-Dungeoneering-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{knowledge-dungeoneering}}} {{Check=[[ @{skill-query} + [[ @{Knowledge-Dungeoneering} ]]  ]]}} @{Knowledge-Dungeoneering-ut} @{skill_options} @{Knowledge-Dungeoneering-cond-notes} {{generic_note=@{Knowledge-Dungeoneering-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row knowledge bg" data-i18n-list-item="knowledge-engineering">
                            <span class="table-cell"><button title="%{selected|Knowledge-Engineering-Check}" type="roll" value="@{PC-Whisper} @{Knowledge-Engineering-macro}" name="roll_Knowledge-Engineering-Check"></button></span>
                            <span class="table-cell left" data-i18n="knowledge-engineering">Knowledge (Engineering)</span>
                            <span class="table-cell"><input title="@{Knowledge-Engineering}" type="number" name="attr_Knowledge-Engineering" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Knowledge-Engineering-ranks}" type="number" name="attr_Knowledge-Engineering-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Engineering-cs}" type="checkbox" name="attr_Knowledge-Engineering-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Knowledge-Engineering-ability}" name="attr_Knowledge-Engineering-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Knowledge-Engineering-racial}" type="number" name="attr_Knowledge-Engineering-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Engineering-trait}" type="number" name="attr_Knowledge-Engineering-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Engineering-feat}" type="number" name="attr_Knowledge-Engineering-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Engineering-item}" type="number" name="attr_Knowledge-Engineering-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Knowledge-Engineering-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Knowledge-Engineering-misc}" type="text" name="attr_Knowledge-Engineering-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Knowledge-Engineering-misc-mod}" type="number" class="calc" readonly name="attr_Knowledge-Engineering-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Engineering-ReqTrain}" type="checkbox" name="attr_Knowledge-Engineering-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Knowledge-Engineering-note}" name="attr_Knowledge-Engineering-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Knowledge-Engineering-macro}" name="attr_Knowledge-Engineering-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{knowledge-engineering}}} {{Check=[[ @{skill-query} + [[ @{Knowledge-Engineering} ]]  ]]}} @{Knowledge-Engineering-ut} @{skill_options} @{Knowledge-Engineering-cond-notes} {{generic_note=@{Knowledge-Engineering-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row knowledge bg" data-i18n-list-item="knowledge-geography">
                            <span class="table-cell"><button title="%{selected|Knowledge-Geography-Check}" type="roll" value="@{PC-Whisper} @{Knowledge-Geography-macro}" name="roll_Knowledge-Geography-Check"></button></span>
                            <span class="table-cell left" data-i18n="knowledge-geography">Knowledge (Geography)</span>
                            <span class="table-cell"><input title="@{Knowledge-Geography}" type="number" name="attr_Knowledge-Geography" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Knowledge-Geography-ranks}" type="number" name="attr_Knowledge-Geography-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Geography-cs}" type="checkbox" name="attr_Knowledge-Geography-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Knowledge-Geography-ability}" name="attr_Knowledge-Geography-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Knowledge-Geography-racial}" type="number" name="attr_Knowledge-Geography-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Geography-trait}" type="number" name="attr_Knowledge-Geography-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Geography-feat}" type="number" name="attr_Knowledge-Geography-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Geography-item}" type="number" name="attr_Knowledge-Geography-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Knowledge-Geography-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Knowledge-Geography-misc}" type="text" name="attr_Knowledge-Geography-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Knowledge-Geography-misc-mod}" type="number" class="calc" readonly name="attr_Knowledge-Geography-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Geography-ReqTrain}" type="checkbox" name="attr_Knowledge-Geography-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Knowledge-Geography-note}" name="attr_Knowledge-Geography-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Knowledge-Geography-macro}" name="attr_Knowledge-Geography-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{knowledge-geography}}} {{Check=[[ @{skill-query} + [[ @{Knowledge-Geography} ]]  ]]}} @{Knowledge-Geography-ut} @{skill_options} @{Knowledge-Geography-cond-notes} {{generic_note=@{Knowledge-Geography-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row knowledge bg" data-i18n-list-item="knowledge-history">
                            <span class="table-cell"><button title="%{selected|Knowledge-History-Check}" type="roll" value="@{PC-Whisper} @{Knowledge-History-macro}" name="roll_Knowledge-History-Check"></button></span>
                            <span class="table-cell left" data-i18n="knowledge-history">Knowledge (History)</span>
                            <span class="table-cell"><input title="@{Knowledge-History}" type="number" name="attr_Knowledge-History" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Knowledge-History-ranks}" type="number" name="attr_Knowledge-History-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-History-cs}" type="checkbox" name="attr_Knowledge-History-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Knowledge-History-ability}" name="attr_Knowledge-History-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Knowledge-History-racial}" type="number" name="attr_Knowledge-History-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-History-trait}" type="number" name="attr_Knowledge-History-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-History-feat}" type="number" name="attr_Knowledge-History-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-History-item}" type="number" name="attr_Knowledge-History-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Knowledge-History-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Knowledge-History-misc}" type="text" name="attr_Knowledge-History-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Knowledge-History-misc-mod}" type="number" class="calc" readonly name="attr_Knowledge-History-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-History-ReqTrain}" type="checkbox" name="attr_Knowledge-History-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Knowledge-History-note}" name="attr_Knowledge-History-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Knowledge-History-macro}" name="attr_Knowledge-History-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{knowledge-history}}} {{Check=[[ @{skill-query} + [[ @{Knowledge-History} ]]  ]]}} @{Knowledge-History-ut} @{skill_options} @{Knowledge-History-cond-notes} {{generic_note=@{Knowledge-History-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row knowledge adventure" data-i18n-list-item="knowledge-local">
                            <span class="table-cell"><button title="%{selected|Knowledge-Local-Check}" type="roll" value="@{PC-Whisper} @{Knowledge-Local-macro}" name="roll_Knowledge-Local-Check"></button></span>
                            <span class="table-cell left" data-i18n="knowledge-local">Knowledge (Local)</span>
                            <span class="table-cell"><input title="@{Knowledge-Local}" type="number" name="attr_Knowledge-Local" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Knowledge-Local-ranks}" type="number" name="attr_Knowledge-Local-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Local-cs}" type="checkbox" name="attr_Knowledge-Local-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Knowledge-Local-ability}" name="attr_Knowledge-Local-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Knowledge-Local-racial}" type="number" name="attr_Knowledge-Local-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Local-trait}" type="number" name="attr_Knowledge-Local-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Local-feat}" type="number" name="attr_Knowledge-Local-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Local-item}" type="number" name="attr_Knowledge-Local-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Knowledge-Local-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Knowledge-Local-misc}" type="text" name="attr_Knowledge-Local-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Knowledge-Local-misc-mod}" type="number" class="calc" readonly name="attr_Knowledge-Local-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Local-ReqTrain}" type="checkbox" name="attr_Knowledge-Local-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Knowledge-Local-note}" name="attr_Knowledge-Local-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Knowledge-Local-macro}" name="attr_Knowledge-Local-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{knowledge-local}}} {{Check=[[ @{skill-query} + [[ @{Knowledge-Local} ]]  ]]}} @{Knowledge-Local-ut} @{skill_options} @{Knowledge-Local-cond-notes} {{generic_note=@{Knowledge-Local-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row knowledge adventure" data-i18n-list-item="knowledge-nature">
                            <span class="table-cell"><button title="%{selected|Knowledge-Nature-Check}" type="roll" value="@{PC-Whisper} @{Knowledge-Nature-macro}" name="roll_Knowledge-Nature-Check"></button></span>
                            <span class="table-cell left" data-i18n="knowledge-nature">Knowledge (Nature)</span>
                            <span class="table-cell"><input title="@{Knowledge-Nature}" type="number" name="attr_Knowledge-Nature" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Knowledge-Nature-ranks}" type="number" name="attr_Knowledge-Nature-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Nature-cs}" type="checkbox" name="attr_Knowledge-Nature-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Knowledge-Nature-ability}" name="attr_Knowledge-Nature-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Knowledge-Nature-racial}" type="number" name="attr_Knowledge-Nature-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Nature-trait}" type="number" name="attr_Knowledge-Nature-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Nature-feat}" type="number" name="attr_Knowledge-Nature-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Nature-item}" type="number" name="attr_Knowledge-Nature-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Knowledge-Nature-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Knowledge-Nature-misc}" type="text" name="attr_Knowledge-Nature-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Knowledge-Nature-misc-mod}" type="number" class="calc" readonly name="attr_Knowledge-Nature-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Nature-ReqTrain}" type="checkbox" name="attr_Knowledge-Nature-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Knowledge-Nature-note}" name="attr_Knowledge-Nature-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Knowledge-Nature-macro}" name="attr_Knowledge-Nature-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{knowledge-nature}}} {{Check=[[ @{skill-query} + [[ @{Knowledge-Nature} ]]  ]]}} @{Knowledge-Nature-ut} @{skill_options} @{Knowledge-Nature-cond-notes} {{generic_note=@{Knowledge-Nature-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row knowledge bg" data-i18n-list-item="knowledge-nobility">
                            <span class="table-cell"><button title="%{selected|Knowledge-Nobility-Check}" type="roll" value="@{PC-Whisper} @{Knowledge-Nobility-macro}" name="roll_Knowledge-Nobility-Check"></button></span>
                            <span class="table-cell left" data-i18n="knowledge-nobility">Knowledge (Nobility)</span>
                            <span class="table-cell"><input title="@{Knowledge-Nobility}" type="number" name="attr_Knowledge-Nobility" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Knowledge-Nobility-ranks}" type="number" name="attr_Knowledge-Nobility-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Nobility-cs}" type="checkbox" name="attr_Knowledge-Nobility-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Knowledge-Nobility-ability}" name="attr_Knowledge-Nobility-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Knowledge-Nobility-racial}" type="number" name="attr_Knowledge-Nobility-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Nobility-trait}" type="number" name="attr_Knowledge-Nobility-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Nobility-feat}" type="number" name="attr_Knowledge-Nobility-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Nobility-item}" type="number" name="attr_Knowledge-Nobility-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Knowledge-Nobility-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Knowledge-Nobility-misc}" type="text" name="attr_Knowledge-Nobility-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Knowledge-Nobility-misc-mod}" type="number" class="calc" readonly name="attr_Knowledge-Nobility-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Nobility-ReqTrain}" type="checkbox" name="attr_Knowledge-Nobility-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Knowledge-Nobility-note}" name="attr_Knowledge-Nobility-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Knowledge-Nobility-macro}" name="attr_Knowledge-Nobility-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{knowledge-nobility}}} {{Check=[[ @{skill-query} + [[ @{Knowledge-Nobility} ]]  ]]}} @{Knowledge-Nobility-ut} @{skill_options} @{Knowledge-Nobility-cond-notes} {{generic_note=@{Knowledge-Nobility-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row knowledge adventure" data-i18n-list-item="knowledge-planes">
                            <span class="table-cell"><button title="%{selected|Knowledge-Planes-Check}" type="roll" value="@{PC-Whisper} @{Knowledge-Planes-macro}" name="roll_Knowledge-Planes-Check"></button></span>
                            <span class="table-cell left" data-i18n="knowledge-planes">Knowledge (Planes)</span>
                            <span class="table-cell"><input title="@{Knowledge-Planes}" type="number" name="attr_Knowledge-Planes" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Knowledge-Planes-ranks}" type="number" name="attr_Knowledge-Planes-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Planes-cs}" type="checkbox" name="attr_Knowledge-Planes-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Knowledge-Planes-ability}" name="attr_Knowledge-Planes-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Knowledge-Planes-racial}" type="number" name="attr_Knowledge-Planes-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Planes-trait}" type="number" name="attr_Knowledge-Planes-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Planes-feat}" type="number" name="attr_Knowledge-Planes-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Planes-item}" type="number" name="attr_Knowledge-Planes-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Knowledge-Planes-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Knowledge-Planes-misc}" type="text" name="attr_Knowledge-Planes-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Knowledge-Planes-misc-mod}" type="number" class="calc" readonly name="attr_Knowledge-Planes-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Planes-ReqTrain}" type="checkbox" name="attr_Knowledge-Planes-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Knowledge-Planes-note}" name="attr_Knowledge-Planes-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Knowledge-Planes-macro}" name="attr_Knowledge-Planes-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{knowledge-planes}}} {{Check=[[ @{skill-query} + [[ @{Knowledge-Planes} ]]  ]]}} @{Knowledge-Planes-ut} @{skill_options} @{Knowledge-Planes-cond-notes} {{generic_note=@{Knowledge-Planes-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row knowledge adventure" data-i18n-list-item="knowledge-religion">
                            <span class="table-cell"><button title="%{selected|Knowledge-Religion-Check}" type="roll" value="@{PC-Whisper} @{Knowledge-Religion-macro}" name="roll_Knowledge-Religion-Check"></button></span>
                            <span class="table-cell left" data-i18n="knowledge-religion">Knowledge (Religion)</span>
                            <span class="table-cell"><input title="@{Knowledge-Religion}" type="number" name="attr_Knowledge-Religion" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Knowledge-Religion-ranks}" type="number" name="attr_Knowledge-Religion-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Religion-cs}" type="checkbox" name="attr_Knowledge-Religion-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Knowledge-Religion-ability}" name="attr_Knowledge-Religion-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Knowledge-Arcana-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Knowledge-Religion-racial}" type="number" name="attr_Knowledge-Religion-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Religion-trait}" type="number" name="attr_Knowledge-Religion-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Religion-feat}" type="number" name="attr_Knowledge-Religion-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Religion-item}" type="number" name="attr_Knowledge-Religion-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Knowledge-Religion-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Knowledge-Religion-misc}" type="text" name="attr_Knowledge-Religion-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Knowledge-Religion-misc-mod}" type="number" class="calc" readonly name="attr_Knowledge-Religion-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Knowledge-Religion-ReqTrain}" type="checkbox" name="attr_Knowledge-Religion-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Knowledge-Religion-note}" name="attr_Knowledge-Religion-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Knowledge-Religion-macro}" name="attr_Knowledge-Religion-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{knowledge-religion}}} {{Check=[[ @{skill-query} + [[ @{Knowledge-Religion} ]]  ]]}} @{Knowledge-Religion-ut} @{skill_options} @{Knowledge-Religion-cond-notes} {{generic_note=@{Knowledge-Religion-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row bg" data-i18n-list-item="linguistics">
                            <span class="table-cell"><button title="%{selected|Linguistics-Check}" type="roll" value="@{PC-Whisper} @{Linguistics-macro}" name="roll_Linguistics-Check"></button></span>
                            <span class="table-cell left" data-i18n="linguistics">Linguistics</span>
                            <span class="table-cell"><input title="@{Linguistics}" type="number" name="attr_Linguistics" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Linguistics-ranks}" type="number" name="attr_Linguistics-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Linguistics-cs}" type="checkbox" name="attr_Linguistics-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Linguistics-ability}" name="attr_Linguistics-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Linguistics-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Linguistics-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Linguistics-racial}" type="number" name="attr_Linguistics-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Linguistics-trait}" type="number" name="attr_Linguistics-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Linguistics-feat}" type="number" name="attr_Linguistics-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Linguistics-item}" type="number" name="attr_Linguistics-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Linguistics-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Linguistics-misc}" type="text" name="attr_Linguistics-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Linguistics-misc-mod}" type="number" class="calc" readonly name="attr_Linguistics-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Linguistics-ReqTrain}" type="checkbox" name="attr_Linguistics-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Linguistics-note}" name="attr_Linguistics-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Linguistics-macro}" name="attr_Linguistics-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{linguistics}}} {{Check=[[ @{skill-query} + [[ @{Linguistics} ]]  ]]}} @{Linguistics-ut} @{skill_options} @{Linguistics-cond-notes} {{generic_note=@{Linguistics-note}}}</textarea>
                            </details>
                        </div>
                        <span class="custom-skill-2 table-cell bg-only" data-i18n-list-item="lore"> </span>
                        <input class="custom-skill-2 showarrow lore-show bg-only" data-i18n-list-item="lore-00" type="checkbox" name="attr_lore-show" data-i18n-aria-label="lore" data-i18n-title="showsect-cmd" value="1" checked />
                        <label class="custom-skill-2 showsect bg-only skill-minishow" data-i18n-list-item="lore-01" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="lore">Lore</label>
                        <span class="custom-skill-2 bg-only" data-i18n-list-item="lore-02"></span>
                        <div class="custom-skill-2 table-row bg-only" data-i18n-list-item="lore-03">
                            <!--used to keep these sections from collapsing on each other when hidden-->
                        </div>
                        <div class="table-row lore bg-only" data-i18n-list-item="lore-04">
                            <span class="table-cell"><button title="%{selected|Lore-Check}" type="roll" value="@{PC-Whisper} @{Lore-macro}" name="roll_Lore-Check"></button></span>
                            <span class="table-cell left"><input title="@{Lore-name} Optional Ruleset." style="width:96%;" type="text" name="attr_Lore-name" data-i18n-placeholder="lore" /></span>
                            <span class="table-cell"><input title="@{Lore}" type="number" name="attr_Lore" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Lore-ranks}" type="number" name="attr_Lore-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore-cs}" type="checkbox" name="attr_Lore-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Lore-ability}" name="attr_Lore-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Lore-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Lore-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Lore-racial}" type="number" name="attr_Lore-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore-trait}" type="number" name="attr_Lore-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore-feat}" type="number" name="attr_Lore-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore-item}" type="number" name="attr_Lore-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Lore-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Lore-misc}" type="text" name="attr_Lore-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Lore-misc-mod}" type="number" class="calc" readonly name="attr_Lore-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore-ReqTrain}" type="checkbox" name="attr_Lore-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Lore-note}" name="attr_Lore-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Lore-macro}" name="attr_Lore-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{lore} @{lore-name}}} {{Check=[[ @{skill-query} + [[ @{Lore} ]]  ]]}} @{Lore-ut} @{skill_options} @{Lore-cond-notes} {{generic_note=@{Lore-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row lore bg-only custom-skill-2" data-i18n-list-item="lore-05">
                            <span class="table-cell"><button title="%{selected|Lore2-Check}" type="roll" value="@{PC-Whisper} @{Lore2-macro}" name="roll_Lore2-Check"></button></span>
                            <span class="table-cell left"><input title="@{Lore2-name} Optional Ruleset." style="width:96%;" type="text" name="attr_Lore2-name" data-i18n-placeholder="lore" /></span>
                            <span class="table-cell"><input title="@{Lore2}" type="number" name="attr_Lore2" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Lore2-ranks}" type="number" name="attr_Lore2-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore2-cs}" type="checkbox" name="attr_Lore2-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Lore2-ability}" name="attr_Lore2-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Lore2-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Lore2-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Lore2-racial}" type="number" name="attr_Lore2-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore2-trait}" type="number" name="attr_Lore2-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore2-feat}" type="number" name="attr_Lore2-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore2-item}" type="number" name="attr_Lore2-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Lore2-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Lore2-misc}" type="text" name="attr_Lore2-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Lore2-misc-mod}" type="number" class="calc" readonly name="attr_Lore2-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore2-ReqTrain}" type="checkbox" name="attr_Lore2-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Lore2-note}" name="attr_Lore2-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Lore2-macro}" name="attr_Lore2-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{lore} @{lore2-name}}} {{Check=[[ @{skill-query} + [[ @{Lore2} ]]  ]]}} @{Lore2-ut} @{skill_options} @{Lore2-cond-notes} {{generic_note=@{Lore2-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row lore bg-only custom-skill-3" data-i18n-list-item="lore-06">
                            <span class="table-cell"><button title="%{selected|Lore3-Check}" type="roll" value="@{PC-Whisper} @{Lore3-macro}" name="roll_Lore3-Check"></button></span>
                            <span class="table-cell left"><input title="@{Lore3-name} Optional Ruleset." style="width:96%;" type="text" name="attr_Lore3-name" data-i18n-placeholder="lore" /></span>
                            <span class="table-cell"><input title="@{Lore3}" type="number" name="attr_Lore3" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Lore3-ranks}" type="number" name="attr_Lore3-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore3-cs}" type="checkbox" name="attr_Lore3-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Lore3-ability}" name="attr_Lore3-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Lore3-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Lore3-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Lore3-racial}" type="number" name="attr_Lore3-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore3-trait}" type="number" name="attr_Lore3-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore3-feat}" type="number" name="attr_Lore3-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore3-item}" type="number" name="attr_Lore3-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Lore3-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Lore3-misc}" type="text" name="attr_Lore3-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Lore3-misc-mod}" type="number" class="calc" readonly name="attr_Lore3-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore3-ReqTrain}" type="checkbox" name="attr_Lore3-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Lore3-note}" name="attr_Lore3-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Lore3-macro}" name="attr_Lore3-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{lore} @{lore3-name}}} {{Check=[[ @{skill-query} + [[ @{Lore3} ]]  ]]}} @{Lore3-ut} @{skill_options} @{Lore3-cond-notes} {{generic_note=@{Lore3-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row lore bg-only custom-skill-6" data-i18n-list-item="lore-07">
                            <span class="table-cell"><button title="%{selected|Lore4-Check}" type="roll" value="@{PC-Whisper} @{Lore4-macro}" name="roll_Lore4-Check"></button></span>
                            <span class="table-cell left"><input title="@{Lore4-name} Optional Ruleset." style="width:96%;" type="text" name="attr_Lore4-name" data-i18n-placeholder="lore" /></span>
                            <span class="table-cell"><input title="@{Lore4}" type="number" name="attr_Lore4" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Lore4-ranks}" type="number" name="attr_Lore4-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore4-cs}" type="checkbox" name="attr_Lore4-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Lore4-ability}" name="attr_Lore4-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Lore4-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Lore4-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Lore4-racial}" type="number" name="attr_Lore4-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore4-trait}" type="number" name="attr_Lore4-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore4-feat}" type="number" name="attr_Lore4-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore4-item}" type="number" name="attr_Lore4-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Lore4-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Lore4-misc}" type="text" name="attr_Lore4-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Lore4-misc-mod}" type="number" class="calc" readonly name="attr_Lore4-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore4-ReqTrain}" type="checkbox" name="attr_Lore4-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Lore4-note}" name="attr_Lore4-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Lore4-macro}" name="attr_Lore4-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{lore} @{lore4-name}}} {{Check=[[ @{skill-query} + [[ @{Lore4} ]]  ]]}} @{Lore4-ut} @{skill_options} @{Lore4-cond-notes} {{generic_note=@{Lore4-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row lore bg-only custom-skill-6" data-i18n-list-item="lore-08">
                            <span class="table-cell"><button title="%{selected|Lore5-Check}" type="roll" value="@{PC-Whisper} @{Lore5-macro}" name="roll_Lore5-Check"></button></span>
                            <span class="table-cell left"><input title="@{Lore5-name} Optional Ruleset." style="width:96%;" type="text" name="attr_Lore5-name" data-i18n-placeholder="lore" /></span>
                            <span class="table-cell"><input title="@{Lore5}" type="number" name="attr_Lore5" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Lore5-ranks}" type="number" name="attr_Lore5-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore5-cs}" type="checkbox" name="attr_Lore5-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Lore5-ability}" name="attr_Lore5-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Lore5-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Lore5-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Lore5-racial}" type="number" name="attr_Lore5-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore5-trait}" type="number" name="attr_Lore5-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore5-feat}" type="number" name="attr_Lore5-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore5-item}" type="number" name="attr_Lore5-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Lore5-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Lore5-misc}" type="text" name="attr_Lore5-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Lore5-misc-mod}" type="number" class="calc" readonly name="attr_Lore5-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore5-ReqTrain}" type="checkbox" name="attr_Lore5-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Lore5-note}" name="attr_Lore5-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Lore5-macro}" name="attr_Lore5-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{lore} @{lore5-name}}} {{Check=[[ @{skill-query} + [[ @{Lore5} ]]  ]]}} @{Lore5-ut} @{skill_options} @{Lore5-cond-notes} {{generic_note=@{Lore5-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row lore bg-only custom-skill-6" data-i18n-list-item="lore-09">
                            <span class="table-cell"><button title="%{selected|Lore6-Check}" type="roll" value="@{PC-Whisper} @{Lore6-macro}" name="roll_Lore6-Check"></button></span>
                            <span class="table-cell left"><input title="@{Lore6-name} Optional Ruleset." style="width:96%;" type="text" name="attr_Lore6-name" data-i18n-placeholder="lore" /></span>
                            <span class="table-cell"><input title="@{Lore6}" type="number" name="attr_Lore6" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Lore6-ranks}" type="number" name="attr_Lore6-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore6-cs}" type="checkbox" name="attr_Lore6-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Lore6-ability}" name="attr_Lore6-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Lore6-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Lore6-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Lore6-racial}" type="number" name="attr_Lore6-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore6-trait}" type="number" name="attr_Lore6-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore6-feat}" type="number" name="attr_Lore6-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore6-item}" type="number" name="attr_Lore6-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Lore6-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Lore6-misc}" type="text" name="attr_Lore6-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Lore6-misc-mod}" type="number" class="calc" readonly name="attr_Lore6-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore6-ReqTrain}" type="checkbox" name="attr_Lore6-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Lore6-note}" name="attr_Lore6-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Lore6-macro}" name="attr_Lore6-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{lore} @{lore6-name}}} {{Check=[[ @{skill-query} + [[ @{Lore6} ]]  ]]}} @{Lore6-ut} @{skill_options} @{Lore6-cond-notes} {{generic_note=@{Lore6-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row lore bg-only custom-skill-10" data-i18n-list-item="lore-10">
                            <span class="table-cell"><button title="%{selected|Lore7-Check}" type="roll" value="@{PC-Whisper} @{Lore7-macro}" name="roll_Lore7-Check"></button></span>
                            <span class="table-cell left"><input title="@{Lore7-name} Optional Ruleset." style="width:96%;" type="text" name="attr_Lore7-name" data-i18n-placeholder="lore" /></span>
                            <span class="table-cell"><input title="@{Lore7}" type="number" name="attr_Lore7" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Lore7-ranks}" type="number" name="attr_Lore7-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore7-cs}" type="checkbox" name="attr_Lore7-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Lore7-ability}" name="attr_Lore7-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Lore7-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Lore7-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Lore7-racial}" type="number" name="attr_Lore7-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore7-trait}" type="number" name="attr_Lore7-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore7-feat}" type="number" name="attr_Lore7-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore7-item}" type="number" name="attr_Lore7-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Lore7-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Lore7-misc}" type="text" name="attr_Lore7-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Lore7-misc-mod}" type="number" class="calc" readonly name="attr_Lore7-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore7-ReqTrain}" type="checkbox" name="attr_Lore7-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Lore7-note}" name="attr_Lore7-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Lore7-macro}" name="attr_Lore7-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{lore} @{lore7-name}}} {{Check=[[ @{skill-query} + [[ @{Lore7} ]]  ]]}} @{Lore7-ut} @{skill_options} @{Lore7-cond-notes} {{generic_note=@{Lore7-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row lore bg-only custom-skill-10" data-i18n-list-item="lore-11">
                            <span class="table-cell"><button title="%{selected|Lore8-Check}" type="roll" value="@{PC-Whisper} @{Lore8-macro}" name="roll_Lore8-Check"></button></span>
                            <span class="table-cell left"><input title="@{Lore8-name} Optional Ruleset." style="width:96%;" type="text" name="attr_Lore8-name" data-i18n-placeholder="lore" /></span>
                            <span class="table-cell"><input title="@{Lore8}" type="number" name="attr_Lore8" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Lore8-ranks}" type="number" name="attr_Lore8-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore8-cs}" type="checkbox" name="attr_Lore8-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Lore8-ability}" name="attr_Lore8-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Lore8-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Lore8-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Lore8-racial}" type="number" name="attr_Lore8-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore8-trait}" type="number" name="attr_Lore8-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore8-feat}" type="number" name="attr_Lore8-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore8-item}" type="number" name="attr_Lore8-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Lore8-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Lore8-misc}" type="text" name="attr_Lore8-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Lore8-misc-mod}" type="number" class="calc" readonly name="attr_Lore8-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore8-ReqTrain}" type="checkbox" name="attr_Lore8-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Lore8-note}" name="attr_Lore8-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Lore8-macro}" name="attr_Lore8-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{lore} @{lore8-name}}} {{Check=[[ @{skill-query} + [[ @{Lore8} ]]  ]]}} @{Lore8-ut} @{skill_options} @{Lore8-cond-notes} {{generic_note=@{Lore8-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row lore bg-only custom-skill-10" data-i18n-list-item="lore-12">
                            <span class="table-cell"><button title="%{selected|Lore9-Check}" type="roll" value="@{PC-Whisper} @{Lore9-macro}" name="roll_Lore9-Check"></button></span>
                            <span class="table-cell left"><input title="@{Lore9-name} Optional Ruleset." style="width:96%;" type="text" name="attr_Lore9-name" data-i18n-placeholder="lore" /></span>
                            <span class="table-cell"><input title="@{Lore9}" type="number" name="attr_Lore9" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Lore9-ranks}" type="number" name="attr_Lore9-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore9-cs}" type="checkbox" name="attr_Lore9-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Lore9-ability}" name="attr_Lore9-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Lore9-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Lore9-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Lore9-racial}" type="number" name="attr_Lore9-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore9-trait}" type="number" name="attr_Lore9-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore9-feat}" type="number" name="attr_Lore9-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore9-item}" type="number" name="attr_Lore9-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Lore9-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Lore9-misc}" type="text" name="attr_Lore9-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Lore9-misc-mod}" type="number" class="calc" readonly name="attr_Lore9-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore9-ReqTrain}" type="checkbox" name="attr_Lore9-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Lore9-note}" name="attr_Lore9-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Lore9-macro}" name="attr_Lore9-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{lore} @{lore9-name}}} {{Check=[[ @{skill-query} + [[ @{Lore9} ]]  ]]}} @{Lore9-ut} @{skill_options} @{Lore9-cond-notes} {{generic_note=@{Lore9-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row lore bg-only custom-skill-10" data-i18n-list-item="lore-13">
                            <span class="table-cell"><button title="%{selected|Lore10-Check}" type="roll" value="@{PC-Whisper} @{Lore10-macro}" name="roll_Lore10-Check"></button></span>
                            <span class="table-cell left"><input title="@{Lore10-name} Optional Ruleset." style="width:96%;" type="text" name="attr_Lore10-name" data-i18n-placeholder="lore" /></span>
                            <span class="table-cell"><input title="@{Lore10}" type="number" name="attr_Lore10" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Lore10-ranks}" type="number" name="attr_Lore10-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore10-cs}" type="checkbox" name="attr_Lore10-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Lore10-ability}" name="attr_Lore10-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Lore10-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Lore10-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Lore10-racial}" type="number" name="attr_Lore10-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore10-trait}" type="number" name="attr_Lore10-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore10-feat}" type="number" name="attr_Lore10-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore10-item}" type="number" name="attr_Lore10-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Lore10-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Lore10-misc}" type="text" name="attr_Lore10-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Lore10-misc-mod}" type="number" class="calc" readonly name="attr_Lore10-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Lore10-ReqTrain}" type="checkbox" name="attr_Lore10-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Lore10-note}" name="attr_Lore10-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Lore10-macro}" name="attr_Lore10-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{lore} @{lore10-name}}} {{Check=[[ @{skill-query} + [[ @{Lore10} ]]  ]]}} @{Lore10-ut} @{skill_options} @{Lore10-cond-notes} {{generic_note=@{Lore10-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row adventure" data-i18n-list-item="perception">
                            <span class="table-cell"><button title="%{selected|Perception-Check}" type="roll" value="@{PC-Whisper} @{Perception-macro}" name="roll_Perception-Check"></button></span>
                            <span class="table-cell left" data-i18n="perception">Perception</span>
                            <span class="table-cell"><input title="@{Perception}" type="number" name="attr_Perception" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Perception-ranks}" type="number" name="attr_Perception-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Perception-cs}" type="checkbox" name="attr_Perception-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Perception-ability}" name="attr_Perception-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Perception-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Perception-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Perception-racial}" type="number" name="attr_Perception-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Perception-trait}" type="number" name="attr_Perception-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Perception-feat}" type="number" name="attr_Perception-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Perception-item}" type="number" name="attr_Perception-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Perception-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Perception-misc}" type="text" name="attr_Perception-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Perception-misc-mod}" type="number" class="calc" readonly name="attr_Perception-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Perception-ReqTrain}" type="checkbox" name="attr_Perception-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Perception-note}" name="attr_Perception-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Perception-macro}" name="attr_Perception-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{perception}}} {{Check=[[ @{skill-query} + [[ @{Perception} ]]  ]]}} @{Perception-ut} @{skill_options} @{Perception-cond-notes} {{generic_note=@{Perception-note}}}</textarea>
                            </details>
                        </div>
                        <span class="custom-skill-2 table-cell bg" data-i18n-list-item="perform"> </span>
                        <input class="custom-skill-2 showarrow perform-show bg" data-i18n-list-item="perform-00" type="checkbox" name="attr_perform-show" data-i18n-aria-label="perform" data-i18n-title="showsect-cmd" value="1" checked />
                        <label class="custom-skill-2 showsect bg skill-minishow" data-i18n-list-item="perform-01" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="perform">Perform</label>
                        <span class="custom-skill-2 bg" data-i18n-list-item="perform-02"></span>
                        <div class="custom-skill-2 table-row bg" data-i18n-list-item="perform-03">
                            <!--used to keep these sections from collapsing on each other when hidden-->
                        </div>
                        <div class="table-row perform bg" data-i18n-list-item="perform-04">
                            <span class="table-cell"><button title="%{selected|Perform-Check}" type="roll" value="@{PC-Whisper} @{Perform-macro}" name="roll_Perform-Check"></button></span>
                            <span class="table-cell left"><input title="@{Perform-name}" style="width:96%;" type="text" name="attr_Perform-name" data-i18n-placeholder="perform" /></span>
                            <span class="table-cell"><input title="@{Perform}" type="number" name="attr_Perform" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Perform-ranks}" type="number" name="attr_Perform-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform-cs}" type="checkbox" name="attr_Perform-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Perform-ability}" name="attr_Perform-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Perform-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Perform-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Perform-racial}" type="number" name="attr_Perform-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform-trait}" type="number" name="attr_Perform-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform-feat}" type="number" name="attr_Perform-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform-item}" type="number" name="attr_Perform-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Perform-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Perform-misc}" type="text" name="attr_Perform-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Perform-misc-mod}" type="number" class="calc" readonly name="attr_Perform-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform-ReqTrain}" type="checkbox" name="attr_Perform-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Perform-note}" name="attr_Perform-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Perform-macro}" name="attr_Perform-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{perform} @{Perform-name}}} {{Check=[[ @{skill-query} + [[ @{Perform} ]]  ]]}} @{Perform-ut} @{skill_options} @{Perform-cond-notes} {{generic_note=@{Perform-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row perform bg custom-skill-2" data-i18n-list-item="perform-05">
                            <span class="table-cell"><button title="%{selected|Perform2-Check}" type="roll" value="@{PC-Whisper} @{Perform2-macro}" name="roll_Perform2-Check"></button></span>
                            <span class="table-cell left"><input title="@{Perform2-name}" style="width:96%;" type="text" name="attr_Perform2-name" data-i18n-placeholder="perform" /></span>
                            <span class="table-cell"><input title="@{Perform2}" type="number" name="attr_Perform2" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Perform2-ranks}" type="number" name="attr_Perform2-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform2-cs}" type="checkbox" name="attr_Perform2-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Perform2-ability}" name="attr_Perform2-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Perform2-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Perform2-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Perform2-racial}" type="number" name="attr_Perform2-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform2-trait}" type="number" name="attr_Perform2-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform2-feat}" type="number" name="attr_Perform2-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform2-item}" type="number" name="attr_Perform2-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Perform2-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Perform2-misc}" type="text" name="attr_Perform2-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Perform2-misc-mod}" type="number" class="calc" readonly name="attr_Perform2-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform2-ReqTrain}" type="checkbox" name="attr_Perform2-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Perform2-note}" name="attr_Perform2-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Perform2-macro}" name="attr_Perform2-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{perform} @{Perform2-name}}} {{Check=[[ @{skill-query} + [[ @{Perform2} ]]  ]]}} @{Perform2-ut} @{skill_options} @{Perform2-cond-notes} {{generic_note=@{Perform2-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row perform bg custom-skill-3" data-i18n-list-item="perform-06">
                            <span class="table-cell"><button title="%{selected|Perform3-Check}" type="roll" value="@{PC-Whisper} @{Perform3-macro}" name="roll_Perform3-Check"></button></span>
                            <span class="table-cell left"><input title="@{Perform3-name}" style="width:96%;" type="text" name="attr_Perform3-name" data-i18n-placeholder="perform" /></span>
                            <span class="table-cell"><input title="@{Perform3}" type="number" name="attr_Perform3" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Perform3-ranks}" type="number" name="attr_Perform3-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform3-cs}" type="checkbox" name="attr_Perform3-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Perform3-ability}" name="attr_Perform3-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Perform3-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Perform3-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Perform3-racial}" type="number" name="attr_Perform3-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform3-trait}" type="number" name="attr_Perform3-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform3-feat}" type="number" name="attr_Perform3-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform3-item}" type="number" name="attr_Perform3-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Perform3-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Perform3-misc}" type="text" name="attr_Perform3-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Perform3-misc-mod}" type="number" class="calc" readonly name="attr_Perform3-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform3-ReqTrain}" type="checkbox" name="attr_Perform3-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Perform3-note}" name="attr_Perform3-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Perform3-macro}" name="attr_Perform3-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{perform} @{Perform3-name}}} {{Check=[[ @{skill-query} + [[ @{Perform3} ]]  ]]}} @{Perform3-ut} @{skill_options} @{Perform3-cond-notes} {{generic_note=@{Perform3-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row perform bg custom-skill-6" data-i18n-list-item="perform-07">
                            <span class="table-cell"><button title="%{selected|Perform4-Check}" type="roll" value="@{PC-Whisper} @{Perform4-macro}" name="roll_Perform4-Check"></button></span>
                            <span class="table-cell left"><input title="@{Perform4-name}" style="width:96%;" type="text" name="attr_Perform4-name" data-i18n-placeholder="perform" /></span>
                            <span class="table-cell"><input title="@{Perform4}" type="number" name="attr_Perform4" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Perform4-ranks}" type="number" name="attr_Perform4-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform4-cs}" type="checkbox" name="attr_Perform4-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Perform4-ability}" name="attr_Perform4-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Perform4-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Perform4-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Perform4-racial}" type="number" name="attr_Perform4-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform4-trait}" type="number" name="attr_Perform4-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform4-feat}" type="number" name="attr_Perform4-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform4-item}" type="number" name="attr_Perform4-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Perform4-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Perform4-misc}" type="text" name="attr_Perform4-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Perform4-misc-mod}" type="number" class="calc" readonly name="attr_Perform4-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform4-ReqTrain}" type="checkbox" name="attr_Perform4-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Perform4-note}" name="attr_Perform4-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Perform4-macro}" name="attr_Perform4-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{perform} @{Perform4-name}}} {{Check=[[ @{skill-query} + [[ @{Perform4} ]]  ]]}} @{Perform4-ut} @{skill_options} @{Perform4-cond-notes} {{generic_note=@{Perform4-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row perform bg custom-skill-6" data-i18n-list-item="perform-08">
                            <span class="table-cell"><button title="%{selected|Perform5-Check}" type="roll" value="@{PC-Whisper} @{Perform5-macro}" name="roll_Perform5-Check"></button></span>
                            <span class="table-cell left"><input title="@{Perform5-name}" style="width:96%;" type="text" name="attr_Perform5-name" data-i18n-placeholder="perform" /></span>
                            <span class="table-cell"><input title="@{Perform5}" type="number" name="attr_Perform5" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Perform5-ranks}" type="number" name="attr_Perform5-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform5-cs}" type="checkbox" name="attr_Perform5-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Perform5-ability}" name="attr_Perform5-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Perform5-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Perform5-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Perform5-racial}" type="number" name="attr_Perform5-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform5-trait}" type="number" name="attr_Perform5-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform5-feat}" type="number" name="attr_Perform5-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform5-item}" type="number" name="attr_Perform5-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Perform5-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Perform5-misc}" type="text" name="attr_Perform5-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Perform5-misc-mod}" type="number" class="calc" readonly name="attr_Perform5-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform5-ReqTrain}" type="checkbox" name="attr_Perform5-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Perform5-note}" name="attr_Perform5-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Perform5-macro}" name="attr_Perform5-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{perform} @{Perform5-name}}} {{Check=[[ @{skill-query} + [[ @{Perform5} ]]  ]]}} @{Perform5-ut} @{skill_options} @{Perform5-cond-notes} {{generic_note=@{Perform5-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row perform bg custom-skill-6" data-i18n-list-item="perform-09">
                            <span class="table-cell"><button title="%{selected|Perform6-Check}" type="roll" value="@{PC-Whisper} @{Perform6-macro}" name="roll_Perform6-Check"></button></span>
                            <span class="table-cell left"><input title="@{Perform6-name}" style="width:96%;" type="text" name="attr_Perform6-name" data-i18n-placeholder="perform" /></span>
                            <span class="table-cell"><input title="@{Perform6}" type="number" name="attr_Perform6" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Perform6-ranks}" type="number" name="attr_Perform6-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform6-cs}" type="checkbox" name="attr_Perform6-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Perform6-ability}" name="attr_Perform6-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Perform6-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Perform6-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Perform6-racial}" type="number" name="attr_Perform6-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform6-trait}" type="number" name="attr_Perform6-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform6-feat}" type="number" name="attr_Perform6-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform6-item}" type="number" name="attr_Perform6-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Perform6-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Perform6-misc}" type="text" name="attr_Perform6-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Perform6-misc-mod}" type="number" class="calc" readonly name="attr_Perform6-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform6-ReqTrain}" type="checkbox" name="attr_Perform6-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Perform6-note}" name="attr_Perform6-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Perform6-macro}" name="attr_Perform6-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{perform} @{Perform6-name}}} {{Check=[[ @{skill-query} + [[ @{Perform6} ]]  ]]}} @{Perform6-ut} @{skill_options} @{Perform6-cond-notes} {{generic_note=@{Perform6-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row perform bg custom-skill-10" data-i18n-list-item="perform-10">
                            <span class="table-cell"><button title="%{selected|Perform7-Check}" type="roll" value="@{PC-Whisper} @{Perform7-macro}" name="roll_Perform7-Check"></button></span>
                            <span class="table-cell left"><input title="@{Perform7-name}" style="width:96%;" type="text" name="attr_Perform7-name" data-i18n-placeholder="perform" /></span>
                            <span class="table-cell"><input title="@{Perform7}" type="number" name="attr_Perform7" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Perform7-ranks}" type="number" name="attr_Perform7-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform7-cs}" type="checkbox" name="attr_Perform7-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Perform7-ability}" name="attr_Perform7-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Perform7-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Perform7-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Perform7-racial}" type="number" name="attr_Perform7-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform7-trait}" type="number" name="attr_Perform7-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform7-feat}" type="number" name="attr_Perform7-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform7-item}" type="number" name="attr_Perform7-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Perform7-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Perform7-misc}" type="text" name="attr_Perform7-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Perform7-misc-mod}" type="number" class="calc" readonly name="attr_Perform7-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform7-ReqTrain}" type="checkbox" name="attr_Perform7-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Perform7-note}" name="attr_Perform7-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Perform7-macro}" name="attr_Perform7-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{perform} @{Perform7-name}}} {{Check=[[ @{skill-query} + [[ @{Perform7} ]]  ]]}} @{Perform7-ut} @{skill_options} @{Perform7-cond-notes} {{generic_note=@{Perform7-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row perform bg custom-skill-10" data-i18n-list-item="perform-11">
                            <span class="table-cell"><button title="%{selected|Perform8-Check}" type="roll" value="@{PC-Whisper} @{Perform8-macro}" name="roll_Perform8-Check"></button></span>
                            <span class="table-cell left"><input title="@{Perform8-name}" style="width:96%;" type="text" name="attr_Perform8-name" data-i18n-placeholder="perform" /></span>
                            <span class="table-cell"><input title="@{Perform8}" type="number" name="attr_Perform8" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Perform8-ranks}" type="number" name="attr_Perform8-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform8-cs}" type="checkbox" name="attr_Perform8-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Perform8-ability}" name="attr_Perform8-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Perform8-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Perform8-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Perform8-racial}" type="number" name="attr_Perform8-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform8-trait}" type="number" name="attr_Perform8-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform8-feat}" type="number" name="attr_Perform8-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform8-item}" type="number" name="attr_Perform8-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Perform8-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Perform8-misc}" type="text" name="attr_Perform8-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Perform8-misc-mod}" type="number" class="calc" readonly name="attr_Perform8-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform8-ReqTrain}" type="checkbox" name="attr_Perform8-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Perform8-note}" name="attr_Perform8-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Perform8-macro}" name="attr_Perform8-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{perform} @{Perform8-name}}} {{Check=[[ @{skill-query} + [[ @{Perform8} ]]  ]]}} @{Perform8-ut} @{skill_options} @{Perform8-cond-notes} {{generic_note=@{Perform8-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row perform bg custom-skill-10" data-i18n-list-item="perform-12">
                            <span class="table-cell"><button title="%{selected|Perform9-Check}" type="roll" value="@{PC-Whisper} @{Perform9-macro}" name="roll_Perform9-Check"></button></span>
                            <span class="table-cell left"><input title="@{Perform9-name}" style="width:96%;" type="text" name="attr_Perform9-name" data-i18n-placeholder="perform" /></span>
                            <span class="table-cell"><input title="@{Perform9}" type="number" name="attr_Perform9" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Perform9-ranks}" type="number" name="attr_Perform9-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform9-cs}" type="checkbox" name="attr_Perform9-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Perform9-ability}" name="attr_Perform9-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Perform9-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Perform9-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Perform9-racial}" type="number" name="attr_Perform9-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform9-trait}" type="number" name="attr_Perform9-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform9-feat}" type="number" name="attr_Perform9-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform9-item}" type="number" name="attr_Perform9-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Perform9-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Perform9-misc}" type="text" name="attr_Perform9-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Perform9-misc-mod}" type="number" class="calc" readonly name="attr_Perform9-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform9-ReqTrain}" type="checkbox" name="attr_Perform9-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Perform9-note}" name="attr_Perform9-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Perform9-macro}" name="attr_Perform9-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{perform} @{Perform9-name}}} {{Check=[[ @{skill-query} + [[ @{Perform9} ]]  ]]}} @{Perform9-ut} @{skill_options} @{Perform9-cond-notes} {{generic_note=@{Perform9-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row perform bg custom-skill-10" data-i18n-list-item="perform-13">
                            <span class="table-cell"><button title="%{selected|Perform10-Check}" type="roll" value="@{PC-Whisper} @{Perform10-macro}" name="roll_Perform10-Check"></button></span>
                            <span class="table-cell left"><input title="@{Perform10-name}" style="width:96%;" type="text" name="attr_Perform10-name" data-i18n-placeholder="perform" /></span>
                            <span class="table-cell"><input title="@{Perform10}" type="number" name="attr_Perform10" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Perform10-ranks}" type="number" name="attr_Perform10-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform10-cs}" type="checkbox" name="attr_Perform10-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Perform10-ability}" name="attr_Perform10-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Perform10-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Perform10-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Perform10-racial}" type="number" name="attr_Perform10-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform10-trait}" type="number" name="attr_Perform10-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform10-feat}" type="number" name="attr_Perform10-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform10-item}" type="number" name="attr_Perform10-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Perform10-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Perform10-misc}" type="text" name="attr_Perform10-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Perform10-misc-mod}" type="number" class="calc" readonly name="attr_Perform10-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Perform10-ReqTrain}" type="checkbox" name="attr_Perform10-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Perform10-note}" name="attr_Perform10-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Perform10-macro}" name="attr_Perform10-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{perform} @{Perform10-name}}} {{Check=[[ @{skill-query} + [[ @{Perform10} ]]  ]]}} @{Perform10-ut} @{skill_options} @{Perform10-cond-notes} {{generic_note=@{Perform10-note}}}</textarea>
                            </details>
                        </div>
                        <span class="custom-skill-2 table-cell bg" data-i18n-list-item="profession"> </span>
                        <input class="custom-skill-2 showarrow profession-show bg" data-i18n-list-item="profession-00" type="checkbox" name="attr_profession-show" data-i18n-aria-label="profession" data-i18n-title="showsect-cmd" value="1" checked />
                        <label class="custom-skill-2 showsect skill-minishow bg" data-i18n-list-item="profession-01" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="profession">Profession</label>
                        <span class="custom-skill-2 bg" data-i18n-list-item="profession-02"></span>
                        <div class="custom-skill-2 table-row bg" data-i18n-list-item="profession-03">
                            <!--used to keep these sections from collapsing on each other when hidden-->
                        </div>
                        <div class="table-row profession bg" data-i18n-list-item="profession-04">
                            <span class="table-cell"><button title="%{selected|Profession-Check}" type="roll" value="@{PC-Whisper} @{Profession-macro}" name="roll_Profession-Check"></button></span>
                            <span class="table-cell left"><input title="@{Profession-name}" style="width:96%;" type="text" name="attr_Profession-name" data-i18n-placeholder="profession" /></span>
                            <span class="table-cell"><input title="@{Profession}" type="number" name="attr_Profession" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Profession-ranks}" type="number" name="attr_Profession-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession-cs}" type="checkbox" name="attr_Profession-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Profession-ability}" name="attr_Profession-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Profession-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Profession-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Profession-racial}" type="number" name="attr_Profession-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession-trait}" type="number" name="attr_Profession-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession-feat}" type="number" name="attr_Profession-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession-item}" type="number" name="attr_Profession-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Profession-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Profession-misc}" type="text" name="attr_Profession-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Profession-misc-mod}" type="number" class="calc" readonly name="attr_Profession-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession-ReqTrain}" type="checkbox" name="attr_Profession-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Profession-note}" name="attr_Profession-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Profession-macro}" name="attr_Profession-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{profession} @{Profession-name}}} {{Check=[[ @{skill-query} + [[ @{Profession} ]]  ]]}} @{Profession-ut} @{skill_options} @{Profession-cond-notes} {{generic_note=@{Profession-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row profession bg custom-skill-2" data-i18n-list-item="profession-05">
                            <span class="table-cell"><button title="%{selected|Profession2-Check}" type="roll" value="@{PC-Whisper} @{Profession2-macro}" name="roll_Profession2-Check"></button></span>
                            <span class="table-cell left"><input title="@{Profession2-name}" style="width:96%;" type="text" name="attr_Profession2-name" data-i18n-placeholder="profession" /></span>
                            <span class="table-cell"><input title="@{Profession2}" type="number" name="attr_Profession2" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Profession2-ranks}" type="number" name="attr_Profession2-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession2-cs}" type="checkbox" name="attr_Profession2-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Profession2-ability}" name="attr_Profession2-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Profession2-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Profession2-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Profession2-racial}" type="number" name="attr_Profession2-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession2-trait}" type="number" name="attr_Profession2-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession2-feat}" type="number" name="attr_Profession2-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession2-item}" type="number" name="attr_Profession2-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Profession2-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Profession2-misc}" type="text" name="attr_Profession2-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Profession2-misc-mod}" type="number" class="calc" readonly name="attr_Profession2-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession2-ReqTrain}" type="checkbox" name="attr_Profession2-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Profession2-note}" name="attr_Profession2-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Profession2-macro}" name="attr_Profession2-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{profession} @{Profession2-name}}} {{Check=[[ @{skill-query} + [[ @{Profession2} ]]  ]]}} @{Profession2-ut} @{skill_options} @{Profession2-cond-notes} {{generic_note=@{Profession2-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row profession bg custom-skill-3" data-i18n-list-item="profession-06">
                            <span class="table-cell"><button title="%{selected|Profession3-Check}" type="roll" value="@{PC-Whisper} @{Profession3-macro}" name="roll_Profession3-Check"></button></span>
                            <span class="table-cell left"><input title="@{Profession3-name}" style="width:96%;" type="text" name="attr_Profession3-name" data-i18n-placeholder="profession" /></span>
                            <span class="table-cell"><input title="@{Profession3}" type="number" name="attr_Profession3" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Profession3-ranks}" type="number" name="attr_Profession3-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession3-cs}" type="checkbox" name="attr_Profession3-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Profession3-ability}" name="attr_Profession3-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Profession3-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Profession3-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Profession3-racial}" type="number" name="attr_Profession3-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession3-trait}" type="number" name="attr_Profession3-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession3-feat}" type="number" name="attr_Profession3-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession3-item}" type="number" name="attr_Profession3-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Profession3-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Profession3-misc}" type="text" name="attr_Profession3-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Profession3-misc-mod}" type="number" class="calc" readonly name="attr_Profession3-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession3-ReqTrain}" type="checkbox" name="attr_Profession3-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Profession3-note}" name="attr_Profession3-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Profession3-macro}" name="attr_Profession3-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{profession} @{Profession3-name}}} {{Check=[[ @{skill-query} + [[ @{Profession3} ]]  ]]}} @{Profession3-ut} @{skill_options} @{Profession3-cond-notes} {{generic_note=@{Profession3-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row profession bg custom-skill-6" data-i18n-list-item="profession-07">
                            <span class="table-cell"><button title="%{selected|Profession4-Check}" type="roll" value="@{PC-Whisper} @{Profession4-macro}" name="roll_Profession4-Check"></button></span>
                            <span class="table-cell left"><input title="@{Profession4-name}" style="width:96%;" type="text" name="attr_Profession4-name" data-i18n-placeholder="profession" /></span>
                            <span class="table-cell"><input title="@{Profession4}" type="number" name="attr_Profession4" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Profession4-ranks}" type="number" name="attr_Profession4-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession4-cs}" type="checkbox" name="attr_Profession4-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Profession4-ability}" name="attr_Profession4-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Profession4-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Profession4-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Profession4-racial}" type="number" name="attr_Profession4-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession4-trait}" type="number" name="attr_Profession4-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession4-feat}" type="number" name="attr_Profession4-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession4-item}" type="number" name="attr_Profession4-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Profession4-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Profession4-misc}" type="text" name="attr_Profession4-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Profession4-misc-mod}" type="number" class="calc" readonly name="attr_Profession4-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession4-ReqTrain}" type="checkbox" name="attr_Profession4-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Profession4-note}" name="attr_Profession4-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Profession4-macro}" name="attr_Profession4-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{profession} @{Profession4-name}}} {{Check=[[ @{skill-query} + [[ @{Profession4} ]]  ]]}} @{Profession4-ut} @{skill_options} @{Profession4-cond-notes} {{generic_note=@{Profession4-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row profession bg custom-skill-6" data-i18n-list-item="profession-08">
                            <span class="table-cell"><button title="%{selected|Profession5-Check}" type="roll" value="@{PC-Whisper} @{Profession5-macro}" name="roll_Profession5-Check"></button></span>
                            <span class="table-cell left"><input title="@{Profession5-name}" style="width:96%;" type="text" name="attr_Profession5-name" data-i18n-placeholder="profession" /></span>
                            <span class="table-cell"><input title="@{Profession5}" type="number" name="attr_Profession5" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Profession5-ranks}" type="number" name="attr_Profession5-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession5-cs}" type="checkbox" name="attr_Profession5-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Profession5-ability}" name="attr_Profession5-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Profession5-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Profession5-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Profession5-racial}" type="number" name="attr_Profession5-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession5-trait}" type="number" name="attr_Profession5-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession5-feat}" type="number" name="attr_Profession5-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession5-item}" type="number" name="attr_Profession5-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Profession5-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Profession5-misc}" type="text" name="attr_Profession5-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Profession5-misc-mod}" type="number" class="calc" readonly name="attr_Profession5-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession5-ReqTrain}" type="checkbox" name="attr_Profession5-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Profession5-note}" name="attr_Profession5-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Profession5-macro}" name="attr_Profession5-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{profession} @{Profession5-name}}} {{Check=[[ @{skill-query} + [[ @{Profession5} ]]  ]]}} @{Profession5-ut} @{skill_options} @{Profession5-cond-notes} {{generic_note=@{Profession5-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row profession bg custom-skill-6" data-i18n-list-item="profession-09">
                            <span class="table-cell"><button title="%{selected|Profession6-Check}" type="roll" value="@{PC-Whisper} @{Profession6-macro}" name="roll_Profession6-Check"></button></span>
                            <span class="table-cell left"><input title="@{Profession6-name}" style="width:96%;" type="text" name="attr_Profession6-name" data-i18n-placeholder="profession" /></span>
                            <span class="table-cell"><input title="@{Profession6}" type="number" name="attr_Profession6" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Profession6-ranks}" type="number" name="attr_Profession6-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession6-cs}" type="checkbox" name="attr_Profession6-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Profession6-ability}" name="attr_Profession6-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Profession6-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Profession6-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Profession6-racial}" type="number" name="attr_Profession6-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession6-trait}" type="number" name="attr_Profession6-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession6-feat}" type="number" name="attr_Profession6-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession6-item}" type="number" name="attr_Profession6-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Profession6-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Profession6-misc}" type="text" name="attr_Profession6-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Profession6-misc-mod}" type="number" class="calc" readonly name="attr_Profession6-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession6-ReqTrain}" type="checkbox" name="attr_Profession6-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Profession6-note}" name="attr_Profession6-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Profession6-macro}" name="attr_Profession6-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{profession} @{Profession6-name}}} {{Check=[[ @{skill-query} + [[ @{Profession6} ]]  ]]}} @{Profession6-ut} @{skill_options} @{Profession6-cond-notes} {{generic_note=@{Profession6-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row profession bg custom-skill-10" data-i18n-list-item="profession-10">
                            <span class="table-cell"><button title="%{selected|Profession7-Check}" type="roll" value="@{PC-Whisper} @{Profession7-macro}" name="roll_Profession7-Check"></button></span>
                            <span class="table-cell left"><input title="@{Profession7-name}" style="width:96%;" type="text" name="attr_Profession7-name" data-i18n-placeholder="profession" /></span>
                            <span class="table-cell"><input title="@{Profession7}" type="number" name="attr_Profession7" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Profession7-ranks}" type="number" name="attr_Profession7-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession7-cs}" type="checkbox" name="attr_Profession7-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Profession7-ability}" name="attr_Profession7-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Profession7-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Profession7-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Profession7-racial}" type="number" name="attr_Profession7-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession7-trait}" type="number" name="attr_Profession7-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession7-feat}" type="number" name="attr_Profession7-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession7-item}" type="number" name="attr_Profession7-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Profession7-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Profession7-misc}" type="text" name="attr_Profession7-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Profession7-misc-mod}" type="number" class="calc" readonly name="attr_Profession7-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession7-ReqTrain}" type="checkbox" name="attr_Profession7-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Profession7-note}" name="attr_Profession7-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Profession7-macro}" name="attr_Profession7-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{profession} @{Profession7-name}}} {{Check=[[ @{skill-query} + [[ @{Profession7} ]]  ]]}} @{Profession7-ut} @{skill_options} @{Profession7-cond-notes} {{generic_note=@{Profession7-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row profession bg custom-skill-10" data-i18n-list-item="profession-11">
                            <span class="table-cell"><button title="%{selected|Profession8-Check}" type="roll" value="@{PC-Whisper} @{Profession8-macro}" name="roll_Profession8-Check"></button></span>
                            <span class="table-cell left"><input title="@{Profession8-name}" style="width:96%;" type="text" name="attr_Profession8-name" data-i18n-placeholder="profession" /></span>
                            <span class="table-cell"><input title="@{Profession8}" type="number" name="attr_Profession8" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Profession8-ranks}" type="number" name="attr_Profession8-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession8-cs}" type="checkbox" name="attr_Profession8-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Profession8-ability}" name="attr_Profession8-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Profession8-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Profession8-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Profession8-racial}" type="number" name="attr_Profession8-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession8-trait}" type="number" name="attr_Profession8-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession8-feat}" type="number" name="attr_Profession8-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession8-item}" type="number" name="attr_Profession8-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Profession8-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Profession8-misc}" type="text" name="attr_Profession8-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Profession8-misc-mod}" type="number" class="calc" readonly name="attr_Profession8-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession8-ReqTrain}" type="checkbox" name="attr_Profession8-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Profession8-note}" name="attr_Profession8-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Profession8-macro}" name="attr_Profession8-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{profession} @{Profession8-name}}} {{Check=[[ @{skill-query} + [[ @{Profession8} ]]  ]]}} @{Profession8-ut} @{skill_options} @{Profession8-cond-notes} {{generic_note=@{Profession8-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row profession bg custom-skill-10" data-i18n-list-item="profession-12">
                            <span class="table-cell"><button title="%{selected|Profession9-Check}" type="roll" value="@{PC-Whisper} @{Profession9-macro}" name="roll_Profession9-Check"></button></span>
                            <span class="table-cell left"><input title="@{Profession9-name}" style="width:96%;" type="text" name="attr_Profession9-name" data-i18n-placeholder="profession" /></span>
                            <span class="table-cell"><input title="@{Profession9}" type="number" name="attr_Profession9" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Profession9-ranks}" type="number" name="attr_Profession9-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession9-cs}" type="checkbox" name="attr_Profession9-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Profession9-ability}" name="attr_Profession9-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Profession9-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Profession9-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Profession9-racial}" type="number" name="attr_Profession9-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession9-trait}" type="number" name="attr_Profession9-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession9-feat}" type="number" name="attr_Profession9-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession9-item}" type="number" name="attr_Profession9-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Profession9-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Profession9-misc}" type="text" name="attr_Profession9-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Profession9-misc-mod}" type="number" class="calc" readonly name="attr_Profession9-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession9-ReqTrain}" type="checkbox" name="attr_Profession9-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Profession9-note}" name="attr_Profession9-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Profession9-macro}" name="attr_Profession9-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{profession} @{Profession9-name}}} {{Check=[[ @{skill-query} + [[ @{Profession9} ]]  ]]}} @{Profession9-ut} @{skill_options} @{Profession9-cond-notes} {{generic_note=@{Profession9-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row profession bg custom-skill-10" data-i18n-list-item="profession-13">
                            <span class="table-cell"><button title="%{selected|Profession10-Check}" type="roll" value="@{PC-Whisper} @{Profession10-macro}" name="roll_Profession10-Check"></button></span>
                            <span class="table-cell left"><input title="@{Profession10-name}" style="width:96%;" type="text" name="attr_Profession10-name" data-i18n-placeholder="profession" /></span>
                            <span class="table-cell"><input title="@{Profession10}" type="number" name="attr_Profession10" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Profession10-ranks}" type="number" name="attr_Profession10-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession10-cs}" type="checkbox" name="attr_Profession10-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Profession10-ability}" name="attr_Profession10-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Profession10-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Profession10-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Profession10-racial}" type="number" name="attr_Profession10-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession10-trait}" type="number" name="attr_Profession10-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession10-feat}" type="number" name="attr_Profession10-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession10-item}" type="number" name="attr_Profession10-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Profession10-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Profession10-misc}" type="text" name="attr_Profession10-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Profession10-misc-mod}" type="number" class="calc" readonly name="attr_Profession10-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Profession10-ReqTrain}" type="checkbox" name="attr_Profession10-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Profession10-note}" name="attr_Profession10-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Profession10-macro}" name="attr_Profession10-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{profession} @{Profession10-name}}} {{Check=[[ @{skill-query} + [[ @{Profession10} ]]  ]]}} @{Profession10-ut} @{skill_options} @{Profession10-cond-notes} {{generic_note=@{Profession10-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row adventure" data-i18n-list-item="ride">
                            <span class="table-cell"><button title="%{selected|Ride-Check}" type="roll" value="@{PC-Whisper} @{Ride-macro}" name="roll_Ride-Check"></button></span>
                            <span class="table-cell left" data-i18n="ride">Ride</span>
                            <span class="table-cell"><input title="@{Ride}" type="number" name="attr_Ride" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Ride-ranks}" type="number" name="attr_Ride-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Ride-cs}" type="checkbox" name="attr_Ride-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Ride-ability}" name="attr_Ride-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Ride-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Ride-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Ride-racial}" type="number" name="attr_Ride-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Ride-trait}" type="number" name="attr_Ride-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Ride-feat}" type="number" name="attr_Ride-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Ride-item}" type="number" name="attr_Ride-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Ride-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Ride-misc}" type="text" name="attr_Ride-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Ride-misc-mod}" type="number" class="calc" readonly name="attr_Ride-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Ride-ReqTrain}" type="checkbox" name="attr_Ride-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Ride-note}" name="attr_Ride-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Ride-macro}" name="attr_Ride-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{ride}}} {{Check=[[ @{skill-query} + [[ @{Ride} ]]  ]]}} @{Ride-ut} @{skill_options} @{Ride-cond-notes} {{generic_note=@{Ride-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row adventure" data-i18n-list-item="sense-motive">
                            <span class="table-cell"><button title="%{selected|Sense-Motive-Check}" type="roll" value="@{PC-Whisper} @{Sense-Motive-macro}" name="roll_Sense-Motive-Check"></button></span>
                            <span class="table-cell left" data-i18n="sense-motive">Sense-Motive</span>
                            <span class="table-cell"><input title="@{Sense-Motive}" type="number" name="attr_Sense-Motive" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Sense-Motive-ranks}" type="number" name="attr_Sense-Motive-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Sense-Motive-cs}" type="checkbox" name="attr_Sense-Motive-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Sense-Motive-ability}" name="attr_Sense-Motive-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Sense-Motive-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Sense-Motive-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Sense-Motive-racial}" type="number" name="attr_Sense-Motive-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Sense-Motive-trait}" type="number" name="attr_Sense-Motive-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Sense-Motive-feat}" type="number" name="attr_Sense-Motive-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Sense-Motive-item}" type="number" name="attr_Sense-Motive-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Sense-Motive-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Sense-Motive-misc}" type="text" name="attr_Sense-Motive-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Sense-Motive-misc-mod}" type="number" class="calc" readonly name="attr_Sense-Motive-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Sense-Motive-ReqTrain}" type="checkbox" name="attr_Sense-Motive-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Sense-Motive-note}" name="attr_Sense-Motive-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Sense-Motive-macro}" name="attr_Sense-Motive-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{sense-motive}}} {{Check=[[ @{skill-query} + [[ @{Sense-Motive} ]]  ]]}} @{Sense-Motive-ut} @{skill_options} @{Sense-Motive-cond-notes} {{generic_note=@{Sense-Motive-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row bg" data-i18n-list-item="sleight-of-hand">
                            <span class="table-cell"><button title="%{selected|Sleight-of-Hand-Check}" type="roll" value="@{PC-Whisper} @{Sleight-of-Hand-macro}" name="roll_Sleight-of-Hand-Check"></button></span>
                            <span class="table-cell left" data-i18n="sleight-of-hand">Sleight-of-Hand</span>
                            <span class="table-cell"><input title="@{Sleight-of-Hand}" type="number" name="attr_Sleight-of-Hand" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Sleight-of-Hand-ranks}" type="number" name="attr_Sleight-of-Hand-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Sleight-of-Hand-cs}" type="checkbox" name="attr_Sleight-of-Hand-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Sleight-of-Hand-ability}" name="attr_Sleight-of-Hand-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Sleight-of-Hand-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Sleight-of-Hand-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Sleight-of-Hand-racial}" type="number" name="attr_Sleight-of-Hand-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Sleight-of-Hand-trait}" type="number" name="attr_Sleight-of-Hand-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Sleight-of-Hand-feat}" type="number" name="attr_Sleight-of-Hand-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Sleight-of-Hand-item}" type="number" name="attr_Sleight-of-Hand-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Sleight-of-Hand-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Sleight-of-Hand-misc}" type="text" name="attr_Sleight-of-Hand-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Sleight-of-Hand-misc-mod}" type="number" class="calc" readonly name="attr_Sleight-of-Hand-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Sleight-of-Hand-ReqTrain}" type="checkbox" name="attr_Sleight-of-Hand-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Sleight-of-Hand-note}" name="attr_Sleight-of-Hand-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Sleight-of-Hand-macro}" name="attr_Sleight-of-Hand-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{sleight-of-hand}}} {{Check=[[ @{skill-query} + [[ @{Sleight-of-Hand} ]]  ]]}} @{Sleight-of-Hand-ut} @{skill_options} @{Sleight-of-Hand-cond-notes} {{generic_note=@{Sleight-of-Hand-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row adventure" data-i18n-list-item="spellcraft">
                            <span class="table-cell"><button title="%{selected|Spellcraft-Check}" type="roll" value="@{PC-Whisper} @{Spellcraft-macro}" name="roll_Spellcraft-Check"></button></span>
                            <span class="table-cell left" data-i18n="spellcraft">Spellcraft</span>
                            <span class="table-cell"><input title="@{Spellcraft}" type="number" name="attr_Spellcraft" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Spellcraft-ranks}" type="number" name="attr_Spellcraft-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Spellcraft-cs}" type="checkbox" name="attr_Spellcraft-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Spellcraft-ability}" name="attr_Spellcraft-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Spellcraft-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Spellcraft-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Spellcraft-racial}" type="number" name="attr_Spellcraft-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Spellcraft-trait}" type="number" name="attr_Spellcraft-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Spellcraft-feat}" type="number" name="attr_Spellcraft-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Spellcraft-item}" type="number" name="attr_Spellcraft-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Spellcraft-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Spellcraft-misc}" type="text" name="attr_Spellcraft-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Spellcraft-misc-mod}" type="number" class="calc" readonly name="attr_Spellcraft-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Spellcraft-ReqTrain}" type="checkbox" name="attr_Spellcraft-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Spellcraft-note}" name="attr_Spellcraft-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Spellcraft-macro}" name="attr_Spellcraft-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{spellcraft}}} {{Check=[[ @{skill-query} + [[ @{Spellcraft} ]]  ]]}} @{Spellcraft-ut} @{skill_options} @{Spellcraft-cond-notes} {{generic_note=@{Spellcraft-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row adventure" data-i18n-list-item="stealth">
                            <span class="table-cell"><button title="%{selected|Stealth-Check}" type="roll" value="@{PC-Whisper} @{Stealth-macro}" name="roll_Stealth-Check"></button></span>
                            <span class="table-cell left"><span data-i18n="stealth">Stealth</span>*</span>
                            <span class="table-cell"><input title="@{Stealth}" type="number" name="attr_Stealth" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Stealth-ranks}" type="number" name="attr_Stealth-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Stealth-cs}" type="checkbox" name="attr_Stealth-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Stealth-ability}" name="attr_Stealth-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Stealth-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Stealth-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Stealth-racial}" type="number" name="attr_Stealth-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Stealth-trait}" type="number" name="attr_Stealth-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Stealth-feat}" type="number" name="attr_Stealth-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Stealth-item}" type="number" name="attr_Stealth-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Stealth-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Stealth-misc}" type="text" name="attr_Stealth-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Stealth-misc-mod}" type="number" class="calc" readonly name="attr_Stealth-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Stealth-ReqTrain}" type="checkbox" name="attr_Stealth-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Stealth-note}" name="attr_Stealth-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Stealth-macro}" name="attr_Stealth-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{stealth}}} {{Check=[[ @{skill-query} + [[ @{Stealth} ]]  ]]}} @{Stealth-ut} @{skill_options} @{Stealth-cond-notes} {{generic_note=@{Stealth-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row adventure" data-i18n-list-item="survival">
                            <span class="table-cell"><button title="%{selected|Survival-Check}" type="roll" value="@{PC-Whisper} @{Survival-macro}" name="roll_Survival-Check"></button></span>
                            <span class="table-cell left" data-i18n="survival">Survival</span>
                            <span class="table-cell"><input title="@{Survival}" type="number" name="attr_Survival" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Survival-ranks}" type="number" name="attr_Survival-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Survival-cs}" type="checkbox" name="attr_Survival-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Survival-ability}" name="attr_Survival-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Survival-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Survival-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Survival-racial}" type="number" name="attr_Survival-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Survival-trait}" type="number" name="attr_Survival-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Survival-feat}" type="number" name="attr_Survival-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Survival-item}" type="number" name="attr_Survival-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Survival-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Survival-misc}" type="text" name="attr_Survival-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Survival-misc-mod}" type="number" class="calc" readonly name="attr_Survival-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Survival-ReqTrain}" type="checkbox" name="attr_Survival-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Survival-note}" name="attr_Survival-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Survival-macro}" name="attr_Survival-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{survival}}} {{Check=[[ @{skill-query} + [[ @{Survival} ]]  ]]}} @{Survival-ut} @{skill_options} @{Survival-cond-notes} {{generic_note=@{Survival-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row adventure" data-i18n-list-item="swim">
                            <span class="table-cell"><button title="%{selected|Swim-Check}" type="roll" value="@{PC-Whisper} @{Swim-macro}" name="roll_Swim-Check"></button></span>
                            <span class="table-cell left" data-i18n="swim">Swim</span>
                            <span class="table-cell"><input title="@{Swim}" type="number" name="attr_Swim" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Swim-ranks}" type="number" name="attr_Swim-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Swim-cs}" type="checkbox" name="attr_Swim-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Swim-ability}" name="attr_Swim-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv-default" selected>&#8226;STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Swim-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Swim-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Swim-racial}" type="number" name="attr_Swim-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Swim-trait}" type="number" name="attr_Swim-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Swim-feat}" type="number" name="attr_Swim-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Swim-item}" type="number" name="attr_Swim-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Swim-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Swim-misc}" type="text" name="attr_Swim-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Swim-misc-mod}" type="number" class="calc" readonly name="attr_Swim-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Swim-ReqTrain}" type="checkbox" name="attr_Swim-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Swim-note}" name="attr_Swim-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Swim-macro}" name="attr_Swim-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{swim}}} {{Check=[[ @{skill-query} + [[ @{Swim} ]]  ]]}} @{Swim-ut} @{skill_options} @{Swim-cond-notes} {{generic_note=@{Swim-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row adventure" data-i18n-list-item="use-magic-device">
                            <span class="table-cell"><button title="%{selected|Use-Magic-Device-Check}" type="roll" value="@{PC-Whisper} @{Use-Magic-Device-macro}" name="roll_Use-Magic-Device-Check"></button></span>
                            <span class="table-cell left" data-i18n="use-magic-device">Use Magic Device</span>
                            <span class="table-cell"><input title="@{Use-Magic-Device}" type="number" name="attr_Use-Magic-Device" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Use-Magic-Device-ranks}" type="number" name="attr_Use-Magic-Device-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Use-Magic-Device-cs}" type="checkbox" name="attr_Use-Magic-Device-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Use-Magic-Device-ability}" name="attr_Use-Magic-Device-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Use-Magic-Device-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Use-Magic-Device-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Use-Magic-Device-racial}" type="number" name="attr_Use-Magic-Device-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Use-Magic-Device-trait}" type="number" name="attr_Use-Magic-Device-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Use-Magic-Device-feat}" type="number" name="attr_Use-Magic-Device-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Use-Magic-Device-item}" type="number" name="attr_Use-Magic-Device-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Use-Magic-Device-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Use-Magic-Device-misc}" type="text" name="attr_Use-Magic-Device-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Use-Magic-Device-misc-mod}" type="number" class="calc" readonly name="attr_Use-Magic-Device-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Use-Magic-Device-ReqTrain}" type="checkbox" name="attr_Use-Magic-Device-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Use-Magic-Device-note}" name="attr_Use-Magic-Device-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Use-Magic-Device-macro}" name="attr_Use-Magic-Device-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{use-magic-device}}} {{Check=[[ @{skill-query} + [[ @{Use-Magic-Device} ]]  ]]}} @{Use-Magic-Device-ut} @{skill_options} @{Use-Magic-Device-cond-notes} {{generic_note=@{Use-Magic-Device-note}}}</textarea>
                            </details>
                        </div>
                        <span class="misc-skill-2 table-cell adventure bg" data-i18n-list-item="miscellaneous"> </span>
                        <input class="misc-skill-2 showarrow misc-show adventure bg" data-i18n-list-item="miscellaneous-00" type="checkbox" name="attr_misc-show" data-i18n-aria-label="miscellaneous-abbrv" data-i18n-title="showsect-cmd" value="1" checked />
                        <label class="misc-skill-2 showsect skill-minishow adventure bg" data-i18n-list-item="miscellaneous-01" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="miscellaneous-abbrv">Misc</label>
                        <span class="misc-skill-2 adventure bg" data-i18n-list-item="miscellaneous-02"></span>
                        <div class="misc-skill-2 table-row adventure bg" data-i18n-list-item="miscellaneous-03">
                            <!--used to keep these sections from collapsing on each other when hidden-->
                        </div>
                        <div class="table-row misc adventure" data-i18n-list-item="miscellaneous-04">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-0-Check}" type="roll" value="@{PC-Whisper} @{Misc-Skill-0-macro}" name="roll_Misc-Skill-0-Check"></button></span>
                            <span class="table-cell left"><input type="text" title="@{Misc-Skill-0-name}" name="attr_Misc-Skill-0-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;"></span>
                            <span class="table-cell"><input title="@{Misc-Skill-0}" type="number" name="attr_Misc-Skill-0" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-0-ranks}" type="number" name="attr_Misc-Skill-0-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-0-cs}" type="checkbox" name="attr_Misc-Skill-0-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Misc-Skill-0-ability}" name="attr_Misc-Skill-0-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Misc-Skill-0-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Misc-Skill-0-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Misc-Skill-0-racial}" type="number" name="attr_Misc-Skill-0-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-0-trait}" type="number" name="attr_Misc-Skill-0-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-0-feat}" type="number" name="attr_Misc-Skill-0-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-0-item}" type="number" name="attr_Misc-Skill-0-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Misc-Skill-0-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Misc-Skill-0-misc}" type="text" name="attr_Misc-Skill-0-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Misc-Skill-0-misc-mod}" type="number" class="calc" readonly name="attr_Misc-Skill-0-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-0-ReqTrain}" type="checkbox" name="attr_Misc-Skill-0-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Misc-Skill-0-note}" name="attr_Misc-Skill-0-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Misc-Skill-0-macro}" name="attr_Misc-Skill-0-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{Misc-Skill-0-name}}} {{Check=[[ @{skill-query} + [[ @{Misc-Skill-0} ]]  ]]}} @{Misc-Skill-0-ut} @{skill_options} @{Misc-Skill-0-cond-notes} {{generic_note=@{Misc-Skill-0-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row misc adventure misc-skill-2" data-i18n-list-item="miscellaneous-05">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-1-Check}" type="roll" value="@{PC-Whisper} @{Misc-Skill-1-macro}" name="roll_Misc-Skill-1-Check"></button></span>
                            <span class="table-cell left"><input type="text" title="@{Misc-Skill-1-name}" name="attr_Misc-Skill-1-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;"></span>
                            <span class="table-cell"><input title="@{Misc-Skill-1}" type="number" name="attr_Misc-Skill-1" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-1-ranks}" type="number" name="attr_Misc-Skill-1-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-1-cs}" type="checkbox" name="attr_Misc-Skill-1-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Misc-Skill-1-ability}" name="attr_Misc-Skill-1-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Misc-Skill-1-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Misc-Skill-1-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Misc-Skill-1-racial}" type="number" name="attr_Misc-Skill-1-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-1-trait}" type="number" name="attr_Misc-Skill-1-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-1-feat}" type="number" name="attr_Misc-Skill-1-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-1-item}" type="number" name="attr_Misc-Skill-1-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Misc-Skill-1-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Misc-Skill-1-misc}" type="text" name="attr_Misc-Skill-1-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Misc-Skill-1-misc-mod}" type="number" class="calc" readonly name="attr_Misc-Skill-1-misc-mod" value="0" /></span>
                            <span class="table-cell highlight"><input title="@{Misc-Skill-1-ReqTrain}" type="checkbox" name="attr_Misc-Skill-1-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Misc-Skill-1-note}" name="attr_Misc-Skill-1-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Misc-Skill-1-macro}" name="attr_Misc-Skill-1-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{Misc-Skill-1-name}}} {{Check=[[ @{skill-query} + [[ @{Misc-Skill-1} ]]  ]]}} @{Misc-Skill-1-ut} @{skill_options} @{Misc-Skill-1-cond-notes} {{generic_note=@{Misc-Skill-1-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row misc adventure misc-skill-3" data-i18n-list-item="miscellaneous-06">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-2-Check}" type="roll" value="@{PC-Whisper} @{Misc-Skill-2-macro}" name="roll_Misc-Skill-2-Check"></button></span>
                            <span class="table-cell left"><input type="text" title="@{Misc-Skill-2-name}" name="attr_Misc-Skill-2-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;"></span>
                            <span class="table-cell"><input title="@{Misc-Skill-2}" type="number" name="attr_Misc-Skill-2" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-2-ranks}" type="number" name="attr_Misc-Skill-2-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-2-cs}" type="checkbox" name="attr_Misc-Skill-2-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Misc-Skill-2-ability}" name="attr_Misc-Skill-2-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Misc-Skill-2-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Misc-Skill-2-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Misc-Skill-2-racial}" type="number" name="attr_Misc-Skill-2-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-2-trait}" type="number" name="attr_Misc-Skill-2-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-2-feat}" type="number" name="attr_Misc-Skill-2-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-2-item}" type="number" name="attr_Misc-Skill-2-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Misc-Skill-2-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Misc-Skill-2-misc}" type="text" name="attr_Misc-Skill-2-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Misc-Skill-2-misc-mod}" type="number" class="calc" readonly name="attr_Misc-Skill-2-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-2-ReqTrain}" type="checkbox" name="attr_Misc-Skill-2-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Misc-Skill-2-note}" name="attr_Misc-Skill-2-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Misc-Skill-2-macro}" name="attr_Misc-Skill-2-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{Misc-Skill-2-name}}} {{Check=[[ @{skill-query} + [[ @{Misc-Skill-2} ]]  ]]}} @{Misc-Skill-2-ut} @{skill_options} @{Misc-Skill-2-cond-notes} {{generic_note=@{Misc-Skill-2-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row misc adventure misc-skill-6" data-i18n-list-item="miscellaneous-07">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-3-Check}" type="roll" value="@{PC-Whisper} @{Misc-Skill-3-macro}" name="roll_Misc-Skill-3-Check"></button></span>
                            <span class="table-cell left"><input title="@{Misc-Skill-3-name}" type="text" name="attr_Misc-Skill-3-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-3}" type="number" name="attr_Misc-Skill-3" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-3-ranks}" type="number" name="attr_Misc-Skill-3-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-3-cs}" type="checkbox" name="attr_Misc-Skill-3-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Misc-Skill-3-ability}" name="attr_Misc-Skill-3-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Misc-Skill-3-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Misc-Skill-3-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Misc-Skill-3-racial}" type="number" name="attr_Misc-Skill-3-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-3-trait}" type="number" name="attr_Misc-Skill-3-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-3-feat}" type="number" name="attr_Misc-Skill-3-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-3-item}" type="number" name="attr_Misc-Skill-3-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Misc-Skill-3-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Misc-Skill-3-misc}" type="text" name="attr_Misc-Skill-3-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Misc-Skill-3-misc-mod}" type="number" class="calc" readonly name="attr_Misc-Skill-3-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-3-ReqTrain}" type="checkbox" name="attr_Misc-Skill-3-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Misc-Skill-3-note}" name="attr_Misc-Skill-3-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Misc-Skill-3-macro}" name="attr_Misc-Skill-3-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{Misc-Skill-3-name}}} {{Check=[[ @{skill-query} + [[ @{Misc-Skill-3} ]]  ]]}} @{Misc-Skill-3-ut} @{skill_options} @{Misc-Skill-3-cond-notes} {{generic_note=@{Misc-Skill-3-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row misc adventure misc-skill-6" data-i18n-list-item="miscellaneous-08">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-4-Check}" type="roll" value="@{PC-Whisper} @{Misc-Skill-4-macro}" name="roll_Misc-Skill-4-Check"></button></span>
                            <span class="table-cell left"><input title="@{Misc-Skill-4-name}" type="text" name="attr_Misc-Skill-4-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-4}" type="number" name="attr_Misc-Skill-4" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-4-ranks}" type="number" name="attr_Misc-Skill-4-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-4-cs}" type="checkbox" name="attr_Misc-Skill-4-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Misc-Skill-4-ability}" name="attr_Misc-Skill-4-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Misc-Skill-4-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Misc-Skill-4-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Misc-Skill-4-racial}" type="number" name="attr_Misc-Skill-4-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-4-trait}" type="number" name="attr_Misc-Skill-4-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-4-feat}" type="number" name="attr_Misc-Skill-4-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-4-item}" type="number" name="attr_Misc-Skill-4-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Misc-Skill-4-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Misc-Skill-4-misc}" type="text" name="attr_Misc-Skill-4-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Misc-Skill-4-misc-mod}" type="number" class="calc" readonly name="attr_Misc-Skill-4-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-4-ReqTrain}" type="checkbox" name="attr_Misc-Skill-4-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Misc-Skill-4-note}" name="attr_Misc-Skill-4-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Misc-Skill-4-macro}" name="attr_Misc-Skill-4-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{Misc-Skill-4-name}}} {{Check=[[ @{skill-query} + [[ @{Misc-Skill-4} ]]  ]]}} @{Misc-Skill-4-ut} @{skill_options} @{Misc-Skill-4-cond-notes} {{generic_note=@{Misc-Skill-4-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row misc bg misc-skill-6" data-i18n-list-item="miscellaneous-09">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-5-Check}" type="roll" value="@{PC-Whisper} @{Misc-Skill-5-macro}" name="roll_Misc-Skill-5-Check"></button></span>
                            <span class="table-cell left"><input title="@{Misc-Skill-5-name}" type="text" name="attr_Misc-Skill-5-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-5}" type="number" name="attr_Misc-Skill-5" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-5-ranks}" type="number" name="attr_Misc-Skill-5-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-5-cs}" type="checkbox" name="attr_Misc-Skill-5-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Misc-Skill-5-ability}" name="attr_Misc-Skill-5-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Misc-Skill-5-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Misc-Skill-5-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Misc-Skill-5-racial}" type="number" name="attr_Misc-Skill-5-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-5-trait}" type="number" name="attr_Misc-Skill-5-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-5-feat}" type="number" name="attr_Misc-Skill-5-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-5-item}" type="number" name="attr_Misc-Skill-5-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Misc-Skill-5-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Misc-Skill-5-misc}" type="text" name="attr_Misc-Skill-5-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Misc-Skill-5-misc-mod}" type="number" class="calc" readonly name="attr_Misc-Skill-5-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-5-ReqTrain}" type="checkbox" name="attr_Misc-Skill-5-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Misc-Skill-5-note}" name="attr_Misc-Skill-5-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Misc-Skill-5-macro}" name="attr_Misc-Skill-5-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{Misc-Skill-5-name}}} {{Check=[[ @{skill-query} + [[ @{Misc-Skill-5} ]]  ]]}} @{Misc-Skill-5-ut} @{skill_options} @{Misc-Skill-5-cond-notes} {{generic_note=@{Misc-Skill-5-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row misc bg misc-skill-10" data-i18n-list-item="miscellaneous-10">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-6-Check}" type="roll" value="@{PC-Whisper} @{Misc-Skill-6-macro}" name="roll_Misc-Skill-6-Check"></button></span>
                            <span class="table-cell left"><input title="@{Misc-Skill-6-name}" type="text" name="attr_Misc-Skill-6-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-6}" type="number" name="attr_Misc-Skill-6" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-6-ranks}" type="number" name="attr_Misc-Skill-6-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-6-cs}" type="checkbox" name="attr_Misc-Skill-6-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Misc-Skill-6-ability}" name="attr_Misc-Skill-6-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Misc-Skill-6-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Misc-Skill-6-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Misc-Skill-6-racial}" type="number" name="attr_Misc-Skill-6-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-6-trait}" type="number" name="attr_Misc-Skill-6-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-6-feat}" type="number" name="attr_Misc-Skill-6-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-6-item}" type="number" name="attr_Misc-Skill-6-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Misc-Skill-6-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Misc-Skill-6-misc}" type="text" name="attr_Misc-Skill-6-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Misc-Skill-6-misc-mod}" type="number" class="calc" readonly name="attr_Misc-Skill-6-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-6-ReqTrain}" type="checkbox" name="attr_Misc-Skill-6-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Misc-Skill-6-note}" name="attr_Misc-Skill-6-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Misc-Skill-6-macro}" name="attr_Misc-Skill-6-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{Misc-Skill-6-name}}} {{Check=[[ @{skill-query} + [[ @{Misc-Skill-6} ]]  ]]}} @{Misc-Skill-6-ut} @{skill_options} @{Misc-Skill-6-cond-notes} {{generic_note=@{Misc-Skill-6-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row misc bg misc-skill-10" data-i18n-list-item="miscellaneous-11">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-7-Check}" type="roll" value="@{PC-Whisper} @{Misc-Skill-7-macro}" name="roll_Misc-Skill-7-Check"></button></span>
                            <span class="table-cell left"><input title="@{Misc-Skill-7-name}" type="text" name="attr_Misc-Skill-7-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-7}" type="number" name="attr_Misc-Skill-7" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-7-ranks}" type="number" name="attr_Misc-Skill-7-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-7-cs}" type="checkbox" name="attr_Misc-Skill-7-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Misc-Skill-7-ability}" name="attr_Misc-Skill-7-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Misc-Skill-7-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Misc-Skill-7-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Misc-Skill-7-racial}" type="number" name="attr_Misc-Skill-7-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-7-trait}" type="number" name="attr_Misc-Skill-7-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-7-feat}" type="number" name="attr_Misc-Skill-7-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-7-item}" type="number" name="attr_Misc-Skill-7-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Misc-Skill-7-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Misc-Skill-7-misc}" type="text" name="attr_Misc-Skill-7-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Misc-Skill-7-misc-mod}" type="number" class="calc" readonly name="attr_Misc-Skill-7-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-7-ReqTrain}" type="checkbox" name="attr_Misc-Skill-7-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Misc-Skill-7-note}" name="attr_Misc-Skill-7-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Misc-Skill-7-macro}" name="attr_Misc-Skill-7-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{Misc-Skill-7-name}}} {{Check=[[ @{skill-query} + [[ @{Misc-Skill-7} ]]  ]]}} @{Misc-Skill-7-ut} @{skill_options} @{Misc-Skill-7-cond-notes} {{generic_note=@{Misc-Skill-7-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row misc bg misc-skill-10" data-i18n-list-item="miscellaneous-12">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-8-Check}" type="roll" value="@{PC-Whisper} @{Misc-Skill-8-macro}" name="roll_Misc-Skill-8-Check"></button></span>
                            <span class="table-cell left"><input title="@{Misc-Skill-8-name}" type="text" name="attr_Misc-Skill-8-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-8}" type="number" name="attr_Misc-Skill-8" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-8-ranks}" type="number" name="attr_Misc-Skill-8-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-8-cs}" type="checkbox" name="attr_Misc-Skill-8-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Misc-Skill-8-ability}" name="attr_Misc-Skill-8-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Misc-Skill-8-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Misc-Skill-8-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Misc-Skill-8-racial}" type="number" name="attr_Misc-Skill-8-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-8-trait}" type="number" name="attr_Misc-Skill-8-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-8-feat}" type="number" name="attr_Misc-Skill-8-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-8-item}" type="number" name="attr_Misc-Skill-8-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Misc-Skill-8-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Misc-Skill-8-misc}" type="text" name="attr_Misc-Skill-8-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Misc-Skill-8-misc-mod}" type="number" class="calc" readonly name="attr_Misc-Skill-8-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-8-ReqTrain}" type="checkbox" name="attr_Misc-Skill-8-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Misc-Skill-8-note}" name="attr_Misc-Skill-8-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Misc-Skill-8-macro}" name="attr_Misc-Skill-8-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{Misc-Skill-8-name}}} {{Check=[[ @{skill-query} + [[ @{Misc-Skill-8} ]]  ]]}} @{Misc-Skill-8-ut} @{skill_options} @{Misc-Skill-8-cond-notes} {{generic_note=@{Misc-Skill-8-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row misc bg misc-skill-10" data-i18n-list-item="miscellaneous-13">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-9-Check}" type="roll" value="@{PC-Whisper} @{Misc-Skill-9-macro}" name="roll_Misc-Skill-9-Check"></button></span>
                            <span class="table-cell left"><input title="@{Misc-Skill-9-name}" type="text" name="attr_Misc-Skill-9-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-9}" type="number" name="attr_Misc-Skill-9" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-9-ranks}" type="number" name="attr_Misc-Skill-9-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-9-cs}" type="checkbox" name="attr_Misc-Skill-9-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{Misc-Skill-9-ability}" name="attr_Misc-Skill-9-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_Misc-Skill-9-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_Misc-Skill-9-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{Misc-Skill-9-racial}" type="number" name="attr_Misc-Skill-9-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-9-trait}" type="number" name="attr_Misc-Skill-9-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-9-feat}" type="number" name="attr_Misc-Skill-9-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-9-item}" type="number" name="attr_Misc-Skill-9-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_Misc-Skill-9-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{Misc-Skill-9-misc}" type="text" name="attr_Misc-Skill-9-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{Misc-Skill-9-misc-mod}" type="number" class="calc" readonly name="attr_Misc-Skill-9-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{Misc-Skill-9-ReqTrain}" type="checkbox" name="attr_Misc-Skill-9-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{Misc-Skill-9-note}" name="attr_Misc-Skill-9-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{Misc-Skill-9-macro}" name="attr_Misc-Skill-9-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{Misc-Skill-9-name}}} {{Check=[[ @{skill-query} + [[ @{Misc-Skill-9} ]]  ]]}} @{Misc-Skill-9-ut} @{skill_options} @{Misc-Skill-9-cond-notes} {{generic_note=@{Misc-Skill-9-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row consolidated" data-i18n-list-item="cs-acrobatics">
                            <span class="table-cell"><button title="%{selected|CS-Acrobatics-Check}" type="roll" value="@{PC-Whisper} @{CS-Acrobatics-macro}" name="roll_CS-Acrobatics-Check"></button></span>
                            <span class="table-cell left"><span title="Covers Acrobatics (except jumping), Escape Artist, Fly, Ride" data-i18n="acrobatics">Acrobatics</span></span>
                            <span class="table-cell"><input title="@{CS-Acrobatics}" type="number" name="attr_CS-Acrobatics" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Acrobatics-ranks}" type="number" name="attr_CS-Acrobatics-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Acrobatics-cs}" type="checkbox" name="attr_CS-Acrobatics-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Acrobatics-ability}" name="attr_CS-Acrobatics-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Acrobatics-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Acrobatics-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Acrobatics-racial}" type="number" name="attr_CS-Acrobatics-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Acrobatics-trait}" type="number" name="attr_CS-Acrobatics-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Acrobatics-feat}" type="number" name="attr_CS-Acrobatics-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Acrobatics-item}" type="number" name="attr_CS-Acrobatics-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Acrobatics-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Acrobatics-misc}" type="text" name="attr_CS-Acrobatics-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Acrobatics-misc-mod}" type="number" class="calc" readonly name="attr_CS-Acrobatics-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Acrobatics-ReqTrain}" type="checkbox" name="attr_CS-Acrobatics-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Acrobatics-note}" name="attr_CS-Acrobatics-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Acrobatics-macro}" name="attr_CS-Acrobatics-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{cs-acrobatics}}} {{Check=[[ @{skill-query} + [[ @{CS-Acrobatics} ]]  ]]}} @{CS-Acrobatics-ut} @{skill_options} @{CS-Acrobatics-cond-notes} {{generic_note=@{CS-Acrobatics-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row consolidated" data-i18n-list-item="cs-athletics">
                            <span class="table-cell"><button title="%{selected|CS-Athletics-Check}" type="roll" value="@{PC-Whisper} @{CS-Athletics-macro}" name="roll_CS-Athletics-Check"></button></span>
                            <span class="table-cell left"><span title="Covers Acrobatics (jumping), Climb, Swim" data-i18n="athletics">Athletics</span></span>
                            <span class="table-cell"><input title="@{CS-Athletics}" type="number" name="attr_CS-Athletics" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Athletics-ranks}" type="number" name="attr_CS-Athletics-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Athletics-cs}" type="checkbox" name="attr_CS-Athletics-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Athletics-ability}" name="attr_CS-Athletics-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv-default" selected>&#8226;STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Athletics-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Athletics-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Athletics-racial}" type="number" name="attr_CS-Athletics-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Athletics-trait}" type="number" name="attr_CS-Athletics-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Athletics-feat}" type="number" name="attr_CS-Athletics-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Athletics-item}" type="number" name="attr_CS-Athletics-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Athletics-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Athletics-misc}" type="text" name="attr_CS-Athletics-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Athletics-misc-mod}" type="number" class="calc" readonly name="attr_CS-Athletics-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Athletics-ReqTrain}" type="checkbox" name="attr_CS-Athletics-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Athletics-note}" name="attr_CS-Athletics-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Athletics-macro}" name="attr_CS-Athletics-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{cs-athletics}}} {{Check=[[ @{skill-query} + [[ @{CS-Athletics} ]]  ]]}} @{CS-Athletics-ut} @{skill_options} @{CS-Athletics-cond-notes} {{generic_note=@{CS-Athletics-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row consolidated" data-i18n-list-item="cs-finesse">
                            <span class="table-cell"><button title="%{selected|CS-Finesse-Check}" type="roll" value="@{PC-Whisper} @{CS-Finesse-macro}" name="roll_CS-Finesse-Check"></button></span>
                            <span class="table-cell left"><span title="Covers Disable Device, Sleight of Hand" data-i18n="finesse">Finesse</span></span>
                            <span class="table-cell"><input title="@{CS-Finesse}" type="number" name="attr_CS-Finesse" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Finesse-ranks}" type="number" name="attr_CS-Finesse-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Finesse-cs}" type="checkbox" name="attr_CS-Finesse-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Finesse-ability}" name="attr_CS-Finesse-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Finesse-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Finesse-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Finesse-racial}" type="number" name="attr_CS-Finesse-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Finesse-trait}" type="number" name="attr_CS-Finesse-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Finesse-feat}" type="number" name="attr_CS-Finesse-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Finesse-item}" type="number" name="attr_CS-Finesse-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Finesse-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Finesse-misc}" type="text" name="attr_CS-Finesse-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Finesse-misc-mod}" type="number" class="calc" readonly name="attr_CS-Finesse-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Finesse-ReqTrain}" type="checkbox" name="attr_CS-Finesse-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Finesse-note}" name="attr_CS-Finesse-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Finesse-macro}" name="attr_CS-Finesse-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{cs-finesse}}} {{Check=[[ @{skill-query} + [[ @{CS-Finesse} ]]  ]]}} @{CS-Finesse-ut} @{skill_options} @{CS-Finesse-cond-notes} {{generic_note=@{CS-Finesse-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row consolidated" data-i18n-list-item="cs-influence">
                            <span class="table-cell"><button title="%{selected|CS-Influence-Check}" type="roll" value="@{PC-Whisper} @{CS-Influence-macro}" name="roll_CS-Influence-Check"></button></span>
                            <span class="table-cell left"><span title="Covers Bluff, Diplomacy, Intimidate" data-i18n="influence">Influence</span></span>
                            <span class="table-cell"><input title="@{CS-Influence}" type="number" name="attr_CS-Influence" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Influence-ranks}" type="number" name="attr_CS-Influence-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Influence-cs}" type="checkbox" name="attr_CS-Influence-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Influence-ability}" name="attr_CS-Influence-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Influence-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Influence-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Influence-racial}" type="number" name="attr_CS-Influence-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Influence-trait}" type="number" name="attr_CS-Influence-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Influence-feat}" type="number" name="attr_CS-Influence-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Influence-item}" type="number" name="attr_CS-Influence-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Influence-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Influence-misc}" type="text" name="attr_CS-Influence-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Influence-misc-mod}" type="number" class="calc" readonly name="attr_CS-Influence-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Influence-ReqTrain}" type="checkbox" name="attr_CS-Influence-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Influence-note}" name="attr_CS-Influence-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Influence-macro}" name="attr_CS-Influence-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{cs-influence}}} {{Check=[[ @{skill-query} + [[ @{CS-Influence} ]]  ]]}} @{CS-Influence-ut} @{skill_options} @{CS-Influence-cond-notes} {{generic_note=@{CS-Influence-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row consolidated" data-i18n-list-item="cs-nature">
                            <span class="table-cell"><button title="%{selected|CS-Nature-Check}" type="roll" value="@{PC-Whisper} @{CS-Nature-macro}" name="roll_CS-Nature-Check"></button></span>
                            <span class="table-cell left"><span title="Covers Handle Animal, Knowledge (dungeoneering, geography, nature)" data-i18n="nature">Nature</span></span>
                            <span class="table-cell"><input title="@{CS-Nature}" type="number" name="attr_CS-Nature" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Nature-ranks}" type="number" name="attr_CS-Nature-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Nature-cs}" type="checkbox" name="attr_CS-Nature-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Nature-ability}" name="attr_CS-Nature-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Nature-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Nature-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Nature-racial}" type="number" name="attr_CS-Nature-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Nature-trait}" type="number" name="attr_CS-Nature-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Nature-feat}" type="number" name="attr_CS-Nature-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Nature-item}" type="number" name="attr_CS-Nature-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Nature-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Nature-misc}" type="text" name="attr_CS-Nature-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Nature-misc-mod}" type="number" class="calc" readonly name="attr_CS-Nature-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Nature-ReqTrain}" type="checkbox" name="attr_CS-Nature-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Nature-note}" name="attr_CS-Nature-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Nature-macro}" name="attr_CS-Nature-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{cs-nature}}} {{Check=[[ @{skill-query} + [[ @{CS-Nature} ]]  ]]}} @{CS-Nature-ut} @{skill_options} @{CS-Nature-cond-notes} {{generic_note=@{CS-Nature-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row consolidated" data-i18n-list-item="cs-perception">
                            <span class="table-cell"><button title="%{selected|CS-Perception-Check}" type="roll" value="@{PC-Whisper} @{CS-Perception-macro}" name="roll_CS-Perception-Check"></button></span>
                            <span class="table-cell left"><span title="Covers Perception, Sense Motive" data-i18n="perception">Perception</span></span>
                            <span class="table-cell"><input title="@{CS-Perception}" type="number" name="attr_CS-Perception" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Perception-ranks}" type="number" name="attr_CS-Perception-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Perception-cs}" type="checkbox" name="attr_CS-Perception-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Perception-ability}" name="attr_CS-Perception-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Perception-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Perception-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Perception-racial}" type="number" name="attr_CS-Perception-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Perception-trait}" type="number" name="attr_CS-Perception-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Perception-feat}" type="number" name="attr_CS-Perception-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Perception-item}" type="number" name="attr_CS-Perception-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Perception-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Perception-misc}" type="text" name="attr_CS-Perception-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Perception-misc-mod}" type="number" class="calc" readonly name="attr_CS-Perception-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Perception-ReqTrain}" type="checkbox" name="attr_CS-Perception-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Perception-note}" name="attr_CS-Perception-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Perception-macro}" name="attr_CS-Perception-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{cs-perception}}} {{Check=[[ @{skill-query} + [[ @{CS-Perception} ]]  ]]}} @{CS-Perception-ut} @{skill_options} @{CS-Perception-cond-notes} {{generic_note=@{CS-Perception-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row consolidated" data-i18n-list-item="cs-performance">
                            <span class="table-cell"><button title="%{selected|CS-Performance-Check}" type="roll" value="@{PC-Whisper} @{CS-Performance-macro}" name="roll_CS-Performance-Check"></button></span>
                            <span class="table-cell left"><span title="Covers Disguise, Perform" data-i18n="performance">Performance</span></span>
                            <span class="table-cell"><input title="@{CS-Performance}" type="number" name="attr_CS-Performance" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Performance-ranks}" type="number" name="attr_CS-Performance-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Performance-cs}" type="checkbox" name="attr_CS-Performance-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Performance-ability}" name="attr_CS-Performance-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Performance-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Performance-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Performance-racial}" type="number" name="attr_CS-Performance-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Performance-trait}" type="number" name="attr_CS-Performance-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Performance-feat}" type="number" name="attr_CS-Performance-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Performance-item}" type="number" name="attr_CS-Performance-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Performance-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Performance-misc}" type="text" name="attr_CS-Performance-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Performance-misc-mod}" type="number" class="calc" readonly name="attr_CS-Performance-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Performance-ReqTrain}" type="checkbox" name="attr_CS-Performance-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Performance-note}" name="attr_CS-Performance-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Performance-macro}" name="attr_CS-Performance-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{cs-performance}}} {{Check=[[ @{skill-query} + [[ @{CS-Performance} ]]  ]]}} @{CS-Performance-ut} @{skill_options} @{CS-Performance-cond-notes} {{generic_note=@{CS-Performance-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row consolidated" data-i18n-list-item="cs-religion">
                            <span class="table-cell"><button title="%{selected|CS-Religion-Check}" type="roll" value="@{PC-Whisper} @{CS-Religion-macro}" name="roll_CS-Religion-Check"></button></span>
                            <span class="table-cell left"><span title="Covers Knowledge (planes, religion)" data-i18n="religion">Religion</span></span>
                            <span class="table-cell"><input title="@{CS-Religion}" type="number" name="attr_CS-Religion" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Religion-ranks}" type="number" name="attr_CS-Religion-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Religion-cs}" type="checkbox" name="attr_CS-Religion-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Religion-ability}" name="attr_CS-Religion-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Religion-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Religion-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Religion-racial}" type="number" name="attr_CS-Religion-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Religion-trait}" type="number" name="attr_CS-Religion-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Religion-feat}" type="number" name="attr_CS-Religion-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Religion-item}" type="number" name="attr_CS-Religion-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Religion-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Religion-misc}" type="text" name="attr_CS-Religion-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Religion-misc-mod}" type="number" class="calc" readonly name="attr_CS-Religion-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Religion-ReqTrain}" type="checkbox" name="attr_CS-Religion-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Religion-note}" name="attr_CS-Religion-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Religion-macro}" name="attr_CS-Religion-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{cs-religion}}} {{Check=[[ @{skill-query} + [[ @{CS-Religion} ]]  ]]}} @{CS-Religion-ut} @{skill_options} @{CS-Religion-cond-notes} {{generic_note=@{CS-Religion-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row consolidated" data-i18n-list-item="cs-society">
                            <span class="table-cell"><button title="%{selected|CS-Society-Check}" type="roll" value="@{PC-Whisper} @{CS-Society-macro}" name="roll_CS-Society-Check"></button></span>
                            <span class="table-cell left"><span title="Covers Knowledge (history, local, nobility), Linguistics" data-i18n="society">Society</span></span>
                            <span class="table-cell"><input title="@{CS-Society}" type="number" name="attr_CS-Society" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Society-ranks}" type="number" name="attr_CS-Society-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Society-cs}" type="checkbox" name="attr_CS-Society-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Society-ability}" name="attr_CS-Society-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Society-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Society-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Society-racial}" type="number" name="attr_CS-Society-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Society-trait}" type="number" name="attr_CS-Society-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Society-feat}" type="number" name="attr_CS-Society-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Society-item}" type="number" name="attr_CS-Society-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Society-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Society-misc}" type="text" name="attr_CS-Society-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Society-misc-mod}" type="number" class="calc" readonly name="attr_CS-Society-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Society-ReqTrain}" type="checkbox" name="attr_CS-Society-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Society-note}" name="attr_CS-Society-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Society-macro}" name="attr_CS-Society-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{cs-society}}} {{Check=[[ @{skill-query} + [[ @{CS-Society} ]]  ]]}} @{CS-Society-ut} @{skill_options} @{CS-Society-cond-notes} {{generic_note=@{CS-Society-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row consolidated" data-i18n-list-item="cs-spellcraft">
                            <span class="table-cell"><button title="%{selected|CS-Spellcraft-Check}" type="roll" value="@{PC-Whisper} @{CS-Spellcraft-macro}" name="roll_CS-Spellcraft-Check"></button></span>
                            <span class="table-cell left"><span title="Covers Knowledge (arcana), Spellcraft, Use Magic Device" data-i18n="spellcraft">Spellcraft</span></span>
                            <span class="table-cell"><input title="@{CS-Spellcraft}" type="number" name="attr_CS-Spellcraft" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Spellcraft-ranks}" type="number" name="attr_CS-Spellcraft-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Spellcraft-cs}" type="checkbox" name="attr_CS-Spellcraft-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Spellcraft-ability}" name="attr_CS-Spellcraft-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Spellcraft-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Spellcraft-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Spellcraft-racial}" type="number" name="attr_CS-Spellcraft-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Spellcraft-trait}" type="number" name="attr_CS-Spellcraft-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Spellcraft-feat}" type="number" name="attr_CS-Spellcraft-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Spellcraft-item}" type="number" name="attr_CS-Spellcraft-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Spellcraft-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Spellcraft-misc}" type="text" name="attr_CS-Spellcraft-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Spellcraft-misc-mod}" type="number" class="calc" readonly name="attr_CS-Spellcraft-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Spellcraft-ReqTrain}" type="checkbox" name="attr_CS-Spellcraft-ReqTrain" value="1" checked /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Spellcraft-note}" name="attr_CS-Spellcraft-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Spellcraft-macro}" name="attr_CS-Spellcraft-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{cs-spellcraft}}} {{Check=[[ @{skill-query} + [[ @{CS-Spellcraft} ]]  ]]}} @{CS-Spellcraft-ut} @{skill_options} @{CS-Spellcraft-cond-notes} {{generic_note=@{CS-Spellcraft-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row consolidated" data-i18n-list-item="cs-stealth">
                            <span class="table-cell"><button title="%{selected|CS-Stealth-Check}" type="roll" value="@{PC-Whisper} @{CS-Stealth-macro}" name="roll_CS-Stealth-Check"></button></span>
                            <span class="table-cell left"><span title="Covers Stealth" data-i18n="stealth">Stealth</span>*</span>
                            <span class="table-cell"><input title="@{CS-Stealth}" type="number" name="attr_CS-Stealth" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Stealth-ranks}" type="number" name="attr_CS-Stealth-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Stealth-cs}" type="checkbox" name="attr_CS-Stealth-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Stealth-ability}" name="attr_CS-Stealth-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Stealth-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Stealth-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Stealth-racial}" type="number" name="attr_CS-Stealth-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Stealth-trait}" type="number" name="attr_CS-Stealth-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Stealth-feat}" type="number" name="attr_CS-Stealth-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Stealth-item}" type="number" name="attr_CS-Stealth-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Stealth-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Stealth-misc}" type="text" name="attr_CS-Stealth-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Stealth-misc-mod}" type="number" class="calc" readonly name="attr_CS-Stealth-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Stealth-ReqTrain}" type="checkbox" name="attr_CS-Stealth-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Stealth-note}" name="attr_CS-Stealth-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Stealth-macro}" name="attr_CS-Stealth-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{cs-stealth}}} {{Check=[[ @{skill-query} + [[ @{CS-Stealth} ]]  ]]}} @{CS-Stealth-ut} @{skill_options} @{CS-Stealth-cond-notes} {{generic_note=@{CS-Stealth-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row consolidated" data-i18n-list-item="cs-survival">
                            <span class="table-cell"><button title="%{selected|CS-Survival-Check}" type="roll" value="@{PC-Whisper} @{CS-Survival-macro}" name="roll_CS-Survival-Check"></button></span>
                            <span class="table-cell left"><span title="Covers Heal, Survival" data-i18n="survival">Survival</span></span>
                            <span class="table-cell"><input title="@{CS-Survival}" type="number" name="attr_CS-Survival" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Survival-ranks}" type="number" name="attr_CS-Survival-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Survival-cs}" type="checkbox" name="attr_CS-Survival-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Survival-ability}" name="attr_CS-Survival-ability" class="select-small">
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Survival-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Survival-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Survival-racial}" type="number" name="attr_CS-Survival-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Survival-trait}" type="number" name="attr_CS-Survival-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Survival-feat}" type="number" name="attr_CS-Survival-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Survival-item}" type="number" name="attr_CS-Survival-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Survival-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Survival-misc}" type="text" name="attr_CS-Survival-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Survival-misc-mod}" type="number" class="calc" readonly name="attr_CS-Survival-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Survival-ReqTrain}" type="checkbox" name="attr_CS-Survival-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Survival-note}" name="attr_CS-Survival-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Survival-macro}" name="attr_CS-Survival-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{cs-survival}}} {{Check=[[ @{skill-query} + [[ @{CS-Survival} ]]  ]]}} @{CS-Survival-ut} @{skill_options} @{CS-Survival-cond-notes} {{generic_note=@{CS-Survival-note}}}</textarea>
                            </details>
                        </div>
                        <span class="misc-skill-2 table-cell consolidated consolidated" data-i18n-list-item="cs-miscellaneous"> </span>
                        <input class="misc-skill-2 showarrow misc-show consolidated consolidated" data-i18n-list-item="cs-miscellaneous-00" type="checkbox" name="attr_misc-show" data-i18n-aria-label="miscellaneous-abbrv" data-i18n-title="showsect-cmd" value="1" checked />
                        <label class="misc-skill-2 showsect skill-minishow consolidated" data-i18n-list-item="cs-miscellaneous-01" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="miscellaneous-abbrv">Misc</label>
                        <span class="misc-skill-2 consolidated" data-i18n-list-item="cs-miscellaneous-02"></span>
                        <div class="misc-skill-2 table-row consolidated" data-i18n-list-item="cs-miscellaneous-03">
                            <!--used to keep these sections from collapsing on each other when hidden-->
                        </div>
                        <div class="table-row misc consolidated" data-i18n-list-item="cs-miscellaneous-04">
                            <span class="table-cell"><button title="%{selected|CS-Misc-Skill-0-Check}" type="roll" value="@{PC-Whisper} @{CS-Misc-Skill-0-macro}" name="roll_CS-Misc-Skill-0-Check"></button></span>
                            <span class="table-cell left"><input type="text" title="@{CS-Misc-Skill-0-name}" name="attr_CS-Misc-Skill-0-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;"></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-0}" type="number" name="attr_CS-Misc-Skill-0" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-0-ranks}" type="number" name="attr_CS-Misc-Skill-0-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-0-cs}" type="checkbox" name="attr_CS-Misc-Skill-0-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Misc-Skill-0-ability}" name="attr_CS-Misc-Skill-0-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Misc-Skill-0-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Misc-Skill-0-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-0-racial}" type="number" name="attr_CS-Misc-Skill-0-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-0-trait}" type="number" name="attr_CS-Misc-Skill-0-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-0-feat}" type="number" name="attr_CS-Misc-Skill-0-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-0-item}" type="number" name="attr_CS-Misc-Skill-0-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Misc-Skill-0-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Misc-Skill-0-misc}" type="text" name="attr_CS-Misc-Skill-0-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Misc-Skill-0-misc-mod}" type="number" class="calc" readonly name="attr_CS-Misc-Skill-0-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-0-ReqTrain}" type="checkbox" name="attr_CS-Misc-Skill-0-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Misc-Skill-0-note}" name="attr_CS-Misc-Skill-0-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Misc-Skill-0-macro}" name="attr_CS-Misc-Skill-0-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{CS-Misc-Skill-0-name}}} {{Check=[[ @{skill-query} + [[ @{CS-Misc-Skill-0} ]]  ]]}} @{CS-Misc-Skill-0-ut} @{skill_options} @{CS-Misc-Skill-0-cond-notes} {{generic_note=@{CS-Misc-Skill-0-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row misc consolidated misc-skill-2" data-i18n-list-item="cs-miscellaneous-05">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-1-Check}" type="roll" value="@{PC-Whisper} @{CS-Misc-Skill-1-macro}" name="roll_CS-Misc-Skill-1-Check"></button></span>
                            <span class="table-cell left"><input type="text" title="@{CS-Misc-Skill-1-name}" name="attr_CS-Misc-Skill-1-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;"></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-1}" type="number" name="attr_CS-Misc-Skill-1" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-1-ranks}" type="number" name="attr_CS-Misc-Skill-1-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-1-cs}" type="checkbox" name="attr_CS-Misc-Skill-1-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Misc-Skill-1-ability}" name="attr_CS-Misc-Skill-1-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Misc-Skill-1-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Misc-Skill-1-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-1-racial}" type="number" name="attr_CS-Misc-Skill-1-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-1-trait}" type="number" name="attr_CS-Misc-Skill-1-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-1-feat}" type="number" name="attr_CS-Misc-Skill-1-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-1-item}" type="number" name="attr_CS-Misc-Skill-1-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Misc-Skill-1-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Misc-Skill-1-misc}" type="text" name="attr_CS-Misc-Skill-1-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Misc-Skill-1-misc-mod}" type="number" class="calc" readonly name="attr_CS-Misc-Skill-1-misc-mod" value="0" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Misc-Skill-1-ReqTrain}" type="checkbox" name="attr_CS-Misc-Skill-1-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Misc-Skill-1-note}" name="attr_CS-Misc-Skill-1-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Misc-Skill-1-macro}" name="attr_CS-Misc-Skill-1-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{CS-Misc-Skill-1-name}}} {{Check=[[ @{skill-query} + [[ @{CS-Misc-Skill-1} ]]  ]]}} @{CS-Misc-Skill-1-ut} @{skill_options} @{CS-Misc-Skill-1-cond-notes} {{generic_note=@{CS-Misc-Skill-1-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row misc consolidated misc-skill-3" data-i18n-list-item="cs-miscellaneous-06">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-2-Check}" type="roll" value="@{PC-Whisper} @{CS-Misc-Skill-2-macro}" name="roll_CS-Misc-Skill-2-Check"></button></span>
                            <span class="table-cell left"><input type="text" title="@{CS-Misc-Skill-2-name}" name="attr_CS-Misc-Skill-2-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;"></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-2}" type="number" name="attr_CS-Misc-Skill-2" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-2-ranks}" type="number" name="attr_CS-Misc-Skill-2-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-2-cs}" type="checkbox" name="attr_CS-Misc-Skill-2-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Misc-Skill-2-ability}" name="attr_CS-Misc-Skill-2-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Misc-Skill-2-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Misc-Skill-2-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-2-racial}" type="number" name="attr_CS-Misc-Skill-2-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-2-trait}" type="number" name="attr_CS-Misc-Skill-2-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-2-feat}" type="number" name="attr_CS-Misc-Skill-2-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-2-item}" type="number" name="attr_CS-Misc-Skill-2-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Misc-Skill-2-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Misc-Skill-2-misc}" type="text" name="attr_CS-Misc-Skill-2-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Misc-Skill-2-misc-mod}" type="number" class="calc" readonly name="attr_CS-Misc-Skill-2-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-2-ReqTrain}" type="checkbox" name="attr_CS-Misc-Skill-2-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Misc-Skill-2-note}" name="attr_CS-Misc-Skill-2-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Misc-Skill-2-macro}" name="attr_CS-Misc-Skill-2-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{CS-Misc-Skill-2-name}}} {{Check=[[ @{skill-query} + [[ @{CS-Misc-Skill-2} ]]  ]]}} @{CS-Misc-Skill-2-ut} @{skill_options} @{CS-Misc-Skill-2-cond-notes} {{generic_note=@{CS-Misc-Skill-2-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row misc consolidated misc-skill-6" data-i18n-list-item="cs-miscellaneous-07">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-3-Check}" type="roll" value="@{PC-Whisper} @{CS-Misc-Skill-3-macro}" name="roll_CS-Misc-Skill-3-Check"></button></span>
                            <span class="table-cell left"><input title="@{CS-Misc-Skill-3-name}" type="text" name="attr_CS-Misc-Skill-3-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-3}" type="number" name="attr_CS-Misc-Skill-3" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-3-ranks}" type="number" name="attr_CS-Misc-Skill-3-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-3-cs}" type="checkbox" name="attr_CS-Misc-Skill-3-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Misc-Skill-3-ability}" name="attr_CS-Misc-Skill-3-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Misc-Skill-3-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Misc-Skill-3-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-3-racial}" type="number" name="attr_CS-Misc-Skill-3-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-3-trait}" type="number" name="attr_CS-Misc-Skill-3-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-3-feat}" type="number" name="attr_CS-Misc-Skill-3-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-3-item}" type="number" name="attr_CS-Misc-Skill-3-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Misc-Skill-3-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Misc-Skill-3-misc}" type="text" name="attr_CS-Misc-Skill-3-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Misc-Skill-3-misc-mod}" type="number" class="calc" readonly name="attr_CS-Misc-Skill-3-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-3-ReqTrain}" type="checkbox" name="attr_CS-Misc-Skill-3-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Misc-Skill-3-note}" name="attr_CS-Misc-Skill-3-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Misc-Skill-3-macro}" name="attr_CS-Misc-Skill-3-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{CS-Misc-Skill-3-name}}} {{Check=[[ @{skill-query} + [[ @{CS-Misc-Skill-3} ]]  ]]}} @{CS-Misc-Skill-3-ut} @{skill_options} @{CS-Misc-Skill-3-cond-notes} {{generic_note=@{CS-Misc-Skill-3-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row misc consolidated misc-skill-6" data-i18n-list-item="cs-miscellaneous-08">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-4-Check}" type="roll" value="@{PC-Whisper} @{CS-Misc-Skill-4-macro}" name="roll_CS-Misc-Skill-4-Check"></button></span>
                            <span class="table-cell left"><input title="@{CS-Misc-Skill-4-name}" type="text" name="attr_CS-Misc-Skill-4-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-4}" type="number" name="attr_CS-Misc-Skill-4" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-4-ranks}" type="number" name="attr_CS-Misc-Skill-4-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-4-cs}" type="checkbox" name="attr_CS-Misc-Skill-4-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Misc-Skill-4-ability}" name="attr_CS-Misc-Skill-4-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Misc-Skill-4-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Misc-Skill-4-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-4-racial}" type="number" name="attr_CS-Misc-Skill-4-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-4-trait}" type="number" name="attr_CS-Misc-Skill-4-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-4-feat}" type="number" name="attr_CS-Misc-Skill-4-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-4-item}" type="number" name="attr_CS-Misc-Skill-4-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Misc-Skill-4-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Misc-Skill-4-misc}" type="text" name="attr_CS-Misc-Skill-4-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Misc-Skill-4-misc-mod}" type="number" class="calc" readonly name="attr_CS-Misc-Skill-4-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-4-ReqTrain}" type="checkbox" name="attr_CS-Misc-Skill-4-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Misc-Skill-4-note}" name="attr_CS-Misc-Skill-4-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Misc-Skill-4-macro}" name="attr_CS-Misc-Skill-4-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{CS-Misc-Skill-4-name}}} {{Check=[[ @{skill-query} + [[ @{CS-Misc-Skill-4} ]]  ]]}} @{CS-Misc-Skill-4-ut} @{skill_options} @{CS-Misc-Skill-4-cond-notes} {{generic_note=@{CS-Misc-Skill-4-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row misc consolidated misc-skill-6" data-i18n-list-item="cs-miscellaneous-09">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-5-Check}" type="roll" value="@{PC-Whisper} @{CS-Misc-Skill-5-macro}" name="roll_CS-Misc-Skill-5-Check"></button></span>
                            <span class="table-cell left"><input title="@{CS-Misc-Skill-5-name}" type="text" name="attr_CS-Misc-Skill-5-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-5}" type="number" name="attr_CS-Misc-Skill-5" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-5-ranks}" type="number" name="attr_CS-Misc-Skill-5-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-5-cs}" type="checkbox" name="attr_CS-Misc-Skill-5-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Misc-Skill-5-ability}" name="attr_CS-Misc-Skill-5-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Misc-Skill-5-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Misc-Skill-5-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-5-racial}" type="number" name="attr_CS-Misc-Skill-5-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-5-trait}" type="number" name="attr_CS-Misc-Skill-5-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-5-feat}" type="number" name="attr_CS-Misc-Skill-5-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-5-item}" type="number" name="attr_CS-Misc-Skill-5-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Misc-Skill-5-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Misc-Skill-5-misc}" type="text" name="attr_CS-Misc-Skill-5-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Misc-Skill-5-misc-mod}" type="number" class="calc" readonly name="attr_CS-Misc-Skill-5-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-5-ReqTrain}" type="checkbox" name="attr_CS-Misc-Skill-5-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Misc-Skill-5-note}" name="attr_CS-Misc-Skill-5-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Misc-Skill-5-macro}" name="attr_CS-Misc-Skill-5-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{CS-Misc-Skill-5-name}}} {{Check=[[ @{skill-query} + [[ @{CS-Misc-Skill-5} ]]  ]]}} @{CS-Misc-Skill-5-ut} @{skill_options} @{CS-Misc-Skill-5-cond-notes} {{generic_note=@{CS-Misc-Skill-5-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row misc consolidated misc-skill-10" data-i18n-list-item="cs-miscellaneous-10">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-6-Check}" type="roll" value="@{PC-Whisper} @{CS-Misc-Skill-6-macro}" name="roll_CS-Misc-Skill-6-Check"></button></span>
                            <span class="table-cell left"><input title="@{CS-Misc-Skill-6-name}" type="text" name="attr_CS-Misc-Skill-6-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-6}" type="number" name="attr_CS-Misc-Skill-6" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-6-ranks}" type="number" name="attr_CS-Misc-Skill-6-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-6-cs}" type="checkbox" name="attr_CS-Misc-Skill-6-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Misc-Skill-6-ability}" name="attr_CS-Misc-Skill-6-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Misc-Skill-6-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Misc-Skill-6-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-6-racial}" type="number" name="attr_CS-Misc-Skill-6-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-6-trait}" type="number" name="attr_CS-Misc-Skill-6-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-6-feat}" type="number" name="attr_CS-Misc-Skill-6-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-6-item}" type="number" name="attr_CS-Misc-Skill-6-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Misc-Skill-6-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Misc-Skill-6-misc}" type="text" name="attr_CS-Misc-Skill-6-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Misc-Skill-6-misc-mod}" type="number" class="calc" readonly name="attr_CS-Misc-Skill-6-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-6-ReqTrain}" type="checkbox" name="attr_CS-Misc-Skill-6-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Misc-Skill-6-note}" name="attr_CS-Misc-Skill-6-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Misc-Skill-6-macro}" name="attr_CS-Misc-Skill-6-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{CS-Misc-Skill-6-name}}} {{Check=[[ @{skill-query} + [[ @{CS-Misc-Skill-6} ]]  ]]}} @{CS-Misc-Skill-6-ut} @{skill_options} @{CS-Misc-Skill-6-cond-notes} {{generic_note=@{CS-Misc-Skill-6-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row misc consolidated misc-skill-10" data-i18n-list-item="cs-miscellaneous-11">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-7-Check}" type="roll" value="@{PC-Whisper} @{CS-Misc-Skill-7-macro}" name="roll_CS-Misc-Skill-7-Check"></button></span>
                            <span class="table-cell left"><input title="@{CS-Misc-Skill-7-name}" type="text" name="attr_CS-Misc-Skill-7-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-7}" type="number" name="attr_CS-Misc-Skill-7" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-7-ranks}" type="number" name="attr_CS-Misc-Skill-7-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-7-cs}" type="checkbox" name="attr_CS-Misc-Skill-7-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Misc-Skill-7-ability}" name="attr_CS-Misc-Skill-7-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Misc-Skill-7-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Misc-Skill-7-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-7-racial}" type="number" name="attr_CS-Misc-Skill-7-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-7-trait}" type="number" name="attr_CS-Misc-Skill-7-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-7-feat}" type="number" name="attr_CS-Misc-Skill-7-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-7-item}" type="number" name="attr_CS-Misc-Skill-7-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Misc-Skill-7-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Misc-Skill-7-misc}" type="text" name="attr_CS-Misc-Skill-7-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Misc-Skill-7-misc-mod}" type="number" class="calc" readonly name="attr_CS-Misc-Skill-7-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-7-ReqTrain}" type="checkbox" name="attr_CS-Misc-Skill-7-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Misc-Skill-7-note}" name="attr_CS-Misc-Skill-7-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Misc-Skill-7-macro}" name="attr_CS-Misc-Skill-7-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{CS-Misc-Skill-7-name}}} {{Check=[[ @{skill-query} + [[ @{CS-Misc-Skill-7} ]]  ]]}} @{CS-Misc-Skill-7-ut} @{skill_options} @{CS-Misc-Skill-7-cond-notes} {{generic_note=@{CS-Misc-Skill-7-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row misc consolidated misc-skill-10" data-i18n-list-item="cs-miscellaneous-12">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-8-Check}" type="roll" value="@{PC-Whisper} @{CS-Misc-Skill-8-macro}" name="roll_CS-Misc-Skill-8-Check"></button></span>
                            <span class="table-cell left"><input title="@{CS-Misc-Skill-8-name}" type="text" name="attr_CS-Misc-Skill-8-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-8}" type="number" name="attr_CS-Misc-Skill-8" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-8-ranks}" type="number" name="attr_CS-Misc-Skill-8-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-8-cs}" type="checkbox" name="attr_CS-Misc-Skill-8-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Misc-Skill-8-ability}" name="attr_CS-Misc-Skill-8-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Misc-Skill-8-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Misc-Skill-8-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-8-racial}" type="number" name="attr_CS-Misc-Skill-8-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-8-trait}" type="number" name="attr_CS-Misc-Skill-8-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-8-feat}" type="number" name="attr_CS-Misc-Skill-8-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-8-item}" type="number" name="attr_CS-Misc-Skill-8-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Misc-Skill-8-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Misc-Skill-8-misc}" type="text" name="attr_CS-Misc-Skill-8-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Misc-Skill-8-misc-mod}" type="number" class="calc" readonly name="attr_CS-Misc-Skill-8-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-8-ReqTrain}" type="checkbox" name="attr_CS-Misc-Skill-8-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Misc-Skill-8-note}" name="attr_CS-Misc-Skill-8-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Misc-Skill-8-macro}" name="attr_CS-Misc-Skill-8-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{CS-Misc-Skill-8-name}}} {{Check=[[ @{skill-query} + [[ @{CS-Misc-Skill-8} ]]  ]]}} @{CS-Misc-Skill-8-ut} @{skill_options} @{CS-Misc-Skill-8-cond-notes} {{generic_note=@{CS-Misc-Skill-8-note}}}</textarea>
                            </details>
                        </div>
                        <div class="table-row misc consolidated misc-skill-10" data-i18n-list-item="cs-miscellaneous-13">
                            <span class="table-cell"><button title="%{selected|Misc-Skill-9-Check}" type="roll" value="@{PC-Whisper} @{CS-Misc-Skill-9-macro}" name="roll_CS-Misc-Skill-9-Check"></button></span>
                            <span class="table-cell left"><input title="@{CS-Misc-Skill-9-name}" type="text" name="attr_CS-Misc-Skill-9-name" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-9}" type="number" name="attr_CS-Misc-Skill-9" value="0" class="calc bigger-total" readonly /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-9-ranks}" type="number" name="attr_CS-Misc-Skill-9-ranks" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-9-cs}" type="checkbox" name="attr_CS-Misc-Skill-9-cs" value="3" /></span>
                            <span class="table-cell">
                                <select title="@{CS-Misc-Skill-9-ability}" name="attr_CS-Misc-Skill-9-ability" class="select-small">
                                    <option value="0" data-i18n="none" selected>None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell">
                                <input type="checkbox" name="attr_CS-Misc-Skill-9-ability" value="STR-mod" class="or-A-show noshow" />
                                <input type="checkbox" name="attr_CS-Misc-Skill-9-ability" value="DEX-mod" class="or-B-show noshow" />
                                <span class="either-or-sect text-tight" data-i18n-title="acp-may-apply-title"><span name="attr_acp"></span><span data-i18n="acp-verysmall-abbrv">ACP</span></span>
                            </span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-9-racial}" type="number" name="attr_CS-Misc-Skill-9-racial" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-9-trait}" type="number" name="attr_CS-Misc-Skill-9-trait" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-9-feat}" type="number" name="attr_CS-Misc-Skill-9-feat" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-9-item}" type="number" name="attr_CS-Misc-Skill-9-item" value="0" /></span>
                            <input class="error-mshow" type="checkbox" value="1" role="status" aria-live="polite" name="attr_CS-Misc-Skill-9-misc-mod_error" />
                            <span class="table-cell highlight"><input class="macro-text-inline" title="@{CS-Misc-Skill-9-misc}" type="text" name="attr_CS-Misc-Skill-9-misc" value="" data-i18n-placeholder="equation-macro-place" /></span>
                            <span class="table-cell highlight"><input title="@{CS-Misc-Skill-9-misc-mod}" type="number" class="calc" readonly name="attr_CS-Misc-Skill-9-misc-mod" value="0" /></span>
                            <span class="table-cell"><input title="@{CS-Misc-Skill-9-ReqTrain}" type="checkbox" name="attr_CS-Misc-Skill-9-ReqTrain" value="1" /></span>
                            <span class="table-cell"><textarea class="skill-macro-text" title="@{CS-Misc-Skill-9-note}" name="attr_CS-Misc-Skill-9-note"></textarea></span>
                            <details class="table-cell extra-sect">
                                <summary class="hide-readonly">...</summary>
                                <textarea class="skill-macro-text" title="@{CS-Misc-Skill-9-macro}" name="attr_CS-Misc-Skill-9-macro">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{CS-Misc-Skill-9-name}}} {{Check=[[ @{skill-query} + [[ @{CS-Misc-Skill-9} ]]  ]]}} @{CS-Misc-Skill-9-ut} @{skill_options} @{CS-Misc-Skill-9-cond-notes} {{generic_note=@{CS-Misc-Skill-9-note}}}</textarea>
                            </details>
                        </div>
                    </div>
                    <div class="table center skills-key">
                        <b><span data-i18n="class-skill-abbrv">CS</span></b> = <span data-i18n="class-skill" style="margin-right:10%;">Class Skill</span>
                        <b><span data-i18n="requires-training-abbrv">RT</span></b> = <span data-i18n="requires-training">Requires Training</span>
                    </div>
                </div>
                <div style="display:none;">
                    <input name="attr_Acrobatics-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Appraise-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Bluff-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Climb-ut" type="hidden" value="{{untrained=}}" />
                    <input name="attr_Craft-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Craft10-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Craft2-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Craft3-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Craft4-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Craft5-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Craft6-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Craft7-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Craft8-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Craft9-ut" type="hidden" value="{{untrained=}}" />
                    <input name="attr_Diplomacy-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Disable-Device-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Disguise-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Escape-Artist-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Fly-ut" type="hidden" value="{{untrained=}}" />
                    <input name="attr_Handle-Animal-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Heal-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Intimidate-ut" type="hidden" value="{{untrained=}}" />
                    <input name="attr_Knowledge-Arcana-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Knowledge-Dungeoneering-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Knowledge-Engineering-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Knowledge-Geography-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Knowledge-History-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Knowledge-Local-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Knowledge-Nature-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Knowledge-Nobility-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Knowledge-Planes-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Knowledge-Religion-ut" type="hidden" value="{{untrained=1}}" />
                    <input name="attr_Linguistics-ut" type="hidden" value="{{untrained=1}}" />
                    <input name="attr_Misc-Skill-0-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Misc-Skill-1-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Misc-Skill-2-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Misc-Skill-3-ut" type="hidden" value="{{untrained=}}" />
                    <input name="attr_Misc-Skill-4-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Misc-Skill-5-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Misc-Skill-6-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Misc-Skill-7-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Misc-Skill-8-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Misc-Skill-9-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Perception-ut" type="hidden" value="{{untrained=}}" />
                    <input name="attr_CS-Misc-Skill-0-ut" type="hidden" value="{{untrained=}}" /><input name="attr_CS-Misc-Skill-1-ut" type="hidden" value="{{untrained=}}" /><input name="attr_CS-Misc-Skill-2-ut" type="hidden" value="{{untrained=}}" /><input name="attr_CS-Misc-Skill-3-ut" type="hidden" value="{{untrained=}}" />
                    <input name="attr_CS-Misc-Skill-4-ut" type="hidden" value="{{untrained=}}" /><input name="attr_CS-Misc-Skill-5-ut" type="hidden" value="{{untrained=}}" /><input name="attr_CS-Misc-Skill-6-ut" type="hidden" value="{{untrained=}}" /><input name="attr_CS-Misc-Skill-7-ut" type="hidden" value="{{untrained=}}" /><input name="attr_CS-Misc-Skill-8-ut" type="hidden" value="{{untrained=}}" /><input name="attr_CS-Misc-Skill-9-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Perception-ut" type="hidden" value="{{untrained=}}" />
                    <input name="attr_Perform-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Perform10-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Perform2-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Perform3-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Perform4-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Perform5-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Perform6-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Perform7-ut" type="hidden" value="{{untrained=}}" />
                    <input name="attr_Perform8-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Perform9-ut" type="hidden" value="{{untrained=}}" />
                    <input name="attr_Profession-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Profession10-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Profession2-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Profession3-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Profession4-ut" type="hidden" value="{{untrained=1}}" />
                    <input name="attr_Profession5-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Profession6-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Profession7-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Profession8-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Profession9-ut" type="hidden" value="{{untrained=1}}" />
                    <input name="attr_Ride-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Sense-Motive-ut" type="hidden" value="{{untrained=}}" />
                    <input name="attr_Sleight-of-Hand-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Spellcraft-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Stealth-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Survival-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Swim-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Use-Magic-Device-ut" type="hidden" value="{{untrained=1}}" />
                    <input name="attr_Artistry-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Artistry2-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Artistry3-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Artistry4-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Artistry5-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Artistry6-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Artistry7-ut" type="hidden" value="{{untrained=}}" />
                    <input name="attr_Artistry8-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Artistry9-ut" type="hidden" value="{{untrained=}}" /><input name="attr_Artistry10-ut" type="hidden" value="{{untrained=}}" />
                    <input name="attr_Lore-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Lore2-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Lore3-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Lore4-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Lore5-ut" type="hidden" value="{{untrained=1}}" />
                    <input name="attr_Lore6-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Lore7-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Lore8-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Lore9-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_Lore10-ut" type="hidden" value="{{untrained=1}}" />
                    <input name="attr_CS-Acrobatics-ut" type="hidden" value="{{untrained=}}" /><input name="attr_CS-Athletics-ut" type="hidden" value="{{untrained=}}" /><input name="attr_CS-Finesse-ut" type="hidden" value="{{untrained=1}}" />
                    <input name="attr_CS-Influence-ut" type="hidden" value="{{untrained=}}" /><input name="attr_CS-Nature-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_CS-Perception-ut" type="hidden" value="{{untrained=}}" /><input name="attr_CS-Performance-ut" type="hidden" value="{{untrained=}}" /><input name="attr_CS-Religion-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_CS-Society-ut" type="hidden" value="{{untrained=1}}" /><input name="attr_CS-Spellcraft-ut" type="hidden" value="{{untrained=1}}" />
                    <input name="attr_CS-Stealth-ut" type="hidden" value="{{untrained=}}" /><input name="attr_CS-Survival-ut" type="hidden" value="{{untrained=}}" />
                    <input name="attr_Acrobatics-cond-notes" type="hidden" value="" /><input name="attr_Appraise-cond-notes" type="hidden" value="" /><input name="attr_Bluff-cond-notes" type="hidden" value="" /><input name="attr_Climb-cond-notes" type="hidden" value="" />
                    <input name="attr_Craft-cond-notes" type="hidden" value="" /><input name="attr_Craft10-cond-notes" type="hidden" value="" /><input name="attr_Craft2-cond-notes" type="hidden" value="" /><input name="attr_Craft3-cond-notes" type="hidden" value="" /><input name="attr_Craft4-cond-notes" type="hidden" value="" /><input name="attr_Craft5-cond-notes" type="hidden" value="" /><input name="attr_Craft6-cond-notes" type="hidden" value="" /><input name="attr_Craft7-cond-notes" type="hidden" value="" /><input name="attr_Craft8-cond-notes" type="hidden" value="" /><input name="attr_Craft9-cond-notes" type="hidden" value="" />
                    <input name="attr_Diplomacy-cond-notes" type="hidden" value="" /><input name="attr_Disable-Device-cond-notes" type="hidden" value="" /><input name="attr_Disguise-cond-notes" type="hidden" value="" /><input name="attr_Escape-Artist-cond-notes" type="hidden" value="" /><input name="attr_Fly-cond-notes" type="hidden" value="" />
                    <input name="attr_Handle-Animal-cond-notes" type="hidden" value="" /><input name="attr_Heal-cond-notes" type="hidden" value="" /><input name="attr_Intimidate-cond-notes" type="hidden" value="" />
                    <input name="attr_Knowledge-Arcana-cond-notes" type="hidden" value="" /><input name="attr_Knowledge-Dungeoneering-cond-notes" type="hidden" value="" /><input name="attr_Knowledge-Engineering-cond-notes" type="hidden" value="" /><input name="attr_Knowledge-Geography-cond-notes" type="hidden" value="" /><input name="attr_Knowledge-History-cond-notes" type="hidden" value="" /><input name="attr_Knowledge-Local-cond-notes" type="hidden" value="" /><input name="attr_Knowledge-Nature-cond-notes" type="hidden" value="" /><input name="attr_Knowledge-Nobility-cond-notes" type="hidden" value="" /><input name="attr_Knowledge-Planes-cond-notes" type="hidden" value="" /><input name="attr_Knowledge-Religion-cond-notes" type="hidden" value="" />
                    <input name="attr_Linguistics-cond-notes" type="hidden" value="" />
                    <input name="attr_Misc-Skill-0-cond-notes" type="hidden" value="" /><input name="attr_Misc-Skill-1-cond-notes" type="hidden" value="" /><input name="attr_Misc-Skill-2-cond-notes" type="hidden" value="" /><input name="attr_Misc-Skill-3-cond-notes" type="hidden" value="" />
                    <input name="attr_Misc-Skill-4-cond-notes" type="hidden" value="" /><input name="attr_Misc-Skill-5-cond-notes" type="hidden" value="" /><input name="attr_Misc-Skill-6-cond-notes" type="hidden" value="" /><input name="attr_Misc-Skill-7-cond-notes" type="hidden" value="" /><input name="attr_Misc-Skill-8-cond-notes" type="hidden" value="" /><input name="attr_Misc-Skill-9-cond-notes" type="hidden" value="" /><input name="attr_Perception-cond-notes" type="hidden" value="" />
                    <input name="attr_CS-Misc-Skill-0-cond-notes" type="hidden" value="" /><input name="attr_CS-Misc-Skill-1-cond-notes" type="hidden" value="" /><input name="attr_CS-Misc-Skill-2-cond-notes" type="hidden" value="" /><input name="attr_CS-Misc-Skill-3-cond-notes" type="hidden" value="" />
                    <input name="attr_CS-Misc-Skill-4-cond-notes" type="hidden" value="" /><input name="attr_CS-Misc-Skill-5-cond-notes" type="hidden" value="" /><input name="attr_CS-Misc-Skill-6-cond-notes" type="hidden" value="" /><input name="attr_CS-Misc-Skill-7-cond-notes" type="hidden" value="" /><input name="attr_CS-Misc-Skill-8-cond-notes" type="hidden" value="" /><input name="attr_CS-Misc-Skill-9-cond-notes" type="hidden" value="" /><input name="attr_Perception-cond-notes" type="hidden" value="" />
                    <input name="attr_Perform-cond-notes" type="hidden" value="" /><input name="attr_Perform10-cond-notes" type="hidden" value="" /><input name="attr_Perform2-cond-notes" type="hidden" value="" /><input name="attr_Perform3-cond-notes" type="hidden" value="" /><input name="attr_Perform4-cond-notes" type="hidden" value="" /><input name="attr_Perform5-cond-notes" type="hidden" value="" /><input name="attr_Perform6-cond-notes" type="hidden" value="" /><input name="attr_Perform7-cond-notes" type="hidden" value="" />
                    <input name="attr_Perform8-cond-notes" type="hidden" value="" /><input name="attr_Perform9-cond-notes" type="hidden" value="" />
                    <input name="attr_Profession-cond-notes" type="hidden" value="" /><input name="attr_Profession10-cond-notes" type="hidden" value="" /><input name="attr_Profession2-cond-notes" type="hidden" value="" /><input name="attr_Profession3-cond-notes" type="hidden" value="" /><input name="attr_Profession4-cond-notes" type="hidden" value="" />
                    <input name="attr_Profession5-cond-notes" type="hidden" value="" /><input name="attr_Profession6-cond-notes" type="hidden" value="" /><input name="attr_Profession7-cond-notes" type="hidden" value="" /><input name="attr_Profession8-cond-notes" type="hidden" value="" /><input name="attr_Profession9-cond-notes" type="hidden" value="" />
                    <input name="attr_Ride-cond-notes" type="hidden" value="" /><input name="attr_Sense-Motive-cond-notes" type="hidden" value="" />
                    <input name="attr_Sleight-of-Hand-cond-notes" type="hidden" value="" /><input name="attr_Spellcraft-cond-notes" type="hidden" value="" /><input name="attr_Stealth-cond-notes" type="hidden" value="" /><input name="attr_Survival-cond-notes" type="hidden" value="" /><input name="attr_Swim-cond-notes" type="hidden" value="" /><input name="attr_Use-Magic-Device-cond-notes" type="hidden" value="" />
                    <input name="attr_Artistry-cond-notes" type="hidden" value="" /><input name="attr_Artistry2-cond-notes" type="hidden" value="" /><input name="attr_Artistry3-cond-notes" type="hidden" value="" /><input name="attr_Artistry4-cond-notes" type="hidden" value="" /><input name="attr_Artistry5-cond-notes" type="hidden" value="" /><input name="attr_Artistry6-cond-notes" type="hidden" value="" /><input name="attr_Artistry7-cond-notes" type="hidden" value="" />
                    <input name="attr_Artistry8-cond-notes" type="hidden" value="" /><input name="attr_Artistry9-cond-notes" type="hidden" value="" /><input name="attr_Artistry10-cond-notes" type="hidden" value="" />
                    <input name="attr_Lore-cond-notes" type="hidden" value="" /><input name="attr_Lore2-cond-notes" type="hidden" value="" /><input name="attr_Lore3-cond-notes" type="hidden" value="" /><input name="attr_Lore4-cond-notes" type="hidden" value="" /><input name="attr_Lore5-cond-notes" type="hidden" value="" />
                    <input name="attr_Lore6-cond-notes" type="hidden" value="" /><input name="attr_Lore7-cond-notes" type="hidden" value="" /><input name="attr_Lore8-cond-notes" type="hidden" value="" /><input name="attr_Lore9-cond-notes" type="hidden" value="" /><input name="attr_Lore10-cond-notes" type="hidden" value="" />
                    <input name="attr_CS-Acrobatics-cond-notes" type="hidden" value="" /><input name="attr_CS-Athletics-cond-notes" type="hidden" value="" /><input name="attr_CS-Finesse-cond-notes" type="hidden" value="" />
                    <input name="attr_CS-Influence-cond-notes" type="hidden" value="" /><input name="attr_CS-Nature-cond-notes" type="hidden" value="" /><input name="attr_CS-Perception-cond-notes" type="hidden" value="" /><input name="attr_CS-Performance-cond-notes" type="hidden" value="" /><input name="attr_CS-Religion-cond-notes" type="hidden" value="" /><input name="attr_CS-Society-cond-notes" type="hidden" value="" /><input name="attr_CS-Spellcraft-cond-notes" type="hidden" value="" />
                    <input name="attr_CS-Stealth-cond-notes" type="hidden" value="" /><input name="attr_CS-Survival-cond-notes" type="hidden" value="" />
                </div>
            </div>
            <div class="section4 section section-abilities" role="region" aria-label="Abilities" data-i18n-aria-label="abilities">
                <h1 class="selected-tabtitle" data-i18n="abilities">Abilities</h1>
                <div class="col col1">
                    <div class="h2-section inline ability-buttons hide-readonly">
                        <input type="checkbox" class="npc-show noshow" name="attr_is_npc" value="1" role="presentation" />
                        <div role="contentinfo" aria-label="Command buttons for chat -displays ability buttons in chat to press there" class="top-buttons inline pc-only">
                            <input class="showarrow h2arrow" style="width:5em;margin-right:-4.75em;" type="checkbox" name="attr_ability-command-buttons-show" aria-label="check to reveal command buttons" data-i18n-title="menus-showsect-cmd" data-i18n-aria-label="menus-showsect-cmd" value="1" checked />
                            <h2 class="clickheader showsect"><label data-i18n="menus" aria-label="Show chat ability command buttons">Menus</label></h2>
                            <span class="h2-section inline buttons-menu" style="border:none;">
                                <span class="hide-readonly" style="margin-left:2em;"></span>
                                <input type="checkbox" class="mythic-show" name="attr_mythic-adventures-show" value="1" role="presentation" />
                                <input type="checkbox" class="traits-show" name="attr_use_traits" value="1" role="presentation" />
                                <input type="checkbox" class="racial-traits-show" name="attr_use_racial_traits" value="1" role="presentation" />
                                <input type="checkbox" class="featlist-show" name="attr_use_feats" value="1" role="presentation" />
                                <input type="checkbox" class="classfeatures-show" name="attr_use_class_features" value="1" role="presentation" />
                                <input type="checkbox" class="oldslas-show" name="attr_use_spell-like-abilities" value="1" role="presentation" />
                                <button type="roll" name="roll_abilities" class="command-button" value="/w &quot;@{character_name}&quot; @{ability_buttons_macro} {{whisper=@{PC-whisper}}} {{switch=~@{character_id}|NPC-abilities}}" title="%{selected|abilities}"><span data-i18n="abilities">Abilities</span></button>
                                <button type="roll" name="roll_ex_button" class="command-button" value="/w &quot;@{character_name}&quot; @{ex_buttons_macro} {{whisper=@{PC-whisper}}} {{switch=~@{character_id}|NPC-ex_button}}" title="%{selected|ex_button}"><span data-i18n="extraordinary-abilities-menu">Ex</span></button>
                                <button type="roll" name="roll_sp_button" class="command-button" value="/w &quot;@{character_name}&quot; @{sp_buttons_macro} {{whisper=@{PC-whisper}}} {{switch=~@{character_id}|NPC-sp_button}}" title="%{selected|sp_button}"><span data-i18n="spell-like-abilities-menu">Sp</span></button>
                                <button type="roll" name="roll_su_button" class="command-button" value="/w &quot;@{character_name}&quot; @{su_buttons_macro} {{whisper=@{PC-whisper}}} {{switch=~@{character_id}|NPC-su_button}}" title="%{selected|su_button}"><span data-i18n="supernatural-abilities-menu">Su</span></button>
                                <button type="roll" name="roll_class-ability_button" class="command-button section-classfeatureslist" value="/w &quot;@{character_name}&quot; @{class-ability_buttons_macro}" title="%{selected|class-ability_button}"><span data-i18n="original-class-features-list">Orig Class Features</span></button>
                                <button type="roll" name="roll_feat_button" class="command-button section-featlist" value="/w &quot;@{character_name}&quot; @{feat_buttons_macro} {{whisper=@{PC-whisper}}} {{switch=~@{character_id}|NPC-feat_button}}" title="%{selected|feat_button}"><span data-i18n="original-feats-list">Orig Feats</span></button>
                                <button type="roll" name="roll_trait_button" class="command-button section-traits" value="/w &quot;@{character_name}&quot; @{trait_buttons_macro}" title="%{selected|trait_button}"><span data-i18n="original-traits-list">Orig Traits</span></button>
                                <button type="roll" name="roll_racial-trait_button" class="command-button section-racial-traits" value="/w &quot;@{character_name}&quot; @{racial-trait_buttons_macro} {{whisper=@{PC-whisper}}} {{switch=~@{character_id}|NPC-racial-trait_button}}" title="%{selected|racial-trait_button}"><span data-i18n="original-racial-traits-list">Orig Racial Traits</span></button>
                                <button type="roll" name="roll_mythic-feat_button" class="command-button section-mythic" value="/w &quot;@{character_name}&quot; @{mythic-feat_buttons_macro}" title="%{selected|mythic-feat_button}"><span data-i18n="mythic-feats">Orig Mythic Feats</span></button>
                                <button type="roll" name="roll_mythic-ability_button" class="command-button section-mythic" value="/w &quot;@{character_name}&quot; @{mythic-ability_buttons_macro}" title="%{selected|mythic-ability_button}"><span data-i18n="mythic-abilities">Orig Mythic Abilities</span></button>
                                <button type="roll" name="roll_spell-like-abilities_button" class="command-button section-oldslas" value="/w &quot;@{character_name}&quot; @{npc-spell-like-abilities_buttons_macro}" title="%{selected|spell-like-abilities_button}"><span data-i18n="original-spell-like-abilities-list">Orig spell-like abilities</span></button>
                                <input type="hidden" name="attr_ability_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{abilities}}} @{orig_ability_header_macro} {{description=^{none-available} }}" />
                                <input type="hidden" name="attr_ex_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle=^{extraordinary-abilities-menu}}} {{name=^{abilities}}} {{description=^{none-available} }}" />
                                <input type="hidden" name="attr_sp_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle=^{spell-like-abilities-menu}}} {{name=^{abilities}}} {{description=^{none-available} }}" />
                                <input type="hidden" name="attr_su_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle=^{supernatural-abilities-menu}}} {{name=^{abilities}}} {{description=^{none-available} }}" />
                                <input type="hidden" name="attr_orig_ability_header_macro" value="" />
                                <input type="hidden" name="attr_class-ability_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{original-class-features-list}}} {{description=^{none-available} }}" />
                                <input type="hidden" name="attr_feat_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{original-feats-list}}} {{description=^{none-available} }}" />
                                <input type="hidden" name="attr_trait_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{original-traits-list}}} {{description=^{none-available} }}" />
                                <input type="hidden" name="attr_racial-trait_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{original-racial-traits-list}}} {{description=^{none-available} }}" />
                                <input type="hidden" name="attr_mythic-feat_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{mythic-feats}}} {{description=^{none-available} }}" />
                                <input type="hidden" name="attr_mythic-ability_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{mythic-abilities}}} {{description=^{none-available} }}" />
                            </span>
                        </div>
                        <div class="cheat"></div>
                        <div role="contentinfo" aria-label="Command buttons for chat -displays ability buttons in chat to press there" class="top-buttons inline npc-only">
                            <input class="showarrow h2arrow" style="width:6em;margin-right:-6em;" type="checkbox" name="attr_NPC-ability-command-buttons-show" aria-label="check to reveal command buttons" data-i18n-title="menus-showsect-cmd" data-i18n-aria-label="menus-showsect-cmd" value="1" checked />
                            <h2 class="clickheader showsect"><label data-i18n="npc-menus">NPC Menus</label></h2>
                            <span class="h2-section inline buttons-menu" style="border:none;">
                                <span class="hide-readonly" style="margin-left:2em;"></span>
                                <input type="checkbox" class="mythic-show" name="attr_mythic-adventures-show" value="1" role="presentation" />
                                <input type="checkbox" class="traits-show" name="attr_use_traits" value="1" role="presentation" />
                                <input type="checkbox" class="racial-traits-show" name="attr_use_racial_traits" value="1" role="presentation" />
                                <input type="checkbox" class="featlist-show" name="attr_use_feats" value="1" role="presentation" />
                                <input type="checkbox" class="classfeatures-show" name="attr_use_class_features" value="1" role="presentation" />
                                <input type="checkbox" class="oldslas-show" name="attr_use_spell-like-abilities" value="1" role="presentation" />
                                <button type="roll" name="roll_NPC-abilities" class="command-button" value="/w &quot;@{character_name}&quot; @{NPC-ability_buttons_macro} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|abilities}}" title="%{selected|NPC-abilities}"><span data-i18n="abilities">Abilities</span></button>
                                <button type="roll" name="roll_NPC-ex_button" class="command-button" value="/w &quot;@{character_name}&quot; @{NPC-ex_buttons_macro} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|ex_button}}" title="%{selected|NPC-ex_button}"><span data-i18n="extraordinary-abilities-menu">Ex</span></button>
                                <button type="roll" name="roll_NPC-sp_button" class="command-button" value="/w &quot;@{character_name}&quot; @{NPC-sp_buttons_macro} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|sp_button}}" title="%{selected|NPC-sp_button}"><span data-i18n="spell-like-abilities-menu">Sp</span></button>
                                <button type="roll" name="roll_NPC-su_button" class="command-button" value="/w &quot;@{character_name}&quot; @{NPC-su_buttons_macro} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|su_button}}" title="%{selected|NPC-su_button}"><span data-i18n="supernatural-abilities-menu">Su</span></button>
                                <button type="roll" name="roll_class-ability_button" class="command-button section-classfeatureslist" value="/w &quot;@{character_name}&quot; @{class-ability_buttons_macro}" title="%{selected|class-ability_button}"><span data-i18n="original-class-features-list">Orig Class Features</span></button>
                                <button type="roll" name="roll_NPC-feat_button" class="command-button section-featlist" value="/w &quot;@{character_name}&quot; @{NPC-feat_buttons_macro} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|feat_button}}" title="%{selected|NPC-feat_button}"><span data-i18n="original-feats-list">Orig Feats</span></button>
                                <button type="roll" name="roll_trait_button" class="command-button section-traits" value="/w &quot;@{character_name}&quot; @{trait_buttons_macro}" title="%{selected|trait_button}"><span data-i18n="original-traits-list">Orig Traits</span></button>
                                <button type="roll" name="roll_NPC-racial-trait_button" class="command-button section-racial-traits" value="/w &quot;@{character_name}&quot; @{NPC-racial-trait_buttons_macro} {{whisper=@{NPC-whisper}}} {{switch=~@{character_id}|racial-trait_button}}" title="%{selected|NPC-racial-trait_button}"><span data-i18n="original-racial-traits-list">Orig Racial Traits</span></button>
                                <button type="roll" name="roll_mythic-feat_button" class="command-button section-mythic" value="/w &quot;@{character_name}&quot; @{mythic-feat_buttons_macro}" title="%{selected|mythic-feat_button}"><span data-i18n="mythic-feats">Orig Mythic Feats</span></button>
                                <button type="roll" name="roll_mythic-ability_button" class="command-button section-mythic" value="/w &quot;@{character_name}&quot; @{mythic-ability_buttons_macro}" title="%{selected|mythic-ability_button}"><span data-i18n="mythic-abilities">Orig Mythic Abilities</span></button>
                                <button type="roll" name="roll_npc-spell-like-abilities_button" class="command-button section-oldslas" value="/w &quot;@{character_name}&quot; @{npc-spell-like-abilities_buttons_macro}" title="%{selected|npc-spell-like-abilities_button}"><span data-i18n="original-spell-like-abilities-list">Orig spell-like abilities</span></button>
                                <input type="hidden" name="attr_NPC-ability_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} ^{abilities}}} @{orig_ability_header_macro} {{description=^{none-available} }}" />
                                <input type="hidden" name="attr_NPC-ex_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle=^{extraordinary-abilities-menu}}} {{name=^{npc} ^{abilities}}} {{description=^{none-available} }}" />
                                <input type="hidden" name="attr_NPC-sp_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle=^{spell-like-abilities-menu}}} {{name=^{npc} ^{abilities}}} {{description=^{none-available} }}" />
                                <input type="hidden" name="attr_NPC-su_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle=^{supernatural-abilities-menu}}} {{name=^{npc} ^{abilities}}} {{description=^{none-available} }}" />
                                <input type="hidden" name="attr_NPC-orig_ability_header_macro" value="" />
                                <input type="hidden" name="attr_NPC-feat_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} ^{original-feats-list}}} {{description=^{none-available} }}" />
                                <input type="hidden" name="attr_NPC-racial-trait_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} ^{original-racial-traits-list}}} {{description=^{none-available} }}" />
                                <input type="hidden" name="attr_npc-spell-like-abilities_buttons_macro" value="&{template:pf_block} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} ^{original-spell-like-abilities-list}}} {{description=^{none-available} }}" />
                            </span>
                        </div>
                    </div>
                    <input type="checkbox" class="mythic-show" name="attr_mythic-adventures-show" value="1" role="presentation" />
                    <input type="checkbox" class="psionic-show" name="attr_psionics-show" value="1" role="presentation" />
                    <div class="cheat"></div>
                    <input class="showarrow h2arrow" type="checkbox" name="attr_feats-show" data-i18n-aria-label="feats" data-i18n-title="showsect-cmd" value="1" checked />
                    <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="feats-calculation">Feat calculations</label></h2>
                    <div class="h2-section table feats">
                        <span class="secondary-table-name show-readonly" data-i18n="feats-available">Feats Available</span>
                        <div class="table-row">
                            <span class="table-header" data-i18n="feats-by-level">Feats by Level</span>
                            <span class="table-header divider"></span>
                            <span class="table-header" data-i18n="racial-bonus">Racial Bonus</span>
                            <span class="table-header divider"></span>
                            <span class="table-header" data-i18n="class-bonus">Class Bonus</span>
                            <span class="table-header divider"></span>
                            <span class="table-header" data-i18n="miscellaneous-bonus-abbrv">Misc Bonus</span>
                            <span class="table-header divider"></span>
                            <span class="table-header" data-i18n="total-feats">Total Feats</span>
                            <span class="table-header table-rightcell"></span>
                        </div>
                        <div class="table-row">
                            <span class="table-cell"><input type="text" title="@{feats-level}" name="attr_feats-level" value="(floor((@{level} + 1)/2))" class="number" disabled /></span>
                            <span class="divider">+</span>
                            <span class="table-cell"><input type="number" title="@{feats-race}" name="attr_feats-race" value="0" /></span>
                            <span class="divider">+</span>
                            <span class="table-cell"><input type="number" title="@{feats-class}" name="attr_feats-class" value="0" /></span>
                            <span class="divider">+</span>
                            <span class="table-cell"><input type="number" title="@{feats-misc}" name="attr_feats-misc" value="0" /></span>
                            <span class="divider">=</span>
                            <span class="table-cell"><input type="text" title="@{feats-total}" name="attr_feats-total" value="(@{feats-level} + [[ @{feats-race} ]] + [[ @{feats-class} ]] + [[ @{feats-misc} ]])" class="number" disabled /></span>
                            <span class="table-rightcell"></span>
                        </div>
                    </div>
                    <div class="cheat"></div>
                    <input class="showarrow h2arrow section-mythic" type="checkbox" name="attr_mythic-info-show" data-i18n-aria-label="mythic-hero-power" data-i18n-title="showsect-cmd" value="1" checked />
                    <h2 class="clickheader showsect section-mythic"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="mythic-hero-power">Mythic Hero Information and Mythic Power</label></h2>
                    <div class="h2-section section-mythic wide-readonly noborder-readonly mythic">
                        <div class="cheat"></div>
                        <div class="h2-section section-mythic">
                            <div class="h2-section section-mythic" style="display:inline-block; width:59%;" role="region" data-i18n-aria-label="mythic-information">
                                <div class="table wide-numbers">
                                    <span class="secondary-table-name show-readonly" data-i18n="mythic-information">Mythic Information</span>
                                    <div class="table-row">
                                        <span class="table-header" style="width:1.5em;">#</span>
                                        <span class="table-header" style="width:50%;" data-i18n-title="mythic-path-title" data-i18n-aria-label="mythic-path-title" title="Mythic Path: archmage, champion, guardian, hierophant, marshal, or trickster" data-i18n="mythic-path">Mythic Path</span>
                                        <span class="table-header" data-i18n-title="mythic-tier-title" data-i18n-aria-label="mythic-tier-title" title="Mythic tier or rank. Mythic tiers range from 1 to 10" data-i18n="mythic-tier">Tier</span>
                                        <span class="table-header" data-i18n-title="mythic-bonus-hit-points-title" data-i18n-aria-label="mythic-bonus-hit-points-title" title="Bonus hit points that are gained from each tier advancement: archmage: 3, champion: 5, guardian: 5, hierophant: 4, marshal: 4, or trickster: 4" data-i18n="mythic-bonus-hit-points-abbrv">Bonus HP</span>
                                    </div>
                                    <div class="table-row">
                                        <span class="table-cell"><b>0.</b></span>
                                        <span class="table-cell"><input title="@{mythic-0-path}" type="text" name="attr_mythic-0-path" data-i18n-placeholder="mythic-path-name" /></span>
                                        <span class="table-cell"><input title="@{mythic-tier}" type="number" name="attr_mythic-tier" value="0"></span>
                                        <span class="table-cell"><input title="@{mythic-hp}" type="number" name="attr_mythic-hp" value="0" /></span>
                                    </div>
                                    <div class="table-row">
                                        <span class="table-cell"><b>1.</b></span>
                                        <span class="table-cell"><input title="@{mythic-1-path}" type="text" name="attr_mythic-1-path" data-i18n-placeholder="mythic-path-name" /></span>
                                        <span class="table-cell"><b data-i18n-title="mythic-hit-points-title" data-i18n-aria-label="mythic-hit-points-title" title="Bonus HP x Tier. This is automatically added to Max HP"><span data-i18n="mythic-hit-points">Total Mythic HP</span>:</b></span>
                                        <span class="table-cell"><input title="@{total-mythic-hp}" type="number" name="attr_total-mythic-hp" value="0" class="calc" readonly /></span>
                                    </div>
                                </div>
                            </div>
                            <div class="h2-section section-mythic" style="display:inline-block;width:39%;" role="region" data-i18n-aria-label="mythic-information">
                                <div class="table wide-numbers">
                                    <span class="secondary-table-name show-readonly" data-i18n="mythic-power">Mythic Power</span>
                                    <div class="table-row">
                                        <span class="table-header" data-i18n-title="mythic-power-avail-title" data-i18n-aria-label="mythic-power-avail-title" title="How much mythic power you have available to use" data-i18n="mythic-power-current">Current MP</span>
                                        <span class="table-header">/</span>
                                        <span class="table-header" data-i18n-title="mythic-power-max-title" data-i18n-aria-label="mythic-power-max-title" title="The maximum amount of mythic power you have" data-i18n="mythic-power-maximum">Max MP</span>
                                        <span class="table-header"></span>
                                        <span class="table-header" data-i18n-title="mythic-power-tiers-title" data-i18n-aria-label="mythic-power-tiers-title" title="The amount of mythic power you gain from tiers" data-i18n="mythic-power-tier">Tier MP</span>
                                        <span class="table-header"></span>
                                        <span class="table-header" data-i18n-title="mythic-power-miscellaneous-title" data-i18n-aria-label="mythic-power-miscellaneous-title" title="Any additional mythic power you gain from abilities or feats" data-i18n="miscellaneous-abbrv">Misc</span>
                                    </div>
                                    <div class="table-row">
                                        <span class="table-cell"><input type="number" title="@{mythic-power}" name="attr_mythic-power" value="0" min="0" /></span>
                                        <span class="divider">/</span>
                                        <span class="table-cell"><input type="number" title="@{mythic-power|max}" name="attr_mythic-power_max" value="0" class="calc" readonly /></span>
                                        <span class="divider">=</span>
                                        <span class="table-cell"><input type="number" title="@{tier-mythic-power}" name="attr_tier-mythic-power" value="0" class="calc" readonly /></span>
                                        <span class="divider">+</span>
                                        <span class="table-cell"><input type="number" title="@{misc-mythic-power}" name="attr_misc-mythic-power" value="0" /></span>
                                    </div>
                                    <div class="table-row">
                                        <span class="table-cell nowrap"><label><input type="checkbox" title="@{mythic-paragon}" name="attr_mythic-paragon" value="2" /><b data-i18n-title="mythic-paragon-title" data-i18n-aria-label="mythic-paragon-title" title="Has Mythic Paragon feat"><span data-i18n="mythic-paragon"> Mythic Paragon</span></b></label></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="cheat"></div>
                    <input class="showarrow h2arrow section-psionic" type="checkbox" name="attr_psionic-info-show" data-i18n-aria-label="psionic-information" data-i18n-title="showsect-cmd" value="1" checked />
                    <h2 class="clickheader showsect section-psionic"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="psionic-information">Psionic Information</label></h2>
                    <div class="h2-section section-psionic table wide-readonly wide-numbers psionic">
                        <span class="secondary-table-name show-readonly" data-i18n="psionic-manifester-level-and-power-points">Psionic Manifester Level and Power Points</span>
                        <div class="table-group-head">
                            <div class="table-row">
                                <span class="table-header" data-i18n-title="psionic-manifester-lvls-title" data-i18n-aria-label="psionic-manifester-lvls-title" title="The sum of the levels of psionic classes that have a key ability score selected on the right." data-i18n="manifester-levels">Manifester Levels</span>
                                <span class="table-header"></span>
                                <span class="table-header" data-i18n-title="psionic-manifester-miscellaneous-title" data-i18n-aria-label="psionic-manifester-miscellaneous-title" title="Any miscellaneous modifiers to the manifester level." data-i18n="miscellaneous-abbrv">Misc</span>
                                <span class="table-header"></span>
                                <span class="table-header" data-i18n-title="psionic-manifester-levels-title" data-i18n-aria-label="psionic-manifester-levels-title" title="The total adjusted manifester level." data-i18n="total">Total</span>
                                <span class="table-header">|</span>
                                <span class="table-header" data-i18n-title="psionic-power-points-available-title" data-i18n-aria-label="psionic-power-points-available-title" title="How many power points you have available to use." data-i18n="current-power-points-abbrv">Current PP</span>
                                <span class="table-header">/</span>
                                <span class="table-header" data-i18n-title="psionic-power-points-reserve-title" data-i18n-aria-label="psionic-power-points-reserve-title" title="Your power point reserve is equal to your base power points gained from your class, bonus power points from a high key ability score, and any additional bonus power points from sources such as your character race and feat selections." data-i18n="power-point-reserve-abbrv">PP Reserve</span>
                                <span class="table-header"></span>
                                <span class="table-header" data-i18n-title="psionic-power-points-class-title" data-i18n-aria-label="psionic-power-points-class-title" title="The amount of base bonus power points you gain from you class(es)." data-i18n="class-power-points-abbrv">Class PP</span>
                                <span class="table-header"></span>
                                <span class="table-header" data-i18n-title="psionic-ability-title" data-i18n-aria-label="psionic-ability-title" title="The psionic class key ability modifier source." data-i18n="key-ability">Key Ability</span>
                                <span class="table-header" data-i18n-title="psionic-power-points-bonus-title" data-i18n-aria-label="psionic-power-points-bonus-title" title="The amount of bonus power points you gain from manifester level and key ability modifier." data-i18n="bonus-power-points-abbrv">Bonus PP</span>
                                <span class="table-header"></span>
                                <span class="table-header" data-i18n-title="psionic-power-points-miscellaneous-title" data-i18n-aria-label="psionic-power-points-miscellaneous-title" title="Any additional power points you gain from race, traits or feats." data-i18n="miscellaneous-abbrv">Misc</span>
                            </div>
                        </div>
                        <div class="table-row">
                            <span class="table-cell"><input type="number" title="@{psionic-level}" name="attr_psionic-level" value="0" min="0" /></span>
                            <span class="divider">+</span>
                            <span class="table-cell"><input type="number" title="@{psionic-level-misc}" name="attr_psionic-level-misc" value="0" /></span>
                            <span class="divider">=</span>
                            <span class="table-cell"><input type="number" title="@{psionic-level-total}" name="attr_psionic-level-total" value="0" class="calc" readonly /></span>
                            <span class="divider">|</span>
                            <span class="table-cell"><input type="number" title="@{psionic-power}" name="attr_psionic-power" value="0" min="0" /></span>
                            <span class="divider">/</span>
                            <span class="table-cell"><input type="number" title="@{psionic-power|max}" name="attr_psionic-power_max" value="0" class="calc" readonly /></span>
                            <span class="divider">=</span>
                            <span class="table-cell"><input type="number" title="@{class-psionic-power}" name="attr_class-psionic-power" value="0" /></span>
                            <span class="divider">+</span>
                            <span class="table-cell" style="width:8%;">
                                <select title="@{selected-ability-psionic-power}" name="attr_selected-ability-psionic-power" style="font-size:1em;">
                                    <option value="0" data-i18n="none-default" selected>&#8226;None</option>
                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                </select>
                            </span>
                            <span class="table-cell"><input type="number" title="@{ability-psionic-power}" name="attr_ability-psionic-power" value="0" class="calc" readonly /></span>
                            <span class="divider">+</span>
                            <span class="table-cell"><input type="number" title="@{misc-psionic-power}" name="attr_misc-psionic-power" value="0" /></span>
                        </div>
                        <div class="table-row" style="height:2em;">
                            <span class="table-cell nowrap"><label><input type="checkbox" title="@{psionic-focus}" name="attr_psionic-focus" value="1" /><b data-i18n-title="psionic-focus-title" data-i18n-aria-label="psionic-focus-title" title="Is maintaining psionic focus."><span data-i18n="psionic-focus"> Psionic Focus</span></b></label></span>
                        </div>
                    </div>
                    <input class="kineticist-show noshow" type="checkbox" name="attr_use_burn" value="1" />
                    <div class="cheat kineticist"></div>
                    <input class="showarrow h2arrow kineticist" type="checkbox" name="attr_burn-show" data-i18n-title="showsect-cmd" value="1" checked />
                    <h2 class="clickheader showsect kineticist"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="kineticist-burn">Kinetic Burn</label></h2>
                    <div class="h2-section non-table narrow-numbers kineticist kinetic-sect" role="section" data-i18n-aria-label="kineticist-burn" style="height:auto;">
                        <span class="nontable-name secondary-table-name show-readonly" data-i18n="kineticist-burn">Kineticist Burn</span>
                        <label class="small-label2">
                            <select name="attr_kineticist_level" title="@{kineticist_level}" class="entry-vshort">
                                <option value="class-0-level" data-i18n="1-ordinal-class" selected>1st Class</option>
                                <option value="class-1-level" data-i18n="2-ordinal-class">2nd Class</option>
                                <option value="class-2-level" data-i18n="3-ordinal-class">3rd Class</option>
                                <option value="class-3-level" data-i18n="4-ordinal-class">4th Class</option>
                                <option value="class-4-level" data-i18n="5-ordinal-class">5th Class</option>
                                <option value="class-5-level" data-i18n="6-ordinal-class">6th Class</option>
                                <option value="level" data-i18n="full-caster-level-abbrv">Level/HD</option>
                                <option value="npc-hd-num" data-i18n="race-hd-default">Race only</option>
                            </select>
                            <span data-i18n="class">Class</span>
                        </label>
                        <label class="small-label2">
                            <input type="number" name="attr_kineticist_level-mod" title="@{kineticist_level-mod}" value="0" class="calc" readonly />
                            <span data-i18n-title="level" title="level">level</span>
                        </label>
                        <label class="small-label2">
                            <select class="select-small" title="@{kineticist_ability}" name="attr_kineticist_ability">
                                <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                <option value="CON-mod" data-i18n="constitution-abbrv" selected>CON</option>
                                <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                            </select>
                            <span data-i18n-title="ability" data-i18n-aria-label="ability" data-i18n="ability">Ability</span>
                        </label>
                        <label class="small-label2">
                            <input type="number" name="attr_kineticist_ability-mod" title="@{kineticist_ability-mod}" value="0" class="calc" readonly />
                            <span data-i18n="modifier-abbrv">mod</span>
                        </label>
                        <label class="small-label2 linked-tablecell center" style="width:25%;">
                            <input type="checkbox" name="attr_kineticistburn_max_error" class="error-mshow" value="1" />
                            <input type="text" name="attr_kineticistburn_macro_text" title="@{kineticistburn_macro_text}" data-i18n-placeholder="equation-macro-place" class="macro-text-inline highlight" style="display: inline;" value="3+@{kineticist_ability-mod}" />
                            <input type="number" name="attr_kineticistburn" title="@{kineticistburn}" value="0" />
                            <input type="hidden" name="attr_oldkineticistburn" value="0" />
                            <div class="divider-db-lg">/</div>
                            <input type="number" name="attr_kineticistburn_max" title="@{kineticistburn|max}" value="0" class="calc highlight" readonly />
                            <br>
                            <span class="note-a" data-i18n="burn" style="display:block;">Burn </span>
                        </label>
                        <label class="small-label2 linked-tablecell cetner" style="width:25%;">
                            <input type="checkbox" name="attr_internalbuffer_max_error" class="error-mshow" value="1" />
                            <input type="text" name="attr_internalbuffer_macro_text" title="@{internalbuffer_macro_text}" data-i18n-placeholder="equation-macro-place" class="macro-text-inline highlight" style="display: inline;" value="floor((@{kineticist_level-mod}-1)/5)" />
                            <input type="number" name="attr_internalbuffer" title="@{internalbuffer}" value="0" />
                            <div class="divider-db-lg">/</div>
                            <input type="number" name="attr_internalbuffer_max" title="@{internalbuffer|max}" value="0" class="calc highlight" readonly />
                            <br>
                            <span class="note-a" data-i18n="internal-buffer">Internal Buffer</span>
                        </label>
                        <label class="small-label2">
                            <input type="number" name="attr_kineticblast_dc" title="@{kineticblast_dc}" value="0" class="calc" readonly />
                            <span data-i18n="difficulty-class-abbrv">DC</span>
                        </label>
                        <label class="small-label2">
                            <input type="number" name="attr_kineticblast_range" title="@{kineticblast_range}" value="30" />
                            <span data-i18n="range">Range</span>
                        </label>
                        <br>
                        <label class="small-label2 linked-fields center">
                            <input type="checkbox" name="attr_kineticblast_attack-mod_error" class="error-mshow" value="1" />
                            <input type="text" name="attr_kineticblast_attack_macro_text" title="@{kineticblast_attack_macro_text}" data-i18n-placeholder="equation-macro-place" class="macro-text-inline highlight linked-cellfield" />
                            <input type="number" name="attr_kineticblast_attack-mod" title="@{kineticblast_attack-mod}" value="0" class="calc highlight linked-cellfield" readonly />
                            <br>
                            <span class="note-a" data-i18n="miscellaneous-attack-bonus-abbrv" style="display: block;">misc atk bonus</span>
                        </label>
                        <label class="small-label2 linked-fields cetner">
                            <input type="checkbox" name="attr_kineticblast_dmg-mod_error" class="error-mshow" value="1" />
                            <input type="text" name="attr_kineticblast_dmg_macro_text" title="@{kineticblast_dmg_macro_text}" data-i18n-placeholder="equation-macro-place" class="macro-text-inline highlight linked-cellfield" />
                            <input type="number" name="attr_kineticblast_dmg-mod" title="@{kineticblast_dmg-mod}" value="0" class="calc highlight" readonly />
                            <br>
                            <span class="note-a" data-i18n="miscellaneous-damage-bonus-abbrv" style="display: block;">misc dmg bonus</span>
                        </label>
                        <div class="cheat"></div>
                        <span class="nontable-name secondary-table-name show-readonly" data-i18n="kinetic-blast-attack-damage-macros">create-attack</span>

                        <div class="small-label2">
                            <select class="select-small" name="attr_kineticblast_attack_type" title="@{kineticblast_attack_type}">
                                <option value="ranged" data-i18n="ranged" selected>Ranged</option>
                                <option value="melee" data-i18n="melee">Melee</option>
                            </select>
                            <span data-i18n="attack-type-abbrv">atk type</span>
                        </div>

                        <div class="small-label2">
                            <select class="select-small" name="attr_kineticblast_type" title="@{kineticblast_type}">
                                <option value="kinetic" data-i18n="kinetic" selected>Kinetic</option>
                                <option value="composite" data-i18n="composite">Composite</option>
                            </select>
                            <span data-i18n="blast">blast</span>
                        </div>
                        <div class="small-label2">
                            <select class="select-small" name="attr_kineticblast_damage_type" title="@{kineticblast_damage_type}">
                                <option value="physical" data-i18n="physical" selected>Physical</option>
                                <option value="energy" data-i18n="energy">Energy</option>
                            </select>
                            <span data-i18n="damage-type-abbrv">dmg type</span>
                        </div>
                        <div class="small-label2" style="width:6em;">
                            <input style="display:inline-block;" type="checkbox" value="1" name="attr_use_devastating_infusion" title="@{use_devastating_infusion}" />
                            <span style="white-space:normal;" data-i18n="devastating-infusion">dice</span>
                        </div>
                        <div class="small-label2">
                            <input type="checkbox" name="attr_create_kineticblast_macro" value="1" class="cssbutton createmacrobutton" title="@{create_kineticblast_macro}"><span></span>
                            <span data-i18n-title="create-macros" data-i18n="create-macros">Create Macros</span>
                        </div>
                        <div class="small-label2 entry-med" style="width:20%;height:auto;">
                            <input type="text" name="attr_kineticblast_tempattack" title="@{kineticblast_tempattack}" class="macro-text-inline" />
                            <span class="note-a" data-i18n="attack-macro">attack macro</span>
                        </div>
                        <div class="small-label2 entry-med" style="width:20%;height:auto;">
                            <input type="text" name="attr_kineticblast_tempdmg" title="@{kineticblast_tempdmg}" class="macro-text-inline" />
                            <span class="note-b" data-i18n="damage-macro">damage macro</span>
                        </div>
                        <div class="small-label2">
                            <input type="checkbox" name="attr_create_kineticblast_attack" value="1" class="cssbutton createattackbutton" title="@{create_kineticblast_attack}" data-i18n-aria-label="create-attack-entry"><span></span>
                            <span data-i18n-title="create-kinetic-blast-attack" data-i18n-aria-label="create-kinetic-blast-attack" data-i18n="create-attack">Create Attack</span>
                        </div>
                    </div>
                    <div style="display:none;">
                        <input type="number" name="attr_kineticblast_attack" title="@{kineticblast_attack}" class="macro-text-inline" />
                        <input type="number" name="attr_kineticblast_dmg" title="@{kineticblast_dmg}" class="macro-text-inline" />
                    </div>
                </div>
                <div class="cheat"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_abilities-show" data-i18n-aria-label="abilities" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n="abilities">Abilities</label></h2>
                <div class="h2-section abilities repeating-sect wide-readonly">
                    <input type="checkbox" class="mythic-show" name="attr_mythic-adventures-show" value="1" role="presentation" />
                    <div role="menubar" class="abilitiesnav tabs custbordernav" aria-label="Abilities" data-i18n-aria-label="abilities"></div>
                    <input type="radio" class="tabinput tab0 wider-tab" name="attr_abilities_tab" value="class-features" data-i18n-title="class-features" data-i18n-aria-label="class-features" />
                    <label role="menuitem" class="tab tab0 wider-tab" data-i18n="class-features">Features</label>
                    <input type="radio" class="tabinput tab1 wider-tab" name="attr_abilities_tab" value="feats" data-i18n-title="feats" data-i18n-aria-label="feats" />
                    <label role="menuitem" class="tab tab1 wider-tab">
                        <span class="section-mythic-hidden" data-i18n="feats">Feats</span>
                        <span class="section-mythic" data-i18n="mythic-feats">Mythic Feats</span>
                    </label>
                    <input type="radio" class="tabinput tab2 med-tab" name="attr_abilities_tab" value="traits" data-i18n-title="traits-and-racial-traits" data-i18n-aria-label="traits-and-racial-traits" />
                    <label role="menuitem" class="tab tab2 med-tab" data-i18n="traits">Traits</label>
                    <input type="radio" class="tabinput tab3 section-mythic wider-tab" name="attr_abilities_tab" value="mythic" data-i18n-title="mythic-abilities" data-i18n-aria-label="mythic-abilities" />
                    <label role="menuitem" class="tab tab3 section-mythic wider-tab" data-i18n="mythic-abilities">Mythic Abilities</label>
                    <input type="radio" class="tabinput tab4" name="attr_abilities_tab" value="special-attacks" data-i18n-title="special-attacks" data-i18n-aria-label="special-attacks" />
                    <label role="menuitem" class="tab tab4" data-i18n="special-attacks-abbrv">Spec Atk</label>
                    <input type="radio" class="tabinput tab5 wider-tab" name="attr_abilities_tab" value="special-abilities" data-i18n-title="special-abilities" data-i18n-aria-label="special-abilities" />
                    <label role="menuitem" class="tab tab5 wider-tab" data-i18n="special-abilities-abbrv">Spec Abil</label>
                    <input type="radio" class="tabinput tab6" name="attr_abilities_tab" value="spell-like-abilities" data-i18n-title="spell-like-abilities" data-i18n-aria-label="spell-like-abilities" />
                    <label role="menuitem" class="tab tab6" data-i18n="spell-like-abilities-abbrv">Spell-like</label>
                    <input type="radio" class="tabinput tab7 narrow-tab" name="attr_abilities_tab" value="special-qualities" data-i18n-title="special-qualities" data-i18n-aria-label="special-qualities" />
                    <label role="menuitem" class="tab tab7 narrow-tab" data-i18n="special-qualities-abbrv">SQ</label>
                    <input type="radio" class="tabinput tab8 med-tab" name="attr_abilities_tab" value="other" data-i18n-title="all-other-desc" data-i18n-aria-label="all-other-desc" />
                    <label role="menuitem" class="tab tab8 med-tab" data-i18n="miscellaneous-abbrv">Misc</label>
                    <input type="radio" class="tabinput tab99 narrow-tab" name="attr_abilities_tab" value="99" data-i18n-title="all" data-i18n-aria-label="all" checked />
                    <label role="menuitem" class="tab tab99 narrow-tab" data-i18n="all">All</label>
                    <span class="divider-db-lg"> </span>
                    <input type="radio" class="tabinput tab9 narrow-tab" name="attr_abilities_tab" value="Ex" data-i18n-title="extraordinary-abilities" data-i18n-aria-label="extraordinary-abilities" />
                    <label role="menuitem" class="tab tab9 narrow-tab" data-i18n="extraordinary-abbrv">Ex</label>
                    <input type="radio" class="tabinput tab10 narrow-tab" name="attr_abilities_tab" value="Sp" data-i18n-title="spell-like-abilities" data-i18n-aria-label="spell-like-abilities" />
                    <label role="menuitem" class="tab tab10 narrow-tab" data-i18n="spell-like-abbrv">Sp</label>
                    <input type="radio" class="tabinput tab11 narrow-tab" name="attr_abilities_tab" value="Su" data-i18n-title="supernatural-abilities" data-i18n-aria-label="supernatural-abilities" />
                    <label role="menuitem" class="tab tab11 narrow-tab" data-i18n="supernatural-abbrv">Su</label>
                    <div class="cheat"></div>
                    <span class="tab0 nontable-name selected-tabtitle" data-i18n="class-features">Features</span>
                    <span class="tab1 nontable-name selected-tabtitle section-mythic-hidden" data-i18n="feats">Feats</span>
                    <span class="tab1 nontable-name selected-tabtitle section-mythic" data-i18n="mythic-feats">Mythic Feats</span>
                    <span class="tab2 nontable-name selected-tabtitle" data-i18n="traits">Traits</span>
                    <span class="tab3 nontable-name selected-tabtitle" data-i18n="mythic-abilities">Mythic Abilities</span>
                    <span class="tab4 nontable-name selected-tabtitle" data-i18n="special-attacks-abbrv">Spec Atk</span>
                    <span class="tab5 nontable-name selected-tabtitle" data-i18n="special-abilities-abbrv">Spec Abil</span>
                    <span class="tab6 nontable-name selected-tabtitle" data-i18n="spell-like-abilities-abbrv">Spell-like</span>
                    <span class="tab7 nontable-name selected-tabtitle" data-i18n="special-qualities-abbrv">SQ</span>
                    <span class="tab8 nontable-name selected-tabtitle" data-i18n="miscellaneous-abbrv">Misc</span>
                    <span class="tab9 nontable-name selected-tabtitle" data-i18n="extraordinary-abbrv">Ex</span>
                    <span class="tab10 nontable-name selected-tabtitle" data-i18n="spell-like-abbrv">Sp</span>
                    <span class="tab11 nontable-name selected-tabtitle" data-i18n="supernatural-abbrv">Su</span>
                    <span class="tab99 nontable-name selected-tabtitle" data-i18n="all-abilities">All Abilities</span>
                    <div></div>
                    <!--prevents the repeating buttons(expand/collapse, split-view) from changing position when sheet is in collapsed mode-->
                    <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" data-i18n-aria-label="minimize-all-cmd" title="Minimize all rows." name="attr_abilities-min-show" value="1" /><span></span>
                    <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" data-i18n-aria-label="expand-cmd" title="Collapse or expand all rows." name="attr_abilities-expand-show" value="1" /><span></span>
                    <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" data-i18n-aria-label="column-cmd" title="Split into two columns" name="attr_abilities-column-show" value="1" /><span></span>
                    <label class="small-label2"><input type="checkbox" name="attr_showinmenu_all_abilities" title="@{showinmenu_all_abilities}" value="1"><span data-i18n="show-in-menu" data-i18n-title="show-in-menu-title" data-i18n-aria-label="show-in-menu-title" title="Click to display a button for this row in the appropriate command menu" aria-label="Click to display a button for this row in the appropriate command menu" style="font-size: 0.85em;">Show</span></label>
                    <input class="deletebutton cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_ability_btn" value="1" data-i18n-title="delete-ability" data-i18n-aria-label="delete-ability-must-confirm-next-checkbox" /><span></span><label class="deletesect allrows-note"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_ability" data-i18n-aria-label="confirm-delete-ability" data-i18n-title="confirm-delete-ability" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                    <span class="compendium-note hide-readonly">
                        <span class="compendium-icon">i</span>
                        <span class="vertical-middle" data-i18n-title="compendium-drag-n-drop-desc" data-i18n-aria-label="compendium-drag-n-drop-desc" data-i18n="compendium-drag-drop-compatible"> Compendium drag-n-drop compatible </span>
                        <span class="drag-icon">&#9111;</span>
                    </span>
                    <div class="repeating-fields table hiderepborder section-ability-list">
                        <input type="checkbox" class="use-metrics noshow" name="attr_use_metrics" value="1" />
                        <fieldset class="repeating_ability">
                            <span class="error"><span class="pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
                            <input type="radio" name="attr_tabcat" value="-1" class="tabcopy custnavsection-new" checked role="presentation" />
                            <input type="radio" name="attr_tabcat" value="class-features" class="tabcopy custnavsection-0" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="feats" class="tabcopy custnavsection-1" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="traits" class="tabcopy custnavsection-2" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="mythic" class="tabcopy custnavsection-3" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="special-attacks" class="tabcopy custnavsection-4" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="special-abilities" class="tabcopy custnavsection-5" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="spell-like-abilities" class="tabcopy custnavsection-6" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="special-qualities" class="tabcopy custnavsection-7" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="other" class="tabcopy custnavsection-8" role="presentation" />
                            <input type="radio" name="attr_tabcat2" value="-1" class="noshow" checked role="presentation" />
                            <input type="radio" name="attr_tabcat2" value="Ex" class="tabcopy custnavsection-9" role="presentation" />
                            <input type="radio" name="attr_tabcat2" value="Sp" class="tabcopy custnavsection-10" role="presentation" />
                            <input type="radio" name="attr_tabcat2" value="Su" class="tabcopy custnavsection-11" role="presentation" />
                            <div class="custrepeating-border nontable-repeating compendium-drop-target">
                                <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" data-i18n-aria-label="minimize-cmd" title="Minimize Row" name="attr_row-show" value="1" checked /><span></span>
                                <span style="display:none;" class="small-label2 repeating-rollbutton"><button type="roll" name="attr_npc-roll" title="%{selected|repeating_ability_$X_npc-roll}" value="@{NPC-Whisper} @{macro-text}"></button></span>
                                <span class="small-label2 repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_ability_$X_roll}" value="@{PC-Whisper} @{macro-text}"></button></span>
                                <label class="small-label2"><input type="checkbox" name="attr_showinmenu" title="@{repeating_ability_$X_showinmenu}" value="1" /><span data-i18n="show-in-menu" data-i18n-title="show-in-menu-title" data-i18n-aria-label="show-in-menu-title">Show</span></label>
                                <label class="small-label2 entry-20p-shrink"><input title="@{repeating_ability_$X_name}" type="text" name="attr_name" data-i18n-placeholder="name" accept="Name" /><span data-i18n="name">Name</span></label>
                                <label class="small-label2 entry-12p-shrink">
                                    <select class="select-small" title="@{repeating_ability_$X_rule_category}" name="attr_rule_category" data-i18n-aria-label="rule-category">
                                        <option value="" data-i18n="select-one-default" selected>&#8226;Select One</option>
                                        <option value="mythic-abilities" data-i18n="mythic-abilities" class="section-mythic">Mythic Abilities</option>
                                        <option value="mythic-feats" data-i18n="mythic-feats" class="section-mythic">Mythic Feats</option>
                                        <option value="class-features" data-i18n="class-features">Class Features</option>
                                        <!-- confusing since defensive abilities already an <option value="defensive-abilities" data-i18n="defensive-abilities">Defensive Abilities</option>-->
                                        <option value="feats" data-i18n="feats">Feats</option>
                                        <option value="monster-rule" data-i18n="monster-rule">Monster Rule</option>
                                        <option value="special-abilities" data-i18n="special-abilities">Special Abilities</option>
                                        <option value="special-attacks" data-i18n="special-attacks">Special Attacks</option>
                                        <option value="special-qualities" data-i18n="special-qualities">Special Qualities</option>
                                        <option value="spell-like-abilities" data-i18n="spell-like-abilities">Spell-like Abilities</option>
                                        <option value="racial-traits" data-i18n="racial-traits">Racial Traits</option>
                                        <option value="traits" data-i18n="traits">Traits</option>
                                        <option value="other" data-i18n="other">Other</option>
                                    </select>
                                    <span data-i18n-title="rule-category" data-i18n-aria-label="rule-category" data-i18n="rule">Rule</span>
                                </label>
                                <label class="small-label2 entry-vshort sect">
                                    <select class="select-small select-class" title="@{repeating_ability_$X_CL-basis}" name="attr_CL-basis">
                                        <option value="0" data-i18n="not-applicable">N/A</option>
                                        <option value="@{level}" data-i18n="full-caster-level-abbrv" selected>Level/HD</option>
                                        <option value="@{class-0-level}" data-i18n="1-ordinal-class">1st Class</option>
                                        <option value="@{class-1-level}" data-i18n="2-ordinal-class">2nd Class</option>
                                        <option value="@{class-2-level}" data-i18n="3-ordinal-class">3rd Class</option>
                                        <option value="@{class-3-level}" data-i18n="4-ordinal-class">4th Class</option>
                                        <option value="@{class-4-level}" data-i18n="5-ordinal-class">5th Class</option>
                                        <option value="@{class-5-level}" data-i18n="6-ordinal-class">6th Class</option>
                                        <option value="@{npc-hd-num}" data-i18n="race-hd-default">Race only</option>
                                        <option value="(0*(@{level}))" data-i18n="other">Other</option>
                                    </select>
                                    <span data-i18n-title="caster-level-basis-explanation" data-i18n-aria-label="caster-level-basis-explanation" data-i18n="source">Source</span>
                                </label>
                                <input type="checkbox" name="attr_CL-basis" value="0" class="or-A-show noshow nolevel-show-inverse" />
                                <input type="checkbox" name="attr_CL-basis" value="@{level}" class="or-B-show noshow" />
                                <label class="small-label2 entry-10p-shrink nor-sect sect">
                                    <input type="text" value="" name="attr_class-name" title="@{repeating_ability_$X_class-name}" class="calc" readonly />
                                    <span class="nowrap" data-i18n="source-name">Source Name</span>
                                </label>
                                <label class="small-label2 entry-12p-shrink feats-traits-dropdown autoexpand">
                                    <input type="text" name="attr_ability_type2" list="feats" class="show-feats" title="@{repeating_ability_$X_ability_type2}" placeholder="General" data-i18n-placeholder="general" value="" accept="Feat Type" />
                                    <input type="text" name="attr_ability_type2" list="traits" class="show-traits" title="@{repeating_ability_$X_ability_type2}" placeholder="General" data-i18n-placeholder="general" value="" />
                                    <span class="show-feats" data-i18n="feat-type">Feat Type</span>
                                    <span class="show-traits" data-i18n="trait-type">Trait Type</span>
                                    <span name="attr_ability_type2" class="autoexpand"></span>
                                </label>
                                <label class="small-label2 entry-12p-shrink exspsu-dropdown autoexpand">
                                    <select title="@{repeating_ability_$X_ability_type}" name="attr_ability_type">
                                        <option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                        <option value="Ex" data-i18n="extraordinary-abbrv">Ex</option>
                                        <option value="Sp" data-i18n="spell-like-abbrv">Sp</option>
                                        <option value="Su" data-i18n="supernatural-abbrv">Su</option>
                                    </select>
                                    <span data-i18n-title="ability-type-title" data-i18n-aria-label="ability-type-title" data-i18n="type">Type</span>
                                </label>
                                <label class="small-label2 entry-20p-shrink" style="height:auto;"><textarea class="inline-textarea both" title="@{repeating_ability_$X_short-description}" name="attr_short-description" data-i18n-placeholder="short-description"></textarea><span data-i18n="short-description-abbrv">Short Desc</span></label>
                                <label class="small-label2" style="width:6em;">
                                    <select class="select-small" title="@{repeating_ability_$X_frequency}" name="attr_frequency">
                                        <option value="not-applicable" data-i18n="not-applicable-abbrv-default" selected>&#8226; N/A</option>
                                        <option value="constant" data-i18n="constant">Constant</constant>
                                        <option value="atwill" data-i18n="at-will">At Will</option>
                                        <option value="perday" data-i18n="per-day-abbrv">/day</option>
                                        <option value="hexfreq" data-i18n="24-per-target-abbrv">/24/target</option>
                                        <option value="everyrounds" data-i18n="every-rounds-abbrv">Every n rnds</option>
                                        <option value="perweek" data-i18n="per-week-abbrv">/week</option>
                                        <option value="permonth" data-i18n="per-month-abbrv">/month</option>
                                        <option value="other" data-i18n="other">Other</option>
                                    </select>
                                    <span data-i18n-title="frequency-title" data-i18n-aria-label="frequency-title" data-i18n="frequency-abbrv">Freq</span>
                                </label>
                                <input type="checkbox" value="everyrounds" name="attr_frequency" class="nextitem-show noshow" />
                                <label class="small-label2 sect nextitem entry-10p-shrink"><input type="text" class="macro-text-inline" title="@{repeating_ability_$X_rounds_between}" name="attr_rounds_between" data-i18n-placeholder="full-macro-place" /><span data-i18n="rounds">Rounds</span></label>
                                <input type="checkbox" value="perday" name="attr_frequency" class="or4-show noshow" />
                                <input type="checkbox" value="perweek" name="attr_frequency" class="or4-show noshow" />
                                <input type="checkbox" value="permonth" name="attr_frequency" class="or4-show noshow" />
                                <input type="checkbox" value="other" name="attr_frequency" class="or4-show noshow" />
                                <label class="small-label2 or4-sect">
                                    <input class="narrow-numbers" title="@{repeating_ability_$X_used}" type="number" name="attr_used" value="" />
                                    <span class="nowrap-over" data-i18n="number-prepared-abbrv">#Left</span>
                                </label>
                                <label class="divider-db-lg or4-sect">/</label>
                                <input type="checkbox" name="attr_used_max_error" class="error-mshow" value="1" />
                                <label class="small-label2 highlight or4-sect">
                                    <input class="narrow-numbers calc" title="@{repeating_ability_$X_used|max}" type="number" name="attr_used_max" value="" readonly />
                                    <span class="nowrap-over" data-i18n="maximum-abbrv">Max</span>
                                </label>
                                <label class="small-label2 sect highlight hide-readonly or4-sect entry-med">
                                    <input type="text" class="macro-text-inline" title="@{repeating_ability_$X_max-calculation}" name="attr_max-calculation" data-i18n-placeholder="equation-macro-place" />
                                    <span class="super note-a" data-i18n="maximum-calculation-abbrv">Max Calc</span>
                                </label>
                                <div style="display:none;">
                                    <input type="text" name="attr_compendium_category" accept="Category" value="" />
                                    <input type="text" name="attr_ability_type_compendium" accept="Ability Type" value="" />
                                    <!--spells -->
                                    <input type="text" name="attr_range_from_compendium" accept="Range" value="" />
                                    <input type="text" name="attr_target_from_compendium" accept="Target" value="" />
                                    <input type="text" name="attr_area_from_compendium" accept="Area" value="" />
                                    <input type="text" name="attr_effect_from_compendium" accept="Effect" value="" />
                                </div>
                                <div class="sect expand">
                                    <input type="checkbox" class="showarrow desc-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Description" name="attr_description-show" value="1" />
                                    <label class="showsect desc-showlabel" data-i18n="description">Description</label>
                                    <input type="checkbox" class="showarrow level-show nolevel-sect" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Miscellaneous" name="attr_misc-show" value="1" />
                                    <label class="showsect level-showlabel nolevel-sect" data-i18n="level-basis">Level basis</label>
                                    <input type="checkbox" class="showarrow range-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Miscellaneous" name="attr_range-show" value="1" />
                                    <label class="showsect range-showlabel" data-i18n="range">Range</label>
                                    <input type="checkbox" class="showarrow attack-damage-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show attack and damage fields" name="attr_attack-show" value="1" />
                                    <label class="showsect attack-damage-showlabel" data-i18n="attack-and-damage">Attack and Damage</label>
                                    <input type="checkbox" class="showarrow macro-text-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1" />
                                    <label class="showsect macro-text-showlabel super note-d" data-i18n="macro-text">Macro Text</label>
                                    <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1" />
                                    <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                    <hr class="subnav-hr">
                                    <div class="cheat"></div>
                                    <div class="level nolevel-sect">
                                        <input type="checkbox" value="1" name="attr_showextrafields" class="extra-show or-A-show noshow" />
                                        <input type="checkbox" value="Sp" name="attr_ability_type" class="sp-show noshow" />
                                        <label class="small-label2">
                                            <input type="checkbox" value="1" name="attr_showextrafields" />
                                            <span data-i18n-title="display-advanced-options-title" data-i18n="custom">Custom</span>
                                        </label>
                                        <label class="small-label2 extra-sect">
                                            <input class="number calc" type="number" name="attr_CL-basis-mod" title="@{repeating_ability_$X_CL-basis-mod}" value="0" readonly />
                                            <span data-i18n-title="caster-level-basis-explanation" data-i18n-aria-label="caster-level-basis-explanation" data-i18n="caster-level-basis-abbreviation">CL basis</span>
                                        </label>
                                        <label class="divider-db-lg nowrap extra-sect">+(</label>
                                        <label class="small-label2 linked-tablecell extra-sect nowrap entry-med">
                                            <input type="checkbox" value="1" name="attr_CL-misc-mod_error" class="error-mshow" />
                                            <input type="text" class="macro-text-inline linked-cellfield highlight" title="@{repeating_ability_$X_CL-misc}" name="attr_CL-misc" data-i18n-placeholder="equation-macro-place" />
                                            <input type="number" value="0" name="attr_CL-misc-mod" title="@{repeating_ability_$X_CL-misc-mod}" class="narrow-numbers calc linked-cellfield highlight" readonly />
                                            <br>
                                            <span class="super note-a" data-i18n-title="buff-spell-caster-level-title" data-i18n-aria-label="buff-spell-caster-level-title" data-i18n="miscellaneous-abbrv">Misc</span>
                                        </label>
                                        <label class="divider-db-lg nowrap extra-sect">)=</label>
                                        <label class="small-label2 number">
                                            <input type="number" value="0" title="@{repeating_ability_$X_casterlevel}" name="attr_casterlevel" class="calc bigger-total" />
                                            <span data-i18n-title="effective-caster-level" data-i18n-aria-label="effective-caster-level" data-i18n="caster-level-abbrv">CL</span>
                                        </label>
                                        <label class="divider-db-lg extra-sect">|</label>
                                        <label class="small-label2">
                                            <select class="select-small" title="@{repeating_ability_$X_ability-basis}" name="attr_ability-basis">
                                                <option value="0" data-i18n="none-default" selected>None</option>
                                                <option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
                                                <option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
                                                <option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
                                                <option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
                                                <option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
                                                <option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
                                            </select>
                                            <span data-i18n-title="ability-basis-desc" data-i18n-aria-label="ability-basis-desc" data-i18n="ability">Ability</span>
                                        </label>
                                        <label class="divider-db-lg extra-sect">|</label>
                                        <label class="small-label2">
                                            <select class="select-small select-spelllvl" title="@{repeating_ability_$X_spell_level-basis}" name="attr_spell_level-basis">
                                                <option value="floor(@{casterlevel}/2)" data-i18n="half-caster-level-abbrv-selected" selected>&#8226;&#189; Lvl/HD</option>
                                                <option value="@{casterlevel}" data-i18n="full-caster-level-abbrv">Lvl/HD</option>
                                                <option value="0" data-i18n="custom-level-abbrv">Custom Lvl</option>
                                            </select>
                                            <span data-i18n-title="difficulty-class-effect-basis-desc" data-i18n-aria-label="difficulty-class-effect-basis-desc" data-i18n="difficulty-class-effect-basis">DC/Effect Basis</span>
                                        </label>
                                        <input type="checkbox" value="0" class="noshow or-B-show" name="attr_spell_level-basis" role="presentation" />
                                        <label class="divider-db-lg nowrap either-or-sect">+(</label>
                                        <label class="small-label2 linked-tablecell either-or-sect nowrap entry-med">
                                            <input type="checkbox" value="1" name="attr_spell_level-misc-mod_error" class="error-mshow" />
                                            <input type="text" class="macro-text-inline linked-cellfield highlight" title="@{repeating_ability_$X_spell_level-misc}" name="attr_spell_level-misc" data-i18n-placeholder="equation-macro-place" />
                                            <input type="number" value="0" name="attr_spell_level-misc-mod" title="@{repeating_ability_$X_spell_level-misc-mod}" class="narrow-numbers calc linked-cellfield highlight" readonly />
                                            <br>
                                            <span class="super note-a" data-i18n-aria-label="spell-level-miscellaneous-desc" data-i18n-title="spell-level-miscellaneous-desc" data-i18n="miscellaneous-abbrv">Misc</span>
                                        </label>
                                        <label class="divider-db-lg nowrap either-or-sect" style="margin-left:-.5em;">)=</label>
                                        <label class="small-label2 narrow-numbers">
                                            <input type="text" class="narrow-numbers calc bigger-total" value="(@{spell_level-basis}+@{spell_level-misc-mod})" title="@{repeating_ability_$X_spell_level}" name="attr_spell_level" disabled />
                                            <span data-i18n-title="effective-spell-level" data-i18n-aria-label="effective-spell-level" data-i18n="spell-level-abbrv">Spell lvl</span>
                                        </label>
                                        <label class="divider-db-lg">|</label>
                                        <label class="small-label2 entry-15p-shrink autoexpand"><input title="@{repeating_ability_$X_save}" type="text" name="attr_save" value="" data-i18n-placeholder="save" accept="Saving Throw" /><span data-i18n="save">Save</span><span name="attr_save" class="autoexpand"></span></label>
                                        <label class="small-label2 number">
                                            <input type="text" value="(10+@{ability-basis} + @{spell_level})" name="attr_savedc" title="@{repeating_ability_$X_savedc}" class="number" disabled />
                                            <span data-i18n-title="difficulty-class-calculation-desc" data-i18n-aria-label="difficulty-class-calculation-desc" data-i18n="difficulty-class-abbrv">DC</span>
                                        </label>
                                        <label class="small-label2 sect-sp">
                                            <input type="text" value="(@{ability-basis} + @{casterlevel})" name="attr_Concentration-mod" title="@{repeating_ability_$X_Concentration-mod}" class="number" disabled />
                                            <span data-i18n-aria-label="concentration-bonus-desc" data-i18n-title="concentration-bonus-desc" data-i18n="concentration-abbrv">Conc</span>
                                        </label>
                                        <label class="small-label2 sect-sp entry-short">
                                            <select class="select-small" title="@{repeating_ability_$X_abil-sr}" name="attr_abil-sr" accept="Spell Resistance">
                                                <option value="" data-i18n="select-spell-resistance-default">&#8226;Select SR</option>
                                                <option value="Yes" data-i18n="yes">Yes</option>
                                                <option value="No" data-i18n="no">No</option>
                                                <option value="Yes (Harmless)" data-i18n="yes-harmless">Yes (Harmless)</option>
                                                <option value="Yes (Object)" data-i18n="yes-object">Yes (Object)</option>
                                                <option value="Yes (Harmless, Object)" data-i18n="yes-harmless-object">Yes (Harmless, Object)</option>
                                            </select>
                                            <span data-i18n-title="spell-resistance" data-i18n-aria-label="spell-resistance" data-i18n="spell-resistance-abbrv">SR</span>
                                        </label>
                                    </div>
                                    <div class="range">
                                        <input type="checkbox" value="Sp" name="attr_ability_type" class="sp-show noshow" />
                                        <label class="small-label2 number">
                                            <input type="number" value="0" title="@{repeating_ability_$X_casterlevel}" name="attr_casterlevel" class="calc" />
                                            <span data-i18n-title="level-hit-dice-abbrv" data-i18n-aria-label="level-hit-dice-abbrv" data-i18n="caster-level-abbrv">CL</span>
                                        </label>
                                        <label class="small-label2 sect-sp-inverse">
                                            <select class="select-small" title="@{repeating_ability_$X_range_pick}" name="attr_range_pick">
                                                <option value="" data-i18n="not-applicable-abbrv-default" selected>na</option>
                                                <option value="number" data-i18n="number">Number</option>
                                                <option value="perlevel" data-i18n="perlevel">Per Level</option>
                                                <option value="see_text" data-i18n="see_text">See text</option>
                                            </select>
                                            <span data-i18n="range">Range</span>
                                        </label>
                                        <label class="small-label2 sect-sp">
                                            <select class="select-small" title="@{repeating_ability_$X_range_pick}" name="attr_range_pick">
                                                <option value="" data-i18n="blank" selected>Blank</option>
                                                <option value="close" data-i18n="close">Close</option>
                                                <option value="medium" data-i18n="medium">Medium</option>
                                                <option value="long" data-i18n="long">Long</option>
                                                <option value="touch" data-i18n="touch">Touch</option>
                                                <option value="personal" data-i18n="personal">Personal</option>
                                                <option value="see_text" data-i18n="see_text">See text</option>
                                                <option value="number" data-i18n="number">Number</option>
                                                <option value="perlevel" data-i18n="perlevel">Per Level</option>
                                                <option value="unknownrange" data-i18n="unknownrange">Unknown Range</option>
                                            </select>
                                            <span data-i18n="range">Range</span>
                                        </label>
                                        <input type="checkbox" value="number" name="attr_range_pick" class="or-A-show noshow" />
                                        <input type="checkbox" value="perlevel" name="attr_range_pick" class="or-B-show noshow" />
                                        <label class="small-label2 entry-8p-shrink either-or-sect"><input title="@{repeating_ability_$X_range}" type="text" name="attr_range" data-i18n-placeholder="range-custom-place" /><span data-i18n-title="range-per-level-desc" data-i18n-aria-label="range-per-level-desc" data-i18n="range-custom">Custom Range</span></label>
                                        <label class="small-label2">
                                            <input title="@{repeating_ability_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" class="calc" readonly /><span class="distance-used" data-i18n="range">Range</span>
                                        </label>
                                        <label class="small-label2 sect entry-15p-shrink autoexpand"><input title="@{repeating_ability_$X_duration}" type="text" name="attr_duration" value="" data-i18n-placeholder="spell-duration" accept="Duration" /><span data-i18n="duration">Duration</span><span name="attr_duration" class="autoexpand"></span></label>
                                        <label class="small-label2 entry-15p-shrink autoexpand"><input title="@{repeating_ability_$X_cust-category}" type="text" name="attr_cust-category" value="" data-i18n-placeholder="school-etc" accept="School" /><span data-i18n-title="custom-category-desc" data-i18n-aria-label="custom-category-desc" data-i18n="category">Category</span><span name="attr_cust-category" class="autoexpand"></span></label>
                                    </div>
                                    <div class="attack-damage non-table sect expand">
                                        <label class="small-label2">
                                            <input type="checkbox" name="attr_create-attack-entry" value="1" class="cssbutton createattackbutton" data-i18n-title="create-attack-entry" data-i18n-aria-label="create-attack-entry"><span></span>
                                            <span data-i18n-title="create-attack-entry" data-i18n-aria-label="create-attack-entry" data-i18n="create-attack">Create Attack</span>
                                        </label>
                                        <input type="number" name="attr_toggle_attack_entry" value="1" class="noshow" />
                                        <label class="small-label2 entry-short">
                                            <select class="select-small" title="@{repeating_ability_$X_abil-attack-type}" name="attr_abil-attack-type">
                                                <option value="0" data-i18n="none-default" selected>&#8226;None</option>
                                                <option value="attk-melee" data-i18n="touch">Touch</option>
                                                <option value="attk-ranged" data-i18n="ranged-touch-ray">Ranged touch/Ray</option>
                                                <option value="CMB" data-i18n="combat-maneuver-bonus-abbrv">CMB</option>
                                                <option value="attk-melee2" data-i18n="touch-melee2">Alt Touch (alt melee)</option>
                                                <option value="attk-ranged2" data-i18n="ranged-touch-ray2">Alt Ranged Touch/Ray</option>
                                                <option value="CMB2" data-i18n="combat-maneuver-bonus-abbrv2">CMB2</option>
                                            </select>
                                            <span data-i18n="attack-type">Attack Type</span>
                                        </label>
                                        <label class="small-label2 sect entry-15p-shrink autoexpand">
                                            <input title="@{repeating_ability_$X_targets}" type="text" value="" name="attr_targets" data-i18n-placeholder="spell-targets-area-effect" />
                                            <span data-i18n="spell-targets-area-effect">Targets/Area/Effect</span><span name="attr_targets" class="autoexpand"></span>
                                        </label>
                                        <label class="small-label2 entry-med">
                                            <input type="text" class="macro-text-inline" name="attr_damage-macro-text" title="@{repeating_ability_$X_damage-macro-text}" data-i18n-placeholder="full-macro-place" />
                                            <span class="super note-b" data-i18n-title="damage-macro-desc" data-i18n-aria-label="damage-macro-desc" data-i18n="damage">Damage</span>
                                        </label>
                                        <label class="small-label2 entry-15p-shrink autoexpand">
                                            <input type="text" name="attr_damage-type" value="p/b/s...?" title="@{repeating_ability_$X_damage-type}" data-i18n-placeholder="damage-type" />
                                            <span data-i18n="damage-type">Damage Type</span><span name="attr_damage-type" class="autoexpand"></span>
                                        </label>
                                    </div>
                                    <input type="text" name="attr_is_sp" value="" class="noshow" />
                                    <input type="text" name="attr_hasposrange" value="" class="noshow" />
                                    <input type="text" name="attr_hasfrequency" value="" class="noshow" />
                                    <input type="text" name="attr_hasuses" value="" class="noshow" />
                                    <input type="text" name="attr_hasattack" value="" class="noshow" />
                                    <input type="text" name="attr_abil-attacktypestr" value="" class="noshow" />
                                    <textarea class="desc" title="@{repeating_ability_$X_description}" name="attr_description" accept="Content"></textarea>
                                    <textarea class="macro-text" title="@{repeating_ability_$X_macro-text}" name="attr_macro-text">&{template:pf_ability} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_ability}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle=^{@{rule_category}}}} {{name=@{name}}} {{rule_category=@{rule_category}}} {{source=@{class-name}}} {{is_sp=@{is_sp}}} {{hasspellrange=@{range_pick}}} {{spell_range=^{@{range_pick}}}} {{casterlevel=[[@{casterlevel}]]}} {{spell_level=[[@{spell_level}]]}} {{hasposrange=@{hasposrange}}} {{custrange=@{range}}} {{range=[[@{range_numeric}]]}} {{save=@{save}}} {{savedc=[[@{savedc}]]}} {{hassr=@{abil-sr}}} {{sr=^{@{abil-sr}}}} {{hasfrequency=@{hasfrequency}}} {{frequency=^{@{frequency}}}} {{next_cast=@{rounds_between}}} {{hasuses=@{hasuses}}} {{uses=@{used}}} {{uses_max=@{used|max}}} {{cust_category=@{cust-category}}} {{concentration=[[@{Concentration-mod}]]}} {{damage=@{damage-macro-text}}} {{damagetype=@{damage-type}}} {{hasattack=@{hasattack}}} {{attacktype=^{@{abil-attacktypestr}}}} {{targetarea=@{targets}}} {{duration=@{duration}}} {{shortdesc=@{short-description}}} {{description=@{description}}} {{deafened_note=@{SpellFailureNote}}}</textarea>
                                    <div class="repeating-id">
                                        <label class="small-label2 nextitem">
                                            <input class="selectable calc" name="attr_row_id" readonly />
                                            <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                    <input type="checkbox" class="classfeatures-show" name="attr_use_class_features" value="1" role="presentation" />
                    <div class="repeating-sect section0 section-classfeatureslist">
                        <span class="nontable-name selected-tabtitle secondary-table-name" data-i18n="original-class-features-list">Original Class Features List</span>
                        <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" data-i18n-aria-label="minimize-all-cmd" title="Minimize all rows." name="attr_class-ability-min-show" value="1" /><span></span>
                        <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" data-i18n-aria-label="expand-cmd" title="Collapse or expand all rows." name="attr_class-ability-expand-show" value="1" /><span></span>
                        <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" data-i18n-aria-label="column-cmd" title="Split into two columns" name="attr_class-ability-column-show" value="1" /><span></span>
                        <input class="deletebutton cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_class-ability_btn" value="1" data-i18n-title="delete-class-ability" data-i18n-aria-label="delete-class-ability-must-confirm-next-checkbox" /><span></span><label class="deletesect allrows-note"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_class-ability" data-i18n-aria-label="confirm-delete-class-ability" data-i18n-title="confirm-delete-class-ability" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                        <div class="repeating-fields table">
                            <fieldset class="repeating_class-ability">
                                <span class="error"><span class="pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
                                <div class="table-repeating narrow-numbers">
                                    <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" data-i18n-aria-label="minimize-cmd" title="Minimize Row" name="attr_row-show" value="1" checked /><span class="table-cell"></span>
                                    <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_class-ability_$X_roll}" value="@{macro-text}"></button></span>
                                    <span class="table-cell small-label hide-readonly" style="width:2.5em;"><input type="checkbox" name="attr_showinmenu" title="@{repeating_class-ability_$X_showinmenu}" value="1" /><span data-i18n="show-in-menu" data-i18n-title="show-in-menu-title" data-i18n-aria-label="show-in-menu-title">Show</span></span>
                                    <span style="display:none;" class="table-cell small-label sect">
                                        <input name="attr_rule_category" type="text" value="class-features" title="@{repeating_class-ability_$X_rule_category}" data-i18n-aria-label="rule-category" readonly />
                                    </span>
                                    <span class="table-cell small-label sect sect hide-readonly entry-vshort">
                                        <select title="@{repeating_class-ability_$X_class-number}" name="attr_class-number" class="select-small select-class">
                                            <option value="@{class-0-name}" data-i18n="class-0-default" selected>•0 class</option>
                                            <option value="@{class-1-name}" data-i18n="class-1">1st</option>
                                            <option value="@{class-2-name}" data-i18n="class-2">2nd</option>
                                            <option value="@{class-3-name}" data-i18n="class-3">3rd</option>
                                            <option value="@{class-4-name}" data-i18n="class-4">4th</option>
                                            <option value="@{class-5-name}" data-i18n="class-5">5th</option>
                                            <option value="@{race}">Race</option>
                                        </select>
                                        <br><span class="nowrap" data-i18n-title="class-number-explanation" data-i18n-aria-label="class-number-explanation" data-i18n="class-number">Class #</span>
                                    </span>
                                    <span class="table-cell small-label sect" style="width:10%"><input title="@{repeating_class-ability_$X_class-name}" type="text" name="attr_class-name" value="@{class-number}" disabled /><span data-i18n-title="source-title" data-i18n-aria-label="source-title" title="Ability Source - class or race" data-i18n="source">Source</span><br></span>
                                    <span class="table-cell small-label"><input title="@{repeating_class-ability_$X_name}" type="text" name="attr_name" data-i18n-placeholder="ability-name"><br><span data-i18n="name">Name</span></span>
                                    <span class="table-cell small-label"><textarea class="inline-textarea" title="@{repeating_class-ability_$X_short-description}" name="attr_short-description" data-i18n-placeholder="short-description"></textarea><br><span data-i18n="short-description-abbrv">Short Desc</span></span>
                                    <span class="table-cell small-label number"><input title="@{repeating_class-ability_$X_used}" type="number" name="attr_used" value="0" /><br><span class="nowrap-over" data-i18n="number-prepared-abbrv">#Left</span></span>
                                    <span class="divider-lg">/</span>
                                    <input type="checkbox" name="attr_used_max_error" class="error-mshow" value="1" />
                                    <span class="table-cell small-label highlight number"><input title="@{repeating_class-ability_$X_used|max}" type="number" name="attr_used_max" value="0" class="calc" readonly /><br><span data-i18n="maximum-abbrv">Max</span></span>
                                    <span class="table-cell small-label sect highlight hide-readonly" style="width:7%;"><textarea class="macro-text-inline both" title="@{repeating_class-ability_$X_max-calculation}" name="attr_max-calculation" data-i18n-placeholder="equation-macro-place"></textarea><br><span data-i18n="maximum-calculation-abbrv">Max Calc</span></span>
                                    <div style="display:none;">
                                        <input type="text" name="attr_compendium_category" accept="Category" value="" />
                                        <input type="text" name="attr_ability_type_compendium" accept="Ability Type" value="" />
                                    </div>
                                    <div class="sect expand hide-readonly">
                                        <input type="checkbox" class="showarrow desc-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Description" name="attr_description-show" value="1" />
                                        <label class="showsect desc-showlabel" data-i18n="description">Description</label>
                                        <input type="checkbox" class="showarrow macro-text-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1" />
                                        <label class="showsect macro-text-showlabel" data-i18n="macro-text">Macro Text</label>
                                        <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1" />
                                        <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                        <hr class="subnav-hr">
                                        <div class="cheat"></div>
                                        <textarea class="desc" title="@{repeating_class-ability_$X_description}" name="attr_description" accept="Content"></textarea>
                                        <textarea class="macro-text" title="@{repeating_class-ability_$X_macro-text}" name="attr_macro-text">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle=^{@{rule_category}}}} {{class=**^{class}**: @{class-number}}} {{name=@{name}}} {{description=@{short-description}}}</textarea>
                                        <div class="repeating-id">
                                            <label class="small-label2 nextitem">
                                                <input class="selectable calc" name="attr_row_id" readonly />
                                                <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                    <input type="checkbox" class="featlist-show" name="attr_use_feats" value="1" role="presentation" />
                    <div class="repeating-sect section1 section-featlist">
                        <span class="nontable-name selected-tabtitle secondary-table-name" data-i18n="original-feats-list">Feats</span>
                        <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" data-i18n-aria-label="minimize-all-cmd" title="Minimize all rows." name="attr_feat-min-show" value="1" /><span></span>
                        <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" data-i18n-aria-label="expand-cmd" title="Collapse or expand all rows." name="attr_feat-expand-show" value="1" /><span></span>
                        <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" data-i18n-aria-label="column-cmd" title="Split into two columns" name="attr_feat-column-show" value="1" /><span></span>
                        <input class="deletebutton cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_feat_btn" value="1" data-i18n-title="delete-feat" data-i18n-aria-label="delete-feat-must-confirm-next-checkbox" /><span></span><label class="deletesect allrows-note"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_feat" data-i18n-aria-label="confirm-delete-feat" data-i18n-title="confirm-delete-feat" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                        <div class="repeating-fields table">
                            <fieldset class="repeating_feat">
                                <span class="error"><span class="pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
                                <div class="table-repeating">
                                    <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" data-i18n-aria-label="minimize-cmd" title="Minimize Row" name="attr_row-show" value="1" checked /><span class="table-cell"></span>
                                    <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_feat_$X_roll}" value="@{macro-text}"></button></span>
                                    <span style="display:none;" class="table-cell repeating-rollbutton"><button type="roll" name="attr_npc-roll" title="%{selected|repeating_feat_$X_npc-roll" value="@{npc-macro-text}"></button></span>
                                    <span class="table-cell small-label hide-readonly" style="width:2.5em;"><input type="checkbox" name="attr_showinmenu" title="@{repeating_feat_$X_showinmenu}" value="1" /><span data-i18n="show-in-menu" data-i18n-title="show-in-menu-title" data-i18n-aria-label="show-in-menu-title">Show</span></span>
                                    <input type="hidden" value="" name="attr_ability_type" />
                                    <input type="hidden" value="feats" name="attr_rule_category" />
                                    <span class="table-cell small-label"><input title="@{repeating_feat_$X_name}" type="text" name="attr_name" data-i18n-placeholder="feat-name" accept="Name"><br><span data-i18n="name">Name</span></span>
                                    <span class="table-cell small-label entry-30p-shrink"><textarea class="inline-textarea" title="@{repeating_feat_$X_short-description}" name="attr_short-description" data-i18n-placeholder="short-description"></textarea><br><span data-i18n="short-description-abbrv">Short Desc</span></span>
                                    <span class="table-cell small-label" style="width:0.1%;"><input title="@{repeating_feat_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="used">Used</span></span>
                                    <span class="divider-lg" style="width:0.1%;">/</span>
                                    <input type="checkbox" name="attr_used_max_error" class="error-mshow" value="1" />
                                    <span class="table-cell small-label highlight" style="width:0.1%;"><input title="@{repeating_feat_$X_used|max}" type="text" name="attr_used_max" value="0" class="calc" readonly /><br><span data-i18n="maximum-abbrv">Max</span></span>
                                    <span class="table-cell small-label sect highlight hide-readonly" style="width:7%;"><textarea class="macro-text-inline both" title="@{repeating_feat_$X_max-calculation}" name="attr_max-calculation" data-i18n-placeholder="equation-macro-place"></textarea><br><span data-i18n="calculation-abbrv">Calc</span></span>
                                    <div class="sect expand hide-readonly">
                                        <input type="checkbox" class="showarrow desc-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Description" name="attr_description-show" value="1" />
                                        <label class="showsect desc-showlabel" data-i18n="description">Description</label>
                                        <input type="checkbox" class="showarrow macro-text-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1" />
                                        <label class="showsect macro-text-showlabel" data-i18n="macro-text">Macro Text</label>
                                        <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1" />
                                        <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                        <hr class="subnav-hr">
                                        <div class="cheat"></div>
                                        <textarea class="desc" title="@{repeating_feat_$X_description}" name="attr_description" accept="Content"></textarea>
                                        <textarea class="macro-text" title="@{repeating_feat_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{description=@{short-description}}}</textarea>
                                        <textarea style="display:none;" class="macro-text" title="@{repeating_feat_$X_npc-macro-text}" name="attr_npc-macro-text">@{NPC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{description=@{short-description}}}</textarea>
                                        <div class="repeating-id">
                                            <label class="small-label2 nextitem">
                                                <input class="selectable calc" name="attr_row_id" readonly />
                                                <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                    <!-- Mythic Adventures display option toggled from Config -->
                    <div class="repeating-sect section1 section-mythic">
                        <span class="nontable-name selected-tabtitle secondary-table-name" data-i18n="mythic-feats">Mythic Feats</span>
                        <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" data-i18n-aria-label="minimize-all-cmd" title="Minimize all rows." name="attr_mythic-feats-min-show" value="1" /><span></span>
                        <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" data-i18n-aria-label="expand-cmd" title="Collapse or expand all rows." name="attr_mythic-feats-expand-show" value="1" /><span></span>
                        <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" data-i18n-aria-label="column-cmd" title="Split into two columns" name="attr_mythic-feats-column-show" value="1" /><span></span>
                        <input class="deletebutton cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_mythic-feat_btn" value="1" data-i18n-title="delete-mythic-feat" data-i18n-aria-label="delete-mythic-feat-must-confirm-next-checkbox" /><span></span><label class="deletesect allrows-note"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_mythic-feat" data-i18n-aria-label="confirm-delete-mythic-feat" data-i18n-title="confirm-delete-mythic-feat" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                        <div class="repeating-fields table">
                            <fieldset class="repeating_mythic-feat">
                                <div class="custrepeating-border nontable-repeating">
                                    <span class="error"><span class="pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
                                    <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" data-i18n-aria-label="minimize-cmd" title="Minimize Row" name="attr_row-show" value="1" checked /><span></span>
                                    <span class="small-label2 repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_mythic-feat_$X_roll}" value="@{macro-text}"></button></span>
                                    <label class="small-label2"><input type="checkbox" name="attr_showinmenu" title="@{repeating_mythic-feat_$X_showinmenu}" value="1" /><span data-i18n="show-in-menu" data-i18n-title="show-in-menu-title" data-i18n-aria-label="show-in-menu-title">Show</span></label>
                                    <input type="hidden" value="mythic-feats" name="attr_rule_category" />
                                    <input type="hidden" value="" name="attr_ability_type" />
                                    <label class="small-label2 entry-20p-shrink"><input title="@{repeating_mythic-feat_$X_name}" type="text" name="attr_name" data-i18n-placeholder="mythic-feat-name"><span data-i18n="name">Name</span></label>
                                    <label class="small-label2 entry-30p-shrink" style="height:auto;">
                                        <textarea class="inline-textarea" title="@{repeating_mythic-feat_$X_short-description}" name="attr_short-description" data-i18n-placeholder="short-description"></textarea>
                                        <span data-i18n="short-description-abbrv">Short Desc</span>
                                    </label>
                                    <label class="small-label2 or4-sect">
                                        <input title="@{repeating_mythic-feat_$X_used}" type="number" name="attr_used" value="0" />
                                        <span class="nowrap-over" data-i18n="uses">Uses</span>
                                    </label>
                                    <label class="divider-db-lg or4-sect">/</label>
                                    <input type="checkbox" name="attr_used_max_error" class="error-mshow" value="1" />
                                    <label class="small-label2 highlight or4-sect">
                                        <input title="@{repeating_mythic-feat_$X_used|max}" type="number" name="attr_used_max" value="0" class="calc" readonly />
                                        <span class="nowrap-over" data-i18n="maximum-abbrv">Max</span>
                                    </label>
                                    <label class="small-label2 sect highlight hide-readonly entry-10p-shrink or4-sect" style="height:auto;">
                                        <textarea class="macro-text-inline both" title="@{repeating_mythic-feat_$X_max-calculation}" name="attr_max-calculation" data-i18n-placeholder="equation-macro-place"></textarea>
                                        <span class="super note-a" data-i18n="maximum-calculation-abbrv">Max Calc</span>
                                    </label>
                                    <div class="sect expand hide-readonly">
                                        <input type="checkbox" class="showarrow desc-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Description" name="attr_description-show" value="1" />
                                        <label class="showsect desc-showlabel" data-i18n="description">Description</label>
                                        <input type="checkbox" class="showarrow macro-text-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1" />
                                        <label class="showsect macro-text-showlabel" data-i18n="macro-text">Macro Text</label>
                                        <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1" />
                                        <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                        <hr class="subnav-hr">
                                        <div class="cheat"></div>
                                        <textarea class="desc" title="@{repeating_mythic-feat_$X_description}" name="attr_description"></textarea>
                                        <textarea class="macro-text" title="@{repeating_mythic-feat_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{description=@{short-description}}}</textarea>
                                        <div class="repeating-id">
                                            <label class="small-label2 nextitem">
                                                <input class="selectable calc" name="attr_row_id" readonly />
                                                <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                    <input type="checkbox" class="racial-traits-show" name="attr_use_racial_traits" value="1" role="presentation" />
                    <div class="repeating-sect section2 section-racial-traits">
                        <span class="nontable-name selected-tabtitle secondary-table-name" data-i18n="original-racial-traits-list">Racial Traits</span>
                        <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" data-i18n-aria-label="minimize-all-cmd" title="Minimize all rows." name="attr_racial-trait-min-show" value="1" /><span></span>
                        <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" data-i18n-aria-label="expand-cmd" title="Collapse or expand all rows." name="attr_racial-trait-expand-show" value="1" /><span></span>
                        <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" data-i18n-aria-label="column-cmd" title="Split into two columns" name="attr_racial-trait-column-show" value="1" /><span></span>
                        <input class="deletebutton cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_racial-trait_btn" value="1" data-i18n-title="delete-racial-trait" data-i18n-aria-label="delete-racial-trait-must-confirm-next-checkbox" /><span></span><label class="deletesect allrows-note"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_racial-trait" data-i18n-aria-label="confirm-delete-racial-trait" data-i18n-title="confirm-delete-racial-trait" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                        <div class="repeating-fields table">
                            <fieldset class="repeating_racial-trait">
                                <span class="error"><span class="pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
                                <div class="table-repeating">
                                    <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" data-i18n-aria-label="minimize-cmd" title="Minimize Row" name="attr_row-show" value="1" checked /><span class="table-cell"></span>
                                    <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_racial-trait_$X_roll}" value="@{macro-text}"></button></span>
                                    <span style="display:none;" class="table-cell repeating-rollbutton"><button type="roll" name="attr_npc-roll" title="%{selected|repeating_racial-trait_$X_npc-roll}" value="@{npc-macro-text}"></button></span>
                                    <span class="table-cell small-label hide-readonly" style="width:2.5em;"><input type="checkbox" name="attr_showinmenu" title="@{repeating_racial-trait_$X_showinmenu}" value="1" /><span data-i18n="show-in-menu" data-i18n-title="show-in-menu-title" data-i18n-aria-label="show-in-menu-title">Show</span></span>
                                    <input type="hidden" value="racial-traits" name="attr_rule_category" />
                                    <span class="table-cell small-label"><input title="@{repeating_racial-trait_$X_name}" type="text" name="attr_name" data-i18n-placeholder="racial-trait-name" accept="Name"><br><span data-i18n="name">Name</span></span>
                                    <span class="table-cell small-label entry-30p-shrink"><textarea class="inline-textarea" title="@{repeating_racial-trait_$X_short-description}" name="attr_short-description" data-i18n-placeholder="short-description"></textarea><br><span data-i18n="short-description-abbrv">Short Desc</span></span>
                                    <span class="table-cell small-label exspsu-dropdown">
                                        <select title="@{repeating_racial-trait_$X_ability_type}" name="attr_ability_type">
                                            <option value="not-applicable" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                            <option value="Ex" data-i18n="extraordinary-abbrv">Ex</option>
                                            <option value="Sp" data-i18n="spell-like-abbrv">Sp</option>
                                            <option value="Su" data-i18n="supernatural-abbrv">Su</option>
                                        </select>
                                        <br>
                                        <span data-i18n="type">Type</span>
                                    </span>
                                    <span class="table-cell small-label" style="width:0.1%;"><input title="@{repeating_racial-trait_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses">Uses</span></span>
                                    <span class="divider-lg" style="width:0.1%;">/</span>
                                    <input type="checkbox" name="attr_used_max_error" class="error-mshow" value="1" />
                                    <span class="table-cell small-label highlight" style="width:0.1%;"><input title="@{repeating_racial-trait_$X_used|max}" type="number" name="attr_used_max" value="" class="calc" readonly /><br><span data-i18n="maximum-abbrv">Max</span></span>
                                    <span class="table-cell small-label sect highlight hide-readonly" style="width:7%;"><textarea class="macro-text-inline both" title="@{repeating_racial-trait_$X_max-calculation}" name="attr_max-calculation" data-i18n-placeholder="equation-macro-place"></textarea><br><span data-i18n="maximum-calculation-abbrv">Max Calc</span></span>
                                    <div class="sect expand hide-readonly">
                                        <input type="checkbox" class="showarrow desc-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Description" name="attr_description-show" value="1" />
                                        <label class="showsect desc-showlabel" data-i18n="description">Description</label>
                                        <input type="checkbox" class="showarrow macro-text-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1" />
                                        <label class="showsect macro-text-showlabel" data-i18n="macro-text">Macro Text</label>
                                        <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1" />
                                        <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                        <hr class="subnav-hr">
                                        <div class="cheat"></div>
                                        <textarea class="desc" title="@{repeating_racial-trait_$X_description}" name="attr_description" accept="Content"></textarea>
                                        <textarea class="macro-text" title="@{repeating_racial-trait_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{description=@{short-description}}}</textarea>
                                        <textarea style="display:none;" class="macro-text" title="@{repeating_racial-trait_$X_npc-macro-text}" name="attr_npc-macro-text">@{NPC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{description=@{short-description}}}</textarea>
                                        <div class="repeating-id">
                                            <label class="small-label2 nextitem">
                                                <input class="selectable calc" name="attr_row_id" readonly />
                                                <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                    <input type="checkbox" class="traits-show" name="attr_use_traits" value="1" role="presentation" />
                    <div class="repeating-sect section2 section-traits">
                        <span class="nontable-name selected-tabtitle secondary-table-name" data-i18n="original-traits-list">Traits</span>
                        <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" data-i18n-aria-label="minimize-all-cmd" title="Minimize all rows." name="attr_traits-min-show" value="1" /><span></span>
                        <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" data-i18n-aria-label="expand-cmd" title="Collapse or expand all rows." name="attr_traits-expand-show" value="1" /><span></span>
                        <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" data-i18n-aria-label="column-cmd" title="Split into two columns" name="attr_traits-column-show" value="1" /><span></span>
                        <input class="deletebutton cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_trait_btn" value="1" data-i18n-title="delete-trait" data-i18n-aria-label="delete-trait-must-confirm-next-checkbox" /><span></span><label class="deletesect allrows-note"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_trait" data-i18n-aria-label="confirm-delete-trait" data-i18n-title="confirm-delete-trait" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                        <div class="repeating-fields table">
                            <fieldset class="repeating_trait">
                                <span class="error"><span class="pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
                                <div class="table-repeating ">
                                    <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" data-i18n-aria-label="minimize-cmd" title="Minimize Row" name="attr_row-show" value="1" checked /><span class="table-cell"></span>
                                    <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_trait_$X_roll}" value="@{macro-text}"></button></span>
                                    <span class="table-cell small-label hide-readonly" style="width:2.5em;"><input type="checkbox" name="attr_showinmenu" title="@{repeating_trait_$X_showinmenu}" value="1" /><span data-i18n="show-in-menu" data-i18n-title="show-in-menu-title" data-i18n-aria-label="show-in-menu-title">Show</span></span>
                                    <input type="hidden" value="traits" name="attr_rule_category" />
                                    <input type="hidden" value="" name="attr_ability_type" />
                                    <span class="table-cell small-label"><input title="@{repeating_trait_$X_name}" type="text" name="attr_name" data-i18n-placeholder="trait-name" accept="Name"><br><span data-i18n="name">Name</span></span>
                                    <span class="table-cell small-label entry-30p-shrink"><textarea class="inline-textarea" title="@{repeating_trait_$X_short-description}" name="attr_short-description" data-i18n-placeholder="short-description"></textarea><br><span data-i18n="short-description-abbrv">Short Desc</span></span>
                                    <span class="table-cell small-label" style="width:0.1%;"><input title="@{repeating_trait_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses">Uses</span></span>
                                    <span class="divider-lg" style="width:0.1%;">/</span>
                                    <input type="checkbox" name="attr_used_max_error" class="error-mshow" value="1" />
                                    <span class="table-cell small-label highlight" style="width:0.1%;"><input title="@{repeating_trait_$X_used|max}" type="number" name="attr_used_max" value="0" class="calc" readonly /><br><span data-i18n="maximum-abbrv">Max</span></span>
                                    <span class="table-cell small-label sect highlight hide-readonly" style="width:7%;"><textarea class="macro-text-inline both" title="@{repeating_trait_$X_max-calculation}" name="attr_max-calculation" data-i18n-placeholder="equation-macro-place"></textarea><br><span data-i18n="maximum-calculation-abbrv">Max Calc</span></span>
                                    <div class="sect expand hide-readonly">
                                        <input type="checkbox" class="showarrow desc-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Description" name="attr_description-show" value="1" />
                                        <label class="showsect desc-showlabel" data-i18n="description">Description</label>
                                        <input type="checkbox" class="showarrow macro-text-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1" />
                                        <label class="showsect macro-text-showlabel" data-i18n="macro-text">Macro Text</label>
                                        <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1" />
                                        <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                        <hr class="subnav-hr">
                                        <div class="cheat"></div>
                                        <textarea class="desc" title="@{repeating_trait_$X_description}" name="attr_description" accept="Content"></textarea>
                                        <textarea class="macro-text" title="@{repeating_trait_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{description=@{short-description}}}</textarea>
                                        <div class="repeating-id">
                                            <label class="small-label2 nextitem">
                                                <input class="selectable calc" name="attr_row_id" readonly />
                                                <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                    <input type="checkbox" class="oldslas-show" name="attr_use_spell-like-abilities" value="1" role="presentation" />
                    <div class="repeating-sect section6 section-oldslas">
                        <span class="nontable-name selected-tabtitle secondary-table-name" data-i18n="original-spell-like-abilities-list">Spell Like Abilities</span>
                        <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" name="attr_npc-spell-like-abilities-min-show" value="1" /><span></span>
                        <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" name="attr_npc-spell-like-abilities-expand-show" value="1" /><span></span>
                        <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" name="attr_npc-spell-like-abilities-column-show" value="1" /><span></span>
                        <input class="deletebutton cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_npc-spell-like-abilities_btn" value="1" data-i18n-title="delete-spell-like-abilities" data-i18n-aria-label="delete-spell-like-abilities-must-confirm-next-checkbox" /><span></span><label class="deletesect allrows-note"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_npc-spell-like-abilities" data-i18n-aria-label="confirm-delete-spell-like-abilities" data-i18n-title="confirm-delete-spell-like-abilities" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                        <div class="repeating-fields">
                            <fieldset class="repeating_npc-spell-like-abilities">
                                <span class="error"><span class="pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
                                <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" name="attr_row-show" value="1" checked /><span class="table-cell"></span>
                                <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_npc-spell-like-abilities_$X_roll}" value="@{NPC-whisper} @{macro-text}"></button></span>
                                <span class="table-cell small-label"><input title="@{repeating_npc-spell-like-abilities_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses-per-day">Uses/Day</span></span>
                                <input type="hidden" value="spell-like-abilities" name="attr_rule_category" />
                                <span class="table-cell small-label" style="width:25%;"><input title="@{repeating_npc-spell-like-abilities_$X_name}" type="text" name="attr_name" data-i18n-placeholder="name" /><br><span data-i18n="name">Name</span></span>
                                <span class="table-cell small-label sect" style="width:25%;"><input title="@{repeating_npc-spell-like-abilities_$X_short-description}" type="text" name="attr_short-description" data-i18n-placeholder="short-description" /><br><span data-i18n="short-description-abbrv">Short Desc</span></span>
                                <span class="table-cell small-label sect"><input title="@{repeating_npc-spell-like-abilities_$X_level}" type="text" name="attr_level" value="0" data-i18n-placeholder="spell-level" /><br><span data-i18n="level">Level</span></span>
                                <span class="table-cell small-label"><input title="@{repeating_npc-spell-like-abilities_$X_range}" type="text" name="attr_range" value="" data-i18n-placeholder="range" /><br><span data-i18n="range">Range</span></span>
                                <span class="table-cell small-label sect"><input title="@{repeating_npc-spell-like-abilities_$X_duration}" type="text" name="attr_duration" value="" data-i18n-placeholder="spell-duration" /><br><span data-i18n="duration">Duration</span></span>
                                <span class="table-cell small-label"><input title="@{repeating_npc-spell-like-abilities_$X_save}" type="text" name="attr_save" value="" data-i18n-placeholder="save" /><br><span data-i18n="save">Save</span></span>
                                <span class="table-cell small-label sect" style="width:5.5em;">
                                    <select title="@{repeating_npc-spell-like-abilities_$X_sr}" name="attr_sr">
                                        <option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                        <option value="Yes" data-i18n="yes">Yes</option>
                                        <option value="No" data-i18n="no">No</option>
                                        <option value="Yes (Harmless)" data-i18n="yes-harmless">Yes (Harmless)</option>
                                        <option value="Yes (Object)" data-i18n="yes-object">Yes (Object)</option>
                                        <option value="Yes (Harmless, Object)" data-i18n="yes-harmless-object">Yes (Harmless, Object)</option>
                                    </select>
                                    <br><span data-i18n="spell-resistance-abbrv">SR</span>
                                </span>
                                <div class="sect expand hide-readonly">
                                    <input type="checkbox" class="showarrow macro-text-show" data-i18n-title="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1" checked />
                                    <label class="showsect macro-text-showlabel" data-i18n="macro-text">Macro Text</label>
                                    <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1" />
                                    <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                    <hr class="subnav-hr">
                                    <div class="cheat"></div>
                                    <textarea class="macro-text" title="@{repeating_npc-spell-like-abilities_$X_macro-text}" name="attr_macro-text">&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{^{level}=[[@{level}]]}} {{^{range}=@{range}}} {{^{duration}=@{duration}}} {{^{save}=@{save}}} {{^{spell-resistance-abbrv}=@{sr}}} {{description=@{short-description}}}</textarea>
                                    <div class="repeating-id">
                                        <label class="small-label2 nextitem">
                                            <input class="selectable calc" name="attr_row_id" readonly />
                                            <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                        </label>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                    <!-- Mythic Adventures display option toggled from Config -->
                    <div class="repeating-sect section3 section-mythic">
                        <span class="nontable-name selected-tabtitle secondary-table-name" data-i18n="mythic-path-features-and-abilities">Mythic Path Features and Abilities</span>
                        <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" data-i18n-aria-label="minimize-all-cmd" title="Minimize all rows." name="attr_mythic-min-show" value="1" /><span></span>
                        <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" data-i18n-aria-label="expand-cmd" title="Collapse or expand all rows." name="attr_mythic-expand-show" value="1" /><span></span>
                        <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" data-i18n-aria-label="column-cmd" title="Split into two columns" name="attr_mythic-column-show" value="1" /><span></span>
                        <input class="deletebutton cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_mythic-ability_btn" value="1" data-i18n-title="delete-mythic-ability" data-i18n-aria-label="delete-mythic-ability-must-confirm-next-checkbox" /><span></span><label class="deletesect allrows-note"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_mythic-ability" data-i18n-aria-label="confirm-delete-mythic-ability" data-i18n-title="confirm-delete-mythic-ability" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                        <div class="repeating-fields table">
                            <fieldset class="repeating_mythic-ability">
                                <span class="error"><span class="pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
                                <div class="table-repeating">
                                    <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" data-i18n-aria-label="minimize-cmd" title="Minimize Row" name="attr_row-show" value="1" checked /><span class="table-cell"></span>
                                    <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_mythic-ability_$X_roll}" value="@{macro-text}"></button></span>
                                    <span class="table-cell small-label hide-readonly" style="width:2.5em;"><input type="checkbox" name="attr_showinmenu" title="@{repeating_mythic-ability_$X_showinmenu}" value="1" /><span data-i18n="show-in-menu" data-i18n-title="show-in-menu-title" data-i18n-aria-label="show-in-menu-title">Show</span></span>
                                    <span class="table-cell small-label sect">
                                        <select title="@{repeating_mythic-ability_$X_mythic-number}" name="attr_mythic-number" style="min-width:3.5em;">
                                            <option value="@{mythic-0-path}" selected>0</option>
                                            <option value="@{mythic-1-path}">1</option>
                                        </select>
                                        <br><span data-i18n="path-number">Path #</span>
                                    </span>
                                    <span class="table-cell small-label" style="width:13%;"><input title="@{repeating_mythic-ability_$X_mythic-path}" type="text" name="attr_mythic-path" value="@{mythic-number}" disabled /><br><span data-i18n="path">Path</span></span>
                                    <input type="hidden" value="mythic-abilities" name="attr_rule_category" />
                                    <span class="table-cell small-label"><input title="@{repeating_mythic-ability_$X_name}" type="text" name="attr_name" data-i18n-placeholder="mythic-ability-name" accept="Name"><br><span data-i18n="name">Name</span></span>
                                    <span class="table-cell small-label entry-30p-shrink"><textarea class="inline-textarea" title="@{repeating_mythic-ability_$X_short-description}" name="attr_short-description" data-i18n-placeholder="short-description"></textarea><br><span data-i18n="short-description-abbrv">Short Desc</span></span>
                                    <span class="table-cell small-label exspsu-dropdown">
                                        <select title="@{repeating_mythic-ability_$X_ability_type}" name="attr_ability_type">
                                            <option value="not-applicable" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                            <option value="Ex" data-i18n="extraordinary-abbrv">Ex</option>
                                            <option value="Sp" data-i18n="spell-like-abbrv">Sp</option>
                                            <option value="Su" data-i18n="supernatural-abbrv">Su</option>
                                        </select>
                                        <br>
                                        <span data-i18n="type">Type</span>
                                    </span>
                                    <span class="table-cell small-label" style="width:0.1%;"><input title="@{repeating_mythic-ability_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses">Uses</span></span>
                                    <span class="divider-lg" style="width:0.1%;">/</span>
                                    <input type="checkbox" name="attr_used_max_error" class="error-mshow" value="1" />
                                    <span class="table-cell small-label highlight" style="width:0.1%;"><input title="@{repeating_mythic-ability_$X_used|max}" type="number" name="attr_used_max" value="0" class="calc" readonly /><br><span data-i18n="maximum-abbrv">Max</span></span>
                                    <span class="table-cell small-label sect hide-readonly highlight" style="width:7%;"><textarea class="macro-text-inline both" title="@{repeating_mythic-ability_$X_max-calculation}" name="attr_max-calculation" data-i18n-placeholder="equation-macro-place"></textarea><br><span data-i18n="maximum-calculation-abbrv">Max Calc</span></span>
                                    <div class="sect expand hide-readonly">
                                        <input type="checkbox" class="showarrow desc-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Description" name="attr_description-show" value="1" />
                                        <label class="showsect desc-showlabel" data-i18n="description">Description</label>
                                        <input type="checkbox" class="showarrow macro-text-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1" />
                                        <label class="showsect macro-text-showlabel" data-i18n="macro-text">Macro Text</label>
                                        <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1" />
                                        <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                        <hr class="subnav-hr">
                                        <div class="cheat"></div>
                                        <textarea class="desc" title="@{repeating_mythic-ability_$X_description}" name="attr_description" accept="Content"></textarea>
                                        <textarea class="macro-text" title="@{repeating_mythic-ability_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{class=**^{path}**: @{mythic-number}}} {{name=@{name}}} {{description=@{short-description}}}</textarea>
                                        <div class="repeating-id">
                                            <label class="small-label2 nextitem">
                                                <input class="selectable calc" name="attr_row_id" readonly />
                                                <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </div>
            <div class="section7 section section-spells" role="region" aria-label="Spells" data-i18n-aria-label="spells">
                <h1 class="selected-tabtitle" data-i18n="spells">Spells</h1>
                <div class="cheat show-readonly inverse-readonly"></div>
                <input type="checkbox" class="spell-multiclassed-show firsttab-inverse-show" name="attr_spellclasses_multiclassed" title="True if more than one spellcasting class" value="1" role="presentation" /><span data-i18n="multiple-spellclasses"> Has multiple spellcasting classes</span>
                <input type="checkbox" class="selectedlabel-check advanced-spell-option-show" name="attr_extra_fields_caster_show" title="@{extra_fields_caster_show}" value="1" /><b data-i18n="show-more-fields">Show more fields</b>
                <div class="cheat"></div>
                <!-- Spell Classes 0,1,2 -->
                <div class="cheat show-readonly"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_spellclasses-show" data-i18n-aria-label="spellcasting-classes" data-i18n-title="showsect-cmd" value="1" checked />
                <label class="clickheader showsect" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="spellcasting-classes">Spellcasting Classes</label>
                <div class="h2-section spellcasting-classes noborder-readonly wide-readonly">
                    <input type="checkbox" class="use-metrics noshow" name="attr_use_metrics" value="1" />
                    <div role="menubar" class="spellclassnav tabs spell-multiclassed" aria-label="spellcasting classes" data-i18n-aria-label="spellcasting-classes"></div>
                    <input type="radio" class="tabinput tab0 spell-multiclassed" name="attr_spellclass_tab" value="0" data-i18n-title="spell-class-zero" data-i18n-aria-label="spell-class-zero" checked />
                    <label role="menuitem" class="tab tab0 spell-multiclassed" data-i18n-title="spell-class-zero" data-i18n-aria-label="spell-class-zero" title="Spell Class 0" data-i18n="spell-class-zero">Spell Class 0</label>
                    <input type="radio" class="tabinput tab1 spell-multiclassed" name="attr_spellclass_tab" value="1" data-i18n-title="spell-class-one" data-i18n-aria-label="spell-class-one" />
                    <label role="menuitem" class="tab tab1 spell-multiclassed" data-i18n-title="spell-class-one" data-i18n-aria-label="spell-class-one" title="Spell Class 1" data-i18n="spell-class-one">Spell Class 1</label>
                    <input type="radio" class="tabinput tab2 spell-multiclassed" name="attr_spellclass_tab" value="2" data-i18n-title="spell-class-two" data-i18n-aria-label="spell-class-two" />
                    <label role="menuitem" class="tab tab2 spell-multiclassed" data-i18n-title="spell-class-two" data-i18n-aria-label="spell-class-two" title="Spell Class 2" data-i18n="spell-class-two">Spell Class 2</label>
                    <input type="radio" class="tabinput tab99 spell-multiclassed" name="attr_spellclass_tab" value="99" data-i18n-title="all" data-i18n-aria-label="all" />
                    <label role="menuitem" class="tab tab99 spell-multiclassed" data-i18n-title="all" data-i18n-aria-label="all" title="All" data-i18n="all">All</label>
                    <input type="checkbox" class="noshow spellpoints-show" name="attr_use_spell_points" value="1" />
                    <!-- Spell Class 0 -->
                    <h2 class="section0 nontable-name"><span name="attr_spellclass-0-name"></span></h2>
                    <div class="section0 section-spellclass spellclass-0">
                        <div class="col col1">
                            <input class="showarrow h3arrow" type="checkbox" name="attr_spellclass-0-show" data-i18n-aria-label="spellclass-level-base" data-i18n-title="showsect-cmd" value="1" checked />
                            <h3 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="level-and-ability">Level and Caster Ability</label></h3>
                            <div class="cheat"></div>
                            <div class="h3-section table spellclass-level narrow-numbers">
                                <span class="table-name" data-i18n="caster-class-level">Caster Class and Level</span>
                                <div class="table-group-head">
                                    <div class="table-row">
                                        <span class="table-header" data-i18n="check">Check</span>
                                        <span class="table-header" data-i18n-title="effective-caster-level" data-i18n-aria-label="effective-caster-level" data-i18n="caster-level">Caster Level</span>
                                        <span class="table-header divider"></span>
                                        <span class="table-header hide-readonly" data-i18n-title="class-number-explanation" data-i18n-aria-label="class-number-explanation" data-i18n="synchronize-class">Sync Class</span>
                                        <span class="table-header entry-20p-shrink" data-i18n="class-name">Class Name</span>
                                        <span class="table-header" data-i18n="base-level">Base Level</span>
                                        <span class="divider table-header advanced-spell-option"></span>
                                        <span class="table-header advanced-spell-option"><span class="super note-a" data-i18n="miscellaneous-abbrv">Misc</span></span>
                                        <span class="divider table-header hide-readonly"></span>
                                        <span class="table-header" data-i18n="buff">Buff</span>
                                        <span class="divider table-header hide-readonly"></span>
                                        <span class="table-header" data-i18n-title="condition-description" data-i18n-aria-label="condition-description" data-i18n="condition-abbrv">Cond</span>
                                    </div>
                                </div>
                                <div class="table-group">
                                    <div class="table-row">
                                        <span class="table-cell spellcaster-button">
                                            <button class="spellcaster-button" title="%{selected|Spell-Class-0-CL-Check}" type="roll" name="roll_Spell-Class-0-CL-Check" value="@{PC-whisper} &{template:pf_generic} @{toggle_spell_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{caster-level-check}}} {{class=**@{spellclass-0-name} @{spellclass-0-level}**}} {{check=[[ 1d20 + [[ @{spellclass-0-level-total} ]] ]]}} {{^{spell-penetration-bonus-abbrv}=@{spellclass-0-SP-mod}}} {{lefttext_6=@{CasterLevel-0-note}}}"> <span style="vertical-align:middle;" data-i18n="caster-level-check">Casterlevel Check</span>
                                            </button>
                                        </span>
                                        <span class="table-cell left"><input title="@{spellclass-0-level-total}" type="number" name="attr_spellclass-0-level-total" value="0" class="calc bigger-total" readonly /></span>
                                        <span class="divider hide-readonly" style="padding-right: 5px;">=</span>
                                        <span class="table-cell entry-vshort hide-readonly">
                                            <select title="@{spellclass-0} Choose or enter manually" name="attr_spellclass-0" class="select-small select-class">
                                                <option value="-1" data-i18n="select-class-or-manual-default" selected>&#8226;Select Class or enter other manually</option>
                                                <option value="0" data-i18n="1-ordinal-class">1st Class</option>
                                                <option value="1" data-i18n="2-ordinal-class">2nd Class</option>
                                                <option value="2" data-i18n="3-ordinal-class">3rd Class</option>
                                                <option value="3" data-i18n="4-ordinal-class">4th Class</option>
                                                <option value="4" data-i18n="5-ordinal-class">5th Class</option>
                                                <option value="5" data-i18n="6-ordinal-class">6th Class</option>
                                                <option value="6" data-i18n="race-hd">Race (use HD for level)</option>
                                            </select>
                                        </span>
                                        <span class="table-cell">
                                            <input class="calc-advanced-spell-option" title="@{spellclass-0-name}" type="text" name="attr_spellclass-0-name" data-i18n-placeholder="class-name">
                                        </span>
                                        <span class="table-cell left"><input title="@{spellclass-0-level}" type="number" name="attr_spellclass-0-level" value="0" /></span>
                                        <span class="divider advanced-spell-option">+</span>
                                        <span class="table-cell advanced-spell-option linked-tablecell">
                                            <input type="checkbox" value="1" name="spellclass-0-level-misc-mod_error" class="error-mshow" />
                                            <input type="text" name="attr_spellclass-0-level-misc" class="macro-text-inline linked-cellfield highlight" title="@{spellclass-0-level-misc}" data-i18n-placeholder="equation-macro-place" />
                                            <input type="number" name="attr_spellclass-0-level-misc-mod" class="narrow-numbers calc highlight" value="0" title="@{spellclass-0-level-misc-mod}" readonly />
                                        </span>
                                        <span class="divider">+</span>
                                        <span class="table-cell"><input title="@{buff_CasterLevel-total}" name="attr_buff_CasterLevel-total" type="number" value="0" class="calc" readonly /></span>
                                        <span class="divider">+</span>
                                        <span class="table-cell"><input title="@{CasterLevel-Penalty}" name="attr_CasterLevel-Penalty" type="number" value="0" class="calc" readonly /></span>
                                    </div>
                                </div>
                            </div>
                            <div class="h3-section spellclass-ranges" role="presentation">
                                <div class="table show-readonly inverse-readonly">
                                    <div class="table-row">
                                        <span class="table-row-name spellrange-header distance-used" data-i18n="close">Close</span>
                                        <span class="table-cell"><input class="spellrange-data calc entry-wide" title="@{spellclass-0-close} 25 + 5/2 levels" type="number" name="attr_spellclass-0-close" value="0" readonly /></span>
                                        <span class="table-row-name spellrange-header distance-used" data-i18n="medium-abbrv">Med</span>
                                        <span class="table-cell"><input class="spellrange-data calc entry-wide" title="@{spellclass-0-medium} 100 + 10/level" type="number" name="attr_spellclass-0-medium" value="0" readonly /></span>
                                        <span class="table-row-name spellrange-header distance-used" data-i18n="long">Long</span>
                                        <span class="table-cell"><input class="spellrange-data calc entry-wide" title="@{spellclass-0-long} 400 + 40/level" type="number" name="attr_spellclass-0-long" value="0" readonly /></span>
                                    </div>
                                </div>
                                <div class="table hide-readonly">
                                    <span class="table-name" data-i18n="spells-ranges">Spell Ranges</span>
                                    <div class="table-group-head">
                                        <span class="table-header distance-used" data-i18n="close">Close</span>
                                        <span class="table-header distance-used" data-i18n="medium">Medium</span>
                                        <span class="table-header distance-used" data-i18n="long">Long</span>
                                    </div>
                                    <div class="table-row">
                                        <span class="table-cell"><input class="spellrange-data calc entry-wide" title="@{spellclass-0-close} 25 + 5/2 levels" type="number" name="attr_spellclass-0-close" value="0" readonly /></span>
                                        <span class="table-cell"><input class="spellrange-data calc entry-wide" title="@{spellclass-0-medium} 100 + 10/level" type="number" name="attr_spellclass-0-medium" value="0" readonly /></span>
                                        <span class="table-cell"><input class="spellrange-data calc entry-wide" title="@{spellclass-0-long} 400 + 40/level" type="number" name="attr_spellclass-0-long" value="0" readonly /></span>
                                    </div>
                                </div>
                            </div>
                            <div class="h3-section table spellclass-concentration narrow-numbers">
                                <span class="table-name" data-i18n="spellcasting-ability">Spellcasting Ability</span>
                                <div class="table-group-head">
                                    <div class="table-row">
                                        <span class="table-header" data-i18n="check">Check</span>
                                        <span class="table-header" data-i18n="total">Total</span>
                                        <span class="divider table-header"></span>
                                        <span class="table-header ability-column" style="width:6em;" data-i18n="ability">Ability</span>
                                        <span class="table-header" data-i18n="modifier-abbrv">Mod</span>
                                        <span class="divider table-header"></span>
                                        <span class="table-header hide-readonly" data-i18n-title="effective-caster-level" data-i18n-aria-label="effective-caster-level" data-i18n="caster-level">Caster Level</span>
                                        <span class="divider table-header advanced-spell-option"></span>
                                        <span class="table-header advanced-spell-option"><span class="super note-a" data-i18n="miscellaneous-abbrv">Misc</span></span>
                                        <span class="table-header table-rightcell" aria-label="empty spacer cell" role="presentation"></span>
                                    </div>
                                </div>
                                <div class="table-group">
                                    <div class="table-row">
                                        <span class="table-cell spellcaster-button"><button class="spellcaster-button" title="%{selected|Concentration-Check-0}" type="roll" name="roll_Concentration-Check-0" value="@{PC-whisper} &{template:pf_generic} @{toggle_spell_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{concentration-check}}} {{class=**@{spellclass-0-name} @{spellclass-0-level}**}} {{check=[[ 1d20 + [[ @{Concentration-0} ]] ]]}} {{^{defensive-casting-bonus-abbrv}=@{Concentration-0-def}}} {{lefttext_6=@{Concentration-0-miscnote}}}"> <span style="vertical-align:middle;" data-i18n="concentration-check">Concentration</span> </button></span>
                                        <span class="table-cell left"><input title="@{Concentration-0}" type="number" name="attr_Concentration-0" value="0" class="calc bigger-total" readonly /></span>
                                        <span class="divider" style="padding: 0 5px 0 5px;">=</span>
                                        <span class="table-cell ability-column">
                                            <select class="select-small" title="@{Concentration-0-ability}" name="attr_Concentration-0-ability">
                                                <option value="0" data-i18n="select-one-default" selected>&#8226;Select One</option>
                                                <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                                <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                                <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                                <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                                <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                                <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                            </select>
                                        </span>
                                        <span class="table-cell left"><input title="@{Concentration-0-mod}" type="number" name="attr_Concentration-0-mod" value="0" class="calc" readonly /></span>
                                        <span class="divider">+</span>
                                        <span class="table-cell hide-readonly"><input title="@{spellclass-0-level-total}" type="number" name="attr_spellclass-0-level-total" value="0" class="calc" readonly /></span>
                                        <span class="divider advanced-spell-option">+</span>
                                        <span class="table-cell linked-tablecell advanced-spell-option">
                                            <input type="checkbox" name="attr_Concentration-0-misc-mod_error" class="error-mshow" value="1" />
                                            <input type="text" title="@{Concentration-0-misc}" type="number" name="attr_Concentration-0-misc" class="macro-text-inline linked-cellfield highlight" data-i18n-placeholder="equation-macro-place" />
                                            <input type="number" name="attr_Concentration-0-misc-mod" title="@{Concentration-0-misc-mod}" value="0" class="calc narrow-numbers highlight" readonly />
                                        </span>
                                        <span class="table-cell"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="h3-section table spellclass-roll-adj">
                                <span class="table-name">Roll adjustments</span>
                                <div class="table-row">
                                    <span class="table-header nowrap-readonly" data-i18n="save-difficulty-class-misc-abbrv">Save DC Misc</span>
                                    <span class="table-header divider"></span>
                                    <span class="table-header data-i18n=" buff">Buff</span>
                                    <span class="table-header entry-30p-shrink super note-a" data-i18n-aria-label="spell-penetration-bonus-label" data-i18n="spell-penetration-bonus-abbrv" style="padding-right:1em;">Spell Pen Bonus</span>
                                    <span class="table-header nowrap-readonly" data-i18n-title="cast-defensive-bonus" data-i18n-aria-label="cast-defensive-bonus" style="word-wrap:normal;" data-i18n="cast-defensive-bonus-abbrv">Cast Def. Bonus</span>
                                    <span class="table-header table-rightcell show-readonly inverse-readonly" aria-label="empty spacer cell" role="presentation"></span>
                                </div>
                                <div class="table-row">
                                    <input type="hidden" name="attr_spellclass-0-savedc-mod" value="0" />
                                    <span class="table-cell narrow-numbers"><input title="@{spellclass-0-savedc-misc}" type="number" name="attr_spellclass-0-savedc-misc" value="0" /></span>
                                    <span class="divider">+</span>
                                    <input type="number" class="calc narrow-numbers" name="attr_buff_SpellDC_0-total" value="0" title="@{buff_SpellDC_0-total}" readonly />
                                    <span class="table-cell linked-tablecell">
                                        <input type="checkbox" name="attr_spellclass-0-SP-mod_error" class="error-mshow" value="1">
                                        <input type="text" class="highlight linked-cellfield macro-text-inline float-right" title="@{spellclass-0-SP_misc}" name="attr_spellclass-0-SP_misc" data-i18n-placeholder="equation-macro-place" placeholder="#/Equation" />
                                        <input class="calc number highlight narrow-numbers" type="number" title="@{spellclass-0-SP-mod}" name="attr_spellclass-0-SP-mod" value="0" readonly />
                                    </span>
                                    <span class="table-cell nowrap-readonly narrow-numbers"><input title="@{Concentration-0-def}" type="number" name="attr_Concentration-0-def" value="0" /></span>
                                    <span class="table-cell show-readonly inverse-readonly"></span>
                                </div>
                            </div>
                            <div class="cheat"></div>
                            <input class="showarrow h3arrow spellpoints-sect" type="checkbox" name="attr_spellclass-0-spellpoints-show" data-i18n-aria-label="spell-points" data-i18n-title="showsect-cmd" value="1" />
                            <h3 class="clickheader showsect spellpoints-sect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd"><span name="attr_spellclass-0-spell-points_name">Spell Points</span></label></h3>
                            <div class="h3-section spellpoints table spellpoints-sect">
                                <div class="table-group">
                                    <div class="table-row">
                                        <span class="table-header entry-custom-header" style="min-width:8em;width:20%;"><input class="entry-custom-header entry-med" name="attr_spellclass-0-spell-points_name" title="@{spellclass-0-spell-points_name}" type="text" value="Spell Points" data-i18n-placeholder="user-defined" /></span>
                                        <span class="table-header divider"></span>
                                        <span class="table-header" style="min-width:8em;" data-i18n="points-per-day">Points/Day</span>
                                        <span class="table-header divider"></span>
                                        <span class="table-header super note-a" data-i18n="calculation">Calculation</span>
                                        <span class="table-header divider"></span>
                                        <span class="table-header" style="min-width:6em;" data-i18n="base">Base</span>
                                        <span class="table-header divider"></span>
                                        <span class="table-header" style="min-width:6em;" data-i18n="ability">Ability</span>
                                        <span class="table-header table-rightcell"></span>
                                    </div>
                                </div>
                                <div class="table-group">
                                    <div class="table-row">
                                        <span class="table-cell"><input title="@{spellclass-0-spell-points-per-day}" type="number" name="attr_spellclass-0-spell-points-per-day" value="0" /></span>
                                        <span class="divider">/</span>
                                        <span class="table-cell"><input title="@{spellclass-0-spell-points-per-day|max}" type="text" class="number" name="attr_spellclass-0-spell-points-per-day_max" value="(@{spellclass-0-spell-points-class} + @{spellclass-0-spell-points-bonus} + @{spellclass-0-spell-points-misc-mod})" disabled /></span>
                                        <span class="divider">=</span>
                                        <span class="table-cell linked-tablecell">
                                            <input type="checkbox" value="1" name="attr_spellclass-0-spell-points-misc-mod_error" class="error-mshow" />
                                            <input type="text" class="macro-text-inline linked-cellfield highlight" title="@{spellclass-0-spell-points-misc}" name="attr_spellclass-0-spell-points-misc" data-i18n-placeholder="equation-macro-place" />
                                            <input type="number" value="0" name="attr_spellclass-0-spell-points-misc-mod" title="@{spellclass-0-spell-points-misc-mod}" class="calc narrow-numbers highlight" readonly />
                                        </span>
                                        <span class="divider">+</span>
                                        <span class="table-cell"><input title="@{spellclass-0-spell-points-class}" type="number" name="attr_spellclass-0-spell-points-class" value="0" /></span>
                                        <span class="divider">+</span>
                                        <span class="table-cell"><input title="@{spellclass-0-spell-points-bonus}" type="number" name="attr_spellclass-0-spell-points-bonus" value="0" /></span>
                                        <span class="table-rightcell"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="cheat"></div>
                            <input class="showarrow h3arrow" type="checkbox" name="attr_spellclass-0-spells-notes-show" data-i18n-aria-label="spells-notes" data-i18n-title="showsect-cmd" value="1" />
                            <h3 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="spells-notes">Spells Notes</label></h3>
                            <div class="h3-section table spellclass-spellnotes">
                                <span class="table-name" data-i18n="notes">Notes</span>
                                <div class="table-group-head">
                                    <span class="table-header" data-i18n="spells-notes" data-i18n-title="spells-notes" data-i18n-aria-label="spells-notes">Spells Notes</span>
                                    <span class="table-header" data-i18n="caster-level" data-i18n-title="caster-level-check-notes" data-i18n-aria-label="caster-level-check-notes">Caster Level</span>
                                    <span class="table-header" data-i18n="concentration" data-i18n-title="concentration-check-notes" data-i18n-aria-label="concentration-check-notes">Concentration</span>
                                </div>
                                <div class="table-row">
                                    <div class="table-cell notes-cell">
                                        <textarea class="half" title="@{spell-class-0-spells-notes}" name="attr_spell-class-0-spells-notes" data-i18n-placeholder="spells-notes" data-i18n-aria-label="spells-notes"></textarea>
                                    </div>
                                    <div class="table-cell notes-cell">
                                        <textarea class="half" title="@{CasterLevel-0-note}" name="attr_CasterLevel-0-note" data-i18n-placeholder="caster-level-check-notes" data-i18n-aria-label="caster-level-check-notes"></textarea>
                                    </div>
                                    <div class="table-cell notes-cell">
                                        <textarea class="half" title="@{Concentration-0-miscnote}" name="attr_Concentration-0-miscnote" data-i18n-placeholder="concentration-check-notes" data-i18n-aria-label="concentration-check-notes"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col col2">
                            <div class="cheat"></div>
                            <input class="showarrow h3arrow" type="checkbox" name="attr_spellclass-0-perday-show" data-i18n-aria-label="spells-per-day" data-i18n-title="showsect-cmd" value="1" checked />
                            <h3 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="spells-per-day">Spells Per Day</label></h3>
                            <div class="h3-section spells-per-day">
                                <span data-i18n="casting-type" data-i18n-title="casting-type" data-i18n-aria-label="casting-type">Casting Type:</span>
                                <input class="selectedlabel-check subsect2-show sect2-show" type="radio" name="attr_spellclass-0-casting_type" value="1" title="@{spellclass-0-casting_type}" checked /><b><span data-i18n-title="display-spells-known" data-i18n-aria-label="display-spells-known" data-i18n="spontaneous"> Spontaneous</span></b>
                                <input class="selectedlabel-check subsect3-show sect3-show" type="radio" name="attr_spellclass-0-casting_type" value="2" title="@{spellclass-0-casting_type}" /><b><span data-i18n="prepared"> Prepared</span></b>
                                <input style="margin-left:0.5em;" class="selectedlabel-check sect3" type="checkbox" name="attr_spellclass-0-hide_unprepared" value="1" title="@{spellclass-0-hide_unprepared}" /><b class="sect3" data-i18n-title="prepared-spells-explanation" data-i18n-aria-label="prepared-spells-explanation" data-i18n="spellbook-only-prepared-spells"> Show only spells with 'uses' in spellbook</b>
                                <input style="margin-left:0.5em;" class="selectedlabel-check sect3" type="checkbox" name="attr_spellclass-0-show_domain_spells" value="1" title="@{spellclass-0-show_domain_spells}" /><b class="sect3" data-i18n-title="domain-spells-explanation" data-i18n-aria-label="domain-spells-explanation" data-i18n="always-show-domain-spells"> Always show spells marked 'domain' in spellbook menu</b>
                                <input style="margin-left:0.5em;" class="selectedlabel-check subsect-show subsect-show-inverse" type="checkbox" name="attr_total_spells_manually" value="1" title="@{total_spells_manually}" /><b data-i18n-title="add-custom-column" data-i18n-aria-label="total-spells-manually" data-i18n="total-spells-manually">Total Spells Manually</b>
                                <div class="table" role="grid">
                                    <span class="table-name" data-i18n="spells-per-day">Spells Per Day</span>
                                    <div class="table-group-head">
                                        <div class="table-row">
                                            <span class="table-header" data-i18n="save-difficulty-class">Save DC</span>
                                            <span class="table-header right-border" data-i18n="level-abbrv">Lvl</span>
                                            <span class="table-header sect">#</span>
                                            <span class="table-header sect3 sect-inverse" data-i18n-title="sum-prepared-from-spells" data-i18n-aria-label="sum-prepared-from-spells" data-i18n="number-prepared-abbrv">#Left</span>
                                            <span class="table-header sect2 sect-inverse" data-i18n-title="sum-uses-spells" data-i18n-aria-label="sum-uses-spells" data-i18n="number-used">#Used</span>
                                            <span class="table-header divider"></span>
                                            <span class="table-header" data-i18n="spells-per-day">Spells/Day</span>
                                            <span class="table-header divider"></span>
                                            <span class="table-header" data-i18n="base-spells-per-day">Base<br />Spells/Day</span>
                                            <span class="table-header divider"></span>
                                            <span class="table-header" data-i18n="bonus-spells">Bonus Spells</span>
                                            <span class="table-header advanced-spell-option divider"></span>
                                            <span class="table-header advanced-spell-option entry-med entry-custom-header"><input class="entry-custom-header entry-med" name="attr_spellclass-0-user_defined_column" title="@{spellclass-0-user_defined_column}" type="text" value="" data-i18n-placeholder="user-defined" /></span>
                                            <span class="table-header sect2 left-border" data-i18n="spells-known">Spells Known</span>
                                            <span class="table-header sect2" data-i18n="total-listed">Total spells in list</span>
                                            <span class="table-header advanced-spell-option entry-med entry-custom-header left-border"><input class="entry-custom-header entry-med" name="attr_spellclass-0-user_defined_column2" title="@{spellclass-0-user_defined_column2}" type="text" value="" data-i18n-placeholder="user-defined" /></span>
                                        </div>
                                    </div>
                                    <div class="table-group">
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-0-level-0-savedc}" type="number" name="attr_spellclass-0-level-0-savedc" value="10" class="calc" readonly /></span>
                                            <span class="table-cell right-border">0</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-0-spells-per-day}" type="number" name="attr_spellclass-0-level-0-spells-per-day" value="0" /></span>
                                            <span class="table-cell noshow"></span>
                                            <span class="table-cell noshow"></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-0-spells-per-day|max}" type="number" name="attr_spellclass-0-level-0-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-0-class}" type="text" name="attr_spellclass-0-level-0-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell ability-column">
                                                <select class="select-small" title="@{Concentration-0-ability}" name="attr_Concentration-0-ability">
                                                    <option value="0" data-i18n="select-one-default" selected>&#8226;Select One</option>
                                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                                </select>
                                            </span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-0-level-0-misc}" type="number" name="attr_spellclass-0-level-0-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-0-level-0-spells-known}" type="number" name="attr_spellclass-0-level-0-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-0-level-0-total-listed}" type="number" name="attr_spellclass-0-level-0-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-0-level-0-user}" type="number" name="attr_spellclass-0-level-0-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-0-level-1-savedc}" type="number" name="attr_spellclass-0-level-1-savedc" value="11" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="1-ordinal">1st</span>
                                            <span class="table-cell sect"><input title="@{spellclass-0-level-1-spells-per-day}" type="number" name="attr_spellclass-0-level-1-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-0-level-1-spells-per-day}" type="number" name="attr_spellclass-0-level-1-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-0-level-1-spells-per-day}" type="number" name="attr_spellclass-0-level-1-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-1-spells-per-day|max}" type="number" name="attr_spellclass-0-level-1-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-1-class}" type="text" name="attr_spellclass-0-level-1-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-1-bonus}" type="number" name="attr_spellclass-0-level-1-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-0-level-1-misc}" type="number" name="attr_spellclass-0-level-1-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-0-level-1-spells-known}" type="number" name="attr_spellclass-0-level-1-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-0-level-1-total-listed}" type="number" name="attr_spellclass-0-level-1-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-0-level-1-user}" type="number" name="attr_spellclass-0-level-1-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-0-level-2-savedc}" type="number" name="attr_spellclass-0-level-2-savedc" value="22" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="2-ordinal">2nd</span>
                                            <span class="table-cell sect"><input title="@{spellclass-0-level-2-spells-per-day}" type="number" name="attr_spellclass-0-level-2-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-0-level-2-spells-per-day}" type="number" name="attr_spellclass-0-level-2-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-0-level-2-spells-per-day}" type="number" name="attr_spellclass-0-level-2-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-2-spells-per-day|max}" type="number" name="attr_spellclass-0-level-2-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-2-class}" type="text" name="attr_spellclass-0-level-2-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-2-bonus}" type="number" name="attr_spellclass-0-level-2-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-0-level-2-misc}" type="number" name="attr_spellclass-0-level-2-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-0-level-2-spells-known}" type="number" name="attr_spellclass-0-level-2-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-0-level-2-total-listed}" type="number" name="attr_spellclass-0-level-2-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-0-level-2-user}" type="number" name="attr_spellclass-0-level-2-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-0-level-3-savedc}" type="number" name="attr_spellclass-0-level-3-savedc" value="33" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="3-ordinal">3rd</span>
                                            <span class="table-cell sect"><input title="@{spellclass-0-level-3-spells-per-day}" type="number" name="attr_spellclass-0-level-3-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-0-level-3-spells-per-day}" type="number" name="attr_spellclass-0-level-3-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-0-level-3-spells-per-day}" type="number" name="attr_spellclass-0-level-3-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-3-spells-per-day|max}" type="number" name="attr_spellclass-0-level-3-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-3-class}" type="text" name="attr_spellclass-0-level-3-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-3-bonus}" type="number" name="attr_spellclass-0-level-3-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-0-level-3-misc}" type="number" name="attr_spellclass-0-level-3-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-0-level-3-spells-known}" type="number" name="attr_spellclass-0-level-3-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-0-level-3-total-listed}" type="number" name="attr_spellclass-0-level-3-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-0-level-3-user}" type="number" name="attr_spellclass-0-level-3-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-0-level-4-savedc}" type="number" name="attr_spellclass-0-level-4-savedc" value="44" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="4-ordinal">4th</span>
                                            <span class="table-cell sect"><input title="@{spellclass-0-level-4-spells-per-day}" type="number" name="attr_spellclass-0-level-4-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-0-level-4-spells-per-day}" type="number" name="attr_spellclass-0-level-4-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-0-level-4-spells-per-day}" type="number" name="attr_spellclass-0-level-4-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-4-spells-per-day|max}" type="number" name="attr_spellclass-0-level-4-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-4-class}" type="text" name="attr_spellclass-0-level-4-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-4-bonus}" type="number" name="attr_spellclass-0-level-4-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-0-level-4-misc}" type="number" name="attr_spellclass-0-level-4-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-0-level-4-spells-known}" type="number" name="attr_spellclass-0-level-4-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-0-level-4-total-listed}" type="number" name="attr_spellclass-0-level-4-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-0-level-4-user}" type="number" name="attr_spellclass-0-level-4-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-0-level-5-savedc}" type="number" name="attr_spellclass-0-level-5-savedc" value="55" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="5-ordinal">5th</span>
                                            <span class="table-cell sect"><input title="@{spellclass-0-level-5-spells-per-day}" type="number" name="attr_spellclass-0-level-5-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-0-level-5-spells-per-day}" type="number" name="attr_spellclass-0-level-5-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-0-level-5-spells-per-day}" type="number" name="attr_spellclass-0-level-5-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-5-spells-per-day|max}" type="number" name="attr_spellclass-0-level-5-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-5-class}" type="text" name="attr_spellclass-0-level-5-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-5-bonus}" type="number" name="attr_spellclass-0-level-5-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-0-level-5-misc}" type="number" name="attr_spellclass-0-level-5-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-0-level-5-spells-known}" type="number" name="attr_spellclass-0-level-5-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-0-level-5-total-listed}" type="number" name="attr_spellclass-0-level-5-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-0-level-5-user}" type="number" name="attr_spellclass-0-level-5-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-0-level-6-savedc}" type="number" name="attr_spellclass-0-level-6-savedc" value="66" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="6-ordinal">6th</span>
                                            <span class="table-cell sect"><input title="@{spellclass-0-level-6-spells-per-day}" type="number" name="attr_spellclass-0-level-6-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-0-level-6-spells-per-day}" type="number" name="attr_spellclass-0-level-6-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-0-level-6-spells-per-day}" type="number" name="attr_spellclass-0-level-6-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-6-spells-per-day|max}" type="number" name="attr_spellclass-0-level-6-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-6-class}" type="text" name="attr_spellclass-0-level-6-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-6-bonus}" type="number" name="attr_spellclass-0-level-6-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-0-level-6-misc}" type="number" name="attr_spellclass-0-level-6-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-0-level-6-spells-known}" type="number" name="attr_spellclass-0-level-6-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-0-level-6-total-listed}" type="number" name="attr_spellclass-0-level-6-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-0-level-6-user}" type="number" name="attr_spellclass-0-level-6-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-0-level-7-savedc}" type="number" name="attr_spellclass-0-level-7-savedc" value="77" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="7-ordinal">7th</span>
                                            <span class="table-cell sect"><input title="@{spellclass-0-level-7-spells-per-day}" type="number" name="attr_spellclass-0-level-7-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-0-level-7-spells-per-day}" type="number" name="attr_spellclass-0-level-7-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-0-level-7-spells-per-day}" type="number" name="attr_spellclass-0-level-7-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-7-spells-per-day|max}" type="number" name="attr_spellclass-0-level-7-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-7-class}" type="text" name="attr_spellclass-0-level-7-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-7-bonus}" type="number" name="attr_spellclass-0-level-7-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-0-level-7-misc}" type="number" name="attr_spellclass-0-level-7-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-0-level-7-spells-known}" type="number" name="attr_spellclass-0-level-7-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-0-level-7-total-listed}" type="number" name="attr_spellclass-0-level-7-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-0-level-7-user}" type="number" name="attr_spellclass-0-level-7-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-0-level-8-savedc}" type="number" name="attr_spellclass-0-level-8-savedc" value="88" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="8-ordinal">8th</span>
                                            <span class="table-cell sect"><input title="@{spellclass-0-level-8-spells-per-day}" type="number" name="attr_spellclass-0-level-8-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-0-level-8-spells-per-day}" type="number" name="attr_spellclass-0-level-8-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-0-level-8-spells-per-day}" type="number" name="attr_spellclass-0-level-8-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-8-spells-per-day|max}" type="number" name="attr_spellclass-0-level-8-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-8-class}" type="text" name="attr_spellclass-0-level-8-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-8-bonus}" type="number" name="attr_spellclass-0-level-8-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-0-level-8-misc}" type="number" name="attr_spellclass-0-level-8-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-0-level-8-spells-known}" type="number" name="attr_spellclass-0-level-8-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-0-level-8-total-listed}" type="number" name="attr_spellclass-0-level-8-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-0-level-8-user}" type="number" name="attr_spellclass-0-level-8-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-0-level-9-savedc}" type="number" name="attr_spellclass-0-level-9-savedc" value="99" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="9-ordinal">9th</span>
                                            <span class="table-cell sect"><input title="@{spellclass-0-level-9-spells-per-day}" type="number" name="attr_spellclass-0-level-9-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-0-level-9-spells-per-day}" type="number" name="attr_spellclass-0-level-9-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-0-level-9-spells-per-day}" type="number" name="attr_spellclass-0-level-9-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-9-spells-per-day|max}" type="number" name="attr_spellclass-0-level-9-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-9-class}" type="text" name="attr_spellclass-0-level-9-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-0-level-9-bonus}" type="number" name="attr_spellclass-0-level-9-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-0-level-9-misc}" type="number" name="attr_spellclass-0-level-9-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-0-level-9-spells-known}" type="number" name="attr_spellclass-0-level-9-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-0-level-9-total-listed}" type="number" name="attr_spellclass-0-level-9-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-0-level-9-user}" type="number" name="attr_spellclass-0-level-9-user" value="0" /></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="cheat"></div>
                        <input class="showarrow h3arrow" type="checkbox" name="attr_spellclass-0-domains-show" data-i18n-aria-label="domains" data-i18n-title="showsect-cmd" value="1" checked />
                        <h3 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="domains">Domains</label></h3>
                        <div class="h3-section domains wide-readonly col col1">
                            <div class="table hasexpandrows">
                                <span class="table-name secondary-table-name show-readonly" data-i18n="known-or-special">Known / Specialties</span>
                                <div class="table-row">
                                    <span class="table-header" data-i18n="name">Name</span>
                                    <span class="table-header" data-i18n="type">Type</span>
                                    <span class="table-header" data-i18n="bonus">Bonus</span>
                                    <span class="table-header" data-i18n="opposition">Opposition</span>
                                    <span class="table-header" data-i18n="effect">Effect</span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><input title="@{spellclass-0-domain-0}" type="text" name="attr_spellclass-0-domain-0" value="" data-i18n-placeholder="name" /></span>
                                    <span class="table-cell"><input title="@{spellclass-0-domaintype-0}" type="text" name="attr_spellclass-0-domaintype-0" value="" data-i18n-placeholder="domain-etc-type-example" /></span>
                                    <span class="table-cell"><input title="@{spellclass-0-domainbonus-0}" type="text" name="attr_spellclass-0-domainbonus-0" value="" data-i18n-placeholder="bonus" /></span>
                                    <span class="table-cell"><input title="@{spellclass-0-oppositionschool-0}" type="text" name="attr_spellclass-0-oppositionschool-0" value="" data-i18n-placeholder="name" /></span>
                                    <span class="table-cell"><input title="@{spellclass-0-oppositioneffect-0}" type="text" name="attr_spellclass-0-oppositioneffect-0" value="" data-i18n-placeholder="opposition-school-example" /></span>
                                </div>
                                <input type="checkbox" class="showarrow sect-show expand-arrow expand1" name="attr_domain02_show" value="1" title="Show more domains/schools" aria-label="Show more domains/schools" /><span class="showsect"></span>
                                <div class="table-row sect">
                                    <span class="table-cell"><input title="@{spellclass-0-domain-1}" type="text" name="attr_spellclass-0-domain-1" value="" data-i18n-placeholder="name" /></span>
                                    <span class="table-cell"><input title="@{spellclass-0-domaintype-1}" type="text" name="attr_spellclass-0-domaintype-1" value="" data-i18n-placeholder="domain-etc-type-example" /></span>
                                    <span class="table-cell"><input title="@{spellclass-0-domainbonus-1}" type="text" name="attr_spellclass-0-domainbonus-1" value="" data-i18n-placeholder="bonus" /></span>
                                    <span class="table-cell"><input title="@{spellclass-0-oppositionschool-1}" type="text" name="attr_spellclass-0-oppositionschool-1" value="" data-i18n-placeholder="name" /></span>
                                    <span class="table-cell"><input title="@{spellclass-0-oppositioneffect-1}" type="text" name="attr_spellclass-0-oppositioneffect-1" value="" data-i18n-placeholder="opposition-school-example" /></span>
                                </div>
                                <input type="checkbox" class="showarrow sect2-show sect expand-arrow expand2" name="attr_domain03_show" value="1" title="Show more domains/schools" aria-label="Show more domains/schools" /><span class="showsect sect"></span>
                                <div class="table-row sect sect2">
                                    <span class="table-cell"><input title="@{spellclass-0-domain-2}" type="text" name="attr_spellclass-0-domain-2" value="" data-i18n-placeholder="name" /></span>
                                    <span class="table-cell"><input title="@{spellclass-0-domaintype-2}" type="text" name="attr_spellclass-0-domaintype-2" value="" data-i18n-placeholder="domain-etc-type-example" /></span>
                                    <span class="table-cell"><input title="@{spellclass-0-domainbonus-2}" type="text" name="attr_spellclass-0-domainbonus-2" value="" data-i18n-placeholder="bonus" /></span>
                                    <span class="table-cell"><input title="@{spellclass-0-oppositionschool-2}" type="text" name="attr_spellclass-0-oppositionschool-2" value="" data-i18n-placeholder="name" /></span>
                                    <span class="table-cell"><input title="@{spellclass-0-oppositioneffect-2}" type="text" name="attr_spellclass-0-oppositioneffect-2" value="" data-i18n-placeholder="opposition-school-example" /></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Spell Class 1 -->
                    <h2 class="section1 nontable-name spell-multiclassed"><span name="attr_spellclass-1-name"></span></h2>
                    <div class="section1 section-spellclass spellclass-1 spell-multiclassed">
                        <div class="col col1">
                            <input class="showarrow h3arrow" type="checkbox" name="attr_spellclass-1-show" data-i18n-aria-label="spellclass-level-base" data-i18n-title="showsect-cmd" value="1" checked />
                            <h3 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="level-and-ability">Level and Caster Ability</label></h3>
                            <div class="cheat"></div>
                            <div class="h3-section table spellclass-level narrow-numbers">
                                <span class="table-name" data-i18n="caster-class-level">Caster Class and Level</span>
                                <div class="table-group-head">
                                    <div class="table-row">
                                        <span class="table-header" data-i18n="check">Check</span>
                                        <span class="table-header" data-i18n-title="effective-caster-level" data-i18n-aria-label="effective-caster-level" data-i18n="caster-level">Caster Level</span>
                                        <span class="table-header divider"></span>
                                        <span class="table-header hide-readonly" data-i18n-title="class-number-explanation" data-i18n-aria-label="class-number-explanation" data-i18n="synchronize-class">Sync Class</span>
                                        <span class="table-header entry-20p-shrink" data-i18n="class-name">Class Name</span>
                                        <span class="table-header" data-i18n="base-level">Base Level</span>
                                        <span class="divider table-header advanced-spell-option"></span>
                                        <span class="table-header advanced-spell-option"><span class="super note-a" data-i18n="miscellaneous-abbrv">Misc</span></span>
                                        <span class="divider table-header hide-readonly"></span>
                                        <span class="table-header" data-i18n="buff">Buff</span>
                                        <span class="divider table-header hide-readonly"></span>
                                        <span class="table-header" data-i18n-title="condition-description" data-i18n-aria-label="condition-description" data-i18n="condition-abbrv">Cond</span>
                                    </div>
                                </div>
                                <div class="table-group">
                                    <div class="table-row">
                                        <span class="table-cell spellcaster-button">
                                            <button class="spellcaster-button" title="%{selected|Spell-Class-1-CL-Check}" type="roll" name="roll_Spell-Class-1-CL-Check" value="@{PC-whisper} &{template:pf_generic} @{toggle_spell_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{caster-level-check}}} {{class=**@{spellclass-1-name} @{spellclass-1-level}**}} {{check=[[ 1d20 + [[ @{spellclass-1-level-total} ]] ]]}} {{^{spell-penetration-bonus-abbrv}=@{spellclass-1-SP-mod}}} {{lefttext_6=@{CasterLevel-1-note}}}"> <span style="vertical-align:middle;" data-i18n="caster-level-check">Casterlevel Check</span>
                                            </button>
                                        </span>
                                        <span class="table-cell left"><input title="@{spellclass-1-level-total}" type="number" name="attr_spellclass-1-level-total" value="0" class="calc bigger-total" readonly /></span>
                                        <span class="divider hide-readonly" style="padding-right: 5px">=</span>
                                        <span class="table-cell entry-vshort hide-readonly">
                                            <select title="@{spellclass-1} Choose or enter manually" name="attr_spellclass-1" class="select-small spellclass-1">
                                                <option value="-1" data-i18n="select-class-or-manual-default" selected>&#8226;Select Class or enter other manually</option>
                                                <option value="0" data-i18n="1-ordinal-class">1st Class</option>
                                                <option value="1" data-i18n="2-ordinal-class">2nd Class</option>
                                                <option value="2" data-i18n="3-ordinal-class">3rd Class</option>
                                                <option value="3" data-i18n="4-ordinal-class">4th Class</option>
                                                <option value="4" data-i18n="5-ordinal-class">5th Class</option>
                                                <option value="5" data-i18n="6-ordinal-class">6th Class</option>
                                                <option value="6" data-i18n="race-hd">Race (use HD for level)</option>
                                            </select>
                                        </span>
                                        <span class="table-cell">
                                            <input class="calc-advanced-spell-option" title="@{spellclass-1-name}" type="text" name="attr_spellclass-1-name" data-i18n-placeholder="class-name">
                                        </span>
                                        <span class="table-cell left"><input title="@{spellclass-1-level}" type="number" name="attr_spellclass-1-level" value="0" /></span>
                                        <span class="divider advanced-spell-option">+</span>
                                        <span class="table-cell advanced-spell-option linked-tablecell">
                                            <input type="checkbox" value="1" name="spellclass-1-level-misc-mod_error" class="error-mshow" />
                                            <input type="text" name="attr_spellclass-1-level-misc" class="macro-text-inline linked-cellfield highlight" title="@{spellclass-1-level-misc}" data-i18n-placeholder="equation-macro-place" />
                                            <input type="number" name="attr_spellclass-1-level-misc-mod" class="narrow-numbers calc highlight" value="0" title="@{spellclass-1-level-misc-mod}" readonly />
                                        </span>
                                        <span class="divider">+</span>
                                        <span class="table-cell"><input title="@{buff_CasterLevel-total}" name="attr_buff_CasterLevel-total" type="number" value="0" class="calc" readonly /></span>
                                        <span class="divider">+</span>
                                        <span class="table-cell"><input title="@{CasterLevel-Penalty}" name="attr_CasterLevel-Penalty" type="number" value="0" class="calc" readonly /></span>
                                    </div>
                                </div>
                            </div>
                            <div class="h3-section spellclass-ranges" role="presentation">
                                <div class="table show-readonly inverse-readonly">
                                    <div class="table-row">
                                        <span class="table-row-name spellrange-header distance-used" data-i18n="close">Close</span>
                                        <span class="table-cell"><input class="spellrange-data calc entry-wide" title="@{spellclass-1-close} 25 + 5/2 levels" type="number" name="attr_spellclass-1-close" value="0" readonly /></span>
                                        <span class="table-row-name spellrange-header distance-used" data-i18n="medium-abbrv">Med</span>
                                        <span class="table-cell"><input class="spellrange-data calc entry-wide" title="@{spellclass-1-medium} 100 + 10/level" type="number" name="attr_spellclass-1-medium" value="0" readonly /></span>
                                        <span class="table-row-name spellrange-header distance-used" data-i18n="long">Long</span>
                                        <span class="table-cell"><input class="spellrange-data calc entry-wide" title="@{spellclass-1-long} 400 + 40/level" type="number" name="attr_spellclass-1-long" value="0" readonly /></span>
                                    </div>
                                </div>
                                <div class="table hide-readonly" role="presentation">
                                    <span class="table-name" data-i18n="spells-ranges">Spell Ranges</span>
                                    <div class="table-group-head">
                                        <span class="table-header distance-used" data-i18n="close">Close</span>
                                        <span class="table-header distance-used" data-i18n="medium">Medium</span>
                                        <span class="table-header distance-used" data-i18n="long">Long</span>
                                    </div>
                                    <div class="table-row">
                                        <span class="table-cell"><input class="spellrange-data calc entry-wide" title="@{spellclass-1-close} 25 + 5/2 levels" type="number" name="attr_spellclass-1-close" value="0" readonly /></span>
                                        <span class="table-cell"><input class="spellrange-data calc entry-wide" title="@{spellclass-1-medium} 100 + 10/level" type="number" name="attr_spellclass-1-medium" value="0" readonly /></span>
                                        <span class="table-cell"><input class="spellrange-data calc entry-wide" title="@{spellclass-1-long} 400 + 40/level" type="number" name="attr_spellclass-1-long" value="0" readonly /></span>
                                    </div>
                                </div>
                            </div>
                            <div class="h3-section table spellclass-concentration narrow-numbers">
                                <span class="table-name" data-i18n="spellcasting-ability">Spellcasting Ability</span>
                                <div class="table-group-head">
                                    <div class="table-row">
                                        <span class="table-header" data-i18n="check">Check</span>
                                        <span class="table-header" data-i18n="total">Total</span>
                                        <span class="divider table-header"></span>
                                        <span class="table-header ability-column" style="width:6em;" data-i18n="ability">Ability</span>
                                        <span class="table-header" data-i18n="modifier-abbrv">Mod</span>
                                        <span class="divider table-header"></span>
                                        <span class="table-header hide-readonly" data-i18n-title="effective-caster-level" data-i18n-aria-label="effective-caster-level" data-i18n="caster-level">Caster Level</span>
                                        <span class="divider table-header advanced-spell-option"></span>
                                        <span class="table-header advanced-spell-option"><span class="super note-a" data-i18n="miscellaneous-abbrv">Misc</span></span>
                                        <span class="table-header table-rightcell" aria-label="empty spacer cell" role="presentation"></span>
                                    </div>
                                </div>
                                <div class="table-group">
                                    <div class="table-row">
                                        <span class="table-cell spellcaster-button"><button class="spellcaster-button" title="%{selected|Concentration-Check-1}" type="roll" name="roll_Concentration-Check-1" value="@{PC-whisper} &{template:pf_generic} @{toggle_spell_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{concentration-check}}} {{class=**@{spellclass-1-name} @{spellclass-1-level}**}} {{check=[[ 1d20 + [[ @{Concentration-1} ]] ]]}} {{^{defensive-casting-bonus-abbrv}=@{Concentration-1-def}}} {{lefttext_6=@{Concentration-1-miscnote}}}"> <span style="vertical-align:middle;" data-i18n="concentration-check">Concentration</span> </button></span>
                                        <span class="table-cell left"><input title="@{Concentration-1}" type="number" name="attr_Concentration-1" value="0" class="calc bigger-total" readonly /></span>
                                        <span class="divider" style="padding: 0 5px 0 5px;">=</span>
                                        <span class="table-cell ability-column">
                                            <select class="select-small" title="@{Concentration-1-ability}" name="attr_Concentration-1-ability">
                                                <option value="0" data-i18n="select-one-default" selected>&#8226;Select One</option>
                                                <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                                <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                                <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                                <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                                <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                                <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                            </select>
                                        </span>
                                        <span class="table-cell left"><input title="@{Concentration-1-mod}" type="number" name="attr_Concentration-1-mod" value="0" class="calc" readonly /></span>
                                        <span class="divider">+</span>
                                        <span class="table-cell hide-readonly"><input title="@{spellclass-1-level-total}" type="number" name="attr_spellclass-1-level-total" value="0" class="calc" readonly /></span>
                                        <span class="divider advanced-spell-option">+</span>
                                        <span class="table-cell linked-tablecell advanced-spell-option">
                                            <input type="checkbox" name="attr_Concentration-1-misc-mod_error" class="error-mshow" value="1" />
                                            <input type="text" title="@{Concentration-1-misc}" type="number" name="attr_Concentration-1-misc" class="macro-text-inline linked-cellfield highlight" data-i18n-placeholder="equation-macro-place" />
                                            <input type="number" name="attr_Concentration-1-misc-mod" title="@{Concentration-1-misc-mod}" value="0" class="calc narrow-numbers highlight" readonly />
                                        </span>
                                        <span class="table-cell"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="h3-section table spellclass-roll-adj">
                                <span class="table-name">Roll adjustments</span>
                                <div class="table-row">
                                    <span class="table-header nowrap-readonly" data-i18n="save-difficulty-class-misc-abbrv">Save DC Misc</span>
                                    <span class="table-header divider"></span>
                                    <span class="table-header data-i18n=" buff">Buff</span>
                                    <span class="table-header entry-30p-shrink super note-a" data-i18n-aria-label="spell-penetration-bonus-label" data-i18n="spell-penetration-bonus-abbrv" style="padding-right:1em;">Spell Pen Bonus</span>
                                    <span class="table-header nowrap-readonly" data-i18n-title="cast-defensive-bonus" data-i18n-aria-label="cast-defensive-bonus" style="word-wrap:normal;" data-i18n="cast-defensive-bonus-abbrv">Cast Def. Bonus</span>
                                    <span class="table-header table-rightcell show-readonly inverse-readonly" aria-label="empty spacer cell" role="presentation"></span>
                                </div>
                                <div class="table-row">
                                    <input type="hidden" name="attr_spellclass-1-savedc-mod" value="0" />
                                    <span class="table-cell narrow-numbers"><input title="@{spellclass-1-savedc-misc}" type="number" name="attr_spellclass-1-savedc-misc" value="0" /></span>
                                    <span class="divider">+</span>
                                    <input type="number" class="calc narrow-numbers" name="attr_buff_SpellDC_1-total" value="0" title="@{buff_SpellDC_1-total}" readonly />
                                    <span class="table-cell linked-tablecell">
                                        <input type="checkbox" name="attr_spellclass-1-SP-mod_error" class="error-mshow" value="1">
                                        <input type="text" class="highlight linked-cellfield macro-text-inline float-right" title="@{spellclass-1-SP_misc}" name="attr_spellclass-1-SP_misc" data-i18n-placeholder="equation-macro-place" placeholder="#/Equation" />
                                        <input class="calc number highlight narrow-numbers" type="number" title="@{spellclass-1-SP-mod}" name="attr_spellclass-1-SP-mod" value="0" readonly />
                                    </span>
                                    <span class="table-cell nowrap-readonly narrow-numbers"><input title="@{Concentration-1-def}" type="number" name="attr_Concentration-1-def" value="0" /></span>
                                    <span class="table-cell show-readonly inverse-readonly"></span>
                                </div>
                            </div>
                            <div class="cheat"></div>
                            <input class="showarrow h3arrow spellpoints-sect" type="checkbox" name="attr_spellclass-1-spellpoints-show" data-i18n-aria-label="spell-points" data-i18n-title="showsect-cmd" value="1" />
                            <h3 class="clickheader showsect spellpoints-sect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="spell-points"><span name="attr_spellclass-1-spell-points_name">Spell Points</span></label></h3>
                            <div class="h3-section spellpoints table spellpoints-sect">
                                <div class="table-group">
                                    <div class="table-row">
                                        <span class="table-header entry-custom-header" style="min-width:8em;width:20%;"><input class="entry-custom-header entry-med" name="attr_spellclass-1-spell-points_name" title="@{spellclass-1-spell-points_name}" type="text" value="Spell Points" data-i18n-placeholder="user-defined" /></span>
                                        <span class="table-header divider"></span>
                                        <span class="table-header" style="min-width:8em;" data-i18n="points-per-day">Points/Day</span>
                                        <span class="table-header divider"></span>
                                        <span class="table-header" data-i18n="calculation">Calculation</span>
                                        <span class="table-header divider"></span>
                                        <span class="table-header" style="min-width:6em;" data-i18n="base">Base</span>
                                        <span class="table-header divider"></span>
                                        <span class="table-header" style="min-width:6em;" data-i18n="ability">Ability</span>
                                        <span class="table-header table-rightcell"></span>
                                    </div>
                                </div>
                                <div class="table-group">
                                    <div class="table-row">
                                        <span class="table-cell"><input title="@{spellclass-1-spell-points-per-day}" type="number" name="attr_spellclass-1-spell-points-per-day" value="0" /></span>
                                        <span class="divider">/</span>
                                        <span class="table-cell"><input title="@{spellclass-1-spell-points-per-day|max}" type="text" class="number" name="attr_spellclass-1-spell-points-per-day_max" value="(@{spellclass-1-spell-points-class} + @{spellclass-1-spell-points-bonus} + @{spellclass-1-spell-points-misc-mod})" disabled /></span>
                                        <span class="divider">=</span>
                                        <span class="table-cell linked-tablecell">
                                            <input type="checkbox" value="1" name="attr_spellclass-1-spell-points-misc-mod_error" class="error-mshow" />
                                            <textarea class="macro-text-inline linked-cellfield highlight" title="@{spellclass-1-spell-points-misc}" name="attr_spellclass-1-spell-points-misc" data-i18n-placeholder="equation-macro-place"></textarea>
                                            <input type="number" value="0" name="attr_spellclass-1-spell-points-misc-mod" title="@{spellclass-1-spell-points-misc-mod}" class="calc narrow-numbers highlight" readonly />
                                        </span>
                                        <span class="divider">+</span>
                                        <span class="table-cell"><input title="@{spellclass-1-spell-points-class}" type="number" name="attr_spellclass-1-spell-points-class" value="0" /></span>
                                        <span class="divider">+</span>
                                        <span class="table-cell"><input title="@{spellclass-1-spell-points-bonus}" type="number" name="attr_spellclass-1-spell-points-bonus" value="0" /></span>
                                        <span class="table-rightcell"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="cheat"></div>
                            <input class="showarrow h3arrow" type="checkbox" name="attr_spellclass-1-spells-notes-show" data-i18n-aria-label="spells-notes" data-i18n-title="showsect-cmd" value="1" />
                            <h3 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="spells-notes">Spells Notes</label></h3>
                            <div class="h3-section table spellclass-spellnotes">
                                <span class="table-name" data-i18n="notes">Notes</span>
                                <div class="table-group-head">
                                    <span class="table-header" data-i18n="spells-notes" data-i18n-title="spells-notes" data-i18n-aria-label="spells-notes">Spells Notes</span>
                                    <span class="table-header" data-i18n="caster-level" data-i18n-title="caster-level-check-notes" data-i18n-aria-label="caster-level-check-notes">Caster Level</span>
                                    <span class="table-header" data-i18n="concentration" data-i18n-title="concentration-check-notes" data-i18n-aria-label="concentration-check-notes">Concentration</span>
                                </div>
                                <div class="table-row">
                                    <div class="table-cell notes-cell">
                                        <textarea class="half" title="@{spell-class-1-spells-notes}" name="attr_spell-class-1-spells-notes" data-i18n-placeholder="spells-notes" data-i18n-aria-label="spells-notes"></textarea>
                                    </div>
                                    <div class="table-cell notes-cell">
                                        <textarea class="half" title="@{CasterLevel-1-note}" name="attr_CasterLevel-1-note" data-i18n-placeholder="caster-level-check-notes" data-i18n-aria-label="caster-level-check-notes"></textarea>
                                    </div>
                                    <div class="table-cell notes-cell">
                                        <textarea class="half" title="@{Concentration-1-miscnote}" name="attr_Concentration-1-miscnote" data-i18n-placeholder="concentration-check-notes" data-i18n-aria-label="concentration-check-notes"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col col2">
                            <div class="cheat"></div>
                            <input class="showarrow h3arrow" type="checkbox" name="attr_spellclass-1-perday-show" data-i18n-aria-label="spells-per-day" data-i18n-title="showsect-cmd" value="1" checked />
                            <h3 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="spells-per-day">Spells Per Day</label></h3>
                            <div class="h3-section spells-per-day">
                                <span data-i18n="casting-type" data-i18n-title="casting-type" data-i18n-aria-label="casting-type">Casting Type:</span>
                                <input class="selectedlabel-check subsect2-show sect2-show" type="radio" name="attr_spellclass-1-casting_type" value="1" title="@{spellclass-1-casting_type}" checked /><b><span data-i18n-title="display-spells-known" data-i18n-aria-label="display-spells-known" data-i18n="spontaneous"> Spontaneous</span></b>
                                <input class="selectedlabel-check subsect3-show sect3-show" type="radio" name="attr_spellclass-1-casting_type" value="2" title="@{spellclass-1-casting_type}" /><b><span data-i18n="prepared"> Prepared</span></b>
                                <input style="margin-left:0.5em;" class="selectedlabel-check sect3" type="checkbox" name="attr_spellclass-1-hide_unprepared" value="1" title="@{spellclass-1-hide_unprepared}" /><b class="sect3" data-i18n-title="prepared-spells-explanation" data-i18n-aria-label="prepared-spells-explanation" data-i18n="spellbook-only-prepared-spells"> Show only spells with 'uses' in spellbook</b>
                                <input style="margin-left:0.5em;" class="selectedlabel-check sect3" type="checkbox" name="attr_spellclass-1-show_domain_spells" value="1" title="@{spellclass-1-show_domain_spells}" /><b class="sect3" data-i18n-title="domain-spells-explanation" data-i18n-aria-label="domain-spells-explanation" data-i18n="always-show-domain-spells"> Always show spells marked 'domain' in spellbook menu</b>
                                <input style="margin-left:0.5em;" class="selectedlabel-check subsect-show subsect-show-inverse" type="checkbox" name="attr_total_spells_manually" value="1" title="@{total_spells_manually}" /><b data-i18n-title="add-custom-column" data-i18n-aria-label="total-spells-manually" data-i18n="total-spells-manually">Total Spells Manually</b>
                                <div class="table">
                                    <span class="table-name" data-i18n="spells-per-day">Spells Per Day</span>
                                    <div class="table-group-head">
                                        <div class="table-row">
                                            <span class="table-header" data-i18n="save-difficulty-class">Save DC</span>
                                            <span class="table-header right-border" data-i18n="level-abbrv">Lvl</span>
                                            <span class="table-header sect">#</span>
                                            <span class="table-header sect3 sect-inverse" data-i18n-title="sum-prepared-from-spells" data-i18n-aria-label="sum-prepared-from-spells" data-i18n="number-prepared-abbrv">#Left</span>
                                            <span class="table-header sect2 sect-inverse" data-i18n-title="sum-uses-spells" data-i18n-aria-label="sum-uses-spells" data-i18n="number-used">#Used</span>
                                            <span class="table-header divider"></span>
                                            <span class="table-header" data-i18n="spells-per-day">Spells/Day</span>
                                            <span class="table-header divider"></span>
                                            <span class="table-header" data-i18n="base-spells-per-day">Base Spells/Day</span>
                                            <span class="table-header divider"></span>
                                            <span class="table-header" data-i18n="bonus-spells">Bonus Spells</span>
                                            <span class="table-header divider advanced-spell-option"></span>
                                            <span class="table-header advanced-spell-option entry-med entry-custom-header"><input class="entry-custom-header entry-med" name="attr_spellclass-1-user_defined_column" title="@{spellclass-1-user_defined_column}" type="text" value="" data-i18n-placeholder="user-defined" /></span>
                                            <span class="table-header sect2 left-border" data-i18n="spells-known">Spells Known</span>
                                            <span class="table-header sect2" data-i18n="total-listed">Total spells in list</span>
                                            <span class="table-header advanced-spell-option entry-med entry-custom-header left-border"><input class="entry-custom-header entry-med" name="attr_spellclass-1-user_defined_column2" title="@{spellclass-1-user_defined_column2}" type="text" value="" data-i18n-placeholder="user-defined" /></span>
                                        </div>
                                    </div>
                                    <div class="table-group">
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-1-level-0-savedc}" type="number" name="attr_spellclass-1-level-0-savedc" value="10" class="calc" readonly /></span>
                                            <span class="table-cell right-border">0</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-0-spells-per-day}" type="number" name="attr_spellclass-1-level-0-spells-per-day" value="0" /></span>
                                            <span class="table-cell noshow"></span>
                                            <span class="table-cell noshow"></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-0-spells-per-day|max}" type="number" name="attr_spellclass-1-level-0-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-0-class}" type="text" name="attr_spellclass-1-level-0-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell ability-column">
                                                <select class="select-small" title="@{Concentration-1-ability}" name="attr_Concentration-1-ability">
                                                    <option value="0" data-i18n="select-one-default" selected>&#8226;Select One</option>
                                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                                </select>
                                            </span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-1-level-0-misc}" type="number" name="attr_spellclass-1-level-0-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-1-level-0-spells-known}" type="number" name="attr_spellclass-1-level-0-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-1-level-0-total-listed}" type="number" name="attr_spellclass-1-level-0-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-1-level-0-user}" type="number" name="attr_spellclass-1-level-0-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-1-level-1-savedc}" type="number" name="attr_spellclass-1-level-1-savedc" value="11" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="1-ordinal">1st</span>
                                            <span class="table-cell sect"><input title="@{spellclass-1-level-1-spells-per-day}" type="number" name="attr_spellclass-1-level-1-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-1-level-1-spells-per-day}" type="number" name="attr_spellclass-1-level-1-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-1-level-1-spells-per-day}" type="number" name="attr_spellclass-1-level-1-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-1-spells-per-day|max}" type="number" name="attr_spellclass-1-level-1-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-1-class}" type="text" name="attr_spellclass-1-level-1-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-1-bonus}" type="number" name="attr_spellclass-1-level-1-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-1-level-1-misc}" type="number" name="attr_spellclass-1-level-1-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-1-level-1-spells-known}" type="number" name="attr_spellclass-1-level-1-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-1-level-1-total-listed}" type="number" name="attr_spellclass-1-level-1-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-1-level-1-user}" type="number" name="attr_spellclass-1-level-1-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-1-level-2-savedc}" type="number" name="attr_spellclass-1-level-2-savedc" value="22" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="2-ordinal">2nd</span>
                                            <span class="table-cell sect"><input title="@{spellclass-1-level-2-spells-per-day}" type="number" name="attr_spellclass-1-level-2-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-1-level-2-spells-per-day}" type="number" name="attr_spellclass-1-level-2-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-1-level-2-spells-per-day}" type="number" name="attr_spellclass-1-level-2-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-2-spells-per-day|max}" type="number" name="attr_spellclass-1-level-2-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-2-class}" type="text" name="attr_spellclass-1-level-2-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-2-bonus}" type="number" name="attr_spellclass-1-level-2-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-1-level-2-misc}" type="number" name="attr_spellclass-1-level-2-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-1-level-2-spells-known}" type="number" name="attr_spellclass-1-level-2-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-1-level-2-total-listed}" type="number" name="attr_spellclass-1-level-2-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-1-level-2-user}" type="number" name="attr_spellclass-1-level-2-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-1-level-3-savedc}" type="number" name="attr_spellclass-1-level-3-savedc" value="33" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="3-ordinal">3rd</span>
                                            <span class="table-cell sect"><input title="@{spellclass-1-level-3-spells-per-day}" type="number" name="attr_spellclass-1-level-3-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-1-level-3-spells-per-day}" type="number" name="attr_spellclass-1-level-3-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-1-level-3-spells-per-day}" type="number" name="attr_spellclass-1-level-3-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-3-spells-per-day|max}" type="number" name="attr_spellclass-1-level-3-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-3-class}" type="text" name="attr_spellclass-1-level-3-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-3-bonus}" type="number" name="attr_spellclass-1-level-3-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-1-level-3-misc}" type="number" name="attr_spellclass-1-level-3-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-1-level-3-spells-known}" type="number" name="attr_spellclass-1-level-3-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-1-level-3-total-listed}" type="number" name="attr_spellclass-1-level-3-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-1-level-3-user}" type="number" name="attr_spellclass-1-level-3-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-1-level-4-savedc}" type="number" name="attr_spellclass-1-level-4-savedc" value="44" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="4-ordinal">4th</span>
                                            <span class="table-cell sect"><input title="@{spellclass-1-level-4-spells-per-day}" type="number" name="attr_spellclass-1-level-4-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-1-level-4-spells-per-day}" type="number" name="attr_spellclass-1-level-4-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-1-level-4-spells-per-day}" type="number" name="attr_spellclass-1-level-4-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-4-spells-per-day|max}" type="number" name="attr_spellclass-1-level-4-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-4-class}" type="text" name="attr_spellclass-1-level-4-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-4-bonus}" type="number" name="attr_spellclass-1-level-4-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-1-level-4-misc}" type="number" name="attr_spellclass-1-level-4-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-1-level-4-spells-known}" type="number" name="attr_spellclass-1-level-4-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-1-level-4-total-listed}" type="number" name="attr_spellclass-1-level-4-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-1-level-4-user}" type="number" name="attr_spellclass-1-level-4-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-1-level-5-savedc}" type="number" name="attr_spellclass-1-level-5-savedc" value="55" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="5-ordinal">5th</span>
                                            <span class="table-cell sect"><input title="@{spellclass-1-level-5-spells-per-day}" type="number" name="attr_spellclass-1-level-5-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-1-level-5-spells-per-day}" type="number" name="attr_spellclass-1-level-5-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-1-level-5-spells-per-day}" type="number" name="attr_spellclass-1-level-5-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-5-spells-per-day|max}" type="number" name="attr_spellclass-1-level-5-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-5-class}" type="text" name="attr_spellclass-1-level-5-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-5-bonus}" type="number" name="attr_spellclass-1-level-5-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-1-level-5-misc}" type="number" name="attr_spellclass-1-level-5-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-1-level-5-spells-known}" type="number" name="attr_spellclass-1-level-5-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-1-level-5-total-listed}" type="number" name="attr_spellclass-1-level-5-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-1-level-5-user}" type="number" name="attr_spellclass-1-level-5-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-1-level-6-savedc}" type="number" name="attr_spellclass-1-level-6-savedc" value="66" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="6-ordinal">6th</span>
                                            <span class="table-cell sect"><input title="@{spellclass-1-level-6-spells-per-day}" type="number" name="attr_spellclass-1-level-6-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-1-level-6-spells-per-day}" type="number" name="attr_spellclass-1-level-6-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-1-level-6-spells-per-day}" type="number" name="attr_spellclass-1-level-6-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-6-spells-per-day|max}" type="number" name="attr_spellclass-1-level-6-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-6-class}" type="text" name="attr_spellclass-1-level-6-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-6-bonus}" type="number" name="attr_spellclass-1-level-6-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-1-level-6-misc}" type="number" name="attr_spellclass-1-level-6-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-1-level-6-spells-known}" type="number" name="attr_spellclass-1-level-6-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-1-level-6-total-listed}" type="number" name="attr_spellclass-1-level-6-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-1-level-6-user}" type="number" name="attr_spellclass-1-level-6-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-1-level-7-savedc}" type="number" name="attr_spellclass-1-level-7-savedc" value="77" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="7-ordinal">7th</span>
                                            <span class="table-cell sect"><input title="@{spellclass-1-level-7-spells-per-day}" type="number" name="attr_spellclass-1-level-7-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-1-level-7-spells-per-day}" type="number" name="attr_spellclass-1-level-7-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-1-level-7-spells-per-day}" type="number" name="attr_spellclass-1-level-7-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-7-spells-per-day|max}" type="number" name="attr_spellclass-1-level-7-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-7-class}" type="text" name="attr_spellclass-1-level-7-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-7-bonus}" type="number" name="attr_spellclass-1-level-7-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-1-level-7-misc}" type="number" name="attr_spellclass-1-level-7-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-1-level-7-spells-known}" type="number" name="attr_spellclass-1-level-7-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-1-level-7-total-listed}" type="number" name="attr_spellclass-1-level-7-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-1-level-7-user}" type="number" name="attr_spellclass-1-level-7-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-1-level-8-savedc}" type="number" name="attr_spellclass-1-level-8-savedc" value="88" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="8-ordinal">8th</span>
                                            <span class="table-cell sect"><input title="@{spellclass-1-level-8-spells-per-day}" type="number" name="attr_spellclass-1-level-8-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-1-level-8-spells-per-day}" type="number" name="attr_spellclass-1-level-8-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-1-level-8-spells-per-day}" type="number" name="attr_spellclass-1-level-8-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-8-spells-per-day|max}" type="number" name="attr_spellclass-1-level-8-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-8-class}" type="text" name="attr_spellclass-1-level-8-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-8-bonus}" type="number" name="attr_spellclass-1-level-8-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-1-level-8-misc}" type="number" name="attr_spellclass-1-level-8-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-1-level-8-spells-known}" type="number" name="attr_spellclass-1-level-8-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-1-level-8-total-listed}" type="number" name="attr_spellclass-1-level-8-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-1-level-8-user}" type="number" name="attr_spellclass-1-level-8-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-1-level-9-savedc}" type="number" name="attr_spellclass-1-level-9-savedc" value="99" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="9-ordinal">9th</span>
                                            <span class="table-cell sect"><input title="@{spellclass-1-level-9-spells-per-day}" type="number" name="attr_spellclass-1-level-9-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-1-level-9-spells-per-day}" type="number" name="attr_spellclass-1-level-9-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-1-level-9-spells-per-day}" type="number" name="attr_spellclass-1-level-9-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-9-spells-per-day|max}" type="number" name="attr_spellclass-1-level-9-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-9-class}" type="text" name="attr_spellclass-1-level-9-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-1-level-9-bonus}" type="number" name="attr_spellclass-1-level-9-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-1-level-9-misc}" type="number" name="attr_spellclass-1-level-9-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-1-level-9-spells-known}" type="number" name="attr_spellclass-1-level-9-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-1-level-9-total-listed}" type="number" name="attr_spellclass-1-level-9-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-1-level-9-user}" type="number" name="attr_spellclass-1-level-9-user" value="0" /></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="cheat"></div>
                        <input class="showarrow h3arrow" type="checkbox" name="attr_spellclass-1-domains-show" data-i18n-aria-label="domains" data-i18n-title="showsect-cmd" value="1" checked />
                        <h3 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="domains">Domains</label></h3>
                        <div class="h3-section domains wide-readonly col col1">
                            <div class="table hasexpandrows">
                                <span class="table-name secondary-table-name show-readonly" data-i18n="known-or-special">Known / Specialties</span>
                                <div class="table-row">
                                    <span class="table-header" data-i18n="name">Name</span>
                                    <span class="table-header" data-i18n="type">Type</span>
                                    <span class="table-header" data-i18n="bonus">Bonus</span>
                                    <span class="table-header" data-i18n="opposition">Opposition</span>
                                    <span class="table-header" data-i18n="effect">Effect</span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><input title="@{spellclass-1-domain-0}" type="text" name="attr_spellclass-1-domain-0" value="" data-i18n-placeholder="name" /></span>
                                    <span class="table-cell"><input title="@{spellclass-1-domaintype-0}" type="text" name="attr_spellclass-1-domaintype-0" value="" data-i18n-placeholder="domain-etc-type-example" /></span>
                                    <span class="table-cell"><input title="@{spellclass-1-domainbonus-0}" type="text" name="attr_spellclass-1-domainbonus-0" value="" data-i18n-placeholder="bonus" /></span>
                                    <span class="table-cell"><input title="@{spellclass-1-oppositionschool-0}" type="text" name="attr_spellclass-1-oppositionschool-0" value="" data-i18n-placeholder="name" /></span>
                                    <span class="table-cell"><input title="@{spellclass-1-oppositioneffect-0}" type="text" name="attr_spellclass-1-oppositioneffect-0" value="" data-i18n-placeholder="opposition-school-example" /></span>
                                </div>
                                <input type="checkbox" class="showarrow sect-show expand-arrow expand1" name="attr_domain02_show" value="1" title="Show more domains/schools" aria-label="Show more domains/schools" /><span class="showsect"></span>
                                <div class="table-row sect">
                                    <span class="table-cell"><input title="@{spellclass-1-domain-1}" type="text" name="attr_spellclass-1-domain-1" value="" data-i18n-placeholder="name" /></span>
                                    <span class="table-cell"><input title="@{spellclass-1-domaintype-1}" type="text" name="attr_spellclass-1-domaintype-1" value="" data-i18n-placeholder="domain-etc-type-example" /></span>
                                    <span class="table-cell"><input title="@{spellclass-1-domainbonus-1}" type="text" name="attr_spellclass-1-domainbonus-1" value="" data-i18n-placeholder="bonus" /></span>
                                    <span class="table-cell"><input title="@{spellclass-1-oppositionschool-1}" type="text" name="attr_spellclass-1-oppositionschool-1" value="" data-i18n-placeholder="name" /></span>
                                    <span class="table-cell"><input title="@{spellclass-1-oppositioneffect-1}" type="text" name="attr_spellclass-1-oppositioneffect-1" value="" data-i18n-placeholder="opposition-school-example" /></span>
                                </div>
                                <input type="checkbox" class="showarrow sect2-show sect expand-arrow expand2" name="attr_domain03_show" value="1" title="Show more domains/schools" aria-label="Show more domains/schools" /><span class="showsect sect"></span>
                                <div class="table-row sect sect2">
                                    <span class="table-cell"><input title="@{spellclass-1-domain-2}" type="text" name="attr_spellclass-1-domain-2" value="" data-i18n-placeholder="name" /></span>
                                    <span class="table-cell"><input title="@{spellclass-1-domaintype-2}" type="text" name="attr_spellclass-1-domaintype-2" value="" data-i18n-placeholder="domain-etc-type-example" /></span>
                                    <span class="table-cell"><input title="@{spellclass-1-domainbonus-2}" type="text" name="attr_spellclass-1-domainbonus-2" value="" data-i18n-placeholder="bonus" /></span>
                                    <span class="table-cell"><input title="@{spellclass-1-oppositionschool-2}" type="text" name="attr_spellclass-1-oppositionschool-2" value="" data-i18n-placeholder="name" /></span>
                                    <span class="table-cell"><input title="@{spellclass-1-oppositioneffect-2}" type="text" name="attr_spellclass-1-oppositioneffect-2" value="" data-i18n-placeholder="opposition-school-example" /></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Spell Class 2 -->
                    <h2 class="section2 nontable-name spell-multiclassed"><span name="attr_spellclass-2-name"></span></h2>
                    <div class="section2 section-spellclass spellclass-2 spell-multiclassed">
                        <div class="col col1">
                            <input class="showarrow h3arrow" type="checkbox" name="attr_spellclass-2-show" data-i18n-aria-label="spellclass-level-base" data-i18n-title="showsect-cmd" value="1" checked />
                            <h3 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="level-and-ability">Level and Caster Ability</label></h3>
                            <div class="cheat"></div>
                            <div class="h3-section table spellclass-level narrow-numbers">
                                <span class="table-name" data-i18n="caster-class-level">Caster Class and Level</span>
                                <div class="table-group-head">
                                    <div class="table-row">
                                        <span class="table-header" data-i18n="check">Check</span>
                                        <span class="table-header" data-i18n-title="effective-caster-level" data-i18n-aria-label="effective-caster-level" data-i18n="caster-level">Caster Level</span>
                                        <span class="table-header divider"></span>
                                        <span class="table-header hide-readonly" data-i18n-title="class-number-explanation" data-i18n-aria-label="class-number-explanation" data-i18n="synchronize-class">Sync Class</span>
                                        <span class="table-header entry-20p-shrink" data-i18n="class-name">Class Name</span>
                                        <span class="table-header" data-i18n="base-level">Base Level</span>
                                        <span class="divider table-header advanced-spell-option"></span>
                                        <span class="table-header advanced-spell-option"><span class="super note-a" data-i18n="miscellaneous-abbrv">Misc</span></span>
                                        <span class="divider table-header hide-readonly"></span>
                                        <span class="table-header" data-i18n="buff">Buff</span>
                                        <span class="divider table-header hide-readonly"></span>
                                        <span class="table-header" data-i18n-title="condition-description" data-i18n-aria-label="condition-description" data-i18n="condition-abbrv">Cond</span>
                                    </div>
                                </div>
                                <div class="table-group">
                                    <div class="table-row">
                                        <span class="table-cell spellcaster-button">
                                            <button class="spellcaster-button" title="%{selected|Spell-Class-2-CL-Check}" type="roll" name="roll_Spell-Class-2-CL-Check" value="@{PC-whisper} &{template:pf_generic} @{toggle_spell_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{caster-level-check}}} {{class=**@{spellclass-2-name} @{spellclass-2-level}**}} {{check=[[ 1d20 + [[ @{spellclass-2-level-total} ]] ]]}} {{^{spell-penetration-bonus-abbrv}=@{spellclass-2-SP-mod}}} {{lefttext_6=@{CasterLevel-2-note}}}"> <span style="vertical-align:middle;" data-i18n="caster-level-check">Casterlevel Check</span>
                                            </button>
                                        </span>
                                        <span class="table-cell left"><input title="@{spellclass-2-level-total}" type="number" name="attr_spellclass-2-level-total" value="0" class="calc bigger-total" readonly /></span>
                                        <span class="divider hide-readonly" style="padding-right: 5px">=</span>
                                        <span class="table-cell entry-vshort hide-readonly">
                                            <select title="@{spellclass-2} Choose or enter manually" name="attr_spellclass-2" class="select-small spellclass-2">
                                                <option value="-1" data-i18n="select-class-or-manual-default" selected>&#8226;Select Class or enter other manually</option>
                                                <option value="0" data-i18n="1-ordinal-class">1st Class</option>
                                                <option value="1" data-i18n="2-ordinal-class">2nd Class</option>
                                                <option value="2" data-i18n="3-ordinal-class">3rd Class</option>
                                                <option value="3" data-i18n="4-ordinal-class">4th Class</option>
                                                <option value="4" data-i18n="5-ordinal-class">5th Class</option>
                                                <option value="5" data-i18n="6-ordinal-class">6th Class</option>
                                                <option value="6" data-i18n="race-hd">Race (use HD for level)</option>
                                            </select>
                                        </span>
                                        <span class="table-cell">
                                            <input class="calc-advanced-spell-option" title="@{spellclass-2-name}" type="text" name="attr_spellclass-2-name" data-i18n-placeholder="class-name">
                                        </span>
                                        <span class="table-cell left"><input title="@{spellclass-2-level}" type="number" name="attr_spellclass-2-level" value="0" /></span>
                                        <span class="divider advanced-spell-option">+</span>
                                        <span class="table-cell advanced-spell-option linked-tablecell">
                                            <input type="checkbox" value="1" name="spellclass-2-level-misc-mod_error" class="error-mshow" />
                                            <input type="text" name="attr_spellclass-2-level-misc" class="macro-text-inline linked-cellfield highlight" title="@{spellclass-2-level-misc}" data-i18n-placeholder="equation-macro-place" />
                                            <input type="number" name="attr_spellclass-2-level-misc-mod" class="narrow-numbers calc highlight" value="0" title="@{spellclass-2-level-misc-mod}" readonly />
                                        </span>
                                        <span class="divider">+</span>
                                        <span class="table-cell"><input title="@{buff_CasterLevel-total}" name="attr_buff_CasterLevel-total" type="number" value="0" class="calc" readonly /></span>
                                        <span class="divider">+</span>
                                        <span class="table-cell"><input title="@{CasterLevel-Penalty}" name="attr_CasterLevel-Penalty" type="number" value="0" class="calc" readonly /></span>
                                    </div>
                                </div>
                            </div>
                            <div class="h3-section spellclass-ranges" role="presentation">
                                <div class="table show-readonly inverse-readonly">
                                    <div class="table-row">
                                        <span class="table-row-name spellrange-header distance-used" data-i18n="close">Close</span>
                                        <span class="table-cell"><input class="spellrange-data calc entry-wide" title="@{spellclass-2-close} 25 + 5/2 levels" type="number" name="attr_spellclass-2-close" value="0" readonly /></span>
                                        <span class="table-row-name spellrange-header distance-used" data-i18n="medium-abbrv">Med</span>
                                        <span class="table-cell"><input class="spellrange-data calc entry-wide" title="@{spellclass-2-medium} 100 + 10/level" type="number" name="attr_spellclass-2-medium" value="0" readonly /></span>
                                        <span class="table-row-name spellrange-header distance-used" data-i18n="long">Long</span>
                                        <span class="table-cell"><input class="spellrange-data calc entry-wide" title="@{spellclass-2-long} 400 + 40/level" type="number" name="attr_spellclass-2-long" value="0" readonly /></span>
                                    </div>
                                </div>
                                <div class="table hide-readonly">
                                    <span class="table-name" data-i18n="spells-ranges">Spell Ranges</span>
                                    <div class="table-group-head">
                                        <span class="table-header distance-used" data-i18n="close">Close</span>
                                        <span class="table-header distance-used" data-i18n="medium">Medium</span>
                                        <span class="table-header distance-used" data-i18n="long">Long</span>
                                    </div>
                                    <div class="table-row">
                                        <span class="table-cell"><input class="spellrange-data calc entry-wide" title="@{spellclass-2-close} 25 + 5/2 levels" type="number" name="attr_spellclass-2-close" value="0" readonly /></span>
                                        <span class="table-cell"><input class="spellrange-data calc entry-wide" title="@{spellclass-2-medium} 100 + 10/level" type="number" name="attr_spellclass-2-medium" value="0" readonly /></span>
                                        <span class="table-cell"><input class="spellrange-data calc entry-wide" title="@{spellclass-2-long} 400 + 40/level" type="number" name="attr_spellclass-2-long" value="0" readonly /></span>
                                    </div>
                                </div>
                            </div>
                            <div class="h3-section table spellclass-concentration narrow-numbers">
                                <span class="table-name" data-i18n="spellcasting-ability">Spellcasting Ability</span>
                                <div class="table-group-head">
                                    <div class="table-row">
                                        <span class="table-header" data-i18n="check">Check</span>
                                        <span class="table-header" data-i18n="total">Total</span>
                                        <span class="divider table-header"></span>
                                        <span class="table-header ability-column" style="width:6em;" data-i18n="ability">Ability</span>
                                        <span class="table-header" data-i18n="modifier-abbrv">Mod</span>
                                        <span class="divider table-header"></span>
                                        <span class="table-header hide-readonly" data-i18n-title="effective-caster-level" data-i18n-aria-label="effective-caster-level" data-i18n="caster-level">Caster Level</span>
                                        <span class="divider table-header advanced-spell-option"></span>
                                        <span class="table-header advanced-spell-option"><span class="super note-a" data-i18n="miscellaneous-abbrv">Misc</span></span>
                                        <span class="table-header table-rightcell" aria-label="empty spacer cell" role="presentation"></span>
                                    </div>
                                </div>
                                <div class="table-group">
                                    <div class="table-row">
                                        <span class="table-cell spellcaster-button"><button class="spellcaster-button" title="%{selected|Concentration-Check-2}" type="roll" name="roll_Concentration-Check-2" value="@{PC-whisper} &{template:pf_generic} @{toggle_spell_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{concentration-check}}} {{class=**@{spellclass-2-name} @{spellclass-2-level}**}} {{check=[[ 1d20 + [[ @{Concentration-2} ]] ]]}} {{^{defensive-casting-bonus-abbrv}=@{Concentration-2-def}}} {{lefttext_6=@{Concentration-2-miscnote}}}"> <span style="vertical-align:middle;" data-i18n="concentration-check">Concentration</span> </button></span>
                                        <span class="table-cell left"><input title="@{Concentration-2}" type="number" name="attr_Concentration-2" value="0" class="calc bigger-total" readonly /></span>
                                        <span class="divider" style="padding: 0 5px 0 5px;">=</span>
                                        <span class="table-cell ability-column">
                                            <select class="select-small" title="@{Concentration-2-ability}" name="attr_Concentration-2-ability">
                                                <option value="0" data-i18n="select-one-default" selected>&#8226;Select One</option>
                                                <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                                <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                                <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                                <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                                <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                                <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                            </select>
                                        </span>
                                        <span class="table-cell left"><input title="@{Concentration-2-mod}" type="number" name="attr_Concentration-2-mod" value="0" class="calc" readonly /></span>
                                        <span class="divider">+</span>
                                        <span class="table-cell hide-readonly"><input title="@{spellclass-2-level-total}" type="number" name="attr_spellclass-2-level-total" value="0" class="calc" readonly /></span>
                                        <span class="divider advanced-spell-option">+</span>
                                        <span class="table-cell linked-tablecell advanced-spell-option">
                                            <input type="checkbox" name="attr_Concentration-2-misc-mod_error" class="error-mshow" value="1" />
                                            <input type="text" title="@{Concentration-2-misc}" type="number" name="attr_Concentration-2-misc" class="macro-text-inline linked-cellfield highlight" data-i18n-placeholder="equation-macro-place" />
                                            <input type="number" name="attr_Concentration-2-misc-mod" title="@{Concentration-2-misc-mod}" value="0" class="calc narrow-numbers highlight" readonly />
                                        </span>
                                        <span class="table-cell"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="h3-section table spellclass-roll-adj">
                                <span class="table-name">Roll adjustments</span>
                                <div class="table-row">
                                    <span class="table-header nowrap-readonly" data-i18n="save-difficulty-class-misc-abbrv">Save DC Misc</span>
                                    <span class="table-header divider"></span>
                                    <span class="table-header data-i18n=" buff">Buff</span>
                                    <span class="table-header entry-30p-shrink super note-a" data-i18n-aria-label="spell-penetration-bonus-label" data-i18n="spell-penetration-bonus-abbrv" style="padding-right:1em;">Spell Pen Bonus</span>
                                    <span class="table-header nowrap-readonly" data-i18n-title="cast-defensive-bonus" data-i18n-aria-label="cast-defensive-bonus" style="word-wrap:normal;" data-i18n="cast-defensive-bonus-abbrv">Cast Def. Bonus</span>
                                    <span class="table-header table-rightcell show-readonly inverse-readonly" aria-label="empty spacer cell" role="presentation"></span>
                                </div>
                                <div class="table-row">
                                    <input type="hidden" name="attr_spellclass-2-savedc-mod" value="0" />
                                    <span class="table-cell narrow-numbers"><input title="@{spellclass-2-savedc-misc}" type="number" name="attr_spellclass-2-savedc-misc" value="0" /></span>
                                    <span class="divider">+</span>
                                    <input type="number" class="calc narrow-numbers" name="attr_buff_SpellDC_2-total" value="0" title="@{buff_SpellDC_2-total}" readonly />
                                    <span class="table-cell linked-tablecell">
                                        <input type="checkbox" name="attr_spellclass-2-SP-mod_error" class="error-mshow" value="1">
                                        <input type="text" class="highlight linked-cellfield macro-text-inline float-right" title="@{spellclass-2-SP_misc}" name="attr_spellclass-2-SP_misc" data-i18n-placeholder="equation-macro-place" placeholder="#/Equation" />
                                        <input class="calc number highlight narrow-numbers" type="number" title="@{spellclass-2-SP-mod}" name="attr_spellclass-2-SP-mod" value="0" readonly />
                                    </span>
                                    <span class="table-cell nowrap-readonly narrow-numbers"><input title="@{Concentration-2-def}" type="number" name="attr_Concentration-2-def" value="0" /></span>
                                    <span class="table-cell show-readonly inverse-readonly"></span>
                                </div>
                            </div>
                            <div class="cheat"></div>
                            <input class="showarrow h3arrow spellpoints-sect" type="checkbox" name="attr_spellclass-2-spellpoints-show" data-i18n-aria-label="spell-points" data-i18n-title="showsect-cmd" value="1" />
                            <h3 class="clickheader showsect spellpoints-sect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="spell-points"><span name="attr_spellclass-2-spell-points_name">Spell Points</span></label></h3>
                            <div class="h3-section spellpoints table spellpoints-sect">
                                <div class="table-group">
                                    <div class="table-row">
                                        <span class="table-header entry-custom-header" style="min-width:8em;width:20%;"><input class="entry-custom-header entry-med" name="attr_spellclass-2-spell-points_name" title="@{spellclass-2-spell-points_name}" type="text" value="Spell Points" data-i18n-placeholder="user-defined" /></span>
                                        <span class="table-header divider"></span>
                                        <span class="table-header" style="min-width:8em;" data-i18n="points-per-day">Points/Day</span>
                                        <span class="table-header divider"></span>
                                        <span class="table-header" data-i18n="calculation">Calculation</span>
                                        <span class="table-header divider"></span>
                                        <span class="table-header" style="min-width:6em;" data-i18n="base">Base</span>
                                        <span class="table-header divider"></span>
                                        <span class="table-header" style="min-width:6em;" data-i18n="ability">Ability</span>
                                        <span class="table-header table-rightcell"></span>
                                    </div>
                                </div>
                                <div class="table-group">
                                    <div class="table-row">
                                        <span class="table-cell"><input title="@{spellclass-2-spell-points-per-day}" type="number" name="attr_spellclass-2-spell-points-per-day" value="0" /></span>
                                        <span class="divider">/</span>
                                        <span class="table-cell"><input title="@{spellclass-2-spell-points-per-day|max}" type="text" class="number" name="attr_spellclass-2-spell-points-per-day_max" value="(@{spellclass-2-spell-points-class} + @{spellclass-2-spell-points-bonus} + @{spellclass-2-spell-points-misc-mod} )" disabled /></span>
                                        <span class="divider">=</span>
                                        <span class="table-cell linked-tablecell">
                                            <input type="checkbox" value="1" name="attr_spellclass-2-spell-points-misc-mod_error" class="error-mshow" />
                                            <textarea class="macro-text-inline linked-cellfield highlight" title="@{spellclass-2-spell-points-misc}" name="attr_spellclass-2-spell-points-misc" data-i18n-placeholder="equation-macro-place"></textarea>
                                            <input type="number" value="0" name="attr_spellclass-2-spell-points-misc-mod" title="@{spellclass-2-spell-points-misc-mod}" class="calc narrow-numbers highlight" readonly />
                                        </span>
                                        <span class="divider">+</span>
                                        <span class="table-cell"><input title="@{spellclass-2-spell-points-class}" type="number" name="attr_spellclass-2-spell-points-class" value="0" /></span>
                                        <span class="divider">+</span>
                                        <span class="table-cell"><input title="@{spellclass-2-spell-points-bonus}" type="number" name="attr_spellclass-2-spell-points-bonus" value="0" /></span>
                                        <span class="table-rightcell"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="cheat"></div>
                            <input class="showarrow h3arrow" type="checkbox" name="attr_spellclass-2-spells-notes-show" data-i18n-aria-label="spells-notes" data-i18n-title="showsect-cmd" value="1" />
                            <h3 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="spells-notes">Spells Notes</label></h3>
                            <div class="h3-section table spellclass-spellnotes">
                                <span class="table-name" data-i18n="notes">Notes</span>
                                <div class="table-group-head">
                                    <span class="table-header" data-i18n="spells-notes" data-i18n-title="spells-notes" data-i18n-aria-label="spells-notes">Spells Notes</span>
                                    <span class="table-header" data-i18n="caster-level" data-i18n-title="caster-level-check-notes" data-i18n-aria-label="caster-level-check-notes">Caster Level</span>
                                    <span class="table-header" data-i18n="concentration" data-i18n-title="concentration-check-notes" data-i18n-aria-label="concentration-check-notes">Concentration</span>
                                </div>
                                <div class="table-row">
                                    <div class="table-cell notes-cell">
                                        <textarea class="half" title="@{spell-class-2-spells-notes}" name="attr_spell-class-2-spells-notes" data-i18n-placeholder="spells-notes" data-i18n-aria-label="spells-notes"></textarea>
                                    </div>
                                    <div class="table-cell notes-cell">
                                        <textarea class="half" title="@{CasterLevel-2-note}" name="attr_CasterLevel-2-note" data-i18n-placeholder="caster-level-check-notes" data-i18n-aria-label="caster-level-check-notes"></textarea>
                                    </div>
                                    <div class="table-cell notes-cell">
                                        <textarea class="half" title="@{Concentration-2-miscnote}" name="attr_Concentration-2-miscnote" data-i18n-placeholder="concentration-check-notes" data-i18n-aria-label="concentration-check-notes"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col col2">
                            <div class="cheat"></div>
                            <input class="showarrow h3arrow" type="checkbox" name="attr_spellclass-2-perday-show" data-i18n-aria-label="spells-per-day" data-i18n-title="showsect-cmd" value="1" checked />
                            <h3 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="spells-per-day">Spells Per Day</label></h3>
                            <div class="h3-section spells-per-day">
                                <span data-i18n="casting-type" data-i18n-title="casting-type" data-i18n-aria-label="casting-type">Casting Type:</span>
                                <input class="selectedlabel-check subsect2-show sect2-show" type="radio" name="attr_spellclass-2-casting_type" value="1" title="@{spellclass-2-casting_type}" checked /><b><span data-i18n-title="display-spells-known" data-i18n-aria-label="display-spells-known" data-i18n="spontaneous"> Spontaneous</span></b>
                                <input class="selectedlabel-check subsect3-show sect3-show" type="radio" name="attr_spellclass-2-casting_type" value="2" title="@{spellclass-2-casting_type}" /><b><span data-i18n="prepared"> Prepared</span></b>
                                <input style="margin-left:0.5em;" class="selectedlabel-check sect3" type="checkbox" name="attr_spellclass-2-hide_unprepared" value="1" title="@{spellclass-2-hide_unprepared}" /><b class="sect3" data-i18n-title="prepared-spells-explanation" data-i18n-aria-label="prepared-spells-explanation" data-i18n="spellbook-only-prepared-spells"> Show only spells with 'uses' in spellbook</b>
                                <input style="margin-left:0.5em;" class="selectedlabel-check sect3" type="checkbox" name="attr_spellclass-2-show_domain_spells" value="1" title="@{spellclass-2-show_domain_spells}" /><b class="sect3" data-i18n-title="domain-spells-explanation" data-i18n-aria-label="domain-spells-explanation" data-i18n="always-show-domain-spells"> Always show spells marked 'domain' in spellbook menu</b>
                                <input style="margin-left:0.5em;" class="selectedlabel-check subsect-show subsect-show-inverse" type="checkbox" name="attr_total_spells_manually" value="1" title="@{total_spells_manually}" /><b data-i18n-title="add-custom-column" data-i18n-aria-label="total-spells-manually" data-i18n="total-spells-manually">Total Spells Manually</b>
                                <div class="table">
                                    <span class="table-name" data-i18n="spells-per-day">Spells Per Day</span>
                                    <div class="table-group-head">
                                        <div class="table-row">
                                            <span class="table-header" data-i18n="save-difficulty-class">Save DC</span>
                                            <span class="table-header right-border" data-i18n="level-abbrv">Lvl</span>
                                            <span class="table-header sect">#</span>
                                            <span class="table-header sect3 sect-inverse" data-i18n-title="sum-prepared-from-spells" data-i18n-aria-label="sum-prepared-from-spells" data-i18n="number-prepared-abbrv">#Left</span>
                                            <span class="table-header sect2 sect-inverse" data-i18n-title="sum-uses-spells" data-i18n-aria-label="sum-uses-spells" data-i18n="number-used">#Used</span>
                                            <span class="table-header divider"></span>
                                            <span class="table-header" data-i18n="spells-per-day">Spells/Day</span>
                                            <span class="table-header divider"></span>
                                            <span class="table-header" data-i18n="base-spells-per-day">Base Spells/Day</span>
                                            <span class="table-header divider"></span>
                                            <span class="table-header" data-i18n="bonus-spells">Bonus Spells</span>
                                            <span class="table-header divider advanced-spell-option"></span>
                                            <span class="table-header advanced-spell-option entry-med entry-custom-header"><input class="entry-custom-header entry-med" name="attr_spellclass-2-user_defined_column" title="@{spellclass-2-user_defined_column}" type="text" value="" data-i18n-placeholder="user-defined" /></span>
                                            <span class="table-header sect2 left-border" data-i18n="spells-known">Spells Known</span>
                                            <span class="table-header sect2" data-i18n="total-listed">Total spells in list</span>
                                            <span class="table-header advanced-spell-option entry-med entry-custom-header left-border"><input class="entry-custom-header entry-med" name="attr_spellclass-2-user_defined_column2" title="@{spellclass-2-user_defined_column2}" type="text" value="" data-i18n-placeholder="user-defined" /></span>
                                        </div>
                                    </div>
                                    <div class="table-group">
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-2-level-0-savedc}" type="number" name="attr_spellclass-2-level-0-savedc" value="10" class="calc" readonly /></span>
                                            <span class="table-cell right-border">0</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-0-spells-per-day}" type="number" name="attr_spellclass-2-level-0-spells-per-day" value="0" /></span>
                                            <span class="table-cell noshow"></span>
                                            <span class="table-cell noshow"></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-0-spells-per-day|max}" type="number" name="attr_spellclass-2-level-0-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-0-class}" type="text" name="attr_spellclass-2-level-0-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell ability-column">
                                                <select class="select-small" title="@{Concentration-2-ability}" name="attr_Concentration-2-ability">
                                                    <option value="0" data-i18n="select-one-default" selected>&#8226;None</option>
                                                    <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                                    <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                                    <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                                    <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                                    <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                                    <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                                </select>
                                            </span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-2-level-0-misc}" type="number" name="attr_spellclass-2-level-0-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-2-level-0-spells-known}" type="number" name="attr_spellclass-2-level-0-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-2-level-0-total-listed}" type="number" name="attr_spellclass-2-level-0-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-2-level-0-user}" type="number" name="attr_spellclass-2-level-0-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-2-level-1-savedc}" type="number" name="attr_spellclass-2-level-1-savedc" value="11" class="calc" readonly /></span>
                                            <span class="table-cell right-border">1st</span>
                                            <span class="table-cell sect"><input title="@{spellclass-2-level-1-spells-per-day}" type="number" name="attr_spellclass-2-level-1-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-2-level-1-spells-per-day}" type="number" name="attr_spellclass-2-level-1-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-2-level-1-spells-per-day}" type="number" name="attr_spellclass-2-level-1-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-1-spells-per-day|max}" type="number" name="attr_spellclass-2-level-1-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-1-class}" type="text" name="attr_spellclass-2-level-1-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-1-bonus}" type="number" name="attr_spellclass-2-level-1-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-2-level-1-misc}" type="number" name="attr_spellclass-2-level-1-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-2-level-1-spells-known}" type="number" name="attr_spellclass-2-level-1-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-2-level-1-total-listed}" type="number" name="attr_spellclass-2-level-1-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-2-level-1-user}" type="number" name="attr_spellclass-2-level-1-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-2-level-2-savedc}" type="number" name="attr_spellclass-2-level-2-savedc" value="22" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="2-ordinal">2nd</span>
                                            <span class="table-cell sect"><input title="@{spellclass-2-level-2-spells-per-day}" type="number" name="attr_spellclass-2-level-2-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-2-level-2-spells-per-day}" type="number" name="attr_spellclass-2-level-2-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-2-level-2-spells-per-day}" type="number" name="attr_spellclass-2-level-2-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-2-spells-per-day|max}" type="number" name="attr_spellclass-2-level-2-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-2-class}" type="text" name="attr_spellclass-2-level-2-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-2-bonus}" type="number" name="attr_spellclass-2-level-2-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-2-level-2-misc}" type="number" name="attr_spellclass-2-level-2-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-2-level-2-spells-known}" type="number" name="attr_spellclass-2-level-2-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-2-level-2-total-listed}" type="number" name="attr_spellclass-2-level-2-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-2-level-2-user}" type="number" name="attr_spellclass-2-level-2-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-2-level-3-savedc}" type="number" name="attr_spellclass-2-level-3-savedc" value="33" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="3-ordinal">3rd</span>
                                            <span class="table-cell sect"><input title="@{spellclass-2-level-3-spells-per-day}" type="number" name="attr_spellclass-2-level-3-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-2-level-3-spells-per-day}" type="number" name="attr_spellclass-2-level-3-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-2-level-3-spells-per-day}" type="number" name="attr_spellclass-2-level-3-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-3-spells-per-day|max}" type="number" name="attr_spellclass-2-level-3-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-3-class}" type="text" name="attr_spellclass-2-level-3-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-3-bonus}" type="number" name="attr_spellclass-2-level-3-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-2-level-3-misc}" type="number" name="attr_spellclass-2-level-3-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-2-level-3-spells-known}" type="number" name="attr_spellclass-2-level-3-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-2-level-3-total-listed}" type="number" name="attr_spellclass-2-level-3-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-2-level-3-user}" type="number" name="attr_spellclass-2-level-3-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-2-level-4-savedc}" type="number" name="attr_spellclass-2-level-4-savedc" value="44" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="4-ordinal">4th</span>
                                            <span class="table-cell sect"><input title="@{spellclass-2-level-4-spells-per-day}" type="number" name="attr_spellclass-2-level-4-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-2-level-4-spells-per-day}" type="number" name="attr_spellclass-2-level-4-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-2-level-4-spells-per-day}" type="number" name="attr_spellclass-2-level-4-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-4-spells-per-day|max}" type="number" name="attr_spellclass-2-level-4-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-4-class}" type="text" name="attr_spellclass-2-level-4-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-4-bonus}" type="number" name="attr_spellclass-2-level-4-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-2-level-4-misc}" type="number" name="attr_spellclass-2-level-4-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-2-level-4-spells-known}" type="number" name="attr_spellclass-2-level-4-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-2-level-4-total-listed}" type="number" name="attr_spellclass-2-level-4-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-2-level-4-user}" type="number" name="attr_spellclass-2-level-4-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-2-level-5-savedc}" type="number" name="attr_spellclass-2-level-5-savedc" value="55" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="5-ordinal">5th</span>
                                            <span class="table-cell sect"><input title="@{spellclass-2-level-5-spells-per-day}" type="number" name="attr_spellclass-2-level-5-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-2-level-5-spells-per-day}" type="number" name="attr_spellclass-2-level-5-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-2-level-5-spells-per-day}" type="number" name="attr_spellclass-2-level-5-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-5-spells-per-day|max}" type="number" name="attr_spellclass-2-level-5-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-5-class}" type="text" name="attr_spellclass-2-level-5-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-5-bonus}" type="number" name="attr_spellclass-2-level-5-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-2-level-5-misc}" type="number" name="attr_spellclass-2-level-5-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-2-level-5-spells-known}" type="number" name="attr_spellclass-2-level-5-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-2-level-5-total-listed}" type="number" name="attr_spellclass-2-level-5-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-2-level-5-user}" type="number" name="attr_spellclass-2-level-5-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-2-level-6-savedc}" type="number" name="attr_spellclass-2-level-6-savedc" value="66" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="6-ordinal">6th</span>
                                            <span class="table-cell sect"><input title="@{spellclass-2-level-6-spells-per-day}" type="number" name="attr_spellclass-2-level-6-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-2-level-6-spells-per-day}" type="number" name="attr_spellclass-2-level-6-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-2-level-6-spells-per-day}" type="number" name="attr_spellclass-2-level-6-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-6-spells-per-day|max}" type="number" name="attr_spellclass-2-level-6-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-6-class}" type="text" name="attr_spellclass-2-level-6-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-6-bonus}" type="number" name="attr_spellclass-2-level-6-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-2-level-6-misc}" type="number" name="attr_spellclass-2-level-6-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-2-level-6-spells-known}" type="number" name="attr_spellclass-2-level-6-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-2-level-6-total-listed}" type="number" name="attr_spellclass-2-level-6-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-2-level-6-user}" type="number" name="attr_spellclass-2-level-6-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-2-level-7-savedc}" type="number" name="attr_spellclass-2-level-7-savedc" value="77" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="7-ordinal">7th</span>
                                            <span class="table-cell sect"><input title="@{spellclass-2-level-7-spells-per-day}" type="number" name="attr_spellclass-2-level-7-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-2-level-7-spells-per-day}" type="number" name="attr_spellclass-2-level-7-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-2-level-7-spells-per-day}" type="number" name="attr_spellclass-2-level-7-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-7-spells-per-day|max}" type="number" name="attr_spellclass-2-level-7-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-7-class}" type="text" name="attr_spellclass-2-level-7-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-7-bonus}" type="number" name="attr_spellclass-2-level-7-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-2-level-7-misc}" type="number" name="attr_spellclass-2-level-7-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-2-level-7-spells-known}" type="number" name="attr_spellclass-2-level-7-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-2-level-7-total-listed}" type="number" name="attr_spellclass-2-level-7-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-2-level-7-user}" type="number" name="attr_spellclass-2-level-7-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-2-level-8-savedc}" type="number" name="attr_spellclass-2-level-8-savedc" value="88" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="8-ordinal">8th</span>
                                            <span class="table-cell sect"><input title="@{spellclass-2-level-8-spells-per-day}" type="number" name="attr_spellclass-2-level-8-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-2-level-8-spells-per-day}" type="number" name="attr_spellclass-2-level-8-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-2-level-8-spells-per-day}" type="number" name="attr_spellclass-2-level-8-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-8-spells-per-day|max}" type="number" name="attr_spellclass-2-level-8-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-8-class}" type="text" name="attr_spellclass-2-level-8-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-8-bonus}" type="number" name="attr_spellclass-2-level-8-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-2-level-8-misc}" type="number" name="attr_spellclass-2-level-8-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-2-level-8-spells-known}" type="number" name="attr_spellclass-2-level-8-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-2-level-8-total-listed}" type="number" name="attr_spellclass-2-level-8-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-2-level-8-user}" type="number" name="attr_spellclass-2-level-8-user" value="0" /></span>
                                        </div>
                                        <div class="table-row">
                                            <span class="table-cell"><input title="@{spellclass-2-level-9-savedc}" type="number" name="attr_spellclass-2-level-9-savedc" value="99" class="calc" readonly /></span>
                                            <span class="table-cell right-border" data-i18n="9-ordinal">9th</span>
                                            <span class="table-cell sect"><input title="@{spellclass-2-level-9-spells-per-day}" type="number" name="attr_spellclass-2-level-9-spells-per-day" value="0" /></span>
                                            <span class="table-cell sect3 sect-inverse"><input title="@{spellclass-2-level-9-spells-per-day}" type="number" name="attr_spellclass-2-level-9-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="table-cell sect2 sect-inverse"><input title="@{spellclass-2-level-9-spells-per-day}" type="number" name="attr_spellclass-2-level-9-spells-per-day" value="0" class="calc" readonly /></span>
                                            <span class="divider">/</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-9-spells-per-day|max}" type="number" name="attr_spellclass-2-level-9-spells-per-day_max" value="0" class="calc" readonly /></span>
                                            <span class="divider">=</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-9-class}" type="text" name="attr_spellclass-2-level-9-class" value="" placeholder="-" class="number" /></span>
                                            <span class="divider">+</span>
                                            <span class="table-cell"><input title="@{spellclass-2-level-9-bonus}" type="number" name="attr_spellclass-2-level-9-bonus" value="0" class="calc" readonly /></span>
                                            <span class="divider advanced-spell-option">+</span>
                                            <span class="table-cell advanced-spell-option"><input title="@{spellclass-2-level-9-misc}" type="number" name="attr_spellclass-2-level-9-misc" value="0" /></span>
                                            <span class="table-cell sect2 left-border"><input title="@{spellclass-2-level-9-spells-known}" type="number" name="attr_spellclass-2-level-9-spells-known" value="0" /></span>
                                            <span class="table-cell sect2"><input title="@{spellclass-2-level-9-total-listed}" type="number" name="attr_spellclass-2-level-9-total-listed" value="0" class="calc" readonly /></span>
                                            <span class="table-cell advanced-spell-option left-border"><input title="@{spellclass-2-level-9-user}" type="number" name="attr_spellclass-2-level-9-user" value="0" /></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="cheat"></div>
                        <input class="showarrow h3arrow" type="checkbox" name="attr_spellclass-2-domains-show" data-i18n-aria-label="domains" data-i18n-title="showsect-cmd" value="1" checked />
                        <h3 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="domains">Domains</label></h3>
                        <div class="h3-section domains wide-readonly col col1">
                            <div class="table hasexpandrows">
                                <span class="table-name secondary-table-name show-readonly" data-i18n="known-or-special">Known / Specialties</span>
                                <div class="table-row">
                                    <span class="table-header" data-i18n="name">Name</span>
                                    <span class="table-header" data-i18n="type">Type</span>
                                    <span class="table-header" data-i18n="bonus">Bonus</span>
                                    <span class="table-header" data-i18n="opposition">Opposition</span>
                                    <span class="table-header" data-i18n="effect">Effect</span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><input title="@{spellclass-2-domain-0}" type="text" name="attr_spellclass-2-domain-0" value="" data-i18n-placeholder="name" /></span>
                                    <span class="table-cell"><input title="@{spellclass-2-domaintype-0}" type="text" name="attr_spellclass-2-domaintype-0" value="" data-i18n-placeholder="domain-etc-type-example" /></span>
                                    <span class="table-cell"><input title="@{spellclass-2-domainbonus-0}" type="text" name="attr_spellclass-2-domainbonus-0" value="" data-i18n-placeholder="bonus" /></span>
                                    <span class="table-cell"><input title="@{spellclass-2-oppositionschool-0}" type="text" name="attr_spellclass-2-oppositionschool-0" value="" data-i18n-placeholder="name" /></span>
                                    <span class="table-cell"><input title="@{spellclass-2-oppositioneffect-0}" type="text" name="attr_spellclass-2-oppositioneffect-0" value="" data-i18n-placeholder="opposition-school-example" /></span>
                                </div>
                                <input type="checkbox" class="showarrow sect-show expand-arrow expand1" name="attr_domain02_show" value="1" title="Show more domains/schools" aria-label="Show more domains/schools" /><span class="showsect"></span>
                                <div class="table-row sect">
                                    <span class="table-cell"><input title="@{spellclass-2-domain-1}" type="text" name="attr_spellclass-2-domain-1" value="" data-i18n-placeholder="name" /></span>
                                    <span class="table-cell"><input title="@{spellclass-2-domaintype-1}" type="text" name="attr_spellclass-2-domaintype-1" value="" data-i18n-placeholder="domain-etc-type-example" /></span>
                                    <span class="table-cell"><input title="@{spellclass-2-domainbonus-1}" type="text" name="attr_spellclass-2-domainbonus-1" value="" data-i18n-placeholder="bonus" /></span>
                                    <span class="table-cell"><input title="@{spellclass-2-oppositionschool-1}" type="text" name="attr_spellclass-2-oppositionschool-1" value="" data-i18n-placeholder="name" /></span>
                                    <span class="table-cell"><input title="@{spellclass-2-oppositioneffect-1}" type="text" name="attr_spellclass-2-oppositioneffect-1" value="" data-i18n-placeholder="opposition-school-example" /></span>
                                </div>
                                <input type="checkbox" class="showarrow sect2-show sect expand-arrow expand2" name="attr_domain03_show" value="1" title="Show more domains/schools" aria-label="Show more domains/schools" /><span class="showsect sect"></span>
                                <div class="table-row sect sect2">
                                    <span class="table-cell"><input title="@{spellclass-2-domain-2}" type="text" name="attr_spellclass-2-domain-2" value="" data-i18n-placeholder="name" /></span>
                                    <span class="table-cell"><input title="@{spellclass-2-domaintype-2}" type="text" name="attr_spellclass-2-domaintype-2" value="" data-i18n-placeholder="domain-etc-type-example" /></span>
                                    <span class="table-cell"><input title="@{spellclass-2-domainbonus-2}" type="text" name="attr_spellclass-2-domainbonus-2" value="" data-i18n-placeholder="bonus" /></span>
                                    <span class="table-cell"><input title="@{spellclass-2-oppositionschool-2}" type="text" name="attr_spellclass-2-oppositionschool-2" value="" data-i18n-placeholder="name" /></span>
                                    <span class="table-cell"><input title="@{spellclass-2-oppositioneffect-2}" type="text" name="attr_spellclass-2-oppositioneffect-2" value="" data-i18n-placeholder="opposition-school-example" /></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cheat"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_spelloptions-show" data-i18n-aria-label="spell-roll-options" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="spell-roll-options">Spell Roll Options</label></h2>
                <div class="h2-section table spell-options options named hide-readonly">
                    <span class="table-name"><b data-i18n="include-spell-info">Include these attributes with each spell roll?</b></span>
                    <div class="table-row">
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_school_notes" value="1" title="@{toggle_spell_school_notes}" checked /><b data-i18n-title="options-spell-school-title" data-i18n-aria-label="options-spell-school-title" data-i18n="school"> School</b></label></span>
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_level_notes" value="1" title="@{toggle_spell_level_notes}" checked /><b data-i18n-title="options-spell-level-title" data-i18n-aria-label="options-spell-level-title" data-i18n="spell-level"> Spell Level</b></label></span>
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_casting_time_notes" value="1" title="@{toggle_spell_casting_time_notes}" checked /><b data-i18n-title="options-spell-casting-time-title" data-i18n-aria-label="options-spell-casting-time-title" data-i18n="casting-time"> Casting Time</b></label></span>
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_components_notes" value="1" title="@{toggle_spell_components_notes}" checked /><b data-i18n-title="options-spell-comp-title" data-i18n-aria-label="options-spell-comp-title" data-i18n="spell-components"> Components</b></label></span>
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_range_notes" value="1" title="@{toggle_spell_range_notes}" checked /><b data-i18n-title="options-spell-range-title" data-i18n-aria-label="options-spell-range-title" data-i18n="range"> Range</b></label></span>
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_targets_notes" value="1" title="@{toggle_spell_targets_notes}" checked /><b data-i18n-title="options-spell-target-title" data-i18n-aria-label="options-spell-target-title" data-i18n="target"> Target</b></label></span>
                    </div>
                    <div class="table-row">
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_duration_notes" value="1" title="@{toggle_spell_duration_notes}" checked /><b data-i18n-title="options-spell-duration-title" data-i18n-aria-label="options-spell-duration-title" data-i18n="duration"> Duration</b></label></span>
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_saving_throw_notes" value="1" title="@{toggle_spell_saving_throw_notes}" checked /><b data-i18n-title="options-spell-save-title" data-i18n-aria-label="options-spell-save-title" data-i18n="saving-throw"> Saving Throw</b></label></span>
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_dc_notes" value="1" title="@{toggle_spell_dc_notes}" checked /><b data-i18n-title="options-spell-dc-title" data-i18n-aria-label="options-spell-dc-title" data-i18n="difficulty-class-abbrv"> DC</b></label></span>
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_sr_notes" value="1" title="@{toggle_spell_sr_notes}" checked /><b data-i18n-title="options-spell-sr-title" data-i18n-aria-label="options-spell-sr-title" data-i18n="spell-resistance-abbrv"> SR</b></label></span>
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_spellPen_check" value="1" title="@{toggle_spell_spellPen_check}" checked /><b data-i18n-title="options-spell-spell-penetration-chk-title" data-i18n-aria-label="options-spell-spell-penetration-chk-title" data-i18n="spell-penetration-check"> Spell Penetration Check</b></label></span>
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_description_notes" value="1" title="@{toggle_spell_description_notes}" checked /><b data-i18n-title="options-spell-desc-title" data-i18n-aria-label="options-spell-desc-title" data-i18n="description"> Description</b></label></span>
                    </div>
                    <div class="table-row">
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_spell_fail_check" value="1" title="@{toggle_spell_spell_fail_check}" checked /><b data-i18n-title="options-spell-spellfail-chk-title" data-i18n-aria-label="options-spell-spellfail-chk-title" data-i18n="spell-failure-chk"> Spell Failure Check</b></label></span>
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_casterlevel_notes" value="1" title="@{toggle_spell_casterlevel_notes}" checked /><b data-i18n-title="options-spell-caster-level-title" data-i18n-aria-label="options-spell-caster-level-title" data-i18n="caster-level"> Caster Level</b></label></span>
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_casterlevel_check" value="1" title="@{toggle_spell_casterlevel_check}" checked /><b data-i18n-title="options-spell-caster-level-chk-title" data-i18n-aria-label="options-spell-caster-level-chk-title" data-i18n="caster-level-check"> Caster Level Check</b></label></span>
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_concentration_notes" value="1" title="@{toggle_spell_Concentration_notes}" /><b data-i18n-title="options-spell-concentration-title" data-i18n-aria-label="options-spell-concentration-title" data-i18n="concentration"> Concentration</b></label></span>
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_concentration_check" value="1" title="@{toggle_spell_Concentration_check}" /><b data-i18n-title="options-spell-concentration-chk-title" data-i18n-aria-label="options-spell-concentration-chk-title" data-i18n="concentration-check"> Concentration Check</b></label></span>
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_damage_notes" value="1" title="@{toggle_spell_damage_notes}" checked /><b data-i18n-title="options-spell-damage-title" data-i18n-aria-label="options-spell-damage-title" data-i18n="spell-damage"> Spell Damage</b></label></span>
                    </div>
                    <div class="table-row">
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spell_spellnotes_notes" value="1" title="@{toggle_spell_spellnotes_notes}" checked /><b data-i18n-title="options-spell-notes-title" data-i18n-aria-label="options-spell-notes-title" data-i18n="spells-notes"> Spells Notes</b></label></span>
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_spellmenu_groupby_school" value="1" title="@{spellmenu_groupby_school}" /><b data-i18n-title="group-by-school-desc" data-i18n-aria-label="group-by-school-desc" data-i18n="group-by-school"> Group by school</b></label></span>
                        <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_spellmenu_show_uses" value="1" title="@{spellmenu_show_uses}" /><b data-i18n-title="show-uses-spell-desc" data-i18n-aria-label="show-uses-spell-desc" data-i18n="show-uses"> Show Uses</b></label></span>
                        <span class="table-cell small-label"> </span>
                        <span class="table-cell small-label"> </span>
                        <span class="table-cell small-label"> </span>
                    </div>
                </div>
                <div class="cheat"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_spell-lists-show" data-i18n-aria-label="spell-lists" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="spell-lists">Spell Lists</label></h2>
                <div class="h2-section repeating-sect spells-h2section wide-readonly">
                    <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" data-i18n-aria-label="minimize-all-cmd" title="Minimize all rows." name="attr_newspells-min-show" value="1" /><span></span>
                    <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" data-i18n-aria-label="expand-cmd" title="Collapse or expand all rows." name="attr_newspells-expand-show" value="1" /><span></span>
                    <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" data-i18n-aria-label="column-cmd" title="Split into two columns" name="attr_newspells-column-show" value="1" /><span></span>
                    <input class="deletebutton cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_spells_btn" value="1" data-i18n-title="delete-spells" data-i18n-aria-label="delete-spells-must-confirm-next-checkbox" /><span></span><label class="deletesect allrows-note"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_spells" data-i18n-aria-label="confirm-delete-spells" data-i18n-title="confirm-delete-spells" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                    <span class="compendium-note hide-readonly">
                        <span class="compendium-icon">i</span>
                        <span class="vertical-middle" data-i18n-title="compendium-drag-n-drop-desc" data-i18n-aria-label="compendium-drag-n-drop-desc" data-i18n="compendium-drag-drop-compatible"> Compendium drag-n-drop compatible </span>
                        <span class="drag-icon">&#9111;</span>
                    </span>
                    <div class="spellsnav tabs custbordernav" role="menubar" aria-label="Spells by Level" data-i18n-aria-label="spells-by-level"></div>
                    <input type="radio" class="tabinput tab0" name="attr_spells_tab" value="0" data-i18n-aria-label="level-0-spells" data-i18n-title="cantrips" />
                    <label role="menuitem" class="tab tab0" data-i18n-title="cantrips" data-i18n-aria-label="cantrips" title="Cantrips" data-i18n="cantrips">Cantrips</label>
                    <input type="radio" class="tabinput tab1" name="attr_spells_tab" value="1" data-i18n-aria-label="level-1-spells" data-i18n-title="level-1-ordinal" />
                    <label role="menuitem" class="tab tab1" data-i18n-title="level-1-ordinal" data-i18n="1-ordinal">1st Level</label>
                    <input type="radio" class="tabinput tab2" name="attr_spells_tab" value="2" data-i18n-aria-label="level-2-spells" data-i18n-title="level-2-ordinal" />
                    <label role="menuitem" class="tab tab2" data-i18n-title="level-2-ordinal" data-i18n="2-ordinal">2nd Level</label>
                    <input type="radio" class="tabinput tab3" name="attr_spells_tab" value="3" data-i18n-aria-label="level-3-spells" data-i18n-title="level-3-ordinal" />
                    <label role="menuitem" class="tab tab3" data-i18n-title="level-3-ordinal" data-i18n="3-ordinal">3rd Level</label>
                    <input type="radio" class="tabinput tab4" name="attr_spells_tab" value="4" data-i18n-aria-label="level-4-spells" data-i18n-title="level-4-ordinal" />
                    <label role="menuitem" class="tab tab4" data-i18n-title="level-4-ordinal" data-i18n="4-ordinal">4th Level</label>
                    <input type="radio" class="tabinput tab5" name="attr_spells_tab" value="5" data-i18n-aria-label="level-5-spells" data-i18n-title="level-5-ordinal" />
                    <label role="menuitem" class="tab tab5" data-i18n-title="level-5-ordinal" data-i18n="5-ordinal">5th Level</label>
                    <input type="radio" class="tabinput tab6" name="attr_spells_tab" value="6" data-i18n-aria-label="level-6-spells" data-i18n-title="level-6-ordinal" />
                    <label role="menuitem" class="tab tab6" data-i18n-title="level-6-ordinal" data-i18n="6-ordinal">6th Level</label>
                    <input type="radio" class="tabinput tab7" name="attr_spells_tab" value="7" data-i18n-aria-label="level-7-spells" data-i18n-title="level-7-ordinal" />
                    <label role="menuitem" class="tab tab7" data-i18n-title="level-7-ordinal" data-i18n="7-ordinal">7th Level</label>
                    <input type="radio" class="tabinput tab8" name="attr_spells_tab" value="8" data-i18n-aria-label="level-8-spells" data-i18n-title="level-8-ordinal" />
                    <label role="menuitem" class="tab tab8" data-i18n-title="level-8-ordinal" data-i18n="8-ordinal">8th Level</label>
                    <input type="radio" class="tabinput tab9" name="attr_spells_tab" value="9" data-i18n-aria-label="level-9-spells" data-i18n-title="level-9-ordinal" />
                    <label role="menuitem" class="tab tab9" data-i18n-title="level-9-ordinal" data-i18n="9-ordinal">9th Level</label>
                    <input type="radio" class="tabinput tab99" name="attr_spells_tab" value="99" data-i18n-aria-label="all" data-i18n-title="all" checked />
                    <label role="menuitem" class="tab tab99" data-i18n-title="all" data-i18n-aria-label="all" title="All" data-i18n="all">All</label>
                    <span class="nontable-name"> </span>
                    <input type="checkbox" class="selectedlabel-check advanced-spell-option-show" name="attr_extra_fields_spells_show" title="@{extra_fields_spells_show}" value="1" /><b data-i18n="show-more-fields">Show more fields</b>
                    <div class="cheat"></div>
                    <input type="checkbox" class="mythic-show" name="attr_mythic-adventures-show" value="1" role="presentation" />
                    <input type="checkbox" value="1" class="subsect2-show noshow" name="attr_spellclass-0-casting_type" role="presentation" aria-label="spontaneous spellcasting" />
                    <input type="checkbox" value="2" class="subsect3-show noshow" name="attr_spellclass-0-casting_type" role="presentation" aria-label="prepared spellcasting" />
                    <div class="spells repeating-fields hiderepborder">
                        <input type="checkbox" class="use-metrics noshow" name="attr_use_metrics" value="1" />
                        <fieldset class="repeating_spells">
                            <span class="error"><span class="pictos">!</span><span data-i18n="error-delete-row">Error! You must delete this row before editing any items in this section.</span></span>
                            <input type="radio" name="attr_spell_level_r" value="-1" class="tabcopy custnavsection-new" checked role="presentation" />
                            <input type="radio" name="attr_spell_level_r" value="0" class="tabcopy custnavsection-0" role="presentation" />
                            <input type="radio" name="attr_spell_level_r" value="1" class="tabcopy custnavsection-1" role="presentation" />
                            <input type="radio" name="attr_spell_level_r" value="2" class="tabcopy custnavsection-2" role="presentation" />
                            <input type="radio" name="attr_spell_level_r" value="3" class="tabcopy custnavsection-3" role="presentation" />
                            <input type="radio" name="attr_spell_level_r" value="4" class="tabcopy custnavsection-4" role="presentation" />
                            <input type="radio" name="attr_spell_level_r" value="5" class="tabcopy custnavsection-5" role="presentation" />
                            <input type="radio" name="attr_spell_level_r" value="6" class="tabcopy custnavsection-6" role="presentation" />
                            <input type="radio" name="attr_spell_level_r" value="7" class="tabcopy custnavsection-7" role="presentation" />
                            <input type="radio" name="attr_spell_level_r" value="8" class="tabcopy custnavsection-8" role="presentation" />
                            <input type="radio" name="attr_spell_level_r" value="9" class="tabcopy custnavsection-9" role="presentation" />
                            <input type="radio" name="attr_spell_class_r" value="-1" class="tabcopy section-spellclass-1" role="presentation" />
                            <input type="radio" name="attr_spell_class_r" value="0" class="tabcopy section-spellclass0" checked role="presentation" />
                            <input type="radio" name="attr_spell_class_r" value="1" class="tabcopy section-spellclass1" role="presentation" />
                            <input type="radio" name="attr_spell_class_r" value="2" class="tabcopy section-spellclass2" role="presentation" />
                            <input type="checkbox" name="attr_prepared_state" value="1" class="section-state" role="presentation" />
                            <div class="custrepeating-border nontable-repeating background-color1 compendium-drop-target Spells">
                                <input type="checkbox" class="toggle-casting-type noshow" name="attr_toggle_casting_type" value="1" />
                                <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" data-i18n-aria-label="minimize-cmd" title="Minimize Row" name="attr_row-show" value="1" checked /><span></span>
                                <span class="repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_spells_$X_roll}" value="@{macro-text}"></button></span>
                                <label class="small-label2 narrow-numbers">
                                    <input title="@{repeating_spells_$X_used}" type="number" name="attr_used" value="0">
                                    <span class="prepared" style="margin-left:-.5em;" data-i18n-title="number-prepared-title" data-i18n-aria-label="number-prepared-title" data-i18n="number-prepared">#Prep</span>
                                    <span class="spontaneous" style="margin-left:-.5em;" data-i18n-title="number-used-title" data-i18n="number-used">#Used</span>
                                </label>
                                <label class="small-label2 narrow-numbers prepared">
                                    <input title="@{repeating_spells_$X_cast}" type="number" name="attr_cast" value="0">
                                    <span style="margin-left:-.5em;" data-i18n-title="number-used-title" data-i18n="number-cast">#Cast</span>
                                </label>
                                <label class="small-label2 entry-25p"><input title="@{repeating_spells_$X_name}" type="text" value="" name="attr_name" data-i18n-placeholder="spell-name" accept="Name"><span data-i18n="name">Name</span></label>
                                <label class="small-label2 entry-short sect spell-multiclassed">
                                    <select class="select-small" title="@{repeating_spells_$X_spellclass_number}" name="attr_spellclass_number">
                                        <option value="0" data-i18n="1-ordinal-spellclass" selected>1st Spellcasting Class</option>
                                        <option value="1" data-i18n="2-ordinal-spellclass">2nd Spellcasting Class</option>
                                        <option value="2" data-i18n="3-ordinal-spellclass">3rd Spellcasting Class</option>
                                    </select>
                                    <span data-i18n="class">Class</span>
                                </label>
                                <label class="small-label2 spell-multiclassed entry-8p"><input title="@{repeating_spells_$X_spellclass}" type="text" value="" name="attr_spellclass" class="calc" readonly /><span data-i18n="class">Class</span></label>
                                <label class="small-label2">
                                    <select title="@{repeating_spells_$X_spell_level}" name="attr_spell_level">
                                        <option value="0" selected>0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                    </select>
                                    <span data-i18n="level">Level</span>
                                </label>
                                <input type="checkbox" name="attr_metamagic" value="1" class="nextitem-show" role="presentation" />
                                <label class="small-label2 slot nextitem">
                                    <select title="@{repeating_spells_$X_slot}" name="attr_slot">
                                        <option value="0" selected>0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                    </select>
                                    <span data-i18n="slot">Slot</span>
                                </label>
                                <label class="small-label2 narrow-numbers"><input title="@{repeating_spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="calc" readonly /><span data-i18n="difficulty-class-abbrv">DC</span></label>
                                <label class="small-label2 entry-12p-shrink autoexpand"><input title="@{repeating_spells_$X_school}" type="text" value="" name="attr_school" data-i18n-placeholder="spell-school-place" accept="School"><span data-i18n="school">School</span><span name="attr_school" class="autoexpand"></span></label>
                                <label class="small-label2 entry-short">
                                    <select title="@{repeating_spells_$X_sr}" name="attr_sr" accept="Spell Resistance" class="select-small">
                                        <option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                        <option value="Yes" data-i18n="yes">Yes</option>
                                        <option value="No" data-i18n="no">No</option>
                                        <option value="Yes (Harmless)" data-i18n="yes-harmless">Yes (Harmless)</option>
                                        <option value="Yes (Object)" data-i18n="yes-object">Yes (Object)</option>
                                        <option value="Yes (Harmless, Object)" data-i18n="yes-harmless-object">Yes (Harmless, Object)</option>
                                    </select>
                                    <span data-i18n="spell-resistance-abbrv">SR</span>
                                </label>
                                <label class="small-label2 entry-10p-shrink autoexpand"><input title="@{repeating_spells_$X_save}" type="text" value="" name="attr_save" data-i18n-placeholder="save-effect" accept="Saving Throw"><span data-i18n="save">Save</span><span name="attr_save" class="autoexpand"></span></label>
                                <label class="small-label2 entry-short">
                                    <select class="select-small" title="@{repeating_spells_$X_range_pick}" name="attr_range_pick">
                                        <option value="blank" data-i18n="blank" selected>Blank</option>
                                        <option value="close" data-i18n="close">Close</option>
                                        <option value="medium" data-i18n="medium">Medium</option>
                                        <option value="long" data-i18n="long">Long</option>
                                        <option value="touch" data-i18n="touch">Touch</option>
                                        <option value="personal" data-i18n="personal">Personal</option>
                                        <option value="see_text" data-i18n="see_text">See text</option>
                                        <option value="number" data-i18n="number">Number</option>
                                        <option value="perlevel" data-i18n="perlevel">Per Level</option>
                                        <option value="unknownrange" data-i18n="unknownrange">Unknown Range</option>
                                    </select>
                                    <span data-i18n="range">Range</span>
                                </label>
                                <input type="checkbox" value="number" name="attr_range_pick" class="or-A-show noshow" />
                                <input type="checkbox" value="perlevel" name="attr_range_pick" class="or-B-show noshow" />
                                <input type="checkbox" value="close" name="attr_range_pick" class="or-C-show noshow" />
                                <input type="checkbox" value="medium" name="attr_range_pick" class="or-D-show noshow" />
                                <input type="checkbox" value="long" name="attr_range_pick" class="or-E-show noshow" />
                                <label class="small-label2 entry-8p-shrink sect either-or-sect">
                                    <input type="text" value="" name="attr_range" title="@{repeating_spells_$X_range}" data-i18n-placeholder="range-custom-place" />
                                    <span class="nowrap" data-i18n-title="range-per-level-desc" data-i18n-aria-label="range-per-level-desc" data-i18n="range-custom">Custom Range</span>
                                </label>
                                <label class="small-label2 or5-sect sect number">
                                    <input title="@{repeating_spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" placeholder="0" class="calc" readonly />
                                    <span class="distance-used" data-i18n="range">Range</span>
                                </label>
                                <label class="small-label2 entry-15p-shrink sect autoexpand"><input title="@{repeating_spells_$X_targets}" type="text" value="" name="attr_targets" data-i18n-placeholder="spell-targets-area-effect" /><span data-i18n="spell-targets-area-effect">Targets/Area/Effect</span><span name="attr_targets" class="autoexpand"></span></label>
                                <label class="small-label2 entry-12p-shrink sect autoexpand"><input title="@{repeating_spells_$X_duration}" type="text" value="" name="attr_duration" data-i18n-placeholder="duration" accept="Duration" /><span data-i18n="duration">Duration</span><span name="attr_duration" class="autoexpand"></span></label>
                                <label class="small-label2 entry-8p sect autoexpand"><input title="@{repeating_spells_$X_cast-time}" type="text" value="" name="attr_cast-time" data-i18n-placeholder="spell-casting-time-place" accept="Casting Time" /><span data-i18n="casting-time-abbrv">Cast Time</span><span name="attr_cast-time" class="autoexpand"></span></label>
                                <label class="small-label2 entry-10p-shrink sect autoexpand"><input title="@{repeating_spells_$X_components}" type="text" value="" name="attr_components" data-i18n-placeholder="spell-components" accept="Components"><span data-i18n="spell-components">Components</span><span name="attr_components" class="autoexpand"></span></label>
                                <div style="display:none;">
                                    <input type="text" value="" name="attr_range_from_compendium" accept="Range" />
                                    <input type="text" value="" name="attr_spell_lvlstr" accept="Level" />
                                    <input type="text" value="" name="attr_target_from_compendium" accept="Target" />
                                    <input type="text" value="" name="attr_area_from_compendium" accept="Area" />
                                    <input type="text" value="" name="attr_effect_from_compendium" accept="Effect" />
                                    <input type="text" value="" name="attr_compendium_category" accept="Category" />
                                </div>
                                <div class="sect expand">
                                    <input type="checkbox" class="showarrow misc-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Miscellaneous" name="attr_misc-show" value="1" />
                                    <label class="showsect misc-showlabel" data-i18n="miscellaneous-abbrv">Misc</label>
                                    <input type="checkbox" class="showarrow desc-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Description" name="attr_description-show" value="1" />
                                    <label class="showsect desc-showlabel" data-i18n="description">Description</label>
                                    <input type="checkbox" class="showarrow macro-text-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1" />
                                    <label class="showsect macro-text-showlabel super note-d" data-i18n="macro-text">Macro Text</label>
                                    <input type="checkbox" class="showarrow attack-damage-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show attack and damage fields" name="attr_attack-show" value="1" />
                                    <label class="showsect attack-damage-showlabel" data-i18n="attack-and-damage">Attack and Damage</label>
                                    <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1" />
                                    <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                    <hr class="subnav-hr">
                                    <div class="cheat"></div>
                                    <div class="nontable misc">
                                        <label class="small-label2 entry-short"><input title="@{repeating_spells_$X_metamagic}" type="checkbox" value="1" name="attr_metamagic" /><span data-i18n-title="metamagic-title" data-i18n-aria-label="metamagic-title" title="Click to show spell slot field to differentiate slot from spell level." data-i18n="metamagic">Meta Magic</span></label>
                                        <label class="small-label2 number"><input title="@{repeating_spells_$X_isDomain}" type="checkbox" value="1" name="attr_isDomain" /><span data-i18n="spell-domain-chk">Domain</span></label>
                                        <label class="small-label2 number section-mythic"><input title="@{repeating_spells_$X_isMythic}" type="checkbox" value="1" name="attr_isMythic" /><span data-i18n="spell-mythic-chk">Mythic</span></label>
                                        <span class="divider-db-lg advanced-spell-option">|</span>
                                        <label class="small-label2 number advanced-spell-option"><input title="@{repeating_spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc" data-i18n-placeholder="caster-level-modifier-abbrv" /><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></label>
                                        <label class="small-label2 number advanced-spell-option"><input title="@{repeating_spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="calc" readonly /><span data-i18n="caster-level-abbrv">CL</span></label>
                                        <span class="divider-db-lg advanced-spell-option">|</span>
                                        <label class="small-label2 entry-vshort advanced-spell-option"><input title="@{repeating_spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" /><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></label>
                                        <label class="small-label2 number advanced-spell-option"><input title="@{repeating_spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="calc" readonly=""><span data-i18n="difficulty-class-abbrv">DC</span></label>
                                        <span class="divider-db-lg advanced-spell-option">|</span>
                                        <label class="small-label2 advanced-spell-option"><input title="@{repeating_spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc" data-i18n-placeholder="spell-penetration-modifier-abbrv" /><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></label>
                                        <label class="small-label2 number advanced-spell-option"><input title="@{repeating_spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="calc" readonly /><span data-i18n="spell-penetration-abbrv-short">SP</span></label>
                                        <span class="divider-db-lg">|</span>
                                        <label class="small-label2 entry-short advanced-spell-option"><input title="@{repeating_spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /><span data-i18n="concentration-miscellaneous-abbrv">Conc Misc</span></label>
                                        <label class="small-label2 number"><input title="@{repeating_spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="calc" readonly /><span data-i18n="concentration-abbrv">Conc</span></label>
                                    </div>
                                    <div class="attack-damage non-table sect expand">
                                        <label class="small-label2" style="width:5em;">
                                            <input type="checkbox" name="attr_create-attack-entry" value="1" class="cssbutton createattackbutton" data-i18n-title="create-spell-attack-entry" data-i18n-aria-label="create-spell-attack-entry"><span></span>
                                            <span data-i18n-title="create-spell-attack-entry" data-i18n-aria-label="create-spell-attack-entry" data-i18n="create-attack">Create Attack</span>
                                        </label>
                                        <input type="number" name="attr_toggle_attack_entry" value="1" class="noshow" />
                                        <label class="small-label2 entry-short">
                                            <select class="select-small" title="@{repeating_spells_$X_spell-attack-type}" name="attr_spell-attack-type">
                                                <option value="0" data-i18n="none-default" selected>&#8226;None</option>
                                                <option value="attk-melee" data-i18n="touch">Touch</option>
                                                <option value="attk-ranged" data-i18n="ranged-touch-ray">Ranged touch/Ray</option>
                                                <option value="CMB" data-i18n="combat-maneuver-bonus-abbrv">CMB</option>
                                                <option value="attk-melee2" data-i18n="touch-melee2">Touch (melee 2)</option>
                                                <option value="attk-ranged2" data-i18n="ranged-touch-ray2">Alt Ranged Touch/Ray</option>
                                                <option value="CMB2" data-i18n="combat-maneuver-bonus-abbrv2">CMB2</option>
                                            </select>
                                            <span data-i18n="attack-type">Attack Type</span>
                                        </label>
                                        <label class="small-label2 entry-med">
                                            <input type="text" class="macro-text-inline" name="attr_damage-macro-text" title="@{repeating_spells_$X_damage-macro-text}" data-i18n-placeholder="full-macro-place" />
                                            <span class="super note-b" data-i18n="damage">Damage</span>
                                        </label>
                                        <label class="small-label2 entry-15p-shrink autoexpand">
                                            <input type="text" name="attr_damage-type" value="p/b/s...?" title="@{repeating_spells_$X_damage-type}" data-i18n-placeholder="damage-type" />
                                            <span data-i18n="damage-type">Damage Type</span><span name="attr_damage-type" class="autoexpand"></span>
                                        </label>
                                    </div>
                                    <textarea class="desc" title="@{repeating_spells_$X_description}" name="attr_description" accept="Content"></textarea>
                                    <div class="macro-text">
                                        <span style="display:inline-block;margin-top:0.25em;"><span data-i18n="options">Options</span>:</span>
                                        <input class="calc" style="width:90%;float:right;margin:0.2rem;" type="text" name="attr_spell_options" value="{{school=@{school}}}{{duration=@{duration}}}{{range=@{range_numeric}}}{{targets=@{targets}}}{{dc=[[ @{savedc} ]]}}{{level=@{spell_level}}}{{spellclass=@{spellclass}}}{{sr=@{sr}}}{{saving_throw=@{save}}}{{condition_note=@{condition_spell_notes}}}" readonly />
                                        <textarea class="macro-text" title="@{repeating_spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} @{toggle_spell_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{deafened_note=@{SpellFailureNote}}} @{spell_options} </textarea>
                                        <textarea style="display:none;" class="macro-text" title="@{repeating_spells_$X_npc-macro-text}" name="attr_npc-macro-text">@{NPC-whisper}  &{template:pf_spell} @{toggle_spell_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{deafened_note=@{SpellFailureNote}}} @{spell_options}</textarea>
                                    </div>
                                    <div class="repeating-id">
                                        <label class="small-label2 nextitem">
                                            <input class="selectable calc" name="attr_row_id" readonly />
                                            <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div>
            <div class="section6 section section-equipment" role="region" aria-label="Equipment" data-i18n-aria-label="equipment">
                <div class="cheat show-readonly inverse-readonly"></div>
                <h1 class="selected-tabtitle" data-i18n="equipment">Equipment</h1>
                <input type="checkbox" class="use-metrics noshow" name="attr_use_metrics" value="1" />
                <div class="col col1 equipment">
                    <div class="cheat"></div>
                    <input class="showarrow h2arrow" type="checkbox" name="attr_currency-show" data-i18n-aria-label="currency" data-i18n-title="showsect-cmd" value="1" checked />
                    <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="currency">Currency</label></h2>
                    <div class="h2-section currency">
                        <div class="table wide-numbers carried-currency">
                            <span class="table-name secondary-table-name show-readonly" data-i18n-title="carried-currency-title" data-i18n-aria-label="carried-currency-title" data-i18n="carried-currency">Carried Currency</span>
                            <div class="table-row">
                                <span class="table-cell" style="width:10%;"><img style="vertical-align:middle;" alt="image of coin purse" src="http://i.imgur.com/F7USUqg.png"></span>
                                <span class="table-cell"><label data-i18n-title="copper-pieces" data-i18n-aria-label="copper-pieces" data-i18n="copper-pieces-abbrv" style="width:10%;min-width:2em;"> CP</label><input title="@{CP}" type="number" name="attr_CP" value="0"></span>
                                <span class="table-cell"><label data-i18n-title="silver-pieces" data-i18n-aria-label="silver-pieces" data-i18n="silver-pieces-abbrv" style="width:10%;min-width:2em;"> SP</label><input title="@{SP}" type="number" name="attr_SP" value="0"></span>
                                <span class="table-cell"><label data-i18n-title="gold-pieces" data-i18n-aria-label="gold-pieces" data-i18n="gold-pieces-abbrv" style="width:10%;min-width:2em;"> GP</label><input title="@{GP}" type="number" name="attr_GP" value="0"></span>
                                <span class="table-cell"><label data-i18n-title="platinum-pieces" data-i18n-aria-label="platinum-pieces" data-i18n="platinum-pieces-abbrv" style="width:10%;min-width:2em;"> PP</label><input title="@{PP}" type="number" name="attr_PP" value="0"></span>
                            </div>
                        </div>
                        <div class="table wide-numbers other-currency">
                            <span class="table-name secondary-table-name show-readonly" data-i18n-title="other-currency-title" data-i18n-aria-label="other-currency-title" data-i18n="other-currency">Other Currency</span>
                            <div class="table-row">
                                <span class="table-cell" style="width:10%;"><img style="vertical-align:middle;" alt="image of treasure chest" src="http://i.imgur.com/rnuQ6SJ.png"></span>
                                <span class="table-cell"><label data-i18n-title="copper-pieces" data-i18n-aria-label="copper-pieces" data-i18n="copper-pieces-abbrv" style="width:10%;min-width:2em;"> CP</label><input title="@{other-CP}" type="number" name="attr_other-CP" value="0"></span>
                                <span class="table-cell"><label data-i18n-title="silver-pieces" data-i18n-aria-label="silver-pieces" data-i18n="silver-pieces-abbrv" style="width:10%;min-width:2em;"> SP</label><input title="@{other-SP}" type="number" name="attr_other-SP" value="0"></span>
                                <span class="table-cell"><label data-i18n-title="gold-pieces" data-i18n-aria-label="gold-pieces" data-i18n="gold-pieces-abbrv" style="width:10%;min-width:2em;"> GP</label><input title="@{other-GP}" type="number" name="attr_other-GP" value="0"></span>
                                <span class="table-cell"><label data-i18n-title="platinum-pieces" data-i18n-aria-label="platinum-pieces" data-i18n="platinum-pieces-abbrv" style="width:10%;min-width:2em;"> PP</label><input title="@{other-PP}" type="number" name="attr_other-PP" value="0"></span>
                            </div>
                        </div>
                    </div>
                    <div class="cheat"></div>
                    <input class="showarrow h2arrow" type="checkbox" name="attr_carried-weight-show" data-i18n-aria-label="carried-weight" data-i18n-title="showsect-cmd" value="1" checked />
                    <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="encumbrance">Encumbrance</label></h2>
                    <div class="h2-section current-loads">
                        <div class="table wide-numbers carried-totals">
                            <span class="table-name show-readonly secondary-table-name weight-used" data-i18n="carried-weight">Carried Weight</span>
                            <div class="table-row">
                                <span class="table-header">
                                    <span data-i18n-title="carried-currency" data-i18n-aria-label="carried-currency" data-i18n="currency" title="Carried Currency" aria-label="Carried Currency">Currency</span>
                                    <input type="checkbox" name="attr_carried-currency-toggle" title="@{carried-currency-toggle}" value="1" checked />
                                </span>
                                <span class="table-header hide-readonly"></span>
                                <span class="table-header" data-i18n-title="carried-equipment" data-i18n-aria-label="carried-equipment" data-i18n="equipment-abbrv">Equip</span>
                                <span class="table-header hide-readonly"></span>
                                <span class="table-header" title="Miscellaneous weight. Player configurable" data-i18n="miscellaneous-abbrv">Misc</span>
                                <span class="table-header hide-readonly"></span>
                                <span class="table-header" data-i18n-title="total-weight-title" data-i18n-aria-label="total-weight-title" data-i18n="total">Total</span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell"><input title="@{carried-currency}" type="number" name="attr_carried-currency" value="0" class="calc" readonly /></span>
                                <span class="divider-lg">+</span>
                                <span class="table-cell">
                                    <input title="@{item_total_weight}" type="number" name="attr_item_total_weight" value="0" class="calc" readonly />
                                    <input title="@{carried-equipment}" type="hidden" class="number" name="attr_carried-equipment" value="@{item_total_weight}" disabled />
                                </span>
                                <span class="divider-lg">+</span>
                                <span class="table-cell"><input title="@{carried-misc}" type="number" name="attr_carried-misc" value="0" /></span>
                                <span class="divider-lg">=</span>
                                <span class="table-cell"><input title="@{carried-total}" type="number" name="attr_carried-total" value="0" class="calc" readonly /></span>
                            </div>
                        </div>
                        <div class="table sect wide-numbers load">
                            <span class="table-name secondary-table-name" data-i18n="current-load">Current Load</span>
                            <div class="table-row">
                                <span class="table-config-row-name secondary-table-name show-readonly inverse-readonly" style="width:10%;" data-i18n="current-load">Current Load</span>
                                <span class="table-cell" style="width:10%;"><label class="small-label2 center"><input title="@{current-load}" type="radio" value="0" name="attr_current-load" checked> <span data-i18n-title="encumbrance-light-title" data-i18n-aria-label="encumbrance-light-title" data-i18n="light">Light</span></label></span>
                                <span class="table-cell" style="width:10%;"><label class="small-label2 center"><input title="@{current-load}" type="radio" value="1" name="attr_current-load"> <span data-i18n-title="encumbrance-medium-title" data-i18n-aria-label="encumbrance-medium-title" data-i18n="medium">Medium</span></label></span>
                                <span class="table-cell" style="width:10%;"><label class="small-label2 center"><input title="@{current-load}" type="radio" value="2" name="attr_current-load"> <span data-i18n-title="encumbrance-heavy-title" data-i18n-aria-label="encumbrance-heavy-title" data-i18n="heavy">Heavy</span></label></span>
                                <span class="table-cell" style="width:10%;"><label class="small-label2 center"><input title="@{current-load}" type="radio" value="3" name="attr_current-load"> <span data-i18n-title="over-heavy-encumbrance-title" data-i18n-aria-label="over-heavy-encumbrance-title" data-i18n="over">Over</span></label></span>
                                <span class="table-cell" style="width:10%;"><label class="small-label2 center"><input title="@{current-load}" type="radio" value="4" name="attr_current-load"> <span data-i18n-title="maximum-encumbrance-title" data-i18n-aria-label="maximum-encumbrance-title" data-i18n="maximum-abbrv">Max</span></label></span>
                            </div>
                        </div>
                    </div>
                    <div class="h2-section loads-and-lift">
                        <div class="table sect wide-numbers lift-modifiers">
                            <span class="table-name show-readonly secondary-table-name" data-i18n="lift-modifiers">Lift Modifiers</span>
                            <div class="table-group-head">
                                <div class="table-row">
                                    <span class="table-header nowrap" data-i18n-title="encumbrance-str-bonus-title" data-i18n-aria-label="encumbrance-str-bonus-title" data-i18n="strength-bonus-abbrv">STR Bonus</span>
                                    <span class="table-header" data-i18n-title="encumbrance-misc-title" data-i18n-aria-label="encumbrance-misc-title" data-i18n="miscellaneous-abbrv">Misc</span>
                                    <span class="table-header"></span>
                                    <span class="table-header" data-i18n-title="encumbrance-multiplier-title" data-i18n-aria-label="encumbrance-multiplier-title" data-i18n="multiplier-abbrv">Mult</span>
                                    <span class="table-header"></span>
                                    <span class="table-header" data-i18n-title="encumbrance-size-multiplier-title" data-i18n-aria-label="encumbrance-size-multiplier-title" data-i18n="size">Size</span>
                                    <span class="table-header"></span>
                                    <span class="table-header" data-i18n-title="encumbrance-multiplier-total-title" data-i18n-aria-label="encumbrance-multiplier-total-title" data-i18n="total">Total</span>
                                    <span class="table-header"></span>
                                </div>
                            </div>
                            <div class="table-group">
                                <div class="table-row">
                                    <span class="table-cell"><input title="@{load-str-bonus}" type="number" name="attr_load-str-bonus" value="0" /></span>
                                    <span class="table-cell"><input title="@{load-misc}" type="number" name="attr_load-misc" value="0" /></span>
                                    <span class="divider-lg" style="text-align:right;">(</span>
                                    <span class="table-cell"><input title="@{load-multiplier}" type="number" name="attr_load-multiplier" value="1" /></span>
                                    <span class="divider-lg">+</span>
                                    <span class="table-cell"><input title="@{size-multiplier}" type="number" name="attr_size-multiplier" value="1" class="calc" readonly /></span>
                                    <span class="divider-lg">=</span>
                                    <span class="table-cell"><input title="@{total-load-multiplier}" type="number" name="attr_total-load-multiplier" value="1" class="calc" readonly /></span>
                                    <span class="divider-lg" style="text-align:left;">)</span>
                                </div>
                            </div>
                        </div>
                        <div class="table sect wide-numbers lift">
                            <span class="table-name show-readonly inverse-readonly secondary-table-name weight-used" data-i18n="loads-and-lift">Loads and Lift</span>
                            <span class="table-name secondary-table-name hide-readonly weight-used" data-i18n="loads">Loads</span>
                            <div class="table-group-head">
                                <div class="table-row">
                                    <span class="table-header" data-i18n-title="encumbrance-light-title" data-i18n-aria-label="encumbrance-light-title" data-i18n="light">Light</span>
                                    <span class="table-header" data-i18n-title="encumbrance-medium-title" data-i18n-aria-label="encumbrance-medium-title" data-i18n="medium">Medium</span>
                                    <span class="table-header" data-i18n-title="encumbrance-heavy-title" data-i18n-aria-label="encumbrance-heavy-title" data-i18n="heavy">Heavy</span>
                                </div>
                            </div>
                            <div class="table-group">
                                <div class="table-row">
                                    <span class="table-cell"><input title="@{load-light}" type="number" name="attr_load-light" value="33" class="calc" readonly /></span>
                                    <span class="table-cell"><input title="@{load-medium}" type="number" name="attr_load-medium" value="66" class="calc" readonly /></span>
                                    <span class="table-cell"><input title="@{load-heavy}" type="number" name="attr_load-heavy" value="100" class="calc" readonly /></span>
                                    <!-- max hidden since max is only used for the lift off the ground value-->
                                    <input title="@{load-max}" type="hidden" name="attr_load-max" value="200" class="calc" readonly />
                                </div>
                            </div>
                        </div>
                        <div class="table sect wide-numbers lift">
                            <span class="table-name secondary-table-name weight-used" data-i18n="lift">Lift</span>
                            <div class="table-group-head">
                                <div class="table-row">
                                    <span class="table-header" data-i18n-title="encumbrance-above-title" data-i18n-aria-label="encumbrance-above-title" data-i18n="above-head">Above Head</span>
                                    <span class="table-header" data-i18n-title="encumbrance-off-ground-title" data-i18n-aria-label="encumbrance-off-ground-title" data-i18n="off-ground">Off Ground</span>
                                    <span class="table-header" data-i18n-title="encumbrance-drag-push-title" data-i18n-aria-label="encumbrance-drag-push-title" data-i18n="drag-push">Drag &amp; Push</span>
                                </div>
                            </div>
                            <div class="table-group">
                                <div class="table-row">
                                    <span class="table-cell"><input title="@{lift-above-head}" type="number" name="attr_lift-above-head" value="100" class="calc" readonly /></span>
                                    <span class="table-cell"><input title="@{lift-off-ground}" type="number" name="attr_lift-off-ground" value="200" class="calc" readonly /></span>
                                    <span class="table-cell"><input title="@{lift-drag-and-push}" type="number" name="attr_lift-drag-and-push" value="500" class="calc" readonly /></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col col2 worn-items">
                    <div class="cheat"></div>
                    <input class="showarrow h2arrow" type="checkbox" name="attr_worn-items-show" data-i18n-aria-label="worn-items" data-i18n-title="showsect-cmd" value="1" checked />
                    <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="worn-items">Worn Items</label></h2>
                    <span class="nontable-name" title="The equipment currently worn by the character" data-i18n="worn-equipment" data-i18n-title="worn-equipment-title" data-i18n-aria-label="worn-equipment-title">Worn Equipment</span>
                    <div class="h2-section worn-items">
                        <div class="table">
                            <div class="table-row">
                                <span class="table-header right" style="text-align:right;width:6em;" data-i18n-title="worn-equipment-slot-title" data-i18n-aria-label="worn-equipment-slot-title" data-i18n="slot">Slot</span>
                                <span class="table-header entry-5p-shrink"></span>
                                <span class="table-header" data-i18n-title="worn-item-name" data-i18n-aria-label="worn-item-name" data-i18n="worn-item-name">Name</span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell right" data-i18n="head">Head</span>
                                <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_worn-Head-roll" title="%{selected|worn-Head-roll}" value=""></button></span>
                                <span class="table-cell left"><input title="@{worn-Head}" type="text" name="attr_worn-Head" value="" data-i18n-placeholder="item-name" class="calc" readonly /></span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell right" data-i18n="headband">Headband</span>
                                <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_worn-Headband-roll" title="%{selected|worn-Headband-roll}" value=""></button></span>
                                <span class="table-cell left"><input title="@{worn-Headband}" type="text" name="attr_worn-Headband" value="" data-i18n-placeholder="item-name" class="calc" readonly /></span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell right" data-i18n="eyes">Eyes</span>
                                <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_worn-Eyes-roll" title="%{selected|worn-Eyes-roll}" value=""></button></span>
                                <span class="table-cell left"><input title="@{worn-Eyes}" type="text" name="attr_worn-Eyes" value="" data-i18n-placeholder="item-name" class="calc" readonly /></span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell right" data-i18n="neck">Neck</span>
                                <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_worn-Neck-roll" title="%{selected|worn-Neck-roll}" value=""></button></span>
                                <span class="table-cell left"><input title="@{worn-Neck}" type="text" name="attr_worn-Neck" value="" data-i18n-placeholder="item-name" class="calc" readonly /></span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell right" data-i18n="shoulders">Shoulders</span>
                                <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_worn-Shoulders-roll" title="%{selected|worn-Shoulders-roll}" value=""></button></span>
                                <span class="table-cell left"><input title="@{worn-Shoulders}" type="text" name="attr_worn-Shoulders" value="" data-i18n-placeholder="item-name" class="calc" readonly /></span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell right" data-i18n="body">Body</span>
                                <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_worn-Body-roll" title="%{selected|worn-Body-roll}" value=""></button></span>
                                <span class="table-cell left"><input title="@{worn-Body}" type="text" name="attr_worn-Body" value="" data-i18n-placeholder="item-name" class="calc" readonly /></span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell right" data-i18n="chest">Chest</span>
                                <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_worn-Chest-roll" title="%{selected|worn-Chest-roll}" value=""></button></span>
                                <span class="table-cell left"><input title="@{worn-Chest}" type="text" name="attr_worn-Chest" value="" data-i18n-placeholder="item-name" class="calc" readonly /></span>
                            </div>
                        </div>
                        <div class="table">
                            <div class="table-row">
                                <span class="table-header right" style="text-align:right;width:6em;" data-i18n-title="worn-equipment-slot-title" data-i18n-aria-label="worn-equipment-slot-title" data-i18n="slot">Slot</span>
                                <span class="table-header entry-5p-shrink"></span>
                                <span class="table-header" data-i18n-title="worn-item-name" data-i18n-aria-label="worn-item-name" data-i18n="worn-item-name">Name</span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell right" data-i18n="belt">Belt</span>
                                <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_worn-Belt-roll" title="%{selected|worn-Belt-roll}" value=""></button></span>
                                <span class="table-cell left"><input title="@{worn-Belt}" type="text" name="attr_worn-Belt" value="" data-i18n-placeholder="item-name" class="calc" readonly /></span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell right" data-i18n="wrist">Wrist</span>
                                <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_worn-Wrist-roll" title="%{selected|worn-Wrist-roll}" value=""></button></span>
                                <span class="table-cell left"><input title="@{worn-Wrist}" type="text" name="attr_worn-Wrist" value="" data-i18n-placeholder="item-name" class="calc" readonly /></span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell right" data-i18n="hands">Hands</span>
                                <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_worn-Hands-roll" title="%{selected|worn-Hands-roll}" value=""></button></span>
                                <span class="table-cell left"><input title="@{worn-Hands}" type="text" name="attr_worn-Hands" value="" data-i18n-placeholder="item-name" class="calc" readonly /></span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell right" data-i18n="ring-one">Ring 1</span>
                                <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_worn-Ring1-roll" title="%{selected|worn-Ring1-roll}" value=""></button></span>
                                <span class="table-cell left"><input title="@{worn-Ring1}" type="text" name="attr_worn-Ring1" value="" data-i18n-placeholder="item-name" class="calc" readonly /></span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell right" data-i18n="ring-two">Ring 2</span>
                                <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_worn-Ring2-roll" title="%{selected|worn-Ring2-roll}" value=""></button></span>
                                <span class="table-cell left"><input title="@{worn-Ring2}" type="text" name="attr_worn-Ring2" value="" data-i18n-placeholder="item-name" class="calc" readonly /></span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell right" data-i18n="feet">Feet</span>
                                <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_worn-Feet-roll" title="%{selected|worn-Feet-roll}" value=""></button></span>
                                <span class="table-cell left"><input title="@{worn-Feet}" type="text" name="attr_worn-Feet" value="" data-i18n-placeholder="item-name" class="calc" readonly /></span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell right" data-i18n="armor">Armor</span>
                                <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_worn-armor-roll" title="%{selected|worn-armor-roll}" value=""></button></span>
                                <span class="table-cell left"><input title="@{worn-armor}" type="text" name="attr_worn-armor" value="" data-i18n-placeholder="item-name" class="calc" readonly /></span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell right" data-i18n="shield">Shield</span>
                                <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_worn-shield-roll" title="%{selected|shield3-roll}" value=""></button></span>
                                <span class="table-cell left"><input title="@{worn-shield}" type="text" name="attr_worn-shield" value="" data-i18n-placeholder="item-name" class="calc" readonly /></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cheat"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_other-items-show" data-i18n-aria-label="other-items" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="other-items">Other Items</label></h2>
                <div class="h2-section other-items" style="height:auto;">
                    <span class="nontable-name" title="Freeform other items" data-i18n="other-items">Other Items</span>
                    <textarea name="attr_other_items_treasure" title="@{other_items_treasure}" placeholder="Other equipment or property" class="entry-wide notes"></textarea>
                </div>
                <div class="cheat"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_equipment-show" data-i18n-aria-label="equipment" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="equipment">Equipment</label></h2>
                <div class="h2-section repeating-sect items wide-readonly">
                    <span class="nontable-name" title="The items that the character has; either carried or elsewhere" data-i18n="equipment-list">Equipment List</span>
                    <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" data-i18n-aria-label="minimize-all-cmd" title="Minimize all rows." name="attr_item-min-show" value="1" /><span></span>
                    <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" data-i18n-aria-label="expand-cmd" title="Collapse or expand all rows." name="attr_item-expand-show" value="1" /><span></span>
                    <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" data-i18n-aria-label="column-cmd" title="Split into two columns" name="attr_item-column-show" value="1" /><span></span>
                    <label class="small-label2"><input type="checkbox" name="attr_showinmenu_all_items" title="@{showinmenu_all_items}" value="1"><span data-i18n="show-in-menu" data-i18n-title="show-in-menu-title" data-i18n-aria-label="show-in-menu-title" title="Click to display a button for this row in the appropriate command menu" aria-label="Click to display a button for this row in the appropriate command menu" style="font-size: 0.85em;">Show</span></label>
                    <input class="deletebutton cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_item_btn" value="1" data-i18n-title="delete-item" data-i18n-aria-label="delete-item-must-confirm-next-checkbox" /><span></span><label class="deletesect allrows-note"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_item" data-i18n-aria-label="confirm-delete-item" data-i18n-title="confirm-delete-item" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                    <span class="compendium-note hide-readonly">
                        <span class="compendium-icon">i</span>
                        <span class="vertical-middle" data-i18n-title="compendium-drag-n-drop-desc" data-i18n-aria-label="compendium-drag-n-drop-desc" data-i18n="compendium-drag-drop-compatible"> Compendium drag-n-drop compatible </span>
                        <span class="drag-icon">&#9111;</span>
                    </span>
                    <div class="equipmentnav tabs custbordernav" role="menubar" aria-label="Equipment" data-i18n-aria-label="equipment"></div>
                    <input type="radio" class="tabinput tab0" name="attr_equipment_tab" value="1" data-i18n-aria-label="weapon" data-i18n-title="weapon" />
                    <label role="menuitem" class="tab tab0" data-i18n-title="weapons" data-i18n-aria-label="weapons" title="Weapons" data-i18n="weapon">Weapons</label>
                    <input type="radio" class="tabinput tab1" name="attr_equipment_tab" value="2" data-i18n-aria-label="armor-shield" data-i18n-title="armor-shield" />
                    <label role="menuitem" class="tab tab1" data-i18n-title="armor-shield" data-i18n-aria-label="armor-shield" title="Armor/Shields" data-i18n="armor">Armor</label>
                    <input type="radio" class="tabinput tab2 narrow-tab" name="attr_equipment_tab" value="3" data-i18n-aria-label="ammo" data-i18n-title="ammo" />
                    <label role="menuitem" class="tab tab2 narrow-tab" data-i18n-title="ammunition" data-i18n-aria-label="ammunition" title="ammunition" data-i18n="ammo">Ammo</label>
                    <input type="radio" class="tabinput tab3 wider-tab" name="attr_equipment_tab" value="4" data-i18n-aria-label="consumables" data-i18n-title="consumables" />
                    <label role="menuitem" class="tab tab3 wider-tab" data-i18n-title="consumables" data-i18n-aria-label="consumables" title="Consumables" data-i18n="consumable">Consumable</label>
                    <input type="radio" class="tabinput tab7" name="attr_equipment_tab" value="8" data-i18n-aria-label="charged" data-i18n-title="charged" />
                    <label role="menuitem" class="tab tab7" data-i18n-title="charged-magic" data-i18n-aria-label="charged-magics" title="Charged magic items" data-i18n="charged">Charged</label>
                    <input type="radio" class="tabinput tab4 narrow-tab" name="attr_equipment_tab" value="5" data-i18n-aria-label="other-magic" data-i18n-title="other-magic" />
                    <label role="menuitem" class="tab tab4 narrow-tab" data-i18n-title="other-magic" data-i18n-aria-label="other-magic" title="Other Magic" data-i18n="other-magic-abbrv">Magic</label>
                    <input type="radio" class="tabinput tab5 narrow-tab" name="attr_equipment_tab" value="6" data-i18n-aria-label="adventuring-gear-tool" data-i18n-title="adventuring-gear-tool" />
                    <label role="menuitem" class="tab tab5 narrow-tab" data-i18n-title="adventuring-gear-tool" data-i18n-aria-label="adventuring-gear-tool" title="Adventuring gear or tools" data-i18n="gear">Gear</label>
                    <input type="radio" class="tabinput tab6 narrow-tab" name="attr_equipment_tab" value="7" data-i18n-aria-label="other" data-i18n-title="other" />
                    <label role="menuitem" class="tab tab6 narrow-tab" data-i18n-title="other" data-i18n-aria-label="other" title="Other" data-i18n="other-1-abbrv">Oth 1</label>
                    <input type="radio" class="tabinput tab8 narrow-tab" name="attr_equipment_tab" value="9" data-i18n-aria-label="other" data-i18n-title="other" />
                    <label role="menuitem" class="tab tab8 narrow-tab" data-i18n-title="other" data-i18n-aria-label="other" title="Other" data-i18n="other-2-abbrv">Oth 2</label>
                    <input type="radio" class="tabinput tab99" name="attr_equipment_tab" value="99" data-i18n-aria-label="all" data-i18n-title="all" checked />
                    <label role="menuitem" class="tab tab99" data-i18n-title="all" data-i18n-aria-label="all" title="All" data-i18n="all">All</label>
                    <div class="divider-db-lg"></div>
                    <input type="radio" class="tabinput tab11 narrow-tab" name="attr_equipment_tab" value="12" data-i18n-aria-label="worn" data-i18n-title="worn" />
                    <label role="menuitem" class="tab tab11 narrow-tab" data-i18n-title="carried" data-i18n-aria-label="worn" title="worn" data-i18n="worn">Worn</label>
                    <input type="radio" class="tabinput tab9" name="attr_equipment_tab" value="10" data-i18n-aria-label="carried" data-i18n-title="carried" />
                    <label role="menuitem" class="tab tab9" data-i18n-title="carried" data-i18n-aria-label="carried" title="Carried" data-i18n="carried">Carried</label>
                    <input type="radio" class="tabinput tab10 wider-tab" name="attr_equipment_tab" value="11" data-i18n-aria-label="not-carried" data-i18n-title="not-carried" />
                    <label role="menuitem" class="tab tab10 wider-tab" data-i18n-title="not-carried" data-i18n-aria-label="not-carried" title="Carried" data-i18n="not-carried">Not Carried</label>
                    <span class="nontable-name"> </span>
                    <!-- hide/show some fields -->
                    <label style="position:absolute;margin-top:-1.75em;"></label>
                    <input type="checkbox" class="selectedlabel-check equipment-onetime-show" name="attr_equipment_onetime_show" title="@{equipment_onetime_show}" value="1" role="presentation" checked /><b data-i18n-title="show-onetime-item-fields-title" data-i18n-aria-label="show-onetime-item-fields-title" title="Show item equipment type, hardness, item-hp, item-hp|max, and value." data-i18n="show-more-fields">Show more fields</b>
                    <div class="table">
                        <div class="row" style="text-align:right;">
                            <label data-i18n="totals" style="padding-top:1em;">Totals:</label>
                            <label class="small-label2 autoexpand">
                                <input title="@{item_total_weight}" type="number" name="attr_item_total_weight" value="0" class="calc entry-wide" readonly />
                                <span name="attr_item_total_weight" class="autoexpand"></span>
                            </label>
                            <span class="weight-used" style="margin-left:-5px;"></span>
                            <label class="small-label2 autoexpand hide-readonly">
                                <input title="@{item-total-value}" type="number" name="attr_item-total-value" value="0" class="calc entry-wide" readonly />
                                <span name="attr_item-total-value" class="autoexpand"></span>
                            </label>
                            <span class="hide-readonly" data-i18n-title="gold-pieces" data-i18n-aria-label="gold-pieces" data-i18n="gold-pieces-abbrv" title="Gold pieces" aria-label="Gold pieces">GP</span>
                            <!-- keep these in case someone needs them -->
                            <input title="@{item-total-hp}" type="hidden" name="attr_item-total-hp" value="0" class="calc" readonly />
                            <input title="@{item-total-hp|max}" type="hidden" name="attr_item-total-hp_max" value="0" class="calc" readonly />
                        </div>
                    </div>
                    <div class="sect table repeating-fields hiderepborder">
                        <fieldset class="repeating_item">
                            <span class="error"><span class="pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
                            <input type="radio" name="attr_equiptype-tab" value="0" class="tabcopy custnavsection-new" checked role="presentation" />
                            <input type="radio" name="attr_equiptype-tab" value="1" class="tabcopy custnavsection-0" role="presentation" />
                            <input type="radio" name="attr_equiptype-tab" value="2" class="tabcopy custnavsection-1" role="presentation" />
                            <input type="radio" name="attr_equiptype-tab" value="3" class="tabcopy custnavsection-2" role="presentation" />
                            <input type="radio" name="attr_equiptype-tab" value="4" class="tabcopy custnavsection-3" role="presentation" />
                            <input type="radio" name="attr_equiptype-tab" value="5" class="tabcopy custnavsection-4" role="presentation" />
                            <input type="radio" name="attr_equiptype-tab" value="6" class="tabcopy custnavsection-5" role="presentation" />
                            <input type="radio" name="attr_equiptype-tab" value="7" class="tabcopy custnavsection-6" role="presentation" />
                            <input type="radio" name="attr_equiptype-tab" value="8" class="tabcopy custnavsection-7" role="presentation" />
                            <input type="radio" name="attr_equiptype-tab" value="9" class="tabcopy custnavsection-8" role="presentation" />
                            <input type="radio" name="attr_loctype-tab" value="-1" class="noshow" role="presentation" />
                            <input type="radio" name="attr_loctype-tab" value="2" class="tabcopy custnavsection-11" role="presentation" />
                            <input type="radio" name="attr_loctype-tab" value="0" class="tabcopy custnavsection-9" role="presentation" checked />
                            <input type="radio" name="attr_loctype-tab" value="1" class="tabcopy custnavsection-10" role="presentation" />
                            <div class="nontable-repeating custrepeating-border compendium-drop-target Items">
                                <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" data-i18n-aria-label="minimize-cmd" title="Minimize Row" name="attr_row-show" value="1" checked /><span class="table-cell"></span>
                                <span class="repeating-rollbutton pc-only"><button type="roll" name="attr_roll" title="%{selected|repeating_item_$X_roll}" value="@{PC-whisper} @{macro-text}"></button></span>
                                <span class="repeating-rollbutton npc-only"><button type="roll" name="attr_npc-roll" title="%{selected|repeating_item_$X_npc-roll}" value="@{NPC-whisper} @{macro-text}"></button></span>
                                <label class="small-label2 small-label hide-readonly" style="width:2.5em;"><input type="checkbox" name="attr_showinmenu" title="@{repeating_item_$X_showinmenu}" value="1" /><span data-i18n="show-in-menu" data-i18n-title="show-in-menu-title" data-i18n-aria-label="show-in-menu-title">Show</span></label>
                                <label class="small-label2 small-label"><input title="@{repeating_item_$X_name}" type="text" name="attr_name" value="" accept="Name" data-i18n-placeholder="item-name"><span data-i18n="name">Name</span></label>
                                <label class="small-label2 small-label" style="height:auto;"><textarea class="inline-textarea both" title="@{repeating_item_$X_short-description}" name="attr_short-description" data-i18n-placeholder="short-description" data-i18n-aria-label="worn-equipment-short-desc-title"></textarea><span data-i18n-title="worn-equipment-short-desc-title" data-i18n-aria-label="worn-equipment-short-desc-title" data-i18n="short-description-abbrv">Short Desc</span></label>
                                <label class="small-label2 small-label items-toggle-except-on-all" style="width:15%;">
                                    <select title="@{repeating_item_$X_equip-type}" name="attr_equip-type" class="select-small">
                                        <option value="0" data-i18n="select-one-default" selected>Select One</option>
                                        <option value="1" data-i18n="weapon">Weapon</option>
                                        <option value="2" data-i18n="armor-or-shield">Armor or Shield</option>
                                        <option value="3" data-i18n="ammunition">Ammunition</option>
                                        <option value="4" data-i18n="consumable">Consumable</option>
                                        <option value="8" data-i18n="charged-magic">Charged magic item</option>
                                        <option value="5" data-i18n="other-magic">Other Magic</option>
                                        <option value="6" data-i18n="gear-or-tool">Gear or Tool</option>
                                        <option value="7" data-i18n="other-1">Other 1</option>
                                        <option value="9" data-i18n="other-2">Other 2</option>
                                    </select>
                                    <span data-i18n="equipment-type-abbrv">Equip Type</span>
                                </label>
                                <input type="number" name="attr_old_location" style="display:none;" value="0" />
                                <label class="small-label2 small-label" style="width:10%;">
                                    <select title="@{repeating_item_$X_location}" name="attr_location" class="select-small entry-wide" data-i18n-aria-label="worn-equipment-slot-title">
                                        <option value="0" data-i18n="carried-default" selected>&#8226;Carried</option>
                                        <option value="1" data-i18n="not-carried">Not Carried</option>
                                        <option value="2" data-i18n="armor">Armor</option>
                                        <option value="3" data-i18n="belt">Belt</option>
                                        <option value="4" data-i18n="body">Body</option>
                                        <option value="5" data-i18n="chest">Chest</option>
                                        <option value="6" data-i18n="eyes">Eyes</option>
                                        <option value="7" data-i18n="feet">Feet</option>
                                        <option value="8" data-i18n="hands">Hands</option>
                                        <option value="9" data-i18n="head">Head</option>
                                        <option value="10" data-i18n="headband">Headband</option>
                                        <option value="11" data-i18n="neck">Neck</option>
                                        <option value="12" data-i18n="ring-one">Ring 1</option>
                                        <option value="13" data-i18n="ring-two">Ring 2</option>
                                        <option value="14" data-i18n="shield">Shield</option>
                                        <option value="15" data-i18n="shoulders">Shoulders</option>
                                        <option value="16" data-i18n="wrist">Wrist</option>
                                    </select>
                                    <span data-i18n-title="worn-equipment-slot-title" data-i18n-aria-label="worn-equipment-slot-title" data-i18n="location">Location</span>
                                </label>
                                <div class="linked-fields">
                                    <label class="small-label2 small-label">
                                        <input title="@{repeating_item_$X_qty}" type="number" name="attr_qty" value="0" aria-label-i18n="worn-equipment-quantity-title" />
                                        <span data-i81n-title="worn-equipment-quantity-title" data-i18n="quantity-abbrv">Qty</span>
                                    </label>
                                    <span class="divider-db-lg sect hide-readonly items-toggle" style="width:0.1%;">/</span>
                                    <label class="small-label2 small-label hide-readonly sect items-toggle"><input title="@{repeating_item_$X_qty|max}" type="number" name="attr_qty_max" value="0" /><span data-i18n="maximum-abbrv">Max</span></label>
                                </div>
                                <label class="small-label2 small-label"><input title="@{repeating_item_$X_item-weight}" type="number" name="attr_item-weight" value="0" step="any" /><span data-i18n="weight-abbrv">Wt</span></label>
                                <label class="small-label2 small-label hide-readonly sect items-toggle"><input title="@{repeating_item_$X_hardness}" type="number" name="attr_hardness" value="0" step="any" min="0" /><span data-i18n="hardness-abbrv">Hard</span></label>
                                <div class="linked-fields hide-readonly items-toggle">
                                    <label class="small-label2 small-label sect"><input title="@{repeating_item_$X_item-hp}" type="number" name="attr_item-hp" value="0" step="any" /><span data-i18n="item-hit-points-abbrv">HP</span></label>
                                    <span class="divider-db-lg sect" style="width:0.1%;">/</span>
                                    <label class="small-label2 small-label sect"><input title="@{repeating_item_$X_item-hp|max}" type="number" name="attr_item-hp_max" value="0" step="any" min="0" /><span data-i18n="maximum-abbrv">Max</span></label>
                                </div>
                                <label class="small-label2 small-label sect hide-readonly items-toggle"><input title="@{repeating_item_$X_value}" type="number" name="attr_value" value="0" step="any" min="0" /><span data-i18n="value">Value</span></label>
                                <div style="display:none;">
                                    <input type="text" name="attr_item-criticaldamage_compendium" value="" accept="Critical Damage" />
                                    <input type="text" name="attr_item-criticalrange_compendium" value="" accept="Critical Range" />
                                    <input type="text" name="attr_item-meddamage_compendium" value="" accept="Damage (Medium)" />
                                    <input type="text" name="attr_item-smalldamage_compendium" value="" accept="Damage (Small)" />
                                    <input type="text" name="attr_item-category_compendium" value="" accept="Category" />
                                    <input type="text" name="attr_item-damagetype_compendium" value="" accept="Damage Type" />
                                    <input type="text" name="attr_item-speed20_compendium" value="" accept="Speed 20ft." />
                                    <input type="text" name="attr_item-speed30_compendium" value="" accept="Speed 30ft." />
                                    <input type="text" name="attr_item-weight_compendium" value="" accept="Weight" />
                                    <input type="text" name="attr_item-value_compendium" value="" accept="Cost" />
                                    <input type="text" name="attr_item-range_compendium" value="" accept="Range" />
                                    <input type="text" name="attr_item-spell-fail_compendium" value="" accept="Arcane Spell Failure Chance" />
                                    <input type="text" name="attr_item-acbonus_compendium" value="" accept="Armor/Shield Bonus" />
                                    <input type="text" name="attr_item-acp_compendium" value="" accept="Armor Check Penalty" />
                                </div>
                                <div class="sect expand hide-readonly" style="margin-top:0.5em;">
                                    <input type="checkbox" class="showarrow armor-attributes-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Armor Attributes" name="attr_armor-attributes-show" value="1" />
                                    <label class="showsect armor-attributes-showlabel" data-i18n="armor-attributes">Armor Attributes</label>
                                    <input type="checkbox" class="showarrow weapon-attributes-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Weapon Attributes" name="attr_weapon-attributes-show" value="1" />
                                    <label class="showsect weapon-attributes-showlabel" data-i18n="weapon-attributes">Weapon Attributes</label>
                                    <input type="checkbox" class="showarrow desc-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Description" name="attr_description-show" value="1" />
                                    <label class="showsect desc-showlabel" data-i18n="description">Description</label>
                                    <input type="checkbox" class="showarrow macro-text-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1" />
                                    <label class="showsect macro-text-showlabel super note-d" data-i18n="macro-text">Macro Text</label>
                                    <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1" />
                                    <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                    <hr class="subnav-hr">
                                    <div class="cheat"></div>
                                    <div class="armor-attributes">
                                        <label class="small-label2" style="width:5em;">
                                            <input type="checkbox" name="attr_set-as-armor" value="1" class="cssbutton addarmorbutton" title="@{set-as-armor}" data-i18n-aria-label="set-as-armor"><span></span>
                                            <span data-i18n-title="set-as-armor" data-i18n-aria-label="set-as-armor" data-i18n="set-armor">Set Armor</span>
                                        </label>
                                        <label class="small-label2" style="width:5em;">
                                            <input type="checkbox" name="attr_set-as-shield" value="1" class="cssbutton addshieldbutton" title="@{set-as-shield}" data-i18n-aria-label="set-as-shield"><span></span>
                                            <span data-i18n-title="set-as-shield" data-i18n-aria-label="set-as-shield" data-i18n="set-shield">Set Shield</span>
                                        </label>
                                        <label class="small-label2"><input title="@{repeating_item_$X_item-acbonus}" name="attr_item-acbonus" type="number" value="0" min="0" /><span data-i18n-title="armor-shield-bonus" data-i18n-aria-label="armor-shield-bonus" title="Armor or Shield bonus to Armor Class" data-i18n="armor-class-bonus">AC Bonus</span></label>
                                        <label class="small-label2"><input title="@{repeating_item_$X_item-acenhance}" name="attr_item-acenhance" type="number" value="0" /><span data-i18n="enhancement-abbrv">Enh</span></label>
                                        <label class="small-label2"><input title="@{repeating_item_$X_item-max-dex}" name="attr_item-max-dex" type="text" value="-" accept="Maximum Dex Bonus" class="number" /><span data-i18n="maximum-dexterity-bonus-abbrv">Max Dex</span></label>
                                        <label class="small-label2"><input title="@{repeating_item_$X_item-acp}" name="attr_item-acp" type="number" value="0" max="0" /><span data-i18n-title="negative-number" data-i18n-aria-label="negative-number" data-i18n="armor-check-penalty-abbrv">ACP</span></label>
                                        <label class="small-label2"><input title="@{repeating_item_$X_item-spell-fail}" name="attr_item-spell-fail" type="number" value="0" min="0" max="100" /><span class="nowrap" data-i18n="spell-failure">Spell Fail</span></label>
                                        <label class="small-label2 sheed-divider-db-lg left" style="margin-top:10px;">%</label>
                                        <label class="small-label2">
                                            <select class="select-small" title="@{repeating_item_$X_item-defense-type}" name="attr_item-defense-type">
                                                <option value="Light" data-i18n="light" selected>Light</option>
                                                <option value="Medium" data-i18n="medium">Medium</option>
                                                <option value="Heavy" data-i18n="heavy">Heavy</option>
                                                <option value="Tower Shield" data-i18n="tower">Tower Shield</option>
                                            </select>
                                            <span data-i18n="armor-type">Armor or Shield Type</span>
                                        </label>
                                        <label class="small-label2">
                                            <select title="@{repeating_item_$X_item-proficiency}" name="attr_item-proficiency" class="select-small">
                                                <option value="0" data-i18n="yes-default" selected>Yes</option>
                                                <option value="1" data-i18n="no">No</option>
                                            </select>
                                            <span data-i18n="proficiency">Proficiency</span>
                                        </label>
                                    </div>
                                    <div class="weapon-attributes show-grp1">
                                        <label class="small-label2" style="width:5em;">
                                            <input type="checkbox" name="attr_create-attack-entry" value="1" class="cssbutton createattackbutton" data-i18n-title="create-attack-entry" data-i18n-aria-label="create-attack-entry"><span></span>
                                            <span data-i18n-title="create-attack-entry" data-i18n-aria-label="create-attack-entry" data-i18n="create-attack">Create Attack</span>
                                        </label>
                                        <label class="small-label2 entry-short">
                                            <select class="select-small" title="@{repeating_item_$X_item-attack-type}" name="attr_item-attack-type">
                                                <option value="0" data-i18n="none-default" selected>&#8226;None</option>
                                                <option value="attk-melee" data-i18n="melee">Melee</option>
                                                <option value="attk-ranged" data-i18n="ranged">Ranged</option>
                                                <option value="CMB" data-i18n="combat-maneuver-bonus-abbrv">CMB</option>
                                                <option value="attk-melee2" data-i18n="melee2">Melee2</option>
                                                <option value="attk-ranged2" data-i18n="ranged2">Ranged2</option>
                                                <option value="CMB2" data-i18n="combat-maneuver-bonus-abbrv2">CMB2</option>
                                            </select>
                                            <span data-i18n="attack-type">Attack Type</span>
                                        </label>
                                        <label class="small-label2"><input title="@{repeating_item_$X_item-wpenhance}" name="attr_item-wpenhance" type="number" value="0" min="0" /><span data-i18n="enhancement-abbrv">Enh</span></label>
                                        <label class="small-label2 sect" style="width:2.5em;"><input title="@{repeating_item_$X_item-masterwork}" name="attr_item-masterwork" type="checkbox" value="1" /><span data-i18n="masterwork-abbrv">Mwk</span></label>
                                        <label class="small-label2"><input title="@{repeating_item_$X_item-damage-dice-num}" name="attr_item-damage-dice-num" type="number" value="0" min="0" /><span data-i18n="dice">Dice</span></label>
                                        <span class="divider-db-lg">d</span>
                                        <label class="small-label2"><input title="@{repeating_item_$X_item-damage-die}" name="attr_item-damage-die" type="number" value="0" min="0" /><span data-i18n="die">Die</span></label>
                                        <span class="divider-db-lg" style="padding-bottom:1rem;margin-right:-.125em;">+</span>
                                        <label class="small-label2 entry-med"><input class="macro-text-inline" title="@{repeating_item_$X_item-damage}" name="attr_item-damage" type="text" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="damage-modifier-abbrv">Dmg Mods</span></label>
                                        <label class="small-label2"><input title="@{repeating_item_$X_item-crit-target}" name="attr_item-crit-target" type="number" value="20" min="1" /><span data-i18n="critical-abbrv">Crit</span></label>
                                        <label class="small-label2"><input title="@{repeating_item_$X_item-crit-multiplier}" name="attr_item-crit-multiplier" type="number" value="2" min="0" /><span data-i18n="multiplier-abbrv">Mult</span></label>
                                        <label class="small-label2"><input title="@{repeating_item_$X_item-range}" name="attr_item-range" type="number" value="0" min="0" /><span class="distance-used" data-i18n="range">Range</span></label>
                                        <label class="small-label2 entry-short autoexpand"><input title="@{repeating_item_$X_item-dmg-type}" name="attr_item-dmg-type" type="text" value="" accept="Type" /><span data-i18n="type">Type</span><span name="attr_item-dmg-type" class="autoexpand"></span></label>
                                        <label class="small-label2 entry-med">
                                            <select title="@{repeating_item_$X_default_size}" name="attr_default_size">
                                                <option value="-8" data-i18n="size-colossal">Colossal</option>
                                                <option value="-4" data-i18n="size-gargantuan">Gargantuan</option>
                                                <option value="-2" data-i18n="size-huge">Huge</option>
                                                <option value="-1" data-i18n="size-large">Large</option>
                                                <option value="0" data-i18n="medium-abbrv-default" selected>&#8226;Medium</option>
                                                <option value="1" data-i18n="size-small">Small</option>
                                                <option value="2" data-i18n="size-tiny">Tiny</option>
                                                <option value="4" data-i18n="size-diminutive">Diminutive</option>
                                                <option value="8" data-i18n="size-fine">Fine</option>
                                            </select>
                                            <span data-i18n="default-size">Default Size</span>
                                        </label>
                                        <br />
                                        <label class="small-label2 entry-med">
                                            <input type="text" class="macro-text-inline" name="attr_item-precision_dmg_macro" title="@{repeating_item_$X_item-precision_dmg_macro}" data-i18n-placeholder="full-macro-place" />
                                            <span class="super note-b" data-i18n-title="precision-damage-title" data-i18n-aria-label="precision-damage-title" title="Extra or Precision Damage (not added to critical damage)" data-i18n="extra-damage">Extra Non-Crit Dmg</span>
                                        </label>
                                        <label class="small-label2 entry-20p-shrink">
                                            <input style="height:2.15em;" type="text" name="attr_item-precision_dmg_type" title="@{repeating_item_$X_item-precision_dmg_type}" value="" data-i18n-placeholder="damage-type-or-description" />
                                            <span data-i18n-title="precision-damage-type" data-i18n-aria-label="precision-damage-type" title="Extra Damage type" data-i18n="type">Type</span>
                                        </label>
                                        <label class="small-label2 entry-med">
                                            <input type="text" class="macro-text-inline" name="attr_item-critical_dmg_macro" title="@{repeating_item_$X_item-critical_dmg_macro}" data-i18n-placeholder="full-macro-place" />
                                            <span class="super note-b" data-i18n-title="extra-critical-damage-title" data-i18n-aria-label="extra-critical-damage-title" title="Extra Critical Damage" data-i18n="extra-critical-damage">Extra Crit Dmg</span>
                                        </label>
                                        <label class="small-label2 entry-20p-shrink">
                                            <input style="height:2.15em;" type="text" name="attr_item-critical_dmg_type" title="@{repeating_item_$X_item-critical_dmg_type}" value="" data-i18n-placeholder="damage-type-or-description" />
                                            <span data-i18n-title="precision-damage-type" data-i18n-aria-label="precision-damage-type" title="Extra Damage type" data-i18n="type">Type</span>
                                        </label>
                                        <label class="small-label2">
                                            <select title="@{repeating_item_$X_item-proficiency}" name="attr_item-proficiency" class="select-small">
                                                <option value="0" data-i18n="yes-default" selected>Yes</option>
                                                <option value="1" data-i18n="no">No</option>
                                            </select>
                                            <span data-i18n="proficiency-abbrv">Prof</span>
                                        </label>
                                    </div>
                                    <input type="hidden" name="attr_has_uses" value="" />
                                    <textarea class="desc" title="@{repeating_item_$X_description}" name="attr_description" accept="content"></textarea>
                                    <textarea class="macro-text" title="@{repeating_item_$X_macro-text}" name="attr_macro-text">&{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block-item}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{location=^{location@{location}} }} {{hasuses=@{has_uses}}} {{qty=@{qty}}} {{qty_max=@{qty_max}}} {{shortdesc=@{short-description}}} {{description=@{description}}}</textarea>
                                    <div class="repeating-id">
                                        <label class="small-label2 nextitem">
                                            <input class="selectable calc" name="attr_row_id" readonly />
                                            <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                    <div class="table">
                        <div class="row" style="text-align:right;">
                            <label data-i18n="totals" style="padding-top:1em;">Totals:</label>
                            <label class="small-label2 autoexpand">
                                <input title="@{item_total_weight}" type="number" name="attr_item_total_weight" value="0" class="calc entry-wide" readonly />
                                <span name="attr_item_total_weight" class="autoexpand"></span>
                            </label>
                            <span class="weight-used" style="margin-left:-5px;"></span>
                            <label class="small-label2 autoexpand hide-readonly">
                                <input title="@{item-total-value}" type="number" name="attr_item-total-value" value="0" class="calc entry-wide" readonly />
                                <span name="attr_item-total-value" class="autoexpand"></span>
                            </label>
                            <span class="hide-readonly" data-i18n-title="gold-pieces" data-i18n-aria-label="gold-pieces" data-i18n="gold-pieces-abbrv" title="Gold pieces" aria-label="Gold pieces">GP</span>
                        </div>
                    </div>
                </div>
                <!-- xp at end of sheet in read mode -->
                <div class="h2-section experience show-readonly inverse-readonly wide-readonly">
                    <div class="table sect">
                        <span class="table-name" data-i18n="experience-points-abbrv">XP</span>
                        <div class="table-group-head">
                            <input class="sect-show noshow" type="checkbox" name="attr_use_prestige_fame" value="1" />
                            <input class="sect2-show noshow" type="checkbox" name="attr_use_hero_points" value="1" />
                            <span class="table-header" data-i18n="current-experience">Current Experience</span>
                            <span class="table-header">/</span>
                            <span class="table-header" data-i18n="next-level">Next Level</span>
                            <span class="table-header divider sect">|</span>
                            <span class="table-header sect" data-i18n="prestige-points">Prestige Points</span>
                            <span class="table-header sect">/</span>
                            <span class="table-header sect" data-i18n="fame">Fame</span>
                            <span class="table-header divider sect2">|</span>
                            <span class="table-header sect2" data-i18n="hero-points">Hero Points</span>
                        </div>
                        <div class="table-row">
                            <input class="sect-show noshow" type="checkbox" name="attr_use_prestige_fame" value="1" />
                            <input class="sect2-show noshow" type="checkbox" name="attr_use_hero_points" value="1" />
                            <span class="table-cell"><input class="entry-wide" title="@{experience}" type="number" name="attr_experience" data-i18n-placeholder="experience-current-place" /></span>
                            <span class="divider-lg">/</span>
                            <span class="table-cell"><input class="entry-wide" title="@{experience|max}" type="number" name="attr_experience_max" data-i18n-placeholder="experience-next" /></span>
                            <span class="divider-lg sect">|</span>
                            <span class="table-cell sect"><input class="entry-wide" title="@{prestige}" type="number" name="attr_prestige" data-i18n-placeholder="prestige-points" /></span>
                            <span class="divider-lg sect">/</span>
                            <span class="table-cell sect"><input class="entry-wide" title="@{fame}" type="number" name="attr_fame" data-i18n-placeholder="fame" /></span>
                            <span class="divider-lg sect2">|</span>
                            <span class="table-cell sect2"><input class="entry-wide" title="@{hero-points}" type="number" name="attr_hero-points" data-i18n-placeholder="hero-points" /></span>
                        </div>
                    </div>
                    <input class="nextitem-show" type="checkbox" name="attr_use_prestige_fame" value="1" />
                    <div class="faction-notes nextitem" style="width:99%;margin-top:0.5em;">
                        <label class="left small-label" style="display:block;" data-i18n="faction-notes">Faction Notes</label>
                        <textarea class="notes inline-textarea" title="@{faction_notes}" name="attr_faction_notes" data-i18n-placeholder="faction-notes-place"></textarea>
                    </div>
                </div>
            </div>
            <div class="section8 section section-npc npc-only" role="region" aria-label="NPC" data-i18n-aria-label="npc">
                <h1 class="selected-tabtitle offscreen" data-i18n="npc">NPC</h1>
                <div class="npc-statblock-row hide-readonly" style="flex-direction: row-reverse;">
                    <span class="small-label2">
                        <label class="small-label2">
                            <select name="attr_template_to_add" class="select-small">
                                <option value="" data-i18n="select-one-default" selected="">•Select One</option>
                                <option value="giant" data-i18n="giant">Giant</option>
                                <option value="giantremove" data-i18n="remove-giant">Remove Giant</option>
                                <option value="young" data-i18n="young">Young</option>
                                <option value="youngremove" data-i18n="remove-young">Remove Young</option>
                                <option value="advanced" data-i18n="advanced">Advanced</option>
                                <option value="degenerate" data-i18n="degenerate">Degenerate</option>
                                <option value="celestial" data-i18n="celestial">Celestial</option>
                                <option value="fiendish" data-i18n="fiendish">Fiendish</option>
                                <option value="entropic" data-i18n="entropic">Entropic</option>
                                <option value="resolute" data-i18n="resolute">Resolute</option>
                            </select>
                            <span data-i18n="template" data-i18n-title="add-template" data-i18n-aria-label="add-template" title="Quickly update character with template" aria-label="Quickly update character with template">Template</span>
                        </label>
                        <label class="small-label2" style="margin-top:0">
                            <input type="checkbox" class="newtemplate-button cssbutton" value="1" name="attr_add_template" title="@{add_template}"><span></span>
                            <span class="cssbutton-label" data-i18n="add">Add</span>
                        </label>
                    </span>
                </div>
                <input class="showarrow h2arrow" style="position: absolute; top: 2em;" type="checkbox" name="attr_npc-compimport-show" data-i18n-aria-label="quick-stats" data-i18n-title="showsect-cmd" value="1" aria-label="QUICK STATS">
                <h2 class="clickheader showsect" style="position: absolute; margin-left: .65rem;"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="npc-statblock-header" aria-label="Click to expand">Monster statblock input section</label></h2>
                <!--Monster Parse Box-->
                <div class="h2-section hide-readonly monster-statblock-import" role="section" data-i18n-aria-label="npc-statblock-header">
                    <div class="compendium-drop-target Bestiary">
                        <span class="nontable-name show-readonly" data-i18n="npc-statblock-import">Statblock Import</span>
                        <div class="left">
                            <span data-i18n="npc-statblock-parse-instructions">Drag a monster from the compendium here, or type in the statblock values below. Then hit the parse button. The parser will populate the sheet with the underlying stats and attacks.</span>
                            <span data-i18n="npc-statblock-textarea-instructions">For multiline textareas, paste in exactly as appears in source. Keep newlines in input.</span>
                            <br />
                            <input class="csstextbutton progress-show" type="checkbox" title="@{npc_import_now}" name="attr_npc_import_now" value="1" /><span data-i18n="parse">Parse</span>
                            <input type="checkbox" class="selectedlabel-check" name="attr_npc_parse_no_recalc" title="@{npc_parse_no_recalc}" value="1" data-i18n-aria-label="manual-recalc-for-high-cr" /><b data-i18n-title="manual-recalc-for-high-cr" data-i18n="manual-recalc-after-parse"> Manually recalc after parsing</b>
                            <span class="progress-icon"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/busy_icon.gif" style="vertical-align:top;" /> <span data-i18n="loading">Loading...</span></span>
                            <span class="compendium-note hide-readonly">
                                <span class="compendium-icon">i</span>
                                <span class="vertical-middle" data-i18n-title="compendium-drag-n-drop-desc" data-i18n-aria-label="compendium-drag-n-drop-desc" data-i18n="compendium-drag-drop-compatible"> Compendium drag-n-drop compatible </span>
                                <span class="drag-icon">&#9111;</span>
                            </span>
                        </div>
                        <div class="nontable">
                            <div style="display:none;"><input type="text" value="" name="attr_npc_compendium_category" accept="Category" /></div>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_character_name" accept="Name" value="" title="@{character_name}" /><span data-i18n="name">Name</span><span name="attr_character_name" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_cr_compendium" accept="CR" value="" title="@{cr_compendium}" /><span data-i18n="challenge-rating-abbrv">CR</span><span name="attr_cr_compendium" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_xp_compendium" accept="XP" value="" title="@{xp_compendium}" /><span data-i18n="experience-points-abbrv">XP</span><span name="attr_xp_compendium" class="autoexpand"></span></label>
                            <div class="cheat"></div>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_alignment" accept="Alignment" value="" placeholder="Alignment" title="@{alignment}" data-i18n-placeholder="alignment" /><span data-i18n="alignment">Alignment</span><span name="attr_alignment" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_size_compendium" accept="Size" value="" title="@{size_compendium}" /><span data-i18n="size">Size</span><span name="attr_size_compendium" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_type_compendium" accept="Creature Type" value="" title="@{type_compendium}" data-i18n-placeholder="type-or-sub-type" /><span data-i18n="type-or-sub-type">Type/(sub-type)</span><span name="attr_type_compendium" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_class_compendium" accept="Monster Class" value="" placeholder="class" /><span data-i18n="class">Class</span><span name="attr_class_compendium" class="autoexpand"></span></label>
                            <br />
                            <label class="small-label2 autoexpand"><input type="text" name="attr_init_compendium" accept="Init" value="" title="@{init_compendium}" /><span data-i18n-placeholder="npc-initiative-compendium-example" data-i18n-title="npc-initiative-compendium-example" data-i18n-aria-label="npc-initiative-compendium-example" data-i18n="alignment-type-init">Init</span><span name="attr_init_compendium" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_senses_compendium" accept="Senses" value="" title="@{senses_compendium}" data-i18n-placeholder="npc-senses-compendium-place" /><span data-i18n="senses">Senses</span><span name="attr_senses_compendium" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_npc-aura" accept="Aura" value="" title="@{npc-aura}" data-i18n-placeholder="npc-aura-compendium-place" /><span data-i18n="aura">Aura</span><span name="attr_npc-aura" class="autoexpand"></span></label>
                            <hr />
                            <label class="small-label2 autoexpand"><input type="text" name="attr_ac_compendium" accept="AC" value="" title="@{ac_compendium}" data-i18n-placeholder="npc-ac-compendium-place" /><span data-i18n="armor-class-abbrv">AC</span><span name="attr_ac_compendium" class="autoexpand"></span></label>
                            <div class="cheat"></div>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_npc_hp_compendium" accept="HP" value="" title="@{npc_hp_compendium}" /><span data-i18n="hit-points-abbrv">HP</span><span name="attr_npc_hp_compendium" class="autoexpand"></span></label>
                            <br />
                            <label class="small-label2 autoexpand"><input type="text" name="attr_fort_compendium" accept="Fort" value="" title="@{fort_compendium}" placeholder="Fort" /><span data-i18n="fortitude-abbrv">Fort</span><span name="attr_fort_compendium" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_ref_compendium" accept="Ref" value="" title="@{ref_compendium}" placeholder="Ref" /><span data-i18n="reflex-abbrv">Ref</span><span name="attr_ref_compendium" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_will_compendium" accept="Will" value="" title="@{will_compendium}" placeholder="Will" /><span data-i18n="willpower-abbrv">Will</span><span name="attr_will_compendium" class="autoexpand"></span></label>
                            <div class="cheat"></div>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_dr_compendium" accept="DR" value="" title="@{dr_compendium}" /><span data-i18n="damage-resistance-abbrv">DR</span><span name="attr_dr_compendium" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_sr_compendium" value="" title="@{sr_compendium}" data-i18n-placeholder="spell-resistance" accept="Spell Resistance" /><span data-i18n="spell-resistance-abbrv">SR</span><span name="attr_sr_compendium" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_immunities" accept="Immune" value="" title="@{immunities}" data-i18n-placeholder="immunities" /><span data-i18n="immunities">immunities</span><span name="attr_immunities" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_resistances" accept="Resist" value="" title="@{resistances}" data-i18n-placeholder="resistances" /><span data-i18n="resistances">resistances</span><span name="attr_resistances" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_weaknesses" accept="Weaknesses" value="" title="@{weaknesses}" data-i18n-placeholder="weaknesses" /><span data-i18n="weaknesses">weaknesses</span><span name="attr_weaknesses" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_npc-defensive-abilities" accept="Defensive Abilities" value="" title="@{npc-defensive-abilities}" data-i18n-placeholder="defensive-abilities" /><span data-i18n="defensive-abilities">Defensive Abilities</span><span name="attr_npc-defensive-abilities" class="autoexpand"></span></label>
                            <hr />
                            <label class="small-label2 autoexpand"><input type="text" name="attr_speed_compendium" accept="Speed" value="" data-i18n-placeholder="speed" /><span data-i18n="speed">Speed</span><span name="attr_speed_compendium" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_space_compendium" accept="Space" value="" data-i18n-placeholder="space" /><span data-i18n="space">Space</span><span name="attr_space_compendium" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_reach_compendium" accept="Reach" value="" data-i18n-placeholder="reach" /><span data-i18n="reach">Reach</span><span name="attr_reach_compendium" class="autoexpand"></span></label>
                            <div class="cheat"></div>
                            <label class="small-label2 wide-textareaparent"><textarea class="inline-textarea" name="attr_npc-melee-attacks-text" accept="Melee" title="@{npc-melee-attacks-text}" data-i18n-placeholder="npc-melee-attacks-text-place"></textarea><span data-i18n-title="npc-statblock-textarea-instructions" data-i18n-aria-label="npc-statblock-textarea-instructions" data-i18n="melee">Melee</span></label>
                            <label class="small-label2 wide-textareaparent"><textarea class="inline-textarea" name="attr_npc-ranged-attacks-text" accept="Ranged" title="@{npc-ranged-attacks-text}" data-i18n-placeholder="npc-ranged-attacks-text-place"></textarea><span data-i18n-title="npc-statblock-textarea-instructions" data-i18n-aria-label="npc-statblock-textarea-instructions" data-i18n="ranged">Ranged</span></label>
                            <label class="small-label2 wide-textareaparent"><textarea class="inline-textarea" name="attr_npc-special-attacks" accept="Special Attacks" title="@{npc-special-attacks}" data-i18n-placeholder="npc-special-attacks-place"></textarea><span data-i18n-title="npc-statblock-textarea-instructions" data-i18n-aria-label="npc-statblock-textarea-instructions" data-i18n="special-attacks">Special Attacks</span></label>
                            <div style="display:none;"><input type="text" name="attr_npc-special-attacks" accept="Special Attack" /></div>
                            <label class="small-label2 wide-textareaparent"><textarea class="inline-textarea" name="attr_npc-spellike-ability-text" accept="Spell-Like Abilities" title="@{spellike-ability-text}" data-i18n-placeholder="npc-spellike-abilities-text-place"></textarea><span data-i18n-title="npc-statblock-textarea-instructions" data-i18n-aria-label="npc-statblock-textarea-instructions" data-i18n="spell-like-abilities">Spell-Like Abilities</span></label>
                            <label class="small-label2 wide-textareaparent"><textarea class="inline-textarea" name="attr_npc-spells-known-text" accept="Spells Known" title="@{npc-spells-known-text}" data-i18n-placeholder="npc-spells-known-text-place"></textarea><span data-i18n-title="npc-statblock-textarea-instructions" data-i18n-aria-label="npc-statblock-textarea-instructions" data-i18n="spells-known">Spells Known</span></label>
                            <label class="small-label2 wide-textareaparent"><textarea class="inline-textarea" name="attr_npc-spells-prepared_compendium" accept="Cleric Spells Prepared" title="@{npc-spells-prepared_compendium}" data-i18n-placeholder="npc-spells-prepared-place"></textarea><span data-i18n-title="npc-statblock-textarea-instructions" data-i18n-aria-label="npc-statblock-textarea-instructions" data-i18n="spells-prepared">Spells Prepared</span></label>
                            <hr />
                            <label class="small-label2 autoexpand"><input type="text" name="attr_str_compendium" accept="Str" value="" placeholder="Str" /><span data-i18n="strength-abbrv">STR</span><span name="attr_str_compendium" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_dex_compendium" accept="Dex" value="" placeholder="Dex" /><span data-i18n="dexterity-abbrv">DEX</span><span name="attr_dex_compendium" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_con_compendium" accept="Con" value="" placeholder="Con" /><span data-i18n="constitution-abbrv">CON</span><span name="attr_con_compendium" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_int_compendium" accept="Int" value="" placeholder="Int" /><span data-i18n="intelligence-abbrv">INT</span><span name="attr_int_compendium" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_wis_compendium" accept="Wis" value="" placeholder="Wis" /><span data-i18n="wisdom-abbrv">WIS</span><span name="attr_wis_compendium" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_cha_compendium" accept="Cha" value="" placeholder="Cha" /><span data-i18n="charisma-abbrv">CHA</span><span name="attr_cha_compendium" class="autoexpand"></span></label>
                            <div class="cheat"></div>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_bab_compendium" accept="Base Atk" value="" placeholder="bab" /><span data-i18n="base-attack-bonus-abbrv">BAB</span><span name="attr_bab_compendium" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_cmb_compendium" accept="CMB" value="" /><span data-i18n="combat-maneuver-bonus-abbrv">CMB</span><span name="attr_cmb_compendium" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_cmd_compendium" accept="CMD" value="" /><span data-i18n="combat-maneuver-defense-abbrv">CMD</span><span name="attr_cmd_compendium" class="autoexpand"></span></label>
                            <div class="cheat"></div>
                            <label class="small-label2 wide-textareaparent"><textarea class="inline-textarea" name="attr_npc-feats-text" accept="Feats" data-i18n-placeholder="npc-feats-text" title="@{npc-feats-text}"></textarea><span data-i18n-title="npc-statblock-textarea-instructions" data-i18n-aria-label="npc-statblock-textarea-instructions" data-i18n="feats">Feats</span></label>
                            <label class="small-label2 wide-textareaparent"><textarea class="inline-textarea" name="attr_skills_compendium" accept="Skills" data-i18n-placeholder="skills" title="@{skills_compendium}"></textarea><span data-i18n-title="npc-statblock-textarea-instructions" data-i18n-aria-label="npc-statblock-textarea-instructions" data-i18n="skills">Skills</span></label>
                            <label class="small-label2 wide-textareaparent"><textarea class="inline-textarea" name="attr_racial_mods_compendium" accept="Racial Modifiers" data-i18n-placeholder="racial-modifiers" title="@{racial_mods_compendium}"></textarea><span data-i18n-title="npc-statblock-textarea-instructions" data-i18n-aria-label="npc-statblock-textarea-instructions" data-i18n="racial-modifiers">Racial Modifiers</span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_languages" accept="Languages" value="" data-i18n-placeholder="languages" title="@{languages}" /><span data-i18n="languages">Languages</span><span name="attr_languages" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_SQ_compendium" accept="SQ" value="" data-i18n-placeholder="special-qualities-place" title="@{SQ_compendium}" /><span data-i18n="special-qualities">Special Qualities</span><span name="attr_SQ_compendium" class="autoexpand"></span></label>
                            <hr />
                            <label class="small-label2 autoexpand"><input type="text" name="attr_environment" accept="Environment" value="" data-i18n-placeholder="environment" title="@{environment}" /><span data-i18n="environment">Environment</span><span name="attr_environment" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_organization" accept="Organization" value="" data-i18n-placeholder="organization" title="@{organization}" /><span data-i18n="organization">Organization</span><span name="attr_organization" class="autoexpand"></span></label>
                            <label class="small-label2 autoexpand"><input type="text" name="attr_other_items_treasure" accept="Treasure" value="" data-i18n-placeholder="treasure" title="@{treasure}" /><span data-i18n="treasure">Treasure</b><span name="attr_other_items_treasure" class="autoexpand"></span></label>
                            <hr />
                        </div>
                        <div class="table">
                            <div class="table-row">
                                <span class="table-cell small-label left" style="width:100%;">
                                    <span data-i18n="special-abilities-and-content">Special Abilities and Content </span>
                                    <textarea class="desc" name="attr_content_compendium" accept="Content" data-i18n-placeholder="special-abilities-and-content-place"></textarea>
                                </span>
                            </div>
                        </div>
                    </div>
                    <!-- compendium import -->
                </div>
                <!--NPC/MONSTER-->
                <div class="cheat" style="margin-bottom:-2em;"></div>
                <input type="checkbox" class="mythic-show" name="attr_mythic-adventures-show" value="1" role="presentation">
                <input class="showarrow npc-details-show h2arrow show-readonly" type="checkbox" name="attr_npc-details-show" data-i18n-aria-label="details" data-i18n-title="showsect-cmd" value="1" checked />
                <div class="table npc-header showsect showsect-nocolor">
                    <span class="table-cell"><input style="font-size:1.25em;" type="text" title="@{character_name}" name="attr_character_name"></span>
                    <span class="table-cell right"><b data-i18n="challenge-rating-abbrv">CR</b></span>
                    <span class="table-cell entry-vshort"><input type="text" title="@{npc-cr}" name="attr_npc-cr" /></span>
                    <span class="table-cell entry-vshort section-mythic"><b title="Mythic Rank" data-i18n="mythic-rating-abbrv">MR</b></span>
                    <span class="table-cell entry-vshort section-mythic"><input type="text" title="@{npc-mythic-mr}" name="attr_npc-mythic-mr" /></span>
                </div>
                <!--DETAILS-->
                <div class="h2-section npc-details nontable noborder-readonly wide-readonly" role="section" aria-label="npc details">
                    <div class="npc-statblock-row">
                        <span class="small-label2 entry-med">
                            <span data-i18n="experience-points-abbrv">XP</span>
                            <input type="text" name="attr_npc-xp" accept="XP" title="@{npc-xp}" />
                        </span>
                    </div>
                    <div class="npc-statblock-row">
                        <span class="small-label2 entry-med">
                            <input title="@{alignment}" type="text" name="attr_alignment" data-i18n-placeholder="alignment" />
                        </span>
                        <span class="small-label2 entry-med" style="padding-left:0.5em;">
                            <select title="@{default_char_size}" name="attr_default_char_size">
                                <option value="-8" data-i18n="size-colossal">Colossal</option>
                                <option value="-4" data-i18n="size-gargantuan">Gargantuan</option>
                                <option value="-2" data-i18n="size-huge">Huge</option>
                                <option value="-1" data-i18n="size-large">Large</option>
                                <option value="0" data-i18n="medium-abbrv-default" selected>&#8226;Medium</option>
                                <option value="1" data-i18n="size-small">Small</option>
                                <option value="2" data-i18n="size-tiny">Tiny</option>
                                <option value="4" data-i18n="size-diminutive">Diminutive</option>
                                <option value="8" data-i18n="size-fine">Fine</option>
                            </select>
                        </span>
                        <span class="small-label2 entry-med">
                            <select title="@{size}" name="attr_size">
                                <option value="-8" data-i18n="size-colossal">Colossal</option>
                                <option value="-4" data-i18n="size-gargantuan">Gargantuan</option>
                                <option value="-2" data-i18n="size-huge">Huge</option>
                                <option value="-1" data-i18n="size-large">Large</option>
                                <option value="0" data-i18n="medium-abbrv-default" selected>&#8226;Medium</option>
                                <option value="1" data-i18n="size-small">Small</option>
                                <option value="2" data-i18n="size-tiny">Tiny</option>
                                <option value="4" data-i18n="size-diminutive">Diminutive</option>
                                <option value="8" data-i18n="size-fine">Fine</option>
                            </select>
                        </span>
                        <span class="small-label2">
                            <label class="small-label2 autoexpand">
                                <input title="@{npc-type}" type="text" name="attr_npc-type" data-i18n-placeholder="type-or-sub-type" accept="Creature Type" />
                                <span class="autoexpand" name="attr_npc-type"></span>
                            </label>
                        </span>
                        <label class="small-label2 number">
                            <input type="checkbox" name="attr_is_undead" value="1" title="@{is_undead}" />
                            <span data-i18n-title="undead-title" data-i18n-aria-label="undead-title" data-i18n="undead">Undead</span>
                        </label>
                        <span class="small-label2">
                            <label class="small-label2 autoexpand">
                                <input title="@{class-0-name}" type="text" name="attr_class-0-name" data-i18n-placeholder="class-name" placeholder="Class Name" />
                                <span class="autoexpand" name="attr_class-0-name" style="min-width:5em;"></span>
                            </label>
                        </span>
                        <span class="small-label2 entry-vshort">
                            <input title="@{class-0-level}" type="number" name="attr_class-0-level" placeholder="0" />
                        </span>
                    </div>
                    <div class="npc-statblock-row">
                        <span class="small-label2">
                            <button class="command-button" name="roll_NPC-Initiative-Roll" title="%{selected|NPC-Initiative-Roll}" type="roll" value="@{NPC-whisper} @{init-macro-text} {{name=^{npc} ^{initiative}}}">
                                <span data-i18n="initiative-abbrv-caps">INIT</span>
                                <span name="attr_init"></span>
                            </button>
                        </span>
                        <span class="small-label2">
                            <span class="small-label2" data-i18n="senses">Senses</span>
                            <label class="small-label2 autoexpand">
                                <input type="text" title="@{vision}" name="attr_vision" data-i18n-placeholder="vision" />
                                <span class="autoexpand" name="attr_vision"></span>
                            </label>
                        </span>
                        <span class="small-label2">
                            <button class="command-button" name="roll_NPC-Perception-Check" title="%{selected|NPC-Perception-Check}" type="roll" value="@{NPC-whisper} @{Perception-macro}">
                                <span data-i18n="perception">Perception</span>
                                <span name="attr_Perception"></span>
                            </button>
                        </span>
                        <span class="small-label2">
                            <span class="small-label2" data-i18n="aura">Aura</span>
                            <label class="small-label2 autoexpand">
                                <input type="text" title="@{npc-aura}" name="attr_npc-aura" placeholder="---" accept="Aura" />
                                <span class="autoexpand" name="attr_aura"></span>
                            </label>
                        </span>
                    </div>
                </div>
                <hr class="npc-hr npchead-top" />
                <input class="showarrow h2arrow" type="checkbox" name="attr_npc-defense-show" data-i18n-aria-label="defense" data-i18n-title="showsect-cmd" value="1" checked />
                <!--DEFENSE-->
                <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="defense">DEFENSE</label></h2>
                <hr class="npc-hr npchead-bottom" />
                <div class="h2-section npc-defense noborder-readonly wide-readonly">
                    <div class="npc-statblock-row">
                        <span class="small-label2"><span data-i18n="armor-class-abbrv">AC</span><input type="number" title="@{AC}" name="attr_AC" value="10" class="calc" readonly /></span>
                        <span class="small-label2"><span data-i18n="touch-armor-class-abbrv">Touch</span><input title="@{Touch}" type="number" name="attr_Touch" value="10" class="calc" readonly /></span>
                        <span class="small-label2"><span data-i18n="flat-footed-armor-class-abbrv">Flat-Footed</span><input title="@{Flat-Footed}" type="number" name="attr_Flat-Footed" value="10" class="calc" readonly /></span>
                    </div>
                    <!--details-box-->
                    <details open>
                        <summary style="margin: -1.75em 0 0 18.25em;" data-i18n-title="showsect-cmd" title="Click to expand">...</summary>
                        <div class="details-box">
                            <span class="small-label2 right">(</span>
                            <span class="small-label2">
                                <input title="@{armor3-acbonus}" type="number" name="attr_armor3-acbonus" value="0" />
                                <label style="text-align:center;">
                                    <input title="@{armor3-equipped}" type="checkbox" class="boldlabel-check" name="attr_armor3-equipped" value="1" style="width:1rem; height:1rem;" checked />
                                    <b title="Equipped" style="font-size:85%;" data-i18n="armor">Armor</b>
                                </label>
                            </span>
                            <span class="small-label2">
                                <input title="@{shield3-acbonus}" type="number" name="attr_shield3-acbonus" value="0" />
                                <label style="text-align:center;">
                                    <input title="@{shield3-equipped}" type="checkbox" class="boldlabel-check" name="attr_shield3-equipped" value="1" style="width:1rem; height:1rem;" checked />
                                    <b title="Equipped" style="font-size:85%;" data-i18n="shield">Shield</b>
                                </label>
                            </span>
                            <span class="small-label2">
                                <input title="@{AC-deflect}" type="number" name="attr_AC-deflect" value="0" />
                                <span data-i18n="deflect">Deflect</span>
                            </span>
                            <input type="checkbox" name="attr_nodex-toggle" class="warn-mshow hidden" value="1" />
                            <input type="checkbox" name="attr_maxdex-toggle" class="warn-show hidden" value="1" />
                            <span class="small-label2 highlight">
                                <input title="@{AC-ability-mod}" type="number" name="attr_AC-ability-display" value="0" class="calc" readonly />
                                <span data-i18n="dexterity-abbrv">Dex</span>
                            </span>
                            <span class="small-label2 highlight">
                                <input title="@{AC-dodge}" type="number" name="attr_AC-dodge" value="0" />
                                <span data-i18n="dodge">Dodge</span>
                            </span>
                            <span class="small-label2">
                                <input title="@{AC-natural}" type="number" name="attr_AC-natural" value="0" />
                                <span data-i18n="natural">Natural</span>
                            </span>
                            <input type="checkbox" name="attr_AC-misc-mod_error" value="1" class="error-mshow">
                            <span class="small-label2 entry-med highlight">
                                <input title="@{AC-misc}" type="text" class="macro-text-inline" name="attr_AC-misc" value="" data-i18n-placeholder="equation-macro-place" placeholder="#/Equation" />
                                <span class="super note-a" data-i18n="miscellaneous-abbrv">Misc</span>
                            </span>
                            <span class="small-label2">
                                <input title="@{buff_AC-total}" name="attr_buff_AC-total" type="number" value="0" class="calc" readonly />
                                <span data-i18n="buff">Buff</span>
                            </span>
                            <span class="small-label2">
                                <input title="@{AC-penalty}" type="number" name="attr_AC-penalty" value="0" max="0" class="calc" readonly />
                                <span data-i18n-title="condition-description" data-i18n-aria-label="condition-description" data-i18n="condition-abbrv">Cond</span>
                            </span>
                            <span class="small-label2 left">)</span>
                        </div>
                    </details>
                    <div class="npc-statblock-row">
                        <span class="small-label2">
                            <span data-i18n="hit-points-abbrv">HP</span>
                            <input type="number" title="@{HP}" name="attr_HP" value="0" />
                        </span>
                        <span class="small-label2">/</span>
                        <span class="small-label2">
                            <input type="number" title="@{HP|max}" name="attr_HP_max" value="0" class="calc" readonly />
                        </span>
                        <span class="small-label2" style="margin-left:4em;"><input type="number" title="@{HP-temp}" name="attr_HP-temp" value="0" /><span data-i18n="temporary-hit-points-abbrv">Temp hp</span></span>
                        <span class="small-label2"><input type="number" title="@{non-lethal-damage}" name="attr_non-lethal-damage" value="0" min="0" /><span data-i18n="nonlethal">Nonlthal</span></span>
                        <span class="small-label2">
                            <label class="small-label2 autoexpand">
                                <input type="text" title="@{npc-heal-conditions}" name="attr_npc-heal-conditions" value="" title="@{npc-heal-conditions}" placeholder="---" />
                                <span name="attr_npc-heal-conditions" class="autoexpand"></span>
                            </label>
                            <span data-i18n="heal-conditions">Heal Conditions</span>
                        </span>
                    </div>
                    <!--details-box-->
                    <details open>
                        <summary style="margin: -1.75em 0 0 8em;" data-i18n-title="showsect-cmd" title="Click to expand">...</summary>
                        <div class="details-box">
                            <span class="small-label2 right">(</span>
                            <span class="small-label2" data-i18n-title="racial-bonus">
                                <input title="@{npc-hd-num}" type="number" name="attr_npc-hd-num" value="0" />
                                <span>#</span>
                            </span>
                            <span class="small-label2">
                                <span data-i18n="dice-abbrv">d</span>
                            </span>
                            <span class="small-label2">
                                <input title="@{npc-hd} racial HD" type="number" name="attr_npc-hd" value="" />
                                <span data-i18n="hit-die-abbrv">HDie</span>
                            </span>
                            <span class="small-label2">+</span>
                            <span class="small-label2">
                                <input title="@{hp_ability_bonus}" type="number" name="attr_hp_ability_bonus" value="0" class="calc" readonly />
                                <span data-i18n="constitution-abbrv">Con</span>
                            </span>
                            <span class="small-label2">+</span>
                            <input type="checkbox" name="attr_HP-formula-mod_error" class="error-mshow hidden" value="1" />
                            <span class="small-label2 highlight">
                                <input title="@{HP-formula-mod}" type="number" name="attr_HP-formula-mod" value="0" class="calc" readonly />
                                <span data-i18n="modifier-abbrv">Mod</span>
                            </span>
                            <span class="small-label2 highlight entry-med">
                                <input title="@{HP-formula-macro-text}" type="text" class="macro-text-inline" name="attr_HP-formula-macro-text" value="" data-i18n-placeholder="equation-macro-place" />
                                <span class="super note-a" data-i18n="miscellaneous-abbrv">Misc</span>
                            </span>
                            <span class="small-label2 left">)</span>
                        </div>
                    </details>
                    <div class="npc-statblock-row">
                        <span class="small-label2">
                            <button class="command-button" title="%{selected|NPC-Fort-Save}" type="roll" name="roll_NPC-Fort-Save" value="@{NPC-whisper} @{fort-save-macro-text} {{name=^{npc} ^{fortitude}}}">
                                <span data-i18n="fortitude-abbrv">Fort</span>
                                <span name="attr_Fort"></span>
                            </button>
                        </span>
                        <span class="small-label2">+</span>
                        <span class="small-label2 entry-short">
                            <input type="checkbox" name="attr_Fort-misc-mod_error" value="1" class="error-mshow">
                            <input class="macro-text-inline skill-macro-text linked-cellfield highlight" title="@{Fort-misc}" type="text" name="attr_Fort-misc" value="" data-i18n-placeholder="equation-macro-place" />
                            <span class="super note-a"></span>
                        </span>
                        <span class="small-label2">
                            <button class="command-button" title="%{selected|NPC-Ref-Save}" type="roll" name="roll_NPC-Ref-Save" value="@{NPC-whisper} @{ref-save-macro-text} {{name=^{npc} ^{reflex}}}">
                                <span data-i18n="reflex-abbrv">Ref</span>
                                <span name="attr_Ref"></span>
                            </button>
                        </span>
                        <span class="small-label2">+</span>
                        <span class="small-label2 entry-short">
                            <input type="checkbox" name="attr_Ref-misc-mod_error" value="1" class="error-mshow">
                            <input class="macro-text-inline skill-macro-text linked-cellfield highlight" title="@{Ref-misc}" type="text" name="attr_Ref-misc" value="" data-i18n-placeholder="equation-macro-place" />
                            <span class="super note-a"></span>
                        </span>
                        <span class="small-label2">
                            <button class="command-button" title="%{selected|NPC-Will-Save}" type="roll" name="roll_NPC-Will-Save" value="@{NPC-whisper} @{will-save-macro-text} {{name=^{npc} ^{willpower}}}">
                                <span data-i18n="willpower-abbrv">Will</span>
                                <span name="attr_Will"></span>
                            </button>
                        </span>
                        <span class="small-label2">+</span>
                        <span class="small-label2 entry-short">
                            <input type="checkbox" name="attr_Will-misc-mod_error" value="1" class="error-mshow">
                            <input class="macro-text-inline skill-macro-text linked-cellfield highlight" title="@{Will-misc}" type="text" name="attr_Will-misc" value="" data-i18n-placeholder="equation-macro-place" />
                            <span class="super note-a"></span>
                        </span>
                    </div>
                    <div class="npc-statblock-row">
                        <span class="small-label2">
                            <span class="small-label2" data-i18n="damage-resistance-abbrv">DR</span>
                            <label class="small-label2 autoexpand">
                                <input type="text" name="attr_DR" accept="DR" value="" title="@{dr}" placeholder="---" />
                                <span name="attr_dr" class="autoexpand"></span>
                            </label>
                        </span>
                        <span class="small-label2">
                            <span class="small-label2" data-i18n="defensive-abilities">Defensive Abilities</span>
                            <label class="small-label2 autoexpand">
                                <input type="text" name="attr_npc-defensive-abilities" accept="Defensive Abilities" value="" title="@{npc-defensive-abilities}" placeholder="---" />
                                <span name="attr_npc-defensive-abilities" class="autoexpand"></span>
                            </label>
                        </span>
                        <input type="checkbox" name="attr_SR_error" class="error-mshow hidden" value="1" />
                        <span class="small-label2 highlight">
                            <span data-i18n="spell-resistance-abbrv" data-i18n-title="spell-resistance-title" data-i18n-aria-label="spell-resistance-title">SR</span>
                            <input title="@{SR}" type="number" name="attr_SR" value="0" class="calc" readonly />
                        </span>
                        <span class="small-label2 entry-med highlight">
                            <input type="text" title="@{SR-macro-text}" name="attr_SR-macro-text" value="" class="macro-text-inline" data-i18n-placeholder="equation-macro-place" />
                            <span class="super note-a"></span>
                        </span>
                    </div>
                    <div class="npc-statblock-row">
                        <span class="small-label2">
                            <span data-i18n="immune">Immune</span>
                            <label class="small-label2 autoexpand">
                                <input type="text" name="attr_immunities" accept="Immune" value="" title="@{immunities}" placeholder="---" />
                                <span name="attr_immunities" class="autoexpand"></span>
                            </label>
                        </span>
                        <span class="small-label2">
                            <span data-i18n="resistance-abbrv">Resist</span>
                            <label class="small-label2 autoexpand">
                                <input type="text" name="attr_resistances" accept="Resist" value="" title="@{resistances}" placeholder="---" />
                                <span name="attr_resistances" class="autoexpand"></span>
                            </label>
                        </span>
                        <span class="small-label2">
                            <span data-i18n="weaknesses">Weaknesses</span>
                            <label class="small-label2 autoexpand">
                                <input type="text" name="attr_weaknesses" accept="Weaknesses" value="" title="@{weaknesses}" placeholder="---" />
                                <span name="attr_weaknesses" class="autoexpand"></span>
                            </label>
                        </span>
                    </div>
                    <div class="npc-statblock-row">
                        <textarea style="width: 60%;" class="inline-textarea" title="@{save-notes}" name="attr_Save-notes" data-i18n-placeholder="save-notes" placeholder=" Save Notes"></textarea>
                        <span class="small-label2" data-i18n-title="include-save-notes">
                            <span class="small-label2" data-i18n="save-notes" data-i18n-title="include-save-notes">Save Notes</span>
                            <input name="attr_toggle_save_notes" value="@{var_save_notes}" title="@{toggle_save_notes}" type="checkbox" />
                        </span>
                    </div>
                    <span class="hide-readonly sect-inverse inspecial">
                        <a href="#special-abilities" data-i18n-title="in-special-abilities-section" data-i18n="special-qualities">Special Qualities</a>
                    </span>
                </div>
                <hr class="npc-hr npchead-top" />
                <input class="showarrow h2arrow" type="checkbox" name="attr_npc-offense-show" data-i18n-aria-label="offense" data-i18n-title="showsect-cmd" value="1" checked />
                <!--OFFENSE-->
                <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="offense">OFFENSE</label></h2>
                <hr class="npc-hr npchead-bottom" />
                <div class="h2-section npc-offense noborder-readonly wide-readonly" role="region" aria-label="npc-offense">
                    <div class="cheat"></div>
                    <input type="checkbox" class="use-metrics noshow" name="attr_use_metrics" value="1" />
                    <input class="showarrow h3arrow" type="checkbox" name="attr_npc-speed-show" data-i18n-aria-label="speed" data-i18n-title="showsect-cmd" value="1" checked />
                    <h3 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n="speed-space-reach">Speed</label></h3>
                    <div class="h3-section noborder-readonly wide-readonly">
                        <div class="npc-statblock-row">
                            <span class="small-label2 entry-med">
                                <span data-i18n="speed" data-i18n-title="speed-base-title">Speed</span>
                                <input class="input-feet distance-used" title="@{speed-base}" type="number" step="5" min="0" name="attr_speed-base" value="0" />
                                <input class="input-meters distance-used" title="@{speed-base}" type="number" step="1.5" min="0" name="attr_speed-base" value="0" />
                                <span></span>
                            </span>
                            <span class="small-label2 entry-med" data-i18n-title="speed-title">
                                <span data-i18n="encumbered-abbrv" data-i18n-title="speed-title">Encum</span>
                                <input class="input-feet input-meters distance-used" title="@{speed-modified}" type="number" name="attr_speed-modified" value="0" class="calc" readonly />
                                <span></span>
                            </span>
                            <span class="small-label2 entry-med">
                                <span data-i18n="multiplier-abbrv" data-i18n-title="speed-multiplier-title">Mult</span>
                                <input title="@{run-mult}" type="number" name="attr_run-mult" value="4" />
                            </span>
                            <span class="small-label2 entry-med">
                                <span data-i18n="run" data-i18n-title="speed-run-title">Run</span>
                                <input class="input-feet input-meters distance-used" title="@{speed-run}" type="number" name="attr_speed-run" value="0" class="calc" readonly />
                                <span></span>
                            </span>
                        </div>
                        <div class="npc-statblock-row">
                            <span class="small-label2 entry-med">
                                <span data-i18n="burrow-speed">Burrow</span>
                                <input class="input-feet distance-used" title="@{speed-burrow}" type="number" name="attr_speed-burrow" value="0" step="5" />
                                <input class="input-meters distance-used" title=" @{speed-burrow}" type="number" name="attr_speed-burrow" value="0" step="1.5" />
                                <span></span>
                            </span>
                            <span class="small-label2 entry-med">
                                <span data-i18n="climb">Climb</span>
                                <input class="input-feet distance-used" title="@{speed-climb}" type="number" step="5" min="0" name="attr_speed-climb" value="0" />
                                <input class="input-meters distance-used" title="@{speed-climb}" type="number" step="1.5" min="0" name="attr_speed-climb" value="0" />
                                <span></span>
                            </span>
                            <span class="small-label2 entry-med">
                                <span data-i18n="fly">Fly</span>
                                <input class="input-feet distance-used" title="@{speed-fly}" type="number" name="attr_speed-fly" value="0" step="5" />
                                <input class="input-meters distance-used" title="@{speed-fly}" type="number" name="attr_speed-fly" value="0" step="1.5" />
                                <span></span>
                            </span>
                            <label class="small-label2 autoexpand" style="margin: 3px 0 0 5px;">
                                <input title="@{speed-fly-maneuverability}" type="text" name="attr_speed-fly-maneuverability" data-i18n-placeholder="maneuverability" />
                                <span class="autoexpand" name="attr_speed-fly-maneuverability" style="min-width:7em;"></span>
                            </label>
                        </div>
                        <div class="npc-statblock-row">
                            <span class="small-label2 entry-med">
                                <span data-i18n="swim-speed">Swim</span>
                                <input class="input-feet distance-used" title="@{speed-swim}" type="number" name="attr_speed-swim" value="0" step="5" />
                                <input class="input-meters distance-used" title="@{speed-swim}" type="number" name="attr_speed-swim" value="0" step="1.5" />
                                <span></span>
                            </span>
                            <span class="small-label2 entry-med">
                                <span data-i18n="miscellaneous-abbrv">Misc</span>
                                <input class="input-feet distance-used" title="@{speed-misc}" type="number" name="attr_speed-misc" value="0" step="5" />
                                <input class="input-meters distance-used" title="@{speed-misc}" type="number" name="attr_speed-misc" value="0" step="1.5" />
                                <span></span>
                            </span>
                            <span class="small-label2">
                                <input title="@{speed-notes}" type="text" name="attr_speed-notes" data-i18n-placeholder="speed-notes" />
                                <span data-i18n="speed-notes">Speed Notes</span>
                            </span>
                        </div>
                        <div class="npc-statblock-row">
                            <span class="small-label2 entry-med">
                                <span data-i18n="space">Space</span>
                                <input class="input-feet input-meters distance-used" title="@{space}" type="text" name="attr_space" value="0" />
                                <span></span>
                            </span>
                            <span class="small-label2 entry-med">
                                <span data-i18n="reach">Reach</span>
                                <input class="input-feet input-meters distance-used" title=" @{reach}" type="text" name="attr_reach" value="0" />
                                <span></span>
                            </span>
                            <span class="small-label2">
                                <input title="@{reach-notes}" type="text" name="attr_reach-notes" data-i18n-placeholder="reach-notes" />
                                <span data-i18n="reach-notes">Reach Notes</span>
                            </span>
                        </div>
                    </div>
                    <div class="cheat"></div>
                    <input class="showarrow h3arrow" type="checkbox" name="attr_npc-repeating-weapons-show" data-i18n-aria-label="attacks" data-i18n-title="showsect-cmd" value="1" checked />
                    <h3 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="attacks">Attacks</label></h3>
                    <div class="h3-section repeating-sect" role="region" aria-label="npc-attacks">
                        <span class="nontable-name" data-i18n="attacks">Attacks</span>
                        <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" data-i18n-aria-label="minimize-all-cmd" title="Minimize all rows." name="attr_npcweapon-min-show" value="1" /><span></span>
                        <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" data-i18n-aria-label="expand-cmd" title="Collapse or expand all rows." name="attr_npcweapon-expand-show" value="1" /><span></span>
                        <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" data-i18n-aria-label="column-cmd" title="Split into two columns" name="attr_npcweapon-column-show" value="1" /><span></span>
                        <input class="deletebutton cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_weapon_btn" value="1" data-i18n-title="delete-attack" data-i18n-aria-label="delete-attack-must-confirm-next-checkbox" /><span></span><label class="deletesect allrows-note"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_weapon" data-i18n-aria-label="confirm-delete-attack" data-i18n-title="confirm-delete-attack" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                        <input type="checkbox" name="attr_adv_macro_show" class="repeating-sect-show" value="1" role="presentation" />
                        <input name="attr_modify_dmg_by_size" type="checkbox" value="1" class="use-size-show noshow" />
                        <div class="repeating-fields">
                            <input type="checkbox" class="use-metrics noshow" name="attr_use_metrics" value="1" />
                            <fieldset class="repeating_weapon">
                                <span class="error"><span class="pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
                                <div class="nontable-repeating">
                                    <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" data-i18n-aria-label="minimize-cmd" title="Minimize Row" name="attr_row-show" value="1" checked /><span></span>
                                    <span style="display:none;" class="repeating-rollbutton"><button type="roll" name="attr_attack-roll" title="%{selected|repeating_weapon_$X_attack-roll}" value="@{PC-whisper} @{macro-text}"></button></span>
                                    <span class="repeating-rollbutton"><button type="roll" name="attr_attack-npc-roll" title="%{selected|repeating_weapon_$X_attack-npc-roll}" value="@{NPC-whisper} @{macro-text}"></button></span>
                                    <input type="checkbox" value="1" name="attr_dualwield" class="dualwield-hide noshow" role="presentation" />
                                    <label class="small-label2 narrow-numbers sect nondual-sect"><input type="number" name="attr_enhance" title="@{repeating_weapon_$X_enhance}" value="0" /><span data-i18n="enhancement-abbrv">Enh</span></label>
                                    <label class="small-label2 sect nondual-sect" style="width:2.5em;"><input type="checkbox" name="attr_masterwork" title="@{repeating_weapon_$X_masterwork}" value="1" style="margin-bottom:0.55em;" /><span data-i18n="masterwork-abbrv">Mwk</span></label>
                                    <label class="small-label2 entry-20p-shrink"><input type="text" name="attr_name" value="" title="@{repeating_weapon_$X_name}" data-i18n-placeholder="name" /><span data-i18n="name">Name</span></label>
                                    <div class="linked-fields sect nondual-sect">
                                        <input type="checkbox" name="attr_attack-mod_error" class="error-mshow" value="1" />
                                        <label class="small-label2 entry-short highlight"><input type="text" class="macro-text-inline" name="attr_attack" title="@{repeating_weapon_$X_attack}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" class="macro-text-inline" /><span class="super note-a" data-i18n="attack-modifiers-abbrv">Attack Mods</span></label>
                                        <label class="small-label2 narrow-numbers highlight space-right-collapse"><input type="number" name="attr_attack-mod" title="@{repeating_weapon_$X_attack-mod}" value="0" class="calc" readonly /><span data-i18n="value-abbrv">val</span></label>
                                    </div>
                                    <span class="divider-db sect nondual-sect">+</span>
                                    <label class="small-label2 entry-short">
                                        <select class="select-small" title="@{repeating_weapon_$X_attack-type}" name="attr_attack-type">
                                            <option value="0" data-i18n="none-default" selected>&#8226;None</option>
                                            <option value="attk-melee" data-i18n="melee">Melee</option>
                                            <option value="attk-ranged" data-i18n="ranged">Ranged</option>
                                            <option value="CMB" data-i18n="combat-maneuver-bonus-abbrv">CMB</option>
                                            <option value="attk-melee2" data-i18n="melee2">Alt Melee</option>
                                            <option value="attk-ranged2" data-i18n="ranged2">Alt Ranged</option>
                                            <option value="CMB2" data-i18n="combat-maneuver-bonus-abbrv2">Alt CMB</option>
                                            <option value="dual" data-i18n="dual-wield">Dual Wield</option>
                                        </select>
                                        <span data-i18n="attack-type">Attack Type</span>
                                    </label>
                                    <span class="divider-db sect nondual-sect">=</span>
                                    <label class="small-label2 narrow-numbers space-right-collapse"><input type="number" name="attr_total-attack" title="@{repeating_weapon_$X_total-attack}" value="0" class="calc bigger-total" readonly /><span data-i18n="attack">Attack</span></label>
                                    <label class="small-label2 entry-short sect nondual-sect">
                                        <select class="select-small" name="attr_vs">
                                            <option value="ac" data-i18n="armor-class-abbrv-default" selected>&#8226;AC</option>
                                            <option value="touch" data-i18n="touch">Touch</option>
                                            <option value="ff" data-i18n="flat-footed-armor-class-abbrv">FF</option>
                                            <option value="fft" data-i18n="flat-footed-touch-abbrv">FF Touch</option>
                                            <option value="cmd" data-i18n="combat-maneuver-defense-abbrv">CMD</option>
                                            <option value="cmb" data-i18n="opposed-combat-maneuver-bonus-abbrv">Opposed CMB</option>
                                            <option value="other" data-i18n="other">Other</option>
                                        </select>
                                        <span data-i18n="versus-abbrv">Vs.</span>
                                    </label>
                                    <div class="linked-fields nondual-sect">
                                        <label class="small-label2 narrow-numbers"><input type="number" name="attr_crit-target" title="@{repeating_weapon_$X_crit-target}" value="20" min="0" max="20" /><span data-i18n="critical-abbrv">Crit</span></label>
                                        <span class="divider-db-lg" style="width:1em; padding-bottom:1rem;">/x</span>
                                        <label class="small-label2 narrow-numbers"><input type="number" name="attr_crit-multiplier" title="@{repeating_weapon_$X_crit-multiplier}" value="2" min="0" /><span data-i18n="multiplier-abbrv">Mult</span></label>
                                    </div>
                                    <div class="linked-fields nondual-sect">
                                        <input type="checkbox" name="attr_crit_confirm_temp_error" class="error-mshow" value="1" />
                                        <label class="small-label2 entry-short highlight sect">
                                            <input type="text" class="macro-text-inline float-right" name="attr_crit_confirm" title="@{repeating_weapon_$X_crit_confirm}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" />
                                            <input type="text" name="attr_crit_confirm_temp" value="0" class="hidden" />
                                            <span class="super note-a" data-i18n-title="custom-crit-confirmation-bonus" data-i18n-aria-label="custom-crit-confirmation-bonus" title="Custom critical confirmation bonus for this attack" data-i18n="confirm-critical-bonus-abbrv">+Conf</span>
                                        </label>
                                        <label class="small-label2 narrow-numbers highlight space-right-collapse">
                                            <input type="number" name="attr_crit_conf_mod" title="@{repeating_weapon_$X_crit_conf_mod}" value="0" class="calc" readonly />
                                            <span data-i18n="value-abbrv">val</span>
                                        </label>
                                    </div>
                                    <input name="attr_size_affects" type="checkbox" value="1" class="sect3-show noshow" />
                                    <input name="attr_not_default_size" type="checkbox" value="1" class="sect3-show size-affects-show noshow" />
                                    <div class="linked-fields dont-use-size nondual-sect">
                                        <label class="small-label2 narrow-numbers"><input type="number" name="attr_damage-dice-num" title="@{repeating_weapon_$X_damage-dice-num}" value="0" /></label>
                                        <span class="divider-db-lg">d</span>
                                        <label class="small-label2 narrow-numbers"><input type="number" name="attr_damage-die" title="@{repeating_weapon_$X_damage-die}" value="0" /></label>
                                        <span class="divider-subtext">dmg dice</span>
                                    </div>
                                    <div class="linked-fields sect3 use-size nondual-sect">
                                        <label class="small-label2 narrow-numbers"><input type="number" name="attr_damage-dice-num" title="@{repeating_weapon_$X_damage-dice-num}" value="0" class="calc" readonly /></label>
                                        <span class="divider-db-lg">d</span>
                                        <label class="small-label2 narrow-numbers"><input type="number" name="attr_damage-die" title="@{repeating_weapon_$X_damage-die}" value="0" class="calc" readonly /></label>
                                        <span class="divider-subtext">adj damage dice</span>
                                    </div>
                                    <div class="linked-fields use-size nondual-sect">
                                        <label class="small-label2 narrow-numbers"><input type="number" name="attr_default_damage-dice-num" title="@{repeating_weapon_$X_default_damage-dice-num}" value="0" min="0" /></label>
                                        <span class="divider-db-lg">d</span>
                                        <label class="small-label2 narrow-numbers"><input type="number" name="attr_default_damage-die" title="@{repeating_weapon_$X_default_damage-die}" value="0" min="0" /></label>
                                        <span class="divider-subtext">dmg dice</span>
                                    </div>
                                    <span class="divider-db sect nondual-sect">+</span>
                                    <div class="linked-fields sect nondual-sect">
                                        <input type="checkbox" name="attr_damage-mod_error" class="error-mshow" value="1" />
                                        <label class="small-label2 entry-short highlight"><input type="text" class="macro-text-inline" name="attr_damage" title="@{repeating_weapon_$X_damage}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="damage-modifier-abbrv">Dmg Mods</span></label>
                                        <label class="small-label2 narrow-numbers highlight space-right-collapse"><input type="number" name="attr_damage-mod" title="@{repeating_weapon_$X_damage-mod}" value="0" class="calc" readonly /><span data-i18n="value-abbrv">val</span></label>
                                    </div>
                                    <span class="divider-db nondual-sect">+</span>
                                    <label class="small-label2 narrow-numbers sect nondual-sect"><input type="number" step=".5" name="attr_damage_ability_mult" title="@{repeating_weapon_$X_damage_ability_mult}" value="1"><span data-i18n="multiplier-abbrv" data-i18n-title="damage-multiplier-title" data-i18n-aria-label="damage-multiplier-title" title="Damage ability modifier: .5, 1.5, 2, etc, can leave blank to represent 1.">Mult</span></label>
                                    <span class="divider-db-lg sect nondual-sect">*</span>
                                    <label class="small-label2 entry-short sect nondual-sect">
                                        <select class="select-small" title="@{repeating_weapon_$X_damage-ability}" name="attr_damage-ability">
                                            <option value="0" data-i18n="none-default" selected>&#8226;None</option>
                                            <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                            <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                            <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                            <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                            <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                            <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                        </select>
                                        <span style="margin-left:-.75em;" data-i18n="damage-ability">Dmg Ability</span>
                                    </label>
                                    <input type="hidden" name="attr_damage-ability-mod" value="0" />
                                    <input type="checkbox" class="noshow sect2-show sect-show-inverse" name="attr_isranged" value="1" role="presentation" title="@{repeating_weapon_$X_isranged}" />
                                    <span class="divider-db sect sect2 nondual-sect">(</span>
                                    <label class="small-label2 sect sect2 nondual-sect" style="width:1.75em;">
                                        <input style="min-width:0.5em;" type="text" name="attr_damage-ability-max" title="@{repeating_weapon_$X_damage-ability-max}" value="" data-i18n-placeholder="not-applicable" />
                                        <span data-i18n-title="maximum-damage-ability-title" data-i18n-aria-label="maximum-damage-ability-title" title="Maximum damage ability applied (for strength score, etc.)" data-i18n="maximum-abbrv">Max</span>
                                    </label>
                                    <span class="divider-db sect sect2 nondual-sect">)</span>
                                    <span class="divider-db sect nondual-sect">=</span>
                                    <label class="small-label2 narrow-numbers space-right-collapse nondual-sect"><input type="number" name="attr_total-damage" title="@{repeating_weapon_$X_total-damage}" value="0" class="calc bigger-total" readonly /><span data-i18n="damage-abbrv">Dmg</span></label>
                                    <label class="small-label2 entry-8p-shrink sect nondual-sect"><input type="text" name="attr_type" value="p/b/s...?" title="@{repeating_weapon_$X_type} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" /><span data-i18n="type">Type</span></label>
                                    <label class="small-label2 narrow-numbers nondual-sect">
                                        <input class="number" type="text" name="attr_range" title="@{repeating_weapon_$X_range}" value="0" style="padding: 0; margin: 4px 0 0 0;">
                                        <input type="checkbox" class="noshow sect2-show sect-show-inverse" name="attr_isranged" value="1" role="presentation" title="@{repeating_weapon_$X_isranged}" />
                                        <span class="sect2 distance-used" data-i18n="range">Range</span>
                                        <span class="sect-inverse distance-used" data-i18n="reach-small">Reach</span>
                                    </label>
                                    <input type="checkbox" class="nextitem-show noshow" name="attr_isranged" value="1" role="presentation" title="@{repeating_weapon_$X_isranged}" />
                                    <label class="small-label2 sect2 narrow-numbers ammo nondual-sect">
                                        <input type="number" name="attr_ammo" title="@{repeating_weapon_$X_ammo}" value="0" />
                                        <span data-i18n="ammo">Ammo</span>
                                    </label>
                                    <div class="cheat"></div>
                                    <input type="hidden" name="attr_attack-type_macro_insert" value="@{toggle_global_melee_macro_insert}" />
                                    <input type="hidden" name="attr_damage-type_macro_insert" value="@{toggle_global_melee_damage_macro_insert}" />
                                    <input type="hidden" name="attr_macro_options" value="{{buff_note=@{buff_attack_notes}}} {{condition_note=@{condition_attack_notes}}}" />
                                    <input type="hidden" name="attr_iterative_attacks" value="@{toggle_iterative_attack2} @{toggle_iterative_attack3} @{toggle_iterative_attack4} @{toggle_iterative_attack5} @{toggle_iterative_attack6} @{toggle_iterative_attack7} @{toggle_iterative_attack8} @{toggle_iterative_attack9}" />
                                    <div class="sect expand">
                                        <input type="checkbox" class="showarrow misc-show" name="attr_misc-show" value="1" data-i18n-title="miscellaneous" data-i18n-aria-label="miscellaneous" />
                                        <label class="showsect misc-showlabel" data-i18n="miscellaneous-abbrv">Misc</label>
                                        <input type="checkbox" class="showarrow extra-damage-show" name="attr_add-damage-show" value="1" data-i18n-title="additional-damage-title" aria-label="Show Additional Damage" data-i18n-aria-label="additional-damage" />
                                        <label class="showsect extra-damage-showlabel" data-i18n="precision-abbrv">Extra Dmg</label>
                                        <input type="checkbox" class="showarrow iterations-show" data-i18n-title="iterative-attacks-title" data-i18n-aria-label="iterative-attacks-title" aria-label="Show Iterative Attacks" name="attr_iterative-attacks-show" value="1" />
                                        <label class="showsect iterations-showlabel" data-i18n="iterative-attacks-abbrv">Iterative Atks</label>
                                        <input type="checkbox" class="showarrow advmacro-text-show nondual-sect" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Macro Text" name="attr_advmacro-text-show" value="1" />
                                        <label class="showsect advmacro-text-showlabel nondual-sect" data-i18n="macro-text-advanced">Adv Rolltime Macros</label>
                                        <input type="checkbox" class="showarrow macro-text-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1" />
                                        <label class="showsect macro-text-showlabel" data-i18n="macro-text">Macro Text</label>
                                        <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1" />
                                        <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                        <hr class="subnav-hr">
                                        <div class="cheat"></div>
                                        <div class="misc">
                                            <label class="small-label2 autoexpand">
                                                <input type="text" name="attr_group" value="" title="@{repeating_weapon_$X_group}" data-i18n-placeholder="group-name" />
                                                <span data-i18n="group">Group name</span><span name="attr_group" class="autoexpand"></span>
                                            </label>
                                            <label class="small-label2 nondual-sect">
                                                <select title="@{repeating_weapon_$X_proficiency}" name="attr_proficiency">
                                                    <option value="0" data-i18n="yes-default" selected>&#8226;Yes</option>
                                                    <option value="-4" data-i18n="no">No</option>
                                                </select>
                                                <span data-i18n-title="proficiency-title" data-i18n-aria-label="proficiency-title" data-i18n="proficiency">Prof</span>
                                            </label>
                                            <label class="small-label2 use-size-only nondual-sect" style="width:4.5em;"><input type="checkbox" name="attr_size_affects" title="@{repeating_weapon_$X_size_affects}" value="1" checked /><span data-i18n-title="damage-dice-affected-by-size" data-i18n="use-size-abbrv">Use sze</span></label>
                                            <input type="checkbox" name="attr_size_affects" value="1" class="nextitem-show noshow" />
                                            <label class="small-label2 nextitem use-size-only nondual-sect">
                                                <select title="@{repeating_weapon_$X_default_size}" name="attr_default_size">
                                                    <option value="-8" data-i18n="size-colossal">Colossal</option>
                                                    <option value="-4" data-i18n="size-gargantuan">Gargantuan</option>
                                                    <option value="-2" data-i18n="size-huge">Huge</option>
                                                    <option value="-1" data-i18n="size-large">Large</option>
                                                    <option value="0" data-i18n="medium-abbrv-default" selected>&#8226;Medium</option>
                                                    <option value="1" data-i18n="size-small">Small</option>
                                                    <option value="2" data-i18n="size-tiny">Tiny</option>
                                                    <option value="4" data-i18n="size-diminutive">Diminutive</option>
                                                    <option value="8" data-i18n="size-fine">Fine</option>
                                                </select>
                                                <span data-i18n="normal-size">Normal Size</span>
                                            </label>
                                            <label class="small-label" style="width:75%;">
                                                <textarea class="inline-textarea" name="attr_notes" title="@{repeating_weapon_$X_notes}" placeholder="Weapon Notes"></textarea>
                                                <span data-i18n="notes">Notes</span>
                                            </label>
                                        </div>
                                        <div class="extra-damage center">
                                            <label class="small-label2" style="width:23.85%;">
                                                <span class="nondual-sect" data-i18n-title="precision-damage-type" data-i18n-aria-label="precision-damage-type" title="Extra Damage type" data-i18n="type">Type</span>
                                                <span class="dual-sect" data-i18n-title="extra-damage-condition" data-i18n-aria-label="extra-damage-condition" title="Extra Damage type" data-i18n="rake-rend-etc">Condition</span>
                                                <textarea class="macro-text-inline both" name="attr_precision_dmg_type" title="@{repeating_weapon_$X_precision_dmg_type}" data-i18n-placeholder="damage-type-or-description" placeholder="Dmg type / Description"></textarea>
                                            </label>
                                            <label class="small-label2" style="width:23.85%;">
                                                <span class="super note-b" data-i18n-title="precision-damage-title" data-i18n-aria-label="precision-damage-title" title="Extra or Precision Damage (not added to critical damage)" data-i18n="extra-damage">Extra Non-Crit Dmg</span>
                                                <textarea class="macro-text-inline both" type="text" name="attr_precision_dmg_macro" title="@{repeating_weapon_$X_precision_dmg_macro}" data-i18n-placeholder="full-macro-place"></textarea>
                                            </label>
                                            <label class="small-label2 nondual-sect" style="width:23.85%;">
                                                <span data-i18n-title="precision-damage-type" data-i18n-aria-label="precision-damage-type" title="Extra Damage type" data-i18n="type">Type</span>
                                                <textarea class="macro-text-inline both" name="attr_critical_dmg_type" title="@{repeating_weapon_$X_critical_dmg_type}" data-i18n-placeholder="damage-type-or-description" placeholder="Dmg type / Description"></textarea>
                                            </label>
                                            <label class="small-label2 nondual-sect" style="width:23.85%;">
                                                <span class="super note-b" data-i18n-title="extra-critical-damage-title" data-i18n-aria-label="extra-critical-damage-title" title="Extra Critical Damage" data-i18n="extra-critical-damage">Extra Crit Dmg</span>
                                                <textarea class="macro-text-inline both" type="text" name="attr_critical_dmg_macro" title="@{repeating_weapon_$X_critical_dmg_macro}" data-i18n-placeholder="full-macro-place"></textarea>
                                            </label>
                                        </div>
                                        <div class="table iterative_attack_section">
                                            <span class="secondary-table-name" data-i18n="iterative-attacks">Iterative Attacks</span>
                                            <div class="table-row">
                                                <span class="table-header" style="width:14em;" data-i18n="include-attacks-?">Include Attack?</span>
                                                <span class="table-header" style="width:20%;" data-i18n="custom-name">Custom Name</span>
                                                <span class="table-header" style="width:7em;" data-i18n="attack-modifier-abbrv">Attack Mod</span>
                                                <span class="table-header" style="width:7em;" data-i18n="type">Type</span>
                                                <span class="table-header super note-d" data-i18n="macro-text">Macro</span>
                                            </div>
                                            <div class="table-row">
                                                <span class="table-cell">
                                                    <label>
                                                        <b data-i18n="primary-attack">Primary attack</b>
                                                    </label>
                                                </span>
                                                <span class="table-cell">
                                                    <input type="text" name="attr_iterative_attack1_name" title="@{repeating_weapon_$X_iterative_attack1_name}" value="" data-i18n-placeholder="attack-1">
                                                </span>
                                                <span class="table-cell">
                                                    <input type="number" name="attr_total-attack" title="@{repeating_weapon_$X_total-attack}" value="0" class="calc" readonly />
                                                </span>
                                                <span class="table-cell">
                                                    <input type="text" name="attr_type" value="p/b/s...?" title="@{repeating_weapon_$X_type} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" />
                                                </span>
                                                <span class="table-cell macro-text-tohide"> </span>
                                            </div>
                                            <div class="table-row">
                                                <span class="table-cell">
                                                    <label>
                                                        <input type="checkbox" class="boldlabel-check" name="attr_toggle_iterative_attack2" title="@{repeating_weapon_$X_toggle_iterative_attack2}" value="@{var_iterative_attack2_macro}" /><b title="Include a second attack to your weapon?" data-i18n="include-second-attack">Include a 2nd attack?</b>
                                                    </label>
                                                </span>
                                                <span class="table-cell">
                                                    <input type="text" name="attr_iterative_attack2_name" title="@{repeating_weapon_$X_iterative_attack2_name}" value="" data-i18n-placeholder="attack-2">
                                                </span>
                                                <span class="table-cell">
                                                    <input type="number" name="attr_iterative_attack2_value" title="@{repeating_weapon_$X_iterative_attack2_value}" value="-5" max="0" />
                                                </span>
                                                <span class="table-cell">
                                                    <input type="text" name="attr_type2" value="" title="@{repeating_weapon_$X_type2} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" />
                                                </span>
                                                <span class="table-cell macro-text-tohide">
                                                    <textarea class="macro-text-inline" data-i18n-placeholder="full-macro-place" name="attr_var_iterative_attack2_macro" title="@{repeating_weapon_$X_var_iterative_attack2_macro}">{{attack2=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{attack_macro} + @{iterative_attack2_value} ]] [iterative] ]]}} {{damage2=[[ @{damage-dice-num}d@{damage-die} + @{damage_macro} ]]}} {{type2=@{type2}}} {{crit_confirm2=[[ 1d20 + [[ @{attack_macro} + @{iterative_attack2_value} ]] [iterative] + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage2=[[ [[ @{damage-dice-num} * [[ @{crit-multiplier} - 1 ]] ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1 ]]) ]]}} {{precision_dmg21=@{precision_dmg_macro}}} {{precision_dmg22=@{global_precision_dmg_macro}}} {{critical_dmg21=@{critical_dmg_macro}}} {{critical_dmg22=@{global_critical_dmg_macro}}} {{attack2name=@{iterative_attack2_name}}}</textarea>
                                                </span>
                                            </div>
                                            <div class="table-row">
                                                <span class="table-cell">
                                                    <label>
                                                        <input type="checkbox" class="boldlabel-check" name="attr_toggle_iterative_attack3" title="@{repeating_weapon_$X_toggle_iterative_attack3}" value="@{var_iterative_attack3_macro}" /><b title="Include a third attack to your weapon?" data-i18n="include-third-attack">Include a 3rd attack?</b>
                                                    </label>
                                                </span>
                                                <span class="table-cell">
                                                    <input type="text" name="attr_iterative_attack3_name" title="@{repeating_weapon_$X_iterative_attack3_name}" value="" data-i18n-placeholder="attack-3">
                                                </span>
                                                <span class="table-cell">
                                                    <input type="number" name="attr_iterative_attack3_value" title="@{repeating_weapon_$X_iterative_attack3_value}" value="-10" max="0" />
                                                </span>
                                                <span class="table-cell">
                                                    <input type="text" name="attr_type3" value="" title="@{repeating_weapon_$X_type3} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" />
                                                </span>
                                                <span class="table-cell macro-text-tohide">
                                                    <textarea class="macro-text-inline" data-i18n-placeholder="full-macro-place" name="attr_var_iterative_attack3_macro" title="@{repeating_weapon_$X_var_iterative_attack3_macro}">{{attack3=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{attack_macro} + @{iterative_attack3_value} ]] [iterative] ]]}} {{damage3=[[ @{damage-dice-num}d@{damage-die} + @{damage_macro} ]]}} {{type3=@{type3}}} {{crit_confirm3=[[ 1d20 + [[ @{attack_macro} + @{iterative_attack3_value} ]] [iterative] + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage3=[[ [[ @{damage-dice-num} * [[ @{crit-multiplier} - 1 ]] ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1]]) ]]}} {{precision_dmg31=@{precision_dmg_macro}}} {{precision_dmg32=@{global_precision_dmg_macro}}} {{critical_dmg31=@{critical_dmg_macro}}} {{critical_dmg32=@{global_critical_dmg_macro}}} {{attack3name=@{iterative_attack3_name}}}</textarea>
                                                </span>
                                            </div>
                                            <div class="table-row">
                                                <span class="table-cell">
                                                    <label>
                                                        <input type="checkbox" class="boldlabel-check" name="attr_toggle_iterative_attack4" title="@{repeating_weapon_$X_toggle_iterative_attack4}" value="@{var_iterative_attack4_macro}" /><b title="Include a fourth attack to your weapon?" data-i18n="include-fourth-attack">Include a 4th attack?</b>
                                                    </label>
                                                </span>
                                                <span class="table-cell">
                                                    <input type="text" name="attr_iterative_attack4_name" title="@{repeating_weapon_$X_iterative_attack4_name}" value="" data-i18n-placeholder="attack-4">
                                                </span>
                                                <span class="table-cell">
                                                    <input type="number" name="attr_iterative_attack4_value" title="@{repeating_weapon_$X_iterative_attack4_value}" value="-15" max="0" />
                                                </span>
                                                <span class="table-cell">
                                                    <input type="text" name="attr_type4" value="" title="@{repeating_weapon_$X_type4} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" />
                                                </span>
                                                <span class="table-cell macro-text-tohide">
                                                    <textarea class="macro-text-inline" data-i18n-placeholder="full-macro-place" name="attr_var_iterative_attack4_macro" title="@{repeating_weapon_$X_var_iterative_attack4_macro}">{{attack4=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{attack_macro} + @{iterative_attack4_value} ]] [iterative] ]]}} {{damage4=[[ @{damage-dice-num}d@{damage-die} + @{damage_macro} ]]}} {{type4=@{type4}}} {{crit_confirm4=[[ 1d20 + [[ @{attack_macro} + @{iterative_attack4_value} ]] [iterative] + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage4=[[ [[ @{damage-dice-num} * [[ @{crit-multiplier} - 1 ]] ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1 ]]) ]]}} {{precision_dmg41=@{precision_dmg_macro}}} {{precision_dmg42=@{global_precision_dmg_macro}}} {{critical_dmg41=@{critical_dmg_macro}}} {{critical_dmg42=@{global_critical_dmg_macro}}} {{attack4name=@{iterative_attack4_name}}}</textarea>
                                                </span>
                                            </div>
                                            <div class="table-row">
                                                <span class="table-cell">
                                                    <label>
                                                        <input type="checkbox" class="boldlabel-check" name="attr_toggle_iterative_attack5" title="@{repeating_weapon_$X_toggle_iterative_attack5}" value="@{var_iterative_attack5_macro}" /><b title="Include a fifth attack to your weapon?" data-i18n="include-fifth-attack">Include a 5th attack?</b>
                                                    </label>
                                                </span>
                                                <span class="table-cell">
                                                    <input type="text" name="attr_iterative_attack5_name" title="@{repeating_weapon_$X_iterative_attack5_name}" value="" data-i18n-placeholder="attack-5">
                                                </span>
                                                <span class="table-cell">
                                                    <input type="number" name="attr_iterative_attack5_value" title="@{repeating_weapon_$X_iterative_attack5_value}" value="-20" max="0" />
                                                </span>
                                                <span class="table-cell">
                                                    <input type="text" name="attr_type5" value="" title="@{repeating_weapon_$X_type5} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" />
                                                </span>
                                                <span class="table-cell macro-text-tohide">
                                                    <textarea class="macro-text-inline" data-i18n-placeholder="full-macro-place" name="attr_var_iterative_attack5_macro" title="@{repeating_weapon_$X_var_iterative_attack5_macro}">{{attack5=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{attack_macro} + @{iterative_attack5_value} ]] [iterative] ]]}} {{damage5=[[ @{damage-dice-num}d@{damage-die} + @{damage_macro} ]]}} {{type5=@{type5}}} {{crit_confirm5=[[ 1d20 + [[ @{attack_macro} + @{iterative_attack5_value} ]] [iterative] + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage5=[[ [[ @{damage-dice-num} * [[ @{crit-multiplier} - 1 ]] ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1 ]]) ]]}} {{precision_dmg51=@{precision_dmg_macro}}} {{precision_dmg52=@{global_precision_dmg_macro}}} {{critical_dmg51=@{critical_dmg_macro}}} {{critical_dmg52=@{global_critical_dmg_macro}}} {{attack5name=@{iterative_attack5_name}}}</textarea>
                                                </span>
                                            </div>
                                            <div class="table-row">
                                                <span class="table-cell">
                                                    <label>
                                                        <input type="checkbox" class="boldlabel-check" name="attr_toggle_iterative_attack6" title="@{repeating_weapon_$X_toggle_iterative_attack6}" value="@{var_iterative_attack6_macro}" /><b title="Include a sixth attack to your weapon?" data-i18n="include-sixth-attack">Include a 6th attack?</b>
                                                    </label>
                                                </span>
                                                <span class="table-cell">
                                                    <input type="text" name="attr_iterative_attack6_name" title="@{repeating_weapon_$X_iterative_attack6_name}" value="" data-i18n-placeholder="attack-6">
                                                </span>
                                                <span class="table-cell">
                                                    <input type="number" name="attr_iterative_attack6_value" title="@{repeating_weapon_$X_iterative_attack6_value}" value="-25" max="0" />
                                                </span>
                                                <span class="table-cell">
                                                    <input type="text" name="attr_type6" value="" title="@{repeating_weapon_$X_type6} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" />
                                                </span>
                                                <span class="table-cell macro-text-tohide">
                                                    <textarea class="macro-text-inline" data-i18n-placeholder="full-macro-place" name="attr_var_iterative_attack6_macro" title="@{repeating_weapon_$X_var_iterative_attack6_macro}">{{attack6=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{attack_macro} + @{iterative_attack6_value} ]] [iterative] ]]}} {{damage6=[[ @{damage-dice-num}d@{damage-die} + @{damage_macro} ]]}} {{type6=@{type6}}} {{crit_confirm6=[[ 1d20 + [[ @{attack_macro} + @{iterative_attack6_value} ]] [iterative] + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage6=[[ [[ @{damage-dice-num} * [[ @{crit-multiplier} - 1 ]] ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1 ]]) ]]}} {{precision_dmg61=@{precision_dmg_macro}}} {{precision_dmg62=@{global_precision_dmg_macro}}} {{critical_dmg61=@{critical_dmg_macro}}} {{critical_dmg62=@{global_critical_dmg_macro}}} {{attack6name=@{iterative_attack6_name}}}</textarea>
                                                </span>
                                            </div>
                                            <div class="table-row">
                                                <span class="table-cell">
                                                    <label>
                                                        <input type="checkbox" class="boldlabel-check" name="attr_toggle_iterative_attack7" title="@{repeating_weapon_$X_toggle_iterative_attack7}" value="@{var_iterative_attack7_macro}" /><b title="Include a seventh attack to your weapon?" data-i18n="include-seventh-attack">Include a 7th attack?</b>
                                                    </label>
                                                </span>
                                                <span class="table-cell">
                                                    <input type="text" name="attr_iterative_attack7_name" title="@{repeating_weapon_$X_iterative_attack7_name}" value="" data-i18n-placeholder="attack-7">
                                                </span>
                                                <span class="table-cell">
                                                    <input type="number" name="attr_iterative_attack7_value" title="@{repeating_weapon_$X_iterative_attack7_value}" value="-30" max="0" />
                                                </span>
                                                <span class="table-cell">
                                                    <input type="text" name="attr_type7" value="" title="@{repeating_weapon_$X_type7} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" />
                                                </span>
                                                <span class="table-cell macro-text-tohide">
                                                    <textarea class="macro-text-inline" data-i18n-placeholder="full-macro-place" name="attr_var_iterative_attack7_macro" title="@{repeating_weapon_$X_var_iterative_attack7_macro}">{{attack7=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{attack_macro} + @{iterative_attack7_value} ]] [iterative] ]]}} {{damage7=[[ @{damage-dice-num}d@{damage-die} + @{damage_macro} ]]}} {{type7=@{type7}}} {{crit_confirm7=[[ 1d20 + [[ @{attack_macro} + @{iterative_attack7_value} ]] [iterative] + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage7=[[ [[ @{damage-dice-num} * [[ @{crit-multiplier} - 1 ]] ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1 ]]) ]]}} {{precision_dmg71=@{precision_dmg_macro}}} {{precision_dmg72=@{global_precision_dmg_macro}}} {{critical_dmg71=@{critical_dmg_macro}}} {{critical_dmg72=@{global_critical_dmg_macro}}} {{attack7name=@{iterative_attack7_name}}}</textarea>
                                                </span>
                                            </div>
                                            <div class="table-row">
                                                <span class="table-cell">
                                                    <label>
                                                        <input type="checkbox" class="boldlabel-check" name="attr_toggle_iterative_attack8" title="@{repeating_weapon_$X_toggle_iterative_attack8}" value="@{var_iterative_attack8_macro}" /><b title="Include an eighth attack to your weapon?" data-i18n="include-eighth-attack">Include an 8th attack?</b>
                                                    </label>
                                                </span>
                                                <span class="table-cell">
                                                    <input type="text" name="attr_iterative_attack8_name" title="@{repeating_weapon_$X_iterative_attack8_name}" value="" data-i18n-placeholder="attack-8">
                                                </span>
                                                <span class="table-cell">
                                                    <input type="number" name="attr_iterative_attack8_value" title="@{repeating_weapon_$X_iterative_attack8_value}" value="-35" max="0" />
                                                </span>
                                                <span class="table-cell">
                                                    <input type="text" name="attr_type8" value="" title="@{repeating_weapon_$X_type8} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" />
                                                </span>
                                                <span class="table-cell macro-text-tohide">
                                                    <textarea class="macro-text-inline" data-i18n-placeholder="full-macro-place" name="attr_var_iterative_attack8_macro" title="@{repeating_weapon_$X_var_iterative_attack8_macro}">{{attack8=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{attack_macro} + @{iterative_attack8_value} ]] [iterative] ]]}} {{damage8=[[ @{damage-dice-num}d@{damage-die} + @{damage_macro} ]]}} {{type8=@{type8}}} {{crit_confirm8=[[ 1d20 + [[ @{attack_macro} + @{iterative_attack8_value} ]] [iterative] + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage8=[[ [[ @{damage-dice-num} * [[ @{crit-multiplier} - 1 ]] ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1 ]]) ]]}} {{precision_dmg81=@{precision_dmg_macro}}} {{precision_dmg82=@{global_precision_dmg_macro}}} {{critical_dmg81=@{critical_dmg_macro}}} {{critical_dmg82=@{global_critical_dmg_macro}}} {{attack8name=@{iterative_attack8_name}}}</textarea>
                                                </span>
                                            </div>
                                            <div class="table-row">
                                                <span class="table-cell">
                                                    <label>
                                                        <input type="checkbox" class="boldlabel-check" name="attr_toggle_iterative_attack9" title="@{repeating_weapon_$X_toggle_iterative_attack9}" value="@{var_iterative_attack9_macro}" /><b title="Include a ninth attack to your weapon?" data-i18n="include-ninth-attack">Include a 9th attack?</b>
                                                    </label>
                                                </span>
                                                <span class="table-cell">
                                                    <input type="text" name="attr_iterative_attack9_name" title="@{repeating_weapon_$X_iterative_attack9_name}" value="" data-i18n-placeholder="attack-9">
                                                </span>
                                                <span class="table-cell">
                                                    <input type="number" name="attr_iterative_attack9_value" title="@{repeating_weapon_$X_iterative_attack9_value}" value="-40" max="0" />
                                                </span>
                                                <span class="table-cell">
                                                    <input type="text" name="attr_type9" value="" title="@{repeating_weapon_$X_type9} Damage Type" data-i18n-placeholder="pierce-blunt-slash-abbrv" />
                                                </span>
                                                <span class="table-cell macro-text-tohide">
                                                    <textarea class="macro-text-inline" data-i18n-placeholder="full-macro-place" name="attr_var_iterative_attack9_macro" title="@{repeating_weapon_$X_var_iterative_attack9_macro}">{{attack9=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{attack_macro} + @{iterative_attack9_value} ]] [iterative] ]]}} {{damage9=[[ @{damage-dice-num}d@{damage-die} + @{damage_macro} ]]}} {{type9=@{type9}}} {{crit_confirm9=[[ 1d20 + [[ @{attack_macro} + @{iterative_attack9_value} ]] [iterative] + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage9=[[ [[ @{damage-dice-num} * [[ @{crit-multiplier} - 1 ]] ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1 ]]) ]]}} {{precision_dmg91=@{precision_dmg_macro}}} {{precision_dmg92=@{global_precision_dmg_macro}}} {{critical_dmg91=@{critical_dmg_macro}}} {{critical_dmg92=@{global_critical_dmg_macro}}} {{attack9name=@{iterative_attack9_name}}}</textarea>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="advanced-macros nondual-sect">
                                            <div class="center repeating-hidesect">
                                                <div class="insertmacrocell" style="width:48.5%">
                                                    <input class="textarea-gray" type="checkbox" name="attr_toggle_attack_macro_insert" value="@{var_attack_macro_insert}" title="@{toggle_attack_macro_insert}" checked />
                                                    <label class="small-label2">
                                                        <span class="super note-c" data-i18n="insert-macro-attack" data-i18n-title="additional-attack-macro-query-included-with-crits" data-i18n-aria-label="additional-attack-macro-query-included-with-crits" title="Additional Attack Macro/Query(included with crits)">'Add to Attack' Macro:</span>
                                                        <input type="hidden" name="attr_var_attack_macro_insert" value="[[ @{attack_macro_insert} ]] [Macro]" />
                                                        <textarea class="macro-text-inline both" name="attr_attack_macro_insert" data-i18n-placeholder="full-macro-place" title="@{repeating_weapon_$X_attack_macro_insert}">0</textarea>
                                                    </label>
                                                </div>
                                                <div class="insertmacrocell" style="width:48.5%">
                                                    <input class="textarea-gray" type="checkbox" name="attr_toggle_damage_macro_insert" value="@{var_damage_macro_insert}" title="@{toggle_damage_macro_insert}" checked />
                                                    <label class="small-label2">
                                                        <span class="super note-c" data-i18n="insert-macro-damage" data-i18n-title="additional-damage-macro-query-included-with-crits" data-i18n-aria-label="additional-damage-macro-query-included-with-crits" title="Additional Damage Macro/Query(included with crits)">'Add to Damage' Macro:</span>
                                                        <input type="hidden" name="attr_var_damage_macro_insert" value="[[ @{damage_macro_insert} ]] [Macro]" />
                                                        <textarea class="macro-text-inline both" name="attr_damage_macro_insert" data-i18n-placeholder="full-macro-place" title="@{repeating_weapon_$X_damage_macro_insert}">0</textarea>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="macro-text">
                                            <label class="small-label2" style="width:100%;">
                                                <h3 class="super note-d" data-i18n="full-macro">Full Macro:</h3>
                                                <div class="cheat"></div>
                                                <textarea class="macro-text" title="@{repeating_weapon_$X_macro-text}" name="attr_macro-text">&{template:pf_attack} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{attack=[[ 1d20cs>[[ @{crit-target} ]] + @{attack_macro} ]]}} {{damage=[[@{damage-dice-num}d@{damage-die} + @{damage_macro}]]}} {{crit_confirm=[[ 1d20 + @{attack_macro} + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage=[[ [[ @{damage-dice-num} * (@{crit-multiplier} - 1) ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1 ]]) ]]}} {{type=@{type}}} {{weapon_notes=@{notes}}} @{iterative_attacks} @{macro_options} {{vs=@{vs}}} {{vs@{vs}=@{vs}}} {{precision_dmg1=@{precision_dmg_macro}}} {{precision_dmg1_type=@{precision_dmg_type}}} {{precision_dmg2=@{global_precision_dmg_macro}}} {{precision_dmg2_type=@{global_precision_dmg_type}}} {{critical_dmg1=@{critical_dmg_macro}}} {{critical_dmg1_type=@{critical_dmg_type}}} {{critical_dmg2=@{global_critical_dmg_macro}}} {{critical_dmg2_type=@{global_critical_dmg_type}}} {{attack1name=@{iterative_attack1_name}}}</textarea>
                                                <textarea style="display:none;" class="macro-text" title="@{repeating_weapon_$X_NPC-macro-text}" name="attr_NPC-macro-text">&{template:pf_attack} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{attack=[[ 1d20cs>[[ @{crit-target} ]] + @{attack_macro} ]]}} {{damage=[[@{damage-dice-num}d@{damage-die} + @{damage_macro}]]}} {{crit_confirm=[[ 1d20 + @{attack_macro} + [[ @{crit_conf_mod} ]] ]]}} {{crit_damage=[[ [[ @{damage-dice-num} * (@{crit-multiplier} - 1) ]]d@{damage-die} + ((@{damage_macro}) * [[ @{crit-multiplier} - 1 ]]) ]]}} {{type=@{type}}} {{weapon_notes=@{notes}}} @{iterative_attacks} @{macro_options} {{vs=@{vs}}} {{vs@{vs}=@{vs}}} {{precision_dmg1=@{precision_dmg_macro}}} {{precision_dmg1_type=@{precision_dmg_type}}} {{precision_dmg2=@{global_precision_dmg_macro}}} {{precision_dmg2_type=@{global_precision_dmg_type}}} {{critical_dmg1=@{critical_dmg_macro}}} {{critical_dmg1_type=@{critical_dmg_type}}} {{critical_dmg2=@{global_critical_dmg_macro}}} {{critical_dmg2_type=@{global_critical_dmg_type}}} {{attack1name=@{iterative_attack1_name}}}</textarea>
                                                <div class="cheat"></div>
                                                <span style="line-height: 2em;float: left;width: 15%;"><span data-i18n="attack-macro">Attack Macro</span>:</span>
                                                <input class="skill-macro-text calc" style="width:85%;" type="text" name="attr_attack_macro" title="@{repeating_weapon_$X_attack_macro}" value="[[ @{total-attack} ]] [Total] + @{toggle_attack_macro_insert} + @{attack-type_macro_insert} + @{toggle_global_attack_macro_insert}" readonly />
                                                <div class="cheat"></div>
                                                <span style="line-height: 2em;float: left;width: 15%;"><span data-i18n="damage-macro">Damage Macro</span>:</span>
                                                <input class="skill-macro-text calc" style="width:85%;" type="text" name="attr_damage_macro" title="@{repeating_weapon_$X_damage_macro}" value="[[ @{total-damage} ]] [Total] + @{toggle_damage_macro_insert} + @{damage-type_macro_insert} + @{toggle_global_damage_macro_insert}" readonly />
                                            </label>
                                        </div>
                                        <div class="repeating-id">
                                            <label class="small-label2 nextitem">
                                                <input class="selectable calc" name="attr_row_id" readonly />
                                                <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                            </label>
                                            <input type="checkbox" name="attr_link_type" class="noshow" value="0" role="presentation" checked />
                                            <input type="checkbox" name="attr_link_type" class="nextitem-show noshow" value="1" role="presentation" />
                                            <label class="small-label2 nextitem" data-i18n-title="source-item-title" data-i18n-aria-label="source-item-title">
                                                <input type="text" name="attr_source-item" title="@{repeating_weapon_$X_source-item}" value="" data-i18n-placeholder="source-item-placeholder" readonly /><span data-i18n="source-item">Linked Item ID</span> <span name="attr_source-item-name"></span></label>
                                            <input type="checkbox" name="attr_link_type" class="nextitem-show noshow" value="2" role="presentation" />
                                            <label class="small-label2 nextitem" data-i18n-title="source-spell-title" data-i18n-aria-label="source-spell-title">
                                                <input type="text" name="attr_source-spell" title="@{repeating_weapon_$X_source-spell}" value="" data-i18n-placeholder="source-spell-placeholder" readonly /><span data-i18n="source-spell">Linked Spell ID</span> <span name="attr_source-spell-name"></span></label>
                                            <input type="checkbox" name="attr_link_type" class="nextitem-show noshow" value="3" role="presentation" />
                                            <label class="small-label2 nextitem" data-i18n-title="source-ability-title" data-i18n-aria-label="source-ability-title">
                                                <input type="text" name="attr_source-ability" title="@{repeating_weapon_$X_source-ability}" value="" data-i18n-placeholder="source-ability-placeholder" readonly /><span data-i18n="source-ability">Linked ability ID</span> <span name="attr_source-ability-name"></span></label>
                                            <input type="checkbox" name="attr_link_type" class="sect3-show noshow" value="4" role="presentation" />
                                            <label class="small-label2 sect3" data-i18n-title="source-attack-title" data-i18n-aria-label="source-attack-title">
                                                <input type="text" name="attr_source-main" title="@{repeating_weapon_$X_source-main}" value="" data-i18n-placeholder="source-attack-placeholder" readonly /><span data-i18n="source-mainhand">Mainhand ID</span></label>
                                            <label class="small-label2 sect3" data-i18n-title="source-attack-title" data-i18n-aria-label="source-attack-title">
                                                <input type="text" name="attr_source-off" title="@{repeating_weapon_$X_source-off}" value="" data-i18n-placeholder="source-attack-placeholder" readonly /><span data-i18n="source-offhand">Offhand ID</span></label>
                                            <input type="hidden" name="attr_source-main-name" />
                                            <input type="hidden" name="attr_source-off-name" />
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                    <div class="cheat"></div>
                    <input name="attr_use_spell-like-abilities" type="checkbox" value="1" class="oldslas-show sect-show-inverse noshow" />
                    <span class="hide-readonly sect-inverse inspecial">
                        <a href="#special-abilities" data-i18n-title="in-special-abilities-section" data-i18n="spell-like-abilities">Spell-like Abilities</a>
                    </span>
                    <input class="showarrow h3arrow section-oldslas" type="checkbox" name="attr_npc-spell-like-abilities-show" data-i18n-aria-label="spell-like-abilities" data-i18n-title="showsect-cmd" value="1" checked />
                    <h3 class="clickheader showsect section-oldslas"><label data-i18n-title="showsect-cmd" data-i18n="spell-like-abilities">Spell Like Abilities</label></h3>
                    <div class="h3-section section-oldslas" role="region" aria-label="npc-spell-like-abilities">
                        <div class="repeating-sect section-oldslas">
                            <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" name="attr_npc-spell-like-abilities-min-show" value="1" /><span></span>
                            <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" name="attr_npc-spell-like-abilities-expand-show" value="1" /><span></span>
                            <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" name="attr_npc-spell-like-abilities-column-show" value="1" /><span></span>
                            <input class="deletebutton cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_npc-spell-like-abilities_btn" value="1" data-i18n-title="delete-npc-spell-like-abilities" data-i18n-aria-label="delete-npc-spell-like-abilities-must-confirm-next-checkbox" /><span></span><label class="deletesect allrows-note"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_npc-spell-like-abilities" data-i18n-aria-label="confirm-delete-npc-spell-like-abilities" data-i18n-title="confirm-delete-npc-spell-like-abilities" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                            <div class="repeating-fields">
                                <fieldset class="repeating_npc-spell-like-abilities">
                                    <span class="error"><span class="pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
                                    <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" name="attr_row-show" value="1" checked /><span class="table-cell"></span>
                                    <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_npc-spell-like-abilities_$X_roll}" value="@{macro-text}"></button></span>
                                    <span class="table-cell small-label"><input title="@{repeating_npc-spell-like-abilities_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses-per-day">Uses/Day</span></span>
                                    <input type="hidden" value="spell-like-abilities" name="attr_rule_category" />
                                    <span class="table-cell small-label" style="width:25%;"><input title="@{repeating_npc-spell-like-abilities_$X_name}" type="text" name="attr_name" data-i18n-placeholder="name" /><br><span data-i18n="name">Name</span></span>
                                    <span class="table-cell small-label sect" style="width:25%;"><input title="@{repeating_npc-spell-like-abilities_$X_short-description}" type="text" name="attr_short-description" data-i18n-placeholder="short-description" /><br><span data-i18n="short-description-abbrv">Short Desc</span></span>
                                    <span class="table-cell small-label sect"><input title="@{repeating_npc-spell-like-abilities_$X_level}" type="text" name="attr_level" value="0" data-i18n-placeholder="spell-level" /><br><span data-i18n="level">Level</span></span>
                                    <span class="table-cell small-label"><input title="@{repeating_npc-spell-like-abilities_$X_range}" type="text" name="attr_range" value="" data-i18n-placeholder="range" /><br><span data-i18n="range">Range</span></span>
                                    <span class="table-cell small-label sect"><input title="@{repeating_npc-spell-like-abilities_$X_duration}" type="text" name="attr_duration" value="" data-i18n-placeholder="spell-duration" /><br><span data-i18n="duration">Duration</span></span>
                                    <span class="table-cell small-label"><input title="@{repeating_npc-spell-like-abilities_$X_save}" type="text" name="attr_save" value="" data-i18n-placeholder="save" /><br><span data-i18n="save">Save</span></span>
                                    <span class="table-cell small-label sect" style="width:5.5em;">
                                        <select title="@{repeating_npc-spell-like-abilities_$X_sr}" name="attr_sr">
                                            <option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                            <option value="Yes" data-i18n="yes">Yes</option>
                                            <option value="No" data-i18n="no">No</option>
                                            <option value="Yes (Harmless)" data-i18n="yes-harmless">Yes (Harmless)</option>
                                            <option value="No (Harmless)" data-i18n="no-harmless">No (Harmless)</option>
                                        </select>
                                        <br><span data-i18n="spell-resistance-abbrv">SR</span>
                                    </span>
                                    <div class="sect expand">
                                        <input type="checkbox" class="showarrow macro-text-show" data-i18n-title="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1" checked />
                                        <label class="showsect macro-text-showlabel" data-i18n="macro-text">Macro Text</label>
                                        <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1" />
                                        <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                        <hr class="subnav-hr">
                                        <div class="cheat"></div>
                                        <textarea class="macro-text" title="@{repeating_npc-spell-like-abilities_$X_macro-text}" name="attr_macro-text">@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{^{level}=[[@{level}]]}} {{^{range}=@{range}}} {{^{duration}=@{duration}}} {{^{save}=@{save}}} {{^{spell-resistance-abbrv}=@{sr}}} {{description=@{short-description}}}</textarea>
                                        <div class="repeating-id">
                                            <label class="small-label2 nextitem">
                                                <input class="selectable calc" name="attr_row_id" readonly />
                                                <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                            </label>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                    </div>
                    <div class="cheat"></div>
                    <input class="showarrow h3arrow" type="checkbox" name="attr_npc-spells-show" data-i18n-aria-label="spells" data-i18n-title="showsect-cmd" value="1" checked />
                    <h3 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="spells">Spells</label></h3>
                    <div class="h3-section npc-spellcasting wide-readonly" role="region" aria-label="npc-spells-prepared">
                        <h4 data-i18n="spellcasting-classes">Spellcasting Classes</h4>
                        <div role="menubar" class="spellclassnav tabs" aria-label="spellcasting classes" data-i18n-aria-label="spellcasting-classes"></div>
                        <input type="radio" class="tabinput tab0" name="attr_npc_spellclass_tab" value="0" data-i18n-title="spell-class-zero" data-i18n-aria-label="spell-class-zero" checked />
                        <label role="menuitem" class="tab tab0" data-i18n-title="spell-class-zero" data-i18n-aria-label="spell-class-zero" title="Spell Class 0" data-i18n="spell-class-zero">Spell Class 0</label>
                        <input type="radio" class="tabinput tab1" name="attr_npc_spellclass_tab" value="1" data-i18n-title="spell-class-one" data-i18n-aria-label="spell-class-one" />
                        <label role="menuitem" class="tab tab1" data-i18n-title="spell-class-one" data-i18n-aria-label="spell-class-one" title="Spell Class 1" data-i18n="spell-class-one">Spell Class 1</label>
                        <input type="radio" class="tabinput tab2" name="attr_npc_spellclass_tab" value="2" data-i18n-title="spell-class-two" data-i18n-aria-label="spell-class-two" />
                        <label role="menuitem" class="tab tab2" data-i18n-title="spell-class-two" data-i18n-aria-label="spell-class-two" title="Spell Class 2" data-i18n="spell-class-two">Spell Class 2</label>
                        <input type="radio" class="tabinput tab99" name="attr_npc_spellclass_tab" value="99" data-i18n-title="all" data-i18n-aria-label="all" />
                        <label role="menuitem" class="tab tab99" data-i18n-title="all" data-i18n-aria-label="all" title="All" data-i18n="all">All</label>
                        <div class="section0 section-spellclass-0 table">
                            <span class="table-name" data-i18n="spell-class-zero">Spell Class 0</span>
                            <div class="table-row">
                                <span class="table-header"></span>
                                <span class="table-header" data-i18n="total">Total</span>
                                <span class="table-header"></span>
                                <span class="table-header" data-i18n="caster-level-abbrv">CL</span>
                                <span class="table-header"></span>
                                <span class="table-header"><span class="super note-a" data-i18n="miscellaneous-abbrv">Misc</span></span>
                                <span class="table-header" data-i18n="concentration-check">Concentration Check</span>
                                <span class="table-header" data-i18n="total">Total</span>
                                <span class="table-header"></span>
                                <span class="table-header" data-i18n="ability">Ability</span>
                                <span class="table-header" data-i18n="modifier-abbrv">Mod</span>
                                <span class="table-header"></span>
                                <span class="table-header" data-i18n="miscellaneous-abbrv">Misc</span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell"><button style="font-size:100%; min-width:7em;" title="%{selected|NPC-Spell-Class-0-CL-Check}" type="roll" name="roll_NPC-Spell-Class-0-CL-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{caster-level-check}}} {{class=**@{spellclass-0-name} @{spellclass-0-level}**}} {{check=[[ 1d20 + @{spellclass-0-level} + @{spellclass-0-level-misc-mod} ]]}}"> <span data-i18n="caster-level-check-abbrv">CL Check</span></button></span>
                                <span class="table-cell"><input title="@{spellclass-0-level-total}" type="number" name="attr_spellclass-0-level-total" value="0" class="calc bigger-total" readonly /></span>
                                <span class="divider">=</span>
                                <span class="table-cell"><input title="@{spellclass-0-level}" type="number" name="attr_spellclass-0-level" value="0" /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{spellclass-0-level-misc}" type="text" name="attr_spellclass-0-level-misc" value="" /></span>
                                <span class="table-cell"><button title="%{selected|NPC-Concentration-Check-0}" type="roll" name="roll_NPC-Concentration-Check-0" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{concentration-check}}} {{class=**@{spellclass-0-name} @{spellclass-0-level}**}} {{check=[[ 1d20 + @{Concentration-0} ]]}}"> <span data-i18n="concentration-check-abbrv">Concentration</span></button></span>
                                <span class="table-cell"><input title="@{Concentration-0}" type="number" name="attr_Concentration-0" value="0" class="calc bigger-total" readonly /></span>
                                <span class="divider">=</span>
                                <span class="table-cell ability-column">
                                    <select class="select-small" title="@{Concentration-0-ability}" name="attr_Concentration-0-ability">
                                        <option value="0" data-i18n="select-one-default" selected>&#8226;Select One</option>
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <span class="table-cell"><input title="@{Concentration-0-mod}" type="number" name="attr_Concentration-0-mod" value="0" class="calc" readonly /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{Concentration-0-misc}" type="text" name="attr_Concentration-0-misc" value="" /></span>
                            </div>
                        </div>
                        <div class="section1 section-spellclass-1 table">
                            <span class="table-name" data-i18n="spell-class-one">Spell Class 1</span>
                            <div class="table-row">
                                <span class="table-header"></span>
                                <span class="table-header" data-i18n="total">Total</span>
                                <span class="table-header"></span>
                                <span class="table-header" data-i18n="caster-level-abbrv">CL</span>
                                <span class="table-header"></span>
                                <span class="table-header"><span class="super note-a" data-i18n="miscellaneous-abbrv">Misc</span></span>
                                <span class="table-header" data-i18n="concentration-check">Concentration Check</span>
                                <span class="table-header" data-i18n="total">Total</span>
                                <span class="table-header"></span>
                                <span class="table-header" data-i18n="ability">Ability</span>
                                <span class="table-header" data-i18n="modifier-abbrv">Mod</span>
                                <span class="table-header"></span>
                                <span class="table-header" data-i18n="miscellaneous-abbrv">Misc</span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell"><button style="font-size:100%; min-width:7em;" title="%{selected|NPC-Spell-Class-1-CL-Check}" type="roll" name="roll_NPC-Spell-Class-1-CL-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{caster-level-check}}} {{class=**@{spellclass-1-name} @{spellclass-1-level}**}} {{check=[[ 1d20 + @{spellclass-1-level} + @{spellclass-1-level-misc-mod} ]]}}"> <span data-i18n="caster-level-check-abbrv">CL Check</span></button></span>
                                <span class="table-cell"><input title="@{spellclass-1-level-total}" type="number" name="attr_spellclass-1-level-total" value="0" class="calc bigger-total" readonly /></span>
                                <span class="divider">=</span>
                                <span class="table-cell"><input title="@{spellclass-1-level}" type="number" name="attr_spellclass-1-level" value="0" /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{spellclass-1-level-misc}" type="text" name="attr_spellclass-1-level-misc" value="" /></span>
                                <span class="table-cell"><button title="%{selected|NPC-Concentration-Check-1}" type="roll" name="roll_NPC-Concentration-Check-1" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{concentration-check}}} {{class=**@{spellclass-1-name} @{spellclass-1-level}**}} {{check=[[ 1d20 + @{Concentration-1} ]]}}"> <span data-i18n="concentration-check-abbrv">Concentration</span></button></span>
                                <span class="table-cell"><input title="@{Concentration-1}" type="number" name="attr_Concentration-1" value="0" class="calc bigger-total" readonly /></span>
                                <span class="divider">=</span>
                                <span class="table-cell ability-column">
                                    <select class="select-small" title="@{Concentration-1-ability}" name="attr_Concentration-1-ability">
                                        <option value="0" data-i18n="select-one-default" selected>&#8226;Select One</option>
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <span class="table-cell"><input title="@{Concentration-1-mod}" type="number" name="attr_Concentration-1-mod" value="0" class="calc" readonly /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{Concentration-1-misc}" type="text" name="attr_Concentration-1-misc" value="" /></span>
                            </div>
                        </div>
                        <div class="section2 section-spellclass-2 table">
                            <span class="table-name" data-i18n="spell-class-two">Spell Class 2</span>
                            <div class="table-row">
                                <span class="table-header"></span>
                                <span class="table-header" data-i18n="total">Total</span>
                                <span class="table-header"></span>
                                <span class="table-header" data-i18n="caster-level-abbrv">CL</span>
                                <span class="table-header"></span>
                                <span class="table-header"><span class="super note-a" data-i18n="miscellaneous-abbrv">Misc</span></span>
                                <span class="table-header" data-i18n="concentration-check">Concentration Check</span>
                                <span class="table-header" data-i18n="total">Total</span>
                                <span class="table-header"></span>
                                <span class="table-header" data-i18n="ability">Ability</span>
                                <span class="table-header" data-i18n="modifier-abbrv">Mod</span>
                                <span class="table-header"></span>
                                <span class="table-header" data-i18n="miscellaneous-abbrv">Misc</span>
                            </div>
                            <div class="table-row">
                                <span class="table-cell"><button style="font-size:100%; min-width:7em;" title="%{selected|NPC-Spell-Class-2-CL-Check}" type="roll" name="roll_NPC-Spell-Class-2-CL-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{caster-level-check}}} {{class=**@{spellclass-2-name} @{spellclass-2-level}**}} {{check=[[ 1d20 + @{spellclass-2-level} + @{spellclass-2-level-misc-mod} ]]}}"> <span data-i18n="caster-level-check-abbrv">CL Check</span></button></span>
                                <span class="table-cell"><input title="@{spellclass-2-level-total}" type="number" name="attr_spellclass-2-level-total" value="0" class="calc bigger-total" readonly /></span>
                                <span class="divider">=</span>
                                <span class="table-cell"><input title="@{spellclass-2-level}" type="number" name="attr_spellclass-2-level" value="0" /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{spellclass-2-level-misc}" type="text" name="attr_spellclass-2-level-misc" value="" /></span>
                                <span class="table-cell"><button title="%{selected|NPC-Concentration-Check-2}" type="roll" name="roll_NPC-Concentration-Check-2" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{concentration-check}}} {{class=**@{spellclass-2-name} @{spellclass-2-level}**}} {{check=[[ 1d20 + @{Concentration-2} ]]}}"> <span data-i18n="concentration-check-abbrv">Concentration</span></button></span>
                                <span class="table-cell"><input title="@{Concentration-2}" type="number" name="attr_Concentration-2" value="0" class="calc bigger-total" readonly /></span>
                                <span class="divider">=</span>
                                <span class="table-cell ability-column">
                                    <select class="select-small" title="@{Concentration-2-ability}" name="attr_Concentration-2-ability">
                                        <option value="0" data-i18n="select-one-default" selected>&#8226;Select One</option>
                                        <option value="STR-mod" data-i18n="strength-abbrv">STR</option>
                                        <option value="DEX-mod" data-i18n="dexterity-abbrv">DEX</option>
                                        <option value="CON-mod" data-i18n="constitution-abbrv">CON</option>
                                        <option value="INT-mod" data-i18n="intelligence-abbrv">INT</option>
                                        <option value="WIS-mod" data-i18n="wisdom-abbrv">WIS</option>
                                        <option value="CHA-mod" data-i18n="charisma-abbrv">CHA</option>
                                    </select>
                                </span>
                                <span class="table-cell"><input title="@{Concentration-2-mod}" type="number" name="attr_Concentration-2-mod" value="0" class="calc" readonly /></span>
                                <span class="divider">+</span>
                                <span class="table-cell"><input title="@{Concentration-2-misc}" type="text" name="attr_Concentration-2-misc" value="" /></span>
                            </div>
                        </div>
                        <div class="repeating-sect custbordernav">
                            <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" data-i18n-aria-label="minimize-all-cmd" title="Minimize all rows." name="attr_npcnewspells-min-show" value="1" /><span></span>
                            <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" data-i18n-aria-label="expand-cmd" title="Collapse or expand all rows." name="attr_npcnewspells-expand-show" value="1" /><span></span>
                            <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" data-i18n-aria-label="column-cmd" title="Split into two columns" name="attr_npcnewspells-column-show" value="1" /><span></span>
                            <input class="deletebutton cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_spells_btn" value="1" data-i18n-title="delete-spells" data-i18n-aria-label="delete-spells-must-confirm-next-checkbox" /><span></span><label class="deletesect allrows-note"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_spells" data-i18n-aria-label="confirm-delete-spells" data-i18n-title="confirm-delete-spells" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                            <span class="compendium-note hide-readonly">
                                <span class="compendium-icon">i</span>
                                <span class="vertical-middle" data-i18n-title="compendium-drag-n-drop-desc" data-i18n-aria-label="compendium-drag-n-drop-desc" data-i18n="compendium-drag-drop-compatible"> Compendium drag-n-drop compatible </span>
                                <span class="drag-icon">&#9111;</span>
                            </span>
                            <div class="cheat"></div>
                            <input type="checkbox" class="selectedlabel-check advanced-spell-option-show" name="attr_extra_fields_spells_show" title="@{extra_fields_spells_show}" value="1" /><b data-i18n="show-more-fields">Show more fields</b>
                            <div class="cheat"></div>
                            <input type="checkbox" class="mythic-show" name="attr_mythic-adventures-show" value="1" role="presentation" />
                            <input type="checkbox" value="1" class="subsect2-show noshow" name="attr_spellclass-0-casting_type" role="presentation" aria-label="spontaneous spellcasting" />
                            <input type="checkbox" value="2" class="subsect3-show noshow" name="attr_spellclass-0-casting_type" role="presentation" aria-label="prepared spellcasting" />
                            <div class="npc-spells repeating-fields hiderepborder">
                                <input type="checkbox" class="use-metrics noshow" name="attr_use_metrics" value="1" />
                                <fieldset class="repeating_spells">
                                    <span class="error"><span class="pictos">!</span><span data-i18n="error-delete-row">Error! You must delete this row before editing any items in this section.</span></span>
                                    <input type="radio" name="attr_spell_level_r" value="-1" class="tabcopy custnavsection-new" checked role="presentation" />
                                    <input type="radio" name="attr_spell_level_r" value="0" class="tabcopy custnavsection-0" role="presentation" />
                                    <input type="radio" name="attr_spell_level_r" value="1" class="tabcopy custnavsection-1" role="presentation" />
                                    <input type="radio" name="attr_spell_level_r" value="2" class="tabcopy custnavsection-2" role="presentation" />
                                    <input type="radio" name="attr_spell_level_r" value="3" class="tabcopy custnavsection-3" role="presentation" />
                                    <input type="radio" name="attr_spell_level_r" value="4" class="tabcopy custnavsection-4" role="presentation" />
                                    <input type="radio" name="attr_spell_level_r" value="5" class="tabcopy custnavsection-5" role="presentation" />
                                    <input type="radio" name="attr_spell_level_r" value="6" class="tabcopy custnavsection-6" role="presentation" />
                                    <input type="radio" name="attr_spell_level_r" value="7" class="tabcopy custnavsection-7" role="presentation" />
                                    <input type="radio" name="attr_spell_level_r" value="8" class="tabcopy custnavsection-8" role="presentation" />
                                    <input type="radio" name="attr_spell_level_r" value="9" class="tabcopy custnavsection-9" role="presentation" />
                                    <input type="radio" name="attr_spell_class_r" value="-1" class="tabcopy section-spellclass-1" role="presentation" />
                                    <input type="radio" name="attr_spell_class_r" value="0" class="tabcopy section-spellclass0" checked role="presentation" />
                                    <input type="radio" name="attr_spell_class_r" value="1" class="tabcopy section-spellclass1" role="presentation" />
                                    <input type="radio" name="attr_spell_class_r" value="2" class="tabcopy section-spellclass2" role="presentation" />
                                    <input type="checkbox" name="attr_prepared_state" value="1" class="section-state" role="presentation" />
                                    <div class="custrepeating-border nontable-repeating background-color1 compendium-drop-target Spells">
                                        <input type="checkbox" class="toggle-casting-type noshow" name="attr_toggle_casting_type" value="1" />
                                        <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" data-i18n-aria-label="minimize-cmd" title="Minimize Row" name="attr_row-show" value="1" checked /><span></span>
                                        <span style="display:none;" class="repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_spells_$X_roll}" value="@{macro-text}"></button></span>
                                        <span class="repeating-rollbutton"><button type="roll" name="attr_npc-roll" title="%{selected|repeating_spells_$X_npc-roll}" value="@{npc-macro-text}"></button></span>
                                        <label class="small-label2 narrow-numbers">
                                            <input title="@{repeating_spells_$X_used}" type="number" name="attr_used" value="0">
                                            <span class="prepared" style="margin-left:-.5em;" data-i18n-title="number-prepared-title" data-i18n-aria-label="number-prepared-title" data-i18n="number-prepared">#Prep</span>
                                            <span class="spontaneous" style="margin-left:-.5em;" data-i18n-title="number-used-title" data-i18n="number-used">#Used</span>
                                        </label>
                                        <label class="small-label2 narrow-numbers prepared">
                                            <input title="@{repeating_spells_$X_cast}" type="number" name="attr_cast" value="0">
                                            <span style="margin-left:-.5em;" data-i18n-title="number-used-title" data-i18n="number-cast">#Cast</span>
                                        </label>
                                        <label class="small-label2 entry-25p"><input title="@{repeating_spells_$X_name}" type="text" value="" name="attr_name" data-i18n-placeholder="spell-name" accept="Name"><span data-i18n="name">Name</span></label>
                                        <label class="small-label2 entry-short sect">
                                            <select class="select-small" title="@{repeating_spells_$X_spellclass_number}" name="attr_spellclass_number">
                                                <option value="0" data-i18n="1-ordinal-spellclass" selected>1st Spellcasting Class</option>
                                                <option value="1" data-i18n="2-ordinal-spellclass">2nd Spellcasting Class</option>
                                                <option value="2" data-i18n="3-ordinal-spellclass">3rd Spellcasting Class</option>
                                            </select>
                                            <span data-i18n="class">Class</span>
                                        </label>
                                        <label class="small-label2 entry-8p"><input title="@{repeating_spells_$X_spellclass}" type="text" value="" name="attr_spellclass" class="calc" readonly /><span data-i18n="class">Class</span></label>
                                        <label class="small-label2">
                                            <select title="@{repeating_spells_$X_spell_level}" name="attr_spell_level">
                                                <option value="0" selected>0</option>
                                                <option value="1">1</option>
                                                <option value="2">2</option>
                                                <option value="3">3</option>
                                                <option value="4">4</option>
                                                <option value="5">5</option>
                                                <option value="6">6</option>
                                                <option value="7">7</option>
                                                <option value="8">8</option>
                                                <option value="9">9</option>
                                            </select>
                                            <span data-i18n="level">Level</span>
                                        </label>
                                        <input type="checkbox" name="attr_metamagic" value="1" class="nextitem-show" role="presentation" />
                                        <label class="small-label2 slot nextitem">
                                            <select title="@{repeating_spells_$X_slot}" name="attr_slot">
                                                <option value="0" selected>0</option>
                                                <option value="1">1</option>
                                                <option value="2">2</option>
                                                <option value="3">3</option>
                                                <option value="4">4</option>
                                                <option value="5">5</option>
                                                <option value="6">6</option>
                                                <option value="7">7</option>
                                                <option value="8">8</option>
                                                <option value="9">9</option>
                                            </select>
                                            <span data-i18n="slot">Slot</span>
                                        </label>
                                        <label class="small-label2 narrow-numbers"><input title="@{repeating_spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="calc" readonly /><span data-i18n="difficulty-class-abbrv">DC</span></label>
                                        <label class="small-label2 entry-12p-shrink autoexpand"><input title="@{repeating_spells_$X_school}" type="text" value="" name="attr_school" data-i18n-placeholder="spell-school-place" accept="School"><span data-i18n="school">School</span><span name="attr_school" class="autoexpand"></span></label>
                                        <label class="small-label2 entry-short">
                                            <select title="@{repeating_spells_$X_sr}" name="attr_sr" accept="Spell Resistance" class="select-small">
                                                <option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                                <option value="Yes" data-i18n="yes">Yes</option>
                                                <option value="No" data-i18n="no">No</option>
                                                <option value="Yes (Harmless)" data-i18n="yes-harmless">Yes (Harmless)</option>
                                                <option value="Yes (Object)" data-i18n="yes-object">Yes (Object)</option>
                                                <option value="Yes (Harmless, Object)" data-i18n="yes-harmless-object">Yes (Harmless, Object)</option>
                                            </select>
                                            <span data-i18n="spell-resistance-abbrv">SR</span>
                                        </label>
                                        <label class="small-label2 entry-10p-shrink autoexpand"><input title="@{repeating_spells_$X_save}" type="text" value="" name="attr_save" data-i18n-placeholder="save-effect" accept="Saving Throw"><span data-i18n="save">Save</span><span name="attr_save" class="autoexpand"></span></label>
                                        <label class="small-label2 entry-short">
                                            <select class="select-small" title="@{repeating_spells_$X_range_pick}" name="attr_range_pick">
                                                <option value="blank" data-i18n="blank" selected>Blank</option>
                                                <option value="close" data-i18n="close">Close</option>
                                                <option value="medium" data-i18n="medium">Medium</option>
                                                <option value="long" data-i18n="long">Long</option>
                                                <option value="touch" data-i18n="touch">Touch</option>
                                                <option value="personal" data-i18n="personal">Personal</option>
                                                <option value="see_text" data-i18n="see_text">See text</option>
                                                <option value="number" data-i18n="number">Number</option>
                                                <option value="perlevel" data-i18n="perlevel">Per Level</option>
                                                <option value="unknownrange" data-i18n="unknownrange">Unknown Range</option>
                                            </select>
                                            <span data-i18n="range">Range</span>
                                        </label>
                                        <input type="checkbox" value="number" name="attr_range_pick" class="or-A-show noshow" />
                                        <input type="checkbox" value="perlevel" name="attr_range_pick" class="or-B-show noshow" />
                                        <input type="checkbox" value="close" name="attr_range_pick" class="or-C-show noshow" />
                                        <input type="checkbox" value="medium" name="attr_range_pick" class="or-D-show noshow" />
                                        <input type="checkbox" value="long" name="attr_range_pick" class="or-E-show noshow" />
                                        <label class="small-label2 entry-8p-shrink sect either-or-sect">
                                            <input type="text" value="" name="attr_range" title="@{repeating_spells_$X_range}" data-i18n-placeholder="range-custom-place" />
                                            <span class="nowrap" data-i18n-title="range-per-level-desc" data-i18n-aria-label="range-per-level-desc" data-i18n="range-custom">Custom Range</span>
                                        </label>
                                        <label class="small-label2 or5-sect sect number">
                                            <input title="@{repeating_spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" placeholder="0" class="calc" readonly />
                                            <span class="distance-used" data-i18n="range">Range</span>
                                        </label>
                                        <label class="small-label2 entry-15p-shrink sect autoexpand"><input title="@{repeating_spells_$X_targets}" type="text" value="" name="attr_targets" data-i18n-placeholder="spell-targets-area-effect" /><span data-i18n="spell-targets-area-effect">Targets/Area/Effect</span><span name="attr_targets" class="autoexpand"></span></label>
                                        <label class="small-label2 entry-12p-shrink sect autoexpand"><input title="@{repeating_spells_$X_duration}" type="text" value="" name="attr_duration" data-i18n-placeholder="duration" accept="Duration" /><span data-i18n="duration">Duration</span><span name="attr_duration" class="autoexpand"></span></label>
                                        <label class="small-label2 entry-8p sect autoexpand"><input title="@{repeating_spells_$X_cast-time}" type="text" value="" name="attr_cast-time" data-i18n-placeholder="spell-casting-time-place" accept="Casting Time" /><span data-i18n="casting-time-abbrv">Cast Time</span><span name="attr_cast-time" class="autoexpand"></span></label>
                                        <label class="small-label2 entry-10p-shrink sect autoexpand"><input title="@{repeating_spells_$X_components}" type="text" value="" name="attr_components" data-i18n-placeholder="spell-components" accept="Components"><span data-i18n="spell-components">Components</span><span name="attr_components" class="autoexpand"></span></label>
                                        <div style="display:none;">
                                            <input type="text" value="" name="attr_range_from_compendium" accept="Range" />
                                            <input type="text" value="" name="attr_spell_lvlstr" accept="Level" />
                                            <input type="text" value="" name="attr_target_from_compendium" accept="Target" />
                                            <input type="text" value="" name="attr_area_from_compendium" accept="Area" />
                                            <input type="text" value="" name="attr_effect_from_compendium" accept="Effect" />
                                            <input type="text" value="" name="attr_compendium_category" accept="Category" />
                                        </div>
                                        <div class="sect expand">
                                            <input type="checkbox" class="showarrow misc-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Miscellaneous" name="attr_misc-show" value="1" />
                                            <label class="showsect misc-showlabel" data-i18n="miscellaneous-abbrv">Misc</label>
                                            <input type="checkbox" class="showarrow desc-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Description" name="attr_description-show" value="1" />
                                            <label class="showsect desc-showlabel" data-i18n="description">Description</label>
                                            <input type="checkbox" class="showarrow macro-text-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1" />
                                            <label class="showsect macro-text-showlabel super note-d" data-i18n="macro-text">Macro Text</label>
                                            <input type="checkbox" class="showarrow attack-damage-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show attack and damage fields" name="attr_attack-show" value="1" />
                                            <label class="showsect attack-damage-showlabel" data-i18n="attack-and-damage">Attack and Damage</label>
                                            <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1" />
                                            <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                            <hr class="subnav-hr">
                                            <div class="cheat"></div>
                                            <div class="nontable misc">
                                                <label class="small-label2 entry-short"><input title="@{repeating_spells_$X_metamagic}" type="checkbox" value="1" name="attr_metamagic" /><span data-i18n-title="metamagic-title" data-i18n-aria-label="metamagic-title" title="Click to show spell slot field to differentiate slot from spell level." data-i18n="metamagic">Meta Magic</span></label>
                                                <label class="small-label2 number"><input title="@{repeating_spells_$X_isDomain}" type="checkbox" value="1" name="attr_isDomain" /><span data-i18n="spell-domain-chk">Domain</span></label>
                                                <label class="small-label2 number section-mythic"><input title="@{repeating_spells_$X_isMythic}" type="checkbox" value="1" name="attr_isMythic" /><span data-i18n="spell-mythic-chk">Mythic</span></label>
                                                <span class="divider-db-lg advanced-spell-option">|</span>
                                                <label class="small-label2 number advanced-spell-option"><input title="@{repeating_spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc" data-i18n-placeholder="caster-level-modifier-abbrv" /><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></label>
                                                <label class="small-label2 number advanced-spell-option"><input title="@{repeating_spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="calc" readonly /><span data-i18n="caster-level-abbrv">CL</span></label>
                                                <span class="divider-db-lg advanced-spell-option">|</span>
                                                <label class="small-label2 entry-vshort advanced-spell-option"><input title="@{repeating_spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" /><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></label>
                                                <label class="small-label2 number advanced-spell-option"><input title="@{repeating_spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="calc" readonly=""><span data-i18n="difficulty-class-abbrv">DC</span></label>
                                                <span class="divider-db-lg advanced-spell-option">|</span>
                                                <label class="small-label2 advanced-spell-option"><input title="@{repeating_spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc" data-i18n-placeholder="spell-penetration-modifier-abbrv" /><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></label>
                                                <label class="small-label2 number advanced-spell-option"><input title="@{repeating_spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="calc" readonly /><span data-i18n="spell-penetration-abbrv-short">SP</span></label>
                                                <span class="divider-db-lg">|</span>
                                                <label class="small-label2 entry-short advanced-spell-option"><input title="@{repeating_spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /><span data-i18n="concentration-miscellaneous-abbrv">Conc Misc</span></label>
                                                <label class="small-label2 number"><input title="@{repeating_spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="calc" readonly /><span data-i18n="concentration-abbrv">Conc</span></label>
                                            </div>
                                            <div class="attack-damage non-table sect expand">
                                                <label class="small-label2" style="width:5em;">
                                                    <input type="checkbox" name="attr_create-attack-entry" value="1" class="cssbutton createattackbutton" data-i18n-title="create-spell-attack-entry" data-i18n-aria-label="create-spell-attack-entry"><span></span>
                                                    <span data-i18n-title="create-spell-attack-entry" data-i18n-aria-label="create-spell-attack-entry" data-i18n="create-attack">Create Attack</span>
                                                </label>
                                                <label class="small-label2 entry-short">
                                                    <select class="select-small" title="@{repeating_spells_$X_spell-attack-type}" name="attr_spell-attack-type">
                                                        <option value="0" data-i18n="none-default" selected>&#8226;None</option>
                                                        <option value="attk-melee" data-i18n="touch">Touch</option>
                                                        <option value="attk-ranged" data-i18n="ranged-touch-ray">Ranged touch/Ray</option>
                                                        <option value="CMB" data-i18n="combat-maneuver-bonus-abbrv">CMB</option>
                                                        <option value="attk-melee2" data-i18n="touch-melee2">Alt Touch (alt melee)</option>
                                                        <option value="attk-ranged2" data-i18n="ranged-touch-ray2">Alt Ranged Touch/Ray</option>
                                                        <option value="CMB2" data-i18n="combat-maneuver-bonus-abbrv2">CMB2</option>
                                                    </select>
                                                    <span data-i18n="attack-type">Attack Type</span>
                                                </label>
                                                <label class="small-label2 entry-med">
                                                    <input type="text" class="macro-text-inline" name="attr_damage-macro-text" title="@{repeating_spells_$X_damage-macro-text}" data-i18n-placeholder="full-macro-place" />
                                                    <span class="super note-b" data-i18n="damage">Damage</span>
                                                </label>
                                                <label class="small-label2 entry-15p-shrink autoexpand">
                                                    <input type="text" name="attr_damage-type" value="p/b/s...?" title="@{repeating_spells_$X_damage-type}" data-i18n-placeholder="damage-type" />
                                                    <span data-i18n="damage-type">Damage Type</span><span name="attr_damage-type" class="autoexpand"></span>
                                                </label>
                                            </div>
                                            <textarea class="desc" title="@{repeating_spells_$X_description}" name="attr_description" accept="Content"></textarea>
                                            <div class="macro-text">
                                                <span style="display:inline-block;margin-top:0.25em;"><span data-i18n="options">Options</span>:</span>
                                                <input class="calc" style="width:90%;float:right;margin:0.2rem;" type="text" name="attr_spell_options" value="{{school=@{school}}}{{duration=@{duration}}}{{range=@{range_numeric}}}{{targets=@{targets}}}{{dc=[[ @{savedc} ]]}}{{level=@{spell_level}}}{{spellclass=@{spellclass}}}{{sr=@{sr}}}{{saving_throw=@{save}}}{{condition_note=@{condition_spell_notes}}}" readonly />
                                                <textarea style="display:none;" class="macro-text" title="@{repeating_spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} @{toggle_spell_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{deafened_note=@{SpellFailureNote}}} @{spell_options}</textarea>
                                                <textarea class="macro-text" title="@{repeating_spells_$X_npc-macro-text}" name="attr_npc-macro-text">@{NPC-whisper} &{template:pf_spell} @{toggle_spell_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{deafened_note=@{SpellFailureNote}}} @{spell_options}</textarea>
                                            </div>
                                            <div class="repeating-id">
                                                <label class="small-label2 nextitem">
                                                    <input class="selectable calc" name="attr_row_id" readonly />
                                                    <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                    </div>
                </div>
                <hr class="npc-hr npchead-top" />
                <input class="showarrow h2arrow" type="checkbox" name="attr_npc-tactics-show" data-i18n-aria-label="tactics" data-i18n-title="showsect-cmd" value="1" checked />
                <!--TACTICS-->
                <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="tactics">TACTICS</label></h2>
                <hr class="npc-hr npchead-bottom" />
                <div class="h2-section npc-tactics noborder-readonly">
                    <h3 style="display:block;" data-i18n="before-combat">Before Combat</h3>
                    <textarea class="inline-textarea" title="@{npc-before-combat}" name="attr_npc-before-combat" data-i18n-placeholder="before-combat-place"></textarea>
                    <h3 style="display:block;" data-i18n="during-combat">During Combat</h3>
                    <textarea class="inline-textarea" title="@{npc-during-combat}" name="attr_npc-during-combat" data-i18n-placeholder="during-combat-place"></textarea>
                    <h3 style="display:block;" data-i18n="morale">Morale</h3>
                    <textarea class="inline-textarea" title="@{npc-morale}" name="attr_npc-morale" data-i18n-placeholder="morale-place"></textarea>
                    <h3 style="display:block;" data-i18n="base-statistics">Base Statistics</h3>
                    <textarea class="inline-textarea" title="@{npc-base-statistics}" name="attr_npc-base-statistics" data-i18n-placeholder="base-statistics-place"></textarea>
                    <h3 style="display:block;" data-i18n="combat-gear">Combat Gear</h3>
                    <textarea class="inline-textarea" title="@{npc-combat-gear}" name="attr_npc-combat-gear" data-i18n-placeholder="gear-used-place"></textarea>
                    <h3 style="display:block;" data-i18n="other-gear">Other Gear</h3>
                    <textarea class="inline-textarea" title="@{npc-other-gear}" name="attr_npc-other-gear" data-i18n-placeholder="gear-not-used-place"></textarea>
                </div>
                <hr class="npc-hr npchead-top" />
                <input class="showarrow h2arrow" type="checkbox" name="attr_npc-statistics-show" data-i18n-aria-label="statistics" data-i18n-title="showsect-cmd" value="1" checked />
                <!--STATISTICS-->
                <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="statistics">STATISTICS</label></h2>
                <hr class="npc-hr npchead-bottom" />
                <div class="h2-section npc-statistics noborder-readonly wide-readonly">
                    <div class="h2-section noborder-readonly wide-readonly">
                        <div class="npc-statblock-row">
                            <span class="small-label2"><button class="command-button" title="%{selected|NPC-STR-Check}" type="roll" name="roll_NPC-STR-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{strength}}} {{check=[[ 1d20 + [[ @{STR-mod} + @{checks-cond} + @{buff_Check-total} + @{buff_check_ability-total} ]] ]]}}"> <span data-i18n="strength-abbrv">STR</span> <span name="attr_STR"></span></button></span>
                            <span class="small-label2"><button class="command-button" title="%{selected|NPC-DEX-Check}" type="roll" name="roll_NPC-DEX-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{dexterity}}} {{check=[[ 1d20 + [[ @{DEX-mod} + @{checks-cond} + @{buff_Check-total} + @{buff_check_ability-total} ]] ]]}}"> <span data-i18n="dexterity-abbrv">DEX</span> <span name="attr_DEX"></span></button></span>
                            <span class="small-label2"><button class="command-button" title="%{selected|NPC-CON-Check}" type="roll" name="roll_NPC-CON-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{constitution}}} {{check=[[ 1d20 + [[ @{CON-mod} + @{checks-cond} + @{buff_Check-total} + @{buff_check_ability-total} ]] ]]}}"> <span data-i18n="constitution-abbrv">CON</span> <span name="attr_CON"></span></button></span>
                            <span class="small-label2"><button class="command-button" title="%{selected|NPC-INT-Check}" type="roll" name="roll_NPC-INT-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{intelligence}}} {{check=[[ 1d20 + [[ @{INT-mod} + @{checks-cond} + @{buff_Check-total} + @{buff_check_ability-total} ]] ]]}}"> <span data-i18n="intelligence-abbrv">INT</span> <span name="attr_INT"></span></button></span>
                            <span class="small-label2"><button class="command-button" title="%{selected|NPC-WIS-Check}" type="roll" name="roll_NPC-WIS-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{wisdom}}} {{check=[[ 1d20 + [[ @{WIS-mod} + @{checks-cond} + @{buff_Check-total} + @{buff_check_ability-total} ]] ]]}}"> <span data-i18n="wisdom-abbrv">WIS</span> <span name="attr_WIS"></span></button></span>
                            <span class="small-label2"><button class="command-button" title="%{selected|NPC-CHA-Check}" type="roll" name="roll_NPC-CHA-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{charisma}}} {{check=[[ 1d20 + [[ @{CHA-mod} + @{checks-cond} + @{buff_Check-total} + @{buff_check_ability-total} ]] ]]}}"> <span data-i18n="charisma-abbrv">CHA</span> <span name="attr_CHA"></span></button></span>
                        </div>
                        <div class="npc-statblock-row">
                            <span class="small-label2">
                                <span data-i18n="base-attack-bonus-abbrv">BAB</span>
                                <input title="@{bab}" type="number" name="attr_bab" value="0" class="calc" readonly />
                            </span>
                            <span class="small-label2">
                                <button class="command-button" type="roll" title="%{selected|NPC-CMB-Check}" name="roll_NPC-CMB-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{combat-maneuver-bonus-abbrv}}} {{check=[[ 1d20 + [[ @{CMB} ]] ]]}}">
                                    <span data-i18n="combat-maneuver-bonus-abbrv">CMB</span>
                                    <span name="attr_CMB"></span>
                                </button>
                            </span>
                            <span class="small-label2 entry-med">
                                <input type="checkbox" name="attr_attk-CMB-misc-mod_error" class="error-mshow" value="1">
                                <input class="highlight macro-text-inline" title="@{attk-CMB-misc}" type="text" name="attr_attk-CMB-misc" value="" data-i18n-placeholder="equation-macro-place" placeholder="#/Equation" />
                                <span class="super note-a"></span>
                            </span>
                            <input type="checkbox" name="attr_CMD-misc-mod_error" value="1" class="error-mshow">
                            <span class="small-label2 highlight">
                                <span data-i18n="combat-maneuver-defense-abbrv">CMD</span>
                                <input class="calc" title="@{CMD}" type="number" name="attr_CMD" value="10" readonly />
                            </span>
                            <span class="small-label2 entry-med highlight">
                                <input title="@{CMD-misc}" type="text" class="macro-text-inline" name="attr_CMD-misc" value="" data-i18n-placeholder="equation-macro-place" placeholder="#/Equation" />
                                <span class="super note-a"></span>
                            </span>
                            <span class="small-label2 entry-long">
                                <label class="small-label2 autoexpand">
                                    <input title="@{cmd-notes}" type="text" name="attr_CMD-notes" data-i18n-placeholder="combat-maneuver-defense-notes-place" />
                                    <span style="min-width: 6em;" class="autoexpand" name="attr_CMD-notes"></span>
                                </label>
                                <span data-i18n="combat-maneuver-defense-notes">CMD Notes</span>
                            </span>
                        </div>
                        <div class="npc-statblock-row">
                            <span class="small-label2">
                                <span data-i18n="languages">Languages</span>
                            </span>
                            <label class="small-label2 autoexpand">
                                <input type="text" title="@{languages}" value="" name="attr_languages" data-i18n-placeholder="languages" />
                                <span style="min-width: 8em;" class="autoexpand" name="attr_languages"></span>
                            </label>
                        </div>
                        <input class="sect-show-inverse noshow" type="checkbox" name="attr_is_v1" value="1" />
                        <div class="sect-inverse">
                            <div class="small-label"><span class="left" data-i18n="special-attacks">Special Attacks</span><br><textarea class="inline-textarea" title="@{npc-special-attacks}" name="attr_npc-special-attacks" data-i18n-placeholder="npc-special-attacks-place"></textarea></div>
                            <div class="small-label"><span class="left" data-i18n="spell-like-abilities">Spell-like Abilities</span><br><textarea class="inline-textarea" title="@{npc-spellike-ability-text}" name="attr_npc-spellike-ability-text" data-i18n-placeholder="npc-spellike-abilities-text-place"></textarea></div>
                            <div class="small-label"><span class="left" data-i18n="melee">Melee</span><br><textarea class="inline-textarea" title="@{npc-melee-attacks-text}" name="attr_npc-melee-attacks-text" data-i18n-placeholder="npc-melee-attacks-text-place"></textarea></div>
                            <div class="small-label"><span class="left" data-i18n="ranged">ranged</span><br><textarea class="inline-textarea" title="@{npc-ranged-attacks-text}" name="attr_npc-ranged-attacks-text" data-i18n-placeholder="npc-ranged-attacks-text-place"></textarea></div>
                            <div class="small-label"><span class="left" data-i18n="spells-known">Spells Known</span><br><textarea class="inline-textarea" title="@{npc-spells-known-text}" name="attr_npc-spells-known-text" data-i18n-placeholder="npc-spells-known-text-place"></textarea></div>
                            <div class="small-label"><span class="left" data-i18n="feats">Feats</span><br><textarea class="inline-textarea" title="@{npc-feats-text}" name="attr_npc-feats-text" data-i18n-placeholder="npc-feats-text"></textarea></div>
                            <div class="small-label"><span class="left" data-i18n="special-qualities-abbrv">SQ</span><br><textarea class="inline-textarea" title="@{SQ}" name="attr_SQ" data-i18n-placeholder="special-qualities-place"></textarea></div>
                        </div>
                    </div>
                    <div class="cheat"></div>
                    <div class="hide-readonly">
                        <input name="attr_use_feats" type="checkbox" value="1" class="featlist-show sect-show-inverse noshow" />
                        <span class="hide-readonly sect-inverse inspecial">
                            <a href="#special-abilities" data-i18n-title="in-special-abilities-section" data-i18n="feats">Feats</a>
                        </span>
                        <input class="showarrow h3arrow section-featlist" type="checkbox" name="attr_npc-feats-show" data-i18n-aria-label="non-player-character-feats" data-i18n-title="showsect-cmd" value="1" checked />
                        <h3 class="clickheader showsect section-featlist"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="non-player-character-feats">NPC Feats</label></h3>
                        <div class="h3-section repeating-sect section-featlist">
                            <span class="nontable-name" data-i18n="feats">Feats</span>
                            <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" data-i18n-aria-label="minimize-all-cmd" title="Minimize all rows." name="attr_npcfeat-min-show" value="1" /><span></span>
                            <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" data-i18n-aria-label="expand-cmd" title="Collapse or expand all rows." name="attr_npcfeat-expand-show" value="1" /><span></span>
                            <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" data-i18n-aria-label="column-cmd" title="Split into two columns" name="attr_npcfeat-column-show" value="1" /><span></span>
                            <input class="deletebutton cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_feat_btn" value="1" data-i18n-title="delete-feat" data-i18n-aria-label="delete-feat-must-confirm-next-checkbox" /><span></span><label class="deletesect allrows-note"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_feat" data-i18n-aria-label="confirm-delete-feat" data-i18n-title="confirm-delete-feat" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                            <div class="repeating-fields table">
                                <fieldset class="repeating_feat">
                                    <span class="error"><span class="pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
                                    <div class="table-repeating compendium-drop-target Feats">
                                        <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" data-i18n-aria-label="minimize-cmd" title="Minimize Row" name="attr_row-show" value="1" checked /><span class="table-cell"></span>
                                        <span style="display:none;" class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_feat_$X_roll}" value="@{macro-text}"></button></span>
                                        <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_npc-roll" title="%{selected|repeating_feat_$X_npc-roll" value="@{npc-macro-text}"></button></span>
                                        <span class="table-cell small-label hide-readonly" style="width:2.5em;"><input type="checkbox" name="attr_showinmenu" title="@{repeating_feat_$X_showinmenu}" value="1" /><span data-i18n="show-in-menu" data-i18n-title="show-in-menu-title" data-i18n-aria-label="show-in-menu-title">Show</span></span>
                                        <input type="hidden" value="" name="attr_ability_type" />
                                        <input type="hidden" value="feats" name="attr_rule_category" />
                                        <span class="table-cell small-label"><input title="@{repeating_feat_$X_name}" type="text" name="attr_name" data-i18n-placeholder="feat-name" accept="Name"><br><span data-i18n="name">Name</span></span>
                                        <span class="table-cell small-label entry-30p-shrink"><textarea class="inline-textarea" title="@{repeating_feat_$X_short-description}" name="attr_short-description" data-i18n-placeholder="short-description"></textarea><br><span data-i18n="short-description-abbrv">Short Desc</span></span>
                                        <span class="table-cell small-label" style="width:0.1%;"><input title="@{repeating_feat_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="used">Used</span></span>
                                        <span class="divider-lg" style="width:0.1%;">/</span>
                                        <input type="checkbox" name="attr_used_max_error" class="error-mshow" value="1" />
                                        <span class="table-cell small-label highlight" style="width:0.1%;"><input title="@{repeating_feat_$X_used|max}" type="text" name="attr_used_max" value="0" class="calc" readonly /><br><span data-i18n="maximum-abbrv">Max</span></span>
                                        <span class="table-cell small-label sect highlight hide-readonly" style="width:7%;"><textarea class="macro-text-inline both" title="@{repeating_feat_$X_max-calculation}" name="attr_max-calculation" data-i18n-placeholder="equation-macro-place"></textarea><br><span data-i18n="calculation-abbrv">Calc</span></span>
                                        <div class="sect expand">
                                            <input type="checkbox" class="showarrow desc-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Description" name="attr_description-show" value="1" />
                                            <label class="showsect desc-showlabel" data-i18n="description">Description</label>
                                            <input type="checkbox" class="showarrow macro-text-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1" />
                                            <label class="showsect macro-text-showlabel" data-i18n="macro-text">Macro Text</label>
                                            <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1" />
                                            <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                            <hr class="subnav-hr">
                                            <div class="cheat"></div>
                                            <textarea class="desc" title="@{repeating_feat_$X_description}" name="attr_description" accept="Content"></textarea>
                                            <textarea style="display:none;" class="macro-text" title="@{repeating_feat_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{description=@{short-description}}}</textarea>
                                            <textarea class="macro-text" title="@{repeating_feat_$X_npc-macro-text}" name="attr_npc-macro-text">@{NPC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{description=@{short-description}}}</textarea>
                                            <div class="repeating-id">
                                                <label class="small-label2 nextitem">
                                                    <input class="selectable calc" name="attr_row_id" readonly />
                                                    <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                    </div>
                    <!-- Mythic Adventures display option toggled from Config -->
                    <input type="checkbox" class="mythic-show" name="attr_mythic-adventures-show" value="1" role="presentation" />
                    <div class="cheat"></div>
                    <input class="showarrow h3arrow section-mythic" type="checkbox" name="attr_npc-mythic-feats-show" data-i18n-aria-label="mythic-feats" data-i18n-title="showsect-cmd" value="1" checked />
                    <h3 class="clickheader showsect section-mythic"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="mythic-feats">Mythic Feat</label></h3>
                    <div class="h3-section repeating-sect section-mythic">
                        <span class="nontable-name" data-i18n="mythic-feats">Mythic Feats</span>
                        <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" data-i18n-aria-label="minimize-all-cmd" title="Minimize all rows." name="attr_npcmythic-feats-min-show" value="1" /><span></span>
                        <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" data-i18n-aria-label="expand-cmd" title="Collapse or expand all rows." name="attr_npcmythic-feats-expand-show" value="1" /><span></span>
                        <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" data-i18n-aria-label="column-cmd" title="Split into two columns" name="attr_npcmythic-feats-column-show" value="1" /><span></span>
                        <input class="deletebutton cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_mythic-feat_btn" value="1" data-i18n-title="delete-mythic-feat" data-i18n-aria-label="delete-mythic-feat-must-confirm-next-checkbox" /><span></span><label class="deletesect allrows-note"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_mythic-feat" data-i18n-aria-label="confirm-delete-mythic-feat" data-i18n-title="confirm-delete-mythic-feat" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                        <div class="repeating-fields table">
                            <fieldset class="repeating_mythic-feat">
                                <span class="error"><span class="pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
                                <div class="table-repeating">
                                    <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" data-i18n-aria-label="minimize-cmd" title="Minimize Row" name="attr_row-show" value="1" checked /><span class="table-cell"></span>
                                    <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_npc-roll" title="%{selected|repeating_mythic-feat_$X_npc-roll" value="@{npc-macro-text}"></button></span>
                                    <span class="table-cell small-label hide-readonly" style="width:2.5em;"><input type="checkbox" name="attr_showinmenu" title="@{repeating_mythic-feat_$X_showinmenu}" value="1" /><span data-i18n="show-in-menu" data-i18n-title="show-in-menu-title" data-i18n-aria-label="show-in-menu-title">Show</span></span>
                                    <span class="table-cell small-label"><input title="@{repeating_mythic-feat_$X_name}" type="text" name="attr_name" data-i18n-placeholder="mythic-feat-name"><br><span data-i18n="name">Name</span></span>
                                    <span class="table-cell small-label entry-30p-shrink"><textarea class="inline-textarea" title="@{repeating_mythic-feat_$X_short-description}" name="attr_short-description" data-i18n-placeholder="short-description"></textarea><br><span data-i18n="short-description-abbrv">Short Desc</span></span>
                                    <span class="table-cell small-label" style="width:0.1%;"><input title="@{repeating_mythic-feat_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses">Uses</span></span>
                                    <span class="divider-lg" style="width:0.1%;">/</span>
                                    <input type="checkbox" name="attr_used_max_error" class="error-mshow" value="1" />
                                    <span class="table-cell small-label highlight" style="width:0.1%;"><input title="@{repeating_mythic-feat_$X_used|max}" type="number" name="attr_used_max" value="0" class="calc" readonly /><br><span data-i18n="maximum-abbrv">Max</span></span>
                                    <span class="table-cell small-label sect highlight hide-readonly" style="width:7%;"><textarea class="macro-text-inline both" title="@{repeating_mythic-feat_$X_max-calculation}" name="attr_max-calculation" data-i18n-placeholder="equation-macro-place"></textarea><br><span data-i18n="maximum-calculation-abbrv">Max Calc</span></span>
                                    <div class="sect expand">
                                        <input type="checkbox" class="showarrow desc-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Description" name="attr_description-show" value="1" />
                                        <label class="showsect desc-showlabel" data-i18n="description">Description</label>
                                        <input type="checkbox" class="showarrow macro-text-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1" />
                                        <label class="showsect macro-text-showlabel" data-i18n="macro-text">Macro Text</label>
                                        <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1" />
                                        <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                        <hr class="subnav-hr">
                                        <div class="cheat"></div>
                                        <textarea class="desc" title="@{repeating_mythic-feat_$X_description}" name="attr_description"></textarea>
                                        <textarea class="macro-text" title="@{repeating_mythic-feat_$X_npc-macro-text}" name="attr_npc-macro-text">@{PC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{name=@{name}}} {{description=@{short-description}}}</textarea>
                                        <div class="repeating-id">
                                            <label class="small-label2 nextitem">
                                                <input class="selectable calc" name="attr_row_id" readonly />
                                                <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                    <div class="cheat"></div>
                    <input class="showarrow h3arrow" type="checkbox" name="attr_skill_options-show" data-i18n-aria-label="skill-options" data-i18n-title="showsect-cmd" value="1" checked />
                    <h3 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="skill-options">Skill Options</label></h3>
                    <div class="h3-section table options named wide-readonly">
                        <div class="table-name" data-i18n="skill-options">Skill Options</div>
                        <input type="checkbox" value="1" name="attr_extra_fields_san_show" title="@{extra_fields_san_show}" class="extra-show selectedlabel-check" checked="checked"><b data-i18n="show-more-fields">Show more fields</b>
                        <div class="cheat"></div>
                        <div class="table config-table">
                            <div class="table-row">
                                <span class="table-cell left small-label" style="padding-left:0.25em;">
                                    <label class="nowrap">
                                        <input type="checkbox" class="boldlabel-check" name="attr_enforce_requires_training" value="1" /><b title="Only affects skillbook buttons" data-i18n="enforce-requires-training">Enforce Requires Training?</b>
                                    </label>
                                    <br>
                                    <label>
                                        <input type="hidden" name="attr_var_skill-notes" value="{{description=@{Skill-notes}}}" disabled />
                                        <input type="hidden" name="attr_skill_options" value="{{buff_note=@{buff_skill_notes}}} {{condition_note=@{condition_skill_notes}}} @{toggle_skill-notes}" disabled />
                                        <input type="checkbox" class="boldlabel-check" name="attr_toggle_skill-notes" value="@{var_skill-notes}" title="@{toggle_skill-notes}" checked><b data-i18n-title="include-skill-notes" data-i18n-aria-label="include-skill-notes" data-i18n="skill-notes">Skill notes?</b>
                                    </label>
                                    <br>
                                    <label>
                                        <input type="checkbox" class="boldlabel-check" name="attr_include_skill_totals" value="1" checked><b title="Only affects skillbook buttons" data-i18n="include-skill-totals">Include Skill Totals?</b>
                                    </label>
                                </span>
                                <span class="table-cell left small-label" style="padding-left:0.25em; width:22%;">
                                    <span data-i18n="enable-take-10-or-20-options" data-i18n-title="enable-skill-check-query-title" data-i18n-aria-label="enable-skill-check-query-title" title="Skill Checks will include an option to Roll, Take 10, or Take 20.">Enable Take 10 or 20 options?</span>
                                    <br>
                                    <select name="attr_skill-query" title="@{skill-query}" style="width:7.25em;margin-top:0.1rem;height:2.125em;">
                                        <option value="1d20+@{skill-invest-query}" data-i18n="no" selected>No</option>
                                        <option value="?{Roll or Take 10/20?|1d20,1d20|10,10|20,20}+@{skill-invest-query}" data-i18n="yes">Yes</option>
                                        <option value="@{skill-invest-query}+@{custom_dice}" data-i18n="custom-roll">Custom Roll</option>
                                    </select>
                                </span>
                                <input type="checkbox" class="nextitem-show" name="attr_skill-query" value="@{skill-invest-query}+@{custom_dice}" role="presentation" />
                                <span class="table-cell left nextitem small-label" style="width:20%;">
                                    <span class="super note-c" data-i18n="custom-roll">Custom Roll</span>
                                    <br>
                                    <textarea title="@{custom_dice}" class="macro-text-inline both" type="text" name="attr_custom_dice" data-i18n-placeholder="full-macro-place">[[ 1d20 ]]</textarea>
                                </span>
                                <input type="checkbox" class="nextitem-show" name="attr_adv_macro_show" value="1" role="presentation" />
                                <span class="table-cell left nextitem small-label extra-sect" style="width:20%;">
                                    <span data-i18n="add-skill-bonus-macro">Add Skill Bonus Macro?</span>
                                    <br>
                                    <select name="attr_skill-invest-query" title="@{skill-invest-query}" style="width:4.5em; margin-top:0.1rem;height:2.125em;">
                                        <option value="0" data-i18n="no-default" selected>No</option>
                                        <option value="@{investigator_dice}" data-i18n="yes">Yes</option>
                                    </select>
                                </span>
                                <input type="checkbox" name="attr_skill-invest-query" class="nextitem-show noshow" value="@{investigator_dice}" />
                                <span class="table-cell left nextitem small-label extra-sect" style="width:20%;">
                                    <span class="super note-c" data-i18n="skill-bonus-macro" data-i18n-title="additional-modifier-or-macro" data-i18n-aria-label="additional-modifier-or-macro" title="Additional modifier or macro with brackets, e.g. [[ 1d6 ]], [[ 2d20k1 ]] etc">Skill Bonus Macro</span>
                                    <br>
                                    <textarea title="@{investigator_dice}" class="macro-text-inline both" type="text" name="attr_investigator_dice" data-i18n-placeholder="full-macro-place">0</textarea>
                                </span>
                                <span class="table-rightcell"></span>
                            </div>
                        </div>
                    </div>
                    <div class="cheat"></div>
                    <input class="showarrow h3arrow" type="checkbox" name="attr_skill-notes-show" data-i18n-aria-label="skill-notes" data-i18n-title="showsect-cmd" value="1" checked />
                    <h3 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="skill-notes">Skill Notes</label></h3>
                    <div class="h3-section table noborder-readonly wide-readonly">
                        <textarea class="sect inline-textarea" title="@{Skill-notes}" name="attr_Skill-notes" style="height:5rem;" data-i18n-placeholder="skill-notes-place"></textarea>
                    </div>
                    <div class="cheat"></div>
                    <input class="showarrow h3arrow" type="checkbox" name="attr_npc-skills-show" data-i18n-aria-label="skills" data-i18n-title="showsect-cmd" value="1" checked />
                    <h3 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="skills">Skills</label></h3>
                    <div class="h3-section noborder-readonly wide-readonly">
                        <input type="checkbox" class="unchained-show" name="attr_unchained_skills-show" value="1" role="presentation" />
                        <input type="checkbox" class="consolidated-show" name="attr_BG-Skill-Use" value="0" role="presentation" />
                        <input type="checkbox" class="bg-show" name="attr_BG-Skill-Use" value="1" checked role="presentation" />
                        <div class="three-columns h3-section wide-readonly">
                            <div class="col">
                                <div class="table-row">
                                    <span class="table-header"></span>
                                    <span class="table-header" data-i18n="name">Name</span>
                                    <span class="table-header" data-i18n="total">Total</span>
                                    <span class="table-header" data-i18n="miscellaneous-abbrv">Misc</span>
                                    <span class="table-header"></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Acrobatics-Check}" type="roll" value="@{NPC-whisper} @{Acrobatics-macro}" name="roll_NPC-Acrobatics-Check"></button></span>
                                    <span class="table-cell left" data-i18n="acrobatics">Acrobatics</span>
                                    <span class="table-cell"><input title="@{Acrobatics}" type="number" name="attr_Acrobatics" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Acrobatics-misc}" type="number" name="attr_Acrobatics-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Appraise-Check}" type="roll" value="@{NPC-whisper} @{Appraise-macro}" name="roll_NPC-Appraise-Check"></button></span>
                                    <span class="table-cell left" data-i18n="appraise">Appraise</span>
                                    <span class="table-cell"><input title="@{Appraise}" type="number" name="attr_Appraise" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Appraise-misc}" type="number" name="attr_Appraise-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Bluff-Check}" type="roll" value="@{NPC-whisper} @{Bluff-macro}" name="roll_NPC-Bluff-Check"></button></span>
                                    <span class="table-cell left" data-i18n="bluff">Bluff</span>
                                    <span class="table-cell"><input title="@{Bluff}" type="number" name="attr_Bluff" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Bluff-misc}" type="number" name="attr_Bluff-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Climb-Check}" type="roll" value="@{NPC-whisper} @{Climb-macro}" name="roll_NPC-Climb-Check"></button></span>
                                    <span class="table-cell left" data-i18n="climb">Climb</span>
                                    <span class="table-cell"><input title="@{Climb}" type="number" name="attr_Climb" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Climb-misc}" type="number" name="attr_Climb-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Craft-Check}" type="roll" value="@{NPC-whisper} @{Craft-macro}" name="roll_NPC-Craft-Check"></button></span>
                                    <span class="table-cell left"><input title="@{Craft-name}" type="text" name="attr_Craft-name" data-i18n-placeholder="craft" /></span>
                                    <span class="table-cell"><input title="@{Craft}" type="number" name="attr_Craft" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Craft-misc}" type="number" name="attr_Craft-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Craft2-Check}" type="roll" value="@{NPC-whisper} @{Craft2-macro}" name="roll_NPC-Craft2-Check"></button></span>
                                    <span class="table-cell left"><input title="@{Craft2-name}" type="text" name="attr_Craft2-name" data-i18n-placeholder="craft" /></span>
                                    <span class="table-cell"><input title="@{Craft2}" type="number" name="attr_Craft2" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Craft2-misc}" type="number" name="attr_Craft2-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Craft3-Check}" type="roll" value="@{NPC-whisper} @{Craft3-macro}" name="roll_NPC-Craft3-Check"></button></span>
                                    <span class="table-cell left"><input title="@{Craft3-name}" type="text" name="attr_Craft3-name" data-i18n-placeholder="craft" /></span>
                                    <span class="table-cell"><input title="@{Craft3}" type="number" name="attr_Craft3" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Craft3-misc}" type="number" name="attr_Craft3-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Diplomacy-Check}" type="roll" value="@{NPC-whisper} @{Diplomacy-macro}" name="roll_NPC-Diplomacy-Check"></button></span>
                                    <span class="table-cell left" data-i18n="diplomacy">Diplomacy</span>
                                    <span class="table-cell"><input title="@{Diplomacy}" type="number" name="attr_Diplomacy" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Diplomacy-misc}" type="number" name="attr_Diplomacy-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Disable-Device-Check}" type="roll" value="@{NPC-whisper} @{Disable-Device-macro}" name="roll_NPC-Disable-Device-Check"></button></span>
                                    <span class="table-cell left" data-i18n="disable-device">Disable Device</span>
                                    <span class="table-cell"><input title="@{Disable-Device}" type="number" name="attr_Disable-Device" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Disable-Device-misc}" type="number" name="attr_Disable-Device-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Disguise-Check}" type="roll" value="@{NPC-whisper} @{Disguise-macro}" name="roll_NPC-Disguise-Check"></button></span>
                                    <span class="table-cell left" data-i18n="disguise">Disguise</span>
                                    <span class="table-cell"><input title="@{Disguise}" type="number" name="attr_Disguise" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Disguise-misc}" type="number" name="attr_Disguise-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Escape-Artist-Check}" type="roll" value="@{NPC-whisper} @{Escape-Artist-macro}" name="roll_NPC-Escape-Artist-Check"></button></span>
                                    <span class="table-cell left" data-i18n="escape-artist">Escape Artist</span>
                                    <span class="table-cell"><input title="@{Escape-Artist}" type="number" name="attr_Escape-Artist" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Escape-Artist-misc}" type="number" name="attr_Escape-Artist-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Fly-Check}" type="roll" value="@{NPC-whisper} @{Fly-macro}" name="roll_NPC-Fly-Check"></button></span>
                                    <span class="table-cell left" data-i18n="fly">Fly</span>
                                    <span class="table-cell"><input title="@{Fly}" type="number" name="attr_Fly" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Fly-misc}" type="number" name="attr_Fly-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Handle-Animal-Check}" type="roll" value="@{NPC-whisper} @{Handle-Animal-macro}" name="roll_NPC-Handle-Animal-Check"></button></span>
                                    <span class="table-cell left" data-i18n="handle-animal">Handle Animal</span>
                                    <span class="table-cell"><input title="@{Handle-Animal}" type="number" name="attr_Handle-Animal" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Handle-Animal-misc}" type="number" name="attr_Handle-Animal-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Heal-Check}" type="roll" value="@{NPC-whisper} @{Heal-macro}" name="roll_NPC-Heal-Check"></button></span>
                                    <span class="table-cell left" data-i18n="heal">Heal</span>
                                    <span class="table-cell"><input title="@{Heal}" type="number" name="attr_Heal" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Heal-misc}" type="number" name="attr_Heal-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Intimidate-Check}" type="roll" value="@{NPC-whisper} @{Intimidate-macro}" name="roll_NPC-Intimidate-Check"></button></span>
                                    <span class="table-cell left" data-i18n="intimidate">Intimidate</span>
                                    <span class="table-cell"><input title="@{Intimidate}" type="number" name="attr_Intimidate" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Intimidate-misc}" type="number" name="attr_Intimidate-misc" value="0" /></span>
                                </div>
                            </div>
                            <div class="col">
                                <div class="table-row">
                                    <span class="table-header"></span>
                                    <span class="table-header" data-i18n="name">Name</span>
                                    <span class="table-header" data-i18n="total">Total</span>
                                    <span class="table-header" data-i18n="miscellaneous-abbrv">Misc</span>
                                    <span class="table-header"></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Knowledge-Arcana-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-Arcana-macro}" name="roll_NPC-Knowledge-Arcana-Check"></button></span>
                                    <span class="table-cell left" data-i18n="knowledge-arcana">Knowledge (Arcana)</span>
                                    <span class="table-cell"><input title="@{Knowledge-Arcana}" type="number" name="attr_Knowledge-Arcana" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Knowledge-Arcana-misc}" type="number" name="attr_Knowledge-Arcana-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Knowledge-Dungeoneering-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-Dungeoneering-macro}" name="roll_NPC-Knowledge-Dungeoneering-Check"></button></span>
                                    <span class="table-cell left" data-i18n="knowledge-dungeoneering">Knowledge (Dungeoneering)</span>
                                    <span class="table-cell"><input title="@{Knowledge-Dungeoneering}" type="number" name="attr_Knowledge-Dungeoneering" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Knowledge-Dungeoneering-misc}" type="number" name="attr_Knowledge-Dungeoneering-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Knowledge-Engineering-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-Engineering-macro}" name="roll_NPC-Knowledge-Engineering-Check"></button></span>
                                    <span class="table-cell left" data-i18n="knowledge-engineering">Knowledge (Engineering)</span>
                                    <span class="table-cell"><input title="@{Knowledge-Engineering}" type="number" name="attr_Knowledge-Engineering" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Knowledge-Engineering-misc}" type="number" name="attr_Knowledge-Engineering-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Knowledge-Geography-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-Geography-macro}" name="roll_NPC-Knowledge-Geography-Check"></button></span>
                                    <span class="table-cell left" data-i18n="knowledge-geography">Knowledge (Geography)</span>
                                    <span class="table-cell"><input title="@{Knowledge-Geography}" type="number" name="attr_Knowledge-Geography" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Knowledge-Geography-misc}" type="number" name="attr_Knowledge-Geography-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Knowledge-History-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-History-macro}" name="roll_NPC-Knowledge-History-Check"></button></span>
                                    <span class="table-cell left" data-i18n="knowledge-history">Knowledge (History)</span>
                                    <span class="table-cell"><input title="@{Knowledge-History}" type="number" name="attr_Knowledge-History" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Knowledge-History-misc}" type="number" name="attr_Knowledge-History-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Knowledge-Local-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-Local-macro}" name="roll_NPC-Knowledge-Local-Check"></button></span>
                                    <span class="table-cell left" data-i18n="knowledge-local">Knowledge (Local)</span>
                                    <span class="table-cell"><input title="@{Knowledge-Local}" type="number" name="attr_Knowledge-Local" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Knowledge-Local-misc}" type="number" name="attr_Knowledge-Local-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Knowledge-Nature-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-Nature-macro}" name="roll_NPC-Knowledge-Nature-Check"></button></span>
                                    <span class="table-cell left" data-i18n="knowledge-nature">Knowledge (Nature)</span>
                                    <span class="table-cell"><input title="@{Knowledge-Nature}" type="number" name="attr_Knowledge-Nature" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Knowledge-Nature-misc}" type="number" name="attr_Knowledge-Nature-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Knowledge-Nobility-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-Nobility-macro}" name="roll_NPC-Knowledge-Nobility-Check"></button></span>
                                    <span class="table-cell left" data-i18n="knowledge-nobility">Knowledge (Nobility)</span>
                                    <span class="table-cell"><input title="@{Knowledge-Nobility}" type="number" name="attr_Knowledge-Nobility" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Knowledge-Nobility-misc}" type="number" name="attr_Knowledge-Nobility-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Knowledge-Planes-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-Planes-macro}" name="roll_NPC-Knowledge-Planes-Check"></button></span>
                                    <span class="table-cell left" data-i18n="knowledge-planes">Knowledge (Planes)</span>
                                    <span class="table-cell"><input title="@{Knowledge-Planes}" type="number" name="attr_Knowledge-Planes" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Knowledge-Planes-misc}" type="number" name="attr_Knowledge-Planes-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Knowledge-Religion-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-Religion-macro}" name="roll_NPC-Knowledge-Religion-Check"></button></span>
                                    <span class="table-cell left" data-i18n="knowledge-religion">Knowledge (Religion)</span>
                                    <span class="table-cell"><input title="@{Knowledge-Religion}" type="number" name="attr_Knowledge-Religion" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Knowledge-Religion-misc}" type="number" name="attr_Knowledge-Religion-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Linguistics-Check}" type="roll" value="@{NPC-whisper} @{Linguistics-macro}" name="roll_NPC-Linguistics-Check"></button></span>
                                    <span class="table-cell left" data-i18n="linguistics">Linguistics</span>
                                    <span class="table-cell"><input title="@{Linguistics}" type="number" name="attr_Linguistics" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Linguistics-misc}" type="number" name="attr_Linguistics-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Perception-Check}" type="roll" value="@{NPC-whisper} @{Perception-macro}" name="roll_NPC-Perception-Check"></button></span>
                                    <span class="table-cell left" data-i18n="perception">Perception</span>
                                    <span class="table-cell"><input title="@{Perception}" type="number" name="attr_Perception" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Perception-misc}" type="number" name="attr_Perception-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Perform-Check}" type="roll" value="@{NPC-whisper} @{Perform-macro}" name="roll_NPC-Perform-Check"></button></span>
                                    <span class="table-cell left"><input title="@{Perform-name}" type="text" name="attr_Perform-name" data-i18n-placeholder="perform" /></span>
                                    <span class="table-cell"><input title="@{Perform}" type="number" name="attr_Perform" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Perform-misc}" type="number" name="attr_Perform-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Perform2-Check}" type="roll" value="@{NPC-whisper} @{Perform2-macro}" name="roll_NPC-Perform2-Check"></button></span>
                                    <span class="table-cell left"><input title="@{Perform2-name}" type="text" name="attr_Perform2-name" data-i18n-placeholder="perform" /></span>
                                    <span class="table-cell"><input title="@{Perform2}" type="number" name="attr_Perform2" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Perform2-misc}" type="number" name="attr_Perform2-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Perform3-Check}" type="roll" value="@{NPC-whisper} @{Perform3-macro}" name="roll_NPC-Perform3-Check"></button></span>
                                    <span class="table-cell left"><input title="@{Perform3-name}" type="text" name="attr_Perform3-name" data-i18n-placeholder="perform" /></span>
                                    <span class="table-cell"><input title="@{Perform3}" type="number" name="attr_Perform3" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Perform3-misc}" type="number" name="attr_Perform3-misc" value="0" /></span>
                                </div>
                            </div>
                            <div class="col">
                                <div class="table-row">
                                    <span class="table-header"></span>
                                    <span class="table-header" data-i18n="name">Name</span>
                                    <span class="table-header" data-i18n="total">Total</span>
                                    <span class="table-header" data-i18n="miscellaneous-abbrv">Misc</span>
                                    <span class="table-header"></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Profession-Check}" type="roll" value="@{NPC-whisper} @{Profession-macro}" name="roll_NPC-Profession-Check"></button></span>
                                    <span class="table-cell left"><input title="@{Profession-name}" type="text" name="attr_Profession-name" data-i18n-placeholder="profession" /></span>
                                    <span class="table-cell"><input title="@{Profession}" type="number" name="attr_Profession" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Profession-misc}" type="number" name="attr_Profession-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Profession2-Check}" type="roll" value="@{NPC-whisper} @{Profession2-macro}" name="roll_NPC-Profession2-Check"></button></span>
                                    <span class="table-cell left"><input title="@{Profession2-name}" type="text" name="attr_Profession2-name" data-i18n-placeholder="profession" /></span>
                                    <span class="table-cell"><input title="@{Profession2}" type="number" name="attr_Profession2" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Profession2-misc}" type="number" name="attr_Profession2-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Profession3-Check}" type="roll" value="@{NPC-whisper} @{Profession3-macro}" name="roll_NPC-Profession3-Check"></button></span>
                                    <span class="table-cell left"><input title="@{Profession3-name}" type="text" name="attr_Profession3-name" data-i18n-placeholder="profession" /></span>
                                    <span class="table-cell"><input title="@{Profession3}" type="number" name="attr_Profession3" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Profession3-misc}" type="number" name="attr_Profession3-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Ride-Check}" type="roll" value="@{NPC-whisper} @{Ride-macro}" name="roll_NPC-Ride-Check"></button></span>
                                    <span class="table-cell left" data-i18n="ride">Ride</span>
                                    <span class="table-cell"><input title="@{Ride}" type="number" name="attr_Ride" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Ride-misc}" type="number" name="attr_Ride-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Sense-Motive-Check}" type="roll" value="@{NPC-whisper} @{Sense-Motive-macro}" name="roll_NPC-Sense-Motive-Check"></button></span>
                                    <span class="table-cell left" data-i18n="sense-motive">Sense Motive</span>
                                    <span class="table-cell"><input title="@{Sense-Motive}" type="number" name="attr_Sense-Motive" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Sense-Motive-misc}" type="number" name="attr_Sense-Motive-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Sleight-of-Hand-Check}" type="roll" value="@{NPC-whisper} @{Sleight-of-Hand-macro}" name="roll_NPC-Sleight-of-Hand-Check"></button></span>
                                    <span class="table-cell left" data-i18n="sleight-of-hand">Sleight of Hand</span>
                                    <span class="table-cell"><input title="@{Sleight-of-Hand}" type="number" name="attr_Sleight-of-Hand" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Sleight-of-Hand-misc}" type="number" name="attr_Sleight-of-Hand-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Spellcraft-Check}" type="roll" value="@{NPC-whisper} @{Spellcraft-macro}" name="roll_NPC-Spellcraft-Check"></button></span>
                                    <span class="table-cell left" data-i18n="spellcraft">Spellcraft</span>
                                    <span class="table-cell"><input title="@{Spellcraft}" type="number" name="attr_Spellcraft" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Spellcraft-misc}" type="number" name="attr_Spellcraft-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Stealth-Check}" type="roll" value="@{NPC-whisper} @{Stealth-macro}" name="roll_NPC-Stealth-Check"></button></span>
                                    <span class="table-cell left" data-i18n="stealth">Stealth</span>
                                    <span class="table-cell"><input title="@{Stealth}" type="number" name="attr_Stealth" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Stealth-misc}" type="number" name="attr_Stealth-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Survival-Check}" type="roll" value="@{NPC-whisper} @{Survival-macro}" name="roll_NPC-Survival-Check"></button></span>
                                    <span class="table-cell left" data-i18n="survival">Survival</span>
                                    <span class="table-cell"><input title="@{Survival}" type="number" name="attr_Survival" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Survival-misc}" type="number" name="attr_Survival-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Swim-Check}" type="roll" value="@{NPC-whisper} @{Swim-macro}" name="roll_NPC-Swim-Check"></button></span>
                                    <span class="table-cell left" data-i18n="swim">Swim</span>
                                    <span class="table-cell"><input title="@{Swim}" type="number" name="attr_Swim" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Swim-misc}" type="number" name="attr_Swim-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Use-Magic-Device-Check}" type="roll" value="@{NPC-whisper} @{Use-Magic-Device-macro}" name="roll_NPC-Use-Magic-Device-Check"></button></span>
                                    <span class="table-cell left" data-i18n="use-magic-device">Use Magic Device</span>
                                    <span class="table-cell"><input title="@{Use-Magic-Device}" type="number" name="attr_Use-Magic-Device" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Use-Magic-Device-misc}" type="number" name="attr_Use-Magic-Device-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Misc-Skill-0-Check}" type="roll" value="@{NPC-whisper} @{Misc-Skill-0-macro}" name="roll_NPC-Misc-Skill-0-Check"></button></span>
                                    <span class="table-cell left"><input type="text" title="@{Misc-Skill-0-name}" name="attr_Misc-Skill-0-name" data-i18n-placeholder="miscellaneous-skill-abbrv" /></span>
                                    <span class="table-cell"><input title="@{Misc-Skill-0}" type="number" name="attr_Misc-Skill-0" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Misc-Skill-0-misc}" type="number" name="attr_Misc-Skill-0-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Misc-Skill-1-Check}" type="roll" value="@{NPC-whisper} @{Misc-Skill-1-macro}" name="roll_NPC-Misc-Skill-1-Check"></button></span>
                                    <span class="table-cell left"><input type="text" title="@{Misc-Skill-1-name}" name="attr_Misc-Skill-1-name" data-i18n-placeholder="miscellaneous-skill-abbrv" /></span>
                                    <span class="table-cell"><input title="@{Misc-Skill-1}" type="number" name="attr_Misc-Skill-1" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Misc-Skill-1-misc}" type="number" name="attr_Misc-Skill-1-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Misc-Skill-2-Check}" type="roll" value="@{NPC-whisper} @{Misc-Skill-2-macro}" name="roll_NPC-Misc-Skill-2-Check"></button></span>
                                    <span class="table-cell left"><input type="text" title="@{Misc-Skill-2-name}" name="attr_Misc-Skill-2-name" data-i18n-placeholder="miscellaneous-skill-abbrv" /></span>
                                    <span class="table-cell"><input title="@{Misc-Skill-2}" type="number" name="attr_Misc-Skill-2" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Misc-Skill-2-misc}" type="number" name="attr_Misc-Skill-2-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Misc-Skill-3-Check}" type="roll" value="@{NPC-whisper} @{Misc-Skill-3-macro}" name="roll_NPC-Misc-Skill-3-Check"></button></span>
                                    <span class="table-cell left"><input type="text" title="@{Misc-Skill-3-name}" name="attr_Misc-Skill-3-name" data-i18n-placeholder="miscellaneous-skill-abbrv" /></span>
                                    <span class="table-cell"><input title="@{Misc-Skill-3}" type="number" name="attr_Misc-Skill-3" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Misc-Skill-3-misc}" type="number" name="attr_Misc-Skill-3-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Misc-Skill-4-Check}" type="roll" value="@{NPC-whisper} @{Misc-Skill-4-macro}" name="roll_NPC-Misc-Skill-4-Check"></button></span>
                                    <span class="table-cell left"><input type="text" title="@{Misc-Skill-4-name}" name="attr_Misc-Skill-4-name" data-i18n-placeholder="miscellaneous-skill-abbrv" /></span>
                                    <span class="table-cell"><input title="@{Misc-Skill-4}" type="number" name="attr_Misc-Skill-4" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Misc-Skill-4-misc}" type="number" name="attr_Misc-Skill-4-misc" value="0" /></span>
                                </div>
                                <div class="table-row">
                                    <span class="table-cell"><button title="%{selected|NPC-Misc-Skill-5-Check}" type="roll" value="@{NPC-whisper} @{Misc-Skill-5-macro}" name="roll_NPC-Misc-Skill-5-Check"></button></span>
                                    <span class="table-cell left"><input type="text" title="@{Misc-Skill-5-name}" name="attr_Misc-Skill-5-name" data-i18n-placeholder="miscellaneous-skill-abbrv" /></span>
                                    <span class="table-cell"><input title="@{Misc-Skill-5}" type="number" name="attr_Misc-Skill-5" value="0" class="calc bigger-total" readonly /></span>
                                    <span class="table-cell"><input title="@{Misc-Skill-5-misc}" type="number" name="attr_Misc-Skill-5-misc" value="0" /></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <input name="attr_use_racial_traits" type="checkbox" value="1" class="racial-traits-show" />
                <hr class="npc-hr npchead-top" />
                <input class="showarrow h2arrow" type="checkbox" name="attr_npc-special-abilities-show" data-i18n-aria-label="special-abilities" data-i18n-title="showsect-cmd" value="1" checked />
                <!--SPECIAL ABILITIES-->
                <h2 id="special-abilities" class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="special-abilities" class="upper">SPECIAL ABILITIES</label></h2>
                <hr class="npc-hr npchead-bottom" />
                <div class="h2-section npc-abilities abilities repeating-sect wide-readonly" role="region" aria-label="special-abilities">
                    <div role="menubar" class="abilitiesnav tabs custbordernav" aria-label="Abilities" data-i18n-aria-label="abilities"></div>
                    <input type="checkbox" class="mythic-show" name="attr_mythic-adventures-show" value="1" role="presentation" />
                    <input type="radio" class="tabinput tab0 wider-tab" name="attr_npc-abilities_tab" value="class-features" data-i18n-title="class-features" data-i18n-aria-label="class-features" />
                    <label role="menuitem" class="tab tab0 wider-tab" data-i18n="class-features">Features</label>
                    <input type="radio" class="tabinput tab1 med-tab" name="attr_npc-abilities_tab" value="feats" data-i18n-title="feats" data-i18n-aria-label="feats" />
                    <label role="menuitem" class="tab tab1 med-tab" data-i18n="feats">Feats</label>
                    <input type="radio" class="tabinput tab2 med-tab" name="attr_npc-abilities_tab" value="traits" data-i18n-title="traits-and-racial-traits" data-i18n-aria-label="traits-and-racial-traits" />
                    <label role="menuitem" class="tab tab2 med-tab" data-i18n="traits">Traits</label>
                    <input type="radio" class="tabinput tab3 section-mythic wider-tab" name="attr_npc-abilities_tab" value="mythic" data-i18n-title="mythic-abilities" data-i18n-aria-label="mythic-abilities" />
                    <label role="menuitem" class="tab tab3 section-mythic wider-tab" data-i18n="mythic-abilities">Mythic Abilities</label>
                    <input type="radio" class="tabinput tab4" name="attr_npc-abilities_tab" value="special-attacks" data-i18n-title="special-attacks" data-i18n-aria-label="special-attacks" />
                    <label role="menuitem" class="tab tab4" data-i18n="special-attacks-abbrv">Spec Atk</label>
                    <input type="radio" class="tabinput tab5 wider-tab" name="attr_npc-abilities_tab" value="special-abilities" data-i18n-title="special-abilities" data-i18n-aria-label="special-abilities" />
                    <label role="menuitem" class="tab tab5 wider-tab" data-i18n="special-abilities-abbrv">Spec Abil</label>
                    <input type="radio" class="tabinput tab6" name="attr_npc-abilities_tab" value="spell-like-abilities" data-i18n-title="spell-like-abilities" data-i18n-aria-label="spell-like-abilities" />
                    <label role="menuitem" class="tab tab6" data-i18n="spell-like-abilities-abbrv">Spell-like</label>
                    <input type="radio" class="tabinput tab7 narrow-tab" name="attr_npc-abilities_tab" value="special-qualities" data-i18n-title="special-qualities" data-i18n-aria-label="special-qualities" />
                    <label role="menuitem" class="tab tab7 narrow-tab" data-i18n="special-qualities-abbrv">SQ</label>
                    <input type="radio" class="tabinput tab8 med-tab" name="attr_npc-abilities_tab" value="other" data-i18n-title="all-other-desc" data-i18n-aria-label="all-other-desc" />
                    <label role="menuitem" class="tab tab8 med-tab" data-i18n="miscellaneous-abbrv">Misc</label>
                    <input type="radio" class="tabinput tab99 narrow-tab" name="attr_npc-abilities_tab" value="99" data-i18n-title="all" data-i18n-aria-label="all" checked />
                    <label role="menuitem" class="tab tab99 narrow-tab" data-i18n="all">All</label>
                    <span class="divider-db-lg"> </span>
                    <input type="radio" class="tabinput tab9 narrow-tab" name="attr_npc-abilities_tab" value="Ex" data-i18n-title="extraordinary-abilities" data-i18n-aria-label="extraordinary-abilities" />
                    <label role="menuitem" class="tab tab9 narrow-tab" data-i18n="extraordinary-abbrv">Ex</label>
                    <input type="radio" class="tabinput tab10 narrow-tab" name="attr_npc-abilities_tab" value="Sp" data-i18n-title="spell-like-abilities" data-i18n-aria-label="spell-like-abilities" />
                    <label role="menuitem" class="tab tab10 narrow-tab" data-i18n="spell-like-abbrv">Sp</label>
                    <input type="radio" class="tabinput tab11 narrow-tab" name="attr_npc-abilities_tab" value="Su" data-i18n-title="supernatural-abilities" data-i18n-aria-label="supernatural-abilities" />
                    <label role="menuitem" class="tab tab11 narrow-tab" data-i18n="supernatural-abbrv">Su</label>
                    <div class="cheat"></div>
                    <span class="tab0 nontable-name selected-tabtitle" data-i18n="class-features">Features</span>
                    <span class="tab1 nontable-name selected-tabtitle" data-i18n="feats">Feats</span>
                    <span class="tab2 nontable-name selected-tabtitle" data-i18n="traits">Traits</span>
                    <span class="tab3 nontable-name selected-tabtitle" data-i18n="mythic-abilities">Mythic Abilities</span>
                    <span class="tab4 nontable-name selected-tabtitle" data-i18n="special-attacks-abbrv">Spec Atk</span>
                    <span class="tab5 nontable-name selected-tabtitle" data-i18n="special-abilities-abbrv">Spec Abil</span>
                    <span class="tab6 nontable-name selected-tabtitle" data-i18n="spell-like-abilities-abbrv">Spell-like</span>
                    <span class="tab7 nontable-name selected-tabtitle" data-i18n="special-qualities-abbrv">SQ</span>
                    <span class="tab8 nontable-name selected-tabtitle" data-i18n="miscellaneous-abbrv">Misc</span>
                    <span class="tab9 nontable-name selected-tabtitle" data-i18n="extraordinary-abbrv">Ex</span>
                    <span class="tab10 nontable-name selected-tabtitle" data-i18n="spell-like-abbrv">Sp</span>
                    <span class="tab11 nontable-name selected-tabtitle" data-i18n="supernatural-abbrv">Su</span>
                    <span class="tab99 nontable-name selected-tabtitle" data-i18n="all-abilities">All Abilities</span>
                    <div></div>
                    <!--prevents the repeating buttons(expand/collapse, split-view) from changing position when sheet is in collapsed mode-->
                    <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" data-i18n-aria-label="minimize-all-cmd" title="Minimize all rows." name="attr_npc-abilities-min-show" value="1" /><span></span>
                    <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" data-i18n-aria-label="expand-cmd" title="Collapse or expand all rows." name="attr_npc-abilities-expand-show" value="1" /><span></span>
                    <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" data-i18n-aria-label="column-cmd" title="Split into two columns" name="attr_npc-abilities-column-show" value="1" /><span></span>
                    <input class="deletebutton cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_ability_btn" value="1" data-i18n-title="delete-ability" data-i18n-aria-label="delete-ability-must-confirm-next-checkbox" /><span></span><label class="deletesect allrows-note"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_ability" data-i18n-aria-label="confirm-delete-ability" data-i18n-title="confirm-delete-ability" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                    <span class="compendium-note hide-readonly">
                        <span class="compendium-icon">i</span>
                        <span class="vertical-middle" data-i18n-title="compendium-drag-n-drop-desc" data-i18n-aria-label="compendium-drag-n-drop-desc" data-i18n="compendium-drag-drop-compatible"> Compendium drag-n-drop compatible </span>
                        <span class="drag-icon">&#9111;</span>
                    </span>
                    <div class="repeating-fields table hiderepborder section-ability-list">
                        <input type="checkbox" class="use-metrics noshow" name="attr_use_metrics" value="1" />
                        <fieldset class="repeating_ability">
                            <span class="error"><span class="pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
                            <input type="radio" name="attr_tabcat" value="-1" class="tabcopy custnavsection-new" checked role="presentation" />
                            <input type="radio" name="attr_tabcat" value="class-features" class="tabcopy custnavsection-0" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="feats" class="tabcopy custnavsection-1" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="traits" class="tabcopy custnavsection-2" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="mythic" class="tabcopy custnavsection-3" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="special-attacks" class="tabcopy custnavsection-4" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="special-abilities" class="tabcopy custnavsection-5" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="spell-like-abilities" class="tabcopy custnavsection-6" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="special-qualities" class="tabcopy custnavsection-7" role="presentation" />
                            <input type="radio" name="attr_tabcat" value="other" class="tabcopy custnavsection-8" role="presentation" />
                            <input type="radio" name="attr_tabcat2" value="-1" class="noshow" checked role="presentation" />
                            <input type="radio" name="attr_tabcat2" value="Ex" class="tabcopy custnavsection-9" role="presentation" />
                            <input type="radio" name="attr_tabcat2" value="Sp" class="tabcopy custnavsection-10" role="presentation" />
                            <input type="radio" name="attr_tabcat2" value="Su" class="tabcopy custnavsection-11" role="presentation" />
                            <div class="custrepeating-border nontable-repeating compendium-drop-target">
                                <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" data-i18n-aria-label="minimize-cmd" title="Minimize Row" name="attr_row-show" value="1" checked /><span></span>
                                <span class="small-label2 repeating-rollbutton"><button type="roll" name="attr_npc-roll" title="%{selected|repeating_ability_$X_npc-roll}" value="@{NPC-Whisper} @{macro-text}"></button></span>
                                <span style="display:none;" class="small-label2 repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_ability_$X_roll}" value="@{PC-Whisper} @{macro-text}"></button></span>
                                <label class="small-label2"><input type="checkbox" name="attr_showinmenu" title="@{repeating_ability_$X_showinmenu}" value="1" /><span data-i18n="show-in-menu" data-i18n-title="show-in-menu-title" data-i18n-aria-label="show-in-menu-title">Show</span></label>
                                <label class="small-label2 entry-20p-shrink"><input title="@{repeating_ability_$X_name}" type="text" name="attr_name" data-i18n-placeholder="name" accept="Name" /><span data-i18n="name">Name</span></label>
                                <label class="small-label2 entry-12p-shrink">
                                    <select class="select-small" title="@{repeating_ability_$X_rule_category}" name="attr_rule_category" data-i18n-aria-label="rule-category">
                                        <option value="" data-i18n="select-one-default" selected>&#8226;Select One</option>
                                        <option value="mythic-abilities" data-i18n="mythic-abilities" class="section-mythic">Mythic Abilities</option>
                                        <option value="mythic-feats" data-i18n="mythic-feats" class="section-mythic">Mythic Feats</option>
                                        <option value="class-features" data-i18n="class-features">Class Features</option>
                                        <!-- confusing since defensive abilities already an <option value="defensive-abilities" data-i18n="defensive-abilities">Defensive Abilities</option>-->
                                        <option value="feats" data-i18n="feats">Feats</option>
                                        <option value="monster-rule" data-i18n="monster-rule">Monster Rule</option>
                                        <option value="special-abilities" data-i18n="special-abilities">Special Abilities</option>
                                        <option value="special-attacks" data-i18n="special-attacks">Special Attacks</option>
                                        <option value="special-qualities" data-i18n="special-qualities">Special Qualities</option>
                                        <option value="spell-like-abilities" data-i18n="spell-like-abilities">Spell-like Abilities</option>
                                        <option value="racial-traits" data-i18n="racial-traits">Racial Traits</option>
                                        <option value="traits" data-i18n="traits">Traits</option>
                                        <option value="other" data-i18n="other">Other</option>
                                    </select>
                                    <span data-i18n-title="rule-category" data-i18n-aria-label="rule-category" data-i18n="rule">Rule</span>
                                </label>
                                <label class="small-label2 entry-vshort sect">
                                    <select class="select-small select-class" title="@{repeating_ability_$X_CL-basis}" name="attr_CL-basis">
                                        <option value="0" data-i18n="not-applicable">N/A</option>
                                        <option value="@{level}" data-i18n="full-caster-level-abbrv" selected>Level/HD</option>
                                        <option value="@{class-0-level}" data-i18n="1-ordinal-class">1st Class</option>
                                        <option value="@{class-1-level}" data-i18n="2-ordinal-class">2nd Class</option>
                                        <option value="@{class-2-level}" data-i18n="3-ordinal-class">3rd Class</option>
                                        <option value="@{class-3-level}" data-i18n="4-ordinal-class">4th Class</option>
                                        <option value="@{class-4-level}" data-i18n="5-ordinal-class">5th Class</option>
                                        <option value="@{class-5-level}" data-i18n="6-ordinal-class">6th Class</option>
                                        <option value="@{npc-hd-num}" data-i18n="race-hd-default">Race only</option>
                                        <option value="((0*@{level}))" data-i18n="other">Other</option>
                                    </select>
                                    <span data-i18n-title="caster-level-basis-explanation" data-i18n-aria-label="caster-level-basis-explanation" data-i18n="source">Source</span>
                                </label>
                                <input type="checkbox" name="attr_CL-basis" value="0" class="or-A-show noshow nolevel-show-inverse" />
                                <input type="checkbox" name="attr_CL-basis" value="@{level}" class="or-B-show noshow" />
                                <label class="small-label2 entry-10p-shrink nor-sect sect">
                                    <input type="text" value="" name="attr_class-name" title="@{repeating_ability_$X_class-name}" class="calc" readonly />
                                    <span class="nowrap" data-i18n="source-name">Source Name</span>
                                </label>
                                <label class="small-label2 entry-12p-shrink feats-traits-dropdown autoexpand">
                                    <input type="text" name="attr_ability_type2" list="feats" class="show-feats" title="@{repeating_ability_$X_ability_type2}" placeholder="General" data-i18n-placeholder="general" value="" accept="Feat Type" />
                                    <input type="text" name="attr_ability_type2" list="traits" class="show-traits" title="@{repeating_ability_$X_ability_type2}" placeholder="General" data-i18n-placeholder="general" value="" />
                                    <span class="show-feats" data-i18n="feat-type">Feat Type</span>
                                    <span class="show-traits" data-i18n="trait-type">Trait Type</span>
                                    <span name="attr_ability_type2" class="autoexpand"></span>
                                </label>
                                <label class="small-label2 entry-12p-shrink exspsu-dropdown autoexpand">
                                    <select title="@{repeating_ability_$X_ability_type}" name="attr_ability_type">
                                        <option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                        <option value="Ex" data-i18n="extraordinary-abbrv">Ex</option>
                                        <option value="Sp" data-i18n="spell-like-abbrv">Sp</option>
                                        <option value="Su" data-i18n="supernatural-abbrv">Su</option>
                                    </select>
                                    <span data-i18n-title="ability-type-title" data-i18n-aria-label="ability-type-title" data-i18n="type">Type</span>
                                </label>
                                <label class="small-label2 entry-20p-shrink" style="height:auto;"><textarea class="inline-textarea both" title="@{repeating_ability_$X_short-description}" name="attr_short-description" data-i18n-placeholder="short-description"></textarea><span data-i18n="short-description-abbrv">Short Desc</span></label>
                                <label class="small-label2" style="width:6em;">
                                    <select class="select-small" title="@{repeating_ability_$X_frequency}" name="attr_frequency">
                                        <option value="not-applicable" data-i18n="not-applicable-abbrv-default" selected>&#8226; N/A</option>
                                        <option value="constant" data-i18n="constant">Constant</constant>
                                        <option value="atwill" data-i18n="at-will">At Will</option>
                                        <option value="perday" data-i18n="per-day-abbrv">/day</option>
                                        <option value="hexfreq" data-i18n="24-per-target-abbrv">/24/target</option>
                                        <option value="everyrounds" data-i18n="every-rounds-abbrv">Every n rnds</option>
                                        <option value="perweek" data-i18n="per-week-abbrv">/week</option>
                                        <option value="permonth" data-i18n="per-month-abbrv">/month</option>
                                        <option value="other" data-i18n="other">Other</option>
                                    </select>
                                    <span data-i18n-title="frequency-title" data-i18n-aria-label="frequency-title" data-i18n="frequency-abbrv">Freq</span>
                                </label>
                                <input type="checkbox" value="everyrounds" name="attr_frequency" class="nextitem-show noshow" />
                                <label class="small-label2 sect nextitem entry-10p-shrink"><input type="text" class="macro-text-inline both" title="@{repeating_ability_$X_rounds_between}" name="attr_rounds_between" data-i18n-placeholder="full-macro-place" /><span data-i18n="rounds">Rounds</span></label>
                                <input type="checkbox" value="perday" name="attr_frequency" class="or4-show noshow" />
                                <input type="checkbox" value="perweek" name="attr_frequency" class="or4-show noshow" />
                                <input type="checkbox" value="permonth" name="attr_frequency" class="or4-show noshow" />
                                <input type="checkbox" value="other" name="attr_frequency" class="or4-show noshow" />
                                <label class="small-label2 or4-sect"><input class="narrow-numbers" title="@{repeating_ability_$X_used}" type="number" name="attr_used" value="" /><span class="nowrap-over" data-i18n="number-prepared-abbrv">#Left</span></label>
                                <label class="divider-db-lg or4-sect">/</label>
                                <input type="checkbox" name="attr_used_max_error" class="error-mshow" value="1" />
                                <label class="small-label2 highlight or4-sect"><input class="narrow-numbers calc" title="@{repeating_ability_$X_used|max}" type="number" name="attr_used_max" value="" readonly /><span class="nowrap-over" data-i18n="maximum-abbrv">Max</span></label>
                                <label class="small-label2 sect highlight hide-readonly or4-sect entry-med"><input type="text" class="macro-text-inline" title="@{repeating_ability_$X_max-calculation}" name="attr_max-calculation" data-i18n-placeholder="equation-macro-place" /><span class="super note-a" data-i18n="maximum-calculation-abbrv">Max Calc</span></label>
                                <div style="display:none;">
                                    <input type="text" name="attr_compendium_category" accept="Category" value="" />
                                    <input type="text" name="attr_ability_type_compendium" accept="Ability Type" value="" />
                                    <!--spells -->
                                    <input type="text" name="attr_range_from_compendium" accept="Range" value="" />
                                    <input type="text" name="attr_target_from_compendium" accept="Target" value="" />
                                    <input type="text" name="attr_area_from_compendium" accept="Area" value="" />
                                    <input type="text" name="attr_effect_from_compendium" accept="Effect" value="" />
                                </div>
                                <div class="sect expand">
                                    <input type="checkbox" class="showarrow desc-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Description" name="attr_description-show" value="1" />
                                    <label class="showsect desc-showlabel" data-i18n="description">Description</label>
                                    <input type="checkbox" class="showarrow level-show nolevel-sect" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Miscellaneous" name="attr_misc-show" value="1" />
                                    <label class="showsect level-showlabel nolevel-sect" data-i18n="level-basis">Level basis</label>
                                    <input type="checkbox" class="showarrow range-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Miscellaneous" name="attr_range-show" value="1" />
                                    <label class="showsect range-showlabel" data-i18n="range">Range</label>
                                    <input type="checkbox" class="showarrow attack-damage-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show attack and damage fields" name="attr_attack-show" value="1" />
                                    <label class="showsect attack-damage-showlabel" data-i18n="attack-and-damage">Attack and Damage</label>
                                    <input type="checkbox" class="showarrow macro-text-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1" />
                                    <label class="showsect macro-text-showlabel super note-d" data-i18n="macro-text">Macro Text</label>
                                    <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1" />
                                    <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                    <hr class="subnav-hr">
                                    <div class="cheat"></div>
                                    <div class="level nolevel-sect">
                                        <input type="checkbox" value="1" name="attr_showextrafields" class="extra-show or-A-show noshow" />
                                        <input type="checkbox" value="Sp" name="attr_ability_type" class="sp-show noshow" />
                                        <label class="small-label2">
                                            <input type="checkbox" value="1" name="attr_showextrafields" />
                                            <span data-i18n-title="display-advanced-options-title" data-i18n="custom">Custom</span>
                                        </label>
                                        <label class="small-label2 extra-sect">
                                            <input class="number calc" type="number" name="attr_CL-basis-mod" title="@{repeating_ability_$X_CL-basis-mod}" value="0" readonly />
                                            <span data-i18n-title="caster-level-basis-explanation" data-i18n-aria-label="caster-level-basis-explanation" data-i18n="caster-level-basis-abbreviation">CL basis</span>
                                        </label>
                                        <label class="divider-db-lg nowrap extra-sect">+(</label>
                                        <label class="small-label2 linked-tablecell extra-sect nowrap entry-med">
                                            <input type="checkbox" value="1" name="attr_CL-misc-mod_error" class="error-mshow" />
                                            <input type="text" class="macro-text-inline linked-cellfield highlight" title="@{repeating_ability_$X_CL-misc}" name="attr_CL-misc" data-i18n-placeholder="equation-macro-place" />
                                            <input type="number" value="0" name="attr_CL-misc-mod" title="@{repeating_ability_$X_CL-misc-mod}" class="narrow-numbers calc linked-cellfield highlight" readonly />
                                            <br>
                                            <span class="super note-a" data-i18n-title="buff-spell-caster-level-title" data-i18n-aria-label="buff-spell-caster-level-title" data-i18n="miscellaneous-abbrv">Misc</span>
                                        </label>
                                        <label class="divider-db-lg nowrap extra-sect">)=</label>
                                        <label class="small-label2 number">
                                            <input type="number" value="0" title="@{repeating_ability_$X_casterlevel}" name="attr_casterlevel" class="calc bigger-total" />
                                            <span data-i18n-title="effective-caster-level" data-i18n-aria-label="effective-caster-level" data-i18n="caster-level-abbrv">CL</span>
                                        </label>
                                        <label class="divider-db-lg extra-sect">|</label>
                                        <label class="small-label2">
                                            <select class="select-small" title="@{repeating_ability_$X_ability-basis}" name="attr_ability-basis">
                                                <option value="0" data-i18n="none-default" selected>None</option>
                                                <option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
                                                <option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
                                                <option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
                                                <option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
                                                <option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
                                                <option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
                                            </select>
                                            <span data-i18n-title="ability-basis-desc" data-i18n-aria-label="ability-basis-desc" data-i18n="ability">Ability</span>
                                        </label>
                                        <label class="divider-db-lg extra-sect">|</label>
                                        <label class="small-label2">
                                            <select class="select-small select-spelllvl" title="@{repeating_ability_$X_spell_level-basis}" name="attr_spell_level-basis">
                                                <option value="floor(@{casterlevel}/2)" data-i18n="half-caster-level-abbrv-selected" selected>&#8226;&#189; Lvl/HD</option>
                                                <option value="@{casterlevel}" data-i18n="full-caster-level-abbrv">Lvl/HD</option>
                                                <option value="0" data-i18n="custom-level-abbrv">Custom Lvl</option>
                                            </select>
                                            <span data-i18n-title="difficulty-class-effect-basis-desc" data-i18n-aria-label="difficulty-class-effect-basis-desc" data-i18n="difficulty-class-effect-basis">DC/Effect Basis</span>
                                        </label>
                                        <input type="checkbox" value="0" class="noshow or-B-show" name="attr_spell_level-basis" role="presentation" />
                                        <label class="divider-db-lg nowrap either-or-sect">+(</label>
                                        <label class="small-label2 linked-tablecell either-or-sect nowrap entry-med">
                                            <input type="checkbox" value="1" name="attr_spell_level-misc-mod_error" class="error-mshow" />
                                            <input type="text" class="macro-text-inline linked-cellfield highlight" title="@{repeating_ability_$X_spell_level-misc}" name="attr_spell_level-misc" data-i18n-placeholder="equation-macro-place" />
                                            <input type="number" value="0" name="attr_spell_level-misc-mod" title="@{repeating_ability_$X_spell_level-misc-mod}" class="narrow-numbers calc linked-cellfield highlight" readonly />
                                            <br>
                                            <span class="super note-a" data-i18n-aria-label="spell-level-miscellaneous-desc" data-i18n-title="spell-level-miscellaneous-desc" data-i18n="miscellaneous-abbrv">Misc</span>
                                        </label>
                                        <label class="divider-db-lg nowrap either-or-sect" style="margin-left:-.5em;">)=</label>
                                        <label class="small-label2 narrow-numbers">
                                            <input type="text" class="narrow-numbers number" value="(@{spell_level-basis}+@{spell_level-misc-mod})" title="@{repeating_ability_$X_spell_level}" name="attr_spell_level" disabled />
                                            <span data-i18n-title="effective-spell-level" data-i18n-aria-label="effective-spell-level" data-i18n="spell-level-abbrv">Spell lvl</span>
                                        </label>
                                        <label class="divider-db-lg">|</label>
                                        <label class="small-label2 entry-15p-shrink autoexpand"><input title="@{repeating_ability_$X_save}" type="text" name="attr_save" value="" data-i18n-placeholder="save" accept="Saving Throw" /><span data-i18n="save">Save</span><span name="attr_save" class="autoexpand"></span></label>
                                        <label class="small-label2 number">
                                            <input type="text" value="(10+@{ability-basis} + @{spell_level})" name="attr_savedc" title="@{repeating_ability_$X_savedc}" class="number" disabled />
                                            <span data-i18n-title="difficulty-class-calculation-desc" data-i18n-aria-label="difficulty-class-calculation-desc" data-i18n="difficulty-class-abbrv">DC</span>
                                        </label>
                                        <label class="small-label2 sect-sp">
                                            <input type="text" value="(@{ability-basis} + @{casterlevel})" name="attr_Concentration-mod" title="@{repeating_ability_$X_Concentration-mod}" class="number" disabled />
                                            <span data-i18n-aria-label="concentration-bonus-desc" data-i18n-title="concentration-bonus-desc" data-i18n="concentration-abbrv">Conc</span>
                                        </label>
                                        <label class="small-label2 sect-sp entry-short">
                                            <select class="select-small" title="@{repeating_ability_$X_abil-sr}" name="attr_abil-sr" accept="Spell Resistance">
                                                <option value="" data-i18n="select-spell-resistance-default">&#8226;Select SR</option>
                                                <option value="Yes" data-i18n="yes">Yes</option>
                                                <option value="No" data-i18n="no">No</option>
                                                <option value="Yes (Harmless)" data-i18n="yes-harmless">Yes (Harmless)</option>
                                                <option value="Yes (Object)" data-i18n="yes-object">Yes (Object)</option>
                                                <option value="Yes (Harmless, Object)" data-i18n="yes-harmless-object">Yes (Harmless, Object)</option>
                                            </select>
                                            <span data-i18n-title="spell-resistance" data-i18n-aria-label="spell-resistance" data-i18n="spell-resistance-abbrv">SR</span>
                                        </label>
                                    </div>
                                    <div class="range">
                                        <input type="checkbox" value="Sp" name="attr_ability_type" class="sp-show noshow" />
                                        <label class="small-label2 number">
                                            <input type="number" value="0" title="@{repeating_ability_$X_casterlevel}" name="attr_casterlevel" class="calc" />
                                            <span data-i18n-title="level-hit-dice-abbrv" data-i18n-aria-label="level-hit-dice-abbrv" data-i18n="caster-level-abbrv">CL</span>
                                        </label>
                                        <label class="small-label2 sect-sp-inverse">
                                            <select class="select-small" title="@{repeating_ability_$X_range_pick}" name="attr_range_pick">
                                                <option value="" data-i18n="not-applicable-abbrv-default" selected>na</option>
                                                <option value="number" data-i18n="number">Number</option>
                                                <option value="perlevel" data-i18n="perlevel">Per Level</option>
                                                <option value="see_text" data-i18n="see_text">See text</option>
                                            </select>
                                            <span data-i18n="range">Range</span>
                                        </label>
                                        <label class="small-label2 sect-sp">
                                            <select class="select-small" title="@{repeating_ability_$X_range_pick}" name="attr_range_pick">
                                                <option value="" data-i18n="blank" selected>Blank</option>
                                                <option value="close" data-i18n="close">Close</option>
                                                <option value="medium" data-i18n="medium">Medium</option>
                                                <option value="long" data-i18n="long">Long</option>
                                                <option value="touch" data-i18n="touch">Touch</option>
                                                <option value="personal" data-i18n="personal">Personal</option>
                                                <option value="see_text" data-i18n="see_text">See text</option>
                                                <option value="number" data-i18n="number">Number</option>
                                                <option value="perlevel" data-i18n="perlevel">Per Level</option>
                                                <option value="unknownrange" data-i18n="unknownrange">Unknown Range</option>
                                            </select>
                                            <span data-i18n="range">Range</span>
                                        </label>
                                        <input type="checkbox" value="number" name="attr_range_pick" class="or-A-show noshow" />
                                        <input type="checkbox" value="perlevel" name="attr_range_pick" class="or-B-show noshow" />
                                        <label class="small-label2 entry-8p-shrink either-or-sect"><input title="@{repeating_ability_$X_range}" type="text" name="attr_range" data-i18n-placeholder="range-custom-place" /><span data-i18n-title="range-per-level-desc" data-i18n-aria-label="range-per-level-desc" data-i18n="range-custom">Custom Range</span></label>
                                        <label class="small-label2">
                                            <input title="@{repeating_ability_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" class="calc" readonly /><span class="distance-used" data-i18n="range">Range</span>
                                        </label>
                                        <label class="small-label2 sect entry-15p-shrink autoexpand"><input title="@{repeating_ability_$X_duration}" type="text" name="attr_duration" value="" data-i18n-placeholder="spell-duration" accept="Duration" /><span data-i18n="duration">Duration</span><span name="attr_duration" class="autoexpand"></span></label>
                                        <label class="small-label2 entry-15p-shrink autoexpand"><input title="@{repeating_ability_$X_cust-category}" type="text" name="attr_cust-category" value="" data-i18n-placeholder="school-etc" accept="School" /><span data-i18n-title="custom-category-desc" data-i18n-aria-label="custom-category-desc" data-i18n="category">Category</span><span name="attr_cust-category" class="autoexpand"></span></label>
                                    </div>
                                    <div class="attack-damage non-table sect expand">
                                        <label class="small-label2">
                                            <input type="checkbox" name="attr_create-attack-entry" value="1" class="cssbutton createattackbutton" data-i18n-title="create-attack-entry" data-i18n-aria-label="create-attack-entry"><span></span>
                                            <span data-i18n-title="create-attack-entry" data-i18n-aria-label="create-attack-entry" data-i18n="create-attack">Create Attack</span>
                                        </label>
                                        <input type="number" name="attr_toggle_attack_entry" value="1" class="noshow" />
                                        <label class="small-label2 entry-short">
                                            <select class="select-small" title="@{repeating_ability_$X_abil-attack-type}" name="attr_abil-attack-type">
                                                <option value="0" data-i18n="none-default" selected>&#8226;None</option>
                                                <option value="attk-melee" data-i18n="touch">Touch</option>
                                                <option value="attk-ranged" data-i18n="ranged-touch-ray">Ranged touch/Ray</option>
                                                <option value="CMB" data-i18n="combat-maneuver-bonus-abbrv">CMB</option>
                                                <option value="attk-melee2" data-i18n="touch-melee2">Alt Touch (alt melee)</option>
                                                <option value="attk-ranged2" data-i18n="ranged-touch-ray2">Alt Ranged Touch/Ray</option>
                                                <option value="CMB2" data-i18n="combat-maneuver-bonus-abbrv2">CMB2</option>
                                            </select>
                                            <span data-i18n="attack-type">Attack Type</span>
                                        </label>
                                        <label class="small-label2 sect entry-15p-shrink autoexpand">
                                            <input title="@{repeating_ability_$X_targets}" type="text" value="" name="attr_targets" data-i18n-placeholder="spell-targets-area-effect" />
                                            <span data-i18n="spell-targets-area-effect">Targets/Area/Effect</span><span name="attr_targets" class="autoexpand"></span>
                                        </label>
                                        <label class="small-label2 entry-med">
                                            <input type="text" class="macro-text-inline" name="attr_damage-macro-text" title="@{repeating_ability_$X_damage-macro-text}" data-i18n-placeholder="full-macro-place" />
                                            <span class="super note-b" data-i18n-title="damage-macro-desc" data-i18n-aria-label="damage-macro-desc" data-i18n="damage">Damage</span>
                                        </label>
                                        <label class="small-label2 entry-15p-shrink autoexpand">
                                            <input type="text" name="attr_damage-type" value="p/b/s...?" title="@{repeating_ability_$X_damage-type}" data-i18n-placeholder="damage-type" />
                                            <span data-i18n="damage-type">Damage Type</span><span name="attr_damage-type" class="autoexpand"></span>
                                        </label>
                                    </div>
                                    <input type="text" name="attr_is_sp" value="" class="noshow" />
                                    <input type="text" name="attr_hasposrange" value="" class="noshow" />
                                    <input type="text" name="attr_hasfrequency" value="" class="noshow" />
                                    <input type="text" name="attr_hasuses" value="" class="noshow" />
                                    <input type="text" name="attr_hasattack" value="" class="noshow" />
                                    <input type="text" name="attr_abil-attacktypestr" value="" class="noshow" />
                                    <textarea class="desc" title="@{repeating_ability_$X_description}" name="attr_description" accept="Content"></textarea>
                                    <textarea class="macro-text" title="@{repeating_ability_$X_macro-text}" name="attr_macro-text">&{template:pf_ability} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_ability}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle=^{@{rule_category}}}} {{name=@{name}}} {{rule_category=@{rule_category}}} {{source=@{class-name}}} {{is_sp=@{is_sp}}} {{hasspellrange=@{range_pick}}} {{spell_range=^{@{range_pick}}}} {{casterlevel=[[@{casterlevel}]]}} {{spell_level=[[@{spell_level}]]}} {{hasposrange=@{hasposrange}}} {{custrange=@{range}}} {{range=[[@{range_numeric}]]}} {{save=@{save}}} {{savedc=[[@{savedc}]]}} {{hassr=@{abil-sr}}} {{sr=^{@{abil-sr}}}} {{hasfrequency=@{hasfrequency}}} {{frequency=^{@{frequency}}}} {{next_cast=@{rounds_between}}} {{hasuses=@{hasuses}}} {{uses=@{used}}} {{uses_max=@{used|max}}} {{cust_category=@{cust-category}}} {{concentration=[[@{Concentration-mod}]]}} {{damage=@{damage-macro-text}}} {{damagetype=@{damage-type}}} {{hasattack=@{hasattack}}} {{attacktype=^{@{abil-attacktypestr}}}} {{targetarea=@{targets}}} {{duration=@{duration}}} {{shortdesc=@{short-description}}} {{description=@{description}}} {{deafened_note=@{SpellFailureNote}}}</textarea>
                                    <div class="repeating-id">
                                        <label class="small-label2 nextitem">
                                            <input class="selectable calc" name="attr_row_id" readonly />
                                            <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
                <div class="h2-section npc-racial-abilities repeating-sect section-racial-traits" role="region" aria-label="racial traits">
                    <span class="nontable-name secondary-table-name">( <span data-i18n="racial-traits">Racial Traits</span> )</span>
                    <input type="checkbox" class="minimize-show cssbutton" data-i18n-title="minimize-all-cmd" data-i18n-aria-label="minimize-all-cmd" title="Minimize all rows." name="attr_npc-special-abilities-min-show" value="1" /><span></span>
                    <input type="checkbox" class="lock-show cssbutton" data-i18n-title="expand-cmd" data-i18n-aria-label="expand-cmd" title="Collapse or expand all rows." name="attr_npc-special-abilities-expand-show" value="1" /><span></span>
                    <input type="checkbox" class="split-column-show cssbutton" data-i18n-title="column-cmd" data-i18n-aria-label="column-cmd" title="Split into two columns" name="attr_npc-special-abilities-column-show" value="1" /><span></span>
                    <input class="deletebutton cssbutton deletesect-show" type="checkbox" name="attr_delete_rep_racial-trait_btn" value="1" data-i18n-title="delete-racial-trait" data-i18n-aria-label="delete-racial-trait-must-confirm-next-checkbox" /><span></span><label class="deletesect allrows-note"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_racial-trait" data-i18n-aria-label="confirm-delete-racial-trait" data-i18n-title="confirm-delete-racial-trait" value="1" /><b data-i18n="delete-all-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                    <div class="sect repeating-fields table">
                        <fieldset class="repeating_racial-trait">
                            <span class="error"><span class="pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
                            <div class="table-repeating">
                                <input type="checkbox" class="counted sect-show" data-i18n-title="minimize-cmd" data-i18n-aria-label="minimize-cmd" title="Minimize Row" name="attr_row-show" value="1" checked /><span class="table-cell"></span>
                                <span style="display:none;" class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_racial-trait_$X_roll}" value="@{macro-text}"></button></span>
                                <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_npc-roll" title="%{selected|repeating_racial-trait_$X_npc-roll}" value="@{npc-macro-text}"></button></span>
                                <span class="table-cell small-label hide-readonly" style="width:2.5em;"><input type="checkbox" name="attr_showinmenu" title="@{repeating_racial-trait_$X_showinmenu}" value="1" /><span data-i18n="show-in-menu" data-i18n-title="show-in-menu-title" data-i18n-aria-label="show-in-menu-title">Show</span></span>
                                <input type="hidden" value="racial-traits" name="attr_rule_category" />
                                <span class="table-cell small-label"><input title="@{repeating_racial-trait_$X_name}" type="text" name="attr_name" data-i18n-placeholder="racial-trait-name" accept="Name"><br><span data-i18n="name">Name</span></span>
                                <span class="table-cell small-label entry-30p-shrink"><textarea class="inline-textarea" title="@{repeating_racial-trait_$X_short-description}" name="attr_short-description" data-i18n-placeholder="short-description"></textarea><br><span data-i18n="short-description-abbrv">Short Desc</span></span>
                                <span class="table-cell small-label exspsu-dropdown">
                                    <select title="@{repeating_racial-trait_$X_ability_type}" name="attr_ability_type">
                                        <option value="not-applicable" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                        <option value="Ex" data-i18n="exceptional-abbrv">Ex</option>
                                        <option value="Sp" data-i18n="spell-like-abbrv">Sp</option>
                                        <option value="Su" data-i18n="supernatural-abbrv">Su</option>
                                    </select>
                                    <br>
                                    <span data-i18n="type">Type</span>
                                </span>
                                <span class="table-cell small-label" style="width:0.1%;"><input title="@{repeating_racial-trait_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses">Uses</span></span>
                                <span class="divider-lg" style="width:0.1%;">/</span>
                                <input type="checkbox" name="attr_used_max_error" class="error-mshow" value="1" />
                                <span class="table-cell small-label highlight" style="width:0.1%;"><input title="@{repeating_racial-trait_$X_used|max}" type="number" name="attr_used_max" value="" class="calc" readonly /><br><span data-i18n="maximum-abbrv">Max</span></span>
                                <span class="table-cell small-label sect highlight hide-readonly" style="width:7%;"><textarea class="macro-text-inline both" title="@{repeating_racial-trait_$X_max-calculation}" name="attr_max-calculation" data-i18n-placeholder="equation-macro-place"></textarea><br><span data-i18n="maximum-calculation-abbrv">Max Calc</span></span>
                                <div class="sect expand">
                                    <input type="checkbox" class="showarrow desc-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Description" name="attr_description-show" value="1" />
                                    <label class="showsect desc-showlabel" data-i18n="description">Description</label>
                                    <input type="checkbox" class="showarrow macro-text-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Macro Text" name="attr_macro-text-show" value="1" />
                                    <label class="showsect macro-text-showlabel" data-i18n="macro-text">Macro Text</label>
                                    <input type="checkbox" class="showarrow id-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" aria-label="Show Row ID" name="attr_ids-show" value="1" />
                                    <label class="showsect id-showlabel" data-i18n="identification-abbrv">ID</label>
                                    <hr class="subnav-hr">
                                    <div class="cheat"></div>
                                    <textarea class="desc" title="@{repeating_racial-trait_$X_description}" name="attr_description" accept="Content"></textarea>
                                    <textarea style="display:none;" class="macro-text" title="@{repeating_racial-trait_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{description=@{short-description}}}</textarea>
                                    <textarea class="macro-text" title="@{repeating_racial-trait_$X_npc-macro-text}" name="attr_npc-macro-text">@{NPC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{description=@{short-description}}}</textarea>
                                    <div class="repeating-id">
                                        <label class="small-label2 nextitem">
                                            <input class="selectable calc" name="attr_row_id" readonly />
                                            <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
                <hr class="npc-hr npchead-top" />
                <input class="showarrow h2arrow" type="checkbox" name="attr_npc-ecology-show" data-i18n-aria-label="ecology" data-i18n-title="showsect-cmd" value="1" checked />
                <!--ECOLOGY-->
                <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="ecology">ECOLOGY</label></h2>
                <hr class="npc-hr npchead-bottom" />
                <div class="h2-section npc-ecology noborder-readonly">
                    <div class="npc-statblock-row">
                        <span class="small-label2" style="width:100%;">
                            <span data-i18n="environment">Environment</span>
                            <textarea class="inline-textarea" title="@{environment}" name="attr_environment"></textarea>
                        </span>
                    </div>
                    <div class="npc-statblock-row">
                        <span class="small-label2" style="width:100%;">
                            <span data-i18n="organization">Organization</span>
                            <textarea class="inline-textarea" title="@{organization}" name="attr_organization"></textarea>
                        </span>
                    </div>
                    <div class="npc-statblock-row">
                        <span class="small-label2" style="width:100%;">
                            <span data-i18n="treasure">Treasure</span>
                            <textarea class="inline-textarea" title="@{other_items_treasure}" name="attr_other_items_treasure"></textarea>
                        </span>
                    </div>
                    <div class="npc-statblock-row" style="min-height: 6em;margin-bottom: 2em;">
                        <!--DESCRIPTION-->
                        <div class="h2-section npc-desc noborder-readonly">
                            <label class="small-label2 wide-textareaparent">
                                <span data-i18n="description">Desscription</span>
                                <textarea class="inline-textarea" style="overflow-y: scroll;min-height: 6em;" title="@{character_description}" name="attr_character_description" data-i18n-placeholder="description"></textarea>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="cheat"></div>
            </div>
            <div class="section9 section section-notes" role="region" aria-label="custom attributes" data-i18n-aria-label="custom-attributes">
                <h1 class="selected-tabtitle" data-i18n="custom-attributes">Custom attributes</h1>
                <div class="cheat"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_custom-attr-sect-a-show" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect super note-a" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="edit-time-custom-num-attributes">Evaluate at edit time custom number attributes</h2>
                <div class="h2-section notes wide-readonly" role="section">
                    <div class="nontable">
                        <div class="linked-custom">
                            <input type="checkbox" name="attr_customa1-mod_error" class="error-mshow" value="1" />
                            <textarea name="attr_customa1" title="@{customa1}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" class="macro-text-inline highlight"></textarea>
                            <input type="number" name="attr_customa1-mod" title="@{customa1-mod}" value="0" class="narrow-numbers calc highlight" readonly />
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customa1-name" title="@{customa1-name}" /></span>
                        </div>
                        <div class="linked-custom">
                            <input type="checkbox" name="attr_customa2-mod_error" class="error-mshow" value="1" />
                            <textarea name="attr_customa2" title="@{customa2}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" class="macro-text-inline highlight"></textarea>
                            <input type="number" name="attr_customa2-mod" title="@{customa2-mod}" value="0" class="narrow-numbers calc highlight" readonly />
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customa2-name" title="@{customa2-name}" /></span>
                        </div>
                        <div class="linked-custom">
                            <input type="checkbox" name="attr_customa3-mod_error" class="error-mshow" value="1" />
                            <textarea name="attr_customa3" title="@{customa3}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" class="macro-text-inline highlight"></textarea>
                            <input type="number" name="attr_customa3-mod" title="@{customa3-mod}" value="0" class="narrow-numbers calc highlight" readonly />
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customa3-name" title="@{customa3-name}" /></span>
                        </div>
                        <br />
                        <div class="linked-custom">
                            <input type="checkbox" name="attr_customa10-mod_error" class="error-mshow" value="1" />
                            <textarea name="attr_customa10" title="@{customa10}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" class="macro-text-inline highlight"></textarea>
                            <input type="number" name="attr_customa10-mod" title="@{customa10-mod}" value="0" class="narrow-numbers calc highlight" readonly />
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customa10-name" title="@{customa10-name}" /></span>
                        </div>
                        <div class="linked-custom">
                            <input type="checkbox" name="attr_customa11-mod_error" class="error-mshow" value="1" />
                            <textarea name="attr_customa11" title="@{customa11}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" class="macro-text-inline highlight"></textarea>
                            <input type="number" name="attr_customa11-mod" title="@{customa11-mod}" value="0" class="narrow-numbers calc highlight" readonly />
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customa11-name" title="@{customa11-name}" /></span>
                        </div>
                        <div class="linked-custom">
                            <input type="checkbox" name="attr_customa12-mod_error" class="error-mshow" value="1" />
                            <textarea name="attr_customa12" title="@{customa12}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" class="macro-text-inline highlight"></textarea>
                            <input type="number" name="attr_customa12-mod" title="@{customa12-mod}" value="0" class="narrow-numbers calc highlight" readonly />
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customa12-name" title="@{customa12-name}" /></span>
                        </div>
                        <br />
                        <div class="linked-custom">
                            <input type="checkbox" name="attr_customa4-mod_max_error" class="error-mshow" value="1" />
                            <textarea name="attr_customa4" title="@{customa4}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" class="macro-text-inline highlight"></textarea>
                            <input type="number" name="attr_customa4-mod" title="@{customa4-mod}" value="0" class="narrow-numbers" />
                            <div class="divider-db-lg">/</div>
                            <input type="number" name="attr_customa4-mod_max" title="@{customa4-mod|max}" value="0" class="calc narrow-numbers highlight" readonly />
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customa4-name" title="@{customa4-name}" /></span>
                        </div>
                        <div class="linked-custom">
                            <input type="checkbox" name="attr_customa5-mod_max_error" class="error-mshow" value="1" />
                            <textarea name="attr_customa5" title="@{customa5}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" class="macro-text-inline highlight"></textarea>
                            <input type="number" name="attr_customa5-mod" title="@{customa5-mod}" value="0" class="narrow-numbers" />
                            <div class="divider-db-lg">/</div>
                            <input type="number" name="attr_customa5-mod_max" title="@{customa5-mod|max}" value="0" class="calc narrow-numbers highlight" readonly />
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customa5-name" title="@{customa5-name}" /></span>
                        </div>
                        <div class="linked-custom">
                            <input type="checkbox" name="attr_customa6-mod_max_error" class="error-mshow" value="1" />
                            <textarea name="attr_customa6" title="@{customa6}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" class="macro-text-inline highlight"></textarea>
                            <input type="number" name="attr_customa6-mod" title="@{customa6-mod}" value="0" class="narrow-numbers" />
                            <div class="divider-db-lg">/</div>
                            <input type="number" name="attr_customa6-mod_max" title="@{customa6-mod|max}" value="0" class="calc narrow-numbers highlight" readonly />
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customa6-name" title="@{customa6-name}" /></span>
                        </div>
                        <br />
                        <div class="linked-custom">
                            <input type="checkbox" name="attr_customa7-mod_max_error" class="error-mshow" value="1" />
                            <textarea name="attr_customa7" title="@{customa7}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" class="macro-text-inline highlight"></textarea>
                            <input type="number" name="attr_customa7-mod" title="@{customa7-mod}" value="0" class="narrow-numbers" />
                            <div class="divider-db-lg">/</div>
                            <input type="number" name="attr_customa7-mod_max" title="@{customa7-mod|max}" value="0" class="calc narrow-numbers highlight" readonly />
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customa7-name" title="@{customa7-name}" /></span>
                        </div>
                        <div class="linked-custom">
                            <input type="checkbox" name="attr_customa8-mod_max_error" class="error-mshow" value="1" />
                            <textarea name="attr_customa8" title="@{customa8}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" class="macro-text-inline highlight"></textarea>
                            <input type="number" name="attr_customa8-mod" title="@{customa8-mod}" value="0" class="narrow-numbers" />
                            <div class="divider-db-lg">/</div>
                            <input type="number" name="attr_customa8-mod_max" title="@{customa8-mod|max}" value="0" class="calc narrow-numbers highlight" readonly />
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customa8-name" title="@{customa8-name}" /></span>
                        </div>
                        <div class="linked-custom">
                            <input type="checkbox" name="attr_customa9-mod_max_error" class="error-mshow" value="1" />
                            <textarea name="attr_customa9" title="@{customa9}" placeholder="#/Equation" value="" data-i18n-placeholder="equation-macro-place" class="macro-text-inline highlight"></textarea>
                            <input type="number" name="attr_customa9-mod" title="@{customa9-mod}" value="0" class="narrow-numbers" />
                            <div class="divider-db-lg">/</div>
                            <input type="number" name="attr_customa9-mod_max" title="@{customa9-mod|max}" value="0" class="calc narrow-numbers highlight" readonly />
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customa9-name" title="@{customa9-name}" /></span>
                        </div>
                    </div>
                </div>
                <div class="cheat"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_custom-attr-sect-c-show" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect super note-c" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="roll-time-custom-num-attributes">Evaluate at roll time custom number attributes</h2>
                <div class="h2-section notes wide-readonly" role="section">
                    <div class="nontable">
                        <div class="linked-custom">
                            <textarea name="attr_customc1" title="@{customc1}" data-i18n-placeholder="full-macro-place" class="macro-text-inline highlight">0</textarea>
                            <input type="number" name="attr_customc1-mod" title="@{customc1-mod}" value="@{customc1}" class="calc narrow-numbers highlight" disabled />
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customc1-name" title="@{customc1-name}" /></span>
                        </div>
                        <div class="linked-custom">
                            <textarea name="attr_customc2" title="@{customc2}" data-i18n-placeholder="full-macro-place" class="macro-text-inline highlight">0</textarea>
                            <input type="number" name="attr_customc2-mod" title="@{customc2-mod}" value="@{customc2}" class="calc narrow-numbers highlight" disabled />
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customc2-name" title="@{customc2-name}" /></span>
                        </div>
                        <div class="linked-custom">
                            <textarea name="attr_customc3" title="@{customc3}" data-i18n-placeholder="full-macro-place" class="macro-text-inline highlight">0</textarea>
                            <input type="number" name="attr_customc3-mod" title="@{customc3-mod}" value="@{customc3}" class="calc narrow-numbers highlight" disabled />
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customc3-name" title="@{customc3-name}" /></span>
                        </div>
                        <br />
                        <div class="linked-custom">
                            <textarea name="attr_customc4" title="@{customc4}" data-i18n-placeholder="full-macro-place" class="macro-text-inline highlight">0</textarea>
                            <input type="number" name="attr_customc4-mod" title="@{customc4-mod}" value="0" class="narrow-numbers" />
                            <div class="divider-db-lg">/</div>
                            <input type="number" name="attr_customc4-mod_max" title="@{customc4-mod|max}" value="@{customc4}" class="calc narrow-numbers highlight" disabled />
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customc4-name" title="@{customc4-name}" /></span>
                        </div>
                        <div class="linked-custom">
                            <textarea name="attr_customc5" title="@{customc5}" data-i18n-placeholder="full-macro-place" class="macro-text-inline highlight">0</textarea>
                            <input type="number" name="attr_customc5-mod" title="@{customc5-mod}" value="0" class="narrow-numbers" />
                            <div class="divider-db-lg">/</div>
                            <input type="number" name="attr_customc5-mod_max" title="@{customc5-mod|max}" value="@{customc5}" class="calc narrow-numbers highlight" disabled />
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customc5-name" title="@{customc5-name}" /></span>
                        </div>
                        <div class="linked-custom">
                            <textarea name="attr_customc6" title="@{customc6}" data-i18n-placeholder="full-macro-place" class="macro-text-inline highlight">0</textarea>
                            <input type="number" name="attr_customc6-mod" title="@{customc6-mod}" value="0" class="narrow-numbers" />
                            <div class="divider-db-lg">/</div>
                            <input type="number" name="attr_customc6-mod_max" title="@{customc6-mod|max}" value="@{customc6}" class="calc narrow-numbers highlight" disabled />
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customc6-name" title="@{customc6-name}" /></span>
                        </div>
                    </div>
                </div>
                <div class="cheat"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_custom-attr-sect-b-show" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect super note-b" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="roll-time-custom-attributes">Evaluate at roll time custom attributes</h2>
                <div class="h2-section notes wide-readonly" role="section">
                    <div class="nontable">
                        <div class="linked-custom-wideinputs">
                            <textarea name="attr_customb1" title="@{customb1}" value="" data-i18n-placeholder="full-macro-place" class="macro-text-inline highlight"></textarea>
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customb1-name" title="@{customb1-name}" /></span>
                        </div>
                        <div class="linked-custom-wideinputs">
                            <textarea name="attr_customb2" title="@{customb2}" value="" data-i18n-placeholder="full-macro-place" class="macro-text-inline highlight"></textarea>
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customb2-name" title="@{customb2-name}" /></span>
                        </div>
                        <div class="linked-custom-wideinputs">
                            <textarea name="attr_customb3" title="@{customb3}" value="" data-i18n-placeholder="full-macro-place" class="macro-text-inline highlight"></textarea>
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customb3-name" title="@{customb3-name}" /></span>
                        </div>
                        <br />
                        <div class="linked-custom-wideinputs">
                            <textarea name="attr_customb4" title="@{customb4}" value="" data-i18n-placeholder="full-macro-place" class="macro-text-inline highlight"></textarea>
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customb4-name" title="@{customb4-name}" /></span>
                        </div>
                        <div class="linked-custom-wideinputs">
                            <textarea name="attr_customb5" title="@{customb5}" value="" data-i18n-placeholder="full-macro-place" class="macro-text-inline highlight"></textarea>
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customb5-name" title="@{customb5-name}" /></span>
                        </div>
                        <div class="linked-custom-wideinputs">
                            <textarea name="attr_customb6" title="@{customb6}" value="" data-i18n-placeholder="full-macro-place" class="macro-text-inline highlight"></textarea>
                            <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customb6-name" title="@{customb6-name}" /></span>
                        </div>
                    </div>
                </div>
                <div class="cheat"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_custom-attr-sect-d-show" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect super note-d" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="custom-rolls">Custom Rolls</h2>
                <div class="h2-section notes" role="section">
                    <div class="linked-custom-roll">
                        <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customd1-name" title="@{customd1-name}" /></span>
                        <div class="custom-roll-inner">
                            <div class="custom-buttons">
                                <button type="roll" name="roll_customd1_roll" class="command-button" value="@{PC-whisper} @{customd1}" title="%{selected|customd1_roll}"> <span name="attr_customd1-name" /></button>
                                <br>
                                <button type="roll" name="roll_NPC-customd1_roll" class="command-button" value="@{NPC-whisper} @{customd1}" title="%{selected|NPC-customd1}"><span data-i18n="npc">NPC</span> <span name="attr_customd1-name" /></button>
                            </div>
                            <textarea name="attr_customd1" title="@{customd1}" value="" data-i18n-placeholder="full-macro-place" class="macro-text-inline half"></textarea>
                        </div>
                    </div>
                    <div class="linked-custom-roll">
                        <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customd2-name" title="@{customd2-name}" /></span>
                        <div class="custom-roll-inner">
                            <div class="custom-buttons">
                                <button type="roll" name="roll_customd2_roll" class="command-button" value="@{PC-whisper} @{customd2}" title="%{selected|customd2_roll}"> <span name="attr_customd2-name" /></button>
                                <br>
                                <button type="roll" name="roll_NPC-customd2_roll" class="command-button" value="@{NPC-whisper} @{customd2}" title="%{selected|NPC-customd2}"><span data-i18n="npc">NPC</span> <span name="attr_customd2-name" /></button>
                            </div>
                            <textarea name="attr_customd2" title="@{customd2}" value="" data-i18n-placeholder="full-macro-place" class="macro-text-inline half"></textarea>
                        </div>
                    </div>
                    <div class="linked-custom-roll">
                        <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customd3-name" title="@{customd3-name}" /></span>
                        <div class="custom-roll-inner">
                            <div class="custom-buttons">
                                <button type="roll" name="roll_customd3_roll" class="command-button" value="@{PC-whisper} @{customd3}" title="%{selected|customd3_roll}"> <span name="attr_customd3-name" /></button>
                                <br>
                                <button type="roll" name="roll_NPC-customd3_roll" class="command-button" value="@{NPC-whisper} @{customd3}" title="%{selected|NPC-customd3}"><span data-i18n="npc">NPC</span> <span name="attr_customd3-name" /></button>
                            </div>
                            <textarea name="attr_customd3" title="@{customd3}" value="" data-i18n-placeholder="full-macro-place" class="macro-text-inline half"></textarea>
                        </div>
                    </div>
                    <div class="linked-custom-roll">
                        <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customd4-name" title="@{customd4-name}" /></span>
                        <div class="custom-roll-inner">
                            <div class="custom-buttons">
                                <button type="roll" name="roll_customd4_roll" class="command-button" value="@{PC-whisper} @{customd4}" title="%{selected|customd4_roll}"> <span name="attr_customd4-name" /></button>
                                <br>
                                <button type="roll" name="roll_NPC-customd4_roll" class="command-button" value="@{NPC-whisper} @{customd4}" title="%{selected|NPC-customd4}"><span data-i18n="npc">NPC</span> <span name="attr_customd4-name" /></button>
                            </div>
                            <textarea name="attr_customd4" title="@{customd4}" value="" data-i18n-placeholder="full-macro-place" class="macro-text-inline half"></textarea>
                        </div>
                    </div>
                    <div class="linked-custom-roll">
                        <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customd5-name" title="@{customd5-name}" /></span>
                        <div class="custom-roll-inner">
                            <div class="custom-buttons">
                                <button type="roll" name="roll_customd5_roll" class="command-button" value="@{PC-whisper} @{customd5}" title="%{selected|customd5_roll}"> <span name="attr_customd5-name" /></button>
                                <br>
                                <button type="roll" name="roll_NPC-customd5_roll" class="command-button" value="@{NPC-whisper} @{customd5}" title="%{selected|NPC-customd5}"><span data-i18n="npc">NPC</span> <span name="attr_customd5-name" /></button>
                            </div>
                            <textarea name="attr_customd5" title="@{customd5}" value="" data-i18n-placeholder="full-macro-place" class="macro-text-inline half"></textarea>
                        </div>
                    </div>
                    <div class="linked-custom-roll">
                        <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customd6-name" title="@{customd6-name}" /></span>
                        <div class="custom-roll-inner">
                            <div class="custom-buttons">
                                <button type="roll" name="roll_customd6_roll" class="command-button" value="@{PC-whisper} @{customd6}" title="%{selected|customd6_roll}"> <span name="attr_customd6-name" /></button>
                                <br>
                                <button type="roll" name="roll_NPC-customd6_roll" class="command-button" value="@{NPC-whisper} @{customd6}" title="%{selected|NPC-customd6}"><span data-i18n="npc">NPC</span> <span name="attr_customd6-name" /></button>
                            </div>
                            <textarea name="attr_customd6" title="@{customd6}" value="" data-i18n-placeholder="full-macro-place" class="inline-textarea half"></textarea>
                        </div>
                    </div>
                </div>
                <div class="cheat"></div>
            </div>
            <div class="section10 section section-notes" role="region" aria-label="Notes" data-i18n-aria-label="notes">
                <h1 class="selected-tabtitle" data-i18n="notes">Notes</h1>
                <div class="cheat"></div>
                <input class="showarrow h2arrow" type="checkbox" name="attr_custom-attr-sect-n-show" data-i18n-aria-label="quick-stats" data-i18n-title="showsect-cmd" value="1" checked />
                <h2 class="clickheader showsect" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="notes">Notes</h2>
                <div class="h2-section notes" role="section">
                    <div class="linked-custom-notes">
                        <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customn1-name" title="@{customn1-name}" /></span>
                        <textarea name="attr_customn1" title="@{customn1}" value="" data-i18n-placeholder="notes" class="inline-textarea half"></textarea>
                    </div>
                    <div class="linked-custom-notes">
                        <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customn2-name" title="@{customn2-name}" /></span>
                        <textarea name="attr_customn2" title="@{customn2}" value="" data-i18n-placeholder="notes" class="inline-textarea half"></textarea>
                    </div>
                    <div class="linked-custom-notes">
                        <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customn3-name" title="@{customn3-name}" /></span>
                        <textarea name="attr_customn3" title="@{customn3}" value="" data-i18n-placeholder="notes" class="inline-textarea half"></textarea>
                    </div>
                    <div class="linked-custom-notes">
                        <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customn4-name" title="@{customn4-name}" /></span>
                        <textarea name="attr_customn4" title="@{customn4}" value="" data-i18n-placeholder="notes" class="inline-textarea half"></textarea>
                    </div>
                    <div class="linked-custom-notes">
                        <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customn5-name" title="@{customn5-name}" /></span>
                        <textarea name="attr_customn5" title="@{customn5}" value="" data-i18n-placeholder="notes" class="inline-textarea half"></textarea>
                    </div>
                    <div class="linked-custom-notes">
                        <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customn6-name" title="@{customn6-name}" /></span>
                        <textarea name="attr_customn6" title="@{customn6}" value="" data-i18n-placeholder="notes" class="inline-textarea half"></textarea>
                    </div>
                    <div class="linked-custom-notes">
                        <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customn7-name" title="@{customn7-name}" /></span>
                        <textarea name="attr_customn7" title="@{customn7}" value="" data-i18n-placeholder="notes" class="inline-textarea half"></textarea>
                    </div>
                    <div class="linked-custom-notes">
                        <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customn8-name" title="@{customn8-name}" /></span>
                        <textarea name="attr_customn8" title="@{customn8}" value="" data-i18n-placeholder="notes" class="inline-textarea half"></textarea>
                    </div>
                    <div class="linked-custom-notes">
                        <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customn9-name" title="@{customn9-name}" /></span>
                        <textarea name="attr_customn9" title="@{customn9}" value="" data-i18n-placeholder="notes" class="inline-textarea half"></textarea>
                    </div>
                    <div class="linked-custom-notes">
                        <span><input class="entry-custom-header" type="text" value="" data-i18n-placeholder="user-defined" name="attr_customn10-name" title="@{customn10-name}" /></span>
                        <textarea name="attr_customn10" title="@{customn10}" value="" data-i18n-placeholder="notes" class="inline-textarea half"></textarea>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="section-config" role="contentinfo" aria-label="Configuration" data-i18n-aria-label="configuration">
        <input type="checkbox" name="attr_is_newsheet" value="1" style="display:none;" aria-label="when creating a new sheet this is default 1" />
        <h1 class="selected-tabtitle" data-i18n="configuration">Configuration</h1>
        <div class="cheat"></div>
        <input class="showarrow h2arrow" type="checkbox" name="attr_config_sub-show" data-i18n-aria-label="configuration" data-i18n-title="showsect-cmd" value="1" checked />
        <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="sheets-configuration">Sheet Configuration</label></h2>
        <div class="h2-section sheetconfig">
            <div class="corerules two-equalcolumn table">
                <span class="table-name show-readonly" data-i18n="sheets-configuration">Sheet configuration</span>
                <div class="table-row">
                    <span class="table-config-row-name" style="border-bottom:none;" data-i18n="accessibility">Accessibility</span>
                    <input type="hidden" name="attr_var_accessible_flag" value="{{accessible=true}}" />
                    <span class="table-cell left">
                        <input type="checkbox" class="selectedlabel-check" name="attr_toggle_attack_accessible" value="@{var_accessible_flag}" title="@{toggle_attack_accessible}"><b data-i18n-title="options-attacks-accessible-title" data-i18n-aria-label="options-attacks-accessible-title" data-i18n="use-simple-template-attacks">Use Attacks Simple Template</b>
                    </span>
                    <span class="table-cell left">
                        <input type="checkbox" class="selectedlabel-check" name="attr_toggle_spell_accessible" value="@{var_accessible_flag}" title="@{toggle_spell_accessible}"><b data-i18n-title="options-spell-accessible-title" data-i18n-aria-label="options-spell-accessible-title" data-i18n="use-simple-template-spells">Use Spells Simple Template</b>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name"></span>
                    <span class="table-cell left">
                        <input type="checkbox" class="selectedlabel-check" name="attr_toggle_accessible_flag" value="@{var_accessible_flag}" title="@{toggle_accessible_flag}" /><b><span data-i18n="use-simple-templates">Use Other Simple Templates</span></b>
                    </span>
                    <span class="table-cell left">
                        <input type="checkbox" class="selectedlabel-check use-metrics" name="attr_use_metrics" value="1" title="@{use_metrics}" />
                        <b><span data-i18n-title="options-use-metrics-title" data-i18n-aria-label="options-use-metrics-title" data-i18n="use-metrics">Use Metrics</span></b>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" data-i18n="font-background">Font / background</span>
                    <span class="table-cell left">
                        <select name="attr_use_specfont" title="@{use_specfont}" class="select-small entry-long">
                            <option value="0" data-i18n="arial-default">•Noto Sans/Sans-serif</option>
                            <option value="1" data-i18n="verdana">Open Sans</option>
                            <option value="2" data-i18n="comic-sans">Comic Sans</option>
                            <option value="3" data-i81n="segoe">Segoe UI</option>
                            <option value="4" data-i81n="lucida">Lucida Sans Unicode</option>
                            <option value="5" data-i81n="fantasy">Fantasy</option>
                            <option value="6" data-i81n="copperplate">Copperplate</option>
                            <option value="7" data-i81n="script">Script</option>
                        </select>
                        <input type="checkbox" class="selectedlabel-check" name="attr_apply_specfont_chat" value="1" title="@{apply_specfont_chat}" /><b data-i18n-title="apply-font-chatrolls" data-i18n-aria-label="apply-font-chatrolls" data-i18n="apply-font-chatrolls"> Apply font to chat rolls</b> </span>
                    <span class="table-cell left">
                        <span class="table-cell" data-i18n-title="background-title" data-i18n="choose-background">Choose Background:</span>
                        <span class="table-cell">
                            <select name="attr_use_background" title="@{use_background}" class="select-small">
                                <option value="0" data-i18n="none">•None</option>
                                <option value="1" data-i18n="graphpaper">Graph-paper</option>
                                <option value="2" data-i18n="parchment-1">Parchment 1</option>
                                <option value="3" data-i18n="parchment-2">Parchment 2</option>
                            </select>
                        </span>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" data-i18n="pages">Pages</span>
                    <span class="table-cell left">
                        <input type="checkbox" class="selectedlabel-check" name="attr_is_npc" value="1" title="@{is_npc}" /><b data-i18n-title="is-npc-description" data-i18n-aria-label="is-npc-description" data-i18n="is-npc-check-caps">IS NPC</b>
                    </span>
                    <span class="table-cell left"> </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" data-i18n="buffs">Buffs</span>
                    <span class="table-cell left">
                        <input type="checkbox" class="selectedlabel-check bonustype-show" name="attr_use_buff_bonuses" value="1" title="@{use_buff_bonuses}" checked /><b data-i18n-title="use-buff-bonus-stacking" data-i18n-aria-label="use-buff-bonus-stacking" data-i18n="use-buff-bonus-stacking">Use buff bonus types and stacking</b>
                        <input class="csstextbutton newbuff" style="margin-left:-1.125em;" type="checkbox" name="attr_merge_buffs_now" value="1" /><span class="newbuff" data-i18n-title="merge-buffs" data-i18n="merge">Merge</span>
                        <input class="deletebutton newbuff cssbutton deletesect-show" style="margin-left:-.75em;" type="checkbox" name="attr_delete_rep_buff_btn" value="1" data-i18n-title="delete-old-buff-list" data-i18n-aria-label="delete-old-buff-list" /><span class="newbuff"></span><label class="deletesect allrows-note newbuff"><input type="checkbox" class="selectedlabel-check" name="attr_delete_rep_buff" data-i18n-aria-label="confirm-delete-buff" data-i18n-title="confirm-delete-buff" value="1" /><b data-i18n="delete-all-old-rows-are-you-sure">Deletes ALL rows, are you sure?</b></label>
                    </span>
                    <span class="table-cell left">

                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" data-i18n="spells">Spells</span>
                    <span class="table-cell left">
                        <input type="checkbox" class="selectedlabel-check" name="attr_use_spells" value="1" title="@{use_spells}" data-i18n-aria-label="uses-spells-title" /><b data-i18n-title="uses-spells-title" data-i18n="uses-spells">Uses Spells</b>
                    </span>
                    <span class="table-cell left">
                        <input type="checkbox" class="selectedlabel-check" name="attr_use_spell_points" value="1" title="@{use_spell_points}" data-i18n-aria-label="uses-spell-points-title" /><b data-i18n-title="uses-spell-points-title" data-i18n="uses-spell-points">Uses Spell Points</b>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" style="border-bottom:none;" data-i18n="lists">Lists</span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{use_traits}" name="attr_use_traits" value="1" class="selectedlabel-check sect2-show" /><b><span data-i18n="use-traits">Use Separate Traits List</span></b>
                        <input class="csstextbutton sect2" type="checkbox" name="attr_merge_traits_now" value="1" /><span class="sect2" data-i18n-title="merge-traits" data-i18n="merge">Merge</span>
                    </span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{use_racial_traits}" name="attr_use_racial_traits" value="1" class="selectedlabel-check sect2-show" /><b><span data-i18n="use-racial-traits">Use Separate Racial Traits List</span></b>
                        <input class="csstextbutton sect2" type="checkbox" name="attr_merge_race_traits_now" value="1" /><span class="sect2" data-i18n-title="merge-race-traits" data-i18n="merge">Merge</span>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" style="border-bottom:none;"> </span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{use_feats}" name="attr_use_feats" value="1" class="selectedlabel-check sect2-show" /><b><span data-i18n="use-feats">Use Separate feats List</span></b>
                        <input class="csstextbutton sect2" type="checkbox" name="attr_merge_feats_now" value="1" /><span class="sect2" data-i18n-title="merge-feats" data-i18n="merge">Merge</span>
                    </span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{use_class_features}" name="attr_use_class_features" value="1" class="selectedlabel-check sect2-show" /><b><span data-i18n="use-class-features">Use Separate Class Features List</span></b>
                        <input class="csstextbutton sect2" type="checkbox" name="attr_merge_class_features_now" value="1" /><span class="sect2" data-i18n-title="merge-class_features" data-i18n="merge">Merge</span>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name"> </span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{use_spell-like-abilities}" name="attr_use_spell-like-abilities" value="1" class="selectedlabel-check sect2-show" /><b><span data-i18n="use-spell-like-abilities">Use Separate Spell-like ability List</span></b>
                        <input class="csstextbutton sect2" type="checkbox" name="attr_merge_slas_now" value="1" /><span class="sect2" data-i18n-title="merge-slas" data-i18n="merge">Merge</span>
                    </span>
                    <span class="table-cell left"></span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" style="border-bottom:none;" data-i18n="attacks">Attacks</span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{modify_dmg_by_size}" name="attr_modify_dmg_by_size" value="1" class="selectedlabel-check" /><b><span data-i18n="adjust-damage-by-size"> Adjust damage based on size</span></b>
                    </span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{use_dual_wield}" name="attr_use_dual_wield" value="1" class="selectedlabel-check" /><b><span data-i18n="use-dual-wield-beta"> Use Dual Wield (BETA)</span></b>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name"> </span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{include_link_abilities}" name="attr_include_link_abilities" value="1" class="selectedlabel-check" /><b><span data-i18n-title="options-attacks-include-link-abilities" data-i18n-aria-label="options-attacks-include-link-abilities" data-i18n="include-link-abilities"> Include link to Ability Attacks</span></b>
                    </span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{include_link_spells}" name="attr_include_link_spells" value="1" class="selectedlabel-check" /><b><span data-i18n-title="options-attacks-include-link-spells" data-i18n-aria-label="options-attacks-include-link-spells" data-i18n="include-link-spells"> Include link to Spell Attacks</span></b>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" data-i18n="encumbrance">Encumbrance</span>
                    <span class="table-cell left">
                        <span class="table-cell" data-i18n="encumbrance-based-on">Encumbrance based on:</span>
                        <span class="table-cell">
                            <select title="@{max-dex-source}" name="attr_max-dex-source" class="select-small" style="width:12em; display:inline-block;">
                                <option value="0" data-i18n="armor-shield-load-default" selected>&#8226;Armor, Shield &amp; Load</option>
                                <option value="1" data-i18n="armor-shield-only">Armor &amp; Shield only</option>
                                <option value="2" data-i18n="load-only">Load only</option>
                                <option value="3" data-i18n="ignore-encumbrance">Ignore Encumbrance</option>
                            </select>
                        </span>
                    </span>
                    <span class="table-cell left">
                        <input type="checkbox" class="selectedlabel-check" name="attr_is_dwarf" value="1" title="@{is_dwarf}" /><b data-i18n-aria-label="use-dwarf-encumbrance-title" data-i18n="use-dwarf-encumbrance" data-i18n-title="use-dwarf-encumbrance-title">Uses dwarf encumbrance rules</b>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" data-i18n="encumbrance">Encumbrance</span>
                    <span class="table-cell left"></span>
                    <span class="table-cell left">
                        <input type="checkbox" name="attr_carried-currency-toggle" title="@{carried-currency-toggle}" value="1" checked />
                        <b><span data-i18n-title="options-include-carried-currency-title" data-i18n-aria-label="options-include-carried-currency-title" data-i18n="include-carried-currency">Include Carried Currency</span></b>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" data-i18n="hit-points" style="border-bottom:none;">Hit Points</span>
                    <span class="table-cell left">
                        <input type="checkbox" class="sect2-show selectedlabel-check" style="display:inline;" value="1" name="attr_auto_calc_hp" aria-label="check to autocalc hp/lvl" /><b><span data-i18n="automatically-calculate-hit-points-abbrv">Auto calc hp</span></b>
                        <span class="sect2" role="Radiogroup">
                            <span data-i18n="average-hit-point-abbrv">Avg hp:</span>
                            <label><input type="radio" name="attr_autohp_percent" value="1" checked />50%</label>
                            <label><input type="radio" name="attr_autohp_percent" value="2" />75%</label>
                            <label><input type="radio" name="attr_autohp_percent" value="3" />100%</label>
                        </span>
                    </span>
                    <span class="table-cell left">
                        <input type="checkbox" class="sect2-show noshow" value="1" name="attr_auto_calc_hp" role="presentation" />
                        <input type="checkbox" value="1" name="attr_maxhp_lvl1" class="selectedlabel-check sect2" /><b class="sect2"><span data-i18n-title="100-at-level-1-title" data-i18n="100-at-level-1">Use Max hp for first level/HD</span></b>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name"></span>
                    <span class="table-cell left">
                        <input type="checkbox" value="1" name="attr_increase_hp" title="@{increase_hp}" class="selectedlabel-check" data-i18n-aria-label="update-hp-when-max-changes" checked /><b><span data-i18n-title="update-hp-when-max-changes-title" data-i18n="update-hp-when-max-changes"> Update curr HP when max HP changes</span></b>
                    </span>
                    <span class="table-cell left">
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" data-i18n="defenses" style="border-bottom:none;">Defenses</span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{uncanny_dodge}" name="attr_uncanny_dodge" value="1" class="selectedlabel-check" />
                        <b><span data-i18n-title="uncanny-dodge-title" data-i18n-aria-label="uncanny-dodge-title" data-i18n="uncanny-dodge-desc">Do not lose DEX when Flat footed</span></b>
                    </span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{hd_not_bab}" name="attr_hd_not_bab" value="1" class="selectedlabel-check" />
                        <b><span data-i18n="hd-not-bab">Use HD instead of BAB for CMD</span></b>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name"> </span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{unlock_def_ability}" name="attr_unlock_def_ability" value="1" class="selectedlabel-check" />
                        <b><span data-i18n-title="unlock-defense-dropdowns-title" data-i18n-aria-label="unlock-defense-dropdowns-title" data-i18n="unlock-defense-dropdowns">Allow AC and CMD to use different ability scores</span></b>
                    </span>
                    <span class="table-cell left"> </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" data-i18n="advanced" style="border-bottom:none;">Advanced</span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{use_advanced_options}" name="attr_use_advanced_options" value="1" class="selectedlabel-check" />
                        <b><span data-i18n-title="display-advanced-options-title" data-i18n-aria-label="display-advanced-options-title" aria-label="display-advanced-options-title" data-i18n="display-advanced-options">Display user defined and misc fields</span></b>
                    </span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{normal_macro_show}" name="attr_normal_macro_show" value="1" class="selectedlabel-check" checked />
                        <b><span data-i18n-aria-label="display-macro-text-title" data-i18n-title="display-macro-text-title" data-i18n="display-macro-text">Display macro-text fields for customizing rolls</span></b>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name"> </span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{adv_macro_show}" name="attr_adv_macro_show" value="1" class="selectedlabel-check" checked />
                        <b><span data-i18n-title="display-advanced-macros-title" data-i18n-aria-label="display-advanced-macros-title" aria-label="display-advanced-macros-title" data-i18n="display-advanced-macros">Display 'Advanced' roll-time macro fields to add to rolls</span></b>
                    </span>
                    <span class="table-cell left"> </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" data-i18n="roll-configuration" style="border-bottom:none;">Roll Configuration</span>
                    <span class="table-cell left">
                        <span>NPC:</span>
                        <select name="attr_NPC-whisper" title="@{NPC-whisper}" style="display:inline;">
                            <option value=" " data-i18n="public-rolls">Public Rolls</option>
                            <option value="/w gm" data-i18n="whisper-to-game-master" selected>Whisper GM</option>
                        </select>
                        <span>PC:</span>
                        <select name="attr_PC-whisper" title="@{PC-whisper}" style="display:inline;">
                            <option value=" " data-i18n="public-rolls" selected>Public Rolls</option>
                            <option value="/w gm" data-i18n="whisper-to-game-master">Whisper GM</option>
                        </select>
                    </span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{both_whisper_show}" name="attr_both_whisper_show" value="1" class="selectedlabel-check" />
                        <b><span data-i18n-title="display-both-whispers-title" data-i18n-aria-label="display-both-whispers-title" aria-label="display-advanced-macros-title" data-i18n="display-both-whispers">Show both roll menu buttons for NPCs</span></b>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" style="border-bottom:none;"> </span>
                    <span class="table-cell left">
                        <span data-i18n-title="statistics-rolls-title" data-i18n="statistics-rolls-abbrv">Stats rolls:</span>
                        <select name="attr_STATS-whisper" title="@{STATS-whisper}" style="display:inline;">
                            <option value=" " data-i18n="public-rolls">Public Rolls</option>
                            <option value="/w gm" data-i18n="whisper-to-game-master" selected>Whisper GM</option>
                        </select>
                    </span>
                    <span class="table-cell left">
                        <span data-i18n-title="scroll-desc-title" data-i18n="scroll-desc" title="Scroll long descriptions in roll templates.">Scroll long Descriptions:</span>
                        <select name="attr_scroll-desc" title="@{scroll-desc}" style="display:inline">
                            <option value="scroll-desc" data-i18n="yes" selected="">Yes</option>
                            <option value=" " data-i18n="no">No</option>
                        </select>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name"> </span>
                    <span class="table-cell left">
                        <input type="hidden" name="attr_var_rounded_flag" value="{{rounded=rounded}}" />
                        <input type="checkbox" name="attr_toggle_rounded_flag" value="@{var_rounded_flag}" title="@{toggle_rounded_flag}" class="selectedlabel-check" checked /><b><span data-i18n="use-round-corners-on-simple-templates">Round Corners on non simple template.</span></b>
                    </span>
                    <span class="table-cell left">
                        <span data-i18n="heading-border-colors">Heading background and outlines:</span>
                        <select title="@{rolltemplate_color}" class="colorpicker" name="attr_rolltemplate_color" style="width:8em;display:inline-block;">
                            <option value="" style="background-color:black; color:white" data-i18n="black-default" selected="">&#8226;Black</option>
                            <option value="white" style="background-color:white" data-i18n="white">White</option>
                            <option value="grey" style="background-color:silver;color:Black;" data-i18n="grey">Grey</option>
                            <option value="darkgrey" style="background-color:dimgray; color:white" data-i18n="dark-grey">Dark Grey</option>
                            <option value="pink" style="background-color:LightPink;color:Black;" data-i18n="pink">Pink</option>
                            <option value="darkpink" style="background-color:DeepPink;color:white; " data-i18n="dark-pink">Dark Pink</option>
                            <option value="red" style="background-color:crimson; color:white" data-i18n="red">Red</option>
                            <option value="darkred" style="background-color:darkred; color:white" data-i18n="dark-red">Dark Red</option>
                            <option value="orange" style="background-color:darkorange; color:white" data-i18n="orange">Orange</option>
                            <option value="darkorange" style="background-color:orangered; color:white" data-i18n="dark-orange">Dark Orange</option>
                            <option value="chocolate" style="background-color:chocolate; color:white" data-i18n="chocolate-brown">Chocolate Brown</option>
                            <option value="sandybrown" style="background-color:sandybrown; color:black" data-i18n="light-brown">Light Brown</option>
                            <option value="peru" style="background-color:peru; color:white" data-i18n="brown">Brown</option>
                            <option value="saddlebrown" style="background-color:saddlebrown; color:white" data-i18n="dark-brown">Dark Brown</option>
                            <option value="tan" style="background-color:tan; color:black" data-i18n="tan">Tan</option>
                            <option value="yellow" style="background-color:khaki; color:black" data-i18n="yellow">Yellow</option>
                            <option value="gold" style="background-color:Gold; color:black" data-i18n="gold">Gold</option>
                            <option value="darkyellow" style="background-color:darkgoldenrod; color:black" data-i18n="dark-yellow">Dark Yellow</option>
                            <option value="green" style="background-color:mediumseagreen; color:white" data-i18n="green">Green</option>
                            <option value="darkgreen" style="background-color:darkgreen; color:white" data-i18n="dark-green">Dark Green</option>
                            <option value="olive" style="background-color:olive; color:white" data-i18n="olive">Olive</option>
                            <option value="darkolivegreen" style="background-color:darkolivegreen; color:white" data-i18n="dark-olive">Dark Olive</option>
                            <option value="teal" style="background-color:lightseagreen; color:black" data-i18n="teal">Teal</option>
                            <option value="darkteal" style="background-color:teal; color:white" data-i18n="dark-teal">Dark teal</option>
                            <option value="cyan" style="background-color:turquoise; color:black" data-i18n="cyan">Cyan</option>
                            <option value="darkcyan" style="background-color:darkcyan; color:white" data-i18n="dark-cyan">Dark Cyan</option>
                            <option value="azure" style="background-color:lightskyblue; color:black" data-i18n="azure">Azure</option>
                            <option value="darkazure" style="background-color:deepskyblue; color:black" data-i18n="dark-azure">Dark Azure</option>
                            <option value="blue" style="background-color:blue; color:white" data-i18n="blue">Blue</option>
                            <option value="darkblue" style="background-color:navy; color:white" data-i18n="dark-blue">Dark Blue</option>
                            <option value="purple" style="background-color:mediumorchid; color:black" data-i18n="purple">Purple</option>
                            <option value="darkpurple" style="background-color:#663399; color:white" data-i18n="dark-purple">Dark Purple</option>
                            <option value="violet" style="background-color:violet; color:black" data-i18n="violet">Violet</option>
                            <option value="darkviolet" style="background-color:darkviolet; color:white" data-i18n="dark-violet">Dark Violet</option>
                        </select>
                    </span>
                </div>
            </div>
        </div>
        <div class="cheat"></div>
        <input class="showarrow h2arrow" type="checkbox" name="attr_core_pfs_show" data-i18n-aria-label="core-pfs-rules" aria-label="Core and PFS Rule Options" data-i18n-title="showsect-cmd" value="1" checked />
        <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="rule-options">Rule Options</label></h2>
        <div class="h2-section rule-options">
            <span class="nontable-name show-readonly" data-i18n="rule-options">Rule Options</span>
            <div class="corerules table">
                <div class="table-row">
                    <span class="table-config-row-name" data-i18n="core-rules">Core Options</span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{set_pfs}" name="attr_set_pfs" value="1" class="selectedlabel-check" /><b><span data-i18n="enable-pfs">Enable PFS config settings</span></b>
                    </span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{use_prestige_fame}" name="attr_use_prestige_fame" value="1" class="selectedlabel-check" /><b><span data-i18n="use-prestige-fame">Use Prestige and Fame Points</span></b>
                    </span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{use_hero_points}" name="attr_use_hero_points" value="1" class="selectedlabel-check" /><b><span data-i18n="use-hero-points">Use Hero Points</span></b>
                    </span>
                </div>
            </div>
            <div class="corerules onecolumn table">
                <div class="table-row">
                    <span class="table-config-row-name" data-i18n="pathfinder-unchained" style="border-bottom:none;">Pathfinder Unchained</span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{unchained_skills-show}" name="attr_unchained_skills-show" value="1" class="selectedlabel-check sect2-show" /><b><span title="Use the Unchained Skills variants." data-i18n="toggle-unchained-skills"> Display/Enable Unchained Skills</span></b>
                        <input type="radio" title="@{BG-Skill-Use}" name="attr_BG-Skill-Use" value="1" class="selectedlabel-check sect2" checked /><b class="sect2"><span title="Background skills ranks are awarded at a rate of two per level and can be spent on any background skill." data-i18n="background-skills"> Background Skills</span></b>
                        <input type="radio" title="@{BG-Skill-Use}" name="attr_BG-Skill-Use" value="0" class="selectedlabel-check sect2" /><b class="sect2"><span title="Consolidated skills ranks are awarded at 1/2 normal skill points." data-i18n="toggle-consolidated-skills">Consolidated Skills.</span></b>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name"> </span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{wound_threshold-show}" name="attr_wound_threshold-show" value="1" class="selectedlabel-check sect2-show" /><b><span title="In the wound thresholds variant, a character divides her hit point total into four quarters, and takes penalties whenever she's not in her top quarter." data-i18n="toggle-wound-threshold">Display Wound Thresholds.</span></b>
                        <input type="checkbox" title="@{has_endurance_feat}" name="attr_has_endurance_feat" value="1" class="selectedlabel-check sect2" /><b class="sect2"><span title="Endurance affects wounds by changing the penalty." data-i18n="toggle-endurance-feat">Has Endurance Feat</span></b>
                        <input type="checkbox" title="@{wounds_gritty_mode}" name="attr_wounds_gritty_mode" value="1" class="selectedlabel-check sect2" /><b class="sect2"><span title="All wound penalties are doubled." data-i18n-title="gritty-title" data-i18n="toggle-gritty-mode">Gritty Mode</span></b>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" data-i18n="pathfinder-mythic-adventures">Pathfinder Mythic Adventures</span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{mythic-adventures-show}" name="attr_mythic-adventures-show" value="1" class="selectedlabel-check" /><b><span data-i18n="toggle-mythic-adventures">Display/Enable Mythic Adventures Character Sheet Items</span></b>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" data-i18n="pathfinder-psionics">Pathfinder Psionics</span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{psionics-show}" name="attr_psionics-show" value="1" class="selectedlabel-check" /><b><span data-i18n="toggle-psionics">Display/Enable Psionics Character Sheet Items</span></b>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" data-i18n="advanced-class-guide">Advanced Class Guide</span>
                    <span class="table-cell left">
                        <input type="checkbox" class="selectedlabel-check" name="attr_use_spell_points" value="1" title="@{use_spell_points}" data-i18n-aria-label="show-arcane-reservoir-title" /><b data-i18n-title="show-arcane-reservoir-title" data-i18n="show-spellpoint-arcane-reservoir"> Show arcane reservoir</b>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" data-i18n="occult-adventures">Occult Adventures</span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{use_burn}" name="attr_use_burn" value="1" class="selectedlabel-check" data-i18n-aria-label="use-kineticist-burn" /><b><span data-i18n-title="use-kineticist-burn" data-i18n="use-kineticist-burn"> Use Kinticist Burn</span></b>
                        <input type="checkbox" class="selectedlabel-check" name="attr_use_spell_points" value="1" title="@{use_spell_points}" data-i18n-aria-label="show-phrenic-spellpoint-pool-title" /><b data-i18n-title="show-phrenic-spellpoint-pool-title" data-i18n="show-phrenic-spellpoint-pool"> Phrenic Pool or Mesmerist</b>
                    </span>
                </div>
                <div class="table-row">
                    <span class="table-config-row-name" data-i18n="horror-adventures">Horror Adventures</span>
                    <span class="table-cell left">
                        <input type="checkbox" title="@{use_horror_adventures}" name="attr_use_horror_adventures" value="1" class="selectedlabel-check" data-i18n-aria-label="toggle-horror-adventures-long" /><b><span data-i18n-title="toggle-horror-adventures-long" data-i18n="toggle-horror-adventures"> Enable Horror Adventures</span></b>
                    </span>
                </div>
            </div>
        </div>
        <div class="cheat"></div>
        <input class="showarrow h2arrow" type="checkbox" name="attr_header-image-show" data-i18n-aria-label="header-image" data-i18n-title="showsect-cmd" value="1" checked />
        <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="header-image">Header Image</label></h2>
        <div class="h2-section header-images table">
            <span class="table-name show-readonly" data-i18n="header-image">Header Images</span>
            <span style="display:table-caption;" data-i18n="config-header-image-info">Header images are iconic images that appear in the header of roll templates. All macros on the sheet include <b>{{header_image=<i>image attribute</i>}}</b>. Each roll template has a specific image attribute that works with the options below. i.e. The Spells roll template would use <b>{{header_image=@{header_image-pf_spell}}}</b> Attack images can be set from within each weapon's "Options" section. Hover over the template names below to learn the specific image attributes. You can substitute images for any roll template by using the URL column below or using the syntax <b>{{header_image=<i>[name](url)</i>}}</b> For best results, try to keep header images under 32x32px.</span>
            <div class="table-row">
                <span class="table-header" style="min-width:10rem;" data-i18n="roll-template">Roll Template</span>
                <span class="table-header"></span>
                <span class="table-header" data-i18n-title="header-image-none" data-i18n-aria-title="header-image-none" data-i18n="none">None</span>
                <span class="table-header" style="width:10%;"></span>
                <span class="table-header" style="width:3%;"><input type="checkbox" name="attr_header_images_toggle" value="1" title="@{header_images_toggle}" /></span>
                <span class="table-header" style="width:5%;"><span data-i18n-title="header-image-default" data-i18n-aria-title="header-image-default" data-i18n="default">Default</span></span>
                <span class="table-header" style="width:5%;"></span>
                <span class="table-header">
                    <span data-i18n-title="custom-url-title" data-i18n-aria-title="custom-url-title" data-i18n="custom-url">Custom URL</span>
                </span>
            </div>
            <div class="table-row">
                <span class="table-cell" title="Macros must include {{header_image=@{header_image-pf_spell}}}">pf_spell</span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_spell" value="" title="@{header_image-pf_spell}" checked /></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_spell" value="[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_spell.png)" title="@{header_image-pf_spell}" /></span>
                <span class="table-cell nontable-name"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_spell.png"></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_spell" value="[custom](@{header_image-pf_spell-url})" title="@{header_image-pf_spell}" /><textarea class="macro-text-inline" style="width:80%; margin-left:0.5em;" name="attr_header_image-pf_spell-url" title="@{header_image-pf_spell-url}">https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_spell.png</textarea></span>
            </div>
            <div class="table-row">
                <span class="table-cell" title="Macros must include {{header_image=@{header_image-pf_attack-melee}}}">pf_attack (melee)</span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_attack-melee" value="" title="@{header_image-pf_attack-melee}" checked /></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_attack-melee" value="[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_attack_melee.png)" title="@{header_image-pf_attack-melee}" /></span>
                <span class="table-cell nontable-name"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_attack_melee.png"></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_attack-melee" value="[custom](@{header_image-pf_attack-melee-url})" title="@{header_image-pf_attack-melee}" /><textarea class="macro-text-inline" style="width:80%; margin-left:0.5em;" name="attr_header_image-pf_attack-melee-url" title="@{header_image-pf_attack-melee-url}">https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_attack_melee.png</textarea></span>
            </div>
            <div class="table-row">
                <span class="table-cell" title="Macros must include {{header_image=@{header_image-pf_attack-dual}}}">pf_attack (dual)</span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_attack-dual" value="" title="@{header_image-pf_attack-dual}" checked /></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_attack-dual" value="[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_attack_dual.png)" title="@{header_image-pf_attack-dual}" /></span>
                <span class="table-cell nontable-name"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_attack_dual.png"></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_attack-dual" value="[custom](@{header_image-pf_attack-dual-url})" title="@{header_image-pf_attack-dual}" /><textarea class="macro-text-inline" style="width:80%; margin-left:0.5em;" name="attr_header_image-pf_attack-dual-url" title="@{header_image-pf_attack-dual-url}">https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_attack_dual.png</textarea></span>
            </div>
            <div class="table-row">
                <span class="table-cell" title="Macros must include {{header_image=@{header_image-pf_attack-ranged}}}">pf_attack (ranged)</span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_attack-ranged" value="" title="@{header_image-pf_attack-ranged}" checked /></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_attack-ranged" value="[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_attack_ranged.png)" title="@{header_image-pf_attack}" /></span>
                <span class="table-cell nontable-name"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_attack_ranged.png"></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_attack-ranged" value="[custom](@{header_image-pf_attack-ranged-url})" title="@{header_image-pf_attack}" /><textarea class="macro-text-inline" style="width:80%; margin-left:0.5em;" name="attr_header_image-pf_attack-ranged-url" title="@{header_image-pf_attack-ranged-url}">https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_attack_ranged.png</textarea></span>
            </div>
            <div class="table-row">
                <span class="table-cell" title="Macros must include {{header_image=@{header_image-pf_attack-cmb}}}">pf_attack (cmb)</span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_attack-cmb" value="" title="@{header_image-pf_attack-cmb}" checked /></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_attack-cmb" value="[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_attack_cmb.png)" title="@{header_image-pf_attack}" /></span>
                <span class="table-cell nontable-name"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_attack_cmb.png"></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_attack-cmb" value="[custom](@{header_image-pf_attack-cmb-url})" title="@{header_image-pf_attack}" /><textarea class="macro-text-inline" style="width:80%; margin-left:0.5em;" name="attr_header_image-pf_attack-cmb-url" title="@{header_image-pf_attack-cmb-url}">https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_attack_cmb.png</textarea></span>
            </div>
            <div class="table-row">
                <span class="table-cell" title="Macros must include {{header_image=@{header_image-pf_defense}}}">pf_defense</span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_defense" value="" title="@{header_image-pf_defense}" checked /></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_defense" value="[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_defense.png)" title="@{header_image-pf_defense}" /></span>
                <span class="table-cell nontable-name"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_defense.png"></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_defense" value="[custom](@{header_image-pf_defense-url})" title="@{header_image-pf_defense}" /><textarea class="macro-text-inline" style="width:80%; margin-left:0.5em;" name="attr_header_image-pf_defense-url" title="@{header_image-pf_defense-url}">https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_defense.png</textarea></span>
            </div>
            <div class="table-row">
                <span class="table-cell" title="Macros must include {{header_image=@{header_image-pf_generic}}}">pf_generic</span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_generic" value="" title="@{header_image-pf_generic}" checked /></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_generic" value="[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_generic.png)" title="@{header_image-pf_generic}" /></span>
                <span class="table-cell nontable-name"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_generic.png"></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_generic" value="[custom](@{header_image-pf_generic-url})" title="@{header_image-pf_generic}" /><textarea class="macro-text-inline" style="width:80%; margin-left:0.5em;" name="attr_header_image-pf_generic-url" title="@{header_image-pf_generic-url}">https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_generic.png</textarea></span>
            </div>
            <div class="table-row">
                <span class="table-cell" title="Macros must include {{header_image=@{header_image-pf_ability}}}">pf_ability</span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_ability" value="" title="@{header_image-pf_ability}" checked /></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_ability" value="[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_ability.png)" title="@{header_image-pf_ability}" /></span>
                <span class="table-cell nontable-name"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_ability.png"></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_ability" value="[custom](@{header_image-pf_ability-url})" title="@{header_image-pf_ability}" /><textarea class="macro-text-inline" style="width:80%; margin-left:0.5em;" name="attr_header_image-pf_ability-url" title="@{header_image-pf_ability-url}">https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_ability.png</textarea></span>
            </div>
            <div class="table-row">
                <span class="table-cell" title="Macros must include {{header_image=@{header_image-pf_block}}}">pf_block</span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_block" value="" title="@{header_image-pf_block}" checked /></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_block" value="[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_block.png)" title="@{header_image-pf_block}" /></span>
                <span class="table-cell nontable-name"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_block.png"></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_block" value="[custom](@{header_image-pf_block-url})" title="@{header_image-pf_block}" /><textarea class="macro-text-inline" style="width:80%; margin-left:0.5em;" name="attr_header_image-pf_block-url" title="@{header_image-pf_block-url}">https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_block.png</textarea></span>
            </div>
            <div class="table-row">
                <span class="table-cell" title="Macros must include {{header_image=@{header_image-pf_generic-skill}}}">pf_generic (skill)</span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_generic-skill" value="" title="@{header_image-pf_generic-skill}" checked /></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_generic-skill" value="[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_generic.png)" title="@{header_image-pf_generic-skill}" /></span>
                <span class="table-cell nontable-name"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_generic.png"></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_generic-skill" value="[custom](@{header_image-pf_generic-skill-url})" title="@{header_image-pf_generic-skill}" /><textarea class="macro-text-inline" style="width:80%; margin-left:0.5em;" name="attr_header_image-pf_generic-skill-url" title="@{header_image-pf_generic-skill-url}">https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_generic.png</textarea></span>
            </div>
            <div class="table-row">
                <span class="table-cell" title="Macros must include {{header_image=@{header_image-pf_generic-init}}}">pf_generic (initiative)</span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_generic-init" value="" title="@{header_image-pf_generic-init}" checked /></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_generic-init" value="[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_generic_initiative.png)" title="@{header_image-pf_generic-init}" /></span>
                <span class="table-cell nontable-name"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_generic_initiative.png"></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_generic-init" value="[custom](@{header_image-pf_generic-init-url})" title="@{header_image-pf_generic-init}" /><textarea class="macro-text-inline" style="width:80%; margin-left:0.5em;" name="attr_header_image-pf_generic-init-url" title="@{header_image-pf_generic-init-url}">https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_generic_initiative.png</textarea></span>
            </div>
            <div class="table-row">
                <span class="table-cell" title="Macros must include {{header_image=@{header_image-pf_block-item}}}">pf_block (item)</span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_block-item" value="" title="@{header_image-pf_block-item}" checked /></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_block-item" value="[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_block_item.png)" title="@{header_image-pf_block-item}" /></span>
                <span class="table-cell nontable-name"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_block_item.png"></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_block-item" value="[custom](@{header_image-pf_block-item-url})" title="@{header_image-pf_block-item}" /><textarea class="macro-text-inline" style="width:80%; margin-left:0.5em;" name="attr_header_image-pf_block-item-url" title="@{header_image-pf_block-item-url}">https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_block_item.png</textarea></span>
            </div>
            <div class="table-row">
                <span class="table-cell" title="Macros must include {{header_image=@{header_image-pf_block-check}}}">pf_block (ability check)</span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_block-check" value="" title="@{header_image-pf_block-check}" checked /></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_block-check" value="[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_block_ability_check.png)" title="@{header_image-pf_block-check}" /></span>
                <span class="table-cell nontable-name"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_block_ability_check.png"></span>
                <span class="divider"></span>
                <span class="table-cell"><input type="radio" name="attr_header_image-pf_block-check" value="[custom](@{header_image-pf_block-check-url})" title="@{header_image-pf_block-check}" /><textarea class="macro-text-inline" style="width:80%; margin-left:0.5em;" name="attr_header_image-pf_block-check-url" title="@{header_image-pf_block-check-url}">https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_block_ability_check.png</textarea></span>
            </div>
        </div>
        <div class="cheat"></div>
        <input class="showarrow h2arrow" type="checkbox" name="attr_import-show" data-i18n-aria-label="character-import" data-i18n-title="showsect-cmd" value="1" />
        <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n="character-import">HeroLab Character Import</label></h2>
        <div class="h2-section import table">
            <span class="table-name" data-i18n="character-import">HeroLab Character Import</span>
            <div class="table config-table">
                <span class="table-row">
                    <span class="table-data left" style="vertical-align:top;">
                        <span data-i18n="character-import-desc">
                            <h4>Hero Lab XML Import</h4>Used to import characters from Hero Lab via XML files<br>
                            <h5>Method #1(preferred)</h5><b>Step 1: </b>Download and install Leigh M.'s Hero Lab Pathfinder Exporter plug-in for Hero Lab (Use link below. To install you must double-click the .hl file while Hero Lab is NOT running). Note: there have been reports of this plug-in causing the Mac OS X version of Hero Lab to crash when attempting to save using it; if you experience this, you will have to use the second method.<br><b>Step 2: </b>From Hero Lab, open the File menu and choose 'Save Custom Output'.<br><b>Step 3: </b>Select 'Roll20 Pathfinder' and 'Current Hero Only', then click Output.<br><b>Step 4: </b>Open the HTM file in a plain-text editor such as Notepad or Notepad++ and copy the entire contents.<br><b>Step 5: </b>Paste the JSON into the text field directly below these instructions<br><b>Step 6: </b>Click outside of the textarea to parse. If the import was successful, the textarea will clear with no errors.<br>
                            <h5>Method #2</h5><b>Step 1: </b>Save the character as an XML file in Hero Lab (File -> Save Custom Output)<br><b>Step 2: </b>Open the XML file in a plain-text editor. Copy and paste the contents into www.ConvertJSON.com (XML to JSON converter linked below). Paste into the left window labeled <b>'Xml Data'</b>, click <b>'Convert XML to JSON'</b> to convert the the XML file to JSON, then copy the text from the right window.<br><b>Step 3: </b>Paste the JSON into the text field directly below these instructions<br><b>Step 4: </b>Click outside of the textarea to parse. If the import was successful, the textarea will clear with no errors.
                        </span>
                    </span><br>
                    <div class="center">
                        <button type="roll" class="no-decoration" data-i18n-title="url-link" name="roll_blank" value="http://lonedwarf.com/roll20/Roll20PathfinderExporter_v1_1.hl"><b style="font-size:1.1rem;">Exporter plug-in for Hero Lab</b></button> | <button type="roll" class="no-decoration" data-i18n-title="url-link" name="roll_blank" value="https://www.convertjson.com/xml-to-json.htm"><b style="font-size:1.1rem;">www.convertjson.com</b></button> |
                        <button type="roll" class="no-decoration" data-i18n-title="url-link" name="roll_blank" value="https://tinyurl.com/y5wcljsf"><b data-i18n="more-info" style="font-size:1.1rem;">More info on the wiki.</b></button>
                        <span class="table-data" style="width:50%;">
                            <textarea class="both" name="attr_herolab_import" title="Hero Lab import"></textarea><br>
                        </span>
                    </div>
                </span>
            </div>
        </div>
        <div class="cheat"></div>
        <input class="showarrow h2arrow" type="checkbox" name="attr_roll-template-info-show" data-i18n-aria-label="roll-template-info" data-i18n-title="showsect-cmd" value="1" />
        <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="roll-template-info">Roll Template Information</label></h2>
        <div class="h2-section roll_template_info">
            <div class="table options named" style="margin-top:0.5em;">
                <span class="table-name show-readonly" data-i18n="roll-template-info">Roll Template Info</span>
                <span class="table-row">
                    <span class="table-cell" style="padding:2rem; margin-top:0.5rem;">
                        <span data-i18n="config-roll-template-info1">Roll templates use a combination of predetermined HTML, CSS, and macro-text to format the output of macros. Roll templates included in the Pathfinder sheet: <b>pf_spell, pf_attack, pf_defense, pf_generic, and pf_block</b></span><br><br>
                        <span style="display:block; text-align:center;" data-i18n="config-roll-template-info2"><b>Macro roll template syntax: </b>&{template:<b>roll template name</b>} {{<b>key</b>=<b>value</b>}}</span><br>
                        <span data-i18n="config-roll-template-info5">Use this syntax to customize output of rolls in the &quot;macro-text&quot; fields found on the sheet.</span>
                        <span data-i18n="config-roll-template-info3">Below is a list of each roll template along with it's defined properties(keys). Keys can only be used once within a macro. A key that is not defined may still be included in the macro and will be displayed on a new row as determined by the roll template. i.e. {{foo=foo}} Property values may consist of text, attributes, in-line rolls, images, hyperlinks, etc., or any combination of such values.</span><br>
                        <span data-i18n="config-roll-template-info4">Each has a @{toggle_accessible_flag} , this makes the following string appear or not: {{accessible=true}}. If accessible is set, then an alternate rolltemplate is used that does not uses divs or tables but only labels and spans, which some users may find easier to use. This can also be set globally by checking "use simple templates"</span>
                    </span>
                </span>
            </div>
            <hr>
            <div class="table options" style="margin-top:0.5em;">
                <span class="table-row">
                    <span class="table-cell" style="vertical-align:top;">
                        <button type="roll" value="@{pf_spell_example}" name="roll_pf_spell_example" title="Display pf_spell example"></button>
                        <span data-i18n="config-roll-template-pf_spell">
                            <b data-i18n="spell-roll-template">Spell Roll Template </b>(pf_spell)<br>Used for all spell-based sheet rolls. Primarily formatted to emulate a typical spell stat-block. (<b>note:</b> @{spell_options} is used by the sheet to enable the toggling of spell attributes and contains ALL pf_spell specific properties.)
                        </span>
                    </span><br>
                    <span class="table-cell" style="width:50%;">
                        <textarea name="attr_pf_spell_example" class="macro-text-inline" title="pf_spell macro" style="height:100%;">@{PC-whisper} &{template:pf_spell} @{toggle_spell_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=pf_spell}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle=subtitle}} {{deafened_note=@{SpellFailureNote}}} {{school=evocation}} {{spellclass=spellclass}} {{level=10}} {{casting_time=1SA}} {{components=V,S,M}} {{saving_throw=Ref 1/2}} {{dc=10}} {{close=range_pick}} {{range=25}} {{rangetext=rangetext}} {{targets=targets}} {{duration=instantaneous}} {{sr=yes}} {{casterlevel=10}} {{casterlevel_chk=[[ 1d20 ]]}} {{spellPen= 10}}{{spellPen_chk=[[ 1d20 ]]}} {{Concentration=10}} {{Concentration_chk=[[ 1d20 ]]}} {{cast_def=10}} {{cast_defDC=10}} {{=just some text}} {{description=descriptive text will span both columns and wrap as needed.}} {{foo=foo}} {{attack=[[ 1d20cs>10 ]]}} {{crit_confirm=[[ 1d20 ]]}} {{damage=[[ 1d6 ]]}} {{type=fire}} {{crit_damage=[[ 1d6 ]]}} {{attack2=[[ 1d20cs>10 ]]}} {{crit_confirm2=[[ 1d20 ]]}} {{damage2=[[ 1d6 ]]}} {{type2=other}} {{crit_damage2=[[ 1d6 ]]}}{{condition_note=@{condition_spell_notes}}}</textarea><br>
                    </span>
                </span>
            </div>
            <hr>
            <div class="table options">
                <span class="table-row">
                    <span class="table-cell" style="vertical-align:top;">
                        <button type="roll" value="@{pf_attack_example}" name="roll_pf_attack_example" title="Display pf_attack example"></button>
                        <span data-i18n="config-roll-template-pf_attack">
                            <b data-i18n="attack-roll-template">Attack Roll Template </b>(pf_attack)<br>Used for attacks. 2 column format except for the "description" property. (<b>note:</b> @{macro_options} is used by the sheet to enable the toggling of notes related to attacks and contains the properties for @{melee_notes}, @{ranged_notes}, @{cmb_notes}, and @{attack_notes}.)
                        </span>
                    </span><br>
                    <span class="table-cell" style="width:50%;">
                        <textarea name="attr_pf_attack_example" class="macro-text-inline" title="pf_attack macro" style="height:100%;">&{template:pf_attack} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee} @{header_image-pf_attack-ranged} @{header_image-pf_attack-cmb}}} {{name=pf_attack}} {{name_link=www.url.com}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle=subtitle}} {{attack=[[ 1d20cs>10 ]]}} {{damage=[[ 1d6 ]]}} {{crit_confirm=[[ 1d20 ]]}} {{crit_damage=[[ 1d6 ]]}} {{precision_dmg1= [[ 0 ]]}} {{precision_dmg1_type=Precision Dmg local}} {{precision_dmg2=[[ 0 ]]}} {{precision_dmg2_type=Precision Dmg global}} {{critical_dmg1=[[ 0 ]]}} {{critical_dmg1_type=Added Crit Dmg local}} {{critical_dmg2=[[ 0 ]]}} {{critical_dmg2_type=Added Crit Dmg global}} {{type=B}} {{melee_notes=melee notes}} {{ranged_notes=ranged notes}} {{CMB_notes=cmb notes}} {{attack_notes=attack notes}} {{weapon_notes=weapon_notes}} {{=just some text}} {{description=descriptive text will span both columns and wrap as needed.}} {{foo=foo}} {{attack2= [[ 1d20cs>10 ]]}} {{damage2=[[ 1d6 ]]}} {{type2=other}} {{crit_confirm2=[[ 1d20cs>10 ]]}} {{crit_damage2=[[ 1d6 ]]}} {{precision_dmg21= [[ 0 ]]}} {{precision_dmg1_type=Precision Dmg local}} {{precision_dmg22=[[ 0 ]]}} {{precision_dmg2_type=Precision Dmg global}} {{critical_dmg21=[[ 0 ]]}} {{critical_dmg1_type=Added Crit Dmg local}} {{critical_dmg22=[[ 0 ]]}} {{critical_dmg2_type=Added Crit Dmg global}}</textarea><br>
                    </span>
                </span>
            </div>
            <hr>
            <div class="table options">
                <span class="table-row">
                    <span class="table-cell" style="vertical-align:top;">
                        <button type="roll" value="@{pf_defense_example}" name="roll_pf_defense_example" title="Display pf_defense example"></button>
                        <span data-i18n="config-roll-template-pf_defense">
                            <b data-i18n="defense-roll-template">Defense Roll Template </b>(pf_defense)<br>Used for Saving Throws. (<b>note:</b> @{macro_options} is used by the sheet to enable the toggling of notes related to defense and contains the properties for @{dr_notes}, @{resistances_notes}, @{immunities_notes}, @{weaknesses_notes}, @{sr_notes}, @{armor_notes}, @{save_notes}, @{cmd_notes}, and @{defense-notes}.)
                        </span>
                    </span><br>
                    <span class="table-cell" style="width:50%;">
                        <textarea name="attr_pf_defense_example" class="macro-text-inline" title="pf_defense macro" style="height:100%;">@{PC-whisper} &{template:pf_defense} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{name=pf_defense}} {{name_link=www.url.com}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle=subtitle}} {{check=[[ 1d20 ]]}} {{dr_notes=dr_notes}} {{resistances_notes=resistance_notes}} {{immunities_notes=immunities_notes}} {{weaknesses_notes=weaknesses_notes}} {{sr0_notes=sr0_notes}} {{armor_notes=armor_notes}} {{save_notes=save_notes}} {{cmd_notes=cmd_notes}} {{defense_notes=defense_notes}} {{buff_note=@{buff_save_notes}}} {{condition_note=@{condition_save_notes}}} {{condition_note=@{condition_save_notes}}} {{=just some text}} {{description=descriptive text will span both columns and wrap as needed.}} {{foo=foo}}</textarea><br>
                    </span>
                </span>
            </div>
            <hr>
            <div class="table options">
                <span class="table-row">
                    <span class="table-cell" style="vertical-align:top;">
                        <button type="roll" value="@{pf_generic_example}" name="roll_pf_generic_example" title="Display pf_generic example"></button>
                        <span data-i18n="config-roll-template-pf_generic">
                            <b data-i18n="generic-roll-template">Generic Roll Template </b>(pf_generic)<br>Used for Ability checks, Initiative, Spell Failure Check, Skill Checks, Concentration Check, Caster Level Check. 2 column format, except for righttext_X(1-10), lefttext_X(1-10), and the description keys.
                        </span>
                    </span><br>
                    <span class="table-cell" style="width:50%;">
                        <textarea name="attr_pf_generic_example" class="macro-text-inline" title="pf_generic macro" style="height:100%;">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{name=pf_generic}} {{name_link=www.url.com}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle=subtitle}} {{check=[[ 1d20 ]]}} {{lefttext_1=1st row of left aligned text.}} {{righttext_1=1st row of right aligned text.}} {{lefttext_2=2nd row of left aligned text.}} {{righttext_2=2nd row of right aligned text.}} {{=just some text}} {{description=descriptive text will span both columns and wrap as needed.}} {{foo=foo}}</textarea><br>
                    </span>
                </span>
            </div>
            <hr>
            <div class="table options">
                <span class="table-row">
                    <span class="table-cell" style="vertical-align:top;">
                        <button type="roll" value="@{pf_ability_example}" name="roll_pf_ability_example" title="Display pf_ability example"></button>
                        <span data-i18n="config-roll-template-pf_ability">
                            <b data-i18n="ability-roll-template">Ability Roll Template </b>(pf_ability)<br>Used for all Abilities(Class Features, Feats, Traits, etc.). 2 column format except for the "description" property.
                        </span>
                    </span><br>
                    <span class="table-cell" style="width:50%;">
                        <textarea name="attr_pf_ability_example" class="macro-text-inline" title="pf_ability macro" style="height:100%;">@{PC-whisper} &{template:pf_ability} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_ability}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle=subtitle}} {{name=pf_ability}} {{rule_category=rule_category}} {{source=source}} {{is_sp=flag}} {{hasspellrange=flag}} {{spell_range=close}} {{casterlevel=[[10]]}} {{spell_level=[[10]]}} {{hasposrange=flag}} {{custrange=close}} {{range=[[30]]}} {{save=save}} {{savedc=[[10]]}} {{hassr=flag}} {{sr=Yes}} {{hasfrequency=flag}} {{frequency=Every}} {{next_cast=/day}} {{uses=2}} {{uses_max=3}} {{cust_category=cust-category}} {{concentration=[[3]]}} {{damage=[[ 1d6 ]]}} {{damagetype=Fire}} {{hasattack=flag}} {{attacktype=Touch}} {{targetarea=Single}} {{duration=Instantaneous}} {{shortdesc=short description}} {{=just some text}} {{description=descriptive text will span both columns and wrap as needed.}} {{foo=foo}}</textarea><br>
                    </span>
                </span>
            </div>
            <hr>
            <div class="table options">
                <span class="table-row">
                    <span class="table-cell" style="vertical-align:top;">
                        <button type="roll" value="@{pf_block_example}" name="roll_pf_block_example" title="Display pf_block example"></button>
                        <span data-i18n="config-roll-template-pf_block">
                            <b data-i18n="block-roll-template">Block Text Roll Template </b>(pf_block)<br>Used for equipment. Key/Property names are not shown in this template. Best for long blocks of text.
                        </span>
                    </span><br>
                    <span class="table-cell" style="width:50%;">
                        <textarea name="attr_pf_block_example" class="macro-text-inline" title="pf_block macro" style="height:100%;">@{PC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{name=pf_block}} {{name_link=www.url.com}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle=subtitle}} {{check=[[ 1d20 ]]}} {{=just some text}} {{description=descriptive text will span both columns and wrap as needed.}}</textarea><br>
                    </span>
                </span>
            </div>
            <hr>
        </div>
        <div class="cheat"></div>
        <input class="showarrow h2arrow" type="checkbox" name="attr_migrations-show" data-i18n-aria-label="migrations" data-i18n-title="showsect-cmd" value="1" />
        <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="migrations">migrations</label></h2>
        <div class="h2-section migrations">
            <div class="table">
                <span class="table-name" data-i18n-title="do-not-touch" data-i18n-aria-label="do-not-touch"><span data-i18n="migrations-completed">Migrations Completed</span>: <span data-i18n="do-not-touch"></span></span>
                <label><input type="checkbox" class="selectedlabel-check" name="attr_is_v1" value="1" title="@{is_v1}" /><b data-i18n-aria-label="sheets-created-after-v1" data-i18n-title="sheets-created-after-v1" data-i18n="is-v1">Is V1 sheet</b></label>
                <div class="table migrations">
                    <div class="table-row">
                        <span class="table-config-row-name">
                            < 1.0</span> <span class="table-cell left"><label><input type="checkbox" name="attr_classSkillsMigrated" title="@{classSkillsMigrated}" value="1" /><span data-i18n-title="class-skills-migrated" data-i18n-aria-label="class-skills-migrated" data-i18n="class-skills-migrated">Class skill checkboxes</span></label>
                                </span>
                                <span class="table-cell left"><label><input type="checkbox" name="attr_migrated_damage-multiplier" title="@{migrated_damage-multiplier}" value="1" /><span data-i18n-title="attacks-dmg-migrated-title" data-i18n-aria-label="attacks-dmg-migrated-title" title="Repeating Attack damage multiplier migrated." data-i18n="attacks-dmg-migrated">Dmg Multiplier</span></label></span>
                                <span class="table-cell left"><label><input type="checkbox" name="attr_spellranges_migrated" title="@{spellranges_migrated}" value="1" /><span data-i18n="spellranges-migrated">Spell Ranges</span></label></span>
                                <span class="table-cell left"></span>
                    </div>
                    <div class="table-row" style="background-color:#eeeeee;">
                        <span class="table-config-row-name" style="width:5em;border-bottom:none;">1.0</span>
                        <span class="table-cell left"><label><input type="checkbox" name="attr_migrated_npc" title="@{migrated_npc}" value="1" /><span data-i18n="npc-migrated">NPC Values Migrated</span></label></span>
                        <span class="table-cell left"><label><input type="checkbox" name="attr_migrated_repeating_item_attributes" title="@{migrated_repeating_item_attributes}" value="1"><span data-i18n="copy-duplicate-attrs">Copy duplicate fields</span></label></span>
                        <span class="table-cell left"><label><input type="checkbox" name="attr_migrated_worn_equipment" title="@{migrated_worn_equipment}" value="1" /><span data-i18n-title="worn-equipment-migrated" data-i18n-aria-label="worn-equipment-migrated" data-i18n="worn-equipment-migrated">Worn Equipment </span></label></span>
                        <span class="table-cell left"><label><input type="checkbox" name="attr_migrated_hp_misc" title="@{migrated_hp_misc}" value="1" /><span data-i18n="hit-point-misc-migrated">Misc hp field</span></label></span>
                    </div>
                    <div class="table-row">
                        <span class="table-config-row-name" style="width:5em;border-bottom:none;"> </span>
                        <span class="table-cell left"><label><input type="checkbox" name="attr_migrated_maxskill_misc" title="@{migrated_maxskill_misc}" value="1" /><span data-i18n="misc-skill-point-field">Misc skill point field</span></label></span>
                        <span class="table-cell left"><label><input type="checkbox" name="attr_migrated_abilityflags109" title="@{migrated_abilityflags109}" value="1" /><span data-i18n="ability-lists-flags">Ability lists Flags</span></label></span>
                        <span class="table-cell left"><label><input type="checkbox" name="attr_migrated_itemlist_defaults" title="@{migrated_itemlist_defaults}" value="1" /><span data-i18n="item-list-default-values">Items default values</span></label></span>
                        <span class="table-cell left"><label><input type="checkbox" name="attr_migrated_featurelists_defaults" title="@{migrated_featurelists_defaults}" value="1" /><span data-i18n="feature-list-default-values">Features default values</span></label></span>
                    </div>
                    <div class="table-row" style="background-color:#eeeeee;">
                        <span class="table-config-row-name"> </span>
                        <span class="table-cell left"><label><input type="checkbox" name="attr_migrated_attacklist_defaults111" title="@{migrated_attacklist_defaults111}" value="1" /><span data-i18n="attack-list-default-values">Attacks default values</span></label></span>
                        <span class="table-cell left"></span>
                        <span class="table-cell left"></span>
                        <span class="table-cell left"></span>
                    </div>
                    <div class="table-row">
                        <span class="table-config-row-name" style="width:5em;border-bottom:none;">1.01 - 1.58</span>
                        <span class="table-cell left"><label><input type="checkbox" name="attr_migrated_linked_attacks" title="@{migrated_linked_attacks}" value="1"><span data-i18n="linked-attacks"> Linked attacks</span></label></span>
                        <span class="table-cell left"><label><input type="checkbox" name="attr_migrated_take10_dropdown" title="@{migrated_take10_dropdown}" value="1"><span data-i18n="skill-take10-dropdown">Skill take 10 dropdown</span></label></span>
                        <span class="table-cell left"></span>
                        <span class="table-cell left"></span>
                    </div>
                    <div class="table-row" style="background-color:#eeeeee;">
                        <span class="table-config-row-name" style="width:5em;border-bottom:none;">1.65</span>
                        <span class="table-cell left"><label><input type="checkbox" name="attr_migrated_buffs_rangeddmg_abiilty" title="@{migrated_buffs_rangeddmg_abiilty}" value="1"><span data-i18n="rangeddmg-ability-buffs"> Damage and Check Buffs</span></label></span>
                        <span class="table-cell left"><label><input type="checkbox" name="attr_migrated_ability_dropdowns4" title="@{migrated_ability_dropdowns4}" value="1"><span data-i18n="ability-attack-dropdowns"> Ability and Attack Type Dropdowns</span></label></span>
                        <span class="table-cell left"><label><input type="checkbox" name="attr_migrated_skill_speedup3" title="@{migrated_skill_speedup3}" value="1"><span data-i18n="skill-calculation-speed"> Skill calc speed</span></label></span>
                        <span class="table-cell left"><label><input type="checkbox" name="attr_migrate_fatigued_conditions" title="@{migrate_fatigued_conditions}" value="1"><span data-i18n="fatigued-conditions"> Fatigued Conditions</span></label></span>
                    </div>
                    <div class="table-row">
                        <span class="table-config-row-name"> </span>
                        <span class="table-cell left"><label><input type="checkbox" name="attr_migrated_attack_bab_dropdowns" title="@{migrated_attack_bab_dropdowns}" value="1"><span data-i18n="attack-bonus-dropdowns"> Attack bonus dropdowns</span></label></span>
                        <span class="table-cell left"><label><input type="checkbox" name="attr_migrated_skill_dropdowns5" title="@{migrated_skill_dropdowns5}" value="1"> <span data-i18n="profession">profession</span> <span data-i18n="skills">skills</span></label></span>
                        <span class="table-cell left"></span>
                        <span class="table-cell left"></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="cheat"></div>
        <input class="showarrow h2arrow" type="checkbox" name="attr_cleanup-show" data-i18n-aria-label="spell-migration" data-i18n-title="showsect-cmd" value="1" />
        <h2 class="clickheader showsect"><label data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" data-i18n="spell-migration">Spell Migration</label></h2>
        <div class="h2-section cleanup hide-readonly">
            <div class="table">
                <span class="table-name" data-i18n="update-spell-macros">Update spell macros</span>
                <span class="table-row">
                    <span data-i18n="config-update-spell-macros-info1">This is a mapping of old spell ids to new spell ids for use in upgrading macros.</span><br />
                    <span style="vertical-align:top;">
                        <button class="blank-roll-button" title="Print ID Mapping to chat so you can copy to clipboard" style="font-size:85%;" type="roll" name="attr_row_idmap_roll" value="/w @{character_name} @{spellmap}">
                            <span data-i18n="post-identification-numbers"> Post IDs</span>
                        </button>
                    </span>
                    <span name="attr_spellmap" class="selectable" style="width:90%;height:auto;float:right;"></span>
                </span>
            </div>
            <div class="table">
                <span class="table-name" data-i18n="cleanup-old-spell-lists">Cleanup old spell lists</span>
                <span class="table-row" data-i18n="config-update-spell-macros-info2">
                    Click Modify for each spell level and delete all the old spell lists to eliminate old redundant attributes and possibly speed up your sheet.
                    Once you delete the below you will not be able to re-migrate the spells.
                </span>
            </div>
            <div>
                <!-- Spells Level 0 -->
                <div class="repeating-sect repeating-fields"> <span class="nontable-name" data-i18n="level-0-spells">Level 0 Spells</span>
                    <fieldset class="repeating_lvl-0-spells">
                        <div> <input type="checkbox" class="counted sect-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_row-show" value="1" checked="checked" /><span class="table-cell"></span> <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-0-spells_$X_roll}" value="@{macro-text}"></button></span> <span class="table-cell small-label"><input title="@{repeating_lvl-0-spells_$X_used}" type="number" name="attr_used" value="0"><br><span data-i18n="prepared">Prepped</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-0-spells_$X_name}" type="text" value="" name="attr_name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span> <span class="table-cell small-label"> <select title="@{repeating_lvl-0-spells_$X_spellclass}" name="attr_spellclass">
                                    <option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
                                    <option value="@{spellclass-1-name}" data-i18n="2-ordinal-class">2nd Class</option>
                                    <option value="@{spellclass-2-name}" data-i18n="3-ordinal-class">3rd Class</option>
                                </select> <input type="hidden" name="attr_spellclass_number" value="0" /> <br><span data-i18n="class">Class</span> </span> <span class="table-cell small-label" style="width:5%;"><input title="@{repeating_lvl-0-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-0-spells_$X_school}" type="text" value="" name="attr_school" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-0-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" data-i18n-placeholder="casting-time" accept="Casting Time" /><br><span data-i18n="casting-time">Casting Time</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-0-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" data-i18n-placeholder="difficulty-class-modifier-abbrv" /> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-0-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="calc" readonly /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>
                            <div></div> <span class="table-cell small-label sect"><input title="@{repeating_lvl-0-spells_$X_components}" type="text" value="" name="attr_components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-0-spells_$X_range}" type="text" value="" name="attr_range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-0-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" data-i18n-placeholder="range" class="calc" readonly /><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"> <input title="@{repeating_lvl-0-spells_$X_targets}" type="text" value="" name="attr_targets" data-i18n-placeholder="targets-area-effect" accept="Target"> <br><span data-i18n="targets-area-effect">Targets/Area/Effect</span> </span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-0-spells_$X_duration}" type="text" value="" name="attr_duration" data-i18n-placeholder="duration" accept="Duration" /><br><span data-i18n="duration">Duration</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-0-spells_$X_save}" type="text" value="" name="attr_save" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span> <span class="table-cell small-label sect"> <select title="@{repeating_lvl-0-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
                                    <option value="not-applicable" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                    <option value="Yes" data-i18n="yes">Yes</option>
                                    <option value="No" data-i18n="no">No</option>
                                    <option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
                                    <option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
                                </select> <br><span data-i18n="spell-resistance-abbrv">SR</span> </span>
                            <div class="sect expand">
                                <div class="table spell-misc"> <span class="table-data" style="width:15%;"></span> <span class="table-cell small-label"><input title="@{repeating_lvl-0-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc" /> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-0-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="calc" readonly /> <br><span data-i18n="caster-level-abbrv">CL</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-0-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-0-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="calc" readonly /> <br><span data-i18n="concentration-abbrv">Conc</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-0-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="calc" readonly /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-0-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="calc" readonly /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-0-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc" /> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-0-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="calc" readonly /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span> <span class="table-data" style="width:15%;"></span> </div> <textarea class="desc" title="@{repeating_lvl-0-spells_$X_description}" name="attr_description" accept="Content"></textarea> <textarea class="macro-text" title="@{repeating_lvl-0-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} @{toggle_spell_accessible} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea> <input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" /> <input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + @{casterlevel} + @{SP-mod} ]]}}" /> <input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" /> <input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" /> <input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />
                                <div class="options table">
                                    <div class="table-row"> <span class="table-cell small-label" style="padding-left:1rem;"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-0-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-0-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-0-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-0-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span> </div>
                                </div>
                                <div class="repeating-id">
                                    <label class="small-label2 nextitem">
                                        <input class="selectable calc" name="attr_row_id" readonly />
                                        <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <!-- Spells Level 1 -->
                <div class="repeating-sect repeating-fields"> <span class="nontable-name" data-i18n="level-1-spells">Level 1 Spells</span>
                    <fieldset class="repeating_lvl-1-spells">
                        <div> <input type="checkbox" class="counted sect-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_row-show" value="1" checked="checked" /><span class="table-cell"></span> <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-1-spells_$X_roll}" value="@{macro-text}"></button></span> <span class="table-cell small-label"><input title="@{repeating_lvl-1-spells_$X_used}" type="number" name="attr_used" value="0"><br><span data-i18n="prepared">Prepped</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-1-spells_$X_name}" type="text" value="" name="attr_name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span> <span class="table-cell small-label"> <select title="@{repeating_lvl-1-spells_$X_spellclass}" name="attr_spellclass">
                                    <option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
                                    <option value="@{spellclass-1-name}" data-i18n="2-ordinal-class">2nd Class</option>
                                    <option value="@{spellclass-2-name}" data-i18n="3-ordinal-class">3rd Class</option>
                                </select> <input type="hidden" name="attr_spellclass_number" value="0" /> <br><span data-i18n="class">Class</span> </span> <span class="table-cell small-label" style="width:5%;"><input title="@{repeating_lvl-1-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-1-spells_$X_school}" type="text" value="" name="attr_school" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-1-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" data-i18n-placeholder="casting-time" accept="Casting Time" /><br><span data-i18n="casting-time">Casting Time</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-1-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" data-i18n-placeholder="difficulty-class-modifier-abbrv" /> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-1-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="calc" readonly /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>
                            <div></div> <span class="table-cell small-label sect"><input title="@{repeating_lvl-1-spells_$X_components}" type="text" value="" name="attr_components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-1-spells_$X_range}" type="text" value="" name="attr_range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-1-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" data-i18n-placeholder="range" class="calc" readonly /><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"> <input title="@{repeating_lvl-1-spells_$X_targets}" type="text" value="" name="attr_targets" data-i18n-placeholder="targets-area-effect" accept="Target"> <br><span data-i18n="targets-area-effect">Targets/Area/Effect</span> </span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-1-spells_$X_duration}" type="text" value="" name="attr_duration" data-i18n-placeholder="duration" accept="Duration" /><br><span data-i18n="duration">Duration</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-1-spells_$X_save}" type="text" value="" name="attr_save" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span> <span class="table-cell small-label sect"> <select title="@{repeating_lvl-1-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
                                    <option value="not-applicable" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                    <option value="Yes" data-i18n="yes">Yes</option>
                                    <option value="No" data-i18n="no">No</option>
                                    <option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
                                    <option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
                                </select> <br><span data-i18n="spell-resistance-abbrv">SR</span> </span>
                            <div class="sect expand">
                                <div class="table spell-misc"> <span class="table-data" style="width:15%;"></span> <span class="table-cell small-label"><input title="@{repeating_lvl-1-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc" /> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-1-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="calc" readonly /> <br><span data-i18n="caster-level-abbrv">CL</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-1-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-1-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="calc" readonly /> <br><span data-i18n="concentration-abbrv">Conc</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-1-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="calc" readonly /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-1-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="calc" readonly /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-1-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc" /> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-1-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="calc" readonly /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span> <span class="table-data" style="width:15%;"></span> </div> <textarea class="desc" title="@{repeating_lvl-1-spells_$X_description}" name="attr_description" accept="Content"></textarea> <textarea class="macro-text" title="@{repeating_lvl-1-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} @{toggle_spell_accessible} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea> <input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" /> <input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + @{casterlevel} + @{SP-mod} ]]}}" /> <input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" /> <input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" /> <input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />
                                <div class="options table">
                                    <div class="table-row"> <span class="table-cell small-label" style="padding-left:1rem;"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-1-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-1-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-1-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-1-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span> </div>
                                </div>
                                <div class="repeating-id">
                                    <label class="small-label2 nextitem">
                                        <input class="selectable calc" name="attr_row_id" readonly />
                                        <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <!-- Spells Level 2 -->
                <div class="repeating-sect repeating-fields"> <span class="nontable-name" data-i18n="level-2-spells">Level 2 Spells</span>
                    <fieldset class="repeating_lvl-2-spells">
                        <div> <input type="checkbox" class="counted sect-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_row-show" value="1" checked="checked" /><span class="table-cell"></span> <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-2-spells_$X_roll}" value="@{macro-text}"></button></span> <span class="table-cell small-label"><input title="@{repeating_lvl-2-spells_$X_used}" type="number" name="attr_used" value="0"><br><span data-i18n="prepared">Prepped</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-2-spells_$X_name}" type="text" value="" name="attr_name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span> <span class="table-cell small-label"> <select title="@{repeating_lvl-2-spells_$X_spellclass}" name="attr_spellclass">
                                    <option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
                                    <option value="@{spellclass-1-name}" data-i18n="2-ordinal-class">2nd Class</option>
                                    <option value="@{spellclass-2-name}" data-i18n="3-ordinal-class">3rd Class</option>
                                </select> <input type="hidden" name="attr_spellclass_number" value="0" /> <br><span data-i18n="class">Class</span> </span> <span class="table-cell small-label" style="width:5%;"><input title="@{repeating_lvl-2-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-2-spells_$X_school}" type="text" value="" name="attr_school" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-2-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" data-i18n-placeholder="casting-time" accept="Casting Time" /><br><span data-i18n="casting-time">Casting Time</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-2-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" data-i18n-placeholder="difficulty-class-modifier-abbrv" /> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-2-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="calc" readonly /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>
                            <div></div> <span class="table-cell small-label sect"><input title="@{repeating_lvl-2-spells_$X_components}" type="text" value="" name="attr_components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-2-spells_$X_range}" type="text" value="" name="attr_range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-2-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" data-i18n-placeholder="range" class="calc" readonly /><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"> <input title="@{repeating_lvl-2-spells_$X_targets}" type="text" value="" name="attr_targets" data-i18n-placeholder="targets-area-effect" accept="Target"> <br><span data-i18n="targets-area-effect">Targets/Area/Effect</span> </span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-2-spells_$X_duration}" type="text" value="" name="attr_duration" data-i18n-placeholder="duration" accept="Duration" /><br><span data-i18n="duration">Duration</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-2-spells_$X_save}" type="text" value="" name="attr_save" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span> <span class="table-cell small-label sect"> <select title="@{repeating_lvl-2-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
                                    <option value="not-applicable" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                    <option value="Yes" data-i18n="yes">Yes</option>
                                    <option value="No" data-i18n="no">No</option>
                                    <option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
                                    <option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
                                </select> <br><span data-i18n="spell-resistance-abbrv">SR</span> </span>
                            <div class="sect expand">
                                <div class="table spell-misc"> <span class="table-data" style="width:15%;"></span> <span class="table-cell small-label"><input title="@{repeating_lvl-2-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc" /> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-2-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="calc" readonly /> <br><span data-i18n="caster-level-abbrv">CL</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-2-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-2-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="calc" readonly /> <br><span data-i18n="concentration-abbrv">Conc</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-2-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="calc" readonly /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-2-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="calc" readonly /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-2-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc" /> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-2-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="calc" readonly /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span> <span class="table-data" style="width:15%;"></span> </div> <textarea class="desc" title="@{repeating_lvl-2-spells_$X_description}" name="attr_description" accept="Content"></textarea> <textarea class="macro-text" title="@{repeating_lvl-2-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} @{toggle_spell_accessible} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea> <input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" /> <input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + @{casterlevel} + @{SP-mod} ]]}}" /> <input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" /> <input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" /> <input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />
                                <div class="options table">
                                    <div class="table-row"> <span class="table-cell small-label" style="padding-left:1rem;"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-2-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-2-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-2-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-2-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span> </div>
                                </div>
                                <div class="repeating-id">
                                    <label class="small-label2 nextitem">
                                        <input class="selectable calc" name="attr_row_id" readonly />
                                        <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <!-- Spells Level 3 -->
                <div class="repeating-sect repeating-fields"> <span class="nontable-name" data-i18n="level-3-spells">Level 3 Spells</span>
                    <fieldset class="repeating_lvl-3-spells">
                        <div> <input type="checkbox" class="counted sect-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_row-show" value="1" checked="checked" /><span class="table-cell"></span> <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-3-spells_$X_roll}" value="@{macro-text}"></button></span> <span class="table-cell small-label"><input title="@{repeating_lvl-3-spells_$X_used}" type="number" name="attr_used" value="0"><br><span data-i18n="prepared">Prepped</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-3-spells_$X_name}" type="text" value="" name="attr_name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span> <span class="table-cell small-label"> <select title="@{repeating_lvl-3-spells_$X_spellclass}" name="attr_spellclass">
                                    <option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
                                    <option value="@{spellclass-1-name}" data-i18n="2-ordinal-class">2nd Class</option>
                                    <option value="@{spellclass-2-name}" data-i18n="3-ordinal-class">3rd Class</option>
                                </select> <input type="hidden" name="attr_spellclass_number" value="0" /> <br><span data-i18n="class">Class</span> </span> <span class="table-cell small-label" style="width:5%;"><input title="@{repeating_lvl-3-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-3-spells_$X_school}" type="text" value="" name="attr_school" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-3-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" data-i18n-placeholder="casting-time" accept="Casting Time" /><br><span data-i18n="casting-time">Casting Time</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-3-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" data-i18n-placeholder="difficulty-class-modifier-abbrv" /> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-3-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="calc" readonly /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>
                            <div></div> <span class="table-cell small-label sect"><input title="@{repeating_lvl-3-spells_$X_components}" type="text" value="" name="attr_components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-3-spells_$X_range}" type="text" value="" name="attr_range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-3-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" data-i18n-placeholder="range" class="calc" readonly /><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"> <input title="@{repeating_lvl-3-spells_$X_targets}" type="text" value="" name="attr_targets" data-i18n-placeholder="targets-area-effect" accept="Target"> <br><span data-i18n="targets-area-effect">Targets/Area/Effect</span> </span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-3-spells_$X_duration}" type="text" value="" name="attr_duration" data-i18n-placeholder="duration" accept="Duration" /><br><span data-i18n="duration">Duration</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-3-spells_$X_save}" type="text" value="" name="attr_save" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span> <span class="table-cell small-label sect"> <select title="@{repeating_lvl-3-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
                                    <option value="not-applicable" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                    <option value="Yes" data-i18n="yes">Yes</option>
                                    <option value="No" data-i18n="no">No</option>
                                    <option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
                                    <option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
                                </select> <br><span data-i18n="spell-resistance-abbrv">SR</span> </span>
                            <div class="sect expand">
                                <div class="table spell-misc"> <span class="table-data" style="width:15%;"></span> <span class="table-cell small-label"><input title="@{repeating_lvl-3-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc" /> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-3-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="calc" readonly /> <br><span data-i18n="caster-level-abbrv">CL</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-3-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-3-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="calc" readonly /> <br><span data-i18n="concentration-abbrv">Conc</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-3-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="calc" readonly /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-3-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="calc" readonly /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-3-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc" /> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-3-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="calc" readonly /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span> <span class="table-data" style="width:15%;"></span> </div> <textarea class="desc" title="@{repeating_lvl-3-spells_$X_description}" name="attr_description" accept="Content"></textarea> <textarea class="macro-text" title="@{repeating_lvl-3-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} @{toggle_spell_accessible} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea> <input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" /> <input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + @{casterlevel} + @{SP-mod} ]]}}" /> <input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" /> <input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" /> <input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />
                                <div class="options table">
                                    <div class="table-row"> <span class="table-cell small-label" style="padding-left:1rem;"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-3-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-3-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-3-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-3-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span> </div>
                                </div>
                                <div class="repeating-id">
                                    <label class="small-label2 nextitem">
                                        <input class="selectable calc" name="attr_row_id" readonly />
                                        <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <!-- Spells Level 4 -->
                <div class="repeating-sect repeating-fields"> <span class="nontable-name" data-i18n="level-4-spells">Level 4 Spells</span>
                    <fieldset class="repeating_lvl-4-spells">
                        <div> <input type="checkbox" class="counted sect-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_row-show" value="1" checked="checked" /><span class="table-cell"></span> <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-4-spells_$X_roll}" value="@{macro-text}"></button></span> <span class="table-cell small-label"><input title="@{repeating_lvl-4-spells_$X_used}" type="number" name="attr_used" value="0"><br><span data-i18n="prepared">Prepped</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-4-spells_$X_name}" type="text" value="" name="attr_name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span> <span class="table-cell small-label"> <select title="@{repeating_lvl-4-spells_$X_spellclass}" name="attr_spellclass">
                                    <option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
                                    <option value="@{spellclass-1-name}" data-i18n="2-ordinal-class">2nd Class</option>
                                    <option value="@{spellclass-2-name}" data-i18n="3-ordinal-class">3rd Class</option>
                                </select> <input type="hidden" name="attr_spellclass_number" value="0" /> <br><span data-i18n="class">Class</span> </span> <span class="table-cell small-label" style="width:5%;"><input title="@{repeating_lvl-4-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-4-spells_$X_school}" type="text" value="" name="attr_school" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-4-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" data-i18n-placeholder="casting-time" accept="Casting Time" /><br><span data-i18n="casting-time">Casting Time</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-4-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" data-i18n-placeholder="difficulty-class-modifier-abbrv" /> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-4-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="calc" readonly /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>
                            <div></div> <span class="table-cell small-label sect"><input title="@{repeating_lvl-4-spells_$X_components}" type="text" value="" name="attr_components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-4-spells_$X_range}" type="text" value="" name="attr_range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-4-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" data-i18n-placeholder="range" class="calc" readonly /><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"> <input title="@{repeating_lvl-4-spells_$X_targets}" type="text" value="" name="attr_targets" data-i18n-placeholder="targets-area-effect" accept="Target"> <br><span data-i18n="targets-area-effect">Targets/Area/Effect</span> </span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-4-spells_$X_duration}" type="text" value="" name="attr_duration" data-i18n-placeholder="duration" accept="Duration" /><br><span data-i18n="duration">Duration</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-4-spells_$X_save}" type="text" value="" name="attr_save" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span> <span class="table-cell small-label sect"> <select title="@{repeating_lvl-4-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
                                    <option value="not-applicable" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                    <option value="Yes" data-i18n="yes">Yes</option>
                                    <option value="No" data-i18n="no">No</option>
                                    <option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
                                    <option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
                                </select> <br><span data-i18n="spell-resistance-abbrv">SR</span> </span>
                            <div class="sect expand">
                                <div class="table spell-misc"> <span class="table-data" style="width:15%;"></span> <span class="table-cell small-label"><input title="@{repeating_lvl-4-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc" /> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-4-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="calc" readonly /> <br><span data-i18n="caster-level-abbrv">CL</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-4-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-4-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="calc" readonly /> <br><span data-i18n="concentration-abbrv">Conc</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-4-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="calc" readonly /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-4-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="calc" readonly /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-4-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc" /> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-4-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="calc" readonly /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span> <span class="table-data" style="width:15%;"></span> </div> <textarea class="desc" title="@{repeating_lvl-4-spells_$X_description}" name="attr_description" accept="Content"></textarea> <textarea class="macro-text" title="@{repeating_lvl-4-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} @{toggle_spell_accessible} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea> <input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" /> <input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + @{casterlevel} + @{SP-mod} ]]}}" /> <input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" /> <input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" /> <input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />
                                <div class="options table">
                                    <div class="table-row"> <span class="table-cell small-label" style="padding-left:1rem;"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-4-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-4-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-4-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-4-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span> </div>
                                </div>
                                <div class="repeating-id">
                                    <label class="small-label2 nextitem">
                                        <input class="selectable calc" name="attr_row_id" readonly />
                                        <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <!-- Spells Level 5 -->
                <div class="repeating-sect repeating-fields"> <span class="nontable-name" data-i18n="level-5-spells">Level 5 Spells</span>
                    <fieldset class="repeating_lvl-5-spells">
                        <div> <input type="checkbox" class="counted sect-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_row-show" value="1" checked="checked" /><span class="table-cell"></span> <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-5-spells_$X_roll}" value="@{macro-text}"></button></span> <span class="table-cell small-label"><input title="@{repeating_lvl-5-spells_$X_used}" type="number" name="attr_used" value="0"><br><span data-i18n="prepared">Prepped</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-5-spells_$X_name}" type="text" value="" name="attr_name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span> <span class="table-cell small-label"> <select title="@{repeating_lvl-5-spells_$X_spellclass}" name="attr_spellclass">
                                    <option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
                                    <option value="@{spellclass-1-name}" data-i18n="2-ordinal-class">2nd Class</option>
                                    <option value="@{spellclass-2-name}" data-i18n="3-ordinal-class">3rd Class</option>
                                </select> <input type="hidden" name="attr_spellclass_number" value="0" /> <br><span data-i18n="class">Class</span> </span> <span class="table-cell small-label" style="width:5%;"><input title="@{repeating_lvl-5-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-5-spells_$X_school}" type="text" value="" name="attr_school" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-5-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" data-i18n-placeholder="casting-time" accept="Casting Time" /><br><span data-i18n="casting-time">Casting Time</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-5-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" data-i18n-placeholder="difficulty-class-modifier-abbrv" /> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-5-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="calc" readonly /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>
                            <div></div> <span class="table-cell small-label sect"><input title="@{repeating_lvl-5-spells_$X_components}" type="text" value="" name="attr_components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-5-spells_$X_range}" type="text" value="" name="attr_range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-5-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" data-i18n-placeholder="range" class="calc" readonly /><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"> <input title="@{repeating_lvl-5-spells_$X_targets}" type="text" value="" name="attr_targets" data-i18n-placeholder="targets-area-effect" accept="Target"> <br><span data-i18n="targets-area-effect">Targets/Area/Effect</span> </span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-5-spells_$X_duration}" type="text" value="" name="attr_duration" data-i18n-placeholder="duration" accept="Duration" /><br><span data-i18n="duration">Duration</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-5-spells_$X_save}" type="text" value="" name="attr_save" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span> <span class="table-cell small-label sect"> <select title="@{repeating_lvl-5-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
                                    <option value="not-applicable" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                    <option value="Yes" data-i18n="yes">Yes</option>
                                    <option value="No" data-i18n="no">No</option>
                                    <option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
                                    <option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
                                </select> <br><span data-i18n="spell-resistance-abbrv">SR</span> </span>
                            <div class="sect expand">
                                <div class="table spell-misc"> <span class="table-data" style="width:15%;"></span> <span class="table-cell small-label"><input title="@{repeating_lvl-5-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc" /> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-5-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="calc" readonly /> <br><span data-i18n="caster-level-abbrv">CL</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-5-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-5-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="calc" readonly /> <br><span data-i18n="concentration-abbrv">Conc</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-5-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="calc" readonly /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-5-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="calc" readonly /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-5-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc" /> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-5-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="calc" readonly /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span> <span class="table-data" style="width:15%;"></span> </div> <textarea class="desc" title="@{repeating_lvl-5-spells_$X_description}" name="attr_description" accept="Content"></textarea> <textarea class="macro-text" title="@{repeating_lvl-5-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} @{toggle_spell_accessible} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea> <input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" /> <input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + @{casterlevel} + @{SP-mod} ]]}}" /> <input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" /> <input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" /> <input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />
                                <div class="options table">
                                    <div class="table-row"> <span class="table-cell small-label" style="padding-left:1rem;"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-5-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-5-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-5-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-5-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span> </div>
                                </div>
                                <div class="repeating-id">
                                    <label class="small-label2 nextitem">
                                        <input class="selectable calc" name="attr_row_id" readonly />
                                        <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <!-- Spells Level 6 -->
                <div class="repeating-sect repeating-fields"> <span class="nontable-name" data-i18n="level-6-spells">Level 6 Spells</span>
                    <fieldset class="repeating_lvl-6-spells">
                        <div> <input type="checkbox" class="counted sect-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_row-show" value="1" checked="checked" /><span class="table-cell"></span> <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-6-spells_$X_roll}" value="@{macro-text}"></button></span> <span class="table-cell small-label"><input title="@{repeating_lvl-6-spells_$X_used}" type="number" name="attr_used" value="0"><br><span data-i18n="prepared">Prepped</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-6-spells_$X_name}" type="text" value="" name="attr_name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span> <span class="table-cell small-label"> <select title="@{repeating_lvl-6-spells_$X_spellclass}" name="attr_spellclass">
                                    <option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
                                    <option value="@{spellclass-1-name}" data-i18n="2-ordinal-class">2nd Class</option>
                                    <option value="@{spellclass-2-name}" data-i18n="3-ordinal-class">3rd Class</option>
                                </select> <input type="hidden" name="attr_spellclass_number" value="0" /> <br><span data-i18n="class">Class</span> </span> <span class="table-cell small-label" style="width:5%;"><input title="@{repeating_lvl-6-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-6-spells_$X_school}" type="text" value="" name="attr_school" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-6-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" data-i18n-placeholder="casting-time" accept="Casting Time" /><br><span data-i18n="casting-time">Casting Time</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-6-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" data-i18n-placeholder="difficulty-class-modifier-abbrv" /> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-6-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="calc" readonly /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>
                            <div></div> <span class="table-cell small-label sect"><input title="@{repeating_lvl-6-spells_$X_components}" type="text" value="" name="attr_components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-6-spells_$X_range}" type="text" value="" name="attr_range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-6-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" data-i18n-placeholder="range" class="calc" readonly /><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"> <input title="@{repeating_lvl-6-spells_$X_targets}" type="text" value="" name="attr_targets" data-i18n-placeholder="targets-area-effect" accept="Target"> <br><span data-i18n="targets-area-effect">Targets/Area/Effect</span> </span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-6-spells_$X_duration}" type="text" value="" name="attr_duration" data-i18n-placeholder="duration" accept="Duration" /><br><span data-i18n="duration">Duration</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-6-spells_$X_save}" type="text" value="" name="attr_save" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span> <span class="table-cell small-label sect"> <select title="@{repeating_lvl-6-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
                                    <option value="not-applicable" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                    <option value="Yes" data-i18n="yes">Yes</option>
                                    <option value="No" data-i18n="no">No</option>
                                    <option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
                                    <option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
                                </select> <br><span data-i18n="spell-resistance-abbrv">SR</span> </span>
                            <div class="sect expand">
                                <div class="table spell-misc"> <span class="table-data" style="width:15%;"></span> <span class="table-cell small-label"><input title="@{repeating_lvl-6-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc" /> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-6-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="calc" readonly /> <br><span data-i18n="caster-level-abbrv">CL</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-6-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-6-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="calc" readonly /> <br><span data-i18n="concentration-abbrv">Conc</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-6-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="calc" readonly /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-6-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="calc" readonly /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-6-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc" /> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-6-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="calc" readonly /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span> <span class="table-data" style="width:15%;"></span> </div> <textarea class="desc" title="@{repeating_lvl-6-spells_$X_description}" name="attr_description" accept="Content"></textarea> <textarea class="macro-text" title="@{repeating_lvl-6-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} @{toggle_spell_accessible} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea> <input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" /> <input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + @{casterlevel} + @{SP-mod} ]]}}" /> <input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" /> <input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" /> <input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />
                                <div class="options table">
                                    <div class="table-row"> <span class="table-cell small-label" style="padding-left:1rem;"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-6-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-6-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-6-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-6-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span> </div>
                                </div>
                                <div class="repeating-id">
                                    <label class="small-label2 nextitem">
                                        <input class="selectable calc" name="attr_row_id" readonly />
                                        <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <!-- Spells Level 7 -->
                <div class="repeating-sect repeating-fields"> <span class="nontable-name" data-i18n="level-7-spells">Level 7 Spells</span>
                    <fieldset class="repeating_lvl-7-spells">
                        <div> <input type="checkbox" class="counted sect-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_row-show" value="1" checked="checked" /><span class="table-cell"></span> <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-7-spells_$X_roll}" value="@{macro-text}"></button></span> <span class="table-cell small-label"><input title="@{repeating_lvl-7-spells_$X_used}" type="number" name="attr_used" value="0"><br><span data-i18n="prepared">Prepped</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-7-spells_$X_name}" type="text" value="" name="attr_name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span> <span class="table-cell small-label"> <select title="@{repeating_lvl-7-spells_$X_spellclass}" name="attr_spellclass">
                                    <option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
                                    <option value="@{spellclass-1-name}" data-i18n="2-ordinal-class">2nd Class</option>
                                    <option value="@{spellclass-2-name}" data-i18n="3-ordinal-class">3rd Class</option>
                                </select> <input type="hidden" name="attr_spellclass_number" value="0" /> <br><span data-i18n="class">Class</span> </span> <span class="table-cell small-label" style="width:5%;"><input title="@{repeating_lvl-7-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-7-spells_$X_school}" type="text" value="" name="attr_school" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-7-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" data-i18n-placeholder="casting-time" accept="Casting Time" /><br><span data-i18n="casting-time">Casting Time</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-7-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" data-i18n-placeholder="difficulty-class-modifier-abbrv" /> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-7-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="calc" readonly /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>
                            <div></div> <span class="table-cell small-label sect"><input title="@{repeating_lvl-7-spells_$X_components}" type="text" value="" name="attr_components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-7-spells_$X_range}" type="text" value="" name="attr_range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-7-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" data-i18n-placeholder="range" class="calc" readonly /><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"> <input title="@{repeating_lvl-7-spells_$X_targets}" type="text" value="" name="attr_targets" data-i18n-placeholder="targets-area-effect" accept="Target"> <br><span data-i18n="targets-area-effect">Targets/Area/Effect</span> </span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-7-spells_$X_duration}" type="text" value="" name="attr_duration" data-i18n-placeholder="duration" accept="Duration" /><br><span data-i18n="duration">Duration</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-7-spells_$X_save}" type="text" value="" name="attr_save" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span> <span class="table-cell small-label sect"> <select title="@{repeating_lvl-7-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
                                    <option value="not-applicable" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                    <option value="Yes" data-i18n="yes">Yes</option>
                                    <option value="No" data-i18n="no">No</option>
                                    <option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
                                    <option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
                                </select> <br><span data-i18n="spell-resistance-abbrv">SR</span> </span>
                            <div class="sect expand">
                                <div class="table spell-misc"> <span class="table-data" style="width:15%;"></span> <span class="table-cell small-label"><input title="@{repeating_lvl-7-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc" /> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-7-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="calc" readonly /> <br><span data-i18n="caster-level-abbrv">CL</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-7-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-7-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="calc" readonly /> <br><span data-i18n="concentration-abbrv">Conc</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-7-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="calc" readonly /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-7-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="calc" readonly /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-7-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc" /> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-7-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="calc" readonly /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span> <span class="table-data" style="width:15%;"></span> </div> <textarea class="desc" title="@{repeating_lvl-7-spells_$X_description}" name="attr_description" accept="Content"></textarea> <textarea class="macro-text" title="@{repeating_lvl-7-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} @{toggle_spell_accessible} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea> <input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" /> <input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + @{casterlevel} + @{SP-mod} ]]}}" /> <input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" /> <input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" /> <input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />
                                <div class="options table">
                                    <div class="table-row"> <span class="table-cell small-label" style="padding-left:1rem;"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-7-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-7-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-7-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-7-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span> </div>
                                </div>
                                <div class="repeating-id">
                                    <label class="small-label2 nextitem">
                                        <input class="selectable calc" name="attr_row_id" readonly />
                                        <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <!-- Spells Level 8 -->
                <div class="repeating-sect repeating-fields"> <span class="nontable-name" data-i18n="level-8-spells">Level 8 Spells</span>
                    <fieldset class="repeating_lvl-8-spells">
                        <div> <input type="checkbox" class="counted sect-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_row-show" value="1" checked="checked" /><span class="table-cell"></span> <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-8-spells_$X_roll}" value="@{macro-text}"></button></span> <span class="table-cell small-label"><input title="@{repeating_lvl-8-spells_$X_used}" type="number" name="attr_used" value="0"><br><span data-i18n="prepared">Prepped</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-8-spells_$X_name}" type="text" value="" name="attr_name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span> <span class="table-cell small-label"> <select title="@{repeating_lvl-8-spells_$X_spellclass}" name="attr_spellclass">
                                    <option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
                                    <option value="@{spellclass-1-name}" data-i18n="2-ordinal-class">2nd Class</option>
                                    <option value="@{spellclass-2-name}" data-i18n="3-ordinal-class">3rd Class</option>
                                </select> <input type="hidden" name="attr_spellclass_number" value="0" /> <br><span data-i18n="class">Class</span> </span> <span class="table-cell small-label" style="width:5%;"><input title="@{repeating_lvl-8-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-8-spells_$X_school}" type="text" value="" name="attr_school" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-8-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" data-i18n-placeholder="casting-time" accept="Casting Time" /><br><span data-i18n="casting-time">Casting Time</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-8-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" data-i18n-placeholder="difficulty-class-modifier-abbrv" /> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-8-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="calc" readonly /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>
                            <div></div> <span class="table-cell small-label sect"><input title="@{repeating_lvl-8-spells_$X_components}" type="text" value="" name="attr_components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-8-spells_$X_range}" type="text" value="" name="attr_range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-8-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" data-i18n-placeholder="range" class="calc" readonly /><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"> <input title="@{repeating_lvl-8-spells_$X_targets}" type="text" value="" name="attr_targets" data-i18n-placeholder="targets-area-effect" accept="Target"> <br><span data-i18n="targets-area-effect">Targets/Area/Effect</span> </span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-8-spells_$X_duration}" type="text" value="" name="attr_duration" data-i18n-placeholder="duration" accept="Duration" /><br><span data-i18n="duration">Duration</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-8-spells_$X_save}" type="text" value="" name="attr_save" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span> <span class="table-cell small-label sect"> <select title="@{repeating_lvl-8-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
                                    <option value="not-applicable" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                    <option value="Yes" data-i18n="yes">Yes</option>
                                    <option value="No" data-i18n="no">No</option>
                                    <option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
                                    <option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
                                </select> <br><span data-i18n="spell-resistance-abbrv">SR</span> </span>
                            <div class="sect expand">
                                <div class="table spell-misc"> <span class="table-data" style="width:15%;"></span> <span class="table-cell small-label"><input title="@{repeating_lvl-8-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc" /> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-8-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="calc" readonly /> <br><span data-i18n="caster-level-abbrv">CL</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-8-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-8-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="calc" readonly /> <br><span data-i18n="concentration-abbrv">Conc</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-8-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="calc" readonly /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-8-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="calc" readonly /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-8-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc" /> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-8-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="calc" readonly /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span> <span class="table-data" style="width:15%;"></span> </div> <textarea class="desc" title="@{repeating_lvl-8-spells_$X_description}" name="attr_description" accept="Content"></textarea> <textarea class="macro-text" title="@{repeating_lvl-8-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} @{toggle_spell_accessible} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea> <input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" /> <input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + @{casterlevel} + @{SP-mod} ]]}}" /> <input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" /> <input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" /> <input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />
                                <div class="options table">
                                    <div class="table-row"> <span class="table-cell small-label" style="padding-left:1rem;"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-8-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-8-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-8-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-8-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span> </div>
                                </div>
                                <div class="repeating-id">
                                    <label class="small-label2 nextitem">
                                        <input class="selectable calc" name="attr_row_id" readonly />
                                        <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <!-- Spells Level 9 -->
                <div class="repeating-sect repeating-fields"> <span class="nontable-name" data-i18n="level-9-spells">Level 9 Spells</span>
                    <fieldset class="repeating_lvl-9-spells">
                        <div> <input type="checkbox" class="counted sect-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_row-show" value="1" checked="checked" /><span class="table-cell"></span> <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-9-spells_$X_roll}" value="@{macro-text}"></button></span> <span class="table-cell small-label"><input title="@{repeating_lvl-9-spells_$X_used}" type="number" name="attr_used" value="0"><br><span data-i18n="prepared">Prepped</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-9-spells_$X_name}" type="text" value="" name="attr_name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span> <span class="table-cell small-label"> <select title="@{repeating_lvl-9-spells_$X_spellclass}" name="attr_spellclass">
                                    <option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
                                    <option value="@{spellclass-1-name}" data-i18n="2-ordinal-class">2nd Class</option>
                                    <option value="@{spellclass-2-name}" data-i18n="3-ordinal-class">3rd Class</option>
                                </select> <input type="hidden" name="attr_spellclass_number" value="0" /> <br><span data-i18n="class">Class</span> </span> <span class="table-cell small-label" style="width:5%;"><input title="@{repeating_lvl-9-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-9-spells_$X_school}" type="text" value="" name="attr_school" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-9-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" data-i18n-placeholder="casting-time" accept="Casting Time" /><br><span data-i18n="casting-time">Casting Time</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-9-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" data-i18n-placeholder="difficulty-class-modifier-abbrv" /> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-9-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="calc" readonly /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>
                            <div></div> <span class="table-cell small-label sect"><input title="@{repeating_lvl-9-spells_$X_components}" type="text" value="" name="attr_components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-9-spells_$X_range}" type="text" value="" name="attr_range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-9-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" data-i18n-placeholder="range" class="calc" readonly /><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"> <input title="@{repeating_lvl-9-spells_$X_targets}" type="text" value="" name="attr_targets" data-i18n-placeholder="targets-area-effect" accept="Target"> <br><span data-i18n="targets-area-effect">Targets/Area/Effect</span> </span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-9-spells_$X_duration}" type="text" value="" name="attr_duration" data-i18n-placeholder="duration" accept="Duration" /><br><span data-i18n="duration">Duration</span></span> <span class="table-cell small-label sect"><input title="@{repeating_lvl-9-spells_$X_save}" type="text" value="" name="attr_save" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span> <span class="table-cell small-label sect"> <select title="@{repeating_lvl-9-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
                                    <option value="not-applicable" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                    <option value="Yes" data-i18n="yes">Yes</option>
                                    <option value="No" data-i18n="no">No</option>
                                    <option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
                                    <option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
                                </select> <br><span data-i18n="spell-resistance-abbrv">SR</span> </span>
                            <div class="sect expand">
                                <div class="table spell-misc"> <span class="table-data" style="width:15%;"></span> <span class="table-cell small-label"><input title="@{repeating_lvl-9-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc" /> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-9-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="calc" readonly /> <br><span data-i18n="caster-level-abbrv">CL</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-9-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-9-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="calc" readonly /> <br><span data-i18n="concentration-abbrv">Conc</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-9-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="calc" readonly /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-9-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="calc" readonly /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span> <span class="table-data divider-lg">|<br> </span> <span class="table-cell small-label"><input title="@{repeating_lvl-9-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc" /> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span> <span class="table-cell small-label"><input title="@{repeating_lvl-9-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="calc" readonly /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span> <span class="table-data" style="width:15%;"></span> </div> <textarea class="desc" title="@{repeating_lvl-9-spells_$X_description}" name="attr_description" accept="Content"></textarea> <textarea class="macro-text" title="@{repeating_lvl-9-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} @{toggle_spell_accessible} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea> <input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" /> <input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + @{casterlevel} + @{SP-mod} ]]}}" /> <input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" /> <input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" /> <input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />
                                <div class="options table">
                                    <div class="table-row"> <span class="table-cell small-label" style="padding-left:1rem;"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-9-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-9-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-9-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span> <span class="table-cell small-label"><label><input type="checkbox" class="boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-9-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span> </div>
                                </div>
                                <div class="repeating-id">
                                    <label class="small-label2 nextitem">
                                        <input class="selectable calc" name="attr_row_id" readonly />
                                        <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <!-- NPC Spells 1 -->
                <div class="repeating-sect"> <span class="nontable-name" data-i18n="non-player-character-class-one-spells">NPC Class 1 Spells</span>
                    <div class="sect repeating-fields">
                        <fieldset class="repeating_npc-spells1"> <input type="checkbox" class="counted sect-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_spells1-show" value="1" checked="checked" /><span class="table-cell"></span> <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_npc-spells1_$X_roll}" value="@{macro-text}"></button></span> <span class="table-cell small-label"><input title="@{repeating_npc-spells1_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses-per-day">Uses/Day</span></span> <span class="table-cell small-label" style="width:20%;"><input title="@{repeating_npc-spells1_$X_name}" type="text" name="attr_name" data-i18n-placeholder="name" /><br><span data-i18n="name">Name</span></span> <span class="table-cell small-label entry-30p-shrink"><input title="@{repeating_npc-spells1_$X_short-description}" type="text" name="attr_short-description" data-i18n-placeholder="short-description" /><br><span data-i18n="short-description-abbrv">Short Desc</span></span> <span class="table-cell small-label sect"><input title="@{repeating_npc-spells1_$X_level}" type="text" name="attr_level" value="" data-i18n-placeholder="level" /><br><span data-i18n="level">Level</span></span> <span class="table-cell small-label"><input title="@{repeating_npc-spells1_$X_range}" type="text" name="attr_range" value="" data-i18n-placeholder="range" /><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"><input title="@{repeating_npc-spells1_$X_duration}" type="text" name="attr_duration" value="" data-i18n-placeholder="duration" /><br><span data-i18n="duration">Duration</span></span> <span class="table-cell small-label"><input title="@{repeating_npc-spells1_$X_save}" type="text" name="attr_save" value="" data-i18n-placeholder="save" /><br><span data-i18n="save">Save</span></span> <span class="table-cell small-label sect" style="width:5.5em;"> <select title="@{repeating_npc-spells1_$X_sr}" name="attr_sr">
                                    <option value="not-applicable" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                    <option value="Yes" data-i18n="yes">Yes</option>
                                    <option value="No" data-i18n="no">No</option>
                                    <option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
                                    <option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
                                </select> <br><span data-i18n="spell-resistance-abbrv">SR</span> </span>
                            <div class="sect expand"> <textarea class="macro-text" title="@{repeating_npc-spells1_$X_macro-text}" name="attr_macro-text">@{NPC-whisper} &{template:pf_generic} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{Level=@{level}}} {{Range=@{range}}} {{Duration=@{duration}}} {{Save=@{save}}} {{SR=@{sr}}} {{description=@{short-description}}}</textarea>
                                <div class="repeating-id">
                                    <label class="small-label2 nextitem">
                                        <input class="selectable calc" name="attr_row_id" readonly />
                                        <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                    </label>
                                </div>
                                <hr />
                            </div>
                        </fieldset>
                    </div>
                </div>
                <!-- NPC Spells 2 -->
                <div class="repeating-sect repeating-fields"> <span class="nontable-name" data-i18n="non-player-character-class-two-spells">NPC Class 2 Spells</span>
                    <fieldset class="repeating_npc-spells2"> <input type="checkbox" class="counted sect-show" data-i18n-title="showsect-cmd" data-i18n-aria-label="showsect-cmd" name="attr_spells2-show" value="1" checked="checked" /><span class="table-cell"></span> <span class="table-cell repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_npc-spells2_$X_roll}" value="@{macro-text}"></button></span> <span class="table-cell small-label"><input title="@{repeating_npc-spells2_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses-per-day">Uses/Day</span></span> <span class="table-cell small-label" style="width:20%;"><input title="@{repeating_npc-spells2_$X_name}" type="text" name="attr_name" data-i18n-placeholder="name" /><br><span data-i18n="name">Name</span></span> <span class="table-cell small-label entry-30p-shrink"><input title="@{repeating_npc-spells2_$X_short-description}" type="text" name="attr_short-description" data-i18n-placeholder="short-description" /><br><span data-i18n="short-description-abbrv">Short Desc</span></span> <span class="table-cell small-label sect"><input title="@{repeating_npc-spells2_$X_level}" type="text" name="attr_level" value="" data-i18n-placeholder="level" /><br><span data-i18n="level">Level</span></span> <span class="table-cell small-label"><input title="@{repeating_npc-spells2_$X_range}" type="text" name="attr_range" value="" data-i18n-placeholder="range" /><br><span data-i18n="range">Range</span></span> <span class="table-cell small-label sect"><input title="@{repeating_npc-spells2_$X_duration}" type="text" name="attr_duration" value="" data-i18n-placeholder="duration" /><br><span data-i18n="duration">Duration</span></span> <span class="table-cell small-label"><input title="@{repeating_npc-spells2_$X_save}" type="text" name="attr_save" value="" data-i18n-placeholder="save" /><br><span data-i18n="save">Save</span></span> <span class="table-cell small-label sect" style="width:5.5em;"> <select title="@{repeating_npc-spells2_$X_sr}" name="attr_sr">
                                <option value="not-applicable" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
                                <option value="Yes" data-i18n="yes">Yes</option>
                                <option value="No" data-i18n="no">No</option>
                                <option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
                                <option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
                            </select> <br><span data-i18n="spell-resistance-abbrv">SR</span> </span>
                        <div class="sect expand"> <textarea class="macro-text" title="@{repeating_npc-spells2_$X_macro-text}" name="attr_macro-text">@{NPC-whisper} &{template:pf_generic} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{Level=@{level}}} {{Range=@{range}}} {{Duration=@{duration}}} {{Save=@{save}}} {{SR=@{sr}}} {{description=@{short-description}}}</textarea>
                            <div class="repeating-id">
                                <label class="small-label2 nextitem">
                                    <input class="selectable calc" name="attr_row_id" readonly />
                                    <span class="not-selectable" data-i18n="row-identification-for-macros">Row ID for macros</span>
                                </label>
                            </div>
                        </div>
                    </fieldset>
                </div>
            </div>
        </div>
    </div>
    <div data-i18n-aria-label="footnotes-aria" class="left" aria-label="Footnote information">
        <hr style="border-color:#a9a9a9;">
        <details>
            <summary><span data-i18n="footnote-macro-info" data-i18n-title="footnote-macro-info-title">Macro Field Info...</span></summary>
            <p data-i18n="footnote-a" class="footnotes">(a) Evaluated at edit time. Must evaluate to number. No queries or rolls. Extended Expressions allowed. Must use ID number to refer to row value. Can refer to (a) expressions or number attributes only.</p>
            <p data-i18n="footnote-b" class="footnotes">(b) Evaluated at roll time. May output string or number. Queries and rolls allowed. Must put [[brackets]] around rolls. Can refer to (a),(b),(c) expressions.</p>
            <p data-i18n="footnote-c" class="footnotes">(c) Evaluated at roll time. Must evaluate to number. Queries and rolls allowed. [[Brackets]] automatically placed around expression. Can refer to (a) or (c) expressions or number attributes only (or (b) if it evaluates to a number).</p>
            <p data-i18n="footnote-d" class="footnotes">(d) The actual roll. Sent to chat. Evaluated at roll time. Can refer to any of above.</p>
        </details>
    </div>
    <div data-i18n-aria-label="footer-aria" class="footer" aria-label="Help links and footer information">
        <div class="table">
            <span data-i18n="footer-info">Created by Samuel Marino w/contributions by Vince, Chris Buchholz, Magik, James W. | Last updated:&nbsp;</span> <i>Wed Sep 13 2023 23:15:48 GMT&nbsp;</i>v.<input type="text" name="attr_PFSheet_Version" value="0" class="calc number" readonly="" title="A non-blank version indicates attributes have been successfully recalculated.">
        </div>
        <div class="three-columns" style="margin-top:-.5em;">
            <span><button type="roll" class="no-decoration" data-i18n-title="url-link" name="roll_blank" value="https://tinyurl.com/PFRoll20Thread7"><b style="font-size:1.1rem;" data-i18n="questions-feedback">Questions/Feedback?</b></button></span>
            <span><button type="roll" class="no-decoration" data-i18n-title="url-link" name="roll_blank" value="https://tinyurl.com/PFCommunityGuide"><b style="font-size:1.1rem;" data-i18n="sheets-guide">KNOWN ISSUES / Wiki HOW TO Guide</b></button></span>
            <span><button type="roll" class="no-decoration" data-i18n-title="url-link" name="roll_blank" value="http://tinyurl.com/trans-pf-sheet"><b style="font-size:1.1rem;" data-i18n="help-translate">Help Translate</b></button></span>
        </div>
    </div>

    <div role="contentinfo" aria-label="rolltemplates" class="section-roll_templates">
        <!-- Spell Roll Templates -->
        <rolltemplate class="sheet-rolltemplate-pf_spell">
            {{^accessible}}
                <div class="sheet-roll-table sheet-rolltemplate-pf_spell {{#font}}font-{{font}}{{/font}} {{#color}}color-{{color}}{{/color}} {{#rounded}}rounded{{/rounded}}" role="presentation">
                    <div class="sheet-roll-header">
                        {{#header_image}}<span class="sheet-header-image">{{header_image}}</span>{{/header_image}}
                        <span class="sheet-left">
                            {{#character_name}}
                                {{#character_id}}[{{character_name}}](https://journal.roll20.net/character/{{character_id}}){{/character_id}}
                                    {{^character_id}}{{character_name}}{{/character_id}}
                                    {{#name}}:{{/name}}
                            {{/character_name}}
                            {{#name}}
                                {{#name_link}}[{{name}}]({{name_link}}){{/name_link}}
                                    {{^name_link}}{{name}}{{/name_link}}
                            {{/name}}
                        </span>
                        {{#subtitle}}<span class="sheet-subtitle">{{subtitle}}</span>{{/subtitle}}
                    </div>
                    <div class="sheet-roll-group">
                        {{#level}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="spell-level">Spell Level</span>:** {{#spellclass}}{{spellclass}}{{/spellclass}}{{#class}}{{class}}{{/class}}, {{level}}</div>
                            </div>
                        {{/level}}
                        {{#school}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="school">School</span>:** {{school}}</div>
                            </div>
                        {{/school}}
                        {{#casting_time}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="casting-time">Casting Time</span>:** {{casting_time}}</div>
                            </div>
                        {{/casting_time}}
                        {{#components}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="spell-components">Components</span>:** {{components}}</div>
                            </div>
                        {{/components}}
                        {{#range}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">
                                    **<span data-i18n="range">Range</span>:**
                                    {{#close}}{{range}} (<span data-i18n="close">Close</span>){{/close}}
                                        {{#medium}}{{range}} (<span data-i18n="medium">Medium</span>){{/medium}}
                                            {{#long}}{{range}} (<span data-i18n="long">Long</span>){{/long}}
                                                {{#see_text}}<span data-i18n="see-text">See text</span>{{/see_text}}
                                                {{#personal}}<span data-i18n="personal">Personal</span>{{/personal}}
                                                {{#touch}}<span data-i18n="touch">Touch</span>{{/touch}}
                                                {{#number}}{{range}}{{/number}}
                                                {{#perlevel}}{{range}}{{#rangetext}} ({{rangetext}} <span data-i18n="perlevel">Per Level</span>){{/rangetext}}{{/perlevel}}
                                                        {{^perlevel}}{{#rangetext}}({{rangetext}}){{/rangetext}}{{/perlevel}}
                                </div>
                            </div>
                        {{/range}}
                        {{#targets}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="effects-target">Effects/Target</span>:** {{targets}}</div>
                            </div>
                        {{/targets}}
                        {{#duration}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="duration">Duration</span>:** {{duration}}</div>
                            </div>
                        {{/duration}}
                        {{#sr}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="spell-resistance">Spell Resistance</span>:** {{sr}}</div>
                            </div>
                        {{/sr}}
                    </div>
                    <div class="sheet-roll-table-inner">
                        <div class="sheet-roll-group2">
                            {{#saving_throw}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="save">Save</span>:** {{saving_throw}}</div>
                                    <div class="sheet-roll-cell">{{#dc}}**<span data-i18n="difficulty-class-abbrv">DC</span>:**&nbsp;{{dc}}{{/dc}}</div>
                                </div>
                            {{/saving_throw}}
                            {{^casterlevel_chk}}{{#casterlevel}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell">**<span data-i18n="caster-level">Caster Level</span>:**</div>
                                        <div class="sheet-roll-cell">{{casterlevel}}</div>
                                    </div>
                                {{/casterlevel}}
                                {{#sr}}{{#spellPen_chk}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell">**<span data-i18n="overcome-spell-resistance-abbrv" style="margin-left:1em;">Overcome SR</span>{{#spellPen}}** **+**{{spellPen}}{{/spellPen}}</div>
                                            <div class="sheet-roll-cell"><span class="sheet-right">**=**{{spellPen_chk}}</span></div>
                                        </div>
                                    {{/spellPen_chk}}{{/sr}}
                            {{/casterlevel_chk}}
                            {{^Concentration_chk}}{{#Concentration}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell">**<span data-i18n="concentration">Concentration</span>:**</div>
                                        <div class="sheet-roll-cell"> **+**{{Concentration}}</div>
                                    </div>
                                    {{#cast_def}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell">**<span data-i18n="cast-defensively" style="margin-left:1em;">Cast Defensively</span>** **+**{{cast_def}} vs </div>
                                            <div class="sheet-roll-cell">{{#cast_defDC}}**<span data-i18n="difficulty-class-abbrv">DC</span>:**&nbsp;{{cast_defDC}}{{/cast_defDC}}</div>
                                        </div>
                                    {{/cast_def}}
                                {{/Concentration}}{{/Concentration_chk}}
                        </div>
                        <div class="sheet-roll-group2">
                            {{#casterlevel_chk}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="rolls">Rolls</span>**</div>
                                    <div></div>
                                </div>
                            {{/casterlevel_chk}}
                            {{^casterlevel_chk}}{{#Concentration_chk}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell">**<span data-i18n="rolls">Rolls</span>**</div>
                                        <div></div>
                                    </div>
                                {{/Concentration_chk}}{{/casterlevel_chk}}
                            {{#casterlevel_chk}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="caster-level-check">Caster Level Check</span>**{{#casterlevel}} **+**{{casterlevel}}{{/casterlevel}}</div>
                                    <div class="sheet-roll-cell">**=**{{casterlevel_chk}}</div>
                                </div>
                                {{#sr}}{{#spellPen_chk}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell">**<span data-i18n="overcome-spell-resistance-abbrv" style="margin-left:1em;">Overcome SR</span>**{{#spellPen}} **+**{{spellPen}}{{/spellPen}}{{#casterlevel}} **+**{{casterlevel}}{{/casterlevel}}</div>
                                            <div class="sheet-roll-cell"><span class="sheet-right">**=**{{spellPen_chk}}</span></div>
                                        </div>
                                    {{/spellPen_chk}}{{/sr}}
                            {{/casterlevel_chk}}
                            {{#Concentration_chk}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="concentration-check">Concentration Check</span>**{{#Concentration}} **+**{{Concentration}}{{/Concentration}}</div>
                                    <div class="sheet-roll-cell">**=**{{Concentration_chk}}</div>
                                </div>
                                {{#cast_def}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell">**<span data-i18n="cast-defensively" style="margin-left:1em;">Cast Defensively</span>** **+**{{cast_def}}**vs**</div>
                                        <div class="sheet-roll-cell">{{#cast_defDC}}**<span data-i18n="difficulty-class-defensively-abbrv">Def. DC</span>:**&nbsp;{{cast_defDC}}{{/cast_defDC}}</div>
                                    </div>
                                {{/cast_def}}
                            {{/Concentration_chk}}
                            {{#spell_fail_check}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="spell-failure-chk">Spell Failure Check</span>**</div>
                                    <div class="sheet-roll-cell">**=**{{spell_fail_check}}</div>
                                </div>
                                {{#spell_fail}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell">**<span data-i18n="spell-failure-chance" style="margin-left:1em;">vs Spell Failure Chance</span> {{spell_fail}}%**</div>
                                        <div class="sheet-roll-cell"></div>
                                    </div>
                                {{/spell_fail}}
                            {{/spell_fail_check}}
                            {{#spelldamage}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**{{#spelldamagetype}}<span data-i18n-title="damage-type"> - {{spelldamagetype}}</span>{{/spelldamagetype}}</div>
                                    <div class="sheet-roll-cell">**=**{{spelldamage}}</div>
                                </div>
                            {{/spelldamage}}
                            {{#attack}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="attack">Attack</span>**</div>
                                    <div class="sheet-roll-cell">{{attack}}</div>
                                </div>
                                {{#crit_confirm}}{{#rollWasCrit() attack}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div>
                                            <div class="sheet-roll-cell">{{crit_confirm}}</div>
                                        </div>
                                    {{/rollWasCrit() attack}}{{/crit_confirm}}
                                {{#damage}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**{{#type}}<span data-i18n-title="damage-type">- {{type}}</span>{{/type}}</div>
                                        <div class="sheet-roll-cell">{{damage}}</div>
                                    </div>
                                {{/damage}}
                                {{#crit_damage}}{{#rollWasCrit() attack}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-damage">Crit Damage</span>**</div>
                                            <div class="sheet-roll-cell">+{{crit_damage}}</div>
                                        </div>
                                    {{/rollWasCrit() attack}}{{/crit_damage}}
                            {{/attack}}
                            {{^attack}}{{#damage}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**{{#type}}<span data-i18n-title="damage-type">- {{type}}</span>{{/type}}</div>
                                        <div class="sheet-roll-cell">+{{damage}}</div>
                                    </div>
                                {{/damage}}{{/attack}}
                            {{#attack2}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="attack-2">Attack 2</span>**</div>
                                    <div class="sheet-roll-cell">{{attack2}}</div>
                                </div>
                                {{#crit_confirm2}}{{#rollWasCrit() attack2}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div>
                                            <div class="sheet-roll-cell">{{crit_confirm2}}</div>
                                        </div>
                                    {{/rollWasCrit() attack2}}{{/crit_confirm2}}
                                {{#damage2}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**{{#type2}}<span data-i18n-title="damage-type">- {{type2}}</span>{{/type2}}</div>
                                        <div class="sheet-roll-cell">{{damage2}}</div>
                                    </div>
                                {{/damage2}}
                                {{#crit_damage2}}{{#rollWasCrit() attack2}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-damage">Crit Damage</span>**</div>
                                            <div class="sheet-roll-cell">+{{crit_damage2}}</div>
                                        </div>
                                    {{/rollWasCrit() attack2}}{{/crit_damage2}}
                            {{/attack2}}
                            {{^attack2}}{{#damage2}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**{{#type2}}<span data-i18n-title="damage-type">- {{type2}}</span>{{/type2}}</div>
                                        <div class="sheet-roll-cell">+{{damage2}}</div>
                                    </div>
                                {{/damage2}}{{/attack2}}
                            {{#attack3}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="attack-3">Attack 3</span>**</div>
                                    <div class="sheet-roll-cell">{{attack3}}</div>
                                </div>
                                {{#crit_confirm3}}{{#rollWasCrit() attack3}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div>
                                            <div class="sheet-roll-cell">{{crit_confirm3}}</div>
                                        </div>
                                    {{/rollWasCrit() attack3}}{{/crit_confirm3}}
                                {{#damage3}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**{{#type3}}<span data-i18n-title="damage-type">- {{type3}}</span>{{/type3}}</div>
                                        <div class="sheet-roll-cell">{{damage3}}</div>
                                    </div>
                                {{/damage3}}
                                {{#crit_damage3}}{{#rollWasCrit() attack3}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-damage">Crit Damage</span>**</div>
                                            <div class="sheet-roll-cell">+{{crit_damage3}}</div>
                                        </div>
                                    {{/rollWasCrit() attack3}}{{/crit_damage3}}
                            {{/attack3}}
                            {{^attack3}}{{#damage3}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**{{#type3}}<span data-i18n-title="damage-type">- {{type3}}</span>{{/type3}}</div>
                                        <div class="sheet-roll-cell">+{{damage3}}</div>
                                    </div>
                                {{/damage3}}{{/attack3}}
                            {{#attack4}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="attack-4">Attack 4</span>**</div>
                                    <div class="sheet-roll-cell">{{attack4}}</div>
                                </div>
                                {{#crit_confirm4}}{{#rollWasCrit() attack4}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div>
                                            <div class="sheet-roll-cell">{{crit_confirm4}}</div>
                                        </div>
                                    {{/rollWasCrit() attack4}}{{/crit_confirm4}}
                                {{#damage4}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**{{#type4}}<span data-i18n-title="damage-type">- {{type4}}</span>{{/type4}}</div>
                                        <div class="sheet-roll-cell">{{damage4}}</div>
                                    </div>
                                {{/damage4}}
                                {{#crit_damage4}}{{#rollWasCrit() attack4}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-damage">Crit Damage</span>**</div>
                                            <div class="sheet-roll-cell">+{{crit_damage4}}</div>
                                        </div>
                                    {{/rollWasCrit() attack4}}{{/crit_damage4}}
                            {{/attack4}}
                            {{^attack4}}{{#damage4}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**{{#type4}}<span data-i18n-title="damage-type">- {{type4}}</span>{{/type4}}</div>
                                        <div class="sheet-roll-cell">+{{damage4}}</div>
                                    </div>
                                {{/damage4}}{{/attack4}}
                            {{#allprops() font color accessible rounded spelldamage spelldamagetype spellclass class cast_defDC header_image character_name character_id name_link subtitle deafened_note school level casterlevel rangetext norangetext casting_time components range targets duration saving_throw dc sr Concentration spellPen cast_def Concentration_chk spellPen_chk casterlevel_chk description close medium long see_text personal touch number perlevel blank unknownrange spell_fail_check spell_fail attack damage type type2 type3 type4 crit_confirm crit_damage attack2 damage2 crit_confirm2 crit_damage2 attack3 damage3 crit_confirm3 crit_damage3 attack4 damage4 crit_confirm4 crit_damage4 spells_notes generic_note buff_note condition_note spelltracking1 spelltracking2 spelltracking3 spelltracking4 spelltracking5 spelltracking6 spelldescription1 spelldescription2 spelldescription3 spelldescription4 spelldescription5 spelldescription6 abilitytracking1 abilitytracking2 abilitytracking3 abilitytracking4 abilitytracking5 abilitytracking6 abilitydescription1 abilitydescription2 abilitydescription3 abilitydescription4 abilitydescription5 abilitydescription6 itemtracking1 itemtracking2 itemtracking3 itemtracking4 itemtracking5 itemtracking6 itemdescription1 itemdescription2 itemdescription3 itemdescription4 itemdescription5 itemdescription6 misctracking1 misctracking2 misctracking3 misctracking4 misctracking5 misctracking6 miscdescription1 miscdescription2 miscdescription3 miscdescription4 miscdescription5 miscdescription6 scroll_desc}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**{{key}}**:</div>
                                    <div class="sheet-roll-cell">{{value}}</div>
                                </div>
                            {{/allprops() font color accessible rounded spelldamage spelldamagetype spellclass class cast_defDC header_image character_name character_id name_link subtitle deafened_note school level casterlevel rangetext norangetext casting_time components range targets duration saving_throw dc sr Concentration spellPen cast_def Concentration_chk spellPen_chk casterlevel_chk description close medium long see_text personal touch number perlevel blank unknownrange spell_fail_check spell_fail attack damage type type2 type3 type4 crit_confirm crit_damage attack2 damage2 crit_confirm2 crit_damage2 attack3 damage3 crit_confirm3 crit_damage3 attack4 damage4 crit_confirm4 crit_damage4 spells_notes generic_note buff_note condition_note spelltracking1 spelltracking2 spelltracking3 spelltracking4 spelltracking5 spelltracking6 spelldescription1 spelldescription2 spelldescription3 spelldescription4 spelldescription5 spelldescription6 abilitytracking1 abilitytracking2 abilitytracking3 abilitytracking4 abilitytracking5 abilitytracking6 abilitydescription1 abilitydescription2 abilitydescription3 abilitydescription4 abilitydescription5 abilitydescription6 itemtracking1 itemtracking2 itemtracking3 itemtracking4 itemtracking5 itemtracking6 itemdescription1 itemdescription2 itemdescription3 itemdescription4 itemdescription5 itemdescription6 misctracking1 misctracking2 misctracking3 misctracking4 misctracking5 misctracking6 miscdescription1 miscdescription2 miscdescription3 miscdescription4 miscdescription5 miscdescription6 scroll_desc}}
                        </div>
                    </div>
                    <div class="sheet-roll-group">
                        {{#description}}
                            <div class="sheet-roll-row sheet-roll-description {{scroll_desc}}">
                                <div class="sheet-roll-cell">{{description}}</div>
                            </div>
                        {{/description}}
                        {{#spells_notes}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">**<span data-i18n="spells-notes">Spells Notes</span>:**{{spells_notes}}</div>
                            </div>
                        {{/spells_notes}}
                        {{#generic_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{generic_note}}</div>
                            </div>
                        {{/generic_note}}
                        {{#buff_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{buff_note}}</div>
                            </div>
                        {{/buff_note}}
                        {{#condition_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{condition_note}}</div>
                            </div>
                        {{/condition_note}}
                        {{#deafened_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">**<span data-i18n="deafened">Deafened</span>:**<span data-i18n="condition-deafened-spellonly">Has a 20% chance of spell failure when casting spells with verbal components.</span></div>
                            </div>
                        {{/deafened_note}}
                        {{#spelltracking1}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription1}}{{spelldescription1}}:<span class="sheet-pictos">{{spelltracking1}}</span>{{/spelldescription1}}{{^spelldescription1}}<span data-i18n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking1}}</span>{{/spelldescription1}}</div>
                            </div>
                        {{/spelltracking1}}
                        {{#spelltracking2}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription2}}{{spelldescription2}}:<span class="sheet-pictos">{{spelltracking2}}</span>{{/spelldescription2}}{{^spelldescription2}}<span data-i28n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking2}}</span>{{/spelldescription2}}</div>
                            </div>
                        {{/spelltracking2}}
                        {{#spelltracking3}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription3}}{{spelldescription3}}:<span class="sheet-pictos">{{spelltracking3}}</span>{{/spelldescription3}}{{^spelldescription3}}<span data-i38n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking3}}</span>{{/spelldescription3}}</div>
                            </div>
                        {{/spelltracking3}}
                        {{#spelltracking4}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription4}}{{spelldescription4}}:<span class="sheet-pictos">{{spelltracking4}}</span>{{/spelldescription4}}{{^spelldescription4}}<span data-i48n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking4}}</span>{{/spelldescription4}}</div>
                            </div>
                        {{/spelltracking4}}
                        {{#spelltracking5}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription5}}{{spelldescription5}}:<span class="sheet-pictos">{{spelltracking5}}</span>{{/spelldescription5}}{{^spelldescription5}}<span data-i58n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking5}}</span>{{/spelldescription5}}</div>
                            </div>
                        {{/spelltracking5}}
                        {{#spelltracking6}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription6}}{{spelldescription6}}:<span class="sheet-pictos">{{spelltracking6}}</span>{{/spelldescription6}}{{^spelldescription6}}<span data-i68n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking6}}</span>{{/spelldescription6}}</div>
                            </div>
                        {{/spelltracking6}}

                        {{#abilitytracking1}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription1}}{{abilitydescription1}}:<span class="sheet-pictos">{{abilitytracking1}}</span>{{/abilitydescription1}}{{^abilitydescription1}}<span data-i18n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking1}}</span>{{/abilitydescription1}}</div>
                            </div>
                        {{/abilitytracking1}}
                        {{#abilitytracking2}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription2}}{{abilitydescription2}}:<span class="sheet-pictos">{{abilitytracking2}}</span>{{/abilitydescription2}}{{^abilitydescription2}}<span data-i28n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking2}}</span>{{/abilitydescription2}}</div>
                            </div>
                        {{/abilitytracking2}}
                        {{#abilitytracking3}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription3}}{{abilitydescription3}}:<span class="sheet-pictos">{{abilitytracking3}}</span>{{/abilitydescription3}}{{^abilitydescription3}}<span data-i38n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking3}}</span>{{/abilitydescription3}}</div>
                            </div>
                        {{/abilitytracking3}}
                        {{#abilitytracking4}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription4}}{{abilitydescription4}}:<span class="sheet-pictos">{{abilitytracking4}}</span>{{/abilitydescription4}}{{^abilitydescription4}}<span data-i48n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking4}}</span>{{/abilitydescription4}}</div>
                            </div>
                        {{/abilitytracking4}}
                        {{#abilitytracking5}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription5}}{{abilitydescription5}}:<span class="sheet-pictos">{{abilitytracking5}}</span>{{/abilitydescription5}}{{^abilitydescription5}}<span data-i58n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking5}}</span>{{/abilitydescription5}}</div>
                            </div>
                        {{/abilitytracking5}}
                        {{#abilitytracking6}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription6}}{{abilitydescription6}}:<span class="sheet-pictos">{{abilitytracking6}}</span>{{/abilitydescription6}}{{^abilitydescription6}}<span data-i68n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking6}}</span>{{/abilitydescription6}}</div>
                            </div>
                        {{/abilitytracking6}}

                        {{#itemtracking1}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription1}}{{itemdescription1}}:<span class="sheet-pictos">{{itemtracking1}}</span>{{/itemdescription1}}{{^itemdescription1}}<span data-i18n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking1}}</span>{{/itemdescription1}}</div>
                            </div>
                        {{/itemtracking1}}
                        {{#itemtracking2}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription2}}{{itemdescription2}}:<span class="sheet-pictos">{{itemtracking2}}</span>{{/itemdescription2}}{{^itemdescription2}}<span data-i28n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking2}}</span>{{/itemdescription2}}</div>
                            </div>
                        {{/itemtracking2}}
                        {{#itemtracking3}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription3}}{{itemdescription3}}:<span class="sheet-pictos">{{itemtracking3}}</span>{{/itemdescription3}}{{^itemdescription3}}<span data-i38n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking3}}</span>{{/itemdescription3}}</div>
                            </div>
                        {{/itemtracking3}}
                        {{#itemtracking4}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription4}}{{itemdescription4}}:<span class="sheet-pictos">{{itemtracking4}}</span>{{/itemdescription4}}{{^itemdescription4}}<span data-i48n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking4}}</span>{{/itemdescription4}}</div>
                            </div>
                        {{/itemtracking4}}
                        {{#itemtracking5}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription5}}{{itemdescription5}}:<span class="sheet-pictos">{{itemtracking5}}</span>{{/itemdescription5}}{{^itemdescription5}}<span data-i58n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking5}}</span>{{/itemdescription5}}</div>
                            </div>
                        {{/itemtracking5}}
                        {{#itemtracking6}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription6}}{{itemdescription6}}:<span class="sheet-pictos">{{itemtracking6}}</span>{{/itemdescription6}}{{^itemdescription6}}<span data-i68n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking6}}</span>{{/itemdescription6}}</div>
                            </div>
                        {{/itemtracking6}}

                        {{#misctracking1}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription1}}{{miscdescription1}}:<span class="sheet-pictos">{{misctracking1}}</span>{{/miscdescription1}}{{^miscdescription1}}<span data-i18n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking1}}</span>{{/miscdescription1}}</div>
                            </div>
                        {{/misctracking1}}
                        {{#misctracking2}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription2}}{{miscdescription2}}:<span class="sheet-pictos">{{misctracking2}}</span>{{/miscdescription2}}{{^miscdescription2}}<span data-i28n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking2}}</span>{{/miscdescription2}}</div>
                            </div>
                        {{/misctracking2}}
                        {{#misctracking3}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription3}}{{miscdescription3}}:<span class="sheet-pictos">{{misctracking3}}</span>{{/miscdescription3}}{{^miscdescription3}}<span data-i38n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking3}}</span>{{/miscdescription3}}</div>
                            </div>
                        {{/misctracking3}}
                        {{#misctracking4}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription4}}{{miscdescription4}}:<span class="sheet-pictos">{{misctracking4}}</span>{{/miscdescription4}}{{^miscdescription4}}<span data-i48n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking4}}</span>{{/miscdescription4}}</div>
                            </div>
                        {{/misctracking4}}
                        {{#misctracking5}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription5}}{{miscdescription5}}:<span class="sheet-pictos">{{misctracking5}}</span>{{/miscdescription5}}{{^miscdescription5}}<span data-i58n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking5}}</span>{{/miscdescription5}}</div>
                            </div>
                        {{/misctracking5}}
                        {{#misctracking6}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription6}}{{miscdescription6}}:<span class="sheet-pictos">{{misctracking6}}</span>{{/miscdescription6}}{{^miscdescription6}}<span data-i68n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking6}}</span>{{/miscdescription6}}</div>
                            </div>
                        {{/misctracking6}}
                    </div>
                </div>
            {{/accessible}}
            {{#accessible}}
                <div class="sheet-roll-accessible {{#font}}font-{{font}}{{/font}} {{#color}}color-{{color}}{{/color}} {{#rounded}}rounded{{/rounded}}" role="presentation">
                    <h3 class="sheet-roll-header">
                        {{#character_name}}{{character_name}}{{#name}}: {{/name}}{{/character_name}}
                        {{#name}}{{name}}{{/name}}
                    </h3>
                    {{#subtitle}}
                        <h4>{{subtitle}}</h4>
                    {{/subtitle}}
                    <h4>Spell Details</h4>
                    {{#level}}<label>**<span data-i18n="spell-level">Spell Level</span>:**<span>{{#spellclass}} {{spellclass}},{{/spellclass}}{{#class}} {{class}},{{/class}} {{level}}</span></label>{{/level}}
                    {{#school}}<label>**<span data-i18n="school">School</span>:**<span>{{school}}</span></label>{{/school}}
                    {{#casting_time}}<label>**<span data-i18n="casting-time">Casting Time</span>:**<span>{{casting_time}}</span></label>{{/casting_time}}
                    {{#components}}<label>**<span data-i18n="spell-components">Components</span>:**<span>{{components}}</span></label>{{/components}}
                    {{#range}}<label>
                            **<span data-i18n="range">Range</span>:**<span>
                                {{#close}}{{range}} (<span data-i18n="close">Close</span>){{/close}}
                                    {{#medium}}{{range}} (<span data-i18n="medium">Medium</span>){{/medium}}
                                        {{#long}}{{range}} (<span data-i18n="long">Long</span>){{/long}}
                                            {{#see_text}}<span data-i18n="see-text">See text</span>{{/see_text}}
                                            {{#personal}}<span data-i18n="personal">Personal</span>{{/personal}}
                                            {{#touch}}<span data-i18n="touch">Touch</span>{{/touch}}
                                            {{#number}}{{range}}{{/number}}
                                            {{#perlevel}}{{range}} {{#rangetext}}({{rangetext}} <span data-i18n="perlevel">Per Level</span>){{/rangetext}}{{/perlevel}}
                                                    {{^perlevel}}{{#rangetext}}({{rangetext}}){{/rangetext}}{{/perlevel}}
                            </span>
                        </label>{{/range}}
                    {{#targets}}<label>**<span data-i18n="effects-target">Effects/Target</span>:**<span>{{targets}}</span></label>{{/targets}}
                    {{#duration}}<label>**<span data-i18n="duration">Duration</span>:**<span>{{duration}}</span></label>{{/duration}}
                    {{#sr}}<label>**<span data-i18n="spell-resistance">Spell Resistance</span>:**<span>{{sr}}</span></label>{{/sr}}
                    {{#saving_throw}}<label>**<span data-i18n="save">Save</span>:** <span>{{saving_throw}}</span><span class="sheet-right">{{#dc}}**<span data-i18n="difficulty-class-abbrv">DC</span>**<span>&nbsp;{{dc}}</span>{{/dc}}</span></label>{{/saving_throw}}
                    {{^casterlevel_chk}}
                        {{#casterlevel}}
                            <label>**<span data-i18n="caster-level">Caster Level</span>:**<span class="sheet-right">{{casterlevel}}</span></label>{{/casterlevel}}
                        {{#sr}}{{#spellPen_chk}}<label>**<span data-i18n="overcome-spell-resistance-abbrv" style="margin-left:1em;">Overcome SR</span>**{{#spellPen}} **+**{{spellPen}}{{/spellPen}}<span class="sheet-right">**=**{{spellPen_chk}}</span></label>{{/spellPen_chk}}{{/sr}}
                    {{/casterlevel_chk}}
                    {{^Concentration_chk}}{{#Concentration}}
                            {{#cast_def}}<label>**<span data-i18n="concentration">Concentration</span>**<span class="sheet-right"> **+**{{Concentration}}</span></label>
                                <label>**<span data-i18n="cast-defensively" style="margin-left:1em;">Cast Defensively</span>:** **+**{{cast_def}}vs<span class="sheet-right">{{#cast_defDC}}**<span data-i18n="difficulty-class-defensively-abbrv">Def. DC</span>**&nbsp;<span>{{cast_defDC}}</span>{{/cast_defDC}}</span></label>{{/cast_def}}
                        {{/Concentration}}{{/Concentration_chk}}
                    {{#casterlevel_chk}}
                        <h4 data-i18n="rolls">Rolls</h4>
                    {{/casterlevel_chk}}
                    {{^casterlevel_chk}}{{#Concentration_chk}}
                            <h4>Rolls</h4>
                        {{/Concentration_chk}}{{/casterlevel_chk}}
                    {{#casterlevel_chk}}<label>**<span data-i18n="caster-level-check">Caster Level Check</span>**{{#casterlevel}} **+**{{casterlevel}}{{/casterlevel}}<span class="sheet-right"> **=**{{casterlevel_chk}}</span></label>
                        {{#sr}}{{#spellPen_chk}}<label>**<span data-i18n="overcome-spell-resistance-abbrv" style="margin-left:1em;">Overcome SR</span>**{{#casterlevel}} **+**{{casterlevel}}{{/casterlevel}}{{#spellPen}} **+**{{spellPen}}{{/spellPen}}<span class="sheet-right">**=**{{spellPen_chk}}</span></label>{{/spellPen_chk}}{{/sr}}
                    {{/casterlevel_chk}}
                    {{#Concentration_chk}}<label>**<span data-i18n="concentration-check">Concentration Check</span>**{{#Concentration}} **+**{{Concentration}}{{/Concentration}}<span class="sheet-right">**=**{{Concentration_chk}}</span></label>
                        {{#cast_def}}<label>**<span data-i18n="cast-defensively" style="margin-left:1em;">Cast Defensively</span>:** **+**{{cast_def}}**vs**<span class="sheet-right">{{#cast_defDC}}**<span data-i18n="difficulty-class-defensively-abbrv">Def. DC</span>**&nbsp;<span>{{cast_defDC}}</span>{{/cast_defDC}}</span></label>{{/cast_def}}
                    {{/Concentration_chk}}{{#spell_fail_check}}
                        <label>
                            <span>
                                **<span data-i18n="spell-failure-chk">Spell Failure Check</span>**
                                <span class="sheet-right">**=**{{spell_fail_check}}</span>
                            </span>
                        </label>
                        {{#spell_fail}}
                            <label>
                                <span>
                                    **<span data-i18n="spell-failure-chance" style="margin-left:1em;">vs Spell Failure Chance</span> {{spell_fail}}%**
                                    <span class="sheet-right"></span>
                                </span>
                            </label>
                        {{/spell_fail}}
                    {{/spell_fail_check}}
                    {{#spelldamage}}
                        <label>
                            <span>
                                **<span data-i18n="damage">Damage</span>**
                                <span>{{#spelldamagetype}}<span data-i18n-title="damage-type"> - {{spelldamagetype}}</span>{{/spelldamagetype}}
                                    <span class="sheet-right">**=**{{spelldamage}}</span>
                                </span>
                        </label>
                    {{/spelldamage}}
                    {{#attack}}
                        <h4>Attack:</h4>
                        <label>**<span data-i18n="attack">Attack</span>:**<span class="sheet-right">{{attack}}</span></label>
                        {{#crit_confirm}}{{#rollWasCrit() attack}}<label>**<span data-i18n="critical-confirm">Crit Confirm</span>**<span class="sheet-right">{{crit_confirm}}</span></label>{{/rollWasCrit() attack}}{{/crit_confirm}}
                        {{#damage}}<label>**<span data-i18n="damage">Damage</span>** {{#type}}<span data-i18n="type">Type</span>:<span>- {{type}}</span>{{/type}}<span class="sheet-right">{{damage}}</span></label>{{/damage}}
                        {{#crit_damage}}{{#rollWasCrit() attack}}<label>**<span data-i18n="critical-damage">Crit Damage</span>**<span class="sheet-right">+{{crit_damage}}</span></label>{{/rollWasCrit() attack}}{{/crit_damage}}
                    {{/attack}}
                    {{^attack}}
                        {{#damage}}<label>**<span data-i18n="damage">Damage</span>** {{#type}}<span data-i18n="type">Type</span>:<span>- {{type}}</span>{{/type}}<span class="sheet-right">+{{damage}}</span></label>{{/damage}}
                    {{/attack}}
                    {{#attack2}}
                        <h4>Attack 2:</h4>
                        <label>**<span data-i18n="attack-2">Attack 2</span>:**<span class="sheet-right">{{attack2}}</span></label>
                        {{#crit_confirm2}}{{#rollWasCrit() attack2}}<label>**<span data-i18n="critical-confirm">Crit Confirm</span>**<span class="sheet-right">{{crit_confirm2}}</span></label>{{/rollWasCrit() attack2}}{{/crit_confirm2}}
                        {{#damage2}}<label>**<span data-i18n="damage">Damage</span>** {{#type2}}<span data-i18n="type">Type</span>:<span>- {{type2}}</span>{{/type2}}<span class="sheet-right">{{damage2}}</span></label>{{/damage2}}
                        {{#crit_damage2}}{{#rollWasCrit() attack2}}<label>**<span data-i18n="critical-damage">Crit Damage</span>**<span class="sheet-right">+{{crit_damage2}}</span></label>{{/rollWasCrit() attack2}}{{/crit_damage2}}
                    {{/attack2}}
                    {{^attack2}}
                        {{#damage2}}<label>**<span data-i18n="damage">Damage</span>** {{#type2}}<span data-i18n="type">Type</span>:<span>- {{type2}}</span>{{/type2}}<span class="sheet-right">+{{damage2}}</span></label>{{/damage2}}
                    {{/attack2}}
                    {{#attack3}}
                        <h4>Attack 3:</h4>
                        <label>**<span data-i18n="attack-3">Attack 3</span>:**<span class="sheet-right">{{attack3}}</span></label>
                        {{#crit_confirm3}}{{#rollWasCrit() attack3}}<label>**<span data-i18n="critical-confirm">Crit Confirm</span>**<span class="sheet-right">{{crit_confirm3}}</span></label>{{/rollWasCrit() attack3}}{{/crit_confirm3}}
                        {{#damage3}}<label>**<span data-i18n="damage">Damage</span>** {{#type3}}<span data-i18n="type">Type</span>:<span>- {{type3}}</span>{{/type3}}<span class="sheet-right">{{damage3}}</span></label>{{/damage3}}
                        {{#crit_damage3}}{{#rollWasCrit() attack3}}<label>**<span data-i18n="critical-damage">Crit Damage</span>**<span class="sheet-right">+{{crit_damage3}}</span></label>{{/rollWasCrit() attack3}}{{/crit_damage3}}
                    {{/attack3}}
                    {{^attack3}}
                        {{#damage3}}<label>**<span data-i18n="damage">Damage</span>** {{#type3}}<span data-i18n="type">Type</span>:<span>- {{type3}}</span>{{/type3}}<span class="sheet-right">+{{damage3}}</span></label>{{/damage3}}
                    {{/attack3}}
                    {{#attack4}}
                        <h4>Attack 4:</h4>
                        <label>**<span data-i18n="attack-4">Attack 4</span>:**<span class="sheet-right">{{attack4}}</span></label>
                        {{#crit_confirm4}}{{#rollWasCrit() attack4}}<label>**<span data-i18n="critical-confirm">Crit Confirm</span>**<span class="sheet-right">{{crit_confirm4}}</span></label>{{/rollWasCrit() attack4}}{{/crit_confirm4}}
                        {{#damage4}}<label>**<span data-i18n="damage">Damage</span>** {{#type4}}<span data-i18n="type">Type</span>:<span>- {{type4}}</span>{{/type4}}<span class="sheet-right">{{damage4}}</span></label>{{/damage4}}
                        {{#crit_damage4}}{{#rollWasCrit() attack4}}<label>**<span data-i18n="critical-damage">Crit Damage</span>**<span class="sheet-right">+{{crit_damage4}}</span></label>{{/rollWasCrit() attack4}}{{/crit_damage4}}
                    {{/attack4}}
                    {{^attack4}}
                        {{#damage4}}<label>**<span data-i18n="damage">Damage</span>** {{#type4}}<span data-i18n="type">Type</span>:<span>- {{type4}}</span>{{/type4}}<span class="sheet-right">+{{damage4}}</span></label>{{/damage4}}
                    {{/attack4}}
                    {{#allprops() font color accessible rounded spelldamage spelldamagetype spellclass class cast_defDC header_image character_name character_id name_link subtitle deafened_note school level casterlevel rangetext norangetext casting_time components range targets duration saving_throw dc sr Concentration spellPen cast_def Concentration_chk spellPen_chk casterlevel_chk description close medium long see_text personal touch number perlevel blank unknownrange spell_fail_check spell_fail attack damage type type2 type3 type4 crit_confirm crit_damage attack2 damage2 crit_confirm2 crit_damage2 attack3 damage3 crit_confirm3 crit_damage3 attack4 damage4 crit_confirm4 crit_damage4 spells_notes generic_note buff_note condition_note spelltracking1 spelltracking2 spelltracking3 spelltracking4 spelltracking5 spelltracking6 spelldescription1 spelldescription2 spelldescription3 spelldescription4 spelldescription5 spelldescription6 abilitytracking1 abilitytracking2 abilitytracking3 abilitytracking4 abilitytracking5 abilitytracking6 abilitydescription1 abilitydescription2 abilitydescription3 abilitydescription4 abilitydescription5 abilitydescription6 itemtracking1 itemtracking2 itemtracking3 itemtracking4 itemtracking5 itemtracking6 itemdescription1 itemdescription2 itemdescription3 itemdescription4 itemdescription5 itemdescription6 misctracking1 misctracking2 misctracking3 misctracking4 misctracking5 misctracking6 miscdescription1 miscdescription2 miscdescription3 miscdescription4 miscdescription5 miscdescription6 scroll_desc}}
                        <label>**{{key}}**:<span class="sheet-right">{{value}}</span></label>
                    {{/allprops() font color accessible rounded spelldamage spelldamagetype spellclass class cast_defDC header_image character_name character_id name_link subtitle deafened_note school level casterlevel rangetext norangetext casting_time components range targets duration saving_throw dc sr Concentration spellPen cast_def Concentration_chk spellPen_chk casterlevel_chk description close medium long see_text personal touch number perlevel blank unknownrange spell_fail_check spell_fail attack damage type type2 type3 type4 crit_confirm crit_damage attack2 damage2 crit_confirm2 crit_damage2 attack3 damage3 crit_confirm3 crit_damage3 attack4 damage4 crit_confirm4 crit_damage4 spells_notes generic_note buff_note condition_note spelltracking1 spelltracking2 spelltracking3 spelltracking4 spelltracking5 spelltracking6 spelldescription1 spelldescription2 spelldescription3 spelldescription4 spelldescription5 spelldescription6 abilitytracking1 abilitytracking2 abilitytracking3 abilitytracking4 abilitytracking5 abilitytracking6 abilitydescription1 abilitydescription2 abilitydescription3 abilitydescription4 abilitydescription5 abilitydescription6 itemtracking1 itemtracking2 itemtracking3 itemtracking4 itemtracking5 itemtracking6 itemdescription1 itemdescription2 itemdescription3 itemdescription4 itemdescription5 itemdescription6 misctracking1 misctracking2 misctracking3 misctracking4 misctracking5 misctracking6 miscdescription1 miscdescription2 miscdescription3 miscdescription4 miscdescription5 miscdescription6 scroll_desc}}
                    {{#description}}<span class="sheet-roll-description {{scroll_desc}}">{{description}}</span>{{/description}}
                    {{#generic_note}}<span class="sheet-roll-description">{{generic_note}}</span>{{/generic_note}}
                    {{#buff_note}}<span class="sheet-roll-description">{{buff_note}}</span>{{/buff_note}}
                    {{#condition_note}}<span class="sheet-roll-description">{{condition_note}}</span>{{/condition_note}}
                    {{#spells_notes}}
                        <h4 data-i18n="description">Spells Notes</h4><span class="sheet-roll-description">{{spells_notes}}</span>
                    {{/spells_notes}}
                    {{#deafened_note}}
                        <h4 data-i18n="deafened">Deafened</h4>
                        <label><span data-i18n="condition-deafened-spellonly">Has a 20% chance of spell failure when casting spells with verbal components.</span></label>
                    {{/deafened_note}}

                    {{#spelltracking1}}<label class="sheet-pfctracking">{{#spelldescription1}}{{spelldescription1}}:<span class="sheet-pictos">{{spelltracking1}}</span>{{/spelldescription1}}{{^spelldescription1}}<span data-i18n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking1}}</span>{{/spelldescription1}}</label>{{/spelltracking1}}
                    {{#spelltracking2}}<label class="sheet-pfctracking">{{#spelldescription2}}{{spelldescription2}}:<span class="sheet-pictos">{{spelltracking2}}</span>{{/spelldescription2}}{{^spelldescription2}}<span data-i28n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking2}}</span>{{/spelldescription2}}</label>{{/spelltracking2}}
                    {{#spelltracking3}}<label class="sheet-pfctracking">{{#spelldescription3}}{{spelldescription3}}:<span class="sheet-pictos">{{spelltracking3}}</span>{{/spelldescription3}}{{^spelldescription3}}<span data-i38n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking3}}</span>{{/spelldescription3}}</label>{{/spelltracking3}}
                    {{#spelltracking4}}<label class="sheet-pfctracking">{{#spelldescription4}}{{spelldescription4}}:<span class="sheet-pictos">{{spelltracking4}}</span>{{/spelldescription4}}{{^spelldescription4}}<span data-i48n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking4}}</span>{{/spelldescription4}}</label>{{/spelltracking4}}
                    {{#spelltracking5}}<label class="sheet-pfctracking">{{#spelldescription5}}{{spelldescription5}}:<span class="sheet-pictos">{{spelltracking5}}</span>{{/spelldescription5}}{{^spelldescription5}}<span data-i58n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking5}}</span>{{/spelldescription5}}</label>{{/spelltracking5}}
                    {{#spelltracking6}}<label class="sheet-pfctracking">{{#spelldescription6}}{{spelldescription6}}:<span class="sheet-pictos">{{spelltracking6}}</span>{{/spelldescription6}}{{^spelldescription6}}<span data-i68n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking6}}</span>{{/spelldescription6}}</label>{{/spelltracking6}}

                    {{#abilitytracking1}}<label class="sheet-pfctracking">{{#abilitydescription1}}{{abilitydescription1}}:<span class="sheet-pictos">{{abilitytracking1}}</span>{{/abilitydescription1}}{{^abilitydescription1}}<span data-i18n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking1}}</span>{{/abilitydescription1}}</label>{{/abilitytracking1}}
                    {{#abilitytracking2}}<label class="sheet-pfctracking">{{#abilitydescription2}}{{abilitydescription2}}:<span class="sheet-pictos">{{abilitytracking2}}</span>{{/abilitydescription2}}{{^abilitydescription2}}<span data-i28n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking2}}</span>{{/abilitydescription2}}</label>{{/abilitytracking2}}
                    {{#abilitytracking3}}<label class="sheet-pfctracking">{{#abilitydescription3}}{{abilitydescription3}}:<span class="sheet-pictos">{{abilitytracking3}}</span>{{/abilitydescription3}}{{^abilitydescription3}}<span data-i38n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking3}}</span>{{/abilitydescription3}}</label>{{/abilitytracking3}}
                    {{#abilitytracking4}}<label class="sheet-pfctracking">{{#abilitydescription4}}{{abilitydescription4}}:<span class="sheet-pictos">{{abilitytracking4}}</span>{{/abilitydescription4}}{{^abilitydescription4}}<span data-i48n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking4}}</span>{{/abilitydescription4}}</label>{{/abilitytracking4}}
                    {{#abilitytracking5}}<label class="sheet-pfctracking">{{#abilitydescription5}}{{abilitydescription5}}:<span class="sheet-pictos">{{abilitytracking5}}</span>{{/abilitydescription5}}{{^abilitydescription5}}<span data-i58n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking5}}</span>{{/abilitydescription5}}</label>{{/abilitytracking5}}
                    {{#abilitytracking6}}<label class="sheet-pfctracking">{{#abilitydescription6}}{{abilitydescription6}}:<span class="sheet-pictos">{{abilitytracking6}}</span>{{/abilitydescription6}}{{^abilitydescription6}}<span data-i68n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking6}}</span>{{/abilitydescription6}}</label>{{/abilitytracking6}}

                    {{#itemtracking1}}<label class="sheet-pfctracking">{{#itemdescription1}}{{itemdescription1}}:<span class="sheet-pictos">{{itemtracking1}}</span>{{/itemdescription1}}{{^itemdescription1}}<span data-i18n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking1}}</span>{{/itemdescription1}}</label>{{/itemtracking1}}
                    {{#itemtracking2}}<label class="sheet-pfctracking">{{#itemdescription2}}{{itemdescription2}}:<span class="sheet-pictos">{{itemtracking2}}</span>{{/itemdescription2}}{{^itemdescription2}}<span data-i28n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking2}}</span>{{/itemdescription2}}</label>{{/itemtracking2}}
                    {{#itemtracking3}}<label class="sheet-pfctracking">{{#itemdescription3}}{{itemdescription3}}:<span class="sheet-pictos">{{itemtracking3}}</span>{{/itemdescription3}}{{^itemdescription3}}<span data-i38n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking3}}</span>{{/itemdescription3}}</label>{{/itemtracking3}}
                    {{#itemtracking4}}<label class="sheet-pfctracking">{{#itemdescription4}}{{itemdescription4}}:<span class="sheet-pictos">{{itemtracking4}}</span>{{/itemdescription4}}{{^itemdescription4}}<span data-i48n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking4}}</span>{{/itemdescription4}}</label>{{/itemtracking4}}
                    {{#itemtracking5}}<label class="sheet-pfctracking">{{#itemdescription5}}{{itemdescription5}}:<span class="sheet-pictos">{{itemtracking5}}</span>{{/itemdescription5}}{{^itemdescription5}}<span data-i58n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking5}}</span>{{/itemdescription5}}</label>{{/itemtracking5}}
                    {{#itemtracking6}}<label class="sheet-pfctracking">{{#itemdescription6}}{{itemdescription6}}:<span class="sheet-pictos">{{itemtracking6}}</span>{{/itemdescription6}}{{^itemdescription6}}<span data-i68n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking6}}</span>{{/itemdescription6}}</label>{{/itemtracking6}}

                    {{#misctracking1}}<label class="sheet-pfctracking">{{#miscdescription1}}{{miscdescription1}}:<span class="sheet-pictos">{{misctracking1}}</span>{{/miscdescription1}}{{^miscdescription1}}<span data-i18n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking1}}</span>{{/miscdescription1}}</label>{{/misctracking1}}
                    {{#misctracking2}}<label class="sheet-pfctracking">{{#miscdescription2}}{{miscdescription2}}:<span class="sheet-pictos">{{misctracking2}}</span>{{/miscdescription2}}{{^miscdescription2}}<span data-i28n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking2}}</span>{{/miscdescription2}}</label>{{/misctracking2}}
                    {{#misctracking3}}<label class="sheet-pfctracking">{{#miscdescription3}}{{miscdescription3}}:<span class="sheet-pictos">{{misctracking3}}</span>{{/miscdescription3}}{{^miscdescription3}}<span data-i38n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking3}}</span>{{/miscdescription3}}</label>{{/misctracking3}}
                    {{#misctracking4}}<label class="sheet-pfctracking">{{#miscdescription4}}{{miscdescription4}}:<span class="sheet-pictos">{{misctracking4}}</span>{{/miscdescription4}}{{^miscdescription4}}<span data-i48n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking4}}</span>{{/miscdescription4}}</label>{{/misctracking4}}
                    {{#misctracking5}}<label class="sheet-pfctracking">{{#miscdescription5}}{{miscdescription5}}:<span class="sheet-pictos">{{misctracking5}}</span>{{/miscdescription5}}{{^miscdescription5}}<span data-i58n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking5}}</span>{{/miscdescription5}}</label>{{/misctracking5}}
                    {{#misctracking6}}<label class="sheet-pfctracking">{{#miscdescription6}}{{miscdescription6}}:<span class="sheet-pictos">{{misctracking6}}</span>{{/miscdescription6}}{{^miscdescription6}}<span data-i68n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking6}}</span>{{/miscdescription6}}</label>{{/misctracking6}}
                </div>
            {{/accessible}}
        </rolltemplate>
        <!-- Attack Roll Templates -->
        <rolltemplate class="sheet-rolltemplate-pf_attack">
            {{^accessible}}
                <div class="sheet-roll-table {{#font}}font-{{font}}{{/font}} {{#color}}color-{{color}}{{/color}} {{#rounded}}rounded{{/rounded}}" role="presentation">
                    <div class="sheet-roll-header">
                        {{#header_image}}<span class="sheet-header-image">{{header_image}}</span>{{/header_image}}
                        <span class="sheet-left">
                            {{#character_name}}
                                {{#character_id}}[{{character_name}}](https://journal.roll20.net/character/{{character_id}}){{/character_id}}
                                    {{^character_id}}{{character_name}}{{/character_id}}
                                    {{#name}}:{{/name}}
                            {{/character_name}}
                            {{#name}}
                                {{#name_link}}[{{name}}]({{name_link}}){{/name_link}}
                                    {{^name_link}}{{name}}{{/name_link}}
                            {{/name}}
                        </span>
                        {{#subtitle}}<span class="sheet-subtitle">{{subtitle}}</span>{{/subtitle}}
                    </div>
                    <div class="sheet-roll-table-inner">
                        <div class="sheet-roll-groupi">
                            {{^no_attack_roll}}{{#attack}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell sheet-atk">**{{^attack1name}}<span data-i18n="attack">Attack</span>{{/attack1name}}{{#attack1name}}{{attack1name}}{{/attack1name}}**</div>
                                        <div class="sheet-roll-cell sheet-left">{{attack}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</div>
                                    </div>
                                {{/attack}}{{/no_attack_roll}}
                            {{^no_damage}}{{#damage}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell sheet-dmg">**<span data-i18n="damage">Damage</span>**{{#type}}<span data-i18n-title="damage-type">- {{type}}</span>{{/type}}</div>
                                        <div class="sheet-roll-cell">{{^attack}}+{{/attack}}{{damage}}</div>
                                    </div>
                                {{/damage}}{{/no_damage}}
                            {{#precision_dmg1}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-dmg-x" data-i18n-title="precision-abbrv" data-i18n-aria-label="precision-abbrv">{{#precision_dmg1_type}}**{{precision_dmg1_type}}**{{/precision_dmg1_type}}{{^precision_dmg1_type}}**<span data-i18n="precision-abbrv">Extra Dmg</span>**{{/precision_dmg1_type}}</div>
                                    <div class="sheet-roll-cell">{{precision_dmg1}}</div>
                                </div>
                            {{/precision_dmg1}}
                            {{#precision_dmg2}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-dmg-x" data-i18n-title="precision-abbrv" data-i18n-aria-label="precision-abbrv">{{#precision_dmg2_type}}**{{precision_dmg2_type}}**{{/precision_dmg2_type}}{{^precision_dmg2_type}}**<span data-i18n="precision-abbrv">Extra Dmg</span>**{{/precision_dmg2_type}}</div>
                                    <div class="sheet-roll-cell">{{precision_dmg2}}</div>
                                </div>
                            {{/precision_dmg2}}
                        </div>
                        {{^no_attack_roll}}
                            <div class="sheet-roll-groupc">
                                {{#rollWasCrit() attack}}
                                    {{#crit_confirm}}
                                        <div class="sheet-roll-row sheet-crit-row">
                                            <div class="sheet-roll-cell sheet-confirm">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div>
                                            <div class="sheet-roll-cell sheet-left">{{crit_confirm}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</div>
                                        </div>
                                    {{/crit_confirm}}
                                    {{^no_damage}}{{#crit_damage}}
                                            <div class="sheet-roll-row">
                                                <div class="sheet-roll-cell sheet-crit-dmg">**<span data-i18n="critical-damage">Crit Damage</span>**</div>
                                                <div class="sheet-roll-cell">+{{crit_damage}}</div>
                                            </div>
                                        {{/crit_damage}}{{/no_damage}}
                                    {{#critical_dmg1}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell sheet-crit-dmg-x" data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{#critical_dmg1_type}}**{{critical_dmg1_type}}**{{/critical_dmg1_type}}{{^critical_dmg1_type}}**<span data-i18n="extra-critical-damage">Extra Crit Dmg</span>**{{/critical_dmg1_type}}</div>
                                            <div class="sheet-roll-cell">+{{critical_dmg1}}</div>
                                        </div>
                                    {{/critical_dmg1}}
                                    {{#critical_dmg2}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell sheet-crit-dmg-x" data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{#critical_dmg2_type}}**{{critical_dmg2_type}}**{{/critical_dmg2_type}}{{^critical_dmg2_type}}**<span data-i18n="extra-critical-damage">Extra Crit Dmg</span>**{{/critical_dmg2_type}}</div>
                                            <div class="sheet-roll-cell">+{{critical_dmg2}}</div>
                                        </div>
                                    {{/critical_dmg2}}
                                {{/rollWasCrit() attack}}
                            </div>
                        {{/no_attack_roll}}
                        {{#attack2}}
                            <div class="sheet-roll-iter-space"></div>
                        {{/attack2}}
                        <div class="sheet-roll-groupi">
                            {{^no_attack_roll}}{{#attack2}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell sheet-atk">**{{^attack2name}}<span data-i18n="attack-2-ordinal">2nd attack</span>{{/attack2name}}{{#attack2name}}{{attack2name}}{{/attack2name}}**</div>
                                        <div class="sheet-roll-cell sheet-left">{{attack2}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</div>
                                    </div>
                                {{/attack2}}{{/no_attack_roll}}
                            {{^no_damage}}{{#damage2}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell sheet-dmg">**<span data-i18n="damage">Damage</span>**{{#type2}}<span data-i18n-title="damage-type">- {{type2}}</span>{{/type2}}</div>
                                        <div class="sheet-roll-cell">{{^attack2}}+{{/attack2}}{{damage2}}</div>
                                    </div>
                                {{/damage2}}{{/no_damage}}
                            {{#precision_dmg21}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-dmg-x" data-i18n-title="precision-abbrv" data-i18n-aria-label="precision-abbrv">{{#precision_dmg1_type}}**{{precision_dmg1_type}}**{{/precision_dmg1_type}}{{^precision_dmg1_type}}**<span data-i18n="precision-abbrv">Extra Dmg</span>**{{/precision_dmg1_type}}</div>
                                    <div class="sheet-roll-cell">{{precision_dmg21}}</div>
                                </div>
                            {{/precision_dmg21}}
                            {{#precision_dmg22}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-dmg-x" data-i18n-title="precision-abbrv" data-i18n-aria-label="precision-abbrv">{{#precision_dmg2_type}}**{{precision_dmg2_type}}**{{/precision_dmg2_type}}{{^precision_dmg2_type}}**<span data-i18n="precision-abbrv">Extra Dmg</span>**{{/precision_dmg2_type}}</div>
                                    <div class="sheet-roll-cell">{{precision_dmg22}}</div>
                                </div>
                            {{/precision_dmg22}}
                        </div>
                        {{^no_attack_roll}}
                            <div class="sheet-roll-groupc">
                                {{#rollWasCrit() attack2}}
                                    {{#crit_confirm2}}
                                        <div class="sheet-roll-row sheet-crit-row">
                                            <div class="sheet-roll-cell sheet-confirm">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div>
                                            <div class="sheet-roll-cell sheet-left">{{crit_confirm2}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</div>
                                        </div>
                                    {{/crit_confirm2}}
                                    {{^no_damage}}{{#crit_damage2}}
                                            <div class="sheet-roll-row">
                                                <div class="sheet-roll-cell sheet-crit-dmg">**<span data-i18n="critical-damage">Crit damage</span>**</div>
                                                <div class="sheet-roll-cell">+{{crit_damage2}}</div>
                                            </div>
                                        {{/crit_damage2}}{{/no_damage}}
                                    {{#critical_dmg21}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell sheet-crit-dmg-x" data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{#critical_dmg1_type}}**{{critical_dmg1_type}}**{{/critical_dmg1_type}}{{^critical_dmg1_type}}**<span data-i18n="extra-critical-damage">Extra Crit Dmg</span>**{{/critical_dmg1_type}}</div>
                                            <div class="sheet-roll-cell">+{{critical_dmg21}}</div>
                                        </div>
                                    {{/critical_dmg21}}
                                    {{#critical_dmg22}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell sheet-crit-dmg-x" data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{#critical_dmg2_type}}**{{critical_dmg2_type}}**{{/critical_dmg2_type}}{{^critical_dmg2_type}}**<span data-i18n="extra-critical-damage">Extra Crit Dmg</span>**{{/critical_dmg2_type}}</div>
                                            <div class="sheet-roll-cell">+{{critical_dmg22}}</div>
                                        </div>
                                    {{/critical_dmg22}}
                                {{/rollWasCrit() attack2}}
                            </div>
                        {{/no_attack_roll}}
                        {{#attack3}}
                            <div class="sheet-roll-iter-space"></div>
                        {{/attack3}}
                        <div class="sheet-roll-groupi">
                            {{^no_attack_roll}}{{#attack3}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell sheet-atk">**{{^attack3name}}<span data-i18n="attack-3-ordinal">3nd attack</span>{{/attack3name}}{{#attack3name}}{{attack3name}}{{/attack3name}}**</div>
                                        <div class="sheet-roll-cell">{{attack3}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</div>
                                    </div>
                                {{/attack3}}{{/no_attack_roll}}
                            {{^no_damage}}{{#damage3}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell sheet-dmg">**<span data-i18n="damage">Damage</span>**{{#type3}}<span data-i18n-title="damage-type">- {{type3}}</span>{{/type3}}</div>
                                        <div class="sheet-roll-cell">{{^attack3}}+{{/attack3}}{{damage3}}</div>
                                    </div>
                                {{/damage3}}{{/no_damage}}
                            {{#precision_dmg31}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-dmg-x" data-i18n-title="precision-abbrv" data-i18n-aria-label="precision-abbrv">{{#precision_dmg1_type}}**{{precision_dmg1_type}}**{{/precision_dmg1_type}}{{^precision_dmg1_type}}**<span data-i18n="precision-abbrv">Extra Dmg</span>**{{/precision_dmg1_type}}</div>
                                    <div class="sheet-roll-cell">{{precision_dmg31}}</div>
                                </div>
                            {{/precision_dmg31}}
                            {{#precision_dmg32}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-dmg-x" data-i18n-title="precision-abbrv" data-i18n-aria-label="precision-abbrv">{{#precision_dmg2_type}}**{{precision_dmg2_type}}**{{/precision_dmg2_type}}{{^precision_dmg2_type}}**<span data-i18n="precision-abbrv">Extra Dmg</span>**{{/precision_dmg2_type}}</div>
                                    <div class="sheet-roll-cell">{{precision_dmg32}}</div>
                                </div>
                            {{/precision_dmg32}}
                        </div>
                        {{^no_attack_roll}}
                            <div class="sheet-roll-groupc">
                                {{#rollWasCrit() attack3}}
                                    {{#crit_confirm3}}
                                        <div class="sheet-roll-row sheet-crit-row">
                                            <div class="sheet-roll-cell sheet-confirm">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div>
                                            <div class="sheet-roll-cell sheet-left">{{crit_confirm3}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</div>
                                        </div>
                                    {{/crit_confirm3}}
                                    {{^no_damage}}{{#crit_damage3}}
                                            <div class="sheet-roll-row">
                                                <div class="sheet-roll-cell sheet-crit-dmg">**<span data-i18n="critical-damage">Crit damage</span>**</div>
                                                <div class="sheet-roll-cell">+{{crit_damage3}}</div>
                                            </div>
                                        {{/crit_damage3}}{{/no_damage}}
                                    {{#critical_dmg31}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell sheet-crit-dmg-x" data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{#critical_dmg1_type}}**{{critical_dmg1_type}}**{{/critical_dmg1_type}}{{^critical_dmg1_type}}**<span data-i18n="extra-critical-damage">Extra Crit Dmg</span>**{{/critical_dmg1_type}}</div>
                                            <div class="sheet-roll-cell">+{{critical_dmg31}}</div>
                                        </div>
                                    {{/critical_dmg31}}
                                    {{#critical_dmg32}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell sheet-crit-dmg-x" data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{#critical_dmg2_type}}**{{critical_dmg2_type}}**{{/critical_dmg2_type}}{{^critical_dmg2_type}}**<span data-i18n="extra-critical-damage">Extra Crit Dmg</span>**{{/critical_dmg2_type}}</div>
                                            <div class="sheet-roll-cell">+{{critical_dmg32}}</div>
                                        </div>
                                    {{/critical_dmg32}}
                                {{/rollWasCrit() attack3}}
                            </div>
                        {{/no_attack_roll}}
                        {{#attack4}}
                            <div class="sheet-roll-iter-space"></div>
                        {{/attack4}}
                        <div class="sheet-roll-groupi">
                            {{^no_attack_roll}}{{#attack4}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell sheet-atk">**{{^attack4name}}<span data-i18n="attack-4-ordinal">4nd attack</span>{{/attack4name}}{{#attack4name}}{{attack4name}}{{/attack4name}}**</div>
                                        <div class="sheet-roll-cell">{{attack4}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</div>
                                    </div>
                                {{/attack4}}{{/no_attack_roll}}
                            {{^no_damage}}{{#damage4}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell sheet-dmg">**<span data-i18n="damage">Damage</span>**{{#type4}}<span data-i18n-title="damage-type">- {{type4}}</span>{{/type4}}</div>
                                        <div class="sheet-roll-cell">{{^attack4}}+{{/attack4}}{{damage4}}</div>
                                    </div>
                                {{/damage4}}{{/no_damage}}
                            {{#precision_dmg41}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-dmg-x" data-i18n-title="precision-abbrv" data-i18n-aria-label="precision-abbrv">{{#precision_dmg1_type}}**{{precision_dmg1_type}}**{{/precision_dmg1_type}}{{^precision_dmg1_type}}**<span data-i18n="precision-abbrv">Extra Dmg</span>**{{/precision_dmg1_type}}</div>
                                    <div class="sheet-roll-cell">{{precision_dmg41}}</div>
                                </div>
                            {{/precision_dmg41}}
                            {{#precision_dmg42}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-dmg-x" data-i18n-title="precision-abbrv" data-i18n-aria-label="precision-abbrv">{{#precision_dmg2_type}}**{{precision_dmg2_type}}**{{/precision_dmg2_type}}{{^precision_dmg2_type}}**<span data-i18n="precision-abbrv">Extra Dmg</span>**{{/precision_dmg2_type}}</div>
                                    <div class="sheet-roll-cell">{{precision_dmg42}}</div>
                                </div>
                            {{/precision_dmg42}}
                        </div>
                        {{^no_attack_roll}}
                            <div class="sheet-roll-groupc">
                                {{#rollWasCrit() attack4}}
                                    {{#crit_confirm4}}
                                        <div class="sheet-roll-row sheet-crit-row">
                                            <div class="sheet-roll-cell sheet-confirm">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div>
                                            <div class="sheet-roll-cell sheet-left">{{crit_confirm4}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</div>
                                        </div>
                                    {{/crit_confirm4}}
                                    {{^no_damage}}{{#crit_damage4}}
                                            <div class="sheet-roll-row">
                                                <div class="sheet-roll-cell sheet-crit-dmg">**<span data-i18n="critical-damage">Crit damage</span>**</div>
                                                <div class="sheet-roll-cell">+{{crit_damage4}}</div>
                                            </div>
                                        {{/crit_damage4}}{{/no_damage}}
                                    {{#critical_dmg41}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell sheet-crit-dmg-x" data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{#critical_dmg1_type}}**{{critical_dmg1_type}}**{{/critical_dmg1_type}}{{^critical_dmg1_type}}**<span data-i18n="extra-critical-damage">Extra Crit Dmg</span>**{{/critical_dmg1_type}}</div>
                                            <div class="sheet-roll-cell">+{{critical_dmg41}}</div>
                                        </div>
                                    {{/critical_dmg41}}
                                    {{#critical_dmg42}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell sheet-crit-dmg-x" data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{#critical_dmg2_type}}**{{critical_dmg2_type}}**{{/critical_dmg2_type}}{{^critical_dmg2_type}}**<span data-i18n="extra-critical-damage">Extra Crit Dmg</span>**{{/critical_dmg2_type}}</div>
                                            <div class="sheet-roll-cell">+{{critical_dmg42}}</div>
                                        </div>
                                    {{/critical_dmg42}}
                                {{/rollWasCrit() attack4}}
                            </div>
                        {{/no_attack_roll}}
                        {{#attack5}}
                            <div class="sheet-roll-iter-space"></div>
                        {{/attack5}}
                        <div class="sheet-roll-groupi">
                            {{^no_attack_roll}}{{#attack5}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell sheet-atk">**{{^attack5name}}<span data-i18n="attack-5-ordinal">5nd attack</span>{{/attack5name}}{{#attack5name}}{{attack5name}}{{/attack5name}}**</div>
                                        <div class="sheet-roll-cell">{{attack5}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</div>
                                    </div>
                                {{/attack5}}{{/no_attack_roll}}
                            {{^no_damage}}{{#damage5}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell sheet-dmg">**<span data-i18n="damage">Damage</span>**{{#type5}}<span data-i18n-title="damage-type">- {{type5}}</span>{{/type5}}</div>
                                        <div class="sheet-roll-cell">{{^attack5}}+{{/attack5}}{{damage5}}</div>
                                    </div>
                                {{/damage5}}{{/no_damage}}
                            {{#precision_dmg51}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-dmg-x" data-i18n-title="precision-abbrv" data-i18n-aria-label="precision-abbrv">{{#precision_dmg1_type}}**{{precision_dmg1_type}}**{{/precision_dmg1_type}}{{^precision_dmg1_type}}**<span data-i18n="precision-abbrv">Extra Dmg</span>**{{/precision_dmg1_type}}</div>
                                    <div class="sheet-roll-cell">{{precision_dmg51}}</div>
                                </div>
                            {{/precision_dmg51}}
                            {{#precision_dmg52}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-dmg-x" data-i18n-title="precision-abbrv" data-i18n-aria-label="precision-abbrv">{{#precision_dmg2_type}}**{{precision_dmg2_type}}**{{/precision_dmg2_type}}{{^precision_dmg2_type}}**<span data-i18n="precision-abbrv">Extra Dmg</span>**{{/precision_dmg2_type}}</div>
                                    <div class="sheet-roll-cell">{{precision_dmg52}}</div>
                                </div>
                            {{/precision_dmg52}}
                        </div>
                        {{^no_attack_roll}}
                            <div class="sheet-roll-groupc">
                                {{#rollWasCrit() attack5}}
                                    {{#crit_confirm5}}
                                        <div class="sheet-roll-row sheet-crit-row">
                                            <div class="sheet-roll-cell sheet-confirm">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div>
                                            <div class="sheet-roll-cell sheet-left">{{crit_confirm5}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</div>
                                        </div>
                                    {{/crit_confirm5}}
                                    {{^no_damage}}{{#crit_damage5}}
                                            <div class="sheet-roll-row">
                                                <div class="sheet-roll-cell sheet-crit-dmg">**<span data-i18n="critical-damage">Crit damage</span>**</div>
                                                <div class="sheet-roll-cell">+{{crit_damage5}}</div>
                                            </div>
                                        {{/crit_damage5}}{{/no_damage}}
                                    {{#critical_dmg51}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell sheet-crit-dmg-x" data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{#critical_dmg1_type}}**{{critical_dmg1_type}}**{{/critical_dmg1_type}}{{^critical_dmg1_type}}**<span data-i18n="extra-critical-damage">Extra Crit Dmg</span>**{{/critical_dmg1_type}}</div>
                                            <div class="sheet-roll-cell">+{{critical_dmg51}}</div>
                                        </div>
                                    {{/critical_dmg51}}
                                    {{#critical_dmg52}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell sheet-crit-dmg-x" data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{#critical_dmg2_type}}**{{critical_dmg2_type}}**{{/critical_dmg2_type}}{{^critical_dmg2_type}}**<span data-i18n="extra-critical-damage">Extra Crit Dmg</span>**{{/critical_dmg2_type}}</div>
                                            <div class="sheet-roll-cell">+{{critical_dmg52}}</div>
                                        </div>
                                    {{/critical_dmg52}}
                                {{/rollWasCrit() attack5}}
                            </div>
                        {{/no_attack_roll}}
                        {{#attack6}}
                            <div class="sheet-roll-iter-space"></div>
                        {{/attack6}}
                        <div class="sheet-roll-groupi">
                            {{^no_attack_roll}}{{#attack6}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell sheet-atk">**{{^attack6name}}<span data-i18n="attack-6-ordinal">6nd attack</span>{{/attack6name}}{{#attack6name}}{{attack6name}}{{/attack6name}}**</div>
                                        <div class="sheet-roll-cell">{{attack6}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</div>
                                    </div>
                                {{/attack6}}{{/no_attack_roll}}
                            {{^no_damage}}{{#damage6}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell sheet-dmg">**<span data-i18n="damage">Damage</span>**{{#type6}}<span data-i18n-title="damage-type">- {{type6}}</span>{{/type6}}</div>
                                        <div class="sheet-roll-cell">{{^attack6}}+{{/attack6}}{{damage6}}</div>
                                    </div>
                                {{/damage6}}{{/no_damage}}
                            {{#precision_dmg61}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-dmg-x" data-i18n-title="precision-abbrv" data-i18n-aria-label="precision-abbrv">{{#precision_dmg1_type}}**{{precision_dmg1_type}}**{{/precision_dmg1_type}}{{^precision_dmg1_type}}**<span data-i18n="precision-abbrv">Extra Dmg</span>**{{/precision_dmg1_type}}</div>
                                    <div class="sheet-roll-cell">{{precision_dmg61}}</div>
                                </div>
                            {{/precision_dmg61}}
                            {{#precision_dmg62}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-dmg-x" data-i18n-title="precision-abbrv" data-i18n-aria-label="precision-abbrv">{{#precision_dmg2_type}}**{{precision_dmg2_type}}**{{/precision_dmg2_type}}{{^precision_dmg2_type}}**<span data-i18n="precision-abbrv">Extra Dmg</span>**{{/precision_dmg2_type}}</div>
                                    <div class="sheet-roll-cell">{{precision_dmg62}}</div>
                                </div>
                            {{/precision_dmg62}}
                        </div>
                        {{^no_attack_roll}}
                            <div class="sheet-roll-groupc">
                                {{#rollWasCrit() attack6}}
                                    {{#crit_confirm6}}
                                        <div class="sheet-roll-row sheet-crit-row">
                                            <div class="sheet-roll-cell sheet-confirm">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div>
                                            <div class="sheet-roll-cell sheet-left">{{crit_confirm6}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</div>
                                        </div>
                                    {{/crit_confirm6}}
                                    {{^no_damage}}{{#crit_damage6}}
                                            <div class="sheet-roll-row">
                                                <div class="sheet-roll-cell sheet-crit-dmg">**<span data-i18n="critical-damage">Crit damage</span>**</div>
                                                <div class="sheet-roll-cell">+{{crit_damage6}}</div>
                                            </div>
                                        {{/crit_damage6}}{{/no_damage}}
                                    {{#critical_dmg61}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell sheet-crit-dmg-x" data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{#critical_dmg1_type}}**{{critical_dmg1_type}}**{{/critical_dmg1_type}}{{^critical_dmg1_type}}**<span data-i18n="extra-critical-damage">Extra Crit Dmg</span>**{{/critical_dmg1_type}}</div>
                                            <div class="sheet-roll-cell">+{{critical_dmg61}}</div>
                                        </div>
                                    {{/critical_dmg61}}
                                    {{#critical_dmg62}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell sheet-crit-dmg-x" data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{#critical_dmg2_type}}**{{critical_dmg2_type}}**{{/critical_dmg2_type}}{{^critical_dmg2_type}}**<span data-i18n="extra-critical-damage">Extra Crit Dmg</span>**{{/critical_dmg2_type}}</div>
                                            <div class="sheet-roll-cell">+{{critical_dmg62}}</div>
                                        </div>
                                    {{/critical_dmg62}}
                                {{/rollWasCrit() attack6}}
                            </div>
                        {{/no_attack_roll}}
                        {{#attack7}}
                            <div class="sheet-roll-iter-space"></div>
                        {{/attack7}}
                        <div class="sheet-roll-groupi">
                            {{^no_attack_roll}}{{#attack7}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell sheet-atk">**{{^attack7name}}<span data-i18n="attack-7-ordinal">7nd attack</span>{{/attack7name}}{{#attack7name}}{{attack7name}}{{/attack7name}}**</div>
                                        <div class="sheet-roll-cell">{{attack7}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</div>
                                    </div>
                                {{/attack7}}{{/no_attack_roll}}
                            {{^no_damage}}{{#damage7}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell sheet-dmg">**<span data-i18n="damage">Damage</span>**{{#type7}}<span data-i18n-title="damage-type">- {{type7}}</span>{{/type7}}</div>
                                        <div class="sheet-roll-cell">{{^attack7}}+{{/attack7}}{{damage7}}</div>
                                    </div>
                                {{/damage7}}{{/no_damage}}
                            {{#precision_dmg71}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-dmg-x" data-i18n-title="precision-abbrv" data-i18n-aria-label="precision-abbrv">{{#precision_dmg1_type}}**{{precision_dmg1_type}}**{{/precision_dmg1_type}}{{^precision_dmg1_type}}**<span data-i18n="precision-abbrv">Extra Dmg</span>**{{/precision_dmg1_type}}</div>
                                    <div class="sheet-roll-cell">{{precision_dmg71}}</div>
                                </div>
                            {{/precision_dmg71}}
                            {{#precision_dmg72}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-dmg-x" data-i18n-title="precision-abbrv" data-i18n-aria-label="precision-abbrv">{{#precision_dmg2_type}}**{{precision_dmg2_type}}**{{/precision_dmg2_type}}{{^precision_dmg2_type}}**<span data-i18n="precision-abbrv">Extra Dmg</span>**{{/precision_dmg2_type}}</div>
                                    <div class="sheet-roll-cell">{{precision_dmg72}}</div>
                                </div>
                            {{/precision_dmg72}}
                        </div>
                        {{^no_attack_roll}}
                            <div class="sheet-roll-groupc">
                                {{#rollWasCrit() attack7}}
                                    {{#crit_confirm7}}
                                        <div class="sheet-roll-row sheet-crit-row">
                                            <div class="sheet-roll-cell sheet-confirm">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div>
                                            <div class="sheet-roll-cell sheet-left">{{crit_confirm7}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</div>
                                        </div>
                                    {{/crit_confirm7}}
                                    {{^no_damage}}{{#crit_damage7}}
                                            <div class="sheet-roll-row">
                                                <div class="sheet-roll-cell sheet-crit-dmg">**<span data-i18n="critical-damage">Crit damage</span>**</div>
                                                <div class="sheet-roll-cell">+{{crit_damage7}}</div>
                                            </div>
                                        {{/crit_damage7}}{{/no_damage}}
                                    {{#critical_dmg71}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell sheet-crit-dmg-x" data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{#critical_dmg1_type}}**{{critical_dmg1_type}}**{{/critical_dmg1_type}}{{^critical_dmg1_type}}**<span data-i18n="extra-critical-damage">Extra Crit Dmg</span>**{{/critical_dmg1_type}}</div>
                                            <div class="sheet-roll-cell">+{{critical_dmg71}}</div>
                                        </div>
                                    {{/critical_dmg71}}
                                    {{#critical_dmg72}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell sheet-crit-dmg-x" data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{#critical_dmg2_type}}**{{critical_dmg2_type}}**{{/critical_dmg2_type}}{{^critical_dmg2_type}}**<span data-i18n="extra-critical-damage">Extra Crit Dmg</span>**{{/critical_dmg2_type}}</div>
                                            <div class="sheet-roll-cell">+{{critical_dmg72}}</div>
                                        </div>
                                    {{/critical_dmg72}}
                                {{/rollWasCrit() attack7}}
                            </div>
                        {{/no_attack_roll}}
                        {{#attack8}}
                            <div class="sheet-roll-iter-space"></div>
                        {{/attack8}}
                        <div class="sheet-roll-groupi">
                            {{^no_attack_roll}}{{#attack8}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell sheet-atk">**{{^attack8name}}<span data-i18n="attack-8-ordinal">8nd attack</span>{{/attack8name}}{{#attack8name}}{{attack8name}}{{/attack8name}}**</div>
                                        <div class="sheet-roll-cell">{{attack8}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</div>
                                    </div>
                                {{/attack8}}{{/no_attack_roll}}
                            {{^no_damage}}{{#damage8}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell sheet-dmg">**<span data-i18n="damage">Damage</span>**{{#type8}}<span data-i18n-title="damage-type">- {{type8}}</span>{{/type8}}</div>
                                        <div class="sheet-roll-cell">{{^attack8}}+{{/attack8}}{{damage8}}</div>
                                    </div>
                                {{/damage8}}{{/no_damage}}
                            {{#precision_dmg81}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-dmg-x" data-i18n-title="precision-abbrv" data-i18n-aria-label="precision-abbrv">{{#precision_dmg1_type}}**{{precision_dmg1_type}}**{{/precision_dmg1_type}}{{^precision_dmg1_type}}**<span data-i18n="precision-abbrv">Extra Dmg</span>**{{/precision_dmg1_type}}</div>
                                    <div class="sheet-roll-cell">{{precision_dmg81}}</div>
                                </div>
                            {{/precision_dmg81}}
                            {{#precision_dmg82}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-dmg-x" data-i18n-title="precision-abbrv" data-i18n-aria-label="precision-abbrv">{{#precision_dmg2_type}}**{{precision_dmg2_type}}**{{/precision_dmg2_type}}{{^precision_dmg2_type}}**<span data-i18n="precision-abbrv">Extra Dmg</span>**{{/precision_dmg2_type}}</div>
                                    <div class="sheet-roll-cell">{{precision_dmg82}}</div>
                                </div>
                            {{/precision_dmg82}}
                        </div>
                        {{^no_attack_roll}}
                            <div class="sheet-roll-groupc">
                                {{#rollWasCrit() attack8}}
                                    {{#crit_confirm8}}
                                        <div class="sheet-roll-row sheet-crit-row">
                                            <div class="sheet-roll-cell sheet-confirm">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div>
                                            <div class="sheet-roll-cell sheet-left">{{crit_confirm8}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</div>
                                        </div>
                                    {{/crit_confirm8}}
                                    {{^no_damage}}{{#crit_damage8}}
                                            <div class="sheet-roll-row">
                                                <div class="sheet-roll-cell sheet-crit-dmg">**<span data-i18n="critical-damage">Crit damage</span>**</div>
                                                <div class="sheet-roll-cell">+{{crit_damage8}}</div>
                                            </div>
                                        {{/crit_damage8}}{{/no_damage}}
                                    {{#critical_dmg81}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell sheet-crit-dmg-x" data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{#critical_dmg1_type}}**{{critical_dmg1_type}}**{{/critical_dmg1_type}}{{^critical_dmg1_type}}**<span data-i18n="extra-critical-damage">Extra Crit Dmg</span>**{{/critical_dmg1_type}}</div>
                                            <div class="sheet-roll-cell">+{{critical_dmg81}}</div>
                                        </div>
                                    {{/critical_dmg81}}
                                    {{#critical_dmg82}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell sheet-crit-dmg-x" data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{#critical_dmg2_type}}**{{critical_dmg2_type}}**{{/critical_dmg2_type}}{{^critical_dmg2_type}}**<span data-i18n="extra-critical-damage">Extra Crit Dmg</span>**{{/critical_dmg2_type}}</div>
                                            <div class="sheet-roll-cell">+{{critical_dmg82}}</div>
                                        </div>
                                    {{/critical_dmg82}}
                                {{/rollWasCrit() attack8}}
                            </div>
                        {{/no_attack_roll}}
                        {{#attack9}}
                            <div class="sheet-roll-iter-space"></div>
                        {{/attack9}}
                        <div class="sheet-roll-groupi">
                            {{^no_attack_roll}}{{#attack9}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell sheet-atk">**{{^attack9name}}<span data-i18n="attack-9-ordinal">9nd attack</span>{{/attack9name}}{{#attack9name}}{{attack9name}}{{/attack9name}}**</div>
                                        <div class="sheet-roll-cell">{{attack9}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</div>
                                    </div>
                                {{/attack9}}{{/no_attack_roll}}
                            {{^no_damage}}{{#damage9}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell sheet-dmg">**<span data-i18n="damage">Damage</span>**{{#type9}}<span data-i18n-title="damage-type">- {{type9}}</span>{{/type9}}</div>
                                        <div class="sheet-roll-cell">{{^attack9}}+{{/attack9}}{{damage9}}</div>
                                    </div>
                                {{/damage9}}{{/no_damage}}
                            {{#precision_dmg91}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-dmg-x" data-i18n-title="precision-abbrv" data-i18n-aria-label="precision-abbrv">{{#precision_dmg1_type}}**{{precision_dmg1_type}}**{{/precision_dmg1_type}}{{^precision_dmg1_type}}**<span data-i18n="precision-abbrv">Extra Dmg</span>**{{/precision_dmg1_type}}</div>
                                    <div class="sheet-roll-cell">{{precision_dmg91}}</div>
                                </div>
                            {{/precision_dmg91}}
                            {{#precision_dmg92}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-dmg-x" data-i18n-title="precision-abbrv" data-i18n-aria-label="precision-abbrv">{{#precision_dmg2_type}}**{{precision_dmg2_type}}**{{/precision_dmg2_type}}{{^precision_dmg2_type}}**<span data-i18n="precision-abbrv">Extra Dmg</span>**{{/precision_dmg2_type}}</div>
                                    <div class="sheet-roll-cell">{{precision_dmg92}}</div>
                                </div>
                            {{/precision_dmg92}}
                        </div>
                        {{^no_attack_roll}}
                            <div class="sheet-roll-groupc">
                                {{#rollWasCrit() attack9}}
                                    {{#crit_confirm9}}
                                        <div class="sheet-roll-row sheet-crit-row">
                                            <div class="sheet-roll-cell sheet-confirm">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div>
                                            <div class="sheet-roll-cell sheet-left">{{crit_confirm9}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</div>
                                        </div>
                                    {{/crit_confirm9}}
                                    {{^no_damage}}{{#crit_damage9}}
                                            <div class="sheet-roll-row">
                                                <div class="sheet-roll-cell sheet-crit-dmg">**<span data-i18n="critical-damage">Crit damage</span>**</div>
                                                <div class="sheet-roll-cell">+{{crit_damage9}}</div>
                                            </div>
                                        {{/crit_damage9}}{{/no_damage}}
                                    {{#critical_dmg91}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell sheet-crit-dmg-x" data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{#critical_dmg1_type}}**{{critical_dmg1_type}}**{{/critical_dmg1_type}}{{^critical_dmg1_type}}**<span data-i18n="extra-critical-damage">Extra Crit Dmg</span>**{{/critical_dmg1_type}}</div>
                                            <div class="sheet-roll-cell">+{{critical_dmg91}}</div>
                                        </div>
                                    {{/critical_dmg91}}
                                    {{#critical_dmg92}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell sheet-crit-dmg-x" data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{#critical_dmg2_type}}**{{critical_dmg2_type}}**{{/critical_dmg2_type}}{{^critical_dmg2_type}}**<span data-i18n="extra-critical-damage">Extra Crit Dmg</span>**{{/critical_dmg2_type}}</div>
                                            <div class="sheet-roll-cell">+{{critical_dmg92}}</div>
                                        </div>
                                    {{/critical_dmg92}}
                                {{/rollWasCrit() attack9}}
                            </div>
                        {{/no_attack_roll}}
                        {{#dual_precision_dmg}}
                            <div class="sheet-roll-iter-space"></div>
                            <div class="sheet-roll-groupi">
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell sheet-atk" data-i18n-title="dual_precision-abbrv" data-i18n-aria-label="dual_precision-abbrv">{{#dual_precision_dmg_type}}**{{dual_precision_dmg_type}}**{{/dual_precision_dmg_type}}{{^dual_precision_dmg_type}}**<span data-i18n="dual_precision-abbrv">Extra Dmg</span>**{{/dual_precision_dmg_type}}</div>
                                    <div class="sheet-roll-cell">{{dual_precision_dmg}}</div>
                                </div>
                            </div>
                        {{/dual_precision_dmg}}
                    </div>
                    <div class="sheet-roll-table-inner">
                        <div class="sheet-roll-group2">
                            <!-- has been moved to show damage type on each attack
						{{#type}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="type">Type</span>**:</div><div class="sheet-roll-cell">- {{type}}</div></div>{{/type}}
						-->
                            {{#allprops() font color accessible rounded header_image character_name character_id name_link subtitle attack damage crit_confirm crit_damage description attack2 damage2 crit_confirm2 crit_damage2 attack3 damage3 crit_confirm3 crit_damage3 attack4 damage4 crit_confirm4 crit_damage4 attack5 damage5 crit_confirm5 crit_damage5 attack6 damage6 crit_confirm6 crit_damage6 attack7 damage7 crit_confirm7 crit_damage7 attack8 attack9 damage8 damage9 crit_confirm8 crit_confirm9 crit_damage8 crit_damage9 melee_notes ranged_notes CMB_notes attack_notes type type2 type3 type4 type5 type6 type7 type8 type9 weapon_notes generic_note buff_note condition_note precision_dmg1 precision_dmg1_type precision_dmg2 precision_dmg2_type critical_dmg1 critical_dmg1_type critical_dmg2 critical_dmg2_type precision_dmg21 critical_dmg21 precision_dmg22 critical_dmg22 precision_dmg31 critical_dmg31 precision_dmg32 critical_dmg32 precision_dmg41 critical_dmg41 precision_dmg42 critical_dmg42 precision_dmg51 critical_dmg51 precision_dmg52 critical_dmg52 precision_dmg61 critical_dmg61 precision_dmg62 critical_dmg62 precision_dmg71 critical_dmg71 precision_dmg72 critical_dmg72 precision_dmg81 critical_dmg81 precision_dmg82 critical_dmg82 precision_dmg91 critical_dmg91 precision_dmg92 critical_dmg92 attack1name attack2name attack3name attack4name attack5name attack6name attack7name attack8name attack9name vs vsac vstouch vsff vsfft vscmd vscmb vsother no_attack_roll no_damage dual_precision_dmg dual_precision_dmg_type spelltracking1 spelltracking2 spelltracking3 spelltracking4 spelltracking5 spelltracking6 spelldescription1 spelldescription2 spelldescription3 spelldescription4 spelldescription5 spelldescription6 abilitytracking1 abilitytracking2 abilitytracking3 abilitytracking4 abilitytracking5 abilitytracking6 abilitydescription1 abilitydescription2 abilitydescription3 abilitydescription4 abilitydescription5 abilitydescription6 itemtracking1 itemtracking2 itemtracking3 itemtracking4 itemtracking5 itemtracking6 itemdescription1 itemdescription2 itemdescription3 itemdescription4 itemdescription5 itemdescription6 misctracking1 misctracking2 misctracking3 misctracking4 misctracking5 misctracking6 miscdescription1 miscdescription2 miscdescription3 miscdescription4 miscdescription5 miscdescription6 scroll_desc}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**{{key}}**:</div>
                                    <div class="sheet-roll-cell">{{value}}</div>
                                </div>
                            {{/allprops() font color accessible rounded header_image character_name character_id name_link subtitle attack damage crit_confirm crit_damage description attack2 damage2 crit_confirm2 crit_damage2 attack3 damage3 crit_confirm3 crit_damage3 attack4 damage4 crit_confirm4 crit_damage4 attack5 damage5 crit_confirm5 crit_damage5 attack6 damage6 crit_confirm6 crit_damage6 attack7 damage7 crit_confirm7 crit_damage7 attack8 attack9 damage8 damage9 crit_confirm8 crit_confirm9 crit_damage8 crit_damage9 melee_notes ranged_notes CMB_notes attack_notes type type2 type3 type4 type5 type6 type7 type8 type9 weapon_notes generic_note buff_note condition_note precision_dmg1 precision_dmg1_type precision_dmg2 precision_dmg2_type critical_dmg1 critical_dmg1_type critical_dmg2 critical_dmg2_type precision_dmg21 critical_dmg21 precision_dmg22 critical_dmg22 precision_dmg31 critical_dmg31 precision_dmg32 critical_dmg32 precision_dmg41 critical_dmg41 precision_dmg42 critical_dmg42 precision_dmg51 critical_dmg51 precision_dmg52 critical_dmg52 precision_dmg61 critical_dmg61 precision_dmg62 critical_dmg62 precision_dmg71 critical_dmg71 precision_dmg72 critical_dmg72 precision_dmg81 critical_dmg81 precision_dmg82 critical_dmg82 precision_dmg91 critical_dmg91 precision_dmg92 critical_dmg92 attack1name attack2name attack3name attack4name attack5name attack6name attack7name attack8name attack9name vs vsac vstouch vsff vsfft vscmd vscmb vsother no_attack_roll no_damage dual_precision_dmg dual_precision_dmg_type spelltracking1 spelltracking2 spelltracking3 spelltracking4 spelltracking5 spelltracking6 spelldescription1 spelldescription2 spelldescription3 spelldescription4 spelldescription5 spelldescription6 abilitytracking1 abilitytracking2 abilitytracking3 abilitytracking4 abilitytracking5 abilitytracking6 abilitydescription1 abilitydescription2 abilitydescription3 abilitydescription4 abilitydescription5 abilitydescription6 itemtracking1 itemtracking2 itemtracking3 itemtracking4 itemtracking5 itemtracking6 itemdescription1 itemdescription2 itemdescription3 itemdescription4 itemdescription5 itemdescription6 misctracking1 misctracking2 misctracking3 misctracking4 misctracking5 misctracking6 miscdescription1 miscdescription2 miscdescription3 miscdescription4 miscdescription5 miscdescription6 scroll_desc}}
                        </div>
                    </div>
                    <div class="sheet-roll-group">
                        {{#melee_notes}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="melee-notes">Melee Notes</span>:** {{melee_notes}}</div>
                            </div>
                        {{/melee_notes}}
                        {{#ranged_notes}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="ranged-notes">Ranged Notes</span>:** {{ranged_notes}}</div>
                            </div>
                        {{/ranged_notes}}
                        {{#CMB_notes}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="combat-maneuver-bonus-notes">CMB Notes</span>:** {{CMB_notes}}</div>
                            </div>
                        {{/CMB_notes}}
                        {{#attack_notes}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="attack-notes">Attack Notes</span>:** {{attack_notes}}</div>
                            </div>
                        {{/attack_notes}}
                        {{#weapon_notes}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="weapon-notes">Weapon Notes</span>:** {{weapon_notes}}</div>
                            </div>
                        {{/weapon_notes}}
                        {{#description}}
                            <div class="sheet-roll-row sheet-roll-description {{scroll_desc}}">
                                <div class="sheet-roll-cell">{{description}}</div>
                            </div>
                        {{/description}}
                        {{#generic_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{generic_note}}</div>
                            </div>
                        {{/generic_note}}
                        {{#buff_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{buff_note}}</div>
                            </div>
                        {{/buff_note}}
                        {{#condition_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{condition_note}}</div>
                            </div>
                        {{/condition_note}}

                        {{#spelltracking1}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription1}}{{spelldescription1}}:<span class="sheet-pictos">{{spelltracking1}}</span>{{/spelldescription1}}{{^spelldescription1}}<span data-i18n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking1}}</span>{{/spelldescription1}}</div>
                            </div>
                        {{/spelltracking1}}
                        {{#spelltracking2}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription2}}{{spelldescription2}}:<span class="sheet-pictos">{{spelltracking2}}</span>{{/spelldescription2}}{{^spelldescription2}}<span data-i28n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking2}}</span>{{/spelldescription2}}</div>
                            </div>
                        {{/spelltracking2}}
                        {{#spelltracking3}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription3}}{{spelldescription3}}:<span class="sheet-pictos">{{spelltracking3}}</span>{{/spelldescription3}}{{^spelldescription3}}<span data-i38n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking3}}</span>{{/spelldescription3}}</div>
                            </div>
                        {{/spelltracking3}}
                        {{#spelltracking4}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription4}}{{spelldescription4}}:<span class="sheet-pictos">{{spelltracking4}}</span>{{/spelldescription4}}{{^spelldescription4}}<span data-i48n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking4}}</span>{{/spelldescription4}}</div>
                            </div>
                        {{/spelltracking4}}
                        {{#spelltracking5}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription5}}{{spelldescription5}}:<span class="sheet-pictos">{{spelltracking5}}</span>{{/spelldescription5}}{{^spelldescription5}}<span data-i58n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking5}}</span>{{/spelldescription5}}</div>
                            </div>
                        {{/spelltracking5}}
                        {{#spelltracking6}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription6}}{{spelldescription6}}:<span class="sheet-pictos">{{spelltracking6}}</span>{{/spelldescription6}}{{^spelldescription6}}<span data-i68n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking6}}</span>{{/spelldescription6}}</div>
                            </div>
                        {{/spelltracking6}}

                        {{#abilitytracking1}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription1}}{{abilitydescription1}}:<span class="sheet-pictos">{{abilitytracking1}}</span>{{/abilitydescription1}}{{^abilitydescription1}}<span data-i18n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking1}}</span>{{/abilitydescription1}}</div>
                            </div>
                        {{/abilitytracking1}}
                        {{#abilitytracking2}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription2}}{{abilitydescription2}}:<span class="sheet-pictos">{{abilitytracking2}}</span>{{/abilitydescription2}}{{^abilitydescription2}}<span data-i28n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking2}}</span>{{/abilitydescription2}}</div>
                            </div>
                        {{/abilitytracking2}}
                        {{#abilitytracking3}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription3}}{{abilitydescription3}}:<span class="sheet-pictos">{{abilitytracking3}}</span>{{/abilitydescription3}}{{^abilitydescription3}}<span data-i38n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking3}}</span>{{/abilitydescription3}}</div>
                            </div>
                        {{/abilitytracking3}}
                        {{#abilitytracking4}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription4}}{{abilitydescription4}}:<span class="sheet-pictos">{{abilitytracking4}}</span>{{/abilitydescription4}}{{^abilitydescription4}}<span data-i48n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking4}}</span>{{/abilitydescription4}}</div>
                            </div>
                        {{/abilitytracking4}}
                        {{#abilitytracking5}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription5}}{{abilitydescription5}}:<span class="sheet-pictos">{{abilitytracking5}}</span>{{/abilitydescription5}}{{^abilitydescription5}}<span data-i58n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking5}}</span>{{/abilitydescription5}}</div>
                            </div>
                        {{/abilitytracking5}}
                        {{#abilitytracking6}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription6}}{{abilitydescription6}}:<span class="sheet-pictos">{{abilitytracking6}}</span>{{/abilitydescription6}}{{^abilitydescription6}}<span data-i68n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking6}}</span>{{/abilitydescription6}}</div>
                            </div>
                        {{/abilitytracking6}}

                        {{#itemtracking1}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription1}}{{itemdescription1}}:<span class="sheet-pictos">{{itemtracking1}}</span>{{/itemdescription1}}{{^itemdescription1}}<span data-i18n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking1}}</span>{{/itemdescription1}}</div>
                            </div>
                        {{/itemtracking1}}
                        {{#itemtracking2}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription2}}{{itemdescription2}}:<span class="sheet-pictos">{{itemtracking2}}</span>{{/itemdescription2}}{{^itemdescription2}}<span data-i28n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking2}}</span>{{/itemdescription2}}</div>
                            </div>
                        {{/itemtracking2}}
                        {{#itemtracking3}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription3}}{{itemdescription3}}:<span class="sheet-pictos">{{itemtracking3}}</span>{{/itemdescription3}}{{^itemdescription3}}<span data-i38n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking3}}</span>{{/itemdescription3}}</div>
                            </div>
                        {{/itemtracking3}}
                        {{#itemtracking4}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription4}}{{itemdescription4}}:<span class="sheet-pictos">{{itemtracking4}}</span>{{/itemdescription4}}{{^itemdescription4}}<span data-i48n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking4}}</span>{{/itemdescription4}}</div>
                            </div>
                        {{/itemtracking4}}
                        {{#itemtracking5}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription5}}{{itemdescription5}}:<span class="sheet-pictos">{{itemtracking5}}</span>{{/itemdescription5}}{{^itemdescription5}}<span data-i58n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking5}}</span>{{/itemdescription5}}</div>
                            </div>
                        {{/itemtracking5}}
                        {{#itemtracking6}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription6}}{{itemdescription6}}:<span class="sheet-pictos">{{itemtracking6}}</span>{{/itemdescription6}}{{^itemdescription6}}<span data-i68n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking6}}</span>{{/itemdescription6}}</div>
                            </div>
                        {{/itemtracking6}}

                        {{#misctracking1}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription1}}{{miscdescription1}}:<span class="sheet-pictos">{{misctracking1}}</span>{{/miscdescription1}}{{^miscdescription1}}<span data-i18n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking1}}</span>{{/miscdescription1}}</div>
                            </div>
                        {{/misctracking1}}
                        {{#misctracking2}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription2}}{{miscdescription2}}:<span class="sheet-pictos">{{misctracking2}}</span>{{/miscdescription2}}{{^miscdescription2}}<span data-i28n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking2}}</span>{{/miscdescription2}}</div>
                            </div>
                        {{/misctracking2}}
                        {{#misctracking3}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription3}}{{miscdescription3}}:<span class="sheet-pictos">{{misctracking3}}</span>{{/miscdescription3}}{{^miscdescription3}}<span data-i38n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking3}}</span>{{/miscdescription3}}</div>
                            </div>
                        {{/misctracking3}}
                        {{#misctracking4}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription4}}{{miscdescription4}}:<span class="sheet-pictos">{{misctracking4}}</span>{{/miscdescription4}}{{^miscdescription4}}<span data-i48n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking4}}</span>{{/miscdescription4}}</div>
                            </div>
                        {{/misctracking4}}
                        {{#misctracking5}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription5}}{{miscdescription5}}:<span class="sheet-pictos">{{misctracking5}}</span>{{/miscdescription5}}{{^miscdescription5}}<span data-i58n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking5}}</span>{{/miscdescription5}}</div>
                            </div>
                        {{/misctracking5}}
                        {{#misctracking6}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription6}}{{miscdescription6}}:<span class="sheet-pictos">{{misctracking6}}</span>{{/miscdescription6}}{{^miscdescription6}}<span data-i68n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking6}}</span>{{/miscdescription6}}</div>
                            </div>
                        {{/misctracking6}}
                    </div>
                </div>
            {{/accessible}}
            {{#accessible}}
                <div class="sheet-roll-accessible {{#font}}font-{{font}}{{/font}} {{#color}}color-{{color}}{{/color}}" role="presentation">
                    <h3 class="sheet-roll-header">
                        {{#character_name}}{{character_name}}{{#name}}: {{/name}}{{/character_name}}
                        {{#name}}{{name}}{{/name}}
                    </h3>
                    {{#subtitle}}
                        <h4 class="sheet-subtitle">{{subtitle}}</h4>
                    {{/subtitle}}
                    {{^no_attack_roll}}{{#attack}}<label class="sheet-atksbkg sheet-atk">{{^attack1name}}<span data-i18n="attack">Attack</span>{{/attack1name}}{{#attack1name}}<span class="sheet-atk">{{attack1name}}</span>{{/attack1name}}<span class="sheet-right">{{attack}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</span></label>{{/attack}}{{/no_attack_roll}}
                    {{^no_damage}}{{#damage}}<label class="sheet-atksbkg sheet-dmg"><span data-i18n="damage">Damage</span>{{#type}}<span data-i18n-title="damage-type">- {{type}}</span>{{/type}}<span class="sheet-right">{{^attack}}+{{/attack}}{{damage}}</span></label>{{/damage}}{{/no_damage}}
                    {{#precision_dmg1}}<label class="sheet-atksbkg sheet-dmg-x">{{#precision_dmg1_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{precision_dmg1_type}}</span>{{/precision_dmg1_type}}{{^precision_dmg1_type}}<span data-i18n="extra-damage">Precision Dmg</span>{{/precision_dmg1_type}}:<span class="sheet-right">{{precision_dmg1}}</span></label>{{/precision_dmg1}}
                    {{#precision_dmg2}}<label class="sheet-atksbkg sheet-dmg-x">{{#precision_dmg2_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{precision_dmg2_type}}</span>{{/precision_dmg2_type}}{{^precision_dmg2_type}}<span data-i18n="extra-damage">Precision Dmg</span>{{/precision_dmg2_type}}:<span class="sheet-right">{{precision_dmg2}}</span></label>{{/precision_dmg2}}
                    {{^no_attack_roll}}{{#rollWasCrit() attack}}
                            {{#crit_confirm}}<label class="sheet-atksbkg sheet-atk-c sheet-confirm"><span data-i18n="critical-confirm">Crit Confirm</span>:<span class="sheet-right">{{crit_confirm}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</span></label>{{/crit_confirm}}
                            {{^no_damage}}{{#crit_damage}}<label class="sheet-atksbkg sheet-crit-dmg"><span data-i18n="critical-damage">Crit Damage</span>:<span class="sheet-right">+{{crit_damage}}</span></label>{{/crit_damage}}{{/no_damage}}
                            {{#critical_dmg1}}<label class="sheet-atksbkg sheet-crit-dmg-x">{{#critical_dmg1_type}}<span data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{critical_dmg1_type}}</span>{{/critical_dmg1_type}}{{^critical_dmg1_type}}<span data-i18n="extra-critical-damage">Xtra Crit Dmg</span>{{/critical_dmg1_type}}:<span class="sheet-right">+{{critical_dmg1}}</span></label>{{/critical_dmg1}}
                            {{#critical_dmg2}}<label class="sheet-atksbkg sheet-crit-dmg-x">{{#critical_dmg2_type}}<span data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{critical_dmg2_type}}</span>{{/critical_dmg2_type}}{{^critical_dmg2_type}}<span data-i18n="extra-critical-damage">Xtra Crit Dmg</span>{{/critical_dmg2_type}}:<span class="sheet-right">+{{critical_dmg2}}</span></label>{{/critical_dmg2}}
                        {{/rollWasCrit() attack}}{{/no_attack_roll}}
                    {{^no_attack_roll}}{{#attack2}}<label class="sheet-atksbkg sheet-atk-i sheet-atk">{{^attack2name}}<span data-i18n="attack-2-ordinal">2nd attack</span>{{/attack2name}}{{#attack2name}}<span class="sheet-atk">{{attack2name}}</span>{{/attack2name}}<span class="sheet-right">{{^attack2}}+{{/attack2}}{{attack2}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</span></label>{{/attack2}}{{/no_attack_roll}}
                    {{^no_damage}}{{#damage2}}<label class="sheet-atksbkg sheet-dmg"><span data-i18n="damage">Damage</span>{{#type2}}<span data-i18n-title="damage-type">- {{type2}}</span>{{/type2}}<span class="sheet-right">{{damage2}}</span></label>{{/damage2}}{{/no_damage}}
                    {{#precision_dmg21}}<label class="sheet-atksbkg sheet-dmg-x">{{#precision_dmg1_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{precision_dmg1_type}}</span>{{/precision_dmg1_type}}{{^precision_dmg1_type}}<span data-i18n="extra-damage">Precision Dmg</span>{{/precision_dmg1_type}}:<span class="sheet-right">{{precision_dmg21}}</span></label>{{/precision_dmg21}}
                    {{#precision_dmg22}}<label class="sheet-atksbkg sheet-dmg-x">{{#precision_dmg2_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{precision_dmg2_type}}</span>{{/precision_dmg2_type}}{{^precision_dmg2_type}}<span data-i18n="extra-damage">Precision Dmg</span>{{/precision_dmg2_type}}:<span class="sheet-right">{{precision_dmg22}}</span></label>{{/precision_dmg22}}
                    {{^no_attack_roll}}{{#rollWasCrit() attack2}}
                            {{#crit_confirm2}}<label class="sheet-atksbkg sheet-atk-c sheet-confirm"><span data-i18n="critical-confirm">Crit Confirm</span>:<span class="sheet-right">{{crit_confirm2}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</span></label>{{/crit_confirm2}}
                            {{^no_damage}}{{#crit_damage2}}<label class="sheet-atksbkg sheet-crit-dmg"><span data-i18n="critical-damage">Crit Damage</span>:<span class="sheet-right">+{{crit_damage2}}</span></label>{{/crit_damage2}}{{/no_damage}}
                            {{#critical_dmg21}}<label class="sheet-atksbkg sheet-crit-dmg-x">{{#critical_dmg1_type}}<span data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{critical_dmg1_type}}</span>{{/critical_dmg1_type}}{{^critical_dmg1_type}}<span data-i18n="extra-critical-damage">Xtra Crit Dmg</span>{{/critical_dmg1_type}}:<span class="sheet-right">+{{critical_dmg21}}</span></label>{{/critical_dmg21}}
                            {{#critical_dmg22}}<label class="sheet-atksbkg sheet-crit-dmg-x">{{#critical_dmg2_type}}<span data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{critical_dmg2_type}}</span>{{/critical_dmg2_type}}{{^critical_dmg2_type}}<span data-i18n="extra-critical-damage">Xtra Crit Dmg</span>{{/critical_dmg2_type}}:<span class="sheet-right">+{{critical_dmg22}}</span></label>{{/critical_dmg22}}
                        {{/rollWasCrit() attack2}}{{/no_attack_roll}}
                    {{^no_attack_roll}}{{#attack3}}<label class="sheet-atksbkg sheet-atk-i sheet-atk">{{^attack3name}}<span data-i18n="attack-3-ordinal">3rd attack</span>{{/attack3name}}{{#attack3name}}<span class="sheet-atk">{{attack3name}}</span>{{/attack3name}}<span class="sheet-right">{{^attack3}}+{{/attack3}}{{attack3}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</span></label>{{/attack3}}{{/no_attack_roll}}
                    {{^no_damage}}{{#damage3}}<label class="sheet-atksbkg sheet-dmg"><span data-i18n="damage">Damage</span>{{#type3}}<span data-i18n-title="damage-type">- {{type3}}</span>{{/type3}}<span class="sheet-right">{{damage3}}</span></label>{{/damage3}}{{/no_damage}}
                    {{#precision_dmg31}}<label class="sheet-atksbkg sheet-dmg-x">{{#precision_dmg1_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{precision_dmg1_type}}</span>{{/precision_dmg1_type}}{{^precision_dmg1_type}}<span data-i18n="extra-damage">Precision Dmg</span>{{/precision_dmg1_type}}:<span class="sheet-right">{{precision_dmg31}}</span></label>{{/precision_dmg31}}
                    {{#precision_dmg32}}<label class="sheet-atksbkg sheet-dmg-x">{{#precision_dmg2_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{precision_dmg2_type}}</span>{{/precision_dmg2_type}}{{^precision_dmg2_type}}<span data-i18n="extra-damage">Precision Dmg</span>{{/precision_dmg2_type}}:<span class="sheet-right">{{precision_dmg32}}</span></label>{{/precision_dmg32}}
                    {{^no_attack_roll}}{{#rollWasCrit() attack3}}
                            {{#crit_confirm3}}<label class="sheet-atksbkg sheet-atk-c sheet-confirm"><span data-i18n="critical-confirm">Crit Confirm</span>:<span class="sheet-right">{{crit_confirm3}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</span></label>{{/crit_confirm3}}
                            {{^no_damage}}{{#crit_damage3}}<label class="sheet-atksbkg sheet-crit-dmg"><span data-i18n="critical-damage">Crit Damage</span>:<span class="sheet-right">+{{crit_damage3}}</span></label>{{/crit_damage3}}{{/no_damage}}
                            {{#critical_dmg31}}<label class="sheet-atksbkg sheet-crit-dmg-x">{{#critical_dmg1_type}}<span data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{critical_dmg1_type}}</span>{{/critical_dmg1_type}}{{^critical_dmg1_type}}<span data-i18n="extra-critical-damage">Xtra Crit Dmg</span>{{/critical_dmg1_type}}:<span class="sheet-right">+{{critical_dmg31}}</span></label>{{/critical_dmg31}}
                            {{#critical_dmg32}}<label class="sheet-atksbkg sheet-crit-dmg-x">{{#critical_dmg2_type}}<span data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{critical_dmg2_type}}</span>{{/critical_dmg2_type}}{{^critical_dmg2_type}}<span data-i18n="extra-critical-damage">Xtra Crit Dmg</span>{{/critical_dmg2_type}}:<span class="sheet-right">+{{critical_dmg32}}</span></label>{{/critical_dmg32}}
                        {{/rollWasCrit() attack3}}{{/no_attack_roll}}
                    {{^no_attack_roll}}{{#attack4}}<label class="sheet-atksbkg sheet-atk-i sheet-atk">{{^attack4name}}<span data-i18n="attack-4-ordinal">4rd attack</span>{{/attack4name}}{{#attack4name}}<span class="sheet-atk">{{attack4name}}</span>{{/attack4name}}<span class="sheet-right">{{^attack4}}+{{/attack4}}{{attack4}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</span></label>{{/attack4}}{{/no_attack_roll}}
                    {{^no_damage}}{{#damage4}}<label class="sheet-atksbkg sheet-dmg"><span data-i18n="damage">Damage</span>{{#type4}}<span data-i18n-title="damage-type">- {{type4}}</span>{{/type4}}<span class="sheet-right">{{damage4}}</span></label>{{/damage4}}{{/no_damage}}
                    {{#precision_dmg41}}<label class="sheet-atksbkg sheet-dmg-x">{{#precision_dmg1_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{precision_dmg1_type}}</span>{{/precision_dmg1_type}}{{^precision_dmg1_type}}<span data-i18n="extra-damage">Precision Dmg</span>{{/precision_dmg1_type}}:<span class="sheet-right">{{precision_dmg41}}</span></label>{{/precision_dmg41}}
                    {{#precision_dmg42}}<label class="sheet-atksbkg sheet-dmg-x">{{#precision_dmg2_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{precision_dmg2_type}}</span>{{/precision_dmg2_type}}{{^precision_dmg2_type}}<span data-i18n="extra-damage">Precision Dmg</span>{{/precision_dmg2_type}}:<span class="sheet-right">{{precision_dmg42}}</span></label>{{/precision_dmg42}}
                    {{^no_attack_roll}}{{#rollWasCrit() attack4}}
                            {{#crit_confirm4}}<label class="sheet-atksbkg sheet-atk-c sheet-confirm"><span data-i18n="critical-confirm">Crit Confirm</span>:<span class="sheet-right">{{crit_confirm4}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</span></label>{{/crit_confirm4}}
                            {{^no_damage}}{{#crit_damage4}}<label class="sheet-atksbkg sheet-crit-dmg"><span data-i18n="critical-damage">Crit Damage</span>:<span class="sheet-right">+{{crit_damage4}}</span></label>{{/crit_damage4}}{{/no_damage}}
                            {{#critical_dmg41}}<label class="sheet-atksbkg sheet-crit-dmg-x">{{#critical_dmg1_type}}<span data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{critical_dmg1_type}}</span>{{/critical_dmg1_type}}{{^critical_dmg1_type}}<span data-i18n="extra-critical-damage">Xtra Crit Dmg</span>{{/critical_dmg1_type}}:<span class="sheet-right">+{{critical_dmg41}}</span></label>{{/critical_dmg41}}
                            {{#critical_dmg42}}<label class="sheet-atksbkg sheet-crit-dmg-x">{{#critical_dmg2_type}}<span data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{critical_dmg2_type}}</span>{{/critical_dmg2_type}}{{^critical_dmg2_type}}<span data-i18n="extra-critical-damage">Xtra Crit Dmg</span>{{/critical_dmg2_type}}:<span class="sheet-right">+{{critical_dmg42}}</span></label>{{/critical_dmg42}}
                        {{/rollWasCrit() attack4}}{{/no_attack_roll}}
                    {{^no_attack_roll}}{{#attack5}}<label class="sheet-atksbkg sheet-atk-i sheet-atk">{{^attack5name}}<span data-i18n="attack-5-ordinal">5rd attack</span>{{/attack5name}}{{#attack5name}}<span class="sheet-atk">{{attack5name}}</span>{{/attack5name}}<span class="sheet-right">{{^attack5}}+{{/attack5}}{{attack5}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</span></label>{{/attack5}}{{/no_attack_roll}}
                    {{^no_damage}}{{#damage5}}<label class="sheet-atksbkg sheet-dmg"><span data-i18n="damage">Damage</span>{{#type5}}<span data-i18n-title="damage-type">- {{type5}}</span>{{/type5}}<span class="sheet-right">{{damage5}}</span></label>{{/damage5}}{{/no_damage}}
                    {{#precision_dmg51}}<label class="sheet-atksbkg sheet-dmg-x">{{#precision_dmg1_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{precision_dmg1_type}}</span>{{/precision_dmg1_type}}{{^precision_dmg1_type}}<span data-i18n="extra-damage">Precision Dmg</span>{{/precision_dmg1_type}}:<span class="sheet-right">{{precision_dmg51}}</span></label>{{/precision_dmg51}}
                    {{#precision_dmg52}}<label class="sheet-atksbkg sheet-dmg-x">{{#precision_dmg2_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{precision_dmg2_type}}</span>{{/precision_dmg2_type}}{{^precision_dmg2_type}}<span data-i18n="extra-damage">Precision Dmg</span>{{/precision_dmg2_type}}:<span class="sheet-right">{{precision_dmg52}}</span></label>{{/precision_dmg52}}
                    {{^no_attack_roll}}{{#rollWasCrit() attack5}}
                            {{#crit_confirm5}}<label class="sheet-atksbkg sheet-atk-c sheet-confirm"><span data-i18n="critical-confirm">Crit Confirm</span>:<span class="sheet-right">{{crit_confirm5}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</span></label>{{/crit_confirm5}}
                            {{^no_damage}}{{#crit_damage5}}<label class="sheet-atksbkg sheet-crit-dmg"><span data-i18n="critical-damage">Crit Damage</span>:<span class="sheet-right">+{{crit_damage5}}</span></label>{{/crit_damage5}}{{/no_damage}}
                            {{#critical_dmg51}}<label class="sheet-atksbkg sheet-crit-dmg-x">{{#critical_dmg1_type}}<span data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{critical_dmg1_type}}</span>{{/critical_dmg1_type}}{{^critical_dmg1_type}}<span data-i18n="extra-critical-damage">Xtra Crit Dmg</span>{{/critical_dmg1_type}}:<span class="sheet-right">+{{critical_dmg51}}</span></label>{{/critical_dmg51}}
                            {{#critical_dmg52}}<label class="sheet-atksbkg sheet-crit-dmg-x">{{#critical_dmg2_type}}<span data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{critical_dmg2_type}}</span>{{/critical_dmg2_type}}{{^critical_dmg2_type}}<span data-i18n="extra-critical-damage">Xtra Crit Dmg</span>{{/critical_dmg2_type}}:<span class="sheet-right">+{{critical_dmg52}}</span></label>{{/critical_dmg52}}
                        {{/rollWasCrit() attack5}}{{/no_attack_roll}}
                    {{^no_attack_roll}}{{#attack6}}<label class="sheet-atksbkg sheet-atk-i sheet-atk">{{^attack6name}}<span data-i18n="attack-6-ordinal">6rd attack</span>{{/attack6name}}{{#attack6name}}<span class="sheet-atk">{{attack6name}}</span>{{/attack6name}}<span class="sheet-right">{{^attack6}}+{{/attack6}}{{attack6}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</span></label>{{/attack6}}{{/no_attack_roll}}
                    {{^no_damage}}{{#damage6}}<label class="sheet-atksbkg sheet-dmg"><span data-i18n="damage">Damage</span>{{#type6}}<span data-i18n-title="damage-type">- {{type6}}</span>{{/type6}}<span class="sheet-right">{{damage6}}</span></label>{{/damage6}}{{/no_damage}}
                    {{#precision_dmg61}}<label class="sheet-atksbkg sheet-dmg-x">{{#precision_dmg1_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{precision_dmg1_type}}</span>{{/precision_dmg1_type}}{{^precision_dmg1_type}}<span data-i18n="extra-damage">Precision Dmg</span>{{/precision_dmg1_type}}:<span class="sheet-right">{{precision_dmg61}}</span></label>{{/precision_dmg61}}
                    {{#precision_dmg62}}<label class="sheet-atksbkg sheet-dmg-x">{{#precision_dmg2_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{precision_dmg2_type}}</span>{{/precision_dmg2_type}}{{^precision_dmg2_type}}<span data-i18n="extra-damage">Precision Dmg</span>{{/precision_dmg2_type}}:<span class="sheet-right">{{precision_dmg62}}</span></label>{{/precision_dmg62}}
                    {{^no_attack_roll}}{{#rollWasCrit() attack6}}
                            {{#crit_confirm6}}<label class="sheet-atksbkg sheet-atk-c sheet-confirm"><span data-i18n="critical-confirm">Crit Confirm</span>:<span class="sheet-right">{{crit_confirm6}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</span></label>{{/crit_confirm6}}
                            {{^no_damage}}{{#crit_damage6}}<label class="sheet-atksbkg sheet-crit-dmg"><span data-i18n="critical-damage">Crit Damage</span>:<span class="sheet-right">+{{crit_damage6}}</span></label>{{/crit_damage6}}{{/no_damage}}
                            {{#critical_dmg61}}<label class="sheet-atksbkg sheet-crit-dmg-x">{{#critical_dmg1_type}}<span data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{critical_dmg1_type}}</span>{{/critical_dmg1_type}}{{^critical_dmg1_type}}<span data-i18n="extra-critical-damage">Xtra Crit Dmg</span>{{/critical_dmg1_type}}:<span class="sheet-right">+{{critical_dmg61}}</span></label>{{/critical_dmg61}}
                            {{#critical_dmg62}}<label class="sheet-atksbkg sheet-crit-dmg-x">{{#critical_dmg2_type}}<span data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{critical_dmg2_type}}</span>{{/critical_dmg2_type}}{{^critical_dmg2_type}}<span data-i18n="extra-critical-damage">Xtra Crit Dmg</span>{{/critical_dmg2_type}}:<span class="sheet-right">+{{critical_dmg62}}</span></label>{{/critical_dmg62}}
                        {{/rollWasCrit() attack6}}{{/no_attack_roll}}
                    {{^no_attack_roll}}{{#attack7}}<label class="sheet-atksbkg sheet-atk-i sheet-atk">{{^attack7name}}<span data-i18n="attack-7-ordinal">7rd attack</span>{{/attack7name}}{{#attack7name}}<span class="sheet-atk">{{attack7name}}</span>{{/attack7name}}<span class="sheet-right">{{^attack7}}+{{/attack7}}{{attack7}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</span></label>{{/attack7}}{{/no_attack_roll}}
                    {{^no_damage}}{{#damage7}}<label class="sheet-atksbkg sheet-dmg"><span data-i18n="damage">Damage</span>{{#type7}}<span data-i18n-title="damage-type">- {{type7}}</span>{{/type7}}<span class="sheet-right">{{damage7}}</span></label>{{/damage7}}{{/no_damage}}
                    {{#precision_dmg71}}<label class="sheet-atksbkg sheet-dmg-x">{{#precision_dmg1_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{precision_dmg1_type}}</span>{{/precision_dmg1_type}}{{^precision_dmg1_type}}<span data-i18n="extra-damage">Precision Dmg</span>{{/precision_dmg1_type}}:<span class="sheet-right">{{precision_dmg71}}</span></label>{{/precision_dmg71}}
                    {{#precision_dmg72}}<label class="sheet-atksbkg sheet-dmg-x">{{#precision_dmg2_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{precision_dmg2_type}}</span>{{/precision_dmg2_type}}{{^precision_dmg2_type}}<span data-i18n="extra-damage">Precision Dmg</span>{{/precision_dmg2_type}}:<span class="sheet-right">{{precision_dmg72}}</span></label>{{/precision_dmg72}}
                    {{^no_attack_roll}}{{#rollWasCrit() attack7}}
                            {{#crit_confirm7}}<label class="sheet-atksbkg sheet-atk-c sheet-confirm"><span data-i18n="critical-confirm">Crit Confirm</span>:<span class="sheet-right">{{crit_confirm7}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</span></label>{{/crit_confirm7}}
                            {{^no_damage}}{{#crit_damage7}}<label class="sheet-atksbkg sheet-crit-dmg"><span data-i18n="critical-damage">Crit Damage</span>:<span class="sheet-right">+{{crit_damage7}}</span></label>{{/crit_damage7}}{{/no_damage}}
                            {{#critical_dmg71}}<label class="sheet-atksbkg sheet-crit-dmg-x">{{#critical_dmg1_type}}<span data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{critical_dmg1_type}}</span>{{/critical_dmg1_type}}{{^critical_dmg1_type}}<span data-i18n="extra-critical-damage">Xtra Crit Dmg</span>{{/critical_dmg1_type}}:<span class="sheet-right">+{{critical_dmg71}}</span></label>{{/critical_dmg71}}
                            {{#critical_dmg72}}<label class="sheet-atksbkg sheet-crit-dmg-x">{{#critical_dmg2_type}}<span data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{critical_dmg2_type}}</span>{{/critical_dmg2_type}}{{^critical_dmg2_type}}<span data-i18n="extra-critical-damage">Xtra Crit Dmg</span>{{/critical_dmg2_type}}:<span class="sheet-right">+{{critical_dmg72}}</span></label>{{/critical_dmg72}}
                        {{/rollWasCrit() attack7}}{{/no_attack_roll}}
                    {{^no_attack_roll}}{{#attack8}}<label class="sheet-atksbkg sheet-atk-i sheet-atk">{{^attack8name}}<span data-i18n="attack-8-ordinal">8rd attack</span>{{/attack8name}}{{#attack8name}}<span class="sheet-atk">{{attack8name}}</span>{{/attack8name}}<span class="sheet-right">{{^attack8}}+{{/attack8}}{{attack8}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</span></label>{{/attack8}}{{/no_attack_roll}}
                    {{^no_damage}}{{#damage8}}<label class="sheet-atksbkg sheet-dmg"><span data-i18n="damage">Damage</span>{{#type8}}<span data-i18n-title="damage-type">- {{type8}}</span>{{/type8}}<span class="sheet-right">{{damage8}}</span></label>{{/damage8}}{{/no_damage}}
                    {{#precision_dmg81}}<label class="sheet-atksbkg sheet-dmg-x">{{#precision_dmg1_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{precision_dmg1_type}}</span>{{/precision_dmg1_type}}{{^precision_dmg1_type}}<span data-i18n="extra-damage">Precision Dmg</span>{{/precision_dmg1_type}}:<span class="sheet-right">{{precision_dmg81}}</span></label>{{/precision_dmg81}}
                    {{#precision_dmg82}}<label class="sheet-atksbkg sheet-dmg-x">{{#precision_dmg2_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{precision_dmg2_type}}</span>{{/precision_dmg2_type}}{{^precision_dmg2_type}}<span data-i18n="extra-damage">Precision Dmg</span>{{/precision_dmg2_type}}:<span class="sheet-right">{{precision_dmg82}}</span></label>{{/precision_dmg82}}
                    {{^no_attack_roll}}{{#rollWasCrit() attack8}}
                            {{#crit_confirm8}}<label class="sheet-atksbkg sheet-atk-c sheet-confirm"><span data-i18n="critical-confirm">Crit Confirm</span>:<span class="sheet-right">{{crit_confirm8}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</span></label>{{/crit_confirm8}}
                            {{^no_damage}}{{#crit_damage8}}<label class="sheet-atksbkg sheet-crit-dmg"><span data-i18n="critical-damage">Crit Damage</span>:<span class="sheet-right">+{{crit_damage8}}</span></label>{{/crit_damage8}}{{/no_damage}}
                            {{#critical_dmg81}}<label class="sheet-atksbkg sheet-crit-dmg-x">{{#critical_dmg1_type}}<span data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{critical_dmg1_type}}</span>{{/critical_dmg1_type}}{{^critical_dmg1_type}}<span data-i18n="extra-critical-damage">Xtra Crit Dmg</span>{{/critical_dmg1_type}}:<span class="sheet-right">+{{critical_dmg81}}</span></label>{{/critical_dmg81}}
                            {{#critical_dmg82}}<label class="sheet-atksbkg sheet-crit-dmg-x">{{#critical_dmg2_type}}<span data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{critical_dmg2_type}}</span>{{/critical_dmg2_type}}{{^critical_dmg2_type}}<span data-i18n="extra-critical-damage">Xtra Crit Dmg</span>{{/critical_dmg2_type}}:<span class="sheet-right">+{{critical_dmg82}}</span></label>{{/critical_dmg82}}
                        {{/rollWasCrit() attack8}}{{/no_attack_roll}}
                    {{^no_attack_roll}}{{#attack9}}<label class="sheet-atksbkg sheet-atk-i sheet-atk">{{^attack9name}}<span data-i18n="attack-9-ordinal">9th attack</span>{{/attack9name}}{{#attack9name}}<span class="sheet-atk">{{attack9name}}</span>{{/attack9name}}<span class="sheet-right">{{^attack9}}+{{/attack9}}{{attack9}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</span></label>{{/attack9}}{{/no_attack_roll}}
                    {{^no_damage}}{{#damage9}}<label class="sheet-atksbkg sheet-dmg"><span data-i18n="damage">Damage</span>{{#type9}}<span data-i18n-title="damage-type">- {{type9}}</span>{{/type9}}<span class="sheet-right">{{damage9}}</span></label>{{/damage9}}{{/no_damage}}
                    {{#precision_dmg91}}<label class="sheet-atksbkg sheet-dmg-x">{{#precision_dmg1_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{precision_dmg1_type}}</span>{{/precision_dmg1_type}}{{^precision_dmg1_type}}<span data-i18n="extra-damage">Precision Dmg</span>{{/precision_dmg1_type}}:<span class="sheet-right">{{precision_dmg91}}</span></label>{{/precision_dmg91}}
                    {{#precision_dmg92}}<label class="sheet-atksbkg sheet-dmg-x">{{#precision_dmg2_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{precision_dmg2_type}}</span>{{/precision_dmg2_type}}{{^precision_dmg2_type}}<span data-i18n="extra-damage">Precision Dmg</span>{{/precision_dmg2_type}}:<span class="sheet-right">{{precision_dmg92}}</span></label>{{/precision_dmg92}}
                    {{^no_attack_roll}}{{#rollWasCrit() attack9}}
                            {{#crit_confirm9}}<label class="sheet-atksbkg sheet-atk-c sheet-confirm"><span data-i18n="critical-confirm">Crit Confirm</span>:<span class="sheet-right">{{crit_confirm9}}{{^vsother}}{{#vs}} {{#vsac}}<span class="sheet-vs" data-i18n="versus-armor-class">vs AC</span>{{/vsac}}{{#vstouch}}<span class="sheet-vs" data-i18n="versus-touch">vs Touch</span>{{/vstouch}}{{#vsff}}<span class="sheet-vs" data-i18n="versus-flat-footed">vs FF</span>{{/vsff}}{{#vsfft}}<span class="sheet-vs" data-i18n="versus-flat-footed-touch">vs FF Touch</span>{{/vsfft}}{{#vscmd}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-defense">vs CMD</span>{{/vscmd}}{{#vscmb}}<span class="sheet-vs" data-i18n="versus-combat-maneuver-bonus">vs CMB</span>{{/vscmb}}{{/vs}}{{/vsother}}</span></label>{{/crit_confirm9}}
                            {{^no_damage}}{{#crit_damage9}}<label class="sheet-atksbkg sheet-crit-dmg"><span data-i18n="critical-damage">Crit Damage</span>:<span class="sheet-right">+{{crit_damage9}}</span></label>{{/crit_damage9}}{{/no_damage}}
                            {{#critical_dmg91}}<label class="sheet-atksbkg sheet-crit-dmg-x">{{#critical_dmg1_type}}<span data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{critical_dmg1_type}}</span>{{/critical_dmg1_type}}{{^critical_dmg1_type}}<span data-i18n="extra-critical-damage">Xtra Crit Dmg</span>{{/critical_dmg1_type}}:<span class="sheet-right">+{{critical_dmg91}}</span></label>{{/critical_dmg91}}
                            {{#critical_dmg92}}<label class="sheet-atksbkg sheet-crit-dmg-x">{{#critical_dmg2_type}}<span data-i18n-title="extra-critical-damage" data-i18n-aria-label="extra-critical-damage">{{critical_dmg2_type}}</span>{{/critical_dmg2_type}}{{^critical_dmg2_type}}<span data-i18n="extra-critical-damage">Xtra Crit Dmg</span>{{/critical_dmg2_type}}:<span class="sheet-right">+{{critical_dmg92}}</span></label>{{/critical_dmg92}}
                        {{/rollWasCrit() attack9}}{{/no_attack_roll}}
                    {{#allprops() font color accessible rounded header_image character_name character_id name_link subtitle attack damage crit_confirm crit_damage description attack2 damage2 crit_confirm2 crit_damage2 attack3 damage3 crit_confirm3 crit_damage3 attack4 damage4 crit_confirm4 crit_damage4 attack5 damage5 crit_confirm5 crit_damage5 attack6 damage6 crit_confirm6 crit_damage6 attack7 damage7 crit_confirm7 crit_damage7 attack8 attack9 damage8 damage9 crit_confirm8 crit_confirm9 crit_damage8 crit_damage9 melee_notes ranged_notes CMB_notes attack_notes type type2 type3 type4 type5 type6 type7 type8 type9 weapon_notes generic_note buff_note condition_note precision_dmg1 precision_dmg1_type precision_dmg2 precision_dmg2_type critical_dmg1 critical_dmg1_type critical_dmg2 critical_dmg2_type precision_dmg21 critical_dmg21 precision_dmg22 critical_dmg22 precision_dmg31 critical_dmg31 precision_dmg32 critical_dmg32 precision_dmg41 critical_dmg41 precision_dmg42 critical_dmg42 precision_dmg51 critical_dmg51 precision_dmg52 critical_dmg52 precision_dmg61 critical_dmg61 precision_dmg62 critical_dmg62 precision_dmg71 critical_dmg71 precision_dmg72 critical_dmg72 precision_dmg81 critical_dmg81 precision_dmg82 critical_dmg82 precision_dmg91 critical_dmg91 precision_dmg92 critical_dmg92 attack1name attack2name attack3name attack4name attack5name attack6name attack7name attack8name attack9name vs vsac vstouch vsff vsfft vscmd vscmb vsother no_attack_roll no_damage dual_precision_dmg dual_precision_dmg_type spelltracking1 spelltracking2 spelltracking3 spelltracking4 spelltracking5 spelltracking6 spelldescription1 spelldescription2 spelldescription3 spelldescription4 spelldescription5 spelldescription6 abilitytracking1 abilitytracking2 abilitytracking3 abilitytracking4 abilitytracking5 abilitytracking6 abilitydescription1 abilitydescription2 abilitydescription3 abilitydescription4 abilitydescription5 abilitydescription6 itemtracking1 itemtracking2 itemtracking3 itemtracking4 itemtracking5 itemtracking6 itemdescription1 itemdescription2 itemdescription3 itemdescription4 itemdescription5 itemdescription6 misctracking1 misctracking2 misctracking3 misctracking4 misctracking5 misctracking6 miscdescription1 miscdescription2 miscdescription3 miscdescription4 miscdescription5 miscdescription6 scroll_desc}}
                        <label><span>{{key}}</span>:<span class="sheet-right">{{value}}</span></label>
                    {{/allprops() font color accessible rounded header_image character_name character_id name_link subtitle attack damage crit_confirm crit_damage description attack2 damage2 crit_confirm2 crit_damage2 attack3 damage3 crit_confirm3 crit_damage3 attack4 damage4 crit_confirm4 crit_damage4 attack5 damage5 crit_confirm5 crit_damage5 attack6 damage6 crit_confirm6 crit_damage6 attack7 damage7 crit_confirm7 crit_damage7 attack8 attack9 damage8 damage9 crit_confirm8 crit_confirm9 crit_damage8 crit_damage9 melee_notes ranged_notes CMB_notes attack_notes type type2 type3 type4 type5 type6 type7 type8 type9 weapon_notes generic_note buff_note condition_note precision_dmg1 precision_dmg1_type precision_dmg2 precision_dmg2_type critical_dmg1 critical_dmg1_type critical_dmg2 critical_dmg2_type precision_dmg21 critical_dmg21 precision_dmg22 critical_dmg22 precision_dmg31 critical_dmg31 precision_dmg32 critical_dmg32 precision_dmg41 critical_dmg41 precision_dmg42 critical_dmg42 precision_dmg51 critical_dmg51 precision_dmg52 critical_dmg52 precision_dmg61 critical_dmg61 precision_dmg62 critical_dmg62 precision_dmg71 critical_dmg71 precision_dmg72 critical_dmg72 precision_dmg81 critical_dmg81 precision_dmg82 critical_dmg82 precision_dmg91 critical_dmg91 precision_dmg92 critical_dmg92 attack1name attack2name attack3name attack4name attack5name attack6name attack7name attack8name attack9name vs vsac vstouch vsff vsfft vscmd vscmb vsother no_attack_roll no_damage dual_precision_dmg dual_precision_dmg_type spelltracking1 spelltracking2 spelltracking3 spelltracking4 spelltracking5 spelltracking6 spelldescription1 spelldescription2 spelldescription3 spelldescription4 spelldescription5 spelldescription6 abilitytracking1 abilitytracking2 abilitytracking3 abilitytracking4 abilitytracking5 abilitytracking6 abilitydescription1 abilitydescription2 abilitydescription3 abilitydescription4 abilitydescription5 abilitydescription6 itemtracking1 itemtracking2 itemtracking3 itemtracking4 itemtracking5 itemtracking6 itemdescription1 itemdescription2 itemdescription3 itemdescription4 itemdescription5 itemdescription6 misctracking1 misctracking2 misctracking3 misctracking4 misctracking5 misctracking6 miscdescription1 miscdescription2 miscdescription3 miscdescription4 miscdescription5 miscdescription6 scroll_desc}}

                    <!-- has been moved to show damage type on each attack
				{{#type}}<label><span data-i18n="type">Type</span>:<span class="sheet-right">- {{type}}</span></label>{{/type}}
				-->
                    {{#melee_notes}}<label><span data-i18n="melee-notes">Melee Notes</span>:<span>{{melee_notes}}</span></label>{{/melee_notes}}
                    {{#ranged_notes}}<label><span data-i18n="ranged-notes">Ranged Notes</span>:<span>{{ranged_notes}}</span></label>{{/ranged_notes}}
                    {{#CMB_notes}}<label><span data-i18n="combat-maneuver-base-notes">CMB Notes</span>:<span>{{CMB_notes}}</span></label>{{/CMB_notes}}
                    {{#attack_notes}}<label><span data-i18n="attack">Attack Notes</span>:<span>{{attack_notes}}</span></label>{{/attack_notes}}
                    {{#weapon_notes}}<label><span data-i18n="weapon-notes">Weapon Notes</span>:<span>{{weapon_notes}}</span></label>{{/weapon_notes}}
                    {{#description}}<span class="sheet-roll-description {{scroll_desc}}">{{description}}</span>{{/description}}
                    {{#generic_note}}<span class="sheet-roll-description">{{generic_note}}</span>{{/generic_note}}
                    {{#buff_note}}<span class="sheet-roll-description">{{buff_note}}</span>{{/buff_note}}
                    {{#condition_note}}<span class="sheet-roll-description">{{condition_note}}</span>{{/condition_note}}
                    {{#dual_precision_dmg}}<label class="sheet-atksbkg sheet-atk">{{#dual_precision_dmg_type}}<span data-i18n-title="extra-damage" data-i18n-aria-label="extra-damage">{{dual_precision_dmg_type}}</span>{{/dual_precision_dmg_type}}{{^dual_precision_dmg_type}}<span data-i18n="extra-damage">dual_precision Dmg</span>{{/dual_precision_dmg_type}}:<span class="sheet-right">{{dual_precision_dmg}}</span></label>{{/dual_precision_dmg}}

                    {{#spelltracking1}}<label class="sheet-pfctracking">{{#spelldescription1}}{{spelldescription1}}:<span class="sheet-pictos">{{spelltracking1}}</span>{{/spelldescription1}}{{^spelldescription1}}<span data-i18n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking1}}</span>{{/spelldescription1}}</label>{{/spelltracking1}}
                    {{#spelltracking2}}<label class="sheet-pfctracking">{{#spelldescription2}}{{spelldescription2}}:<span class="sheet-pictos">{{spelltracking2}}</span>{{/spelldescription2}}{{^spelldescription2}}<span data-i28n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking2}}</span>{{/spelldescription2}}</label>{{/spelltracking2}}
                    {{#spelltracking3}}<label class="sheet-pfctracking">{{#spelldescription3}}{{spelldescription3}}:<span class="sheet-pictos">{{spelltracking3}}</span>{{/spelldescription3}}{{^spelldescription3}}<span data-i38n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking3}}</span>{{/spelldescription3}}</label>{{/spelltracking3}}
                    {{#spelltracking4}}<label class="sheet-pfctracking">{{#spelldescription4}}{{spelldescription4}}:<span class="sheet-pictos">{{spelltracking4}}</span>{{/spelldescription4}}{{^spelldescription4}}<span data-i48n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking4}}</span>{{/spelldescription4}}</label>{{/spelltracking4}}
                    {{#spelltracking5}}<label class="sheet-pfctracking">{{#spelldescription5}}{{spelldescription5}}:<span class="sheet-pictos">{{spelltracking5}}</span>{{/spelldescription5}}{{^spelldescription5}}<span data-i58n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking5}}</span>{{/spelldescription5}}</label>{{/spelltracking5}}
                    {{#spelltracking6}}<label class="sheet-pfctracking">{{#spelldescription6}}{{spelldescription6}}:<span class="sheet-pictos">{{spelltracking6}}</span>{{/spelldescription6}}{{^spelldescription6}}<span data-i68n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking6}}</span>{{/spelldescription6}}</label>{{/spelltracking6}}

                    {{#abilitytracking1}}<label class="sheet-pfctracking">{{#abilitydescription1}}{{abilitydescription1}}:<span class="sheet-pictos">{{abilitytracking1}}</span>{{/abilitydescription1}}{{^abilitydescription1}}<span data-i18n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking1}}</span>{{/abilitydescription1}}</label>{{/abilitytracking1}}
                    {{#abilitytracking2}}<label class="sheet-pfctracking">{{#abilitydescription2}}{{abilitydescription2}}:<span class="sheet-pictos">{{abilitytracking2}}</span>{{/abilitydescription2}}{{^abilitydescription2}}<span data-i28n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking2}}</span>{{/abilitydescription2}}</label>{{/abilitytracking2}}
                    {{#abilitytracking3}}<label class="sheet-pfctracking">{{#abilitydescription3}}{{abilitydescription3}}:<span class="sheet-pictos">{{abilitytracking3}}</span>{{/abilitydescription3}}{{^abilitydescription3}}<span data-i38n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking3}}</span>{{/abilitydescription3}}</label>{{/abilitytracking3}}
                    {{#abilitytracking4}}<label class="sheet-pfctracking">{{#abilitydescription4}}{{abilitydescription4}}:<span class="sheet-pictos">{{abilitytracking4}}</span>{{/abilitydescription4}}{{^abilitydescription4}}<span data-i48n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking4}}</span>{{/abilitydescription4}}</label>{{/abilitytracking4}}
                    {{#abilitytracking5}}<label class="sheet-pfctracking">{{#abilitydescription5}}{{abilitydescription5}}:<span class="sheet-pictos">{{abilitytracking5}}</span>{{/abilitydescription5}}{{^abilitydescription5}}<span data-i58n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking5}}</span>{{/abilitydescription5}}</label>{{/abilitytracking5}}
                    {{#abilitytracking6}}<label class="sheet-pfctracking">{{#abilitydescription6}}{{abilitydescription6}}:<span class="sheet-pictos">{{abilitytracking6}}</span>{{/abilitydescription6}}{{^abilitydescription6}}<span data-i68n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking6}}</span>{{/abilitydescription6}}</label>{{/abilitytracking6}}

                    {{#itemtracking1}}<label class="sheet-pfctracking">{{#itemdescription1}}{{itemdescription1}}:<span class="sheet-pictos">{{itemtracking1}}</span>{{/itemdescription1}}{{^itemdescription1}}<span data-i18n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking1}}</span>{{/itemdescription1}}</label>{{/itemtracking1}}
                    {{#itemtracking2}}<label class="sheet-pfctracking">{{#itemdescription2}}{{itemdescription2}}:<span class="sheet-pictos">{{itemtracking2}}</span>{{/itemdescription2}}{{^itemdescription2}}<span data-i28n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking2}}</span>{{/itemdescription2}}</label>{{/itemtracking2}}
                    {{#itemtracking3}}<label class="sheet-pfctracking">{{#itemdescription3}}{{itemdescription3}}:<span class="sheet-pictos">{{itemtracking3}}</span>{{/itemdescription3}}{{^itemdescription3}}<span data-i38n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking3}}</span>{{/itemdescription3}}</label>{{/itemtracking3}}
                    {{#itemtracking4}}<label class="sheet-pfctracking">{{#itemdescription4}}{{itemdescription4}}:<span class="sheet-pictos">{{itemtracking4}}</span>{{/itemdescription4}}{{^itemdescription4}}<span data-i48n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking4}}</span>{{/itemdescription4}}</label>{{/itemtracking4}}
                    {{#itemtracking5}}<label class="sheet-pfctracking">{{#itemdescription5}}{{itemdescription5}}:<span class="sheet-pictos">{{itemtracking5}}</span>{{/itemdescription5}}{{^itemdescription5}}<span data-i58n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking5}}</span>{{/itemdescription5}}</label>{{/itemtracking5}}
                    {{#itemtracking6}}<label class="sheet-pfctracking">{{#itemdescription6}}{{itemdescription6}}:<span class="sheet-pictos">{{itemtracking6}}</span>{{/itemdescription6}}{{^itemdescription6}}<span data-i68n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking6}}</span>{{/itemdescription6}}</label>{{/itemtracking6}}

                    {{#misctracking1}}<label class="sheet-pfctracking">{{#miscdescription1}}{{miscdescription1}}:<span class="sheet-pictos">{{misctracking1}}</span>{{/miscdescription1}}{{^miscdescription1}}<span data-i18n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking1}}</span>{{/miscdescription1}}</label>{{/misctracking1}}
                    {{#misctracking2}}<label class="sheet-pfctracking">{{#miscdescription2}}{{miscdescription2}}:<span class="sheet-pictos">{{misctracking2}}</span>{{/miscdescription2}}{{^miscdescription2}}<span data-i28n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking2}}</span>{{/miscdescription2}}</label>{{/misctracking2}}
                    {{#misctracking3}}<label class="sheet-pfctracking">{{#miscdescription3}}{{miscdescription3}}:<span class="sheet-pictos">{{misctracking3}}</span>{{/miscdescription3}}{{^miscdescription3}}<span data-i38n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking3}}</span>{{/miscdescription3}}</label>{{/misctracking3}}
                    {{#misctracking4}}<label class="sheet-pfctracking">{{#miscdescription4}}{{miscdescription4}}:<span class="sheet-pictos">{{misctracking4}}</span>{{/miscdescription4}}{{^miscdescription4}}<span data-i48n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking4}}</span>{{/miscdescription4}}</label>{{/misctracking4}}
                    {{#misctracking5}}<label class="sheet-pfctracking">{{#miscdescription5}}{{miscdescription5}}:<span class="sheet-pictos">{{misctracking5}}</span>{{/miscdescription5}}{{^miscdescription5}}<span data-i58n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking5}}</span>{{/miscdescription5}}</label>{{/misctracking5}}
                    {{#misctracking6}}<label class="sheet-pfctracking">{{#miscdescription6}}{{miscdescription6}}:<span class="sheet-pictos">{{misctracking6}}</span>{{/miscdescription6}}{{^miscdescription6}}<span data-i68n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking6}}</span>{{/miscdescription6}}</label>{{/misctracking6}}
                </div>
            {{/accessible}}
        </rolltemplate>
        <!-- Defense Roll Templates -->
        <rolltemplate class="sheet-rolltemplate-pf_defense">
            {{^accessible}}
                <div class="sheet-roll-table sheet-rolltemplate-pf_defense {{#font}}font-{{font}}{{/font}} {{#color}}color-{{color}}{{/color}} {{#rounded}}rounded{{/rounded}}" role="presentation">
                    <div class="sheet-roll-header">
                        {{#header_image}}<span class="sheet-header-image">{{header_image}}</span>{{/header_image}}
                        <span class="sheet-left">
                            {{#character_name}}
                                {{#character_id}}[{{character_name}}](https://journal.roll20.net/character/{{character_id}}){{/character_id}}
                                    {{^character_id}}{{character_name}}{{/character_id}}
                                    {{#name}}:{{/name}}
                            {{/character_name}}
                            {{#name}}
                                {{#name_link}}[{{name}}]({{name_link}}){{/name_link}}
                                    {{^name_link}}{{name}}{{/name_link}}
                            {{/name}}
                        </span>
                        {{#subtitle}}<span class="sheet-subtitle">{{subtitle}}</span>{{/subtitle}}
                    </div>
                    <div class="sheet-roll-group">
                        {{#buttons}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{buttons}}</div>
                            </div>
                        {{/buttons}}
                    </div>
                    <div class="sheet-roll-table-inner">
                        <div class="sheet-roll-group2">
                            {{#allprops() font spellfail showdefenses showsaves showspecialdefenses buttons ac touch flat_footed cmd cmd_ff fort ref will color accessible rounded header_image character_name character_id name_link subtitle defensive-abilities_notes dr_notes resistances_notes immunities_notes weaknesses_notes sr0_notes armor_notes save_notes cmd_notes defense_notes description generic_note buff_note condition_note scroll_desc}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**{{key}}**:</div>
                                    <div class="sheet-roll-cell">{{value}}</div>
                                </div>
                            {{/allprops() font spellfail showdefenses showsaves showspecialdefenses buttons ac touch flat_footed cmd cmd_ff fort ref will color accessible rounded header_image character_name character_id name_link subtitle defensive-abilities_notes dr_notes resistances_notes immunities_notes weaknesses_notes sr0_notes armor_notes save_notes cmd_notes defense_notes description generic_note buff_note condition_note scroll_desc}}
                        </div>
                    </div>
                    <div class="sheet-roll-group">
                        {{#showdefenses}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="defenses">Defenses</span>** </div>
                            </div>
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">{{#ac}}**<span data-i18n="armor-class-abbrv">AC</span>:** {{ac}}, {{/ac}}
                                    {{#touch}}**<span data-i18n="touch">Touch</span>:** {{touch}}, {{/touch}}
                                    {{#flat_footed}}**<span data-i18n="flat-footed">Flat Footed</span>:** {{flat_footed}}, {{/flat_footed}}
                                    {{#cmd}}**<span data-i18n="combat-maneuver-defense-abbrv">CMD</span>:** {{cmd}}, {{/cmd}}
                                    {{#cmd_ff}}**<span data-i18n="combat-maneuver-defense-ff-abbrv">FF CMD</span>:** {{cmd_ff}}{{/cmd_ff}}
                                    {{#dr_notes}}, **<span data-i18n="damage-resistance-abbrv">DR</span>:** {{dr_notes}}{{/dr_notes}}
                                </div>
                            </div>
                            {{#armor_notes}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="armor-notes">Armor Notes</span>:** {{armor_notes}}</div>
                                </div>
                            {{/armor_notes}}
                            {{#cmd_notes}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="combat-maneuver-defense-notes">CMD Notes</span>:** {{cmd_notes}}</div>
                                </div>
                            {{/cmd_notes}}
                        {{/showdefenses}}
                        {{#showsaves}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="saving-throws">Saving Throws</span>** </div>
                            </div>
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">{{#fort}}**<span data-i18n="fortitude-abbrv">Fort</span>:** {{fort}}, {{/fort}}
                                    {{#ref}}**<span data-i18n="reflex-abbrv">Ref</span>:** {{ref}}, {{/ref}}
                                    {{#will}}**<span data-i18n="willpower-abbrv">Will</span>:** {{will}}{{/will}}
                                    {{#sr0_notes}}, **<span data-i18n="spell-resistance-abbrv">Spell Resistances</span>:** {{sr0_notes}}{{/sr0_notes}}
                                </div>
                            </div>
                        {{/showsaves}}
                        {{#save_notes}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="save-notes">Save Notes</span>:** {{save_notes}}</div>
                            </div>
                        {{/save_notes}}
                        {{#showspecialdefenses}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="special-defense-notes">Special Defenses and Notes</span>** </div>
                            </div>
                            {{#spellfail}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="spell-failure-chance style=" margin-left:1em;">vs Spell Failure Chance</span>:** {{spellfail}}%</div>
                                </div>
                            {{/spellfail}}
                            {{#resistances_notes}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="resistance">Resistances</span>:** {{resistances_notes}}</div>
                                </div>
                            {{/resistances_notes}}
                            {{#immunities_notes}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="immunities">Immunities</span>:** {{immunities_notes}}</div>
                                </div>
                            {{/immunities_notes}}
                            {{#weaknesses_notes}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="weaknesses">Weaknesses</span>:** {{weaknesses_notes}}</div>
                                </div>
                            {{/weaknesses_notes}}
                            {{#defense_notes}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="defense-notes">Defensive Notes</span>:** {{defense_notes}}</div>
                                </div>
                            {{/defense_notes}}
                            {{#defensive-abilities_notes}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="defensive-abilities">Defensive Abilities</span>:** {{defensive-abilities_notes}}</div>
                                </div>
                            {{/defensive-abilities_notes}}
                        {{/showspecialdefenses}}
                        {{#description}}
                            <div class="sheet-roll-row sheet-roll-description {{scroll_desc}}">
                                <div class="sheet-roll-cell">{{description}}</div>
                            </div>
                        {{/description}}
                        {{#generic_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{generic_note}}</div>
                            </div>
                        {{/generic_note}}
                        {{#buff_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{buff_note}}</div>
                            </div>
                        {{/buff_note}}
                        {{#condition_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{condition_note}}</div>
                            </div>
                        {{/condition_note}}
                    </div>
                </div>
            {{/accessible}}
            {{#accessible}}
                <div class="sheet-roll-accessible {{#font}}font-{{font}}{{/font}} {{#color}}color-{{color}}{{/color}} {{#rounded}}rounded{{/rounded}}" role="presentation">
                    <h3 class="sheet-roll-header">
                        {{#character_name}}{{character_name}}{{#name}}: {{/name}}{{/character_name}}
                        {{#name}}{{name}}{{/name}}
                    </h3>
                    {{#subtitle}}
                        <h4>{{subtitle}}</h4>
                    {{/subtitle}}
                    {{#buttons}}<span class="sheet-roll-description">{{buttons}}</span>{{/buttons}}
                    {{#allprops() font spellfail showdefenses showsaves showspecialdefenses buttons ac touch flat_footed cmd cmd_ff fort ref will color accessible rounded header_image character_name character_id name_link subtitle defensive-abilities_notes dr_notes resistances_notes immunities_notes weaknesses_notes sr0_notes armor_notes save_notes cmd_notes defense_notes description generic_note buff_note condition_note scroll_desc}}
                        <label>**{{key}}**:<span>{{value}}</span></label>
                    {{/allprops() font spellfail showdefenses showsaves showspecialdefenses buttons ac touch flat_footed cmd cmd_ff fort ref will color accessible rounded header_image character_name character_id name_link subtitle defensive-abilities_notes dr_notes resistances_notes immunities_notes weaknesses_notes sr0_notes armor_notes save_notes cmd_notes defense_notes description generic_note buff_note condition_note scroll_desc}}
                    {{#showdefenses}}
                        <h4><span>**<span data-i18n="defenses">Defenses</span>** </span></h4>
                        <label><span>{{#ac}}<span style="white-space:nowrap;"><span data-i18n="armor-class-abbrv">AC</span>: {{ac}},</span> {{/ac}}
                                {{#touch}}<span style="white-space:nowrap;"><span data-i18n="touch">Touch</span>: {{touch}},</span> {{/touch}}
                                {{#flat_footed}}<span style="white-space:nowrap;"><span data-i18n="flat-footed">Flat Footed</span>: {{flat_footed}},</span> {{/flat_footed}}
                                {{#cmd}}<span style="white-space:nowrap;"><span data-i18n="combat-maneuver-defense-abbrv">CMD</span>: {{cmd}},</span> {{/cmd}}
                                {{#cmd_ff}}<span style="white-space:nowrap;"><span data-i18n="combat-maneuver-defense-ff-abbrv">FF CMD</span>: {{cmd_ff}}</span>{{/cmd_ff}}
                                {{#dr_notes}}, <span style="white-space:nowrap;"><span data-i18n="damage-resistance-abbrv">DR</span>: {{dr_notes}}</span>{{/dr_notes}}</span></label>
                        {{#armor_notes}}<label><span>**<span data-i18n="armor-notes">Armor Notes</span>:** {{armor_notes}}</span></label>{{/armor_notes}}
                        {{#cmd_notes}}<label><span>**<span data-i18n="combat-maneuver-defense-notes">CMD Notes</span>:** {{cmd_notes}}</span></label>{{/cmd_notes}}
                    {{/showdefenses}}
                    {{#showsaves}}
                        <h4><span>**<span data-i18n="saving-throws">Saving Throws</span>** </span></h4>
                        <label><span>{{#fort}}<span style="white-space:nowrap;"><span data-i18n="fortitude-abbrv">Fort</span>: {{fort}},</span> {{/fort}}
                                {{#ref}}<span style="white-space:nowrap;"><span data-i18n="reflex-abbrv">Ref</span>: {{ref}},</span> {{/ref}}
                                {{#will}}<span style="white-space:nowrap;"><span data-i18n="willpower-abbrv">Will</span>: {{will}}</span>{{/will}}</span></label>
                        {{#sr0_notes}}, <span style="white-space:nowrap;"><span data-i18n="spell-resistance-abbrv2">Spell Resist</span>: {{sr0_notes}}</span>{{/sr0_notes}}
                    {{/showsaves}}
                    {{#save_notes}}<label><span>**<span data-i18n="save-notes">Saves</span>:** {{save_notes}}</span></label>{{/save_notes}}
                    {{#showspecialdefenses}}
                        <h4><span>**<span data-i18n="special-defense-notes">Special Defenses and Notes</span>** </span></h4>
                        {{#spellfail}}<label><span>**<span data-i18n="spell-failure-chance">vs Spell Failure Chance</span>:** {{spellfail}}</span></label>{{/spellfail}}
                        {{#resistances_notes}}<label><span>**<span data-i18n="resistances">Resistances</span>:** {{resistances_notes}}</span></label>{{/resistances_notes}}
                        {{#immunities_notes}}<label><span>**<span data-i18n="immunities">Immunities</span>:** {{immunities_notes}}</span></label>{{/immunities_notes}}
                        {{#weaknesses_notes}}<label><span>**<span data-i18n="weaknesses">Weaknesses</span>:** {{weaknesses_notes}}</span></label>{{/weaknesses_notes}}
                        {{#defense_notes}}<label><span>**<span data-i18n="defense-notes">Defenses</span>:** {{defense_notes}}</span></label>{{/defense_notes}}
                        {{#defensive-abilities_notes}}<label><span>**<span data-i18n="defensive-abilities">Defensive Abilities</span>:** {{defensive-abilities_notes}}</span></label>{{/defensive-abilities_notes}}
                    {{/showspecialdefenses}}
                    {{#description}}<span class="sheet-roll-description {{scroll_desc}}">{{description}}</span>{{/description}}
                    {{#generic_note}}<span class="sheet-roll-description">{{generic_note}}</span>{{/generic_note}}
                    {{#buff_note}}<span class="sheet-roll-description">{{buff_note}}</span>{{/buff_note}}
                    {{#condition_note}}<span class="sheet-roll-description">{{condition_note}}</span>{{/condition_note}}

                </div>
            {{/accessible}}
        </rolltemplate>
        <!-- Ability Roll Templates -->
        <rolltemplate class="sheet-rolltemplate-pf_ability">
            {{^accessible}}
                <div class="sheet-roll-table sheet-rolltemplate-pf_ability {{#font}}font-{{font}}{{/font}} {{#color}}color-{{color}}{{/color}} {{#rounded}}rounded{{/rounded}}" role="presentation">
                    <div class="sheet-roll-header">
                        {{#header_image}}<span class="sheet-header-image">{{header_image}}</span>{{/header_image}}
                        <span class="sheet-left">
                            {{#character_name}}
                                {{#character_id}}[{{character_name}}](https://journal.roll20.net/character/{{character_id}}){{/character_id}}
                                    {{^character_id}}{{character_name}}{{/character_id}}
                                    {{#name}}:{{/name}}
                            {{/character_name}}
                            {{#name}}
                                {{#name_link}}[{{name}}]({{name_link}}){{/name_link}}
                                    {{^name_link}}{{name}}{{/name_link}}
                            {{/name}}{{#ability_type}} ({{ability_type}}){{/ability_type}}
                        </span>
                        {{#rule_category}}{{#subtitle}}<span class="sheet-subtitle">{{subtitle}}</span>{{/subtitle}}{{/rule_category}}
                    </div>
                    <div class="sheet-roll-group">
                        {{#source}}
                        <div class="sheet-roll-row sheet-roll-description">
                            <div class="sheet-roll-cell">**<span data-i18n="source">Source</span>** {{source}}{{#casterlevel}} ({{casterlevel}}){{/casterlevel}}</div>
                        </div>{{/source}}
                        {{#cust_category}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{cust_category}}</div>
                            </div>
                        {{/cust_category}}
                    </div>
                    <div class="sheet-roll-table-inner">
                        <div class="sheet-roll-group2">
                            {{#hasfrequency}}{{#frequency}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell">**<span data-i18n="frequency">Frequency</span>**</div>
                                        <div class="sheet-roll-cell">{{#hasuses}}{{#uses}}{{uses}}{{/uses}}{{#uses_max}}/{{uses_max}}{{/uses_max}}{{/hasuses}}
                                                    {{frequency}}{{#next_cast}}, <span data-i18n="next-cast">Next Cast</span>: {{next_cast}}{{/next_cast}}</div>
                                    </div>
                                {{/frequency}}{{/hasfrequency}}
                            {{#save}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="save">Save</span>**</div>
                                    <div class="sheet-roll-cell">{{save}}{{#savedc}} <span data-i18n="difficulty-class-abbrv">DC&nbsp;</span>{{savedc}}{{/savedc}}</div>
                                </div>
                            {{/save}}
                            {{#is_sp}}
                                {{#casterlevel}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell">**<span data-i18n="caster-level">casterlevel</span>**</div>
                                        <div class="sheet-roll-cell">{{casterlevel}}</div>
                                    </div>
                                {{/casterlevel}}
                                {{#spell_level}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell">**<span data-i18n="spell-level">spell_level</span>**</div>
                                        <div class="sheet-roll-cell">{{spell_level}}</div>
                                    </div>
                                {{/spell_level}}
                                {{#hassr}}{{#sr}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell">**<span data-i18n="spell-resistance">Spell Resistance</span>**</div>
                                            <div class="sheet-roll-cell">{{sr}}</div>
                                        </div>
                                    {{/sr}}{{/hassr}}
                                {{#concentration}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell">**<span data-i18n="concentration">Concentration</span>**</div>
                                        <div class="sheet-roll-cell"> **+**{{concentration}}</div>
                                    </div>
                                {{/concentration}}
                                {{#hasspellrange}}{{#spell_range}}
                                        <div class="sheet-roll-row">
                                            <div class="sheet-roll-cell">**<span data-i18n="range">Range</span>**</div>
                                            <div class="sheet-roll-cell">{{spell_range}}{{#hasposrange}}{{#range}} ({{range}} <span data-i18n="feet-abbrv">ft.</span>){{/range}}{{/hasposrange}}</div>
                                        </div>
                                    {{/spell_range}}{{/hasspellrange}}
                            {{/is_sp}}
                            {{^is_sp}}{{#hasposrange}}
                                    <div class="sheet-roll-row">
                                        <div class="sheet-roll-cell">**<span data-i18n="range">Range</span>**</div>
                                        <div class="sheet-roll-cell">{{#range}}{{range}}{{/range}}</div>
                                    </div>
                                {{/hasposrange}}{{/is_sp}}
                            {{#hasattack}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="attack-type">Attack type</span>**</div>
                                    <div class="sheet-roll-cell">{{#attacktype}}{{attacktype}}{{/attacktype}}</div>
                                </div>
                            {{/hasattack}}
                            {{#targetarea}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="targets-area-effect">Targets/Area/Effect</span>**</div>
                                    <div class="sheet-roll-cell">{{targetarea}}</div>
                                </div>
                            {{/targetarea}}
                            {{#check}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="check">Check</span>**</div>
                                    <div class="sheet-roll-cell">{{check}}</div>
                                </div>
                            {{/check}}
                            {{#duration}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="duration">Duration</span>**</div>
                                    <div class="sheet-roll-cell">{{duration}}</div>
                                </div>
                            {{/duration}}
                            {{#damage}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>** {{#damagetype}} - {{damagetype}}{{/damagetype}}</div>
                                    <div class="sheet-roll-cell">{{damage}}</div>
                                </div>
                            {{/damage}}
                            {{#allprops() font color accessible rounded header_image character_name name character_id name_link subtitle casterlevel check shortdesc description class generic_note buff_note condition_note source rule_category cust_category hasfrequency frequency hasuses uses uses_max next_cast save savedc hasspellrange spell_range custrange hasposrange range is_sp hassr sr concentration hasattack attacktype targetarea damage damagetype deafened_note duration casterlevel spell_level spelltracking1 spelltracking2 spelltracking3 spelltracking4 spelltracking5 spelltracking6 spelldescription1 spelldescription2 spelldescription3 spelldescription4 spelldescription5 spelldescription6 abilitytracking1 abilitytracking2 abilitytracking3 abilitytracking4 abilitytracking5 abilitytracking6 abilitydescription1 abilitydescription2 abilitydescription3 abilitydescription4 abilitydescription5 abilitydescription6 itemtracking1 itemtracking2 itemtracking3 itemtracking4 itemtracking5 itemtracking6 itemdescription1 itemdescription2 itemdescription3 itemdescription4 itemdescription5 itemdescription6 misctracking1 misctracking2 misctracking3 misctracking4 misctracking5 misctracking6 miscdescription1 miscdescription2 miscdescription3 miscdescription4 miscdescription5 miscdescription6 scroll_desc}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**{{key}}**</div>
                                    <div class="sheet-roll-cell">{{value}}</div>
                                </div>
                            {{/allprops() font color accessible rounded header_image character_name name character_id name_link subtitle casterlevel check shortdesc description class generic_note buff_note condition_note source rule_category cust_category hasfrequency frequency hasuses uses uses_max next_cast save savedc hasspellrange spell_range custrange hasposrange range is_sp hassr sr concentration hasattack attacktype targetarea damage damagetype deafened_note duration casterlevel spell_level spelltracking1 spelltracking2 spelltracking3 spelltracking4 spelltracking5 spelltracking6 spelldescription1 spelldescription2 spelldescription3 spelldescription4 spelldescription5 spelldescription6 abilitytracking1 abilitytracking2 abilitytracking3 abilitytracking4 abilitytracking5 abilitytracking6 abilitydescription1 abilitydescription2 abilitydescription3 abilitydescription4 abilitydescription5 abilitydescription6 itemtracking1 itemtracking2 itemtracking3 itemtracking4 itemtracking5 itemtracking6 itemdescription1 itemdescription2 itemdescription3 itemdescription4 itemdescription5 itemdescription6 misctracking1 misctracking2 misctracking3 misctracking4 misctracking5 misctracking6 miscdescription1 miscdescription2 miscdescription3 miscdescription4 miscdescription5 miscdescription6 scroll_desc}}
                        </div>
                    </div>
                    <div class="sheet-roll-group">
                        {{#shortdesc}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{shortdesc}}</div>
                            </div>
                        {{/shortdesc}}
                        {{#description}}
                            <div class="sheet-roll-row sheet-roll-description {{scroll_desc}}">
                                <div class="sheet-roll-cell">**<span data-i18n="description">Description</span>:**{{description}}</div>
                            </div>
                        {{/description}}
                        {{#generic_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{generic_note}}</div>
                            </div>
                        {{/generic_note}}
                        {{#buff_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{buff_note}}</div>
                            </div>
                        {{/buff_note}}
                        {{#condition_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{condition_note}}</div>
                            </div>
                        {{/condition_note}}
                        {{#is_sp}}{{#deafened_note}}
                                <div class="sheet-roll-row sheet-roll-description">
                                    <div class="sheet-roll-cell">**<span data-i18n="deafened">Deafened</span>:**<span data-i18n="condition-deafened-spellonly">Has a 20% chance of spell failure when casting spells with verbal components.</span></div>
                                </div>
                            {{/deafened_note}}{{/is_sp}}

                        {{#spelltracking1}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription1}}{{spelldescription1}}:<span class="sheet-pictos">{{spelltracking1}}</span>{{/spelldescription1}}{{^spelldescription1}}<span data-i18n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking1}}</span>{{/spelldescription1}}</div>
                            </div>
                        {{/spelltracking1}}
                        {{#spelltracking2}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription2}}{{spelldescription2}}:<span class="sheet-pictos">{{spelltracking2}}</span>{{/spelldescription2}}{{^spelldescription2}}<span data-i28n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking2}}</span>{{/spelldescription2}}</div>
                            </div>
                        {{/spelltracking2}}
                        {{#spelltracking3}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription3}}{{spelldescription3}}:<span class="sheet-pictos">{{spelltracking3}}</span>{{/spelldescription3}}{{^spelldescription3}}<span data-i38n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking3}}</span>{{/spelldescription3}}</div>
                            </div>
                        {{/spelltracking3}}
                        {{#spelltracking4}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription4}}{{spelldescription4}}:<span class="sheet-pictos">{{spelltracking4}}</span>{{/spelldescription4}}{{^spelldescription4}}<span data-i48n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking4}}</span>{{/spelldescription4}}</div>
                            </div>
                        {{/spelltracking4}}
                        {{#spelltracking5}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription5}}{{spelldescription5}}:<span class="sheet-pictos">{{spelltracking5}}</span>{{/spelldescription5}}{{^spelldescription5}}<span data-i58n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking5}}</span>{{/spelldescription5}}</div>
                            </div>
                        {{/spelltracking5}}
                        {{#spelltracking6}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription6}}{{spelldescription6}}:<span class="sheet-pictos">{{spelltracking6}}</span>{{/spelldescription6}}{{^spelldescription6}}<span data-i68n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking6}}</span>{{/spelldescription6}}</div>
                            </div>
                        {{/spelltracking6}}

                        {{#abilitytracking1}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription1}}{{abilitydescription1}}:<span class="sheet-pictos">{{abilitytracking1}}</span>{{/abilitydescription1}}{{^abilitydescription1}}<span data-i18n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking1}}</span>{{/abilitydescription1}}</div>
                            </div>
                        {{/abilitytracking1}}
                        {{#abilitytracking2}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription2}}{{abilitydescription2}}:<span class="sheet-pictos">{{abilitytracking2}}</span>{{/abilitydescription2}}{{^abilitydescription2}}<span data-i28n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking2}}</span>{{/abilitydescription2}}</div>
                            </div>
                        {{/abilitytracking2}}
                        {{#abilitytracking3}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription3}}{{abilitydescription3}}:<span class="sheet-pictos">{{abilitytracking3}}</span>{{/abilitydescription3}}{{^abilitydescription3}}<span data-i38n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking3}}</span>{{/abilitydescription3}}</div>
                            </div>
                        {{/abilitytracking3}}
                        {{#abilitytracking4}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription4}}{{abilitydescription4}}:<span class="sheet-pictos">{{abilitytracking4}}</span>{{/abilitydescription4}}{{^abilitydescription4}}<span data-i48n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking4}}</span>{{/abilitydescription4}}</div>
                            </div>
                        {{/abilitytracking4}}
                        {{#abilitytracking5}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription5}}{{abilitydescription5}}:<span class="sheet-pictos">{{abilitytracking5}}</span>{{/abilitydescription5}}{{^abilitydescription5}}<span data-i58n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking5}}</span>{{/abilitydescription5}}</div>
                            </div>
                        {{/abilitytracking5}}
                        {{#abilitytracking6}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription6}}{{abilitydescription6}}:<span class="sheet-pictos">{{abilitytracking6}}</span>{{/abilitydescription6}}{{^abilitydescription6}}<span data-i68n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking6}}</span>{{/abilitydescription6}}</div>
                            </div>
                        {{/abilitytracking6}}

                        {{#itemtracking1}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription1}}{{itemdescription1}}:<span class="sheet-pictos">{{itemtracking1}}</span>{{/itemdescription1}}{{^itemdescription1}}<span data-i18n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking1}}</span>{{/itemdescription1}}</div>
                            </div>
                        {{/itemtracking1}}
                        {{#itemtracking2}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription2}}{{itemdescription2}}:<span class="sheet-pictos">{{itemtracking2}}</span>{{/itemdescription2}}{{^itemdescription2}}<span data-i28n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking2}}</span>{{/itemdescription2}}</div>
                            </div>
                        {{/itemtracking2}}
                        {{#itemtracking3}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription3}}{{itemdescription3}}:<span class="sheet-pictos">{{itemtracking3}}</span>{{/itemdescription3}}{{^itemdescription3}}<span data-i38n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking3}}</span>{{/itemdescription3}}</div>
                            </div>
                        {{/itemtracking3}}
                        {{#itemtracking4}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription4}}{{itemdescription4}}:<span class="sheet-pictos">{{itemtracking4}}</span>{{/itemdescription4}}{{^itemdescription4}}<span data-i48n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking4}}</span>{{/itemdescription4}}</div>
                            </div>
                        {{/itemtracking4}}
                        {{#itemtracking5}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription5}}{{itemdescription5}}:<span class="sheet-pictos">{{itemtracking5}}</span>{{/itemdescription5}}{{^itemdescription5}}<span data-i58n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking5}}</span>{{/itemdescription5}}</div>
                            </div>
                        {{/itemtracking5}}
                        {{#itemtracking6}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription6}}{{itemdescription6}}:<span class="sheet-pictos">{{itemtracking6}}</span>{{/itemdescription6}}{{^itemdescription6}}<span data-i68n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking6}}</span>{{/itemdescription6}}</div>
                            </div>
                        {{/itemtracking6}}

                        {{#misctracking1}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription1}}{{miscdescription1}}:<span class="sheet-pictos">{{misctracking1}}</span>{{/miscdescription1}}{{^miscdescription1}}<span data-i18n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking1}}</span>{{/miscdescription1}}</div>
                            </div>
                        {{/misctracking1}}
                        {{#misctracking2}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription2}}{{miscdescription2}}:<span class="sheet-pictos">{{misctracking2}}</span>{{/miscdescription2}}{{^miscdescription2}}<span data-i28n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking2}}</span>{{/miscdescription2}}</div>
                            </div>
                        {{/misctracking2}}
                        {{#misctracking3}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription3}}{{miscdescription3}}:<span class="sheet-pictos">{{misctracking3}}</span>{{/miscdescription3}}{{^miscdescription3}}<span data-i38n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking3}}</span>{{/miscdescription3}}</div>
                            </div>
                        {{/misctracking3}}
                        {{#misctracking4}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription4}}{{miscdescription4}}:<span class="sheet-pictos">{{misctracking4}}</span>{{/miscdescription4}}{{^miscdescription4}}<span data-i48n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking4}}</span>{{/miscdescription4}}</div>
                            </div>
                        {{/misctracking4}}
                        {{#misctracking5}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription5}}{{miscdescription5}}:<span class="sheet-pictos">{{misctracking5}}</span>{{/miscdescription5}}{{^miscdescription5}}<span data-i58n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking5}}</span>{{/miscdescription5}}</div>
                            </div>
                        {{/misctracking5}}
                        {{#misctracking6}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription6}}{{miscdescription6}}:<span class="sheet-pictos">{{misctracking6}}</span>{{/miscdescription6}}{{^miscdescription6}}<span data-i68n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking6}}</span>{{/miscdescription6}}</div>
                            </div>
                        {{/misctracking6}}
                    </div>
                </div>
            {{/accessible}}
            {{#accessible}}
                <div class="sheet-roll-accessible {{#font}}font-{{font}}{{/font}} {{#color}}color-{{color}}{{/color}} {{#rounded}}rounded{{/rounded}}" role="presentation">
                    <h3 class="sheet-roll-header">
                        {{#character_name}}{{character_name}}{{#name}}: {{/name}}{{/character_name}}
                        {{#name}}{{name}}{{/name}}{{#ability_type}} ({{ability_type}}){{/ability_type}}
                    </h3>
                    {{#rule_category}}{{#subtitle}}
                            <h4>{{subtitle}}</h4>
                        {{/subtitle}}{{/rule_category}}
                    {{#source}}<label>**<span data-i18n="source">Source</span>**<span class="sheet-right">{{source}}{{#casterlevel}} ({{casterlevel}}){{/casterlevel}}</span></label>{{/source}}
                    {{#cust_category}}<span class="sheet-roll-description">{{cust_category}}</span>{{/cust_category}}
                    {{#hasfrequency}}{{#frequency}}
                            <label>**<span data-i18n="frequency">Frequency</span>**
                                <span class="sheet-right">{{#hasuses}}{{#uses}}{{uses}}{{/uses}}{{#uses_max}}/{{uses_max}}{{/uses_max}}{{/hasuses}}
                                            {{frequency}}{{#next_cast}}, <span data-i18n="next-cast">{{next_cast}}</span>{{/next_cast}}</span></label>
                        {{/frequency}}{{/hasfrequency}}
                    {{#save}}<label>**<span data-i18n="save">Save</span>**<span class="sheet-right">{{save}}{{#savedc}} <span data-i18n="difficulty-class-abbrv">DC&nbsp;</span>{{savedc}}{{/savedc}}</span></label>{{/save}}
                    {{#is_sp}}
                        {{#casterlevel}}<label>**<span data-i18n="caster-level">casterlevel</span>**<span class="sheet-right">{{casterlevel}}</span></label>{{/casterlevel}}
                        {{#spell_level}}<label>**<span data-i18n="spell-level">spell_level</span>**<span class="sheet-right">{{spell_level}}</span></label>{{/spell_level}}
                        {{#hassr}}{{#sr}}<label>**<span data-i18n="spell-resistance">Spell Resistance</span>**<span class="sheet-right">{{sr}}</span></label>{{/sr}}{{/hassr}}
                        {{#concentration}}<label>**<span data-i18n="concentration">Concentration</span>**<span class="sheet-right"> **+**{{concentration}}</span></label>{{/concentration}}
                        {{#hasspellrange}}{{#spell_range}}<label>**<span data-i18n="range">Range</span>**<span class="sheet-right">{{spell_range}}{{#hasposrange}} ({{range}} <span data-i18n="feet-abbrv">ft.</span>){{/hasposrange}}</span></label>{{/spell_range}}{{/hasspellrange}}
                    {{/is_sp}}
                    {{^is_sp}}{{#hasposrange}}<label>**<span data-i18n="range">Range</span>**<span class="sheet-right">{{#range}}{{range}}{{/range}}</span></label>{{/hasposrange}}{{/is_sp}}
                    {{#hasattack}}<label>**<span data-i18n="attack-type">Attack type</span>**<span class="sheet-right">{{#attacktype}}{{attacktype}}{{/attacktype}} <span data-i18n="versus-touch">vs Touch</span></label>{{/hasattack}}
                    {{#targetarea}}<label>**<span data-i18n="targets-area-effect">Target/Area/Effect</span>**</span><span class="sheet-right">{{targetarea}}</span></label>{{/targetarea}}
                    {{#check}}<label>**<span data-i18n="check">Check</span>**<span class="sheet-right">{{check}}</span></label>{{/check}}
                    {{#duration}}<label>**<span data-i18n="duration">Duration</span>**<span class="sheet-right">{{duration}}</span></label>{{/duration}}
                    {{#damage}}<label>**<span data-i18n="damage">Damage</span>** {{#damagetype}} - {{damagetype}}{{/damagetype}}<span class="sheet-right">{{damage}}</span></label>{{/damage}}
                    {{#allprops() font color accessible rounded header_image character_name name character_id name_link subtitle check shortdesc description untrained class generic_note buff_note condition_note source rule_category cust_category hasfrequency frequency hasuses uses uses_max next_cast save savedc hasspellrange spell_range custrange hasposrange range is_sp hassr sr concentration hasattack attacktype targetarea damage damagetype deafened_note duration casterlevel spell_level abilitytracking1 spelltracking1 spelltracking2 spelltracking3 spelltracking4 spelltracking5 spelltracking6 spelldescription1 spelldescription2 spelldescription3 spelldescription4 spelldescription5 spelldescription6 abilitytracking1 abilitytracking2 abilitytracking3 abilitytracking4 abilitytracking5 abilitytracking6 abilitydescription1 abilitydescription2 abilitydescription3 abilitydescription4 abilitydescription5 abilitydescription6 itemtracking1 itemtracking2 itemtracking3 itemtracking4 itemtracking5 itemtracking6 itemdescription1 itemdescription2 itemdescription3 itemdescription4 itemdescription5 itemdescription6 misctracking1 misctracking2 misctracking3 misctracking4 misctracking5 misctracking6 miscdescription1 miscdescription2 miscdescription3 miscdescription4 miscdescription5 miscdescription6 scroll_desc}}
                        <label><span>**{{key}}**</span><span class="sheet-right">{{value}}</span></label>
                    {{/allprops() font color accessible rounded header_image character_name name character_id name_link subtitle check shortdesc description untrained class generic_note buff_note condition_note source rule_category cust_category hasfrequency frequency hasuses uses uses_max next_cast save savedc hasspellrange spell_range custrange hasposrange range is_sp hassr sr concentration hasattack attacktype targetarea damage damagetype deafened_note duration casterlevel spell_level abilitytracking1 spelltracking1 spelltracking2 spelltracking3 spelltracking4 spelltracking5 spelltracking6 spelldescription1 spelldescription2 spelldescription3 spelldescription4 spelldescription5 spelldescription6 abilitytracking1 abilitytracking2 abilitytracking3 abilitytracking4 abilitytracking5 abilitytracking6 abilitydescription1 abilitydescription2 abilitydescription3 abilitydescription4 abilitydescription5 abilitydescription6 itemtracking1 itemtracking2 itemtracking3 itemtracking4 itemtracking5 itemtracking6 itemdescription1 itemdescription2 itemdescription3 itemdescription4 itemdescription5 itemdescription6 misctracking1 misctracking2 misctracking3 misctracking4 misctracking5 misctracking6 miscdescription1 miscdescription2 miscdescription3 miscdescription4 miscdescription5 miscdescription6 scroll_desc}}
                    {{#shortdesc}}<span class="sheet-roll-description">{{shortdesc}}</span>{{/shortdesc}}
                    {{#description}}
                        <h4 data-i18n="description">Description</h4><span class="sheet-roll-description {{scroll_desc}}">{{description}}</span>
                    {{/description}}
                    {{#generic_note}}<span class="sheet-roll-description">{{generic_note}}</span>{{/generic_note}}
                    {{#buff_note}}<span class="sheet-roll-description">{{buff_note}}</span>{{/buff_note}}
                    {{#condition_note}}<span class="sheet-roll-description">{{condition_note}}</span>{{/condition_note}}
                    {{#is_sp}}{{#deafened_note}}
                            <h4 data-i18n="deafened">Deafened</h4><label><span data-i18n="condition-deafened-spellonly">Has a 20% chance of spell failure when casting spells with verbal components.</span></label>
                        {{/deafened_note}}{{/is_sp}}

                    {{#spelltracking1}}<label class="sheet-pfctracking">{{#spelldescription1}}{{spelldescription1}}:<span class="sheet-pictos">{{spelltracking1}}</span>{{/spelldescription1}}{{^spelldescription1}}<span data-i18n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking1}}</span>{{/spelldescription1}}</label>{{/spelltracking1}}
                    {{#spelltracking2}}<label class="sheet-pfctracking">{{#spelldescription2}}{{spelldescription2}}:<span class="sheet-pictos">{{spelltracking2}}</span>{{/spelldescription2}}{{^spelldescription2}}<span data-i28n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking2}}</span>{{/spelldescription2}}</label>{{/spelltracking2}}
                    {{#spelltracking3}}<label class="sheet-pfctracking">{{#spelldescription3}}{{spelldescription3}}:<span class="sheet-pictos">{{spelltracking3}}</span>{{/spelldescription3}}{{^spelldescription3}}<span data-i38n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking3}}</span>{{/spelldescription3}}</label>{{/spelltracking3}}
                    {{#spelltracking4}}<label class="sheet-pfctracking">{{#spelldescription4}}{{spelldescription4}}:<span class="sheet-pictos">{{spelltracking4}}</span>{{/spelldescription4}}{{^spelldescription4}}<span data-i48n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking4}}</span>{{/spelldescription4}}</label>{{/spelltracking4}}
                    {{#spelltracking5}}<label class="sheet-pfctracking">{{#spelldescription5}}{{spelldescription5}}:<span class="sheet-pictos">{{spelltracking5}}</span>{{/spelldescription5}}{{^spelldescription5}}<span data-i58n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking5}}</span>{{/spelldescription5}}</label>{{/spelltracking5}}
                    {{#spelltracking6}}<label class="sheet-pfctracking">{{#spelldescription6}}{{spelldescription6}}:<span class="sheet-pictos">{{spelltracking6}}</span>{{/spelldescription6}}{{^spelldescription6}}<span data-i68n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking6}}</span>{{/spelldescription6}}</label>{{/spelltracking6}}

                    {{#abilitytracking1}}<label class="sheet-pfctracking">{{#abilitydescription1}}{{abilitydescription1}}:<span class="sheet-pictos">{{abilitytracking1}}</span>{{/abilitydescription1}}{{^abilitydescription1}}<span data-i18n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking1}}</span>{{/abilitydescription1}}</label>{{/abilitytracking1}}
                    {{#abilitytracking2}}<label class="sheet-pfctracking">{{#abilitydescription2}}{{abilitydescription2}}:<span class="sheet-pictos">{{abilitytracking2}}</span>{{/abilitydescription2}}{{^abilitydescription2}}<span data-i28n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking2}}</span>{{/abilitydescription2}}</label>{{/abilitytracking2}}
                    {{#abilitytracking3}}<label class="sheet-pfctracking">{{#abilitydescription3}}{{abilitydescription3}}:<span class="sheet-pictos">{{abilitytracking3}}</span>{{/abilitydescription3}}{{^abilitydescription3}}<span data-i38n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking3}}</span>{{/abilitydescription3}}</label>{{/abilitytracking3}}
                    {{#abilitytracking4}}<label class="sheet-pfctracking">{{#abilitydescription4}}{{abilitydescription4}}:<span class="sheet-pictos">{{abilitytracking4}}</span>{{/abilitydescription4}}{{^abilitydescription4}}<span data-i48n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking4}}</span>{{/abilitydescription4}}</label>{{/abilitytracking4}}
                    {{#abilitytracking5}}<label class="sheet-pfctracking">{{#abilitydescription5}}{{abilitydescription5}}:<span class="sheet-pictos">{{abilitytracking5}}</span>{{/abilitydescription5}}{{^abilitydescription5}}<span data-i58n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking5}}</span>{{/abilitydescription5}}</label>{{/abilitytracking5}}
                    {{#abilitytracking6}}<label class="sheet-pfctracking">{{#abilitydescription6}}{{abilitydescription6}}:<span class="sheet-pictos">{{abilitytracking6}}</span>{{/abilitydescription6}}{{^abilitydescription6}}<span data-i68n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking6}}</span>{{/abilitydescription6}}</label>{{/abilitytracking6}}

                    {{#itemtracking1}}<label class="sheet-pfctracking">{{#itemdescription1}}{{itemdescription1}}:<span class="sheet-pictos">{{itemtracking1}}</span>{{/itemdescription1}}{{^itemdescription1}}<span data-i18n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking1}}</span>{{/itemdescription1}}</label>{{/itemtracking1}}
                    {{#itemtracking2}}<label class="sheet-pfctracking">{{#itemdescription2}}{{itemdescription2}}:<span class="sheet-pictos">{{itemtracking2}}</span>{{/itemdescription2}}{{^itemdescription2}}<span data-i28n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking2}}</span>{{/itemdescription2}}</label>{{/itemtracking2}}
                    {{#itemtracking3}}<label class="sheet-pfctracking">{{#itemdescription3}}{{itemdescription3}}:<span class="sheet-pictos">{{itemtracking3}}</span>{{/itemdescription3}}{{^itemdescription3}}<span data-i38n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking3}}</span>{{/itemdescription3}}</label>{{/itemtracking3}}
                    {{#itemtracking4}}<label class="sheet-pfctracking">{{#itemdescription4}}{{itemdescription4}}:<span class="sheet-pictos">{{itemtracking4}}</span>{{/itemdescription4}}{{^itemdescription4}}<span data-i48n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking4}}</span>{{/itemdescription4}}</label>{{/itemtracking4}}
                    {{#itemtracking5}}<label class="sheet-pfctracking">{{#itemdescription5}}{{itemdescription5}}:<span class="sheet-pictos">{{itemtracking5}}</span>{{/itemdescription5}}{{^itemdescription5}}<span data-i58n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking5}}</span>{{/itemdescription5}}</label>{{/itemtracking5}}
                    {{#itemtracking6}}<label class="sheet-pfctracking">{{#itemdescription6}}{{itemdescription6}}:<span class="sheet-pictos">{{itemtracking6}}</span>{{/itemdescription6}}{{^itemdescription6}}<span data-i68n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking6}}</span>{{/itemdescription6}}</label>{{/itemtracking6}}

                    {{#misctracking1}}<label class="sheet-pfctracking">{{#miscdescription1}}{{miscdescription1}}:<span class="sheet-pictos">{{misctracking1}}</span>{{/miscdescription1}}{{^miscdescription1}}<span data-i18n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking1}}</span>{{/miscdescription1}}</label>{{/misctracking1}}
                    {{#misctracking2}}<label class="sheet-pfctracking">{{#miscdescription2}}{{miscdescription2}}:<span class="sheet-pictos">{{misctracking2}}</span>{{/miscdescription2}}{{^miscdescription2}}<span data-i28n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking2}}</span>{{/miscdescription2}}</label>{{/misctracking2}}
                    {{#misctracking3}}<label class="sheet-pfctracking">{{#miscdescription3}}{{miscdescription3}}:<span class="sheet-pictos">{{misctracking3}}</span>{{/miscdescription3}}{{^miscdescription3}}<span data-i38n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking3}}</span>{{/miscdescription3}}</label>{{/misctracking3}}
                    {{#misctracking4}}<label class="sheet-pfctracking">{{#miscdescription4}}{{miscdescription4}}:<span class="sheet-pictos">{{misctracking4}}</span>{{/miscdescription4}}{{^miscdescription4}}<span data-i48n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking4}}</span>{{/miscdescription4}}</label>{{/misctracking4}}
                    {{#misctracking5}}<label class="sheet-pfctracking">{{#miscdescription5}}{{miscdescription5}}:<span class="sheet-pictos">{{misctracking5}}</span>{{/miscdescription5}}{{^miscdescription5}}<span data-i58n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking5}}</span>{{/miscdescription5}}</label>{{/misctracking5}}
                    {{#misctracking6}}<label class="sheet-pfctracking">{{#miscdescription6}}{{miscdescription6}}:<span class="sheet-pictos">{{misctracking6}}</span>{{/miscdescription6}}{{^miscdescription6}}<span data-i68n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking6}}</span>{{/miscdescription6}}</label>{{/misctracking6}}
                </div>
            {{/accessible}}
        </rolltemplate>
        <!-- Generic Roll Templates -->
        <rolltemplate class="sheet-rolltemplate-pf_generic">
            {{^accessible}}
                <div class="sheet-roll-table sheet-rolltemplate-pf_generic {{#font}}font-{{font}}{{/font}} {{#color}}color-{{color}}{{/color}} {{#rounded}}rounded{{/rounded}}" role="presentation">
                    <div class="sheet-roll-header">
                        {{#header_image}}<span class="sheet-header-image">{{header_image}}</span>{{/header_image}}
                        <span class="sheet-left">
                            {{#character_name}}
                                {{#character_id}}[{{character_name}}](https://journal.roll20.net/character/{{character_id}}){{/character_id}}
                                    {{^character_id}}{{character_name}}{{/character_id}}
                                    {{#name}}:{{/name}}
                            {{/character_name}}
                            {{#name}}
                                {{#name_link}}[{{name}}]({{name_link}}){{/name_link}}
                                    {{^name_link}}{{name}}{{/name_link}}
                            {{/name}}
                        </span>
                        {{#subtitle}}<span class="sheet-subtitle">{{subtitle}}</span>{{/subtitle}}
                    </div>
                    <div class="sheet-roll-table-inner">
                        <div class="sheet-roll-group2">
                            {{#check}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="check"></span>:**</div>
                                    <div class="sheet-roll-cell">{{check}}</div>
                                </div>
                            {{/check}}
                            {{#class}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="class"></span>:**</div>
                                    <div class="sheet-roll-cell">{{class}}</div>
                                </div>
                            {{/class}}
                            {{#testrange}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**<span data-i18n="range"></span>:**</div>
                                    <div class="sheet-roll-cell">^{{{testrange}}}</div>
                                </div>
                            {{/testrange}}
                        </div>
                    </div>
                    <div class="sheet-roll-group">
                        {{#lefttext_1}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">{{lefttext_1}}</div>
                            </div>
                        {{/lefttext_1}}
                        {{#righttext_1}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-right">{{righttext_1}}</div>
                            </div>
                        {{/righttext_1}}
                        {{#lefttext_2}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">{{lefttext_2}}</div>
                            </div>
                        {{/lefttext_2}}
                        {{#righttext_2}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-right">{{righttext_2}}</div>
                            </div>
                        {{/righttext_2}}
                        {{#lefttext_3}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">{{lefttext_3}}</div>
                            </div>
                        {{/lefttext_3}}
                        {{#righttext_3}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-right">{{righttext_3}}</div>
                            </div>
                        {{/righttext_3}}
                        {{#lefttext_4}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">{{lefttext_4}}</div>
                            </div>
                        {{/lefttext_4}}
                        {{#righttext_4}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-right">{{righttext_4}}</div>
                            </div>
                        {{/righttext_4}}
                        {{#lefttext_5}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">{{lefttext_5}}</div>
                            </div>
                        {{/lefttext_5}}
                        {{#righttext_5}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-right">{{righttext_5}}</div>
                            </div>
                        {{/righttext_5}}
                    </div>
                    <div class="sheet-roll-table-inner">
                        <div class="sheet-roll-group2">
                            {{#allprops() font color accessible rounded header_image character_name name character_id name_link subtitle check init_notes description untrained class generic_note ability_notes buff_note condition_note righttext_1 lefttext_1 righttext_2 lefttext_2 righttext_3 lefttext_3 righttext_4 lefttext_4 righttext_5 lefttext_5 righttext_6 lefttext_6 righttext_7 lefttext_7 righttext_8 lefttext_8 righttext_9 lefttext_9 righttext_10 lefttext_10 whisper switch lefttext_0 righttext_0 scroll_desc}}
                                <div class="sheet-roll-row">
                                    <div class="sheet-roll-cell">**{{key}}**</div>
                                    <div class="sheet-roll-cell">{{value}}</div>
                                </div>
                            {{/allprops() font color accessible rounded header_image character_name name character_id name_link subtitle check init_notes description untrained class generic_note ability_notes buff_note condition_note righttext_1 lefttext_1 righttext_2 lefttext_2 righttext_3 lefttext_3 righttext_4 lefttext_4 righttext_5 lefttext_5 righttext_6 lefttext_6 righttext_7 lefttext_7 righttext_8 lefttext_8 righttext_9 lefttext_9 righttext_10 lefttext_10 whisper switch lefttext_0 righttext_0 scroll_desc}}
                        </div>
                    </div>
                    <div class="sheet-roll-group">
                        {{#lefttext_6}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">{{lefttext_6}}</div>
                            </div>
                        {{/lefttext_6}}
                        {{#righttext_6}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-right">{{righttext_6}}</div>
                            </div>
                        {{/righttext_6}}
                        {{#lefttext_7}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">{{lefttext_7}}</div>
                            </div>
                        {{/lefttext_7}}
                        {{#righttext_7}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-right">{{righttext_7}}</div>
                            </div>
                        {{/righttext_7}}
                        {{#lefttext_8}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">{{lefttext_8}}</div>
                            </div>
                        {{/lefttext_8}}
                        {{#righttext_8}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-right">{{righttext_8}}</div>
                            </div>
                        {{/righttext_8}}
                        {{#lefttext_9}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">{{lefttext_9}}</div>
                            </div>
                        {{/lefttext_9}}
                        {{#righttext_9}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-right">{{righttext_9}}</div>
                            </div>
                        {{/righttext_9}}
                        {{#lefttext_10}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">{{lefttext_10}}</div>
                            </div>
                        {{/lefttext_10}}
                        {{#righttext_10}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-right">{{righttext_10}}</div>
                            </div>
                        {{/righttext_10}}
                        {{#untrained}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="skill-untrained"></span>**</div>
                            </div>
                        {{/untrained}}
                        {{#description}}
                            <div class="sheet-roll-row sheet-roll-description {{scroll_desc}}">
                                <div class="sheet-roll-cell">{{description}}</div>
                            </div>
                        {{/description}}
                        {{#ability_notes}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="ability-notes">Ability Notes</span>:** {{ability_notes}}</div>
                            </div>
                        {{/ability_notes}}
                        {{#generic_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{generic_note}}</div>
                            </div>
                        {{/generic_note}}
                        {{#buff_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{buff_note}}</div>
                            </div>
                        {{/buff_note}}
                        {{#condition_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{condition_note}}</div>
                            </div>
                        {{/condition_note}}
                    </div>
                </div>
            {{/accessible}}
            {{#accessible}}
                <div class="sheet-roll-accessible {{#font}}font-{{font}}{{/font}} {{#color}}color-{{color}}{{/color}} {{#rounded}}rounded{{/rounded}}" role="presentation">
                    <h3 class="sheet-roll-header">
                        {{#character_name}}{{character_name}}{{#name}}: {{/name}}{{/character_name}}
                        {{#name}}{{name}}{{/name}}
                    </h3>
                    {{#subtitle}}
                        <h4>{{subtitle}}</h4>
                    {{/subtitle}}
                    {{#check}}<label>**<span data-i18n="check"></span>:**<span class="sheet-right">{{check}}</span></label>{{/check}}
                    {{#class}}<label>**<span data-i18n="class"></span>:**<span class="sheet-right">{{class}}</span></label>{{/class}}
                    {{#lefttext_1}}<label><span>{{lefttext_1}}</span></label>{{/lefttext_1}}
                    {{#righttext_1}}<label><span class="sheet-right">{{righttext_1}}</span></label>{{/righttext_1}}
                    {{#lefttext_2}}<label><span>{{lefttext_2}}</span></label>{{/lefttext_2}}
                    {{#righttext_2}}<label><span class="sheet-right">{{righttext_2}}</span></label>{{/righttext_2}}
                    {{#lefttext_3}}<label><span>{{lefttext_3}}</span></label>{{/lefttext_3}}
                    {{#righttext_3}}<label><span class="sheet-right">{{righttext_3}}</span></label>{{/righttext_3}}
                    {{#lefttext_4}}<label><span>{{lefttext_4}}</span></label>{{/lefttext_4}}
                    {{#righttext_4}}<label><span class="sheet-right">{{righttext_4}}</span></label>{{/righttext_4}}
                    {{#lefttext_5}}<label><span>{{lefttext_5}}</span></label>{{/lefttext_5}}
                    {{#righttext_5}}<label><span class="sheet-right">{{righttext_5}}</span></label>{{/righttext_5}}
                    {{#allprops() font color accessible rounded header_image character_name name character_id name_link subtitle check init_notes description ability_notes untrained class generic_note buff_note condition_note righttext_1 lefttext_1 righttext_2 lefttext_2 righttext_3 lefttext_3 righttext_4 lefttext_4 righttext_5 lefttext_5 righttext_6 lefttext_6 righttext_7 lefttext_7 righttext_8 lefttext_8 righttext_9 lefttext_9 righttext_10 lefttext_10 whisper switch lefttext_0 righttext_0 scroll_desc}}
                        <label><span>**{{key}}**</span><span class="sheet-right">{{value}}</span></label>
                    {{/allprops() font color accessible rounded header_image character_name name character_id name_link subtitle check init_notes description ability_notes untrained class generic_note buff_note condition_note righttext_1 lefttext_1 righttext_2 lefttext_2 righttext_3 lefttext_3 righttext_4 lefttext_4 righttext_5 lefttext_5 righttext_6 lefttext_6 righttext_7 lefttext_7 righttext_8 lefttext_8 righttext_9 lefttext_9 righttext_10 lefttext_10 whisper switch lefttext_0 righttext_0 scroll_desc}}
                    {{#lefttext_6}}<label><span>{{lefttext_6}}</span></label>{{/lefttext_6}}
                    {{#righttext_6}}<label><span class="sheet-right">{{righttext_6}}</span></label>{{/righttext_6}}
                    {{#lefttext_7}}<label><span>{{lefttext_7}}</span></label>{{/lefttext_7}}
                    {{#righttext_7}}<label><span class="sheet-right">{{righttext_7}}</span></label>{{/righttext_7}}
                    {{#lefttext_8}}<label><span>{{lefttext_8}}</span></label>{{/lefttext_8}}
                    {{#righttext_8}}<label><span class="sheet-right">{{righttext_8}}</span></label>{{/righttext_8}}
                    {{#lefttext_9}}<label><span>{{lefttext_9}}</span></label>{{/lefttext_9}}
                    {{#righttext_9}}<label><span class="sheet-right">{{righttext_9}}</span></label>{{/righttext_9}}
                    {{#lefttext_10}}<label><span>{{lefttext_10}}</span></label>{{/lefttext_10}}
                    {{#righttext_10}}<label><span class="sheet-right">{{righttext_10}}</span></label>{{/righttext_10}}
                    {{#untrained}}<label>**<span data-i18n="skill-untrained"></span>**</label>{{/untrained}}
                    {{#generic_note}}<span class="sheet-roll-description">{{generic_note}}</span>{{/generic_note}}
                    {{#buff_note}}<span class="sheet-roll-description">{{buff_note}}</span>{{/buff_note}}
                    {{#condition_note}}<span class="sheet-roll-description">{{condition_note}}</span>{{/condition_note}}
                    {{#description}}<span class="sheet-roll-description {{scroll_desc}}">{{description}}</span>{{/description}}
                    {{#ability_notes}}<span class="sheet-roll-description">{{ability_notes}}</span>{{/ability_notes}}
                </div>
            {{/accessible}}
        </rolltemplate>
        <!-- Block Text Roll Templates -->
        <rolltemplate class="sheet-rolltemplate-pf_block">
            {{^accessible}}
                <div class="sheet-roll-table sheet-rolltemplate-pf_block {{#font}}font-{{font}}{{/font}} {{#color}}color-{{color}}{{/color}} {{#rounded}}rounded{{/rounded}}" role="menu">
                    <div class="sheet-roll-header">
                        {{#header_image}}<span class="sheet-header-image">{{header_image}}</span>{{/header_image}}
                        <span class="sheet-left">
                            {{#character_name}}
                                {{#character_id}}[{{character_name}}](https://journal.roll20.net/character/{{character_id}}){{/character_id}}
                                    {{^character_id}}{{character_name}}{{/character_id}}
                                    {{#name}}:{{/name}}
                            {{/character_name}}
                            {{#name}}
                                {{#name_link}}[{{name}}]({{name_link}}){{/name_link}}
                                    {{^name_link}}{{name}}{{/name_link}}
                            {{/name}}
                        </span>
                        {{#subtitle}}<span class="sheet-subtitle">{{subtitle}}</span>{{/subtitle}}
                    </div>
                    <div class="sheet-roll-group">
                        {{#casterlevel}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="caster-level">casterlevel</span>:** {{casterlevel}}</div>
                            </div>
                        {{/casterlevel}}
                        {{#concentration}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="concentration">concentration</span>:** {{concentration}}</div>
                            </div>
                        {{/concentration}}
                        {{#location}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="location">Location</span>:** {{location}}</div>
                            </div>
                        {{/location}}
                        {{#class}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">{{class}}</div>
                            </div>
                        {{/class}}
                        {{#hasuses}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">**<span data-i18n="quantity-abbrv">Qty</span>:** {{#qty}}{{qty}}{{/qty}}/{{#qty_max}}{{qty_max}}{{/qty_max}}</div>
                            </div>
                        {{/hasuses}}
                        {{#allprops() font concentration casterlevel whisper switch location hasuses qty qty_max shortdesc color accessible rounded name header_image character_name character_id name_link subtitle description class generic_note buff_note condition_note spelltracking1 spelltracking2 spelltracking3 spelltracking4 spelltracking5 spelltracking6 spelldescription1 spelldescription2 spelldescription3 spelldescription4 spelldescription5 spelldescription6 abilitytracking1 abilitytracking2 abilitytracking3 abilitytracking4 abilitytracking5 abilitytracking6 abilitydescription1 abilitydescription2 abilitydescription3 abilitydescription4 abilitydescription5 abilitydescription6 itemtracking1 itemtracking2 itemtracking3 itemtracking4 itemtracking5 itemtracking6 itemdescription1 itemdescription2 itemdescription3 itemdescription4 itemdescription5 itemdescription6 misctracking1 misctracking2 misctracking3 misctracking4 misctracking5 misctracking6 miscdescription1 miscdescription2 miscdescription3 miscdescription4 miscdescription5 miscdescription6 scroll_desc}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell">{{value}}</div>
                            </div>
                        {{/allprops() font concentration casterlevel whisper switch location hasuses qty qty_max shortdesc color accessible rounded name header_image character_name character_id name_link subtitle description class generic_note buff_note condition_note spelltracking1 spelltracking2 spelltracking3 spelltracking4 spelltracking5 spelltracking6 spelldescription1 spelldescription2 spelldescription3 spelldescription4 spelldescription5 spelldescription6 abilitytracking1 abilitytracking2 abilitytracking3 abilitytracking4 abilitytracking5 abilitytracking6 abilitydescription1 abilitydescription2 abilitydescription3 abilitydescription4 abilitydescription5 abilitydescription6 itemtracking1 itemtracking2 itemtracking3 itemtracking4 itemtracking5 itemtracking6 itemdescription1 itemdescription2 itemdescription3 itemdescription4 itemdescription5 itemdescription6 misctracking1 misctracking2 misctracking3 misctracking4 misctracking5 misctracking6 miscdescription1 miscdescription2 miscdescription3 miscdescription4 miscdescription5 miscdescription6 scroll_desc}}
                    </div>
                    <div class="sheet-roll-group">
                        {{#shortdesc}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{shortdesc}}</div>
                            </div>
                        {{/shortdesc}}
                        {{#description}}
                            <div class="sheet-roll-row sheet-roll-description {{scroll_desc}}">
                                <div class="sheet-roll-cell">{{description}}</div>
                            </div>
                        {{/description}}
                        {{#generic_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{generic_note}}</div>
                            </div>
                        {{/generic_note}}
                        {{#buff_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{buff_note}}</div>
                            </div>
                        {{/buff_note}}
                        {{#condition_note}}
                            <div class="sheet-roll-row sheet-roll-description">
                                <div class="sheet-roll-cell">{{condition_note}}</div>
                            </div>
                        {{/condition_note}}

                        {{#spelltracking1}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription1}}{{spelldescription1}}:<span class="sheet-pictos">{{spelltracking1}}</span>{{/spelldescription1}}{{^spelldescription1}}<span data-i18n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking1}}</span>{{/spelldescription1}}</div>
                            </div>
                        {{/spelltracking1}}
                        {{#spelltracking2}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription2}}{{spelldescription2}}:<span class="sheet-pictos">{{spelltracking2}}</span>{{/spelldescription2}}{{^spelldescription2}}<span data-i28n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking2}}</span>{{/spelldescription2}}</div>
                            </div>
                        {{/spelltracking2}}
                        {{#spelltracking3}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription3}}{{spelldescription3}}:<span class="sheet-pictos">{{spelltracking3}}</span>{{/spelldescription3}}{{^spelldescription3}}<span data-i38n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking3}}</span>{{/spelldescription3}}</div>
                            </div>
                        {{/spelltracking3}}
                        {{#spelltracking4}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription4}}{{spelldescription4}}:<span class="sheet-pictos">{{spelltracking4}}</span>{{/spelldescription4}}{{^spelldescription4}}<span data-i48n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking4}}</span>{{/spelldescription4}}</div>
                            </div>
                        {{/spelltracking4}}
                        {{#spelltracking5}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription5}}{{spelldescription5}}:<span class="sheet-pictos">{{spelltracking5}}</span>{{/spelldescription5}}{{^spelldescription5}}<span data-i58n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking5}}</span>{{/spelldescription5}}</div>
                            </div>
                        {{/spelltracking5}}
                        {{#spelltracking6}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#spelldescription6}}{{spelldescription6}}:<span class="sheet-pictos">{{spelltracking6}}</span>{{/spelldescription6}}{{^spelldescription6}}<span data-i68n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking6}}</span>{{/spelldescription6}}</div>
                            </div>
                        {{/spelltracking6}}

                        {{#abilitytracking1}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription1}}{{abilitydescription1}}:<span class="sheet-pictos">{{abilitytracking1}}</span>{{/abilitydescription1}}{{^abilitydescription1}}<span data-i18n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking1}}</span>{{/abilitydescription1}}</div>
                            </div>
                        {{/abilitytracking1}}
                        {{#abilitytracking2}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription2}}{{abilitydescription2}}:<span class="sheet-pictos">{{abilitytracking2}}</span>{{/abilitydescription2}}{{^abilitydescription2}}<span data-i28n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking2}}</span>{{/abilitydescription2}}</div>
                            </div>
                        {{/abilitytracking2}}
                        {{#abilitytracking3}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription3}}{{abilitydescription3}}:<span class="sheet-pictos">{{abilitytracking3}}</span>{{/abilitydescription3}}{{^abilitydescription3}}<span data-i38n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking3}}</span>{{/abilitydescription3}}</div>
                            </div>
                        {{/abilitytracking3}}
                        {{#abilitytracking4}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription4}}{{abilitydescription4}}:<span class="sheet-pictos">{{abilitytracking4}}</span>{{/abilitydescription4}}{{^abilitydescription4}}<span data-i48n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking4}}</span>{{/abilitydescription4}}</div>
                            </div>
                        {{/abilitytracking4}}
                        {{#abilitytracking5}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription5}}{{abilitydescription5}}:<span class="sheet-pictos">{{abilitytracking5}}</span>{{/abilitydescription5}}{{^abilitydescription5}}<span data-i58n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking5}}</span>{{/abilitydescription5}}</div>
                            </div>
                        {{/abilitytracking5}}
                        {{#abilitytracking6}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#abilitydescription6}}{{abilitydescription6}}:<span class="sheet-pictos">{{abilitytracking6}}</span>{{/abilitydescription6}}{{^abilitydescription6}}<span data-i68n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking6}}</span>{{/abilitydescription6}}</div>
                            </div>
                        {{/abilitytracking6}}

                        {{#itemtracking1}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription1}}{{itemdescription1}}:<span class="sheet-pictos">{{itemtracking1}}</span>{{/itemdescription1}}{{^itemdescription1}}<span data-i18n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking1}}</span>{{/itemdescription1}}</div>
                            </div>
                        {{/itemtracking1}}
                        {{#itemtracking2}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription2}}{{itemdescription2}}:<span class="sheet-pictos">{{itemtracking2}}</span>{{/itemdescription2}}{{^itemdescription2}}<span data-i28n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking2}}</span>{{/itemdescription2}}</div>
                            </div>
                        {{/itemtracking2}}
                        {{#itemtracking3}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription3}}{{itemdescription3}}:<span class="sheet-pictos">{{itemtracking3}}</span>{{/itemdescription3}}{{^itemdescription3}}<span data-i38n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking3}}</span>{{/itemdescription3}}</div>
                            </div>
                        {{/itemtracking3}}
                        {{#itemtracking4}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription4}}{{itemdescription4}}:<span class="sheet-pictos">{{itemtracking4}}</span>{{/itemdescription4}}{{^itemdescription4}}<span data-i48n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking4}}</span>{{/itemdescription4}}</div>
                            </div>
                        {{/itemtracking4}}
                        {{#itemtracking5}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription5}}{{itemdescription5}}:<span class="sheet-pictos">{{itemtracking5}}</span>{{/itemdescription5}}{{^itemdescription5}}<span data-i58n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking5}}</span>{{/itemdescription5}}</div>
                            </div>
                        {{/itemtracking5}}
                        {{#itemtracking6}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#itemdescription6}}{{itemdescription6}}:<span class="sheet-pictos">{{itemtracking6}}</span>{{/itemdescription6}}{{^itemdescription6}}<span data-i68n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking6}}</span>{{/itemdescription6}}</div>
                            </div>
                        {{/itemtracking6}}

                        {{#misctracking1}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription1}}{{miscdescription1}}:<span class="sheet-pictos">{{misctracking1}}</span>{{/miscdescription1}}{{^miscdescription1}}<span data-i18n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking1}}</span>{{/miscdescription1}}</div>
                            </div>
                        {{/misctracking1}}
                        {{#misctracking2}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription2}}{{miscdescription2}}:<span class="sheet-pictos">{{misctracking2}}</span>{{/miscdescription2}}{{^miscdescription2}}<span data-i28n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking2}}</span>{{/miscdescription2}}</div>
                            </div>
                        {{/misctracking2}}
                        {{#misctracking3}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription3}}{{miscdescription3}}:<span class="sheet-pictos">{{misctracking3}}</span>{{/miscdescription3}}{{^miscdescription3}}<span data-i38n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking3}}</span>{{/miscdescription3}}</div>
                            </div>
                        {{/misctracking3}}
                        {{#misctracking4}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription4}}{{miscdescription4}}:<span class="sheet-pictos">{{misctracking4}}</span>{{/miscdescription4}}{{^miscdescription4}}<span data-i48n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking4}}</span>{{/miscdescription4}}</div>
                            </div>
                        {{/misctracking4}}
                        {{#misctracking5}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription5}}{{miscdescription5}}:<span class="sheet-pictos">{{misctracking5}}</span>{{/miscdescription5}}{{^miscdescription5}}<span data-i58n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking5}}</span>{{/miscdescription5}}</div>
                            </div>
                        {{/misctracking5}}
                        {{#misctracking6}}
                            <div class="sheet-roll-row">
                                <div class="sheet-roll-cell sheet-pfctracking">{{#miscdescription6}}{{miscdescription6}}:<span class="sheet-pictos">{{misctracking6}}</span>{{/miscdescription6}}{{^miscdescription6}}<span data-i68n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking6}}</span>{{/miscdescription6}}</div>
                            </div>
                        {{/misctracking6}}
                    </div>
                </div>
            {{/accessible}}
            {{#accessible}}
                <div class="sheet-roll-accessible {{#font}}font-{{font}}{{/font}} {{#color}}color-{{color}}{{/color}} {{#rounded}}rounded{{/rounded}}" role="menu">
                    <h3 class="sheet-roll-header">
                        {{#character_name}}{{character_name}}{{#name}}: {{/name}}{{/character_name}}
                        {{#name}}{{name}}{{/name}}
                    </h3>
                    {{#subtitle}}
                        <h4>{{subtitle}}</h4>
                    {{/subtitle}}
                    {{#casterlevel}}<label>**<span data-i18n="caster-level">casterlevel</span>:** <span>{{casterlevel}}</span></label>{{/casterlevel}}
                    {{#concentration}}<label>**<span data-i18n="concentration">casterlevel</span>:** <span>{{concentration}}</span></label>{{/concentration}}
                    {{#location}}<label>**<span data-i18n="location">Location</span>:** <span>{{location}}</span></label>{{/location}}
                    {{#class}}<label><span>{{class}}</span></label>{{/class}}
                    {{#hasuses}}<label><span><span data-i18n="quantity-abbrv">qty</span>: {{#qty}}{{qty}}{{/qty}}/{{#qty_max}}{{qty_max}}{{/qty_max}}</span></label>{{/hasuses}}
                    {{#allprops() font concentration casterlevel whisper switch location hasuses qty qty_max shortdesc color accessible rounded name header_image character_name character_id name_link subtitle description class generic_note buff_note condition_note itemtracking1 itemtracking2 itemtracking3 itemtracking4 itemtracking5 itemtracking6 itemdescription1 itemdescription2 itemdescription3 spelltracking1 spelltracking2 spelltracking3 spelltracking4 spelltracking5 spelltracking6 spelldescription1 spelldescription2 spelldescription3 spelldescription4 spelldescription5 spelldescription6 abilitytracking1 abilitytracking2 abilitytracking3 abilitytracking4 abilitytracking5 abilitytracking6 abilitydescription1 abilitydescription2 abilitydescription3 abilitydescription4 abilitydescription5 abilitydescription6 itemtracking1 itemtracking2 itemtracking3 itemtracking4 itemtracking5 itemtracking6 itemdescription1 itemdescription2 itemdescription3 itemdescription4 itemdescription5 itemdescription6 misctracking1 misctracking2 misctracking3 misctracking4 misctracking5 misctracking6 miscdescription1 miscdescription2 miscdescription3 miscdescription4 miscdescription5 miscdescription6 scroll_desc}}
                        <label><span>{{value}}</span></label>
                    {{/allprops() font concentration casterlevel whisper switch location hasuses qty qty_max shortdesc color accessible rounded name header_image character_name character_id name_link subtitle description class generic_note buff_note condition_note itemtracking1 itemtracking2 itemtracking3 itemtracking4 itemtracking5 itemtracking6 itemdescription1 itemdescription2 itemdescription3 spelltracking1 spelltracking2 spelltracking3 spelltracking4 spelltracking5 spelltracking6 spelldescription1 spelldescription2 spelldescription3 spelldescription4 spelldescription5 spelldescription6 abilitytracking1 abilitytracking2 abilitytracking3 abilitytracking4 abilitytracking5 abilitytracking6 abilitydescription1 abilitydescription2 abilitydescription3 abilitydescription4 abilitydescription5 abilitydescription6 itemtracking1 itemtracking2 itemtracking3 itemtracking4 itemtracking5 itemtracking6 itemdescription1 itemdescription2 itemdescription3 itemdescription4 itemdescription5 itemdescription6 misctracking1 misctracking2 misctracking3 misctracking4 misctracking5 misctracking6 miscdescription1 miscdescription2 miscdescription3 miscdescription4 miscdescription5 miscdescription6 scroll_desc}}
                    {{#shortdesc}}<span class="sheet-roll-description">{{shortdesc}}</span>{{/shortdesc}}
                    {{#description}}
                        <h4 data-i18n="description">Description</h4><span class="sheet-roll-description {{scroll_desc}}">{{description}}</span>
                    {{/description}}
                    {{#generic_note}}<span class="sheet-roll-description">{{generic_note}}</span>{{/generic_note}}
                    {{#buff_note}}<span class="sheet-roll-description">{{buff_note}}</span>{{/buff_note}}
                    {{#condition_note}}<span class="sheet-roll-description">{{condition_note}}</span>{{/condition_note}}

                    {{#spelltracking1}}<label class="sheet-pfctracking">{{#spelldescription1}}{{spelldescription1}}:<span class="sheet-pictos">{{spelltracking1}}</span>{{/spelldescription1}}{{^spelldescription1}}<span data-i18n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking1}}</span>{{/spelldescription1}}</label>{{/spelltracking1}}
                    {{#spelltracking2}}<label class="sheet-pfctracking">{{#spelldescription2}}{{spelldescription2}}:<span class="sheet-pictos">{{spelltracking2}}</span>{{/spelldescription2}}{{^spelldescription2}}<span data-i28n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking2}}</span>{{/spelldescription2}}</label>{{/spelltracking2}}
                    {{#spelltracking3}}<label class="sheet-pfctracking">{{#spelldescription3}}{{spelldescription3}}:<span class="sheet-pictos">{{spelltracking3}}</span>{{/spelldescription3}}{{^spelldescription3}}<span data-i38n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking3}}</span>{{/spelldescription3}}</label>{{/spelltracking3}}
                    {{#spelltracking4}}<label class="sheet-pfctracking">{{#spelldescription4}}{{spelldescription4}}:<span class="sheet-pictos">{{spelltracking4}}</span>{{/spelldescription4}}{{^spelldescription4}}<span data-i48n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking4}}</span>{{/spelldescription4}}</label>{{/spelltracking4}}
                    {{#spelltracking5}}<label class="sheet-pfctracking">{{#spelldescription5}}{{spelldescription5}}:<span class="sheet-pictos">{{spelltracking5}}</span>{{/spelldescription5}}{{^spelldescription5}}<span data-i58n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking5}}</span>{{/spelldescription5}}</label>{{/spelltracking5}}
                    {{#spelltracking6}}<label class="sheet-pfctracking">{{#spelldescription6}}{{spelldescription6}}:<span class="sheet-pictos">{{spelltracking6}}</span>{{/spelldescription6}}{{^spelldescription6}}<span data-i68n="spell-tracking">Spell Tracking</span>:<span class="sheet-pictos">{{spelltracking6}}</span>{{/spelldescription6}}</label>{{/spelltracking6}}

                    {{#abilitytracking1}}<label class="sheet-pfctracking">{{#abilitydescription1}}{{abilitydescription1}}:<span class="sheet-pictos">{{abilitytracking1}}</span>{{/abilitydescription1}}{{^abilitydescription1}}<span data-i18n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking1}}</span>{{/abilitydescription1}}</label>{{/abilitytracking1}}
                    {{#abilitytracking2}}<label class="sheet-pfctracking">{{#abilitydescription2}}{{abilitydescription2}}:<span class="sheet-pictos">{{abilitytracking2}}</span>{{/abilitydescription2}}{{^abilitydescription2}}<span data-i28n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking2}}</span>{{/abilitydescription2}}</label>{{/abilitytracking2}}
                    {{#abilitytracking3}}<label class="sheet-pfctracking">{{#abilitydescription3}}{{abilitydescription3}}:<span class="sheet-pictos">{{abilitytracking3}}</span>{{/abilitydescription3}}{{^abilitydescription3}}<span data-i38n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking3}}</span>{{/abilitydescription3}}</label>{{/abilitytracking3}}
                    {{#abilitytracking4}}<label class="sheet-pfctracking">{{#abilitydescription4}}{{abilitydescription4}}:<span class="sheet-pictos">{{abilitytracking4}}</span>{{/abilitydescription4}}{{^abilitydescription4}}<span data-i48n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking4}}</span>{{/abilitydescription4}}</label>{{/abilitytracking4}}
                    {{#abilitytracking5}}<label class="sheet-pfctracking">{{#abilitydescription5}}{{abilitydescription5}}:<span class="sheet-pictos">{{abilitytracking5}}</span>{{/abilitydescription5}}{{^abilitydescription5}}<span data-i58n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking5}}</span>{{/abilitydescription5}}</label>{{/abilitytracking5}}
                    {{#abilitytracking6}}<label class="sheet-pfctracking">{{#abilitydescription6}}{{abilitydescription6}}:<span class="sheet-pictos">{{abilitytracking6}}</span>{{/abilitydescription6}}{{^abilitydescription6}}<span data-i68n="ability-tracking">Ability Tracking</span>:<span class="sheet-pictos">{{abilitytracking6}}</span>{{/abilitydescription6}}</label>{{/abilitytracking6}}

                    {{#itemtracking1}}<label class="sheet-pfctracking">{{#itemdescription1}}{{itemdescription1}}:<span class="sheet-pictos">{{itemtracking1}}</span>{{/itemdescription1}}{{^itemdescription1}}<span data-i18n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking1}}</span>{{/itemdescription1}}</label>{{/itemtracking1}}
                    {{#itemtracking2}}<label class="sheet-pfctracking">{{#itemdescription2}}{{itemdescription2}}:<span class="sheet-pictos">{{itemtracking2}}</span>{{/itemdescription2}}{{^itemdescription2}}<span data-i28n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking2}}</span>{{/itemdescription2}}</label>{{/itemtracking2}}
                    {{#itemtracking3}}<label class="sheet-pfctracking">{{#itemdescription3}}{{itemdescription3}}:<span class="sheet-pictos">{{itemtracking3}}</span>{{/itemdescription3}}{{^itemdescription3}}<span data-i38n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking3}}</span>{{/itemdescription3}}</label>{{/itemtracking3}}
                    {{#itemtracking4}}<label class="sheet-pfctracking">{{#itemdescription4}}{{itemdescription4}}:<span class="sheet-pictos">{{itemtracking4}}</span>{{/itemdescription4}}{{^itemdescription4}}<span data-i48n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking4}}</span>{{/itemdescription4}}</label>{{/itemtracking4}}
                    {{#itemtracking5}}<label class="sheet-pfctracking">{{#itemdescription5}}{{itemdescription5}}:<span class="sheet-pictos">{{itemtracking5}}</span>{{/itemdescription5}}{{^itemdescription5}}<span data-i58n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking5}}</span>{{/itemdescription5}}</label>{{/itemtracking5}}
                    {{#itemtracking6}}<label class="sheet-pfctracking">{{#itemdescription6}}{{itemdescription6}}:<span class="sheet-pictos">{{itemtracking6}}</span>{{/itemdescription6}}{{^itemdescription6}}<span data-i68n="item-tracking">Item Tracking</span>:<span class="sheet-pictos">{{itemtracking6}}</span>{{/itemdescription6}}</label>{{/itemtracking6}}

                    {{#misctracking1}}<label class="sheet-pfctracking">{{#miscdescription1}}{{miscdescription1}}:<span class="sheet-pictos">{{misctracking1}}</span>{{/miscdescription1}}{{^miscdescription1}}<span data-i18n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking1}}</span>{{/miscdescription1}}</label>{{/misctracking1}}
                    {{#misctracking2}}<label class="sheet-pfctracking">{{#miscdescription2}}{{miscdescription2}}:<span class="sheet-pictos">{{misctracking2}}</span>{{/miscdescription2}}{{^miscdescription2}}<span data-i28n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking2}}</span>{{/miscdescription2}}</label>{{/misctracking2}}
                    {{#misctracking3}}<label class="sheet-pfctracking">{{#miscdescription3}}{{miscdescription3}}:<span class="sheet-pictos">{{misctracking3}}</span>{{/miscdescription3}}{{^miscdescription3}}<span data-i38n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking3}}</span>{{/miscdescription3}}</label>{{/misctracking3}}
                    {{#misctracking4}}<label class="sheet-pfctracking">{{#miscdescription4}}{{miscdescription4}}:<span class="sheet-pictos">{{misctracking4}}</span>{{/miscdescription4}}{{^miscdescription4}}<span data-i48n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking4}}</span>{{/miscdescription4}}</label>{{/misctracking4}}
                    {{#misctracking5}}<label class="sheet-pfctracking">{{#miscdescription5}}{{miscdescription5}}:<span class="sheet-pictos">{{misctracking5}}</span>{{/miscdescription5}}{{^miscdescription5}}<span data-i58n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking5}}</span>{{/miscdescription5}}</label>{{/misctracking5}}
                    {{#misctracking6}}<label class="sheet-pfctracking">{{#miscdescription6}}{{miscdescription6}}:<span class="sheet-pictos">{{misctracking6}}</span>{{/miscdescription6}}{{^miscdescription6}}<span data-i68n="misc-tracking">Misc Tracking</span>:<span class="sheet-pictos">{{misctracking6}}</span>{{/miscdescription6}}</label>{{/misctracking6}}
                </div>
            {{/accessible}}
        </rolltemplate>
    </div>
    <div role="contentinfo" class="hidden">
        <!--datalists-->
        <datalist id="feats">
            <option value="achievement" data-i18n="achievement">Achievement</option>
            <option value="animalcompanion" data-i18n="animalcompanion">Animal Comapanion</option>
            <option value="animalfamiliar" data-i18n="animalfamiliar">Animal Familiar</option>
            <option value="betrayal" data-i18n="betrayal">Betrayal</option>
            <option value="bloodhex" data-i18n="bloodhex">Blood Hex</option>
            <option value="caravan" data-i18n="caravan">Caravan</option>
            <option value="channeling" data-i18n="channeling">Channeling</option>
            <option value="combat" data-i18n="combat">Combat</option>
            <option value="conduit" data-i18n="conduit">Conduit</option>
            <option value="critical" data-i18n="critical">Critical</option>
            <option value="damnation" data-i18n="damnation">Damnation</option>
            <option value="general" data-i18n="general">General</option>
            <option value="grit" data-i18n="grit">Grit</option>
            <option value="itemcreation" data-i18n="itemcreation">Item Creation</option>
            <option value="itemmastery" data-i18n="itemmastery">Item Mastery</option>
            <option value="local" data-i18n="local">Local</option>
            <option value="metamagic" data-i18n="metamagic">Metamagic</option>
            <option value="monster" data-i18n="monster">Monster</option>
            <option value="mythic" data-i18n="mythic">Mythic</option>
            <option value="panache" data-i18n="panache">Panache</option>
            <option value="performance" data-i18n="performance">Performance</option>
            <option value="racialfeat" data-i18n="racialfeat">Racial Feat</option>
            <option value="stare" data-i18n="stare">Stare</option>
            <option value="story" data-i18n="story">Story</option>
            <option value="style" data-i18n="style">Style</option>
            <option value="teamwork" data-i18n="teamwork">Teamwork</option>
            <option value="weaponmastery" data-i18n="weaponmastery">Weapon Mastery</option>
        </datalist>
        <datalist id="traits">
            <option value="campaign" data-i18n="campaign">Campaign</option>
            <option value="combat" data-i18n="combat">Combat</option>
            <option value="equipment" data-i18n="equipment">Equipment</option>
            <option value="faith" data-i18n="faith">Faith</option>
            <option value="family" data-i18n="family">Family</option>
            <option value="magic" data-i18n="magic">Magic</option>
            <option value="mount" data-i18n="mount">Mount</option>
            <option value="race" data-i18n="race">Race</option>
            <option value="regional" data-i18n="regional">Regional</option>
            <option value="religion" data-i18n="religion">Religion</option>
            <option value="social" data-i18n="social">Social</option>
        </datalist>
    </div>
</div>
<script type="text/worker">!function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var a={};t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=121)}([function(e,t){function a(e){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=n||function(){"use strict";var e={debug:{key:"debug",title:"DEBUG",color:{bgLabel:"#7732A2",label:"#F2EF40",bgText:"#FFFEB7",text:"#7732A2"}},error:{key:"error",title:"Error",color:{bgLabel:"#C11713",label:"white",bgText:"#C11713",text:"white"}},warn:{key:"warn",title:"Warning",color:{bgLabel:"#F29140",label:"white",bgText:"#FFD8B7",text:"black"}},info:{key:"info",title:"Info",color:{bgLabel:"#413FA9",label:"white",bgText:"#B3B2EB",text:"black"}},notice:{key:"notice",title:"Notice",color:{bgLabel:"#33C133",label:"white",bgText:"#ADF1AD",text:"black"}},log:{key:"log",title:"Log",color:{bgLabel:"#f2f240",label:"black",bgText:"#ffff90",text:"black"}},callstack:{key:"TAS",title:"function",color:{bgLabel:"#413FA9",label:"white",bgText:"#B3B2EB",text:"black"}},callstack_async:{key:"TAS",title:"ASYNC CALL",color:{bgLabel:"#413FA9",label:"white",bgText:"#413FA9",text:"white"}},TAS:{key:"TAS",title:"TAS",color:{bgLabel:"grey",label:"black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)",bgText:"grey",text:"black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)"}}},t={debugMode:!1,logging:{log:!0,notice:!0,info:!0,warn:!0,error:!0,debug:!1}},n=[],r={},i=function(e){switch(a(e)){case"string":return"string";case"boolean":return"boolean";case"number":return _.isNaN(e)?"NaN":e.toString().match(/\./)?"decimal":"integer";case"function":return"function: "+(e.name?e.name+"()":"(anonymous)");case"object":return _.isArray(e)?"array":_.isArguments(e)?"arguments":_.isNull(e)?"null":"object";default:return a(e)}},l=function(e,t,a){_.each(a,function(a){var n=i(a);switch(n){case"string":e(a);break;case"undefined":case"null":case"NaN":e("["+n+"]");break;case"number":case"not a number":case"integer":case"decimal":case"boolean":e("["+n+"]: "+a);break;default:e("["+n+"]:========================================="),t(a),e("=========================================================")}})},o=function(e){var a,n=e.key,r=e.title||"TAS",i=e.color&&e.color.bgLabel||"blue",o=e.color&&e.color.label||"white",s=e.color&&e.color.bgText||"blue",c=e.color&&e.color.text||"white";return a=function(e){console.log("%c "+r+": %c "+e+" ","background-color: "+i+";color: "+o+"; font-weight:bold;","background-color: "+s+";color: "+c+";")},function(){("TAS"===n||t.logging[n])&&l(a,function(e){console.log(e)},_.toArray(arguments))}},s=o(e.debug),c=o(e.error),u=o(e.warn),p=o(e.info),f=o(e.notice),d=o(e.log),m=o(e.TAS),g=o(e.callstack),b=o(e.callstack_async),y=function(e,t){var a=_.findIndex(n,function(a){return _.difference(a.stack,e).length===_.difference(e,a.stack).length&&0===_.difference(a.stack,e).length&&a.label===t});return-1===a&&(a=n.length,n.push({stack:e,label:t})),a},h=function(e){var a=_.defaults(e,t);a.logging=_.defaults(e&&e.logging||{},t.logging),t=a},v=function(){return t.debugMode},k=function(){t.logging.debug=!0,t.debugMode=!0},w=function(){var e=new Error("dummy");return _.map(_.rest(e.stack.replace(/^[^(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@").split("\n")),function(e){return e.replace(/\s+.*$/,"")})},A=function e(t){var a,r;_.find(t,function(t){return(a=t.match(/TAS_CALLSTACK_(\d+)/))?(r=n[a[1]],b("===================="+(r.label?"> "+r.label+" <":"")+"===================="),e(r.stack),!0):(g(t),!1)})},C=function(){var e;t.debugMode&&(e=w(),e.shift(),m("==============================> CALLSTACK <=============================="),A(e),m("========================================================================="))},I=function(e,a,n){var r;return"function"==typeof e&&(n=a,a=e,e=void 0),t.debugMode?(r=w(),r.shift(),function(e,t,a,n){var r=y(a,n);return new Function("cb","ctx","TASlog","return function TAS_CALLSTACK_"+r+"(){var start,end;TASlog('Entering: '+(cb.name||'(anonymous function)'));start=_.now();cb.apply(ctx||{},arguments);end=_.now();TASlog('Exiting: '+(cb.name||'(anonymous function)')+' :: '+(end-start)+'ms elapsed');};")(e,t,m)}(a,n,r,e)):function(e,t){return function(){e.apply(t||{},arguments)}}(a,n)},S=function(e,t){r[e]=t},P=function(){setAttrs(r),r={}},x=function e(t,a){return _.chain(t).reduce(function(a,n){return"string"==typeof n?a.push(n):(_.isArray(t)||_.isArguments(t))&&(a=e(n,a)),a},_.isArray(a)&&a||[]).uniq().value()},T=function(e,t){Object.defineProperty(e,"id",{value:t,writable:!1,enumerable:!1})},O=function(e,t,a,n){!function(){var r=_.contains(["S","F","I","D"],t)?"_"+t:t,i=n||t,l=a;_.each(["S","I","F"],function(t){_.has(e,t)||Object.defineProperty(e,t,{value:{},enumerable:!1,readonly:!0})}),_.has(e,"D")||Object.defineProperty(e,"D",{value:_.reduce(_.range(10),function(e,t){return Object.defineProperty(e,t,{value:{},enumerable:!0,readonly:!0}),e},{}),enumerable:!1,readonly:!0}),Object.defineProperty(e,r,{enumerable:!0,set:function(e){e!==l&&(l=e,S(i,e))},get:function(){return l}}),Object.defineProperty(e.S,r,{enumerable:!0,set:function(e){var t=e.toString();t!==l&&(l=t,S(i,t))},get:function(){return l.toString()}}),Object.defineProperty(e.I,r,{enumerable:!0,set:function(e){var t=parseInt(e,10)||0;t!==l&&(l=t,S(i,t))},get:function(){return parseInt(l,10)||0}}),Object.defineProperty(e.F,r,{enumerable:!0,set:function(e){var t=parseFloat(e)||0;t!==l&&(l=t,S(i,t))},get:function(){return parseFloat(l)||0}}),_.each(_.range(10),function(t){Object.defineProperty(e.D[t],r,{enumerable:!0,set:function(e){var a=(parseFloat(e)||0).toFixed(t);a!==l&&(l=a,S(i,a))},get:function(){return(parseFloat(l)||0).toFixed(t)}})})}()},M=function(e){return function(e){var t=e,a=[],n=[],r=[],i=[],l=function(){return a=x(arguments,a),this},o=function(){return n=x(arguments,n),this},s=function(e,t,a,n){return r.push({type:"reduce",func:e&&_.isFunction(e)&&e||_.noop,memo:_.isUndefined(t)&&0||t,final:a&&_.isFunction(a)&&a||_.noop,context:n||{}}),this},c=function(e,t,a){return r.push({type:"map",func:e&&_.isFunction(e)&&e||_.noop,final:t&&_.isFunction(t)&&t||_.noop,context:a||{}}),this},u=function(e,t,a){return r.push({type:"each",func:e&&_.isFunction(e)&&e||_.noop,final:t&&_.isFunction(t)&&t||_.noop,context:a||{}}),this},p=function(e,t){return r.push({type:"tap",final:e&&_.isFunction(e)&&e||_.noop,context:t||{}}),this},f=function(e,t){return i.push({callback:e&&_.isFunction(e)&&e||_.noop,context:t||{}}),this},d=function(e,l){var o={},s={},c=[],u=[];f(e,l),getSectionIDs("repeating_"+t,function(e){c=e,u=_.reduce(c,function(e,a){return e.concat(_.map(n,function(e){return"repeating_"+t+"_"+a+"_"+e}))},[]),getAttrs(_.uniq(a.concat(u)),function(e){_.each(a,function(t){e.hasOwnProperty(t)&&O(s,t,e[t])}),o=_.reduce(c,function(a,r){var i={};return T(i,r),_.each(n,function(a){var n="repeating_"+t+"_"+r+"_"+a;O(i,a,e[n],n)}),a[r]=i,a},{}),_.each(r,function(e){var t;switch(e.type){case"tap":_.bind(e.final,e.context,o,s)();break;case"each":_.each(o,function(t){_.bind(e.func,e.context,t,s,t.id,o)()}),_.bind(e.final,e.context,o,s)();break;case"map":t=_.map(o,function(t){return _.bind(e.func,e.context,t,s,t.id,o)()}),_.bind(e.final,e.context,t,o,s)();break;case"reduce":t=e.memo,_.each(o,function(a){t=_.bind(e.func,e.context,t,a,s,a.id,o)()}),_.bind(e.final,e.context,t,o,s)()}}),P(),_.each(i,function(e){_.bind(e.callback,e.context)()})})})};return{attrs:l,attr:l,column:o,columns:o,field:o,fields:o,reduce:s,inject:s,foldl:s,map:c,collect:c,each:u,forEach:u,tap:p,do:p,after:f,last:f,done:f,execute:d,go:d,run:d}}(e)},D=function(e,t,a){M(e).attr(a).field(t).reduce(function(e,a){return e+a.F[t]},0,function(e,t,n){n.S[a]=e}).execute()};return console.log("%c•.¸¸.•*´¨`*•.¸¸.•*´¨`*•.¸  The Aaron Sheet  v0.2.5  ¸.•*´¨`*•.¸¸.•*´¨`*•.¸¸.•","background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;"),console.log("%c•.¸¸.•*´¨`*•.¸¸.•*´¨`*•.¸  Last update: "+new Date(1504710542e3)+"  ¸.•*´¨`*•.¸¸.•*´¨`*•.¸¸.•","background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;"),{repeatingSimpleSum:D,repeating:M,config:h,callback:I,callstack:C,debugMode:k,isDebugMode:v,_fn:I,debug:s,error:c,warn:u,info:p,notice:f,log:d}}();e.exports=n},function(e,t,a){"use strict";e.exports=window._},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,a){var n=!1;L.default.each(e,function(t,a){""===t||t||!isNaN(t)&&void 0!==t||(e[a]="",z.default.warn("#####################################","Setting NaN or undefined for attribute: "+a+" resetting to '' ","#####################################"),n=!0)}),setAttrs(e,t,a)}function o(e){var t="";try{e&&((t=getTranslationByKey(e))||(t=e[0].toUpperCase()+e.slice(1)))}catch(a){z.default.error("getTranslationByKey error translating: "+e,a),t=e[0].toUpperCase()+e.slice(1)}finally{return t}}function s(e){var t=e.match(/\||\?|&|\{|\}|k[h,l][^1]/);return!t&&(t=e.replace(/floor|ceil|round|abs|max|min|kh1|kl1/g,""),!(t=t.match(/[a-zA-Z]/)))}function c(e,t){var a;if("function"!=typeof t)return void z.default.error("findAndReplaceFields called with no callback function");if(!e)return z.default.warn("findAndReplaceFields called with no string, return null"),void t(null);try{if(e=e.split("selected|").join(""),e=e.split("target|").join(""),e=e.replace(/\|max\}/g,"_max}"),!(a=e.match(/\@\{[^}]+\}/g)))return void t(e);a=a.sort(),a=L.default.uniq(a,!0),a=L.default.map(a,function(e){return e.slice(2,-1)}),getAttrs(a,function(n){var r,i=e,l=null;try{L.default.each(a,function(e){r=i.split("@{"+e+"}"),i=r.join(n[e])}),l=i.match(/\@\{[^}]+\}/g)}catch(e){z.default.error("SWUtils.findAndReplaceFields err2",e),i=null}finally{l?c(i,t):t(i)}})}catch(e){z.default.error("SWUtils.findAndReplaceFields",e),t(null)}}function u(e){var t={kl:"min",kh:"max"};if(e)for(;/([^@%]|^){((?:[^{]|[%@]{)+?)}(k[hl])\d+/.test(e);)!function(){e=e.replace(/([^@%]|^){((?:[^{]|[%@]{)+?)}(k[hl])\d+/g,function(e,a,n,r){return a+t[r]+"("+n+")"})}(),z.default.log("str: "+e);return e}function p(e){return(e.match(/\(/g)||[]).length!==(e.match(/\)/g)||[]).length||(e.match(/\{/g)||[]).length!==(e.match(/\}/g)||[]).length||(e.match(/\[/g)||[]).length!==(e.match(/\]/g)||[]).length?0:1}function f(e,t,a){var n;if("function"==typeof t)return""===e||null===e||void 0===e?void t(0):(n=Number(e),isNaN(n)?p(e)?void c(e,function(n){var r;if(null===n||void 0===n)return void t(0);try{if(n=n.replace(/\s+/g,"").replace(/\[\[/g,"(").replace(/\]\]/g,")"),n=n.replace(/\[[^\]]+\]/g,""),n=u(n),s(n)||(z.default.warn("cannot evaluate this to number: "+e+" came back with "+n),a(null)),""===n||null===n||void 0===n)return void t(0);if(r=Number(n),!isNaN(r)&&isFinite(n))return void t(r);r=W.handleExpression(n),isNaN(r)?(z.default.warn("cannot evaluate this to number: "+e+" came back with "+n),a(null)):t(r)}catch(e){z.default.error("error trying to convert to number:"+e),a(null)}}):(z.default.warn("evaluateExpression: Mismatched brackets, cannot evaluate:"+e),void a(null)):void t(n))}function d(e,t,a,n,r,i){var o=function(e,a,r,i){var l={};i&&(l[t+"_error"]=0,setAttrs(l,{silent:!0})),"function"==typeof n&&n(e,a,r)},s=function(e,a,r,l){var o={};l||(o[t+"_error"]=1,setAttrs(o,{silent:!0})),"function"==typeof i?i(e,a,r):"function"==typeof n&&n(e,a,r)};getAttrs([e,t,t+"_error"],function(n){var i={},c=0,u=0,p=0;try{r&&(i.silent=!0),p=parseInt(n[t+"_error"],10)||0,c=a||0,u=parseInt(n[t],10),f(n[e],function(e){var a={};isNaN(u)||e!=u?(a[t]=e,l(a,i,function(){o(e,u,!0,p)})):o(e,u,!1,p)},function(){var e={};isNaN(u)||c!=u?(e[t]=c,l(e,i,function(){s(c,u,!0,p)})):s(c,u,!1,p)})}catch(e){z.default.error("SWUtils.evaluateAndSetNumber",e),s(0,0,0,0)}})}function m(e,t,a,n,r,i){var o=function(){"function"==typeof e&&e()};f(a,function(e){var a=parseInt(r,10)||0,s=parseInt(i,10)||0,c=0,u={},p={};e=parseInt(e,10)||0,c=e+s,c!==a?(p[n]=c,t&&(u={silent:!0}),l(p,u,o)):o()},function(){z.default.warn("SWUtils.evaluateAndAdd error returned evaluating "+a),o()})}function _(e,t,a,n,r){getAttrs([a,n,r],function(i){m(e,t,i[a],n,i[n],i[r])})}function g(e,t,a,n,r,i,o){var s=function(){"function"==typeof e&&e()};f(a,function(e){var a={},c={},u={};r=parseInt(r,10)||0,e=parseInt(e,10)||0,e!==r?(t?(u[n]=e,a={silent:!0}):(c[n]=e,l(c,{silent:!0})),o=parseInt(o,10)||0,o+=e-r,u[i]=o,l(u,a,s)):s()},s)}function b(e,t,a,n,r){getAttrs([a,n,r],function(i){g(e,t,i[a],n,i[n],r,i[r])})}function y(e,t){return"0"===e||0===e||"dual"===e||e&&0===e[0]?0:e?t?t(e):e:""}function h(e,t,a){!e||a&&"function"!=typeof a||getAttrs([e],function(n){var r=y(n[e],t);r?getAttrs([r],function(e){var t=parseInt(e[r],10);a(isNaN(t)?e[r]:t)}):a(r),a(r)})}function v(e,t,a,n,r,i,o){var s={},c={},u={};(isNaN(e)||e===a)&&function(){"function"==typeof i&&i()}(),o?(u[t]=e,s={silent:!0}):(c[t]=e,l(c,{silent:!0})),r+=e-a,u[n]=r,l(u,s,i)}function k(e,t,a,n,r,i){getAttrs([e,t,a],function(l){var o="";try{o=y(l[e],n),o?getAttrs([o],function(e){v(parseInt(e[o],10)||0,t,parseInt(l[t],10)||0,a,parseInt(l[a],10)||0,r,i)}):v(o,t,parseInt(l[t],10)||0,a,parseInt(l[a],10)||0,r,i)}catch(n){z.default.error("SWUtils.setDropdownAndAddToTot for read:"+e+",write:"+t+",tot:"+a,l,n),"function"==typeof r&&r()}})}function w(e,t,a,n,r){var i=function(e,t,a){"function"==typeof n&&n(e,t,a)};getAttrs([e],function(n){var l="",o={},s=[];l=y(n[e],a),r&&(o.silent=!0),s=[t],l&&s.push(l),getAttrs(s,function(e){var a=0,n=0,r={};n=l?parseInt(e[l],10)||0:l,a=parseInt(e[t],10),a!==n||isNaN(a)?(r[t]=n,setAttrs(r,o,function(){i(n,a,!0)})):i(n,a,!1)})})}function A(e,t,a,n,r,i){var l;if("function"==typeof r&&"function"==typeof i){try{if(!e||!Array.isArray(e)||0===e.length)return;l=a&&Array.isArray(a)&&a.length>0?e.concat(a):e}catch(e){return z.default.error("SWUtils.getRowTotal catastrophic error: ",e),void i()}getAttrs(l,function(l){var o,s=n?parseFloat(l[e[0]]):parseInt(l[e[0]],10),c=0,u=0;try{for(o=1;o<e.length;o++)c+=parseFloat(l[e[o]])||0;if(t&&!isNaN(parseInt(t,10))&&(c+=parseFloat(t)),a){for(o=0;o<a.length;o++)u+=parseFloat(l[a[o]])||0;c-=u}n||(c=Math.floor(c)),r(c,s)}catch(e){z.default.error("SWUtils.getRowTotal",e),i()}})}}function C(e,t,a,n,r,i,l){var o=function(){"function"==typeof r&&r()};A(e,t,a,n,function(t,a){var n={},r={};(l||t!==a)&&(n[e[0]]=t),L.default.size(n)>0?(i&&(r.silent=!0),setAttrs(n,r,o)):o()},o)}function I(e,t){var a=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|\~\!\@\#]/g,n="";return e&&(n=e.replace(a,"\\$&"),t&&(n=n.replace(/\t+|\s+/g,"\\s*"))),n}function S(e){var t=[[/\{\{/g,"&#123;&#123;"],[/\}\}/g,"&#125;&#125;"],[/\(/g,"&#40;"],[/\)/g,"&#41;"],[/\,/g,"&#44;"],[/\?/g,"&#63;"],[/'/g,"&#39;"],[/"/g,"&#34;"],[/\=/g,"&#61;"]];return e?L.default.reduce(t,function(e,t){return e.replace(t[0],t[1])},e):""}function P(e){return e?e.replace(/\{\{/g,"&#123;&#123;"):e}function x(e){var t,a=/^([^\[]*?)\[([^\]]*?)\]\(([^\)]*?)\)(.*)$/,n="";return e?(t=a.exec(e),t?(t[1]&&(n+=t[1]),t[2]&&(n+=t[2]),t[4]&&(n+=t[4])):n=e,n=n.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;"),n=S(n)):e}function T(e,t,a){var n;for(n=0;a>0&&-1!==n;a-=1)n=e.indexOf(t,n?n+1:n);return n}function O(e){if(!e)return"";var t=e.split("_");return t&&L.default.size(t)>=3?t[2]:""}function M(e){var t="",a="";return e?(t=O(e),t?a=e.substring(e.indexOf(t)+t.length+1,e.length):0===e.indexOf("repeating_")&&(e=e.slice(10),e.indexOf("_")>0&&(a=e.slice(e.indexOf("_")+1))),a):""}function D(e){var t="";return null!==e&&void 0!==e&&(t=e+"_"),t}function E(){return L.default.reduce(arguments,function(e,t){return L.default.flatten(L.default.map(e,function(e){return L.default.map(t,function(t){return String(e)+String(t)})}),!0)},[[]])}function F(){return L.default.reduce(arguments,function(e,t){return L.default.flatten(L.default.map(e,function(e){return L.default.map(t,function(t){return e.concat([t])})}),!0)},[[]])}function R(e){return Array.isArray(e)?L.default.map(e,R):"string"==typeof e?e.replace(/^\s*|\s*$/g,""):e}function N(e){var t=[];return e?(t=e.match(/((?:[^(),]|\([^()]*\))+)/g),t=R(t),L.default.uniq(t)):[]}function j(e,t){var a=L.default.once(function(){"function"==typeof e&&e()});if(!t)return void a();getSectionIDs(t,function(e){var n="repeating_"+t+"_";e&&L.default.size(e)?(e.forEach(function(e){removeRepeatingRow(n+e)}),a()):a()})}Object.defineProperty(t,"__esModule",{value:!0}),t.setWrapper=l,t.getTranslated=o,t.findAndReplaceFields=c,t.evaluateExpression=f,t.evaluateAndSetNumber=d,t.evaluateAndAdd=m,t.evaluateAndAddAsync=_,t.evaluateAndAddToTot=g,t.evaluateAndAddToTotAsync=b,t.getDropdownValue=h,t.setDropdownAndAddToTotAsync=k,t.setDropdownValue=w,t.getRowTotal=A,t.updateRowTotal=C,t.escapeForRegExp=I,t.escapeForMacroCall=S,t.escapeForRollTemplate=P,t.escapeForChatLinkButton=x,t.nthIndex=T,t.getRowId=O,t.getAttributeName=M,t.getRepeatingIDStr=D,t.cartesianAppend=E,t.cartesianProduct=F,t.trimBoth=R,t.splitByCommaIgnoreParens=N,t.deleteRepeating=j,t.getWrapper=void 0;var L=i(a(1)),z=i(a(0)),W=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}(a(195));z.default.config({logging:{info:!1,debug:!1}});var B=z.default.callback(function(e,t){getAttrs(e,function(e){t(e)})});t.getWrapper=B},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PFConsole=t.PFLog=void 0;var n={l:"%cס§₪₪₪₪§|(Ξ≥≤≥≤≥≤ΞΞΞΞΞΞΞΞΞΞ>    ",r:"    <ΞΞΞΞΞΞΞΞΞΞ≥≤≥≤≥≤Ξ)|§₪₪₪₪§ס",bg:"background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;",modulecount:0};t.PFLog=n;var r={log:function(e){console.log(n.l+e+n.r,n.bg)}};t.PFConsole=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={version:1.828,announcementVersionAttr:"attentionv172-show",repeatingSections:["weapon","ability","class-ability","feat","racial-trait","trait","item","npc-spell-like-abilities","mythic-ability","mythic-feat","buff","spells","buff2"],repeatingMaxUseSections:["class-ability","feat","racial-trait","trait","mythic-ability","mythic-feat","ability"],abilityScoreManualDropdowns:{"HP-ability":"HP-ability-mod","init-ability":"init-ability-mod","Fort-ability":"Fort-ability-mod","Ref-ability":"Ref-ability-mod","Will-ability":"Will-ability-mod","melee-ability":"melee-ability-mod","melee2-ability":"melee2-ability-mod","ranged-ability":"ranged-ability-mod","ranged2-ability":"ranged2-ability-mod","CMB-ability":"CMB-ability-mod","CMB2-ability":"CMB2-ability-mod","sanity-ability":"sanity-ability-mod","concentration-0-ability":"concentration-0-mod","concentration-1-ability":"concentration-1-mod","concentration-2-ability":"concentration-2-mod","AC-ability":"AC-ability-mod","FF-ability":"FF-DEX","CMD-ability":"FF-CMD","CMD-ability1":"CMD-STR","CMD-ability2":"CMD-DEX","selected-ability-psionic-power":"ability-psionic-power",kineticist_ability:"kineticist_ability-mod"},levelPlusBABManualDropdowns:["melee_bab","melee2_bab","ranged_bab","ranged2_bab","cmb_bab","cmb2_bab","kineticist_level"],manualDropdownDefaults:{"HP-ability":"CON-mod","init-ability":"DEX-mod","Fort-ability":"CON-mod","Ref-ability":"DEX-mod","Will-ability":"WIS-mod","melee-ability":"STR-mod","melee2-ability":"0","ranged-ability":"DEX-mod","ranged2-ability":"0",melee_bab:"bab",melee2_bab:"bab",ranged_bab:"bab",ranged2_bab:"bab",cmb_bab:"bab",cmb2_bab:"bab","sanity-ability":"0","concentration-0-ability":"0","concentration-1-ability":"0","concentration-2-ability":"0","AC-ability":"DEX-mod","FF-ability":"0","CMD-ability":"0","CMD-ability1":"STR-mod","CMD-ability2":"DEX-mod","selected-ability-psionic-power":"0",kineticist_ability:"CON-mod"},repeatingAttackTypeManualDropdowns:{weapon:"attack-type",item:"item-attack-type",spells:"spell-attack-type",ability:"abil-attack-type"},equationMacros:{"init-misc":"init-misc-mod","HP-formula-macro-text":"HP-formula-mod","death_threshold-macro-text":"death_threshold_total","Max-Skill-Ranks-Misc":"Max-Skill-Ranks-mod","SR-macro-text":"SR","spellclass-0-SP_misc":"spellclass-0-SP-mod","spellclass-1-SP_misc":"spellclass-1-SP-mod","spellclass-2-SP_misc":"spellclass-2-SP-mod",sanity_score_misc:"sanity_score_misc-mod",sanity_threshold_misc:"sanity_threshold_misc-mod","spellclass-0-level-misc":"spellclass-0-level-misc-mod","spellclass-1-level-misc":"spellclass-1-level-misc-mod","spellclass-2-level-misc":"spellclass-2-level-misc-mod","Concentration-0-misc":"Concentration-0-misc-mod","Concentration-1-misc":"Concentration-1-misc-mod","Concentration-2-misc":"Concentration-2-misc-mod","Ref-misc":"Ref-misc-mod","Fort-misc":"Fort-misc-mod","Will-misc":"Will-misc-mod","AC-misc":"AC-misc-mod","CMD-misc":"CMD-misc-mod","attk-melee-misc":"attk-melee-misc-mod","attk-ranged-misc":"attk-ranged-misc-mod","attk-CMB-misc":"attk-CMB-misc-mod","attk-melee2-misc":"attk-melee2-misc-mod","attk-ranged2-misc":"attk-ranged2-misc-mod","attk-CMB2-misc":"attk-CMB2-misc-mod",kineticistburn_macro_text:"kineticistburn_max",internalbuffer_macro_text:"internalbuffer_max",kineticblast_attack_macro_text:"kineticblast_attack-mod",kineticblast_dmg_macro_text:"kineticblast_dmg-mod","spellclass-0-spell-points-misc":"spellclass-0-spell-points-misc-mod","spellclass-1-spell-points-misc":"spellclass-1-spell-points-misc-mod","spellclass-2-spell-points-misc":"spellclass-2-spell-points-misc-mod"},customEquationMacros:{customa1:"customa1-mod",customa2:"customa2-mod",customa3:"customa3-mod",customa4:"customa4-mod_max",customa5:"customa5-mod_max",customa6:"customa6-mod_max",customa7:"customa7-mod_max",customa8:"customa8-mod_max",customa9:"customa9-mod_max",customa10:"customa10-mod",customa11:"customa11-mod",customa12:"customa12-mod","customa4-mod":"0","customa5-mod":"0","customa6-mod":"0","customa7-mod":"0","customa8-mod":"0","customa9-mod":"0"},spellClassIndexes:["0","1","2"],silentParams:{silent:!0},minusreg:/\-|&Mdash;|&\#8212;|\u2013|\u2014|\u2212|\u02d7/,dashtominusreg:/&Mdash;|&\#8212;|\u2013|\u2014|\u2212|\u02d7/g,critreg:/\/{0,1}(\d+)\-20(?:[x\u00d7](\d+)){0,1}/,critmultreg:/(?:\/[x\u00d7]|\/|[x\u00d7])(\d+)/,diceDiereg:/(\d+)d(\d+)\s*(?:([\+|\-])(\d+)){0,1}/,diceDieregOneGroup:/(\d+d\d+\s*(?:[\+|\-|\u2013|\u2014|\u2212|\u02d7]\d+){0,1})/g,findBadNegDice:/(\d+)d(2|3|4|6|8|10|12|20)([1-9]+)/g,findBadCritRange:/(19|18|17|16|15|14|13|12)20/g};t.default=n},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return e?"0"===e.slice(0,1)?"":/str.mod/i.test(e)?"STR-mod":/dex.mod/i.test(e)?"DEX-mod":/con.mod/i.test(e)?"CON-mod":/int.mod/i.test(e)?"INT-mod":/wis.mod/i.test(e)?"WIS-mod":/cha.mod/i.test(e)?"CHA-mod":/melee2/i.test(e)?"attk-melee2":/melee/i.test(e)?"attk-melee":/ranged2/i.test(e)?"attk-ranged2":/ranged/i.test(e)?"attk-ranged":/cmb2/i.test(e)?"CMB2":/cmb/i.test(e)?"CMB":/dual/i.test(e)?"dual":/str/i.test(e)?"STR":/dex/i.test(e)?"DEX":/con/i.test(e)?"CON":/int/i.test(e)?"INT":/wis/i.test(e)?"WIS":/cha/i.test(e)?"CHA":/npc.type/i.test(e)?"npc-type":/race/i.test(e)?"race":/class.0.level/i.test(e)?"class-0-level":/\{level\}/i.test(e)?"level":/npc.hd.num/i.test(e)?"npc-hd-num":/class.1.level/i.test(e)?"class-1-level":/class.2.level/i.test(e)?"class-2-level":/class.3.level/i.test(e)?"class-3-level":/class.4.level/i.test(e)?"class-4-level":/class.5.level/i.test(e)?"class-5-level":/class.0.name/i.test(e)?"class-0-name":/class.1.name/i.test(e)?"class-1-name":/class.2.name/i.test(e)?"class-2-name":/class.3.name/i.test(e)?"class-3-name":/class.4.name/i.test(e)?"class-4-name":/class.5.name/i.test(e)?"class-5-name":e.replace("@{","").replace("}",""):""}function o(e,t){return e=e||0,t=t>0?.3048:1,{close:Math.round((25+5*Math.floor(e/2))*t),medium:Math.round((100+10*e)*t),long:Math.round((400+40*e)*t)}}function s(e,t,a,n){var r=0,i=o(a,n);switch(a=a||0,t=t||"blank","{"===t[0]&&(t=t.slice(2,t.indexOf("="))),t){case"number":case"custom":r=parseInt(e,10)||0;break;case"perlevel":r=(parseInt(e,10)||0)*a;break;case"close":r=i.close;break;case"medium":r=i.medium;break;case"long":r=i.long;break;case"see text":case"touch":case"personal":case"blank":default:r=0}return r}function c(e,t,a){return 0!==e?-1*(e*(a+1)-t):0}function u(e){return"range_pick"===e}function p(e){return F.default.mapObject(e,function(e,t){return u(t)?new RegExp("((?=\\{\\{)|(?=^))\\s*\\{\\{\\.*?\\="+t+"\\}\\}\\s*((?=\\{\\{)|(?=$))"):new RegExp("\\s*((?=\\{\\{)|(?=^))\\{\\{"+t+"\\=.*?\\}\\}\\s*((?=\\{\\{)|(?=$))")})}function f(e,t){if(!t)return!0;switch(e){case"sr":return!/^y/i.test(t);case"save":case"saving_throw":return(/^no/i.test(t)||/harmless/i.test(t))&&!/and|or/i.test(t);case"spell_fail":return 0!==(parseInt(t,10)||0);default:return!1}}function d(e,t,a){var n=u(t)?"{{="+t+"}}":"{{"+t+"=}}";return t&&e&&a[t]&&(e=e.replace(a[t],n)),e}function m(e,t,a,n,r){var i=0,l=1;return 0===t?0:(.5!==a&&.75!==a&&1!==a&&(a=.5),r&&(l=2,a=.5),1===a?i=t*e:(n&&e--,i=Math.floor(100*(t+l)*a*e/100),n&&(i+=t)),i)}function _(e){var t=0;switch(e=parseInt(e,10)||0){case 1:t=.5;break;case 2:t=.75;break;case 3:t=1;break;default:t=.5}return t}function g(e,t){var a,n,r,i="",l=0,o=!1,s=-1,c="";try{if(!e)return t?(r=g(t,null),"unknownrange"===r.dropdown&&(r.dropdown="blank"),"number"!==r.dropdown&&"perlevel"!==r.dropdown&&(r.useorig=!1,r.rangetext=""),r):{dropdown:"blank",useorig:!1,rangetext:"",number:0};if(e=e.toLowerCase(),i||"unlimited"!==e||(r=g(t,null),"unknownrange"===r.dropdown?i="blank":(i=r.dropdown,/short|medium|long/.test(i)||(o=r.useorig)&&r.rangetext&&(e=r.rangetext))),i||(a=e.match(/(.*?)\s+(or|and)\s+/))&&a[1]&&(r=g(e.substring(a[0].length),null))&&"unknownrange"!==r.dropdown&&"blank"!==r.dropdown&&(i=r.dropdown,r.rangetext&&(e="number"===i?r.rangetext?r.rangetext+" "+a[2]+" "+a[1]:r.number+" ft. "+a[2]+" "+a[1]:"perlevel"===i?r.rangetext?r.rangetext+"/level "+a[2]+" "+a[1]:r.number+"ft. /level  "+a[2]+" "+a[1]:a[1]+" "+a[2]+" "+r.rangetext),o=!0),!i)if("you"===e)i="personal";else if((a=e.match(/close|short|medium|long|touch|see text|personal|special|\/level/))&&a[0])switch(a[0]){case"close":case"medium":case"long":case"personal":case"touch":case"see text":i=a[0];break;case"short":i="close";break;case"special":i="see_text";break;case"/level":n=e.match(/(\d+)(\D*)\/level/),n&&n[1]&&(l=parseInt(n[1],10)||0,e=n[1]+(n[2]||""),o=!0,i="perlevel",s=l)}i||(l=parseInt(e,10),!isNaN(l)&&l>0?(i="number",s=l,o=!0):(n=e.match(/within\s|more\sthan\s/))&&n[0]&&(e=e.substring(n[0].index+n[0].length),l=parseInt(e,10),!isNaN(l)&&l>0&&(i="number",s=l,o=!0))),!i&&t&&(r=g(t,null),"number"!==(i=r.dropdown)&&"perlevel"!==i||(o=!0,e=r.rangetext))}catch(e){R.default.error("parseSpellRangeText, error",e),i="unknownrange",o=!0}return i||(i="unknownrange",o=!0),!0===o&&(c="unknownrange"!==i?e.replace(/\s*\(.*?\)/,"").replace(/^\s+/,"").replace(/\s+$/,"").replace("feet","ft."):e),{dropdown:i,useorig:o,number:s,rangetext:c}}function b(e){return j.default.findBadNegDice.test(e)?e.replace(j.default.findBadNegDice,"$1d$2-$3"):e}function y(e){return e.replace(j.default.findBadCritRange,"$1-20")}function h(e){return e.replace(j.default.dashtominusreg,"-")}function v(e){var t=0,a=e.match(/(\d+)/);if(R.default.debug("PFUtil.getCostInGP: parsing:"+e+", match on number:",a),a&&(t=parseInt(a[1],10)||0,a=e.match(/(gp|cp|sp|pp)/i),R.default.debug("PFUtil.getCostInGP: parsing:"+e+", match on coins:",a),a))switch(a[1]){case"pp":t*=10;break;case"sp":t/=10;break;case"cp":t/=100}return t}function k(e,t,a){var n,r=0;return t||(e=y(e),e=h(e)),n=a?e.match(/^[\+\-]{0,1}\d+/):e.match(/[\+\-]{0,1}\d+/),n&&(r=parseInt(n[0],10)||0),r}function w(e,t){var a,n={crit:20,critmult:2,spaces:0};return t||(e=h(e),e=y(e)),n.critmult=2,null!==(a=j.default.critreg.exec(e))?(n.crit=parseInt(a[1],10),a[2]&&(n.critmult=parseInt(a[2],10)),n.spaces=a[0].length):null!==(a=j.default.critmultreg.exec(e))&&(n.critmult=parseInt(a[1],10),n.spaces=a[0].length),n}function A(e,t,a){var n,r={dice:0,die:0,plus:0,spaces:0},i=1;return e?(t||(e=b(e),e=h(e)),n=e.match(j.default.diceDiereg),n&&(a&&0!==n.index||(r.spaces=n[0].length+n.index,r.dice=parseInt(n[1],10)||0,r.die=parseInt(n[2],10)||0,n[3]&&"-"===n[3]&&(i=-1),n[4]&&(r.plus=i*(parseInt(n[4],10)||0)))),R.default.debug("x1  at getDiceDieFromString parsing "+e,n,r),r):r}function C(e){return e=b(e),e.replace(j.default.diceDieregOneGroup,"[[ $1 ]]")}function I(e){var t;return e=b(e),t=j.default.diceDieregOneGroup.exec(e),t?"[[ "+t[0]+" ]]":""}function S(e){var t;return e?(t=/\b(Su|Ex|Sp)\b/i.exec(e),t?t[1][0].toUpperCase()+t[1][2].toLowerCase():""):""}function P(e,t){var a,n,r,i;if(e.indexOf("(")<0||e.indexOf(",")<0)return e;if(a=e.split(/\s*\(\s*/),n=a.length>1?a[1].split(/,\s*/):e.split(/,\s*/),r=t?n[0]:a[0]+"("+n[1],n.length>2)for(i=2;i<n.length;i++)r+=","+n[i];return r}function x(e,t,a,n,r){var i="",l="floor(",o="/2)";return i="DC [[ 10 ",e&&(a&&"CON"===e&&(e="CHA"),i+="+ @{"+e+"-mod} "),t&&(r?(l="",o=""):i+="+ "+l+"@{"+t+"}"+o+" "),n&&(i+="+ "+n),i+=" ]]"}function T(e,t,a,n,r,i){var l,o="",s="",c="",u=e;try{l=e.match(/D[Cc]\s*\d+/),l&&(o=l[0].match(/\d+/),parseInt(o,10)||0,o=x(t,a,n,r,i),s=e.slice(0,l.index)||"",c=e.slice(l.index+l[0].length)||"",u=s+o+c)}catch(t){R.default.error("at replaceDCString, cannot find DC string in "+e,t)}finally{return u}}function O(e){var t;return e&&(t=e.match(/\d+/))&&(e=N.trimBoth(e.slice(t.index+t.length))),e}function M(e,t,a,n,r,i){var l=0,o=n[e+t+"_compendium"];return r=r||{},R.default.debug("PFUtils.getCompendiumFunctionSet getting "+e+t+"_compendium, val: "+o),o&&(l=a(o),R.default.debug("on return value is:"+l),l&&(i=i||t,R.default.debug("setting "+e+t+" with value "+l),r[e+i]=l)),r}function D(e,t,a,n,r){var i,l=0;try{i=a[e+t+"_compendium"],i&&(l=k(i))&&(r=r||t,n[e+t]=l)}catch(a){R.default.error("getCompendiumIntSet error on :"+e+", field:"+t+", setField:"+r,a)}finally{return n}}function E(e){var t;return e?(t=e.match(/whisper\}/i),t?N.trimBoth(e.slice(t.index+t[0].length)):e):e}Object.defineProperty(t,"__esModule",{value:!0}),t.findAbilityInString=l,t.calculateSpellRanges=o,t.findSpellRange=s,t.getWoundPenalty=c,t.isOptionTemplateReversed=u,t.getOptionsCompiledRegexMap=p,t.shouldNotDisplayOption=f,t.deleteOption=d,t.getAvgHP=m,t.getAutoHPPercentMultiplier=_,t.parseSpellRangeText=g,t.replaceMissingNegatives_BadDice=b,t.replaceMissingNegatives_CritRange=y,t.convertDashToMinus=h,t.getCostInGP=v,t.getIntFromString=k,t.getCritFromString=w,t.getDiceDieFromString=A,t.replaceDiceDieString=C,t.getDiceDieString=I,t.getSpecialAbilityTypeFromString=S,t.removeUptoFirstComma=P,t.getDCString=x,t.replaceDCString=T,t.getNoteAfterNumber=O,t.getCompendiumFunctionSet=M,t.getCompendiumIntSet=D,t.removeWhisperFromMacro=E;var F=i(a(1)),R=(a(3),i(a(0))),N=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}(a(2)),j=i(a(4))},function(e,t,a){"use strict";(function(e){a.d(t,"e",function(){return n}),a.d(t,"p",function(){return r}),a.d(t,"a",function(){return i}),a.d(t,"c",function(){return l}),a.d(t,"d",function(){return o}),a.d(t,"o",function(){return s}),a.d(t,"q",function(){return c}),a.d(t,"t",function(){return u}),a.d(t,"i",function(){return p}),a.d(t,"r",function(){return f}),a.d(t,"s",function(){return d}),a.d(t,"k",function(){return m}),a.d(t,"m",function(){return _}),a.d(t,"j",function(){return g}),a.d(t,"l",function(){return b}),a.d(t,"g",function(){return y}),a.d(t,"f",function(){return h}),a.d(t,"h",function(){return v}),a.d(t,"n",function(){return k}),a.d(t,"b",function(){return w});var n="1.13.6",r="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||Function("return this")()||{},i=Array.prototype,l=Object.prototype,o="undefined"!=typeof Symbol?Symbol.prototype:null,s=i.push,c=i.slice,u=l.toString,p=l.hasOwnProperty,f="undefined"!=typeof ArrayBuffer,d="undefined"!=typeof DataView,m=Array.isArray,_=Object.keys,g=Object.create,b=f&&ArrayBuffer.isView,y=isNaN,h=isFinite,v=!{toString:null}.propertyIsEnumerable("toString"),k=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],w=Math.pow(2,53)-1}).call(t,a(123))},function(e,t,a){"use strict";function n(e){if(!Object(r.a)(e))return[];if(i.m)return Object(i.m)(e);var t=[];for(var a in e)Object(l.a)(e,a)&&t.push(a);return i.h&&Object(o.a)(e,t),t}t.a=n;var r=a(22),i=a(6),l=a(18),o=a(78)},function(e,t,a){"use strict";function n(e){var t="[object "+e+"]";return function(e){return r.t.call(e)===t}}t.a=n;var r=a(6)},function(e,t,a){"use strict";function n(e,t,a){return r.a.iteratee!==l.a?r.a.iteratee(e,t):Object(i.a)(e,t,a)}t.a=n;var r=a(11),i=a(87),l=a(88)},function(e,t,a){"use strict";function n(e,t){return t=null==t?e.length-1:+t,function(){for(var a=Math.max(arguments.length-t,0),n=Array(a),r=0;r<a;r++)n[r]=arguments[r+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var i=Array(t+1);for(r=0;r<t;r++)i[r]=arguments[r];return i[t]=n,e.apply(this,i)}}t.a=n},function(e,t,a){"use strict";function n(e){return e instanceof n?e:this instanceof n?void(this._wrapped=e):new n(e)}t.a=n;var r=a(6);n.VERSION=r.e,n.prototype.value=function(){return this._wrapped},n.prototype.valueOf=n.prototype.toJSON=n.prototype.value,n.prototype.toString=function(){return String(this._wrapped)}},function(e,t,a){"use strict";var n=a(76),r=a(14);t.a=Object(n.a)(r.a)},function(e,t,a){"use strict";var n=a(8),r=a(6),i=Object(n.a)("Function"),l=r.p.document&&r.p.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof l&&(i=function(e){return"function"==typeof e||!1}),t.a=i},function(e,t,a){"use strict";var n=a(77);t.a=Object(n.a)("length")},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=C.default.once(function(){"function"==typeof t&&t()}),n=[],r=function(e){return e?e.indexOf("1.5")>=0?1.5:e.indexOf(".5")>=0?.5:e.indexOf("1/2")>=0?.5:e.indexOf("3/2")>=0?1.5:e.indexOf("1 1/2")>=0?1.5:e.indexOf("2")>=0?2:1:0};C.default.each(e,function(e){var t="repeating_weapon_"+e+"_damage-ability",a="repeating_weapon_"+e+"_damage_ability_mult";n.push(t),n.push(a)}),n.push("migrated_damage-multiplier"),getAttrs(n,function(t){var n=0,i={};try{n=parseInt(t["migrated_damage-multiplier"],10)||0,n||(C.default.each(e,function(e){var a,n,l,o,s="repeating_weapon_"+e+"_damage-ability",c="repeating_weapon_"+e+"_damage_ability_mult";try{a=x.findAbilityInString(t[s]),n=r(t[s]),l="@{"+a+"}",o=parseFloat(n,10),!t[c]&&n&&a&&(isNaN(o)||(i[c]=1!==o?n:1),a&&(i[s]=l))}catch(a){I.default.error("migrateRepeatingDamage dropdown to mult: could not migrate str "+t[s]+" in attack row "+e,a)}}),i["migrated_damage-multiplier"]="1")}catch(e){I.default.error("migrateRepeatingDamage outer error!? SHOULD NOT HAPPEN",e)}finally{C.default.size(i)>0?P.setWrapper(i,S.default.silentParams,a):a()}})}function s(){getAttrs(["max-dex-source"],function(e){var t=parseInt(e["max-dex-source"],10)||0,a={};t>=99&&P.setWrapper(a,{silent:!0})})}function c(e){var t=function(){"function"==typeof e&&e()};getAttrs(["spellranges_migrated"],function(a){var n=["casterlevel","range","range_numeric","range_pick","targets","name"];if(1===parseInt(a.spellranges_migrated,10))return void t();getSectionIDs("repeating_spells",function(a){var r=[];r=C.default.reduce(a,function(e,t){var a="repeating_spells_"+P.getRepeatingIDStr(t),r=C.default.map(n,function(e){return a+e});return e.concat(r)},[]),getAttrs(r,function(n){var r={};C.default.each(a,function(e){var t,a="repeating_spells_"+P.getRepeatingIDStr(e),i=parseInt(n[a+"casterlevel"],10)||1,l=n[a+"range_pick"],o=n[a+"range"]||"",s=n[a+"targets"]||"",c=(n[a+"name"],0);l||o?l&&"blank"!==l||!o||(t=x.parseSpellRangeText(o,s),l=t.dropdown,("number"===l||"perlevel"===l||t.useorig)&&(o=t.rangeText),c=x.findSpellRange(o,l,i)||0,r[a+"range"]=o,r[a+"range_numeric"]=c,r[a+"range_pick"]=l):(r[a+"range"]="",r[a+"range_numeric"]=0,r[a+"range_pick"]="blank")}),r.spellranges_migrated="1",C.default.size(r)>0?P.setWrapper(r,{silent:!0},e):t()})})})}function u(){getAttrs(["migrated_rolltemplateimages","header_image-pf_spell","header_image-pf_attack-melee","header_image-pf_attack-ranged","header_image-pf_attack-cmb","header_image-pf_defense"],function(e){var t=parseInt(e.migrated_rolltemplateimages,10)||0,a={};try{t||(a=C.default.chain(e).filter(function(e,t){return/\[default\]/.test(e)}).reduce(function(e,t,a){var n="";try{switch(a){case"header_image-pf_spell":"[default](http://imgur.com/9yjOsAD.png)"!==t&&(n="[default](http://imgur.com/9yjOsAD.png)");break;case"header_image-pf_attack-melee":"[default](http://i.imgur.com/AGq5VBG.png)"!==t&&(n="[default](http://i.imgur.com/AGq5VBG.png)");break;case"header_image-pf_attack-ranged":"[default](http://imgur.com/58j2e8P.png)"!==t&&(n="[default](http://imgur.com/58j2e8P.png)");break;case"header_image-pf_attack-cmb":"[default](http://imgur.com/RUJfMGe.png)"!==t&&(n="[default](http://imgur.com/RUJfMGe.png)");break;case"header_image-pf_defense":"[default](http://imgur.com/02fV6wh.png)"!==t&&(n="[default](http://imgur.com/02fV6wh.png)")}n&&(e[a]=n)}catch(e){I.default.error("migrateRollTemplateImages: inner error on "+a,e)}return e},{}).value())}catch(e){I.default.error("migrateRollTemplateImages outer error",e)}finally{C.default.size(a)>0&&(a.migrated_rolltemplateimages=1,P.setWrapper(a,S.default.silentParams))}})}function p(e,t,a,n){return e=e||"",a=a||"",e||t?(t+=n,a?e+=" "+a:n&&(e+=n>0?" + ":" - ",e+=String(Math.abs(n)))):n?(e=String(n),t=n):(e="",t=0),{macroText:e,macroVal:t}}function f(e,t,a,n,r,i){var l=C.default.once(function(){"function"==typeof e&&e()}),o=[a,n,i,t];r&&o.push(r),getAttrs(o,function(e){var o=0,s=0,c={},u={},f="";try{parseInt(e[t],10)||(o=parseInt(e[i],10)||0,s=parseInt(e[n],10)||0,r&&(f=e[r]),c=p(e[a],s,f,o),c.macroText&&c.macroText!==e[a]&&(u[a]=c.macroText,u[n]=c.macroVal),u[t]=1,u[i]="",r&&(u[r]=""))}catch(e){I.default.error("PFMigrate.migrateMoveIntIntoMacro:"+t,e)}finally{C.default.size(u)>0?P.setWrapper(u,S.default.silentParams,l):l()}})}function d(e){f(e,"migrated_hp_misc","HP-formula-macro-text","HP-formula-mod","","HP-misc")}function m(e){f(e,"migrated_maxskill_misc","Max-Skill-Ranks-Misc","Max-Skill-Ranks-mod","","Max-Skill-Ranks-Misc2")}function _(e,t){var a=C.default.once(function(){"function"==typeof e&&e()}),n=function(e){P.setWrapper({normal_macro_show:1,use_traits:0,use_racial_traits:0,"npc-compimport-show":0},S.default.silentParams,e)},r=function(e){var t=C.default.once(function(){"function"==typeof e&&e()});getAttrs(["HP-ability","HP-ability-mod","npc-type","CON-mod","CHA-mod","total-hp","level","bab","HP-formula-macro-text","HP-formula-mod","class-0-level","class-1-level","class-2-level","class-3-level","class-4-level","class-5-level","class-0-hp","class-1-hp","class-2-hp","class-3-hp","class-4-hp","class-5-hp","is_undead","npc-hd-misc","npc-hd-misc-mod","npc-hd","npc-hd-num","npc-hd2","npc-hd-num2","npc-bab"],function(e){var a=0,n=0,r="",i=0,l=0,o=0,s=0,c=0,u=0,f=0,d=0,m=0,_=0,g=0,b=0,y=0,h=0,v={},k=0,w=0,A=0,T={},O=0,M=0;try{if(c=parseInt(e["npc-hd-num"],10)||0,u=parseInt(e["npc-hd"],10)||0,c>0&&u>0&&(v.auto_calc_hp="1"),i=parseInt(e["npc-hd-num2"],10)||0,l=parseInt(e["npc-hd2"],10)||0,a=/undead/i.test(e["npc-type"])||parseInt(e.is_undead,10)||0,v.is_undead=a,y=parseInt(e.level,10)||0,h=parseInt(e.HP,10)||0,k=parseInt(e.bab,10)||0,w=parseInt(e["npc-bab"],10)||0,A=k+w,A!==k&&(v.bab=A),n=a?parseInt(e["CHA-mod"],10)||0:parseInt(e["HP-ability-mod"],10)||0,g=n*(y||c),r=a?"@{CHA-mod}":"@{CON-mod}",v["HP-ability"]=r,v["HP-ability-mod"]=n,O=parseInt(e["npc-hd-misc-mod"],10)||0,M=parseInt(e["HP-formula-mod"],10)||0,(O||e["HP-formula-macro-text"])&&(v["npc-hd-misc"]="",v["npc-hd-misc-mod"]=""),O&&(O-=g),T=p(e["HP-formula-macro-text"],M,e["npc-hd-misc"],O),T.macroText&&T.macroText!==e["HP-formula-macro-text"]&&(v["HP-formula-macro-text"]=T.macroText,v["HP-formula-mod"]=T.macroVal),f=x.getAvgHP(c,u),v["NPC-HP"]=f,i>0){for(_=0;_<6&&(d=parseInt(e["class-"+_+"-level"],10),b=parseInt(e["class-"+_+"-hp"],10),d||b);_++);_<6?(m=x.getAvgHP(i,l),v["class-"+_+"-hp"]=m,v["class-"+_+"-level"]=i,v["class-"+_+"-hd"]=l):(I.default.error("Cannot convert npc class hit dice, the class grid is full! class levels:"+i+", class hit die:"+l),i=0)}s=h+f+m,o=y+i+c,s!==h&&(v["total-hp"]=s),o!==y&&(v.level=o)}catch(e){I.default.error("PFMigrate.MigrateNPC",e)}finally{v.migrated_npc=1,C.default.size(v)>0?P.setWrapper(v,S.default.silentParams,t):t()}})},i=function(e){var t=function(){"function"==typeof e&&e()};getAttrs(["senses","vision","character-description"],function(e){var a="",n="",r="",i={};try{a=e.senses||"",n=e.vision||"",r=a&&n?a+", "+n:a||n,r&&(i.vision=r),a&&(i.senses="")}catch(e){I.default.error("migrateNPCSenses",e)}finally{C.default.size(i)>0?P.setWrapper(i,S.default.silentParams,t):t()}})};getAttrs(["migrated_npc","is_npc"],function(e){var t=0,l=0,o=C.default.after(3,a);try{t=parseInt(e.is_npc,10)||0,l=parseInt(e.migrated_npc,10)||0,t||(l?a():P.setWrapper({migrated_npc:1},S.default.silentParams,a)),l?a():(i(o),n(o),r(o))}catch(e){I.default.error("PFMigrate.migrateNPC",e),a()}})}function g(e){var t=function(){"function"==typeof e&&e()};getAttrs(["migrated_repeating_item_attributes"],function(e){var a=["weight","hp","hp_max"],n=["qty","qty_max"];if(parseInt(e.migrated_repeating_item_attributes,10))return void t();getSectionIDs("repeating_item",function(e){var r=[];if(!(e&&C.default.size(e)>0))return void P.setWrapper({migrated_repeating_item_attributes:1},S.default.silentParams,t);r=C.default.reduce(e,function(e,t){var r="repeating_item_"+P.getRepeatingIDStr(t),i=[];return C.default.each(a,function(e){i.push(r+e)}),C.default.each(n,function(e){i.push(r+e)}),e.concat(i)},[]),getAttrs(r,function(n){var r={};try{C.default.each(e,function(e){var t="repeating_item_"+P.getRepeatingIDStr(e);a.forEach(function(e){var a=parseInt(n[t+e],10)||0;n[t+e]&&0!==a&&(r[t+"item-"+e]=a,r[t+e]="")}),isNaN(parseInt(n[t+"qty"],10))&&(r[t+"qty"]=1),isNaN(parseInt(n[t+"qty_max"],10))&&(r[t+"qty_max"]=0)}),r.migrated_repeating_item_attributes="1"}catch(e){I.default.error("migrateRepeatingItemAttributes",e)}finally{C.default.size(r)>0?P.setWrapper(r,{},t):t()}})})})}function b(e){var t=C.default.once(function(){"function"==typeof e&&e()}),a=C.default.after(5,function(){P.setWrapper({migrated_abilityflags109:1},S.default.silentParams,t)});getAttrs(["migrated_abilityflags109","uses_feats","uses_traits","use_racial_traits","use_class_features","use_npc-spell-like-abilities"],function(e){parseInt(e.migrated_abilityflags109,10)?t():(getSectionIDs("repeating_npc-spell-like-abilities",function(e){e&&C.default.size(e)>0?P.setWrapper({"use_npc-spell-like-abilities":1},S.default.silentParams,a):P.setWrapper({"use_npc-spell-like-abilities":0},S.default.silentParams,a)}),getSectionIDs("repeating_feat",function(e){e&&C.default.size(e)>0?P.setWrapper({use_feats:1},S.default.silentParams,a):P.setWrapper({use_feats:0},S.default.silentParams,a)}),getSectionIDs("repeating_class-ability",function(e){e&&C.default.size(e)>0?P.setWrapper({use_class_features:1},S.default.silentParams,a):P.setWrapper({use_class_features:0},S.default.silentParams,a)}),getSectionIDs("repeating_trait",function(e){e&&C.default.size(e)>0?P.setWrapper({use_traits:1},S.default.silentParams,a):P.setWrapper({use_traits:0},S.default.silentParams,a)}),getSectionIDs("repeating_racial-trait",function(e){e&&C.default.size(e)>0?P.setWrapper({use_racial_traits:1},S.default.silentParams,a):P.setWrapper({use_racial_traits:0},S.default.silentParams,a)}))})}function y(e,t){var a=C.default.once(function(){"function"==typeof e&&e()});t>1.18&&a(),getAttrs(["spellclass-0-spell-points-class","spellclass-0-spell-points-bonus","spellclass-0-spell-points-misc","spellclass-1-spell-points-class","spellclass-1-spell-points-bonus","spellclass-1-spell-points-misc","spellclass-2-spell-points-class","spellclass-2-spell-points-bonus","spellclass-2-spell-points-misc","use_spell_points"],function(e){(parseInt("spellclass-0-spell-points-class",10)||parseInt("spellclass-0-spell-points-bonus",10)||parseInt("spellclass-0-spell-points-misc",10)||parseInt("spellclass-1-spell-points-class",10)||parseInt("spellclass-1-spell-points-bonus",10)||parseInt("spellclass-1-spell-points-misc",10)||parseInt("spellclass-2-spell-points-class",10)||parseInt("spellclass-2-spell-points-bonus",10)||parseInt("spellclass-2-spell-points-misc",10))&&!parseInt(e.use_spell_points,10)?P.setWrapper({uses_spell_points:1},S.default.silentParams,a):a()})}function h(e){var t=C.default.once(function(){"function"==typeof e&&e()});getAttrs(["migrated_whispers","PC-whisper","NPC-whisper"],function(e){var a={};try{parseInt(e.migrated_whispers,10)||(("&nbsp;"===e["PC-whisper"]||" "===e["PC-whisper"]||e["PC-whisper"]&&"/w gm"!==e["PC-whisper"])&&(a["PC-whisper"]=""),("&nbsp;"===e["NPC-whisper"]||" "===e["NPC-whisper"]||e["NPC-whisper"]&&"/w gm"!==e["NPC-whisper"])&&(a["NPC-whisper"]=""))}catch(e){I.default.error("PFMigrate.migrateWhispers",e)}finally{C.default.size(a)?P.setWrapper(a,S.default.silentParams,t):t()}})}function v(e,t){getAttrs(["migrated_attack_bab_dropdowns","bab"],function(t){var a={},n=0;parseInt(t.migrated_attack_bab_dropdowns,10)?"function"==typeof e&&e():(n=parseInt(t.bab,10)||0,a.melee_bab="bab",a["melee_bab-mod"]=n,a.melee2_bab="bab",a["melee2_bab-mod"]=n,a.ranged_bab="bab",a["ranged_bab-mod"]=n,a.ranged2_bab="bab",a["ranged2_bab-mod"]=n,a.cmb_bab="bab",a["cmb_bab-mod"]=n,a.cmb2_bab="bab",a["cmb2_bab-mod"]=n,a.migrated_attack_bab_dropdowns=1,P.setWrapper(a,S.default.silentParams,e))})}function k(e,t){var a=C.default.once(function(){"function"==typeof e&&e()});_(function(){d(a)}),u(),b(),y(null,t),h()}function w(e){return e=e||{},e.classSkillsMigrated=1,e.spellranges_migrated=1,e["migrated_damage-multiplier"]=1,e.migrated_experience=1,e.migrated_spellflag=1,e.migrated_npc=1,e.migrated_worn_equipment=1,e.migrated_repeating_item_attributes=1,e.migrated_hp_misc=1,e.migrated_maxskill_misc=1,e.migrated_featurelists_defaults=1,e.migrated_attacklist_defaults111=1,e.migrated_itemlist_defaults=1,e.migrated_abilityflags109=1,e.migrated_whispers=1,e.migrated_linked_attacks=1,e.migrated_buffs_rangeddmg_ability=1,e.migrated_itemlist_newfields=1,e.migrate_fatigued_conditions=1,e.migrated_attack_bab_dropdowns=1,e.migrated_skill_dropdowns5=1,e}function A(e){var t=C.default.once(function(){"function"==typeof e&&e()});P.setWrapper(w(),S.default.silentParams,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.migrateRepeatingDamage=o,t.migrateMaxDexAndACP=s,t.migrateSpellRanges=c,t.migrateRollTemplateImages=u,t.addNumberToMacro=p,t.migrateMoveIntIntoMacro=f,t.migrateHPMisc=d,t.migrateMaxSkills=m,t.migrateNPC=_,t.migrateRepeatingItemAttributes=g,t.migrateAbilityListFlags=b,t.migrateSpellPointFlag=y,t.migrateWhisperDropdowns=h,t.migrateAttackDropdowns=v,t.migrateConfigFlags=k,t.getAllMigrateFlags=w,t.setAllMigrateFlags=A;var C=l(a(1)),I=l(a(0)),S=(a(3),l(a(4))),P=i(a(2)),x=i(a(5))},function(e,t,a){"use strict";function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(n=function(e){return e?a:t})(e)}function r(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var a=n(t);if(a&&a.has(e))return a.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}function i(e){return e&&e.__esModule?e:{default:e}}function l(e){"@babel/helpers - typeof";return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,a){return t=s(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e){var t=c(e,"string");return"symbol"===l(t)?t:String(t)}function c(e,t){if("object"!==l(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function u(e){var t=1;return e&&((t=Number(String(e).replace(",",".")))||(t=1)),t}function p(){getAttrs(["adv_macro_show","global_melee_macro_insert","global_ranged_macro_insert","global_cmb_macro_insert","global_attack_macro_insert","global_melee_damage_macro_insert","global_ranged_damage_macro_insert","global_cmb_damage_macro_insert","global_damage_macro_insert"],function(e){var t=parseInt(e.adv_macro_show,10)||0;K.default.reduce(e,function(e,t,a){return"adv_macro_show"!==a&&""!==t&&"0"!==t&&void 0!==t&&null!==t&&(e+=1),e},0)&&!t&&Z.setWrapper({adv_macro_show:1},Y.default.silentParams)})}function f(e,t){var a=function(){},n=Z.getRepeatingIDStr(e),r="repeating_weapon_"+n,i=r+"attack-type";getAttrs([i],function(e){var t=J.findAbilityInString(e[i]),n={};t?(t=t.replace("attk-",""),n[r+"attack-type_macro_insert"]=ne.attackGridFields[t].attackmacro,n[r+"damage-type_macro_insert"]=ne.attackGridFields[t].damagemacro):n[r+"attack-type_macro_insert"]="0",Z.setWrapper(n,Y.default.silentParams,a)})}function d(e,t,a,n){var r=(t||0)-(a||0);0!==r&&getAttrs(["repeating_weapon_total-attack"],function(e){var t=parseInt(e["repeating_weapon_total-attack"],10)||0;t+=r,setAttrs({"repeating_weapon_total-attack":t},Y.default.silentParams,n)})}function m(e,t){var a=function(){ae.resetOption(e,t)},n=Z.getRepeatingIDStr(e),r="repeating_weapon_"+n+"attack-type",i="repeating_weapon_"+n+"enhance",l="repeating_weapon_"+n+"masterwork",o="repeating_weapon_"+n+"attack-type-mod",s="repeating_weapon_"+n+"proficiency",c="repeating_weapon_"+n+"attack-mod",u="repeating_weapon_"+n+"total-attack";getAttrs([i,l,r,o,s,c,u],function(e){var t=0,n=0,p=0,f=0,d=0,m=0,_="",g=0,b={};try{d=parseInt(e[c],10)||0,m=parseInt(e[u],10)||0,_=e[r],"dual"===_?g=d:(t=parseInt(e[i],10)||0,n=parseInt(e[l],10)||0,p=parseInt(e[o],10)||0,f=parseInt(e[s],10)||0,d=parseInt(e[c],10)||0,g=Math.max(t,n)+p+f+d),(g!==m||isNaN(m))&&(b[u]=g,Z.setWrapper(b,Y.default.silentParams,a))}catch(e){$.default.error("PFAttacks.updateRepeatingWeaponAttack")}})}function _(e,t,a,n){var r=(t||0)-(a||0);0!==r&&getAttrs(["repeating_weapon_".concat(e,"_total-damage")],function(t){var a=parseInt(t["repeating_weapon_".concat(e,"_total-damage")],10)||0;a+=r,setAttrs(o({},"repeating_weapon_".concat(e,"_total-damage"),a),Y.default.silentParams,n)})}function g(e,t,a,n){var r=(t||0)-(a||0);0!==r&&getAttrs(["repeating_weapon_crit_conf_mod"],function(e){var t=parseInt(e.repeating_weapon_crit_conf_mod,10)||0;t+=r,setAttrs({repeating_weapon_crit_conf_mod:t},Y.default.silentParams,n)})}function b(e,t){getSectionIDs("repeating_weapon",function(e){K.default.each(e,function(e){Q.setRepeatingDropdownValue("weapon",e,"damage-ability","damage-ability-mod",function(t,a,n){n&&_(e,t,a)},!0)})})}function y(e,t){var a=function(){ae.resetOption(e,t)},n=Z.getRepeatingIDStr(e),r="repeating_weapon_"+n+"damage-ability-max",i="repeating_weapon_"+n+"damage-ability-mod",l="repeating_weapon_"+n+"total-damage",o="repeating_weapon_"+n+"enhance",s="repeating_weapon_"+n+"damage-mod",c="repeating_weapon_"+n+"damage_ability_mult",p="repeating_weapon_"+n+"attack-type",f="repeating_weapon_"+n+"isranged";t&&t.sourceAttribute.toLowerCase().indexOf("buff_dmg_range"),getAttrs([r,i,"buff_DMG-total","buff_dmg_melee-total","buff_dmg_ranged-total","buff_dmg_melee2-total","buff_dmg_ranged2-total","buff_dmg_power_attack-total","condition-Sickened",f,l,p,o,s,c],function(e){var t,n,f,d,m,_,g,b,y,h,v=0,k=0,w=0,A={},C=0,I=0,S=0;w=/range/i.test(e[p]),w||(C=/melee/i.test(e[p])),I=/2/.test(e[p]),n=parseInt(e[i],10)||0,f=1,_=parseInt(e["condition-Sickened"],10)||0,m=parseInt(e[l],10),b=parseInt(e[s],10)||0,y=parseInt(e[o],10)||0,w?(v=parseInt(e["buff_dmg_ranged-total"],10)||0,S=0,I&&(g=parseInt(e["buff_dmg_ranged2-total"],10)||0,v+=g,S=0)):C?(v=parseInt(e["buff_dmg_melee-total"],10)||0,S=parseInt(e["buff_dmg_power_attack-total"],10)||0,I&&(g=parseInt(e["buff_dmg_melee2-total"],10)||0,v+=g)):v=0,k=parseInt(e["buff_DMG-total"],10)||0,v+=k,f=u(e[c])||1,v-=_,t=parseInt(e[r],10),w&&!isNaN(t)||(t=999),n<=0&&(f=1,$.default.debug("~~~~~~ Multiplier only applies to an Ability bonus. Current Ability-Mod: "+n)),d=Math.floor(Math.min(f*(n+S),t)),h=d+v+b+y,(h!==m||isNaN(m))&&(A[l]=h),K.default.size(A)&&Z.setWrapper(A,Y.default.silentParams,a)})}function h(e,t,a,n){var r=Z.getRepeatingIDStr(e),i="repeating_weapon_"+r+"crit_conf_mod",l="repeating_weapon_"+r+"crit_confirm",o="repeating_weapon_"+r+"crit_confirm_temp",s="repeating_weapon_"+r+"attack-type",c=t["buff_crit_conf-total"]||0,u=t[o]||0,p=0,f="",d="",m=0,_=0;try{a=a||{},p=t[l]||0,(n||"0"!==t[s]&&"dual"!==t[s])&&(f=t[s].replace("attk-",""),(n||ne.attackGridFields[f])&&(d=ne.attackGridFields[f].crit),(n||d)&&(m=t[d]||0)),_=p+m+u+c,_!==(t[i]||0)&&(a[i]=_)}catch(t){$.default.error("updateRepeatingWeaponCrit: error updating crit for id  "+e,t)}finally{return a}}function v(e,t){var a=Z.getRepeatingIDStr(e),n="repeating_weapon_"+a+"crit_conf_mod",r="repeating_weapon_"+a+"crit_confirm",i="repeating_weapon_"+a+"crit_confirm_temp",l="repeating_weapon_"+a+"attack-type",o=["attk_ranged_crit_conf","attk_ranged2_crit_conf","attk_melee_crit_conf","attk_melee2_crit_conf","attk_cmb_crit_conf","attk_cmb2_crit_conf","buff_crit_conf-total",n,r,l,i];getAttrs(o,function(t){var a={};try{t=K.default.mapObject(t,function(e,t){return/attack\-type$/i.test(t)||/damage\-ability$/i.test(t)||/damage\-ability\-max$/i.test(t)||/damage_ability_mult$/i.test(t)?e:parseInt(e,10)||0}),h(e,t,a)}catch(t){$.default.error("updateRepeatingWeaponCritAsync: error updating crit for id  "+e,t)}finally{K.default.size(a)&&Z.setWrapper(a,Y.default.silentParams)}})}function k(e,t){var a=ne.attackGridFields[e]?ne.attackGridFields[e].crit:"";if(!a)return void $.default.error("updateRepeatingWeaponsFromCritAsync: Invalid attack type");getSectionIDs("repeating_weapon",function(t){var n=[a];!t||K.default.size(t)<1||(K.default.each(t,function(e){var t=Z.getRepeatingIDStr(e);n.push("repeating_weapon_"+t+"crit_conf_mod"),n.push("repeating_weapon_"+t+"crit_confirm"),n.push("repeating_weapon_"+t+"crit_confirm_temp"),n.push("repeating_weapon_"+t+"attack-type"),n.push("buff_crit_conf-total")}),getAttrs(n,function(n){var r=(parseInt(n[a],10),{});try{n=K.default.mapObject(n,function(e,t){return/attack\-type$/i.test(t)||/damage\-ability$/i.test(t)||/damage\-ability\-max$/i.test(t)||/damage_ability_mult$/i.test(t)?e:parseInt(e,10)||0}),K.default.each(t,function(t){var a=Z.getRepeatingIDStr(t),i="repeating_weapon_"+a+"attack-type";n[i]==="attk-"+e&&h(t,n,r,!0)})}catch(e){$.default.error("updateRepeatingWeaponsFromCritAsync: error",e)}finally{K.default.size(r)>0&&Z.setWrapper(r,Y.default.silentParams)}}))})}function w(e){var t=Z.getRepeatingIDStr(e),a="repeating_weapon_"+t,n=a+"attack-type",r=a+"isranged";getAttrs([n,r],function(e){var t={},a=0;/ranged/i.test(e[n])&&(a=1),(parseInt(e[r],10)||0)!==a&&(t[r]=a,Z.setWrapper(t,Y.default.silentParams))})}function A(e,t){var a=Z.getRepeatingIDStr(e),n="repeating_weapon_"+a,r=t[n+"damage-ability"],i=0,l=0,o=0,s=1,c=0,p=0,f=999,d=t["condition-Sickened"],m=t["buff_dmg_melee-total"]||0,_=t["buff_dmg_ranged-total"]||0,g=t["buff_DMG-total"]||0,b=t["buff_dmg_power_attack-total"]||0,y=0,h=0,v={};try{"dual"===r?0!==c&&(v[n+"total-damage"]=0):(i=parseInt(t[n+"isranged"],10)||0,l=parseInt(t[n+"enhance"],10)||0,o=parseInt(t[n+"damage-ability-mod"],10)||0,c=parseInt(t[n+"total-damage"],10)||0,p=parseInt(t[n+"damage-mod"],10)||0,t[n+"attack-type"].indexOf("2")>=0&&(_+=parseInt(t["buff_dmg_ranged2-total"],10)||0,m+=parseInt(t["buff_dmg_melee2-total"],10)||0),i?(b=0,g+=_,f=parseInt(t[n+"damage-ability-max"],10),isNaN(f)&&(f=999)):g+=m,s=u(t[n+"damage_ability_mult"]),g-=d,o<=0&&(s=1,$.default.debug("~~~~~~ Multiplier only applies to an Ability bonus. Current Ability-Mod: "+o)),y=Math.floor(Math.min(s*(o+b),f)),((h=y+g+p+l)!==c||isNaN(c))&&(v[n+"total-damage"]=h))}catch(t){$.default.error("PFAttacks.recalculateAttack for id "+e,t)}finally{return v}}function C(e,t,a){var n=K.default.once(function(){"function"==typeof e&&e()});getSectionIDs("repeating_weapon",function(e){var t;t=Z.cartesianAppend(["repeating_weapon_"],e,se),t.push("buff_DMG-total"),t.push("buff_dmg_melee-total"),t.push("buff_dmg_ranged-total"),t.push("buff_dmg_melee2-total"),t.push("buff_dmg_ranged2-total"),t.push("condition-Sickened"),t.push("buff_dmg_power_attack-total"),getAttrs(t,function(t){var a;t["buff_DMG-total"]=parseInt(t["buff_DMG-total"],10)||0,t["buff_dmg_ranged-total"]=parseInt(t["buff_dmg_ranged-total"],10)||0,t["buff_dmg_melee-total"]=parseInt(t["buff_dmg_melee-total"],10)||0,t["condition-Sickened"]=parseInt(t["condition-Sickened"],10)||0,t["buff_dmg_power_attack-total"]=parseInt(t["buff_dmg_power_attack-total"],10)||0,a=K.default.reduce(e,function(e,a){var n=A(a,t);return K.default.extend(e,n),e},{}),K.default.size(a)?Z.setWrapper(a,{},n):n()})})}function I(e){var t=K.default.once(function(){"function"==typeof e&&e()});getSectionIDs("repeating_weapon",function(e){var a,n=[];if(0===K.default.size(e))return void t();a=K.default.after(K.default.size(e),function(){t()}),n=K.default.map(e,function(e){return["repeating_weapon_"+e+"_source-item","repeating_weapon_"+e+"_source-spell","repeating_weapon_"+e+"_source-ability"]}),n=K.default.flatten(n),getAttrs(n,function(t){e=K.default.map(e,function(e){return e.toLowerCase()}),getSectionIDs("repeating_spells",function(n){n=K.default.map(n,function(e){return e.toLowerCase()}),getSectionIDs("repeating_item",function(r){r=K.default.map(r,function(e){return e.toLowerCase()}),getSectionIDs("repeating_ability",function(i){var l={};i=K.default.map(i,function(e){return e.toLowerCase()}),$.default.debug("################","Checking linked attacks. attack links, spellids, itemids, abilityids",t,n,r,i),K.default.each(e,function(e){t["repeating_weapon_"+e+"_source-item"]?($.default.debug("checking "+e+" for item:"+t["repeating_weapon_"+e+"_source-item"]),"DELETED"!==t["repeating_weapon_"+e+"_source-item"]&&($.default.debug("looking for "+t["repeating_weapon_"+e+"_source-item"]+" in item list"),K.default.size(r>0)&&K.default.contains(r,t["repeating_weapon_"+e+"_source-item"])?re.createAttackEntryFromRow(t["repeating_weapon_"+e+"_source-item"],a,!0,null,e):$.default.warn("weapon "+e+" item link is not found:"+t["repeating_weapon_"+e+"_source-item"]))):t["repeating_weapon_"+e+"_source-spell"]?($.default.debug("checking "+e+" for spell:"+t["repeating_weapon_"+e+"_source-spell"]),"DELETED"!==t["repeating_weapon_"+e+"_source-spell"]&&($.default.debug("looking for "+t["repeating_weapon_"+e+"_source-spell"]+" in spell list"),K.default.size(n>0)&&K.default.contains(n,t["repeating_weapon_"+e+"_source-spell"])?ie.createAttackEntryFromRow(t["repeating_weapon_"+e+"_source-spell"],a,!0,null,e):$.default.warn("weapon "+e+" spell link is not found:"+t["repeating_weapon_"+e+"_source-spell"]))):t["repeating_weapon_"+e+"_source-ability"]?($.default.debug("checking "+e+" for ability:"+t["repeating_weapon_"+e+"_source-ability"]),"DELETED"!==t["repeating_weapon_"+e+"_source-ability"]&&($.default.debug("looking for "+t["repeating_weapon_"+e+"_source-ability"]+" in ability list"),K.default.size(i>0)&&K.default.contains(i,t["repeating_weapon_"+e+"_source-ability"])?le.createAttackEntryFromRow(t["repeating_weapon_"+e+"_source-ability"],a,!0,null,e):$.default.warn("weapon "+e+" ability link is not found:"+t["repeating_weapon_"+e+"_source-ability"]))):($.default.debug("nothing linked to "+e),a())}),K.default.size(l)>0&&Z.setWrapper(l,Y.default.silentParams)})})})})})}function S(e,t,a){var n,r="repeating_weapon_"+e+"_",i=t[r+"isranged"]||0,l=t[r+"enhance"]||0,o=t[r+"masterwork"]||0,s=t[r+"attack-type-mod"]||0,c=t[r+"proficiency"]||0,p=t[r+"attack-mod"]||0,f=t[r+"total-attack"],d=t[r+"damage-ability-mod"]||0,m=1,_=t[r+"total-damage"],g=t[r+"damage-mod"]||0,b=t[r+"damage-ability-max"],y=t[r+"crit_conf_mod"]||0,v=t[r+"crit_confirm"]||0,k=t[r+"crit_confirm_temp"]||0,w=t["buff_crit_conf-total"]||0,A=t[r+"attack-type"],C=t["buff_DMG-total"]||0,I=t["buff_dmg_power_attack-total"]||0,S="",P="",x=0,T=0,O=0,M=0,D=0;try{n=a||{},A&&"dual"!==A&&"0"!==A?/range/i.test(A)?i||(i=1,n[r+"isranged"]=1):i&&(n[r+"isranged"]=0):i&&(n[r+"isranged"]=0,i=0,I=0),m=u(t[r+"damage_ability_mult"]),i?(C+=t["buff_dmg_ranged-total"]||0,I=0,A.indexOf("2")>=0&&(C+=t["buff_dmg_ranged2-total"]||0,I=0)):(C+=t["buff_dmg_melee-total"]||0,A.indexOf("2")>=0&&(C+=t["buff_dmg_melee2-total"]||0)),C-=t["condition-Sickened"]||0,D=Math.max(l,o)+s+c+p,(D!==f||isNaN(f))&&(n[r+"total-attack"]=D),b=parseInt(b,10),i&&!isNaN(b)||(b=999),d<=0&&(m=1,$.default.debug("~~~~~~ Multiplier only applies to an Ability bonus. Current Ability-Mod: "+d)),O=Math.min(Math.floor(m*(d+I)),b),M=O+C+g+l,$.default.debug("###########################","getRecalculatedAttack attackType:"+A+", ability:"+t["repeating_weapon_"+e+"_damage-ability"]+" mod:"+t["repeating_weapon_"+e+"_damage-ability-mod"]+", isranged:"+i+", damageBuffs:"+C+", maxability:"+b+", abilityMult:"+m+", abilitydmg:"+d+", ability dmg tot:"+O+", new total:"+M+", old total:"+_,"###########################"),(M!==_||isNaN(_))&&(n[r+"total-damage"]=M),A&&"dual"!==A&&"0"!==A&&(S=A.replace("attk-",""))&&(P=ne.attackGridFields[S].crit,x=P?t[P]:0,t[r+"attack-type_macro_insert"]!==ne.attackGridFields[S].attackmacro&&(n[r+"attack-type_macro_insert"]=ne.attackGridFields[S].attackmacro),t[r+"damage-type_macro_insert"]!==ne.attackGridFields[S].damagemacro&&(n[r+"damage-type_macro_insert"]=ne.attackGridFields[S].damagemacro)),h(e,t,n),T=v+x+k+w,T!==y&&(n[r+"crit_conf_mod"]=T),S||("0"!==t[r+"attack-type_macro_insert"]&&(n[r+"attack-type_macro_insert"]="0"),"0"!==t[r+"damage-type_macro_insert"]&&(n[r+"damage-type_macro_insert"]="0"))}catch(t){$.default.error("PFAttacks.getRecalculatedAttack for id "+e,t)}finally{return n}}function P(e,t,a,n,r){return r||(r="repeating_weapon_"+Z.getRepeatingIDStr(e)),n&&parseInt(t[r+"size_affects"],10)||(a[r+"default_damage-dice-num"]=t[r+"damage-dice-num"]||0,a[r+"default_damage-die"]=t[r+"damage-die"]||0),a}function x(e,t){var a=Z.getRepeatingIDStr(e),n="repeating_weapon_"+a;getAttrs(["modify_dmg_by_size",n+"size_affects",n+"damage-dice-num",n+"damage-die"],function(t){var a={},r=0;(parseInt(t.modify_dmg_by_size,10)||parseInt(t[n+"size_affects"],10))&&(r=1),P(e,t,a,r,n),K.default.size(a)&&Z.setWrapper(a,Y.default.silentParams)})}function T(){getAttrs(["modify_dmg_by_size"],function(e){getSectionIDs("repeating_weapons",function(e){var t,a={};K.default.size(e)&&(t=Z.cartesianAppend(["repeating_weapon_"],e,["_damage-dice-num","_damage-die","_size_affects"]),t.push("modify_dmg_by_size"),getAttrs(t,function(t){K.default.each(e,function(e){P(e,t,a,0)}),K.default.size(a)&&Z.setWrapper(a,Y.default.silentParams)}))})})}function O(e,t,a,n,r){var i=0,l=0,o=0,s=0,c=0,u=0,p=0,f=0,d=0,m={};try{r||(r="repeating_weapon_"+Z.getRepeatingIDStr(e)),p=parseInt(a[r+"not_default_size"],10)||0,parseInt(a[r+"size_affects"],10)?(i=parseInt(a[r+"damage-dice-num"],10)||0,s=parseInt(a[r+"damage-die"],10)||0,0!==i&&0!==s?(f=parseInt(a.default_char_size,10),u=parseInt(a[r+"default_size"],10),l=parseInt(a[r+"default_damage-dice-num"],10)||0,c=parseInt(a[r+"default_damage-die"],10)||0,isNaN(u)&&(u=f,n[r+"default_size"]=u),isNaN(f)&&(f=t),0!==l&&0!==c||(l=i,c=s,n[r+"default_damage-dice-num"]=l,n[r+"default_damage-die"]=c),t!==f&&(p||(n[r+"not_default_size"]=1),d=oe.getSizeLevelChange(t,f)),u!==f&&(p||(n[r+"not_default_size"]=1),o=oe.getSizeLevelChange(u,f)),d+=o,$.default.debug("PFAttacks update dice, total size change is  "+d),d?(m=oe.updateDamageDice(d,f,l,c),$.default.debug("###########","PFAttacks.adjustDamageDice NEW DAMAGE is:"+m.dice+"d"+m.die+", for sizeDiff:"+d),i===m.dice&&s===m.die||(n[r+"damage-dice-num"]=m.dice,n[r+"damage-die"]=m.die)):(p&&(n[r+"not_default_size"]=0),i===l&&s===c||(n[r+"damage-dice-num"]=l,n[r+"damage-die"]=c))):n[r+"size_affects"]=0):0!==i&&0!==s&&(n[r+"damage-dice-num"]=a[r+"default_damage-dice-num"],n[r+"damage-die"]=a[r+"default_damage-die"],p&&(n[r+"not_default_size"]=0))}catch(e){$.default.error("PFAttacks.adjustDamageDice",e)}finally{return n}}function M(e,t){var a=Z.getRepeatingIDStr(e),n="repeating_weapon_"+a;getAttrs(["modify_dmg_by_size","size","default_char_size",n+"default_size",n+"size_affects",n+"default_damage-dice-num",n+"default_damage-die",n+"not_default_size",n+"damage-dice-num",n+"damage-die"],function(t){var a={},r=0;try{parseInt(t.modify_dmg_by_size,10)&&(r=parseInt(t.size,10)||0,O(e,r,t,a,n))}finally{K.default.size(a)&&Z.setWrapper(a)}})}function D(e,t){var a=K.default.once(function(){"function"==typeof e&&e()});getAttrs(["modify_dmg_by_size","size","default_char_size"],function(e){var t=0;parseInt(e.modify_dmg_by_size,10)&&(t=parseInt(e.size,10)||0,getSectionIDs("repeating_weapon",function(n){var r;K.default.size(n)&&(r=Z.cartesianAppend(["repeating_weapon_"],n,ue),getAttrs(r,function(r){var i={};r.default_char_size=parseInt(e.default_char_size,10)||0,K.default.each(n,function(e){Z.getRepeatingIDStr(e);O(e,t,r,i)}),K.default.size(i)&&Z.setWrapper(i,Y.default.silentParams,a)}))}))})}function E(e,t,a,n,r){var i=Z.getRepeatingIDStr(e),l="repeating_weapon_"+i;return r?O(e,t,a,n,l):P(e,a,n,r,l),n}function F(e,t,a,n){var r=1,i=1,l=2,o="",s="{{attackREPLACEITER=[[ 1d20cs>[[ @{repeating_weapon_REPLACEHAND_crit-target} ]] + [[ @{repeating_weapon_REPLACEHAND_attack_macro} ]] + @{iterative_attackREPLACEITER_value} ]]}} {{damageREPLACEITER=[[ @{repeating_weapon_REPLACEHAND_damage-dice-num}d@{repeating_weapon_REPLACEHAND_damage-die} + @{repeating_weapon_REPLACEHAND_damage_macro} ]]}} {{typeREPLACEITER=@{typeREPLACEITER}}} {{crit_confirmREPLACEITER=[[ 1d20 + [[ @{repeating_weapon_REPLACEHAND_attack_macro}  ]] + @{iterative_attackREPLACEITER_value} + @{repeating_weapon_REPLACEHAND_crit_conf_mod} ]]}} {{crit_damageREPLACEITER=[[ [[ @{repeating_weapon_REPLACEHAND_damage-dice-num} * [[ @{repeating_weapon_REPLACEHAND_crit-multiplier} - 1 ]] ]]d@{repeating_weapon_REPLACEHAND_damage-die} + ((@{repeating_weapon_REPLACEHAND_damage_macro}) * [[ @{repeating_weapon_REPLACEHAND_crit-multiplier} - 1 ]]) ]]}} {{precision_dmgREPLACEITER1=@{repeating_weapon_REPLACEHAND_precision_dmg_macro}}} {{critical_dmgREPLACEITER1=@{repeating_weapon_REPLACEHAND_critical_dmg_macro}}} {{precision_dmgREPLACEITER2=@{global_precision_dmg_macro}}} {{critical_dmgREPLACEITER2=@{global_critical_dmg_macro}}} {{attackREPLACEITERname=@{iterative_attackREPLACEITER_name}}} ",c=0,u="",p=[],f=0,d=0,m=0,_=0,g="",b="",y="";try{for($.default.debug("PFAttacks.setDualWieldVals",e),t=t||{},a||(a=generateRowID()),g="repeating_weapon_"+a+"_",n&&(u=e["macro-text"],$.default.debug("currMacro is ",u),u&&($.default.debug("about to call gettracking"),p=ee.getTracking(u),0===K.default.size(p)&&(u=e["NPC-macro-text"])&&(p=ee.getTracking(u)))),m=e.offhand_improved,b=Z.getTranslated("dual-wield"),b||(b="Dual Wield"),t[g+"dualwield"]=1,t[g+"source-main"]=e.mainhand_id,t[g+"source-off"]=e.offhand_id,t[g+"group"]=b,n||(t[g+"group"]=b,t[g+"source-main-name"]=e.mainhand_name||"",t[g+"source-off-name"]=e.offhand_name||"",t[g+"name"]=b+" "+(e.mainhand_name||"")+"/"+(e.offhand_name||""),t[g+"iterative_attack1_name"]=e.mainhand_name+" [[@{repeating_weapon_"+e.mainhand_id+"_total-attack} + "+e.mainhand_penalty+"]]"),t[g+"link_type"]=fe.weapon,t[g+"size_affects"]=0,t[g+"attack-type"]="dual",t[g+"attack-type-mod"]=0,t[g+"damage-ability"]="dual",t[g+"damage-ability-mod"]=0,t[g+"damage"]="0",t[g+"damage-mod"]=0,i=1,t[g+"damage"]="0",t[g+"damage-mod"]=0,o="&{template:pf_attack} @{toggle_attack_accessible} @{toggle_rounded_flag} {{header_image=@{header_image-pf_attack-dual}}} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{attack=[[ 1d20cs>[[ @{repeating_weapon_"+e.mainhand_id+"_crit-target} ]] + [[@{repeating_weapon_"+e.mainhand_id+"_attack_macro} ]] + @{attack-mod} ]]}} {{damage=[[@{repeating_weapon_"+e.mainhand_id+"_damage-dice-num}d@{repeating_weapon_"+e.mainhand_id+"_damage-die} + @{repeating_weapon_"+e.mainhand_id+"_damage_macro} ]]}} {{type=@{type}}} {{crit_confirm=[[ 1d20 + [[ @{repeating_weapon_"+e.mainhand_id+"_attack_macro} ]] + @{attack-mod} ]]}} {{crit_damage=[[ [[ @{repeating_weapon_"+e.mainhand_id+"_damage-dice-num} * (@{repeating_weapon_"+e.mainhand_id+"_crit-multiplier} - 1) ]]d@{repeating_weapon_"+e.mainhand_id+"_damage-die} + ((@{repeating_weapon_"+e.mainhand_id+"_damage_macro} ) * [[ @{repeating_weapon_"+e.mainhand_id+"_crit-multiplier} - 1 ]]) ]]}} {{precision_dmg1=@{repeating_weapon_"+e.mainhand_id+"_precision_dmg_macro}}} {{precision_dmg1_type=@{repeating_weapon_"+e.mainhand_id+"_precision_dmg_type}}} {{critical_dmg1=@{repeating_weapon_"+e.mainhand_id+"_critical_dmg_macro}}} {{critical_dmg1_type=@{repeating_weapon_"+e.mainhand_id+"_critical_dmg_type}}} {{weapon_notes=@{repeating_weapon_"+e.mainhand_id+"_notes}@{repeating_weapon_"+e.offhand_id+"_notes}}} {{vs=@{repeating_weapon_"+e.mainhand_id+"_vs}}} {{vs@{repeating_weapon_"+e.mainhand_id+"_vs}=@{repeating_weapon_"+e.mainhand_id+"_vs}}} {{precision_dmg2=@{global_precision_dmg_macro}}} {{precision_dmg2_type=@{global_precision_dmg_type}}} {{critical_dmg2=@{global_critical_dmg_macro}}} {{critical_dmg2_type=@{global_critical_dmg_type}}} {{dual_precision_dmg=@{precision_dmg_macro}}} {{dual_precision_dmg_type=@{precision_dmg_type}}} @{iterative_attacks} @{macro_options} {{attack1name=@{iterative_attack1_name}}}",K.default.size(p)&&(u=" "+p.join(" "),o+=u),t[g+"macro-text"]=o,t[g+"NPC-macro-text"]=o,t[g+"attack"]=e.mainhand_penalty,t[g+"attack-mod"]=e.mainhand_penalty,t[g+"total-attack"]=e.mainhand_penalty,r=Math.floor(e.bab/5)+1,l=r+e.offhand_improved,i=2,d=f;i<=l;)b="",0===m||i%2==1?(f-=5,b=s.replace(/REPLACEHAND/g,e.mainhand_id),c=f+e.mainhand_penalty,t[g+"iterative_attack"+i+"_name"]=e.mainhand_name+" [[ @{repeating_weapon_"+e.mainhand_id+"_total-attack} - "+Math.abs(f)+" - "+Math.abs(e.mainhand_penalty)+" ]]"):(b="{{attackREPLACEITER=[[ 1d20cs>[[ @{repeating_weapon_REPLACEHAND_crit-target} ]] + [[ @{repeating_weapon_REPLACEHAND_attack_macro} ]] + @{iterative_attackREPLACEITER_value} ]]}} {{damageREPLACEITER=[[ @{repeating_weapon_REPLACEHAND_damage-dice-num}d@{repeating_weapon_REPLACEHAND_damage-die} + @{repeating_weapon_REPLACEHAND_damage_macro} REPLACEMULT ]]}} {{typeREPLACEITER=@{typeREPLACEITER}}} {{crit_confirmREPLACEITER=[[ 1d20 + [[ @{repeating_weapon_REPLACEHAND_attack_macro} ]] + @{iterative_attackREPLACEITER_value}  + @{repeating_weapon_REPLACEHAND_crit_conf_mod} ]]}} {{crit_damageREPLACEITER=[[ [[ @{repeating_weapon_REPLACEHAND_damage-dice-num} * [[ @{repeating_weapon_REPLACEHAND_crit-multiplier} - 1 ]] ]]d@{repeating_weapon_REPLACEHAND_damage-die} + ((@{repeating_weapon_REPLACEHAND_damage_macro} REPLACEMULT ) * [[ @{repeating_weapon_REPLACEHAND_crit-multiplier} - 1 ]]) ]]}} {{precision_dmgREPLACEITER1=@{repeating_weapon_REPLACEHAND_precision_dmg_macro}}} {{critical_dmgREPLACEITER1=@{repeating_weapon_REPLACEHAND_critical_dmg_macro}}} {{precision_dmgREPLACEITER2=@{global_precision_dmg_macro}}} {{critical_dmgREPLACEITER2=@{global_critical_dmg_macro}}} {{attackREPLACEITERname=@{iterative_attackREPLACEITER_name}}} ".replace(/REPLACEHAND/g,e.offhand_id),.5===e.offhand_mult?(y="- [[ ceil(@{repeating_weapon_REPLACEHAND_damage-ability-mod}/2) ]] ".replace(/REPLACEHAND/g,e.offhand_id),b=b.replace(/REPLACEMULT/g,y)):b=b.replace(/REPLACEMULT/g,""),c=_+e.offhand_penalty,t[g+"iterative_attack"+i+"_name"]=e.offhand_name+" [[@{repeating_weapon_"+e.offhand_id+"_total-attack} - "+Math.abs(_)+" - "+Math.abs(e.offhand_penalty)+"]]",_-=5,m--),b=b.replace(/REPLACEITER/g,i),t[g+"iterative_attack"+i+"_value"]=c,t[g+"var_iterative_attack"+i+"_macro"]=b,t[g+"toggle_iterative_attack"+i]="@{var_iterative_attack"+i+"_macro}",i++;i<=8&&(b=s.replace(/REPLACEHAND/g,e.mainhand_id),b=b.replace(/REPLACEITER/g,i),c=d+e.mainhand_penalty,t[g+"iterative_attack"+i+"_name"]="Extra full BAB MH attack",t[g+"iterative_attack"+i+"_value"]=c,t[g+"var_iterative_attack"+i+"_macro"]=b)}catch(e){$.default.error("PFAttacks.setDualWieldVals outererr",e)}finally{return t}}function R(e,t){var a=K.default.once(function(){"function"==typeof e&&e()}),n=K.default.once(function(){t?Z.setWrapper({update_twoweapon_attack:0},Y.default.silentParams,a):a()});getAttrs(["update_twoweapon_attack","mainhand_penalty","offhand_penalty","offhand_improved","bab","offhand_str_mult"],function(e){if(t&&!parseInt(e.update_twoweapon_attack,10))return void a();getSectionIDs("repeating_weapon",function(t){var a,r=0,i=0,l=0,o=0,s=0;if(!t||0===K.default.size(t))return void n();r=parseInt(e.mainhand_penalty,10)||0,i=parseInt(e.offhand_penalty,10)||0,l=parseInt(e.offhand_improved,10)||0,o=parseInt(e.bab,10)||0,s=parseFloat(e.offhand_str_mult)||.5,a=Z.cartesianAppend(["repeating_weapon_"],t,["_source-main","_source-off","_link_type","_source-main-name","_source-off-name","_macro-text","_NPC-macro-text"]),getAttrs(a,function(e){var a={};t&&K.default.size(t)&&t.forEach(function(t){var n="repeating_weapon_"+t+"_",c=parseInt(e[n+"link_type"],10),u={};try{c===fe.weapon&&(u.mainhand_id=e[n+"source-main"],u.offhand_id=e[n+"source-off"],u.mainhand_penalty=r,u.offhand_penalty=i,u.offhand_improved=l,u.bab=o,u.mainhand_name=e[n+"source-main-name"],u.offhand_name=e[n+"source-off-name"],u.offhand_mult=s,u["macro-text"]=e[n+"macro-text"],u["NPC-macro-text"]=e[n+"NPC-macro-text"],F(u,a,t,!0))}catch(e){}}),K.default.size(a)?Z.setWrapper(a,Y.default.silentParams,n):n()})})})}function N(e){var t={},a={};try{$.default.debug("at createDualWield:",e),t.mainhand_id=e.mainhand_id,t.offhand_id=e.offhand_id,t.mainhand_penalty=parseInt(e.mainhand_penalty,10)||0,t.offhand_penalty=parseInt(e.offhand_penalty,10)||0,t.offhand_improved=parseInt(e.offhand_improved,10)||0,t.bab=parseInt(e.bab,10)||0,t.mainhand_name=e.mainhand_name,t.offhand_name=e.offhand_name,t.offhand_mult=parseFloat(e.offhand_str_mult)||.5,a=F(t,a)}catch(e){$.default.error("PFAttacks.createDualWield outererr",e)}finally{return a}}function j(e){var t=K.default.once(function(){"function"==typeof e&&e()}),a=function(e){e&&K.default.size(e)?(e.create_twoweapon_attack=0,e.mainhand_id="",e.offhand_id="",Z.setWrapper(e,Y.default.silentParams,function(){ne.resetCommandMacro(),t()})):Z.setWrapper({create_twoweapon_attack:0},Y.default.silentParams,t)};getAttrs(["create_twoweapon_attack","mainhand_id","mainhand_penalty","offhand_id","offhand_penalty","offhand_improved","bab","offhand_str_mult"],function(e){try{1===parseInt(e.create_twoweapon_attack,10)&&getSectionIDs("repeating_weapon",function(t){var n=[],r={};try{if(!t||0===K.default.size(t))return void a();K.default.contains(t,e.mainhand_id)&&K.default.contains(t,e.offhand_id)?getAttrs(["repeating_weapon_"+e.mainhand_id+"_name","repeating_weapon_"+e.offhand_id+"_name"],function(t){e.mainhand_name=t["repeating_weapon_"+e.mainhand_id+"_name"],e.offhand_name=t["repeating_weapon_"+e.offhand_id+"_name"],$.default.debug("they are there! calling with ",e,t),r=N(e),a(r)}):(n=t.map(function(e){return"repeating_weapon_"+e+"_name"}),getAttrs(n,function(t){var n="",i="";K.default.each(t,function(t,a){$.default.debug("comparing "+e.mainhand_id+" to "+t+" of row "+a),t===e.mainhand_id?(n=Z.getRowId(a),e.mainhand_name=t,e.mainhand_id=n):t===e.offhand_id&&(i=Z.getRowId(a),e.offhand_name=t,e.offhand_id=i)}),n&&i&&($.default.debug("calling createDualWield with :",e),r=N(e)),a(r)}))}catch(e){$.default.error("PFAttacks.createDualWieldAsync ierr",e),a()}})}catch(e){$.default.error("PFAttack.createDualWieldAsync outererror",e),a()}})}function L(e,t){var a,n=function(){"function"==typeof t&&t()};if(!e||0===K.default.size(e))return void n();K.default.after(K.default.size(e),n),a=Z.cartesianAppend(["repeating_weapon_"],e,ce),a=a.concat(Z.cartesianAppend(["repeating_weapon_"],e,ue)),a=a.concat(pe),getAttrs(a,function(t){var a,r=0,i=0;t=K.default.mapObject(t,function(e,t){return/attack\-type$/i.test(t)||/damage\-ability$/i.test(t)||/damage\-ability\-max$/i.test(t)||/damage_ability_mult$/i.test(t)?e:parseInt(e,10)||0}),i=parseInt(t.size,10)||0,r=parseInt(t.modify_dmg_by_size,10)||0,a=K.default.reduce(e,function(e,a){var n={},l=0;try{r&&t["repeating_weapon_"+a+"_size_affects"]&&(l=1),"dual"!==t["repeating_weapon_"+a+"_attack-type"]&&(n=S(a,t),E(a,i,t,n,l),K.default.extend(e,n))}catch(e){$.default.error("PFAttacks.recalcOtherFields erri",e)}finally{return e}},{}),K.default.size(a)?Z.setWrapper(a,{},n):n()})}function z(e,t){var a,n=K.default.once(function(){"function"==typeof t&&t()}),r=K.default.after(K.default.size(e),n);a=K.default.chain(e).map(function(e){var t="repeating_weapon_"+e+"_";return[t+"damage",t+"attack",t+"crit_confirm",t+"damage-mod",t+"attack-mod",t+"crit_confirm_temp"]}).flatten().value(),getAttrs(a,function(t){try{K.default.each(e,function(e){var a=K.default.after(4,r),n="repeating_weapon_"+e+"_";t[n+"damage"]&&"0"!==t[n+"damage"]&&"+0"!==t[n+"damage"]||0!==parseInt(t[n+"damage-mod"],10)?Z.evaluateAndSetNumber(n+"damage",n+"damage-mod",0,a,!0):a(),t[n+"attack"]&&"0"!==t[n+"attack"]&&"+0"!==t[n+"attack"]||0!==parseInt(t[n+"attack-mod"],10)?Z.evaluateAndSetNumber(n+"attack",n+"attack-mod",0,a,!0):a(),t[n+"crit_confirm"]&&"0"!==t[n+"crit_confirm"]&&"+0"!==t[n+"crit_confirm"]||0!==parseInt(t[n+"crit_confirm_temp"],10)?Z.evaluateAndSetNumber(n+"crit_confirm",n+"crit_confirm_temp",0,a,!0):a(),Z.setDropdownValue(n+"attack-type",n+"attack-type-mod",null,a,!0),Z.setDropdownValue(n+"damage-ability",n+"damage-ability-mod",null,a,!0)})}catch(e){$.default.error("recalcEquationFields",e),n()}})}function W(e){var t=function(e){var t="repeating_weapon_"+e+"_";Z.setDropdownValue(t+"attack-type",t+"attack-type-mod",null,function(){m(e)},!0)};getSectionIDs("repeating_weapon",function(e){e&&0!==K.default.size(e)&&K.default.each(e,function(e){t(e)})})}function B(e,t){z([e],function(){L([e],t)})}function q(e){var t=K.default.once(function(){"function"==typeof e&&e()}),a=function(){R(e)};getSectionIDs("repeating_weapon",function(e){if(!e||0===K.default.size(e))return void t();z(e,function(){L(e,a)})})}function H(e,t,a){var n=K.default.once(function(){"function"==typeof e&&e()}),r="",i="";switch(t){case fe.ability:r="source-ability";break;case fe.equipment:r="source-item";break;case fe.spell:r="source-spell";break;case fe.weapon:r="source-main",i="source-off";break;default:return void n()}getSectionIDs("repeating_weapon",function(e){var t,l;if(!e||0===K.default.size(e))return void n();l=["_"+r,"_"+r+"-name"],i&&(l.push("_"+i),l.push("_"+i+"-name"),l.push("_name")),t=Z.cartesianAppend(["repeating_weapon"],e,l),getAttrs(t,function(t){var l={};e.forEach(function(e){var n="repeating_weapon_"+e+"_";t[n+r]===a&&(l[n+"link_type"]=0,l[n+r]="",l[n+r+"-name"]="",i&&(l[n+i]="",l[n+i+"-name"]="",l[n+"name"]="UNLINKED "+t[n+"name"]))}),K.default.size(l)?Z.setWrapper(l,Y.default.silentParams,n):n()})})}function U(e,t,a){var n,r;try{a=a||{},r=parseInt(t.size,10)||0,n=K.default.reduce(e,function(e,a){var n="repeating_weapon_"+a+"_";try{e[n+"default_size"]=r,t[n+"damage-dice-num"]?e[n+"default_damage-dice-num"]=t[n+"damage-dice-num"]:(e[n+"default_damage-dice-num"]=0,e[n+"damage-dice-num"]=0),t[n+"damage-die"]?e[n+"default_damage-die"]=t[n+"damage-die"]:(e[n+"default_damage-die"]=0,e[n+"damage-die"]=0)}catch(e){$.default.error("PFAttacks.setNewDefaultsSync errin id "+a,e)}finally{return e}},{}),K.default.extend(a,n)}catch(e){$.default.error("PFAttacks.getNewDefaults errout ",e)}finally{return a}}function G(e){var t=K.default.once(function(){"function"==typeof e&&e()}),a=K.default.once(function(){Z.setWrapper({migrated_attacklist_defaults111:1},Y.default.silentParams,t)});getAttrs(["migrated_attacklist_defaults111"],function(e){if(parseInt(e.migrated_attacklist_defaults111,10)||0)return void t();getSectionIDs("repeating_weapon",function(e){var n;if(!e&&!K.default.size(e))return void a();n=Z.cartesianAppend(["repeating_weapon_"],e,["_damage-dice-num","_damage-die"]),n.push("size"),getAttrs(n,function(n){var r={};try{r=U(e,n,r)}catch(e){$.default.error("PFAttacks.setNewDefaults errout ",e)}finally{K.default.size(r)?Z.setWrapper(r,Y.default.silentParams,a):t()}})})})}function V(e,t){var a=K.default.once(function(){"function"==typeof e&&e()});if(t<=0&&t>=1.5)return void a();getSectionIDs("repeating_weapon",function(e){var t;if(!e||0===K.default.size(e))return void a();t=Z.cartesianAppend(["repeating_weapon_"],e,["_source-item","_source-spell","_source-ability","_source-main","_source-off","_source-spell-name","_source-ability-name"]),t.push("migrated_linked_attacks"),getAttrs(t,function(t){var n={};if(parseInt(t.migrated_linked_attacks,10))return void a();e.forEach(function(e){var a=0;t["repeating_weapon_"+e+"_source-item"]?a=fe.equipment:t["repeating_weapon_"+e+"_source-spell"]?a=fe.spell:t["repeating_weapon_"+e+"_source-ability"]?(a=fe.ability,t["repeating_weapon_"+e+"_source-spell-name"]&&!t["repeating_weapon_"+e+"_source-ability-name"]&&(n["repeating_weapon_"+e+"_source-ability-name"]=t["repeating_weapon_"+e+"_source-spell-name"],n["repeating_weapon_"+e+"_source-spell-name"]="")):(t["repeating_weapon_"+e+"_source-main"]||t["repeating_weapon_"+e+"_source-off"])&&(a=fe.weapon),n["repeating_weapon_"+e+"_link_type"]=a}),n.migrated_linked_attacks=1,K.default.size(n)?Z.setWrapper(n,Y.default.silentParams,a):a()})})}function X(e,t){var a=K.default.once(function(){"function"==typeof e&&e()});getAttrs(["migrated_damage-multiplier"],function(e){var t=0,n=0;if(t=parseInt(e["migrated_damage-multiplier"],10)||0,n=parseInt(e.migrated_attacklist_defaults111),t&&n)return void a();getSectionIDs("repeating_weapon",function(e){var n,r;try{if(!e||K.default.size(e)<=0)return void Z.setWrapper({"migrated_damage-multiplier":1,migrated_attacklist_defaults111:1},Y.default.silentParams,a);r=function(){G(function(){V(a)})},n=function(){t?r():te.migrateRepeatingDamage(e,r)},n()}catch(e){$.default.error("PFAttacks.migrate",e),a()}})})}Object.defineProperty(t,"__esModule",{value:!0}),t.updateRepeatingWeaponAttackAsync=m,t.updateRepeatingWeaponAbilityDropdowns=b,t.updateRepeatingWeaponDamages=C,t.updateAssociatedAttacksFromParents=I,t.syncAllDefaultDamageDiceAsync=T,t.adjustAllDamageDiceAsync=D,t.setDualWieldVals=F,t.updateDualWieldAttacks=R,t.createDualWieldAsync=j,t.updateRepeatingAttacks=W,t.recalcRepeatingWeapon=B,t.recalculateRepeatingWeapons=q,t.removeLinkedAttack=H,t.setNewDefaultsAsync=G,t.migrateLinkedAttacks=V,t.migrate=X,t.recalculate=t.linkedAttackType=t.updateCharAttrs=t.sizeFieldsLU=t.updateRowAttrsLU=t.damageRowAttrsLU=void 0;var K=i(a(1)),$=(a(3),i(a(0))),Z=r(a(2)),Y=i(a(4)),J=r(a(5)),Q=r(a(19)),ee=r(a(25)),te=r(a(15)),ae=r(a(29)),ne=r(a(17)),re=r(a(66)),ie=r(a(38)),le=r(a(46)),oe=r(a(31)),se=["_damage-ability-max","_damage-ability","_damage-ability-mod","_damage-mod","_damage_ability_mult","_enhance","_total-damage","_attack-type","_isranged","buff_dmg_power_attack-total"],ce=["_attack-mod","_attack-type","_attack-type-mod","_crit_conf_mod","_crit_confirm","_crit_confirm_temp","_isranged","_masterwork","_proficiency","_total-attack","_attack-type_macro_insert","_damage-type_macro_insert"].concat(se),ue=["_default_damage-dice-num","_default_damage-die","_default_size","_not_default_size","_damage-dice-num","_damage-die","_size_affects"],pe=["attk_ranged_crit_conf","attk_ranged2_crit_conf","attk_melee_crit_conf","attk_melee2_crit_conf","attk_cmb_crit_conf","attk_cmb2_crit_conf","buff_DMG-total","buff_dmg_melee-total","buff_dmg_ranged-total","buff_dmg_melee2-total","buff_dmg_ranged2-total","condition-Sickened","size","default_char_size","modify_dmg_by_size","buff_dmg_power_attack-total","buff_crit_conf-total"],fe={equipment:1,spell:2,ability:3,weapon:4};t.linkedAttackType=fe,t.updateCharAttrs=pe,t.sizeFieldsLU=ue,t.updateRowAttrsLU=ce,t.damageRowAttrsLU=se;var de=$.default.callback(function(e,t,a){var n=function(){$.default.info("leaving PFAttacks.recalculate"),"function"==typeof e&&e()};ne.recalculate(function(){X(function(){p(),q(),ne.resetCommandMacro(),ae.recalculate(),I(),D(),n()},a)},t,a)});t.recalculate=de,function(){on("change:repeating_weapon:attack-type",$.default.callback(function(e){$.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||(Q.setRepeatingDropdownValue("weapon",null,"attack-type","attack-type-mod",function(t,a,n){n&&d(e,t,a)},!0),v(null,e),f(null,e),w(),y(null,e))})),on("change:repeating_weapon:attack",$.default.callback(function(e){$.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),Z.evaluateAndSetNumber("repeating_weapon_attack","repeating_weapon_attack-mod",0,function(t,a,n){n&&d(e,t,a)},!0)})),on("change:repeating_weapon:attack-type-mod change:repeating_weapon:attack-mod",$.default.callback(function(e){"sheetworker"!==e.sourceType&&"api"!==e.sourceType||($.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),m(null,e))})),on("change:repeating_weapon:masterwork change:repeating_weapon:proficiency",$.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||($.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),m(null,e))})),on("change:repeating_weapon:damage-ability",$.default.callback(function(e){$.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType&&"sheetworker"!==e.sourceType||Q.setRepeatingDropdownValue("weapon",null,"damage-ability","damage-ability-mod")})),on("change:repeating_weapon:damage",$.default.callback(function(e){$.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),Z.evaluateAndSetNumber("repeating_weapon_damage","repeating_weapon_damage-mod",0,function(e,t,a){a&&_(id,e,t)},!0)})),on("change:repeating_weapon:crit_confirm",$.default.callback(function(e){$.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),Z.evaluateAndSetNumber("repeating_weapon_crit_confirm","repeating_weapon_crit_confirm_temp",0,function(t,a,n){n&&g(e,t,a)},!0)})),on("change:repeating_weapon:damage_ability_mult",$.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||($.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),y(null,e))})),on("change:repeating_weapon:damage-ability-max",$.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||($.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),y(null,e))})),on("change:repeating_weapon:damage-ability-mod change:repeating_weapon:damage-mod",$.default.callback(function(e){"sheetworker"!==e.sourceType&&"api"!==e.sourceType||($.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),y(null,e))})),on("change:repeating_weapon:enhance",$.default.callback(function(e){$.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||(m(null,e),y(null,e))})),K.default.each(ne.attackGridFields,function(e,t){on("change:"+e.crit,$.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||($.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),k(t,e))})),on("change:"+e.critconfirm,$.default.callback(function(e){"sheetworker"!==e.sourceType&&"api"!==e.sourceType||($.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),k("melee",e))})),on("change:"+e.atk,$.default.callback(function(e){"sheetworker"!==e.sourceType&&"api"!==e.sourceType||($.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),$.default.debug("Yeah baby!"),W(e.sourceAttribute))}))}),on("change:repeating_weapon:default_damage-dice-num change:repeating_weapon:default_size change:repeating_weapon:default_damage-die change:repeating_weapon:size_affects",$.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||($.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),M())})),on("change:repeating_weapon:damage-dice-num change:repeating_weapon:damage-die",$.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||($.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),x())})),on("remove:repeating_weapon change:repeating_weapon:attack-type change:_reporder_repeating_weapon change:repeating_weapon:group change:repeating_weapon:name change:include_attack_totals",$.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||($.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),ne.resetCommandMacro())})),on("remove:repeating_weapon",$.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||($.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),H(null,fe.weapon,Z.getRowId(e.sourceAttribute)))})),on("change:create_twoweapon_attack",$.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||($.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),j())})),on("change:update_twoweapon_attack",$.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||($.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),R(null,e))}))}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){var n=h.default.once(function(){"function"==typeof e&&e()});w.updateRowTotal(T,0,x,!1,n,t),getAttrs(["condition-Entangled","condition-Fatigued","condition-Exhausted","condition-Invisible","condition_attack_notes","condition-Grappled","condition-Pinned"],function(e){var t="",a={};parseInt(e["condition-Entangled"],10)?(t+="**"+w.getTranslated("entangled")+"**: ",t+=w.getTranslated("condition-nocharge-note")+"\r\n"):parseInt(e["condition-Fatigued"],10)?(t+="**"+w.getTranslated("fatigued")+"**: ",t+=w.getTranslated("condition-nocharge-note")+"\r\n"):parseInt(e["condition-Exhausted"],10)&&(t+="**"+w.getTranslated("exhausted")+"**: ",t+=w.getTranslated("condition-nocharge-note")+"\r\n"),parseInt(e["condition-Invisible"],10)&&(t+="**"+w.getTranslated("invisible")+"**: ",t+=w.getTranslated("condition-invisible-title")+"\r\n"),parseInt(e["condition-Grappled"],10)&&(t+="**"+w.getTranslated("grappled")+"**: ",t+=w.getTranslated("condition-grappled-cmb-note")+"\r\n"),t!==e.condition_attack_notes&&(a.condition_attack_notes=t,w.setWrapper(a,k.default.silentParams))})}function s(e,t,a){var n=0,r=0;try{a=a||{},n=t[S[e].atk],r=t[S[e].bab]+t["attk-penalty"]+t[S[e].abilityMod]+t[S[e].misc]+t[S[e].size]+t[S[e].buff]+t["buff_attack-total"],S[e].pen&&(r-=t[S[e].pen]),S[e].buff2&&(r+=t[S[e].buff2]),r!==n&&(a[S[e].atk]=r)}catch(e){v.default.error("PFAttackGrid.updateAttack",e)}finally{return a}}function c(e){var t=[];return S[e]&&(t=h.default.chain(S[e]).values().flatten().compact().uniq().reject(function(e){return e.indexOf("macro")>=0}).value().sort()),t.push("attk-penalty"),t.push("buff_attack-total"),t}function u(e){var t=[],a=[];return a=h.default.intersection(Object.keys(S),e),t=h.default.chain(a).map(function(e){return h.default.values(S[e])}).flatten().compact().uniq().reject(function(e){return e.indexOf("macro")>=0}).value().sort(),t.push("attk-penalty"),t.push("buff_attack-total"),t}function p(e,t,a){var n,r=h.default.once(function(){"function"==typeof t&&t()});S[e]?(n=c(e),n.push("attk-penalty"),n.push("buff_attack-total"),getAttrs(n,function(n){var r={},i={},l={};try{r=h.default.reduce(n,function(e,t,a){return e[a]=parseInt(t,10)||0,e},{}),i=s(e,r)}catch(t){v.default.error("PFAttackGrid.updateAttack for "+e,t)}finally{h.default.size(i)?(a&&(l=k.default.silentParams),w.setWrapper(i,l,t)):"function"==typeof t&&t()}})):(v.default.error("PFAttackGrid.updateAttack attack grid fields do not exist for: "+e),r())}function f(e,t,a,n){var r,i;try{a?(i=h.default.intersection(Object.keys(S),a),h.default.size(i)!==h.default.size(a)&&v.default.warn("Error in parameters, some of these are not valid attacks:",a)):(a=Object.keys(S),i=a),r=u(a)}catch(t){return v.default.error("PFAttackGrid.updateAttacks error creating list of fields for ",a,t),void("function"==typeof e&&e())}getAttrs(r,function(a){var n={},r={},l={};try{n=h.default.reduce(a,function(e,t,a){return e[a]=parseInt(t,10)||0,e},{}),r=h.default.reduce(i,function(e,t){return e=s(t,n,e)},{})}catch(e){v.default.error("PFAttackGrid.updateAttacks ",e)}finally{h.default.size(r)?(t&&(l=k.default.silentParams),v.default.debug("PFAttackGrid.updateAttacks setting",r),w.setWrapper(r,l,e)):"function"==typeof e&&e()}})}function d(e,t,a){switch(e.toLowerCase()){case"melee":f(null,a,["melee","melee2"]);break;case"ranged":f(null,a,["ranged","ranged2"]);break;case"cmb":f(null,a,["CMB","CMB2"]);break;case"melee2":p("melee2",null,a);break;case"ranged2":p("ranged2",null,a);break;case"cmb2":p("CMB2",null,a)}}function m(e,t,a){f(null,t,["melee","melee2","CMB","CMB2"])}function _(e){var t=h.default.after(2,function(){"function"==typeof e&&e()});I.resetOneCommandMacro("attacks",!1,t," @{attacks_header_macro}",O),I.resetOneCommandMacro("attacks",!0,t," @{NPC-attacks_header_macro}",O)}function g(e,t,a){var n,r="";a&&(r=a.sourceAttribute,n=[r],n=Object.keys(S).reduce(function(e,t){return e.push(t),e.push(S[t].babdd),e.push(S[t].bab),e},n),getAttrs(n,function(t){var a=0,n={},i={};a=parseInt(t[r],10)||0,Object.keys(S).filter(function(e){return(t[S[e].babdd]||"").toLowerCase()===r.toLowerCase()}).forEach(function(e){var r=0,l=0;r=parseInt(t[S[e].bab],10)||0,(l=a-r)&&(i[S[e].bab]=a,n[e]=(parseInt(t[e],10)||0)+l)}),h.default.size(i)&&w.setWrapper(i,k.default.silentParams),h.default.size(n)?w.setWrapper(n,{},e):"function"==typeof e&&e()}))}function b(e,t){C.migrateAttackDropdowns(e)}function y(e){getAttrs(["condition-Wounds","wounds_gritty_mode","has_endurance_feat","wound_threshold-show","woundsPenaltyTotal"],function(e){var t=A.getWoundPenalty(parseInt(e["condition-Wounds"],10)||0,parseInt(e.has_endurance_feat,10)||0,parseInt(e.wounds_gritty_mode,10)||0),a=(parseInt(e["wound_threshold-show"],10)||0)*t;setAttrs({woundsPenaltyTotal:Math.abs(a)}),M()})}Object.defineProperty(t,"__esModule",{value:!0}),t.applyConditions=o,t.updateAttack=s,t.updateAttackAsync=p,t.updateAttacks=f,t.updateAttackGrid=d,t.recalculateMelee=m,t.resetCommandMacro=_,t.migrate=b,t.getWoundsTotal=y,t.recalculate=t.attackGridFields=void 0;var h=l(a(1)),v=l(a(0)),k=l(a(4)),w=i(a(2)),A=i(a(5)),C=i(a(15)),I=i(a(45)),S={melee:{size:"size",atk:"attk-melee",buff:"buff_Melee-total",buff2:"",pen:"condition-Prone",abilityMod:"melee-ability-mod",miscmacro:"attk-melee-misc",misc:"attk-melee-misc-mod",crit:"attk_melee_crit_conf",critconfirm:"buff_crit_conf-total",attackmacro:"@{toggle_global_melee_macro_insert}",damagemacro:"@{toggle_global_melee_damage_macro_insert}",babdd:"melee_bab",bab:"melee_bab-mod"},melee2:{size:"size",atk:"attk-melee2",buff:"buff_Melee-total",buff2:"buff_melee2-total",pen:"condition-Prone",abilityMod:"melee2-ability-mod",miscmacro:"attk-melee2-misc",misc:"attk-melee2-misc-mod",crit:"attk_melee2_crit_conf",critconfirm:"buff_crit_conf-total",attackmacro:"@{toggle_global_melee_macro_insert}",damagemacro:"@{toggle_global_melee_damage_macro_insert}",babdd:"melee2_bab",bab:"melee2_bab-mod"},ranged:{size:"size",atk:"attk-ranged",buff:"buff_Ranged-total",buff2:"",pen:"",abilityMod:"ranged-ability-mod",miscmacro:"attk-ranged-misc",misc:"attk-ranged-misc-mod",crit:"attk_ranged_crit_conf",critconfirm:"buff_crit_conf-total",attackmacro:"@{toggle_global_ranged_macro_insert}",damagemacro:"@{toggle_global_ranged_damage_macro_insert}",babdd:"ranged_bab",bab:"ranged_bab-mod"},ranged2:{size:"size",atk:"attk-ranged2",buff:"buff_Ranged-total",buff2:"buff_ranged2-total",pen:"",abilityMod:"ranged2-ability-mod",miscmacro:"attk-ranged2-misc",misc:"attk-ranged2-misc-mod",crit:"attk_ranged2_crit_conf",critconfirm:"buff_crit_conf-total",attackmacro:"@{toggle_global_ranged_macro_insert}",damagemacro:"@{toggle_global_ranged_damage_macro_insert}",babdd:"ranged2_bab",bab:"ranged2_bab-mod"},CMB:{size:"CMD-size",atk:"CMB",buff:"buff_CMB-total",buff2:"",pen:"",abilityMod:"CMB-ability-mod",miscmacro:"attk-CMB-misc",misc:"attk-CMB-misc-mod",crit:"attk_cmb_crit_conf",critconfirm:"buff_crit_conf-total",attackmacro:"@{toggle_global_cmb_macro_insert}",damagemacro:"@{toggle_global_cmb_damage_macro_insert}",babdd:"cmb_bab",bab:"cmb_bab-mod"},CMB2:{size:"CMD-size",atk:"CMB2",buff:"buff_CMB-total",buff2:"buff_cmb2-total",pen:"",abilityMod:"CMB2-ability-mod",miscmacro:"attk-CMB2-misc",misc:"attk-CMB2-misc-mod",crit:"attk_cmb2_crit_conf",critconfirm:"buff_crit_conf-total",attackmacro:"@{toggle_global_cmb_macro_insert}",damagemacro:"@{toggle_global_cmb_damage_macro_insert}",babdd:"cmb2_bab",bab:"cmb2_bab-mod"}};t.attackGridFields=S;var P=["acp-attack-mod","condition-Drained"],x=["condition-Dazzled","condition-Entangled","condition-Grappled","condition-Fear","condition-Sickened","woundsPenaltyTotal"],T=["attk-penalty"].concat(P),O={0:"none","@{attk-melee}":"melee","@{attk-melee2}":"melee","@{attk-ranged}":"ranged","@{attk-ranged2}":"ranged2","@{CMB}":"combat-maneuver-bonus-abbrv","@{CMB2}":"combat-maneuver-bonus-abbrv"},M=v.default.callback(function(e,t,a){var n=function(){v.default.info("leaving PFAttackGrid.recalculate"),"function"==typeof e&&e()},r=h.default.once(function(){f(n,t)});b(h.default.once(function(){o(r,t)}),a)});t.recalculate=M,function(){var e="";h.default.each(S,function(e,t){on("change:"+e.miscmacro,v.default.callback(function(t){v.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),w.evaluateAndAddToTotAsync(null,null,e.miscmacro,e.misc,e.atk)})),on("change:"+e.babdd,v.default.callback(function(t){"player"!==t.sourceType&&"api"!==t.sourceType||(v.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),w.setDropdownAndAddToTotAsync(e.babdd,e.bab,e.atk))})),on("change:"+e.bab+" change:"+e.abilityMod+" change:"+e.misc,v.default.callback(function(e){"sheetworker"!==e.sourceType&&"api"!==e.sourceType||(v.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),p(t))})),on("change:"+e.size,v.default.callback(function(e){"sheetworker"!==e.sourceType&&"api"!==e.sourceType||(v.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),M())})),on("change:"+e.size,v.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(v.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),M())}))}),on("change:attk-penalty",v.default.callback(function(e){"sheetworker"!==e.sourceType&&"api"!==e.sourceType||(v.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),f(null,null,null,e))})),on("change:acp-attack-mod change:condition-wounds change:wounds_gritty_mode change:has_endurance_feat change:wound_threshold-show",v.default.callback(function(e){v.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),y(),o()})),e="change:class-0-level change:class-1-level change:class-2-level change:class-3-level change:class-4-level change:class-5-level",on(e,v.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||g(null,null,e)})),on("change:bab",v.default.callback(function(e){"sheetworker"!==e.sourceType&&"api"!==e.sourceType||g(null,null,e)}))}()},function(e,t,a){"use strict";function n(e,t){return null!=e&&r.i.call(e,t)}t.a=n;var r=a(6)},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a,n,r){var i=null;r&&(i=_.findAbilityInString),d.setDropdownValue(e,t,i,a,n)}function s(e,t,a,n,r,i,l){var o=d.getRepeatingIDStr(t),s="repeating_"+e+"_"+o,c=null;l&&(c=_.findAbilityInString),d.setDropdownValue(s+a,s+n,c,r,i)}function c(e){getSectionIDs("repeating_"+e,function(t){var a={};p.default.each(t,function(t){a["repeating_"+e+"_"+t+"_row_id"]=t}),d.setWrapper(a)})}function u(){p.default.each(m.default.repeatingSections,function(e){var t="change:repeating_"+e+":ids-show";on(t,f.default.callback(function(t){var a,n={};f.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),"player"!==t.sourceType&&"api"!==t.sourceType||(a=d.getRowId(t.sourceAttribute),n["repeating_"+e+"_"+a+"_row_id"]=a,d.setWrapper(n,m.default.silentParams))}))})}Object.defineProperty(t,"__esModule",{value:!0}),t.setDropdownValue=o,t.setRepeatingDropdownValue=s,t.setRowIds=c,t.registerEventHandlers=u;var p=l(a(1)),f=l(a(0)),d=i(a(2)),m=l(a(4)),_=i(a(5)),g={"header_image-pf_spell":"[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_spell.png)","header_image-pf_attack-melee":"[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_attack_melee.png)","header_image-pf_attack-dual":"[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_attack_dual.png)","header_image-pf_attack-ranged":"[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_attack_ranged.png)","header_image-pf_attack-cmb":"[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_attack_cmb.png)","header_image-pf_defense":"[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_defense.png)","header_image-pf_generic":"[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_generic.png)","header_image-pf_ability":"[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_ability.png)","header_image-pf_block":"[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_block.png)","header_image-pf_generic-skill":"[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_generic.png)","header_image-pf_generic-init":"[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_generic_initiative.png)","header_image-pf_block-item":"[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_block_item.png)","header_image-pf_block-check":"[default](https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Pathfinder%20Community/Images/pf_block_ability_check.png)"},b=Object.keys(g);on("change:header_images_toggle",function(){getAttrs(b.concat(["header_images_toggle"]),function(e){var t=+e.header_images_toggle||0,a={};b.forEach(function(n){var r=e[n];r!==g[n]&&""!==r||(a[n]=t>0?g[n]:"")}),a&&setAttrs(a)})}),u()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=parseInt(e,10),a=0;return isNaN(t)?v.default.minusreg.test(e)?{base:"-",mod:0}:{base:10,mod:0}:(a=Math.floor((t-10)/2),{base:t,mod:a})}function s(e){var t=b.default.map(C,function(t){return e+t});return t.push(e),t=t.concat(b.default.map(I,function(t){return"buff_"+e+t})),t=t.concat(S)}function c(){var e=h.cartesianAppend(w,C);return e=e.concat(w),e=e.concat(h.cartesianAppend(["buff_"],w,I)),e=e.concat(S)}function u(e,t,a,n){return n=n||{},Object.keys(v.default.abilityScoreManualDropdowns).filter(function(t){return a[t]===e}).reduce(function(e,n){var r=parseInt(a[v.default.abilityScoreManualDropdowns[n]],10)||0;return t!==r&&(e[v.default.abilityScoreManualDropdowns[n]]=t),e},n)}function p(e,t,a,n){var r,i,l=b.default.once(function(){"function"==typeof e&&e()});Array.isArray(a)?r=a:a?(a=a.slice(0,3).toUpperCase()+"-mod",r=[a]):r=A,k.updateRepeatingWeaponAbilityDropdowns(null,null,a),i=r,i=i.concat(Object.keys(v.default.abilityScoreManualDropdowns)),i=i.concat(b.default.values(v.default.abilityScoreManualDropdowns)),getAttrs(i,function(e){var n,i=0,o={};n=r.reduce(function(t,n){var r;return i=i||parseInt(e[a],10)||0,r=u(a,i,e),b.default.extend(t,r),t},{}),b.default.size(n)?(t&&(o=v.default.silentParams),setAttrs(n,o,l)):l()})}function f(e,t,a,n){var r;return n=n||{},e=e.toUpperCase(),r=parseInt(a[e+"-base"],10)||10,r+=t,r=Math.max(r,1),n[e+"-base"]=r,r=parseInt(a[e],10)||10,r+=t,r=Math.max(r,1),n[e]=r,r=parseInt(a[e+"-mod"],10)||0,r+=Math.floor(t/2),r=Math.max(r,1),n[e+"-mod"]=r,n}function d(e,t,a){var n=0,r=0,i=0,l=0,o=0,s=0,c=0,u=0,p=0,f=0,d=0,m=0,_=0,g=0;try{if(a=a||{},n=parseInt(t[e+"-base"],10),isNaN(n)&&!v.default.minusreg.test(t[e+"-base"]))return a;m=parseInt(t[e+"-mod"],10),_=parseInt(t[e+"-modded"],10)||0,d=parseInt(t[e],10),isNaN(n)?(r="-",g=0,p=0):(u=parseInt(t["condition-Helpless"],10)||0,c=parseInt(t["condition-Paralyzed"],10)||0,"DEX"===e&&(u||c)?(r=0,g=-5,p=1):"STR"===e&&c?(r=0,g=-5,p=1):(r=n+(parseInt(t[e+"-enhance"],10)||0)+(parseInt(t[e+"-racial"],10)||0)+(parseInt(t[e+"-asi"],10)||0)+(parseInt(t[e+"-inherent"],10)||0)+(parseInt(t[e+"-misc"],10)||0)+(parseInt(t[e+"-drain"],10)||0)+(parseInt(t["buff_"+e+"-total"],10)||0),i=Math.abs(parseInt(t[e+"-damage"],10)||0),i>=r||r<=0?(r=0,g=-5,p=1):(l=Math.abs(parseInt(t[e+"-penalty"],10)||0)+Math.abs(parseInt(t["buff_"+e+"-total_penalty"],10)||0),s=Math.abs(parseInt(t[e+"-cond"],10)||0),f=i+l+s,f>=r?(r=d,g=-5,p=1):(0!==f&&(p=1),o=Math.floor(f/2),g=Math.max(-5,Math.floor((r-10)/2)-o))))),d!==r&&(a[e]=r),(m!==g||isNaN(m))&&(a[e+"-mod"]=g),p!==_&&(a[e+"-modded"]=p)}catch(t){y.default.error("updateAbilityScore:"+e,t)}finally{return a}}function m(e,t,a,n){var r=b.default.once(function(){"function"==typeof a&&a()}),i=s(e);getAttrs(i,function(t){var a={},i={};d(e,t,i),b.default.size(i)?(n&&(a=v.default.silentParams),h.setWrapper(i,a,r)):r()})}function _(e,t){var a=b.default.once(function(){"function"==typeof e&&e()}),n=c();getAttrs(n,function(e){var n={},r={};r=b.default.reduce(w,function(t,a){return d(a,e,t),t},{}),b.default.size(r)?(t&&(n=v.default.silentParams),h.setWrapper(r,n,a)):a()})}function g(e,t,a){getAttrs(["STR-cond","DEX-cond","condition-Helpless","condition-Paralyzed","condition-Exhausted","condition-Fatigued","condition-Entangled","condition-Grappled"],function(a){var n={},r={},i=0,l=0,o=0,s=0,c=0,u=0;try{o=parseInt(a.helpless,10)||0,s=parseInt(a.paralyzed,10)||0,s?(r.DEX=0,r["DEX-modded"]=1,n["DEX-mod"]=-5,r.STR=0,r["STR-modded"]=1,n["STR-mod"]=-5):o?(r.DEX=0,r["DEX-modded"]=1,n["DEX-mod"]=-5):(i=(parseInt(a["condition-Fatigued"],10)||0)+(parseInt(a["condition-Exhausted"],10)||0),l=i+(parseInt(a["condition-Entangled"],10)||0)+(parseInt(a["condition-Grappled"],10)||0),c=-2*l,u=-2*i,c!==(parseInt(a["DEX-cond"],10)||0)&&(n["DEX-cond"]=c),u!==(parseInt(a["STR-cond"],10)||0)&&(n["STR-cond"]=u))}catch(e){y.default.error("PFAbilityScores.applyConditions",e)}finally{t?(b.default.extend(r,n),b.default.size(r)?setAttrs(r,v.default.silentParams,e):"function"==typeof e&&e()):b.default.size(n)?(b.default.size(r)&&setAttrs(r,v.default.silentParams),setAttrs(n,{},e)):b.default.size(r)?setAttrs(r,v.default.silentParams,e):"function"==typeof e&&e()}})}Object.defineProperty(t,"__esModule",{value:!0}),t.getAbilityAndMod=o,t.getAttributes=s,t.getAllAttributes=c,t.modifyAbility=f,t.updateAbilityScore=m,t.updateAbilityScores=_,t.applyConditions=g,t.recalculate=t.migrate=t.abilitymods=t.abilities=void 0;var b=l(a(1)),y=l(a(0)),h=(a(3),i(a(2))),v=l(a(4)),k=(i(a(5)),i(a(16))),w=["STR","DEX","CON","INT","WIS","CHA"];t.abilities=w;var A=["STR-mod","DEX-mod","CON-mod","INT-mod","WIS-mod","CHA-mod"];t.abilitymods=A;var C=["-base","-racial","-asi","-enhance","-inherent","-misc","-damage","-penalty","-drain","-mod","-cond","-modded"],I=["-total","-total_penalty"],S=["condition-Helpless","condition-Paralyzed"],P={abilityEventsAuto:"change:REPLACE-cond",abilityEventsPlayer:"change:REPLACE-base change:REPLACE-racial change:REPLACE-asi change:REPLACE-enhance change:REPLACE-inherent change:REPLACE-misc change:REPLACE-temp change:REPLACE-damage change:REPLACE-penalty change:REPLACE-drain"},x=y.default.callback(function(e,t){"function"==typeof e&&e()});t.migrate=x;var T=y.default.callback(function(e,t,a){var n=b.default.once(function(){y.default.info("leaving PFAbilityScores.recalculate"),"function"==typeof e&&e()}),r=b.default.once(function(){p(n,t)}),i=b.default.once(function(){_(r,t)});x(function(){g(i,t)},a)});t.recalculate=T,function(){b.default.each(w,function(e){on(P.abilityEventsAuto.replace(/REPLACE/g,e),y.default.callback(function(t){"sheetworker"!==t.sourceType&&"api"!==t.sourceType||(y.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),m(e,t))})),on(P.abilityEventsPlayer.replace(/REPLACE/g,e),y.default.callback(function(t){"player"!==t.sourceType&&"api"!==t.sourceType||(y.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),m(e,t))}))}),on("change:condition-Helpless",y.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(y.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),m("DEX",e))})),A.forEach(function(e){on("change:"+e,y.default.callback(function(e){y.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"sheetworker"!==e.sourceType&&"api"!==e.sourceType||p(null,null,e.sourceAttribute)}))})}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return I.default.reduce(e,function(e,a){var n="Misc-Skill"===a?N:"CS-Misc-Skill"===a?N:"Knowledge"===a?U:R,r=x.cartesianAppend([a],n,t);return e.concat(r)},[])}function s(e,t){var a=I.default.once(function(){"function"==typeof t&&t()}),n=["total-skill","total-fcskill","INT-mod","level","Max-Skill-Ranks-mod","Max-Skill-Ranks","unchained_skills-show","BG-Skill-Use","npc-skill","npc-hd-num","class-0-skill","class-1-skill","class-2-skill","class-3-skill","class-4-skill","class-5-skill","class-0-level","class-1-level","class-2-level","class-3-level","class-4-level","class-5-level"];getAttrs(n,function(e){var t=parseInt(e["INT-mod"],10)||0,n=(parseInt(e["total-skill"],10),parseInt(e.level,10)||0),r=parseInt(e["total-fcskill"],10)||0,i=parseInt(e["Max-Skill-Ranks-mod"],10)||0,l=parseInt(e["Max-Skill-Ranks"],10)||0,o=0,s=0,c=0,u=0,p=0,f=0,d={};try{for(1===parseInt(e["unchained_skills-show"],10)&&0===(parseInt(e["BG-Skill-Use"],10)||0)&&(f=1),o=0;o<6;o++)(s=parseInt(e["class-"+o+"-level"],10)||0)>0&&(u=(parseInt(e["class-"+o+"-skill"],10)||0)*s+t*s,u<s&&(u=s),c+=u);s=parseInt(e["npc-hd-num"],10)||0,u=parseInt(e["npc-skill"],10)||0,s&&u&&(u=s*u+t*s,u<s&&(u=s),c+=u),f&&(c=Math.floor(c/2)),p=c+i,p<n&&(p=n),p+=r,l!==p&&(d["Max-Skill-Ranks"]=p)}catch(e){S.default.error("PFSkills.updateMaxSkills",e)}finally{I.default.size(d)>0?x.setWrapper(d,{silent:!0},a):a()}})}function c(e,t){var a="",n="",r=!1,i=!1,l=!1,o=["BG-Skill-Use","unchained_skills-show"];try{e&&"function"==typeof t&&(n=e.slice(0,4).toLowerCase(),a=n.slice(0,3),"cs-"===a?!0:"arti"===n||"lore"===n?i=!0:r=!0,I.default.contains(ce,e)&&(l=!0,o=o.concat([e+"-name",e+"-ranks"])),getAttrs(o,function(a){var n=!1,o=parseInt(a["BG-Skill-Use"],10)||0,s=parseInt(a["unchained_skills-show"],10)||0;(!l||a[e+"-name"]||(parseInt(a[e+"-ranks"],10)||0)>0)&&(r?s&&!o||(n=!0):i?s&&o&&(n=!0):s&&!o&&(n=!0)),t(n)}))}catch(e){S.default.error("PFSkills.verifyHasSkill",e),t(!1)}}function u(e,t,a){var n,r=0,i=(parseInt(t.enforce_requires_training,10),e+"-cs"),l=e+"-ranks",o=e+"-ability",s=e+"-racial",c=e+"-trait",u=e+"-feat",p=e+"-item",f=e+"-misc-mod",d=e+"-ut",m=e+"-ReqTrain",_=0,g=0,b=parseInt(t[i],10)||0,y=parseInt(t[e],10),h=parseInt(t[l],10)||0,v=parseInt(t[m],10)||0,k=0,w="",A="",C=0,I=0,P=0;try{a=a||{},w=t[o],v&&0===h?"{{untrained=1}}"!==t[d]&&(a[d]="{{untrained=1}}"):"{{untrained=}}"!==t[d]&&(a[d]="{{untrained=}}"),h&&b&&(_+=3),"DEX-mod"!==w&&"STR-mod"!==w||(n=parseInt(t.acp,10)||0,_+=n,C=parseInt(t["Phys-skills-cond"],10)||0),w&&(A=w.slice(0,3).toUpperCase(),k+=parseInt(t["buff_"+A+"_skills-total"],10)||0),r="Stealth"===e||"CS-Stealth"===e?2:"Fly"===e?1:0,r&&(1===r?(n=parseInt(t.size_skill,10)||0,_+=n):2===r&&(n=parseInt(t.size_skill_double,10)||0,_+=n)),"Perception"!==e&&"CS-Perception"!==e||(I=parseInt(t["Perception-cond"],10)||0),P=(parseInt(t["checks-cond"],10)||0)+(parseInt(t["buff_Check-total"],10)||0)+(parseInt(t["buff_check_skills-total"],10)||0),g=0+C+I+P,_+=h+g+k+(parseInt(t[w],10)||0)+(parseInt(t[s],10)||0)+(parseInt(t[c],10)||0)+(parseInt(t[u],10)||0)+(parseInt(t[p],10)||0)+(parseInt(t[f],10)||0),y!==_&&(a[e]=_)}catch(e){S.default.error("PFSkills.setNewSkillVal",e)}finally{return a}}function p(e,t,a){var n=function(e,a){"function"==typeof t&&t(e,a)},r=me.map(function(t){return e+t});r=r.concat(de),getAttrs(r,function(t){var a={},r=0;try{r=parseInt(t[e],10),a=u(e,t,a)}catch(e){S.default.error(e)}finally{I.default.size(a)>0?x.setWrapper(a,P.default.silentParams,function(){n(a[e],r)}):n(r,r)}})}function f(e){getAttrs([e,e+"-ranks",e+"-cs"],function(t){var a=0,n=0,r=0,i=0,l={};a=parseInt(t[e],10)||0,n=parseInt(t[e+"-cs"],10)||0,(r=parseInt(t[e+"-ranks"],10)||0)&&(i=n?a+3:a-3,l[e]=i,x.setWrapper(l))})}function d(e,t){var a=I.default.after(I.default.size(e),t);I.default.each(e,function(e){x.evaluateAndSetNumber(e+"-misc",e+"-misc-mod",0,function(){a()},!0)})}function m(e,t,a){var n,r=I.default.once(function(){"function"==typeof t&&t()});n=de,I.default.each(e,function(e){var t=me.map(function(t){return e+t});n=n.concat(t)}),getAttrs(n,function(t){var a={};a=I.default.reduce(e,function(e,a){try{u(a,t,e)}catch(e){}finally{return e}},{}),I.default.size(a)?x.setWrapper(a,P.default.silentParams,r):r()})}function _(e,t,a){var n=I.default.once(function(){"function"==typeof t&&t()});I.default.size(e);d(e,function(){m(e,n,a)})}function g(e,t,a){var n=I.default.once(function(){"function"==typeof e&&e()});getAttrs(["unchained_skills-show","BG-Skill-Use"],function(e){try{parseInt(e["unchained_skills-show"],10)?parseInt(e["BG-Skill-Use"],10)?a?(m(W,null,t),m(ne,n,t)):(_(W,null,t),_(ne,n,t)):a?(m(re,n,t),m(ie,null,t)):(_(re,n,t),_(ie,null,t)):a?m(ne,n,t):_(ne,n,t)}catch(e){S.default.error("PFSKills.recalculate",e),n()}})}function b(e,t){S.default.notice("PFSkills updateallskills diff updating by "+e+", from "+t),getAttrs(ue,function(a){var n=e-t,r={};r=I.default.mapObject(a,function(e,t){return(parseInt(e,10)||0)+n}),S.default.debug("SPSkills.updateAllSkillsDiff setting",r),x.setWrapper(r,P.default.silentParams)})}function y(e,t,a,n){var r,i,l,o=function(){"function"==typeof a&&a()},s="";if(e?s=e:t&&(s=t.sourceAttribute,s.indexOf("repeating_")>=0&&(s=x.getAttributeName(s))),s&&("physical"===s||"acp"===s?r=/STR\-mod|DEX\-mod/:(i=s.match(/str|dex|con|int|wis|cha/i))&&(r=new RegExp(i[0].toUpperCase()+"-mod"))),!r)return void o();l=ue.map(function(e){return e+"-ability"}),getAttrs(l,function(e){var t=[];t=I.default.reduce(e,function(e,t,a){return r.test(t)&&e.push(a.slice(0,-8)),e},[]),S.default.notice("PFSkills updateAbilityBasedSkills getting array:",t),I.default.size(t)?m(t,o,n):o()})}function h(e,t,a,n,r,i){var l=r?Y:Z,s=r?"NPC-":"",c=function(e,t,a){var n="Misc-Skill"===e?N:"CS-Misc-Skill"===e?N:"Knowledge"===e?U:R,r=x.cartesianAppend([e],n),i=[];return"Knowledge"===e?i=r:(i=I.default.filter(r,function(e){return!!a[e+"-name"]}),t?I.default.filter(i,function(e){return 0===(parseInt(a[e+"-ReqTrain"],10)||0)||(parseInt(a[e+"-ranks"],10)||0)>0}):i)},u=function(e){var t=e?"+ @{REPLACE}":"",a="[^{REPLACENAME}"+t+"](~@{character_id}|"+s+"REPLACE-check) ";return l.replace("REPLACELOWER","knowledge")+"{{ "+I.default.reduce(Q,function(e,t,n){return e+=a.replace(/REPLACENAME/g,t).replace(/REPLACE/g,te[n])},"")+" }}"},p=function(e,t,a,n){var r=e.toLowerCase(),i=a?"+ @{REPLACE}":"",o=l.replace("REPLACELOWER",r),c="[REPLACENAME"+i+"](~@{character_id}|"+s+"REPLACE-check) ",p="";return"Knowledge"===e?u():(p=I.default.reduce(t,function(e,t,a){var r=n[t+"-name"];return r?(r=x.escapeForChatLinkButton(r),r=x.escapeForRollTemplate(r)):r="@{"+t+"-name}",e+=c.replace(/REPLACENAME/g,r).replace(/REPLACE/g,t)},""),p||(p="description = ^{no-skills-available}"),o+"{{ "+p+" }}")},f=e?z:j,d=o(f,["-name"]);t&&(d=d.concat(o(f,K)),d=d.sort()),getAttrs(d,function(e){var a={},r="";I.default.each(f,function(r){var l=c(r,t,e),o=p(r,l,i,e);o=$+o,n[s+r.toLowerCase()+"_skills-macro"]!==o&&(a[s+r.toLowerCase()+"_skills-macro"]=o)}),n[s+"knowledge_skills-macro"]&&(r=$+u(i),n[s+"knowledge_skills-macro"]!==r&&(a[s+"knowledge_skills-macro"]=r)),I.default.size(a)>0&&x.setWrapper(a,P.default.silentParams)})}function v(e,t,a){return t?I.default.filter(e,function(e){return!!(/^Knowled|^Linguis|^Sleight/i.test(e.slice(0,7))||1!==(parseInt(a[e+"-ReqTrain"],10)||0)||(parseInt(a[e+"-ranks"],10)||0)>0)}):e}function k(e,t,a,n){var r=e.toLowerCase(),i=n?"NPC-":"",l=a?" + @{REPLACE}":"",o="{{name= ^{"+r+"} }} ",s="{{name= ^{npc} ^{"+r+"} }} ",c="[^{REPLACELOWER}"+l+"](~@{character_id}|"+i+"REPLACE-check) ",u="[^{REPLACELOWER}](~@{character_id}|"+i+"REPLACELOWERMAC_skills_buttons_macro) ",p=n?s:o,f="";try{f=I.default.reduce(t,function(e,t,a){var n=t.toLowerCase(),r=I.default.contains(H,t)?u:c;return r=r.replace(/REPLACELOWERMAC/g,n),r=r.replace(/REPLACELOWER/g,n),r=r.replace(/REPLACE/g,t),e+=r+" "},""),f||(f="^{no-skills-available} ")}finally{return p+"{{ "+f+"}}"}}function w(e,t,a,n,r,i,l,o){var s=I.default.once(function(){"function"==typeof e&&e()}),c=a?"NPC-":"";getAttrs([c+"skills-macro",c+"background_skills-macro",c+"adventure_skills-macro",c+"artistry_skills-macro",c+"lore_skills-macro",c+"craft_skills-macro",c+"knowledge_skills-macro",c+"perform_skills-macro",c+"profession_skills-macro",c+"misc-skill_skills-macro",c+"CS-misc-skill_skills-macro"],function(e){var r={},u=[];l?(u=re,getAttrs(x.cartesianAppend(u,["-ReqTrain","-ranks"]),function(e){var t,r,i={};t=v(u,o,e),t.push("CS-Misc-Skill"),r=k("consolidated-skills",t,n,a),i[c+"consolidated_skills-macro"]=$+r,x.setWrapper(i,P.default.silentParams,s)})):(h(i,o,t,e,a,n),getAttrs(x.cartesianAppend(O,K),function(e){var t=[],l="",u=[];try{i?(t=v(M,o,e)||[],u=u.concat(t),t=t.concat(H).sort(),l=$+k("background-skills",t,n,a),e[c+"background_skills-macro"]!==l&&(r[c+"background_skills-macro"]=l),t=v(D,o,e)||[],u=u.concat(t),t=t.concat(["Knowledge","Misc-Skill"]).sort(),l=$+k("adventure-skills",t,n,a),e[c+"adventure_skills-macro"]!==l&&(r[c+"adventure_skills-macro"]=l),u=u.concat(H).sort()):(t=v(O,o,e)||[],u=u.concat(t).concat(q).sort()),l=$+k("skills",u,n,a),e[c+"skills-macro"]!==l&&(r[c+"skills-macro"]=l)}catch(e){S.default.error("PFSkills.resetOneCommandMacro errRT",e)}finally{I.default.size(r)>0?x.setWrapper(r,P.default.silentParams,s):s()}}))})}function A(e,t){var a=I.default.once(function(){"function"==typeof t&&t()});getAttrs(["BG-Skill-Use","unchained_skills-show","enforce_requires_training","is_npc","include_skill_totals"],function(t){var n=parseInt(t.is_npc,10)||0,r=parseInt(t.include_skill_totals,10)||0,i=parseInt(t["unchained_skills-show"],10)||0,l=i&&(parseInt(t["BG-Skill-Use"],10)||0),o=i&&!l,s=parseInt(t.enforce_requires_training,10)||0;w(a,e,n,r,i,l,o,s),n&&w(a,e,!1,r,i,l,o,s)})}function C(e,t){var a=I.default.once(function(){"function"==typeof e&&e()}),n=I.default.after(4,a);!function(e,t){var a=function(){"function"==typeof e&&e()};getAttrs(["migrated_take10_dropdown","skill-query","investigator_dice","skill-invest-query"],function(e){var t={};0===(parseInt(e.migrated_take10_dropdown,10)||0)?("?{Roll or Take 10/20?|1d20,1d20+@{skill-invest-query&#125;|10,10+@{skill-invest-query&#125;|20,20+@{skill-invest-query&#125;}"===e["skill-query"]?t["skill-query"]="?{Roll or Take 10/20?|1d20,1d20|10,10|20,20}+@{skill-invest-query}":"@{skill-invest-query}"===e["skill-query"]?t["skill-query"]="@{skill-invest-query}+@{custom_dice}":e["skill-query"]&&"0"!==e["skill-query"]?"@{skill-invest-query}+@{custom_dice}"!==e["skill-query"]&&"?{Roll or Take 10/20?|1d20,1d20|10,10|20,20}+@{skill-invest-query}"!==e["skill-query"]&&"1d20+@{skill-invest-query}"!==e["skill-query"]&&(t["skill-query"]="1d20+@{skill-invest-query}"):t["skill-query"]="1d20+@{skill-invest-query}","0"!==e.investigator_dice&&e.investigator_dice||(t.investigator_dice="[[ 1d6 ]] [custom bonus]"),e["skill-invest-query"]?"@{investigator_dice}"!==e["skill-invest-query"]&&"0"!==e["skill-invest-query"]&&(t["skill-invest-query"]="0"):t["skill-invest-query"]="0",t.migrated_take10_dropdown=1,x.setWrapper(t,P.default.silentParams,a)):a()})}(n),function(e,t){var a=I.default.once(function(){"function"==typeof e&&e()}),n=function(e){var t=e+"-cs";getAttrs([t],function(e){var a={};isNaN(parseInt(e[t],10))&&e[t]&&"0"!=e[t]&&(a[t]=3,x.setWrapper(a,P.default.silentParams))})},r=function(e){e.forEach(function(e){n(e)})},i=function(){r(ue),x.setWrapper({classSkillsMigrated:1},P.default.silentParams,a)};getAttrs(["classSkillsMigrated"],function(e){parseInt(e.classSkillsMigrated,10)||i(),a()})}(n),function(e){getAttrs(["migrated_skill_speedup3"],function(t){var a;1*t.migrated_skill_speedup3&&"function"==typeof e&&e(),a=ue.map(function(e){return e+"-macro"}),getAttrs(a,function(t){var a={};try{a=I.default.reduce(t,function(e,t,a){try{e[a]=t.replace(/ \+ \[\[ @{checks\-cond} \+ @{buff_check_skills-total} \+ @{buff_Check-total} \]\]  /,"")}catch(e){S.default.error("PFBuffs.migrate add buff checks for "+a,e)}finally{return e}},{})}catch(e){S.default.error("PFSkills.migrate skill speedup",e)}finally{a.migrated_skill_speedup3=1,setAttrs(a,P.default.silentParams,e)}})})}(n),T.migrateMaxSkills(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.verifyHasSkill=c,t.updateSkillAsync=p,t.recalculateSkills=g,t.updateAllSkillsDiff=b,t.recalculateAbilityBasedSkills=y,t.resetCommandMacro=A,t.migrate=C,t.recalculate=t.events=t.skillNameAppends=t.globalSkillModAttrs=t.consolidatedSkillAbilityDefaults=t.coreSkillAbilityDefaults=t.allTheSkills=t.allFillInSkillInstances=t.miscFillInSkillsInstances=t.nonMiscFillInSkillsInstances=t.allNonFillInSkills=t.consolidatedMiscSkills=t.consolidatedSkills=t.allCoreSkills=t.backgroundSkills=t.knowledgeSkills=t.skillsWithSpaces=t.knowledgeSubSkillsTranslateKeys=t.sizeSkills=t.npcSkillHeaderMacro=t.skillHeaderMacro=t.baseGenMacro=t.checkRTArray=t.adventureSkills=t.backgroundCoreSkills=t.subskillArrays=t.knowledgeSkillAppends=t.skillsWithSubSkills=t.coreSkillsWithSubSkills=t.knowledgeSubSkills=t.backgroundOnlySkills=t.skillsWithFillInNames=t.backgroundOnlySkillsWithFillinNames=t.coreSkillsWithFillInNames=t.miscSkillAppendNums=t.skillAppendNums=t.regularAdventurePlusKnow=t.regularBackgroundSkillsPlusKnow=t.regularAdventureSkills=t.regularBackgroundSkills=t.regularCoreSkills=void 0;var I=l(a(1)),S=l(a(0)),P=(a(3),l(a(4))),x=i(a(2)),T=(i(a(5)),i(a(25)),i(a(15))),O=(i(a(19)),i(a(20)),["Appraise","Acrobatics","Bluff","Climb","Diplomacy","Disable-Device","Disguise","Escape-Artist","Fly","Handle-Animal","Heal","Intimidate","Linguistics","Perception","Ride","Sense-Motive","Sleight-of-Hand","Spellcraft","Stealth","Survival","Swim","Use-Magic-Device"]),M=["Appraise","Handle-Animal","Linguistics","Sleight-of-Hand"],D=["Acrobatics","Bluff","Climb","Diplomacy","Disable-Device","Disguise","Escape-Artist","Fly","Heal","Intimidate","Perception","Ride","Sense-Motive","Spellcraft","Stealth","Survival","Swim","Use-Magic-Device"],E=M.concat(["Knowledge-Engineering","Knowledge-Geography","Knowledge-History","Knowledge-Nobility"]).sort(),F=D.concat(["Knowledge-Arcana","Knowledge-Dungeoneering","Knowledge-Local","Knowledge-Nature","Knowledge-Planes","Knowledge-Religion"]).sort(),R=["","2","3","4","5","6","7","8","9","10"],N=["-0","-1","-2","-3","-4","-5","-6","-7","-8","-9"],j=["Craft","Misc-Skill","Perform","Profession"],L=["Artistry","Lore"],z=j.concat(L).concat(["CS-Misc-Skill"]).sort(),W=x.cartesianAppend(L,R),B=["Arcana","Dungeoneering","Engineering","Geography","History","Local","Nature","Nobility","Planes","Religion"],q=j.concat(["Knowledge"]).sort(),H=z.concat(["Knowledge"]).sort(),U=I.default.map(B,function(e){return"-"+e}),G=I.default.reduce(H,function(e,t){return e[t]=x.cartesianAppend([t],R),e},{}),V=E.concat(G.Craft).concat(G.Perform).concat(G.Profession).concat(["Misc-Skill-5","Misc-Skill-6","Misc-Skill-7","Misc-Skill-8","Misc-Skill-9"]).sort(),X=F.concat(["Misc-Skill-0","Misc-Skill-1","Misc-Skill-2","Misc-Skill-3","Misc-Skill-4"]).sort(),K=["-ReqTrain","-ranks"],$="&{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic-skill}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} ",Z="{{name=^{REPLACELOWER} ^{skills} }} ",Y="{{name=^{npc} ^{REPLACELOWER} ^{skills} }} ",J={Fly:1,Stealth:2,"CS-Stealth":2},Q=I.default.map(B,function(e){return e.toLowerCase()}),ee=["disable device","escape artist","sense motive","handle animal","use magic device","sleight of hand"],te=I.default.map(B,function(e){return"Knowledge-"+e}),ae=V.concat(W).sort(),ne=X.concat(V).sort(),re=["CS-Acrobatics","CS-Athletics","CS-Finesse","CS-Influence","CS-Nature","CS-Perception","CS-Performance","CS-Religion","CS-Society","CS-Spellcraft","CS-Stealth","CS-Survival"],ie=["CS-Misc-Skill-0","CS-Misc-Skill-1","CS-Misc-Skill-2","CS-Misc-Skill-3","CS-Misc-Skill-4","CS-Misc-Skill-5","CS-Misc-Skill-6","CS-Misc-Skill-7","CS-Misc-Skill-8","CS-Misc-Skill-9"],le=O.concat(te).concat(re).sort(),oe=x.cartesianAppend(["Craft","Perform","Profession","Artistry","Lore"],R),se=x.cartesianAppend(["Misc-Skill"],N).concat(ie),ce=oe.concat(se).sort(),ue=le.concat(ce).sort(),pe={Acrobatics:"dex",Appraise:"int",Bluff:"cha",Climb:"str",Craft:"int",Diplomacy:"cha","Disable-Device":"dex",Disguise:"cha","Escape-Artist":"dex",Fly:"dex","Handle-Animal":"cha",Heal:"wis",Intimidate:"cha","Knowledge-Arcana":"int","Knowledge-Dungeoneering":"int","Knowledge-Engineering":"int","Knowledge-Geography":"int","Knowledge-History":"int","Knowledge-Local":"int","Knowledge-Nature":"int","Knowledge-Nobility":"int",Knowledge:"int","Knowledge-Planes":"int","Knowledge-Religion":"int",Linguistics:"int",Perception:"wis",Perform:"cha",Profession:"wis",Ride:"dex","Sense-Motive":"wis","Sleight-of-Hand":"dex",Spellcraft:"int",Stealth:"dex",Survival:"wis",Swim:"str","Use-Magic-Device":"cha"},fe={"CS-Acrobatics":"dex","CS-Athletics":"str","CS-Finesse":"dex","CS-Influence":"cha","CS-Nature":"int","CS-Perception":"wis","CS-Performance":"cha","CS-Religion":"int","CS-Society":"int","CS-Spellcraft":"int","CS-Stealth":"dex","CS-Survival":"wis"},de=["enforce_requires_training","size_skill","size_skill_double","acp","Phys-skills-cond","Perception-cond","STR-mod","DEX-mod","CON-mod","INT-mod","WIS-mod","CHA-mod","buff_STR_skills-total","buff_DEX_skills-total","buff_CON_skills-total","buff_INT_skills-total","buff_WIS_skills-total","buff_CHA_skills-total","checks-cond","buff_Check-total","buff_check_skills-total"],me=["","-cs","-ranks","-ability","-racial","-trait","-feat","-item","-misc-mod","-ReqTrain","-ut"],_e={skillGlobalPhysEventAuto:"change:phys-skills-cond change:acp",skillEventsAuto:"change:REPLACE-misc-mod",skillEventsPlayer:"change:REPLACE-ability change:REPLACE-ranks change:REPLACE-racial change:REPLACE-trait change:REPLACE-feat change:REPLACE-item change:REPLACE-ReqTrain"};t.events=_e,t.skillNameAppends=me,t.globalSkillModAttrs=de,t.consolidatedSkillAbilityDefaults=fe,t.coreSkillAbilityDefaults=pe,t.allTheSkills=ue,t.allFillInSkillInstances=ce,t.miscFillInSkillsInstances=se,t.nonMiscFillInSkillsInstances=oe,t.allNonFillInSkills=le,t.consolidatedMiscSkills=ie,t.consolidatedSkills=re,t.allCoreSkills=ne,t.backgroundSkills=ae,t.knowledgeSkills=te,t.skillsWithSpaces=ee,t.knowledgeSubSkillsTranslateKeys=Q,t.sizeSkills=J,t.npcSkillHeaderMacro=Y,t.skillHeaderMacro=Z,t.baseGenMacro=$,t.checkRTArray=K,t.adventureSkills=X,t.backgroundCoreSkills=V,t.subskillArrays=G,t.knowledgeSkillAppends=U,t.skillsWithSubSkills=H,t.coreSkillsWithSubSkills=q,t.knowledgeSubSkills=B,t.backgroundOnlySkills=W,t.skillsWithFillInNames=z,t.backgroundOnlySkillsWithFillinNames=L,t.coreSkillsWithFillInNames=j,t.miscSkillAppendNums=N,t.skillAppendNums=R,t.regularAdventurePlusKnow=F,t.regularBackgroundSkillsPlusKnow=E,t.regularAdventureSkills=D,t.regularBackgroundSkills=M,t.regularCoreSkills=O;var ge=S.default.callback(function(e,t,a){var n=I.default.once(function(){S.default.info("leaving PFSkills.recalculate"),A(),"function"==typeof e&&e()});C(function(){s(),g(n,t)},a)});t.recalculate=ge,function(){on("change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod",S.default.callback(function(e){S.default.notice("caught "+e.sourceAttribute+" event: "+e.sourceType),"sheetworker"!==e.sourceType&&"api"!==e.sourceType||y(null,e)})),on("change:total-skill change:total-fcskill change:int-mod change:level change:max-skill-ranks-mod change:unchained_skills-show change:BG-Skill-Use",S.default.callback(function(e){S.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"sheetworker"!==e.sourceType&&"api"!==e.sourceType||s(e)})),on(_e.skillGlobalPhysEventAuto,S.default.callback(function(e){S.default.debug("caught "+e.sourceAttribute+" event for "+e.sourceType),"sheetworker"!==e.sourceType&&"api"!==e.sourceType||y("physical",e)})),I.default.each(ue,function(e){on(_e.skillEventsAuto.replace(/REPLACE/g,e),S.default.callback(function(t){S.default.debug("caught "+t.sourceAttribute+" event for "+e+", "+t.sourceType),"sheetworker"!==t.sourceType&&"api"!==t.sourceType||c(e,function(a){a&&p(e,t)})})),on(_e.skillEventsPlayer.replace(/REPLACE/g,e),S.default.callback(function(t){S.default.debug("caught "+t.sourceAttribute+" event for "+e+", "+t.sourceType),"player"!==t.sourceType&&"api"!==t.sourceType||p(e)})),on("change:"+e+"-misc",S.default.callback(function(t){S.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),"player"!==t.sourceType&&"api"!==t.sourceType||x.evaluateAndSetNumber(e+"-misc",e+"-misc-mod",0),S.default.debug("calling evalute for "+e),x.evaluateAndAddToTotAsync(null,null,e+"-misc",e+"-misc-mod",e)})),on("change:"+e+"-cs",S.default.callback(function(t){S.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),"player"!==t.sourceType&&"api"!==t.sourceType||f(e)})),"Knowledge"!==e.slice(0,9)&&"Linguistics"!==e&&"Sleight-of-Hand"!==e&&on("change:"+e+"-ReqTrain change:"+e+"-ranks",S.default.callback(function(t){S.default.debug("caught "+t.sourceAttribute+" event for "+e+", "+t.sourceType),"player"!==t.sourceType&&"api"!==t.sourceType||getAttrs(["enforce_requires_training"],function(e){parseInt(e.enforce_requires_training,10)&&A(t)})}))}),I.default.each(J,function(e,t){1===e?on("change:size_skill",S.default.callback(function(e){"sheetworker"!==e.sourceType&&"api"!==e.sourceType||(S.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),p(t))})):2===e&&on("change:size_skill_double",S.default.callback(function(e){S.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"sheetworker"!==e.sourceType&&"api"!==e.sourceType||p(t)}))}),on("change:enforce_requires_training",S.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(S.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),A(e))})),I.default.each(x.cartesianAppend(ce,["-name"]),function(e){on("change:"+e,S.default.callback(function(t){if("player"===t.sourceType||"api"===t.sourceType){S.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType);var a=e.slice(0,-4)+"ReqTrain",n=e.slice(0,-4)+"ranks";getAttrs(["enforce_requires_training",a,n,"unchained_skills-show","BG-Skill-Use","artistry_skills-macro","lore_skills-macro","craft_skills-macro","knowledge_skills-macro","perform_skills-macro","profession_skills-macro","misc-skill_skills-macro","is_npc","include_skill_totals","NPC-craft_skills-macro","NPC-knowledge_skills-macro","NPC-perform_skills-macro","NPC-profession_skills-macro","NPC-misc-skill_skills-macro"],function(e){var r=parseInt(e.enforce_requires_training,10),i=0,l=parseInt(e.is_npc,10)||0,o=parseInt(e.include_skill_totals,10)||0;r&&parseInt(e[a],10)&&isNaN(parseInt(e[n],10))||(i=l?0:(parseInt(e["unchained_skills-show"],10)||0)&&(parseInt(e["BG-Skill-Use"],10)||0),h(i,r,t,e,l,o))})}}))}),on("change:unchained_skills-show change:BG-Skill-Use change:include_skill_totals",S.default.callback(function(e){S.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||ge(e,function(){A(e)})}))}()},function(e,t,a){"use strict";function n(e){var t=typeof e;return"function"===t||"object"===t&&!!e}t.a=n},function(e,t,a){"use strict";var n=a(6),r=a(8);t.a=n.k||Object(r.a)("Array")},function(e,t,a){"use strict";function n(e,t,a){t=Object(r.a)(t,a);var n,o;if(Object(i.a)(e))for(n=0,o=e.length;n<o;n++)t(e[n],n,e);else{var s=Object(l.a)(e);for(n=0,o=s.length;n<o;n++)t(e[s[n]],s[n],e)}return e}t.a=n;var r=a(35),i=a(12),l=a(7)},function(e,t,a){"use strict";function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(n=function(e){return e?a:t})(e)}function r(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var a=n(t);if(a&&a.has(e))return a.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}function i(e){return e&&e.__esModule?e:{default:e}}function l(e){"@babel/helpers - typeof";return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return p(e)||u(e)||c(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return f(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?f(e,t):void 0}}function u(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function p(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function d(e,t,a){return t=m(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(e){var t=_(e,"string");return"symbol"===l(t)?t:String(t)}function _(e,t){if("object"!==l(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function g(e){var t,a,n;return e?(t=e.split(/(?=\{\{)|(?=\&\{)|(?=\|\|)/),t=I.trimBoth(t),A.default.reduce(t,function(e,t){try{"{{"===t.slice(0,2)?"}}"===t.slice(-2)?e.push(t):(a=t.lastIndexOf("}}"),a<0?(C.default.error("error! no closing brackets for ",t),t+="}}",a=t.lastIndexOf("}}"),e.push(t)):(e.push(I.trimBoth(t.slice(0,a+2))),e=e.concat(I.trimBoth(I.trimBoth(t.slice(a+2)).replace("&amp;","&").split(/(?=[\@\&]\{)/))))):"&{"===t.slice(0,2)?(t=t.replace("&amp;","&"),e=e.concat(I.trimBoth(t.split(/(?=[\@\&]\{)/)))):"||"===t.slice(0,2)?"||"!==I.trimBoth(t)&&(t=t.replace("&amp;","&"),n=I.trimBoth(t.split(/(?=[\@\&]\{)/)),"||"===n[0]?n=n.slice(1):"||"!==n[0].slice(-2)&&(n[0]=n[0]+"||"),e=e.concat(n)):(t=t.replace("&amp;","&"),e=e.concat(I.trimBoth(t.split(/(?=[\@\&]\{)/))))}catch(e){C.default.error("splitmacro",e)}finally{return e}},[])):""}function b(e){var t=[],a=[];try{a=g(e),C.default.debug("PFMacros.getTracking array is ",a),a&&A.default.size(a)&&(t=a.filter(function(e){return/^\{\{[a-z]+tracking\d+=/i.test(e)}).concat(a.filter(function(e){return"{{"!==e.slice(0,1)&&e.indexOf("||")>=0?1:0}))),C.default.debug("PFMacros.getTracking tracking is ",t)}catch(e){C.default.error("PFMacros.getTracking error",e)}finally{return t}}function y(e){var t=e.sourceAttribute.split("_")[2];getAttrs(["repeating_ability_macro-text","repeating_ability_ability_type2","repeating_ability_rule_category"],function(e){var a={},n=e["repeating_ability_macro-text"],r=e.repeating_ability_ability_type2,i=e.repeating_ability_rule_category,l=/feats/g.test(i)||/traits/g.test(i)?1:0,o="";C.default.debug("~~~ id:".concat(t," featOrTraitCheck:").concat(l," ability_type2:").concat(r," ~~~")),0===l?/{{subtitle=.*{@{rule_category}} - @{ability_type2}}}/g.test(n)&&(o=n.replace(/{{subtitle=.*{@{rule_category}} - @{ability_type2}}}/g,"{{subtitle=^{@{rule_category}}}}"),a["repeating_ability_"+t+"_macro-text"]=o):1===l&&""!==r&&/{{subtitle=.*@{rule_category}}}}/g.test(n)&&(o=n.replace(/{{subtitle=.*@{rule_category}}}}/g,"{{subtitle=^{@{rule_category}} - @{ability_type2}}}"),a["repeating_ability_"+t+"_macro-text"]=o),setAttrs(a,{silent:!0})})}function h(){getSectionIDs("repeating_ability",function(e){var t=[];A.default.each(e,function(e){t.push("repeating_ability_"+e+"_macro-text","repeating_ability_"+e+"_ability_type2","repeating_ability_"+e+"_rule_category")}),getAttrs([].concat(t),function(t){var a={};A.default.each(e,function(e){var n=t["repeating_ability_"+e+"_macro-text"],r=t["repeating_ability_"+e+"_ability_type2"],i=t["repeating_ability_"+e+"_rule_category"],l=/feats/g.test(i)||/traits/g.test(i)?1:0,o="";C.default.debug("~~~ id:".concat(e," featOrTraitCheck:").concat(l," ability_type2:").concat(r," ~~~")),0===l?/{{subtitle=.*{@{rule_category}} - @{ability_type2}}}/g.test(n)&&(o=n.replace(/{{subtitle=.*{@{rule_category}} - @{ability_type2}}}/g,"{{subtitle=^{@{rule_category}}}}"),a["repeating_ability_"+e+"_macro-text"]=o,C.default.debug("macro-text updated for repeating_ability_"+e+"_macro-text: "+o)):1===l&&""!==r&&/{{subtitle=.*@{rule_category}}}}/g.test(n)&&(o=n.replace(/{{subtitle=.*@{rule_category}}}}/g,"{{subtitle=^{@{rule_category}} - @{ability_type2}}}"),a["repeating_ability_"+e+"_macro-text"]=o,C.default.debug("macro-text updated for repeating_ability_"+e+"_macro-text: "+o))}),setAttrs(a,{silent:!0})})})}function v(){getSectionIDs("repeating_ability",function(e){var t=A.default.map(e,function(e){return"repeating_ability_"+e+"_macro-text"});getAttrs(t,function(t){A.default.each(e,function(e,a){var n=t["repeating_ability_"+e+"_macro-text"];/{{scroll_desc=@{scroll-desc}}}/.test(n)||(n=n.replace(/(&{template:[^}]+})/g,"$1 {{scroll_desc=@{scroll-desc}}}"),setAttrs(d({},"repeating_ability_"+e+"_macro-text",n)),C.default.debug("macro-text updated for repeating_ability_"+e+"_macro-text:"+n))})})}),getSectionIDs("repeating_weapon",function(e){var t=A.default.map(e,function(e){return"repeating_weapon_"+e+"_macro-text"});getAttrs(t,function(t){A.default.each(e,function(e,a){var n=t["repeating_weapon_"+e+"_macro-text"];/{{scroll_desc=@{scroll-desc}}}/.test(n)||(n=n.replace(/(&{template:[^}]+})/g,"$1 {{scroll_desc=@{scroll-desc}}}"),setAttrs(d({},"repeating_weapon_"+e+"_macro-text",n)),C.default.debug("macro-text updated for repeating_weapon_"+e+"_macro-text:"+n))})})}),getSectionIDs("repeating_spells",function(e){var t=A.default.map(e,function(e){return"repeating_spells_"+e+"_macro-text"});getAttrs(t,function(t){A.default.each(e,function(e,a){var n=t["repeating_spells_"+e+"_macro-text"];/{{scroll_desc=@{scroll-desc}}}/.test(n)||(n=n.replace(/(&{template:[^}]+})/g,"$1 {{scroll_desc=@{scroll-desc}}}"),setAttrs(d({},"repeating_spells_"+e+"_macro-text",n)),C.default.debug("macro-text updated for repeating_spells_"+e+"_macro-text:"+n))})})}),getSectionIDs("repeating_spells",function(e){var t=A.default.map(e,function(e){return"repeating_spells_"+e+"_npc-macro-text"});getAttrs(t,function(t){A.default.each(e,function(e,a){var n=t["repeating_spells_"+e+"_npc-macro-text"];/{{scroll_desc=@{scroll-desc}}}/.test(n)||(n=n.replace(/(&{template:[^}]+})/g,"$1 {{scroll_desc=@{scroll-desc}}}"),setAttrs(d({},"repeating_spells_"+e+"_npc-macro-text",n)),C.default.debug("macro-text updated for repeating_spells_"+e+"_npc-macro-text:"+n))})})})}function k(){getSectionIDs("repeating_ability",function(e){getSectionIDs("repeating_weapon",function(t){getSectionIDs("repeating_spells",function(a){getSectionIDs("repeating_spells",function(n){var r={},i=[],l=[],s=[],c=[];A.default.each(e,function(e){i.push("repeating_ability_".concat(e,"_macro-text"))}),A.default.each(t,function(e){l.push("repeating_weapon_".concat(e,"_macro-text"))}),A.default.each(a,function(e){s.push("repeating_spells_".concat(e,"_macro-text"))}),A.default.each(n,function(e){c.push("repeating_spells_".concat(e,"_npc-macro-text"))}),getAttrs([].concat(o(e),o(t),o(a),o(n)),function(i){A.default.each(e,function(e){var t=i["repeating_ability_"+e+"_macro-text"]||"";/{{scroll_desc=@{scroll-desc}}}/.test(t)||(t=t.replace(/(&{template:[^}]+})/g,"$1 {{scroll_desc=@{scroll-desc}}}"),r["repeating_ability_"+e+"_macro-text"]=t,C.default.debug("macro-text updated for repeating_ability_"+e+"_macro-text:"+t))}),A.default.each(t,function(e){var t=i["repeating_weapon_"+e+"_macro-text"]||"";/{{scroll_desc=@{scroll-desc}}}/.test(t)||(t=t.replace(/(&{template:[^}]+})/g,"$1 {{scroll_desc=@{scroll-desc}}}"),r["repeating_weapon_"+e+"_macro-text"]=t,C.default.debug("macro-text updated for repeating_weapon_"+e+"_macro-text:"+t))}),A.default.each(a,function(e){var t=i["repeating_spells_"+e+"_macro-text"]||"";/{{scroll_desc=@{scroll-desc}}}/.test(t)||(t=t.replace(/(&{template:[^}]+})/g,"$1 {{scroll_desc=@{scroll-desc}}}"),r["repeating_spells_"+e+"_macro-text"]=t,C.default.debug("macro-text updated for repeating_spells_"+e+"_macro-text:"+t))}),A.default.each(n,function(e){var t=i["repeating_spells_"+e+"_npc-macro-text"]||"";/{{scroll_desc=@{scroll-desc}}}/.test(t)||(t=t.replace(/(&{template:[^}]+})/g,"$1 {{scroll_desc=@{scroll-desc}}}"),r["repeating_spells_"+e+"_npc-macro-text"]=t,C.default.debug("macro-text updated for repeating_spells_"+e+"_npc-macro-text:"+t))})}),setAttrs(r,{silent:!0})})})})})}function w(){getAttrs(["Melee-Attack-macro","Melee2-Attack-macro","Ranged-Attack-macro","Ranged2-Attack-macro","CMB-Check-macro","CMB2-Check-macro"],function(e){var t=e["Melee-Attack-macro"],a=e["Melee2-Attack-macro"],n=e["Ranged-Attack-macro"],r=e["Ranged2-Attack-macro"],i=e["CMB-Check-macro"],l=e["CMB2-Check-macro"];/@{global/.test(t)&&(t=t.replace(/@{global/g,"@{toggle_global"),C.default.debug("~~~~~~~~~current macroTextMelee macro-text: "+t),setAttrs(d({},"Melee-Attack-macro",t)),C.default.debug("~~~~~~~~~@{Melee-Attack-macro} macro-text updated: "+t)),/@{global/.test(a)&&(a=a.replace(/@{global/g,"@{toggle_global"),C.default.debug("~~~~~~~~~current macroTextMelee2 macro-text: "+a),setAttrs(d({},"Melee2-Attack-macro",a)),C.default.debug("~~~~~~~~~@{Melee2-Attack-macro} macro-text updated: "+a)),/@{global/.test(n)&&(n=n.replace(/@{global/g,"@{toggle_global"),C.default.debug("~~~~~~~~~current macroTextRanged macro-text: "+n),setAttrs(d({},"Ranged-Attack-macro",n)),C.default.debug("~~~~~~~~~@{Ranged-Attack-macro} macro-text updated: "+n)),/@{global/.test(r)&&(r=r.replace(/@{global/g,"@{toggle_global"),C.default.debug("~~~~~~~~~current macroTextRanged2 macro-text: "+r),setAttrs(d({},"Ranged2-Attack-macro",r)),C.default.debug("~~~~~~~~~@{Ranged2-Attack-macro} macro-text updated: "+r)),/@{global/.test(i)&&(i=i.replace(/@{global/g,"@{toggle_global"),C.default.debug("~~~~~~~~~current macroTextCMB macro-text: "+i),setAttrs(d({},"CMB-Check-macro",i)),C.default.debug("~~~~~~~~~@{CMB-Check-macro} macro-text updated: "+i)),/@{global/.test(l)&&(l=l.replace(/@{global/g,"@{toggle_global"),C.default.debug("~~~~~~~~~current macroTextCMB2 macro-text: "+l),setAttrs(d({},"CMB2-Check-macro",l)),C.default.debug("~~~~~~~~~@{CMB2-Check-macro} macro-text updated: "+l))})}Object.defineProperty(t,"__esModule",{value:!0}),t.getTracking=b,t.checkAbilityType2Row=y,t.checkAbilityType2=h,t.checkScrollDescOLD=v,t.checkScrollDesc=k,t.checkBaseAttacks=w;var A=i(a(1)),C=(a(3),i(a(0))),I=r(a(2));i(a(4)),r(a(5)),r(a(19))},function(e,t,a){"use strict";function n(e){for(var t=Object(r.a)(e),a=t.length,n=Array(a),i=0;i<a;i++)n[i]=e[t[i]];return n}t.a=n;var r=a(7)},function(e,t,a){"use strict";function n(e,t,a,s){if(s=s||[],t||0===t){if(t<=0)return s.concat(e)}else t=1/0;for(var c=s.length,u=0,p=Object(r.a)(e);u<p;u++){var f=e[u];if(Object(i.a)(f)&&(Object(l.a)(f)||Object(o.a)(f)))if(t>1)n(f,t-1,a,s),c=s.length;else for(var d=0,m=f.length;d<m;)s[c++]=f[d++];else a||(s[c++]=f)}return s}t.a=n;var r=a(14),i=a(12),l=a(23),o=a(53)},function(e,t,a){"use strict";function n(e,t,a){t=Object(r.a)(t,a);for(var n=!Object(i.a)(e)&&Object(l.a)(e),o=(n||e).length,s=Array(o),c=0;c<o;c++){var u=n?n[c]:c;s[c]=t(e[u],u,e)}return s}t.a=n;var r=a(9),i=a(12),l=a(7)},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){var n=g.findAbilityInString(a[e+"attack-type"]),r=g.findAbilityInString(a[e+"damage-ability"]),i="{{buff_note=@{buff_attack_notes}}} {{condition_note=@{condition_attack_notes}}}";return"dual"===n||n||a[e+"attack"]?n&&("dual"!==n&&(n=n.replace("attk-","").replace("2","")||""),t["show"+n.toLowerCase()]&&(i+=" ",i+=b[n+"_notes"].replace("REPLACE",y.notes[n])||"")):i+=" {{no_attack_roll=1}}",t.showheader_image&&(i+=" ",i+=b.header_image.replace("REPLACE",y.image[n||"melee"])||""),"dual"===n||r||a[e+"damage"]||parseInt(a[e+"damage-dice-num"],10)&&parseInt(a[e+"damage-die"],10)||(i+=" {{no_damage=1}}"),t.showattack&&(i+=" ",i+=b.attack_notes.replace("REPLACE",y.notes.attack)||""),i}function s(e,t,a){var n=f.default.once(function(){"function"==typeof a&&a()}),r="repeating_weapon_"+m.getRepeatingIDStr(e),i=f.default.map(w,function(e){return r+e}),l=h;l=l.concat(i),l.push(r+"macro_options"),getAttrs(l,function(e){var t=f.default.reduce(h,function(t,a){return t["show"+a.toLowerCase().slice(14).replace("_notes","")]=parseInt(e[a],10)||0,t},{}),a="",i={};a=o(r,t,e)||"",a!==e[r+"macro_options"]&&(i[r+"macro_options"]=a),f.default.size(i)>0?m.setWrapper(i,_.default.silentParams,n):n()})}function c(e,t,a){var n=f.default.once(function(){"function"==typeof a&&a()});if(!e||!f.default.size(e))return void n();getAttrs(h,function(t){var a,r=f.default.reduce(h,function(e,a){return e["show"+a.toLowerCase().slice(14).replace("_notes","")]=parseInt(t[a],10)||0,e},{});a=m.cartesianAppend(["repeating_weapon_"],e,A),a=a.concat(m.cartesianAppend(["repeating_weapon_"],e,["_macro_options"])),getAttrs(a,function(t){var a=f.default.reduce(e,function(e,a){var n="repeating_weapon_"+a+"_",i="";try{i=o(n,r,t),i!==t[n+"macro_options"]&&(e[n+"macro_options"]=i)}finally{return e}},{});f.default.size(a)?m.setWrapper(a,_.default.silentParams,n):n()})})}function u(e,t){getSectionIDs("repeating_weapon",function(a){c(a,t,e)})}function p(e){"function"==typeof e&&e()}Object.defineProperty(t,"__esModule",{value:!0}),t.getOptionText=o,t.resetOption=s,t.resetSomeOptions=c,t.resetOptions=u,t.migrate=p,t.recalculate=void 0;var f=l(a(1)),d=(a(3),l(a(0))),m=i(a(2)),_=l(a(4)),g=i(a(5)),b={melee_notes:"{{melee_notes=REPLACE}}",ranged_notes:"{{ranged_notes=REPLACE}}",CMB_notes:"{{CMB_notes=REPLACE}}",attack_notes:"{{attack_notes=REPLACE}}",header_image:"{{header_image=REPLACE}}"},y={notes:{melee:"@{melee-attack-notes}",ranged:"@{ranged-attack-notes}",CMB:"@{CMB-notes}",attack:"@{attack-notes}",dual:"@{melee-attack-notes}"},image:{melee:"@{header_image-pf_attack-melee}",ranged:"@{header_image-pf_attack-ranged}",CMB:"@{header_image-pf_attack-cmb}",dual:"@{header_image-pf_attack-dual}"}},h=["toggle_attack_melee_notes","toggle_attack_ranged_notes","toggle_attack_CMB_notes","toggle_attack_attack_notes","toggle_attack_header_image"],v=["attack-type","damage-ability","damage-dice-num","damage-die","damage","attack"],k=[""],w=v.concat(k),A=f.default.map(w,function(e){return"_"+e}),C={attackOptionEventsPlayer:v,attackOptionEventsAuto:k},I=d.default.callback(function(e){u(e)});t.recalculate=I,function(){f.default.each(h,function(e){on("change:"+e,d.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(d.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),u(null,e))}))}),f.default.each(C.attackOptionEventsAuto,function(e){var t="change:repeating_weapon:"+e;on(t,d.default.callback(function(e){"sheetworker"!==e.sourceType&&"api"!==e.sourceType||(d.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),s(null,e))}))}),f.default.each(C.attackOptionEventsPlayer,function(e){var t="change:repeating_weapon:"+e;on(t,d.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(d.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),s(null,e))}))})}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){var n=f.default.once(function(){"function"==typeof e&&e()});getAttrs(["AC-ability-mod","FF-DEX","AC-penalty","CMD-penalty","size","max-dex","AC-dodge","AC-natural","AC-deflect","AC-misc-mod","buff_AC-total","buff_Touch-total","buff_CMD-total","CMD-DEX","FF-CMD-DEX","CMD-STR","bab","CMD-misc-mod","AC","Touch","Flat-Footed","CMD","FF-CMD","AC-ability","FF-ability","CMD-ability","CMD-ability1","CMD-ability2","AC-armor","AC-shield","condition-Blinded","condition-Pinned","condition-Stunned","condition-Cowering","condition-Drained","condition-Flat-Footed","AC-ability-display","FF-DEX-display","CMD-DEX-display","FF-CMD-DEX-display","maxdex-toggle","nodex-toggle","uncanny_dodge","unlock_def_ability","hd_not_bab","level","buff_armor-total","buff_shield-total","buff_flat-footed-total","buff_natural-total","buff_dodge-total","buff_deflection-total","buffsumac","buffsumtouch","buffsumff","buffsumcmd","buffsumffcmd ","current-load","max-dex-source","buff_ffCMD-nododge"],function(e){var a=parseInt(e.size,10)||0,r=parseInt(e["AC-dodge"],10)||0,i=parseInt(e["AC-deflect"],10)||0,l=parseInt(e["AC-misc-mod"],10)||0,o=parseInt(e["AC-penalty"],10)||0,s=parseInt(e["buff_AC-total"],10)||0,c=parseInt(e["buff_Touch-total"],10)||0,u=parseInt(e["buff_CMD-total"],10)||0,p=parseInt(e["buff_ffCMD-nododge"],10)||0,b=parseInt(e["AC-armor"],10)||0,y=parseInt(e["AC-shield"],10)||0,h=parseInt(e["AC-natural"],10)||0,v=parseInt(e.bab,10)||0,k=parseInt(e["CMD-misc-mod"],10)||0,w=parseInt(e["max-dex"],10),A=parseInt(e["CMD-penalty"],10)||0,C=parseInt(e["condition-Blinded"],10)?1:0,I=parseInt(e["condition-Pinned"],10)?1:0,S=parseInt(e["condition-Stunned"],10)?1:0,P=parseInt(e["condition-Flat-Footed"],10)?1:0,x=parseInt(e["condition-Cowering"],10)?1:0,T=parseInt(e["max-dex-source"],10)||0,O=parseInt(e["current-load"],10)||0,M=0,D=parseInt(e["maxdex-toggle"],10)||0,E=0,F=parseInt(e["nodex-toggle"],10)||0,R=parseInt(e.unlock_def_ability,10)||0,N=R?0:1,j=10,L=10,z=10,W=10,B=10,q=parseInt(e.AC,10),H=parseInt(e.Touch,10),U=parseInt(e["Flat-Footed"],10),G=parseInt(e.CMD,10),V=parseInt(e["FF-CMD"],10),X=parseInt(e.uncanny_dodge,10)||0,K=g.findAbilityInString(e["AC-ability"]),$=X?K:g.findAbilityInString(e["FF-ability"]),Z=N?$:g.findAbilityInString(e["CMD-ability"]),Y=N?K:g.findAbilityInString(e["CMD-ability2"]),J=parseInt(e["AC-ability-mod"],10)||0,Q=parseInt(e["CMD-STR"],10)||0,ee=N?J:parseInt(e["CMD-DEX"],10)||0,te=0,ae=0,ne=0,re=0,ie=parseInt(e["buff_armor-total"],10)||0,le=parseInt(e["buff_shield-total"],10)||0,oe=parseInt(e["buff_natural-total"],10)||0,se=parseInt(e["buff_flat-footed-total"],10)||0,ce=parseInt(e["buff_dodge-total"],10)||0,ue=0,pe=0,fe=0,de=0,me=0,_e=0,ge=0,be=0,ye={},he={};try{d.default.debug("PFDefense.updateDefenses: buffs "+s,e),X?(te=N?J:parseInt(e["FF-DEX"],10)||0,ae=N?J:parseInt(e["FF-CMD-DEX"],10)||0):(J<0&&(te=J),ee<0&&(ae=ee)),w=isNaN(w)?99:w,w<99&&w>=0&&(K===K&&w<J&&(J=w,M=1,N&&X&&(te=w)),R&&(Y===K&&w<ee&&(M=1),X&&($===K&&w<te&&(te=w,M=1),Z===K&&w<ae&&(M=1)))),C||I||x||S||4===O&&(0===T||2===T)?re=1:(P||3===O&&(0===T||2===T))&&(ne=1),re?(X&&(X=0),E=1,r=0,ce=0,J=Math.min(0,J),N?(ee=J,te=J,ae=J):(ee=Math.min(0,ee),te=Math.min(0,te),ae=Math.min(0,ae))):ne&&(X||(r=0,E=1),J=Math.min(J,te),ee=N?J:Math.min(ee,ae)),E&&M&&(M=0),X?(pe=r,fe=ce):X||(pe=0,fe=0),parseInt(e.hd_not_bab,10)&&(v=parseInt(e.level,10)||0),ue=s+ie+le+oe+ce,de=s+c+ce,me+=s+ie+le+oe+se+fe,ge=s+u+ce,_e+=s+u+se+fe,j=10+b+y+h+J+a+i+l+o+r+ue,L=10+J+a+i+l+o+r+de,z=10+b+y+h+te+a+i+l+o+pe+me,W=10+v+Q+ee+-1*a+i+k+A+r+ge,B=10+v+Q+ae+-1*a+i+k+A+pe+_e-(0!==_e?p:0),parseInt(e.buffsumac,10)!==ue&&(ye.buffsumac=ue),parseInt(e.buffsumtouch,10)!==de&&(ye.buffsumtouch=de),parseInt(e.buffsumff,10)!==me&&(ye.buffsumff=me),parseInt(e.buffsumcmd,10)!==ge&&(ye.buffsumcmd=ge),parseInt(e.buffsumffcmd,10)!==_e&&(ye.buffsumffcmd=_e),(j!==q||isNaN(q))&&(ye.AC=j),(L!==H||isNaN(H))&&(ye.Touch=L),(z!==U||isNaN(U))&&(ye["Flat-Footed"]=z),(W!==G||isNaN(G))&&(ye.CMD=W),(B!==V||isNaN(V))&&(ye["FF-CMD"]=B,be+=1),J!==parseInt(e["AC-ability-display"],10)&&(ye["AC-ability-display"]=J),te!==parseInt(e["FF-DEX-display"],10)&&(ye["FF-DEX-display"]=te),ee!==parseInt(e["CMD-DEX-display"],10)&&(ye["CMD-DEX-display"]=ee),ae!==parseInt(e["FF-CMD-DEX-display"],10)&&(ye["FF-CMD-DEX-display"]=ae),M!==D&&(ye["maxdex-toggle"]=M),E!==F&&(ye["nodex-toggle"]=E)}catch(e){d.default.error("PFDefense.updateDefenses:",e)}finally{f.default.size(ye)>0?(t&&(he=m.default.silentParams),_.setWrapper(ye,he,n)):n()}})}function s(e,t,a,n,r){var i=f.default.once(function(){"function"==typeof t&&t()}),l=f.default.once(function(){r?i():o(i,a)}),s="",c="";try{e?(s=e.toLowerCase(),c=v[s],c?getAttrs(["unlock_def_ability","uncanny_dodge"],function(e){parseInt(e.unlock_def_ability,10)||"ac-ability"===s||"cmd-ability1"===s?b.setDropdownValue(c,h[c],function(e,t){e!==t||e<0||t<0||"ff-ability"===s||"cmd-ability"===s?l():i()},a):i()}):(d.default.warn("PFDefense.updateDefenses, called with invalid dropdown: "+e),i())):n&&"uncanny_dodge"===n.sourceAttribute&&getAttrs(["unlock_def_ability","uncanny_dodge","AC-ability",h["AC-ability"]],function(t){var a=0,n=0,r={};try{a=parseInt(t.unlock_def_ability,10)||0,a?(n=parseInt(t["AC-ability"],10)||0,parseInt(t.uncanny_dodge,10)?(r["FF-ability"]=t["AC-ability"],r[h["FF-ability"]]=n,r["CMD-ability"]=t["AC-ability"],r[h["CMD-ability"]]=n):(r["FF-ability"]="0",r[h["FF-ability"]]=0,r["CMD-ability"]="0",r[h["CMD-ability"]]=0),_.setWrapper(r,m.default.silentParams,l)):l()}catch(t){d.default.error("PFDefense.setDefenseDropdownMod inner error for : "+e,t),i()}})}catch(t){d.default.error("PFDefense.setDefenseDropdownMod error for: "+e,t),i()}}function c(e,t,a){var n=function(){"function"==typeof e&&e()};getAttrs(I,function(e){var a=0,r=0,i=0,l=0,o=0,s=0,c=0,u=0,p=0,g=0,b=0,y=99,h=0,v=0,k=99,A=0,C=0,I=0,S=0,P=parseInt(e["max-dex-source"],10)||0,x=parseInt(e["current-load"],10)||0,T={},O={};try{d.default.debug("at updateArmor ",e),w.forEach(function(t){1===parseInt(e[t+"-equipped"],10)&&(c=parseInt(e[t+"-acbonus"],10)||0,h=parseInt(e[t+"-enhance"],10)||0,b=parseInt(e[t+"-spell-fail"],10)||0,o+=b,t.indexOf("armor")>=0?i+=c+h:l+=c+h,p=parseInt(e[t+"-acp"],10)||0,P<2&&(u=parseInt(e[t+"-max-dex"],10),("-"===e[t+"-max-dex"]||isNaN(u))&&(u=99),y=Math.min(u,y),a+=p),g=parseInt(e[t+"-proficiency"],10)||0,g&&(s+=p),/tower/i.test(e[t+"-type"])&&(s-=2))}),r=a,0===P||2===P?1===x?(y=Math.min(y,3),r=Math.min(r,-3)):2===x?(y=Math.min(y,1),r=Math.min(r,-6)):x>2&&(y=0,r=Math.min(r,-6)):3===P&&(r=0,a=0),v=parseInt(e.acp,10)||0,k=parseInt(e["max-dex"],10),k=isNaN(k)?99:k,A=parseInt(e["AC-armor"],10)||0,C=parseInt(e["AC-shield"],10)||0,I=parseInt(e["spell-fail"],10)||0,S=parseInt(e["acp-attack-mod"],10)||0,v!==r&&(T.acp=r),k!==y&&(T["max-dex"]=y),A!==i&&(T["AC-armor"]=i),C!==l&&(T["AC-shield"]=l),I!==o&&(T["spell-fail"]=o),S!==s&&(T["acp-attack-mod"]=s)}catch(e){d.default.error("PFDefense.updateArmor",e)}finally{f.default.size(T)>0?(t&&(O=m.default.silentParams),d.default.notice("updateArmor setting",T,O),_.setWrapper(T,O,n)):n()}})}function u(e,t,a){var n=f.default.once(function(){"function"==typeof e&&e()});getAttrs(["AC-penalty","CMD-penalty","condition-Blinded","condition-Cowering","condition-Stunned","condition-Pinned","condition-Wounds","condition-Drained","has_endurance_feat","wounds_gritty_mode","condition-Grappled","condition-Invisible","condition-Paralyzed","condition-Helpless","condition-Prone","condition_defense_notes"],function(e){var r=0,i=0,l=0,o=0,s=0,c=0,u=0,p=0,b=0,y="",h={},v={};try{a&&/grappled|invisible/i.test(a.sourceAttribute)?t=!0:(i=parseInt(e["condition-Drained"],10)||0,l=parseInt(e["condition-Wounds"],10)||0,o=parseInt(e["AC-penalty"],10)||0,s=parseInt(e["CMD-penalty"],10)||0,p=parseInt(e.has_endurance_feat,10)||0,b=parseInt(e.wounds_gritty_mode,10)||0,u=g.getWoundPenalty(l,p,b),r=-1*((parseInt(e["condition-Blinded"],10)||0)+(parseInt(e["condition-Pinned"],10)||0)+(parseInt(e["condition-Cowering"],10)||0)+(parseInt(e["condition-Stunned"],10)||0)),r+=u,c=i+r,o!==r&&(h["AC-penalty"]=r),s!==c&&(h["CMD-penalty"]=c)),parseInt(e["condition-Paralyzed"],10)&&(y+="**"+_.getTranslated("paralyzed")+"**: ",y+=_.getTranslated("condition-paralyzed-note")+"\r\n"),parseInt(e["condition-Prone"],10)&&(y+="**"+_.getTranslated("prone")+"**: ",y+=_.getTranslated("condition-prone-note")+"\r\n"),parseInt(e["condition-Helpless"],10)&&(y+="**"+_.getTranslated("helpless")+"**: ",y+=_.getTranslated("condition-helpless-note")+"\r\n"),parseInt(e["condition-Grappled"],10)&&parseInt(e["condition-Invisible"],10)&&(y+="**"+_.getTranslated("grappled")+" + "+_.getTranslated("invisible")+"**: ",y+=_.getTranslated("condition-grappled-invisible-note")+"\r\n"),y!==e.condition_defense_notes&&(h.condition_defense_notes=y)}catch(e){d.default.error("PFDefense.applyConditions:",e)}finally{f.default.size(h)>0?(t&&(v=m.default.silentParams),_.setWrapper(h,v,n)):n()}})}function p(e,t){var a=f.default.once(function(){"function"==typeof e&&e()});t>0&&t<.5&&y.migrateMaxDexAndACP(),t>0&&t<1.2?getAttrs(["CMD-ability2","unlock_def_ability","AC-ability"],function(e){var t="",n="",r=0,i={};try{t=g.findAbilityInString(e["AC-ability"]),n=g.findAbilityInString(e["CMD-ability2"]),r=parseInt(e.unlock_def_ability,10)||0,t&&n&&t!==n&&!r?i.unlock_def_ability=1:r&&(i.unlock_def_ability=0)}catch(e){d.default.error("PFDefense.migrate",e)}finally{f.default.size(i)>0?_.setWrapper(i,m.default.silentParams,a):a()}}):a()}Object.defineProperty(t,"__esModule",{value:!0}),t.updateDefenses=o,t.setDefenseDropdownMod=s,t.updateArmor=c,t.applyConditions=u,t.migrate=p,t.recalculate=t.events=t.defenseArmorFields=t.defenseFieldTotals=t.defenseArmorShieldColumns=t.defenseArmorShieldRows=t.defenseArmorShieldRowsOld=t.defenseLowerToMixed=t.defenseDropdowns=void 0;var f=l(a(1)),d=l(a(0)),m=(a(3),l(a(4))),_=i(a(2)),g=i(a(5)),b=i(a(19)),y=i(a(15)),h=(a(21),{"AC-ability":"AC-ability-mod","FF-ability":"FF-DEX","CMD-ability1":"CMD-STR","CMD-ability2":"CMD-DEX","CMD-ability":"FF-CMD-DEX"}),v={"ac-ability":"AC-ability","ff-ability":"FF-ability","cmd-ability1":"CMD-ability1","cmd-ability2":"CMD-ability2","cmd-ability":"CMD-ability"},k=["armor3","armor2","armor","shield3","shield2","shield"],w=["armor3","shield3"],A=["equipped","acbonus","enhance","max-dex","acp","spell-fail","proficiency","type"],C=["acp","max-dex","AC-armor","AC-shield","spell-fail","acp-attack-mod","max-dex-source","current-load"],I=_.cartesianAppend(w,["-"],A).concat(C),S={defenseEventsAuto:"change:bab change:ac-penalty change:cmd-penalty change:size change:ac-shield change:ac-armor change:ac-ability-mod change:ff-dex change:cmd-dex change:ff-cmd-dex change:cmd-str change:max-dex change:ac-misc-mod change:cmd-misc-mod",defenseEventsPlayer:"change:ff-dex change:ac-penalty change:cmd-penalty change:size change:ac-dodge change:ac-natural change:ac-deflect",defenseEventsEither:"change:size change:AC-ability change:FF-ability change:CMD-ability1 change:CMD-ability2 change:CMD-ability"};t.events=S,t.defenseArmorFields=I,t.defenseFieldTotals=C,t.defenseArmorShieldColumns=A,t.defenseArmorShieldRows=w,t.defenseArmorShieldRowsOld=k,t.defenseLowerToMixed=v,t.defenseDropdowns=h;var P=d.default.callback(function(e,t,a){var n=f.default.once(function(){d.default.info("leaving PFDefense.recalculate"),"function"==typeof e&&e()}),r=f.default.size(h),i=f.default.after(r,function(){o(n,!0)});p(function(){u(function(){c(function(){f.default.each(h,function(e,t){s(t,i,!0,null,!0)})},t)},t)},a)});t.recalculate=P,function(){f.default.each(h,function(e,t){on("change:"+t,d.default.callback(function(e){d.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),s(t,null,null,e,!1)}))}),on("change:uncanny_dodge",d.default.callback(function(e){d.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||s(null,null,null,e,!1)})),on("change:hd_not_bab",d.default.callback(function(e){d.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||o(null,null,e)})),on(S.defenseEventsAuto,d.default.callback(function(e){d.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"sheetworker"!==e.sourceType&&"api"!==e.sourceType||o(null,null,e)})),on(S.defenseEventsPlayer,d.default.callback(function(e){d.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||o(null,null,e)})),on(S.defenseEventsEither,d.default.callback(function(e){d.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),o(null,null,e)})),on("change:max-dex-source change:current-load",d.default.callback(function(e){d.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),c(null,null,e)})),f.default.each(w,function(e){f.default.each(A,function(t){var a="change:"+e+"-"+t;on(a,d.default.callback(function(e){d.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),c(null,null,e)}))})})}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t={size:0,skillSize:0};try{e&&(e=y.trimBoth(e),e=e.toLowerCase(),t.size=I[e],t.skillSize=C[String(t.size)])}catch(a){b.default.error("get size from text:"+e,a),t.size=0,t.skillSize=0}finally{return t}}function s(e,t){var a,n;return a=w[String(e)],n=w[String(t)],a-n}function c(e,t,a,n){var r,i={1:["1d1"],2:["1d2"],3:["1d3"],4:["1d4"],5:["1d6"],6:["1d8","2d4"],7:["1d10"],8:["2d6","3d4","1d12"],9:["2d8","4d4"],10:["3d6","5d4"],11:["3d8","6d4","2d10"],12:["4d6","7d4","2d12"],13:["4d8","8d4","9d4","5d6","3d10"],14:["6d6","5d8","10d4","11d4","9d4","3d12"],15:["6d8","7d6","12d4","13d4","4d10"],16:["8d6","7d8","14d4","15d4","4d12"],17:["8d8","16d4","9d6","10d6","11d6","5d10","17d4","18d4","19d4","5d12"],18:["12d6","20d4","9d8","7d10","6d12","21d4","22d4","23d4"],19:["12d8","24d4","13d6","14d6","15d6","8d10"],20:["16d6","13d8","10d10","8d12"]},l=0,o="",s=0,c=0,u=0,p=g.default.reduce(i,function(e,t,a){return g.default.each(t,function(t){e[t]=a}),e},{});try{if(a=parseInt(a,10),n=parseInt(n,10),!isNaN(a)&&!isNaN(n)){if(o=a+"d"+n,l=w[String(t)],a<=0||n>12)return null;if(4===n&&a>24?a=24:6===n&&a>16?a=16:8===n&&a>13?a=13:10===n&&a>10?a=10:12===n&&a>8&&(a=8),!(c=parseInt(p[o],10)||0))return null;for(;0!==e;)if(e>0?s=n<=6&&1===a||l<=3?1:2:e<0&&(s=n<=8&&1===a||l<=4?-1:-2),u=c+s,u=Math.min(Math.max(u,1),20),o=i[u][0],r=o.match(/(\d+)d(\d+)/),a=parseInt(r[1],10),n=parseInt(r[2],10),c=u,e>0){if(l++,e--,c>=20){b.default.warn("PFSize.updateDamageDice increased off top of grid to row "+c);break}}else if(l--,e++,c<=1){b.default.warn("PFSize.updateDamageDice decreased under bottom of grid to row "+c);break}}}catch(e){b.default.error("updateDamageDice: ",e)}finally{return{dice:a,die:n}}}function u(e,t){var a={};try{a=o(e),a&&0!==a.size?(t.size=a.size,t.default_char_size=a.size,t.size_skill=a.skillSize,t["CMD-size"]=-1*a.size,t.size_skill_double=2*a.skillSize):(t.size=0,t.default_char_size=0,t.size_skill=0,t["CMD-size"]=0,t.size_skill_double=0,a||(a={size:0,skillSize:0})),t.size_display=y.getTranslated(e.toLowerCase())}finally{return a}}function p(e,t,a){var n="",r="";return a=a||{},n=S[String(e)],r=y.getTranslated(n),!r||r===t.size_display&&t.size_display||(a.size_display=r),a}function f(e,t,a,n){var r=0,i=0,l=0,o=0,s=0,c=0;try{n=n||{},l=parseInt(t.default_char_size,10)||0,i=l,0!==e&&(o=w[String(l)],s=o+e,i=A[String(s)]),r=parseInt(t.size,10)||0,i!==r?(n.size=i,n["CMD-size"]=-1*i,c=C[String(i)],n.size_skill=c,n.size_skill_double=2*c):((parseInt(t["CMD-size"],10)||0)!==-1*i&&(n["CMD-size"]=-1*i),c=C[String(i)],(parseInt(t.size_skill,10)||0)!==c&&(n.size_skill=c),(parseInt(t.size_skill_double,10)||0)!==2*c&&(n.size_skill_double=2*c)),p(i,t,n)}catch(e){b.default.error("PFSize.updateSize",e)}finally{return b.default.debug("PFSize.updateSize returning with  ",n),n}}function d(e,t,a){var n=function(t){"function"==typeof e&&e(t)};getAttrs(["size","size_skill","size_skill_double","default_char_size","CMD-size","buff_size-total","size_display"],function(e){var r={},i={},l=0,o=0,c=0,u=0;try{a&&"buff_size-total"===a.sourceAttribute?(l=parseInt(e["buff_size-total"],10)||0,f(l,e,a,i)):a&&"size"!==a.sourceAttribute?"default_char_size"===a.sourceAttribute?(o=parseInt(e.size,10)||0,c=parseInt(e.default_char_size,10)||0,l=s(o,c)):b.default.warn("Called updateSizeAsync with unexpected event:",a):(l=parseInt(e["buff_size-total"],10)||0,0===l&&(o=parseInt(e.size,10)||0,c=parseInt(e.default_char_size,10)||0,0===(l=s(o,c))&&a&&(parseInt(a.previousValue,10)||0)!==(parseInt(a.newValue,10)||0)&&(u=(parseInt(a.newValue,10)||0)-(parseInt(a.previousValue,10)||0))),f(l,e,a,i))}catch(e){b.default.error("PFSize.updateSizeAsync",e)}finally{g.default.size(i)>0?(t&&(r=h.default.silentParams),y.setWrapper(i,r,function(){n(l)})):n(0!==l||0!==u?1:0)}})}function m(e){d(function(t){t&&(v.updateLoadsAndLift(),k.adjustAllDamageDiceAsync(null,e))},!1,e),v.updateLoadsAndLift(),k.adjustAllDamageDiceAsync(null,e)}function _(e){"function"==typeof e&&e()}Object.defineProperty(t,"__esModule",{value:!0}),t.getSizeFromText=o,t.getSizeLevelChange=s,t.updateDamageDice=c,t.setSizeFromString=u,t.updateSize=f,t.migrate=_,t.recalculate=t.reverseSizeNameMap=t.sizeNameMap=t.skillSizeMap=t.reverseSizeMap=t.sizeModToEasySizeMap=void 0;var g=l(a(1)),b=(a(3),l(a(0))),y=i(a(2)),h=l(a(4)),v=(i(a(5)),i(a(15)),i(a(39))),k=i(a(16)),w={0:4,1:3,2:2,"-8":8,4:1,"-4":7,"-2":6,"-1":5,8:0},A={0:8,1:4,2:2,3:1,4:0,5:-1,6:-2,7:-4,8:-8},C={0:0,1:2,2:4,8:8,4:6,"-8":-8,"-4":-6,"-2":-4,"-1":-2},I={colossal:-8,gargantuan:-4,huge:-2,large:-1,medium:0,small:1,tiny:2,diminutive:4,fine:8},S={0:"medium",1:"small",2:"tiny","-8":"colossal",4:"diminutive","-4":"gargantuan","-2":"huge","-1":"large",8:"fine"};t.reverseSizeNameMap=S,t.sizeNameMap=I,t.skillSizeMap=C,t.reverseSizeMap=A,t.sizeModToEasySizeMap=w;var P=b.default.callback(function(e,t,a){d(g.default.once(function(){b.default.info("leaving PFSize.recalculate"),"function"==typeof e&&e()}),t,null)});t.recalculate=P,function(){on("change:size change:default_char_size",b.default.callback(function(e){b.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),b.default.debug(e),"player"===e.sourceType&&m(e)})),on("change:size change:buff_size-total",b.default.callback(function(e){b.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"sheetworker"!==e.sourceType&&"api"!==e.sourceType||m(e)}))}()},function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return l});var n=a(6),r=a(129),i=n.s&&Object(r.a)(new DataView(new ArrayBuffer(8))),l="undefined"!=typeof Map&&Object(r.a)(new Map)},function(e,t,a){"use strict";function n(e){if(!Object(r.a)(e))return[];var t=[];for(var a in e)t.push(a);return i.h&&Object(l.a)(e,t),t}t.a=n;var r=a(22),i=a(6),l=a(78)},function(e,t,a){"use strict";function n(e){return r.a.toPath(e)}t.a=n;var r=a(11);a(86)},function(e,t,a){"use strict";function n(e,t,a){if(void 0===t)return e;switch(null==a?3:a){case 1:return function(a){return e.call(t,a)};case 3:return function(a,n,r){return e.call(t,a,n,r)};case 4:return function(a,n,r,i){return e.call(t,a,n,r,i)}}return function(){return e.apply(t,arguments)}}t.a=n},function(e,t,a){"use strict";function n(e,t,a){var n=[];return t=Object(r.a)(t,a),Object(i.a)(e,function(e,a,r){t(e,a,r)&&n.push(e)}),n}t.a=n;var r=a(9),i=a(24)},function(e,t,a){"use strict";function n(e,t,a,n){return Object(r.a)(e)||(e=Object(i.a)(e)),("number"!=typeof a||n)&&(a=0),Object(l.a)(e,t,a)>=0}t.a=n;var r=a(12),i=a(26),l=a(102)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,a&&a.set(e,n),n}function l(e){"@babel/helpers - typeof";return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return p(e)||u(e)||c(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return f(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?f(e,t):void 0}}function u(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function p(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function d(e,t,a){return t=m(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(e){var t=_(e,"string");return"symbol"===l(t)?t:String(t)}function _(e,t){if("object"!==l(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function g(e,t,a){var n=R.default.once(function(){"function"==typeof a&&a()}),r=["spell_level","spellclass_number","name","school","slot","metamagic","used","isDomain","isMythic"],i=["&{template:pf_block} @{toggle_spell_accessible} @{toggle_rounded_flag}{{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{spellclass-0-name} ^{spells}}} {{concentration=@{Concentration-0}}} {{casterlevel=@{spellclass-0-level-total}}} {{row01=**^{checks}**}} {{row02=[^{caster-level-check}](~@{character_id}|Spell-Class-0-CL-Check) [^{concentration-check}](~@{character_id}|Concentration-Check-0) [^{spell-failure}](~@{character_id}|Spell-Fail-Check)}}","&{template:pf_block} @{toggle_spell_accessible} @{toggle_rounded_flag}{{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{spellclass-1-name} ^{spells}}} {{concentration=@{Concentration-1}}} {{casterlevel=@{spellclass-1-level-total}}} {{row01=**^{checks}**}} {{row02=[^{caster-level-check}](~@{character_id}|Spell-Class-1-CL-Check) [^{concentration-check}](~@{character_id}|Concentration-Check-1) [^{spell-failure}](~@{character_id}|Spell-Fail-Check)}}","&{template:pf_block} @{toggle_spell_accessible} @{toggle_rounded_flag}{{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{spellclass-2-name} ^{spells}}} {{concentration=@{Concentration-2}}} {{casterlevel=@{spellclass-2-level-total}}} {{row01=**^{checks}**}} {{row02=[^{caster-level-check}](~@{character_id}|Spell-Class-2-CL-Check) [^{concentration-check}](~@{character_id}|Concentration-Check-2) [^{spell-failure}](~@{character_id}|Spell-Fail-Check)}}"],l=["&{template:pf_block} @{toggle_spell_accessible} @{toggle_rounded_flag}{{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} @{spellclass-0-name} ^{spells}}} {{concentration=@{Concentration-0}}} {{casterlevel=@{spellclass-0-level-total}}} {{row01=**^{checks}**}} {{row02=[^{caster-level-check}](~@{character_id}|Spell-Class-0-CL-Check) [^{concentration-check}](~@{character_id}|Concentration-Check-0) [^{spell-failure}](~@{character_id}|Spell-Fail-Check)}}","&{template:pf_block} @{toggle_spell_accessible} @{toggle_rounded_flag}{{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} @{spellclass-1-name} ^{spells}}} {{concentration=@{Concentration-1}}} {{casterlevel=@{spellclass-1-level-total}}} {{row01=**^{checks}**}} {{row02=[^{caster-level-check}](~@{character_id}|Spell-Class-1-CL-Check) [^{concentration-check}](~@{character_id}|Concentration-Check-1) [^{spell-failure}](~@{character_id}|Spell-Fail-Check)}}","&{template:pf_block} @{toggle_spell_accessible} @{toggle_rounded_flag}{{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=^{npc} @{spellclass-2-name} ^{spells}}} {{concentration=@{Concentration-2}}} {{casterlevel=@{spellclass-2-level-total}}} {{row01=**^{checks}**}} {{row02=[^{caster-level-check}](~@{character_id}|Spell-Class-2-CL-Check) [^{concentration-check}](~@{character_id}|Concentration-Check-2) [^{spell-failure}](~@{character_id}|Spell-Fail-Check)}}"],o=function(e){var t=[],a=0;for(a=0;a<3;a++)e["spellclass-"+a+"-book"].slice(13)!==i[a].slice(13)&&(t["spellclass-"+a+"-book"]=i[a]),e["spellclass-"+a+"-book-npc"].slice(13)!==l[a].slice(13)&&(t["spellclass-"+a+"-book-npc"]=l[a]);R.default.size(t)>0?L.setWrapper(t,j.default.silentParams,n):n()};getAttrs(["spellclass-0-casting_type","spellclass-1-casting_type","spellclass-2-casting_type","spellclass-0-hide_unprepared","spellclass-1-hide_unprepared","spellclass-2-hide_unprepared","spellclass-0-book","spellclass-1-book","spellclass-2-book","spellclass-0-book-npc","spellclass-1-book-npc","spellclass-2-book-npc","spellclass-0-show_domain_spells","spellclass-1-show_domain_spells","spellclass-2-show_domain_spells","spellmenu_groupby_school","spellmenu_show_uses","mythic-adventures-show"],function(e){var t=[],a=[],s=[],c=0,u=0,p=0;try{t=[2===parseInt(e["spellclass-0-casting_type"],10),2===parseInt(e["spellclass-1-casting_type"],10),2===parseInt(e["spellclass-2-casting_type"],10)],a=[parseInt(e["spellclass-0-show_domain_spells"],10)||0,parseInt(e["spellclass-1-show_domain_spells"],10)||0,parseInt(e["spellclass-2-show_domain_spells"],10)||0],s=[parseInt(e["spellclass-0-hide_unprepared"],10)||0,parseInt(e["spellclass-1-hide_unprepared"],10)||0,parseInt(e["spellclass-2-hide_unprepared"],10)||0],c=parseInt(e.spellmenu_groupby_school,10)||0,u=parseInt(e.spellmenu_show_uses,10)||0,p=parseInt(e["mythic-adventures-show"],10)||0}catch(e){return N.default.error("PFSpells.resetCommandMacro, error assembling global vars",e),void n()}getSectionIDs("repeating_spells",function(f){if(!f||0===f.length)return void o(e);getAttrs(["_reporder_repeating_spells"],function(o){var d;try{d=R.default.chain(f).map(function(e){var t="repeating_spells_"+L.getRepeatingIDStr(e),a=[];return R.default.each(r,function(e){a.push(t+e)}),a}).flatten().value()}catch(e){return N.default.error("PFSpells.resetCommandMacro errouter",e),void n()}getAttrs(d,function(r){var d,m,_,g,b,y,h,v=0,k=/[^\(\[]*/,w={},A=0;try{for(R.default.isUndefined(o._reporder_repeating_spells)||""===o._reporder_repeating_spells?d=f:(m=o._reporder_repeating_spells.split(","),m=R.default.map(m,function(e){return e.toLowerCase()}),d=R.default.intersection(R.default.union(m,f),f),v=1),_=R.default.chain(d).map(function(e){var t,a="",n=0,i=0,l="",o="",s=0,c="",u="",f=0,d=0,m=0,_="";try{a="repeating_spells_"+L.getRepeatingIDStr(e),n=parseInt(r[a+"metamagic"],10)||0,i=n?r[a+"slot"]||r[a+"spell_level"]:r[a+"spell_level"],l=r[a+"school"]||"",t=k.exec(r[a+"school"]||""),t&&t[0]&&(l=L.trimBoth(t[0]),l=l[0].toUpperCase()+l.slice(1).toLowerCase()),o="^{level} "+String(i),s=parseInt(r[a+"spell_level"],10)||0,c=parseInt(r[a+"spellclass_number"],10)||0,u="class"+(r[a+"spellclass_number"]||"0"),f=parseInt(r[a+"isDomain"],10)||0,d=p*parseInt(r[a+"isMythic"],10)||0,m=parseInt(r[a+"used"],10)||0,_=r[a+"name"]||""}catch(t){N.default.error("PFSpells.resetCommandMacro errmap on id "+e,t)}finally{return{id:e,level:i,levelstr:o,rawlevel:s,school:l,spellClass:c,spellClassstr:u,isDomain:f,isMythic:d,uses:m,name:_}}}).omit(function(e){return s[e.spellClass]&&t[e.spellClass]&&0===e.uses&&!(a[e.spellClass]&&e.isDomain)}).map(function(e){var a=e.name,n="",r="",i="",l="",o="";try{a=L.escapeForChatLinkButton(a),a=L.escapeForRollTemplate(a),a=L.trimBoth(a),n=u?"("+e.uses+")":"",u&&t[e.spellClass]&&e.isDomain&&(n=""),i=e.isMythic?"&#x1f11c;":"",r=e.isDomain?"&#x1f113;":"",l=c?e.level+":":"",o=n||i||r?" ":"",a=" ["+l+a+o+r+i+n+"]"}catch(e){N.default.error("PFSpells.resetCommandMacro error creating link name:",e)}finally{return e.pcChatLink=a+"(~@{character_name}|repeating_spells_"+e.id+"_roll)",e.npcChatLink=a+"(~@{character_id}|repeating_spells_"+e.id+"_npc-roll)",e}}).value(),v||(_=R.default.sortBy(_,"level")),_=R.default.chain(_).groupBy("spellClassstr").mapObject(function(e){return R.default.chain(e).sortBy(c?"school":"levelstr").groupBy(c?"school":"levelstr").value()}).value(),g={},b={},A=10,R.default.each(_,function(e,t){var a="",n="";R.default.each(e,function(e,t){A++,a+=" {{row"+A+"=**"+t+"**}}",n+=" {{row"+A+"=**"+t+"**}}",A++,a+=" {{row"+A+"=",n+=" {{row"+A+"=",R.default.each(e,function(e){a+=e.pcChatLink,n+=e.npcChatLink}),a+="}}",n+="}}"}),g[t]=a,b[t]=n}),y=0;y<3;y++)h=i[y]+g["class"+y],h&&e["spellclass-"+y+"-book"].slice(13)!==h.slice(13)?w["spellclass-"+y+"-book"]=h:h||e["spellclass-"+y+"-book"].slice(13)===i[y].slice(13)||(w["spellclass-"+y+"-book"]=""),h=l[y]+b["class"+y],h&&e["spellclass-"+y+"-book-npc"].slice(13)!==h.slice(13)?w["spellclass-"+y+"-book-npc"]=h:h||e["spellclass-"+y+"-book-npc"].slice(13)===l[y].slice(13)||(w["spellclass-"+y+"-book-npc"]="");R.default.size(w)>0?L.setWrapper(w,j.default.silentParams,n):n()}catch(e){N.default.error("PFSpells.resetCommandMacro",e),n()}})})})})}function b(e,t,a,n){var r=R.default.once(function(){"function"==typeof a&&a()}),i=["total_spells_manually","repeating_spells_used","repeating_spells_spellclass_number","repeating_spells_spell_level","repeating_spells_slot","repeating_spells_metamagic"];getAttrs(i,function(e){var a,n=0,i=0,l=0,o="",s="",c={};try{parseInt(e.total_spells_manually,10)?r():(a=parseInt(e.repeating_spells_spell_level,10)||0,n=parseInt(e.repeating_spells_spellclass_number,10),isNaN(n)&&setAttrs({repeating_spells_spellclass_number:0}),l=parseInt(e.repeating_spells_metamagic,10)||0,l&&(i=parseInt(e.repeating_spells_slot,10),isNaN(i)||(a=i)),o="spellclass-"+n+"-level-"+a+"-spells-per-day",s="spellclass-"+n+"-level-"+a+"-spells-prepared",c[o]=0,c[s]=0,N.default.repeating("spells").attrs(o,s).fields("row_id","used","spell_level","metamagic","slot").reduce(function(e,t){try{(t.I.spell_level===a||t.I.metamagic&&t.I.slot===a)&&(e+=t.I.used)}catch(e){N.default.error("PFSpells.updateSpellsPerDay innererr",e)}finally{return e}},0,function(e,t,a){try{a.S[o]=e,a.S[s]=e}catch(t){N.default.error("ERROR calculating spells per day!",t),a&&a.I&&(a.I[o]=e,a.I[s]=e)}}).execute(r))}catch(e){N.default.error("PFSpells.updateSpellsPerDay  ERROR",e,t)}})}function y(e,t,a){var n=0,r=[0,0,0],i=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],l=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]];try{n=parseInt(t.total_spells_manually,10)||0,r[0]=parseInt(t["spellclass-0-casting_type"],10)||0,parseInt(t.spellclasses_multiclassed,10)&&(r[1]=parseInt(t["spellclass-1-casting_type"],10)||0,r[2]=parseInt(t["spellclass-2-casting_type"],10)||0),R.default.each(e,function(e){var r,o,s="repeating_spells_"+L.getRepeatingIDStr(e),c=0,u=0,p=0;try{r=parseInt(t[s+"spell_level"],10)||0,c=parseInt(t[s+"spellclass_number"],10),isNaN(c)&&(c=0,a[s+"spellclass_number"]=0),u=parseInt(t[s+"metamagic"],10)||0,o=parseInt(t[s+"slot"],10),isNaN(o)?a[s+"slot"]=r:u&&o!==r?r=o:o!==r&&(o=r,a[s+"slot"]=r),l[c][r]+=1,n||(p=parseInt(t[s+"used"],10)||0,i[c][r]+=p)}catch(e){N.default.error("PFSpells.getSpellTotals err2",e)}}),R.default.each(j.default.spellClassIndexes,function(e){R.default.each(V,function(o){var s="spellclass-"+e+"-level-"+o,c=0,u=0;c=parseInt(t[s+"-total-listed"],10)||0,c!==l[e][o]&&(a[s+"-total-listed"]=l[e][o]),u=parseInt(t[s+"-spells-per-day"],10)||0,r[e]>0&&!n?u!==i[e][o]&&(a[s+"-spells-per-day"]=i[e][o]):0===u&&(a[s+"-spells-per-day"]=0)})})}catch(e){N.default.error("PFSpells.getSpellTotals",e)}finally{return a}}function h(e,t,a,n){var r=R.default.once(function(){"function"==typeof a&&a()});getSectionIDs("repeating_spells",function(e){var t=["total_spells_manually","spellclasses_multiclassed","spellclass-0-casting_type","spellclass-1-casting_type","spellclass-2-casting_type"],a=["spellclass_number","spell_level","slot","metamagic","used"];try{R.default.each(e,function(e){var n="repeating_spells_"+L.getRepeatingIDStr(e);R.default.each(a,function(e){t.push(n+e)})}),R.default.each(j.default.spellClassIndexes,function(e){R.default.each(V,function(a){t.push("spellclass-"+e+"-level-"+a+"-total-listed"),t.push("spellclass-"+e+"-level-"+a+"-spells-prepared"),t.push("spellclass-"+e+"-level-"+a+"-spells-per-day")})}),getAttrs(t,function(t){var a={};try{a=y(e,t,a),R.default.size(a)?L.setWrapper(a,j.default.silentParams,r):r()}catch(e){N.default.error("PFSpells.resetSpellsTotals innererror:",e),r()}})}catch(e){N.default.error("PFSpells.resetSpellsTotals:",e),r()}})}function v(e,t,a,n,r){var i="",l="";n=n||{};try{N.default.debug("UPDATING SPELL ATTACK: "+e,a),l=z.findAbilityInString(a[e+"spell-attack-type"]),a[e+"name"]&&(r||(n[t+"name"]=a[e+"name"]),n[t+"source-spell-name"]=a[e+"name"]),l&&(n[t+"attack-type"]=a[e+"spell-attack-type"],/CMB/i.test(l)?n[t+"vs"]="cmd":n[t+"vs"]="touch"),a[e+"range_numeric"]&&(n[t+"range"]=a[e+"range_numeric"]),a[e+"range"]&&"see_text"===a[e+"range_pick"]&&(i+="Range: "+a[e+"range"]),a[e+"damage-macro-text"]&&(n[t+"precision_dmg_macro"]=a[e+"damage-macro-text"],l&&(n[t+"critical_dmg_macro"]=a[e+"damage-macro-text"])),a[e+"damage-type"]&&(n[t+"precision_dmg_type"]=a[e+"damage-type"],l&&(n[t+"critical_dmg_type"]=a[e+"damage-type"])),a[e+"save"]&&(i+="\n**Save:** "+a[e+"save"],/none/.test(a[e+"save"])||(i+=" **DC:** "+a[e+"savedc"])),a[e+"sr"]&&(i&&(i+=""),i+="\n**Spell Resistance:** "+a[e+"sr"]);var o=a[e+"toggle_attack_entry"];1===o&&a[e+"name"]&&(i&&(i+=""),i+="\n["+a[e+"name"]+"](~@{character_name}|"+e+"roll)"),1!==o&&a[e+"name"]&&(i&&(i+=""),i+=""),i&&(n[t+"notes"]=i)}catch(e){N.default.error("PFSpells.setAttackEntryVals",e)}finally{return n}}function k(e,t,a,n,r){var i=R.default.once(function(){"function"==typeof t&&t()}),l=[],o="",s="",c="",u=["create-attack-entry","range_pick","range","range_numeric","damage-macro-text","damage-type","sr","savedc","save"],p=["spell-attack-type","name","toggle_attack_entry"];try{if("DELETED"==e)return void i();o=e||(n?L.getRowId(n.sourceAttribute):""),s=L.getRepeatingIDStr(o),c="repeating_spells_"+s,u.forEach(function(e){l.push(c+e)}),p.forEach(function(e){l.push(c+e)})}catch(t){return N.default.error("PFSpells.createAttackEntryFromRow erro:",t,e,n),void i()}getAttrs(l,function(e){var t="",n={},l="repeating_weapon_",s="",u=!0,p=!1,f={};try{N.default.debug("PFSpells.createAttack ##### create attack linked from spell, using ",e),0===R.default.size(e)&&(u=!1),N.default.debug("PFSpells.createAttack ##### spellexists = "+u),u?z.findAbilityInString(e[c+"spell-attack-type"])||e[c+"damage-macro-text"]?(t=r||generateRowID(),s=t+"_",l+=s,n=v(c,l,e,n),n[l+"source-spell"]=o,n[l+"group"]="Spell",n[l+"link_type"]=U.linkedAttackType.spell):N.default.warn("no attack to create for spell "+e[c+"name"]+", "+o):r&&(n["repeating_weapon_"+r+"_source-spell"]="DELETED",p=!0,N.default.debug("seting deletedspell to "+p,n))}catch(e){N.default.error("PFSpells.createAttackEntryFromRow",e)}finally{p?L.setWrapper(n,j.default.silentParams,i):R.default.size(n)>0?(n[c+"create-attack-entry"]=0,a&&(f=j.default.silentParams),L.setWrapper(n,f,function(){q.resetOption(t),H.resetCommandMacro(),i()})):(n[c+"create-attack-entry"]=0,L.setWrapper(n,j.default.silentParams,i))}})}function w(e,t,a,n){var r=R.default.once(function(){"function"==typeof t&&t()}),i="",l="",o=[];try{i=e||(n?L.getRowId(n.sourceAttribute):""),l="repeating_spells_"+L.getRepeatingIDStr(i),o=[l+"range_pick",l+"range",l+"range_numeric",l+"damage-macro-text",l+"damage-type",l+"sr",l+"savedc",l+"save",l+"spell-attack-type",l+"name",l+"toggle_attack_entry"]}catch(t){return N.default.error("PFSpells.updateAssociatedAttack erro",t,e,n),void r()}getAttrs(o,function(e){getSectionIDs("repeating_weapon",function(t){var n=[];n=R.default.reduce(t,function(e,t){return e.push("repeating_weapon_"+t+"_source-spell"),e},[]),getAttrs(n,function(n){var o={},s={},c=[];try{R.default.each(t,function(t){var a="repeating_weapon_"+t+"_";n[a+"source-spell"]===i&&(c.push(t),o=v(l,a,e,o,!0))}),a&&(s=j.default.silentParams)}catch(e){N.default.error("PFSpells.updateAssociatedAttack",e)}finally{R.default.size(o)>0?L.setWrapper(o,s,function(){q.resetSomeOptions(c)}):r()}})})})}function A(e,t){getAttrs(["repeating_spells_used","repeating_spells_spellclass_number","repeating_spells_prepared_state","spellclass-0-hide_unprepared","spellclass-1-hide_unprepared","spellclass-2-hide_unprepared"],function(e){var t=parseInt(e.repeating_spells_used,10)||0,a=parseInt(e.repeating_spells_prepared_state,10)||0,n=e.repeating_spells_spellclass_number,r=2===(parseInt(e["spellclass-"+n+"-casting_type"],10)||0)?1:0,i=r*(parseInt(e["spellclass-"+n+"-hide_unprepared"],10)||0),l={};t>0&&0===a?l.repeating_spells_prepared_state="1":t<1&&0!==a&&(l.repeating_spells_prepared_state="0"),isNaN(n)&&(l.repeating_spells_spellclass_number=0),R.default.size(l)&&(i?L.setWrapper(l,j.default.silentParams,g()):L.setWrapper(l,j.default.silentParams))})}function C(){getSectionIDs("repeating_spells",function(e){var t=[];R.default.each(e,function(e){var a=L.getRepeatingIDStr(e),n="repeating_spells_"+a;t.push(n+"used"),t.push(n+"prepared_state")}),getAttrs(t,function(t){var a={};R.default.each(e,function(e){var a=L.getRepeatingIDStr(e),n="repeating_spells_"+a,r=parseInt(t[n+"used"],10)||0,i=parseInt(t[n+"prepared_state"],10)||0,l={};r>0&&0===i?l[n+"prepared_state"]="1":r<1&&0!==i&&(l[n+"prepared_state"]="0")}),R.default.size(a)&&L.setWrapper(a,j.default.silentParams)})})}function I(e,t,a){var n=R.default.once(function(){"function"==typeof a&&a()});if(!(e>=0&&e<=2)||isNaN(parseInt(e,10)))return void n();getAttrs(["spellclass-"+e+"-level-total","spellclasses_multiclassed","Concentration-"+e+"-misc-mod","spellclass-"+e+"-name","spellclass-"+e+"-SP-mod","Concentration-"+e+"-def","Concentration-"+e+"-mod","use_metrics"],function(a){var r=parseInt(a.use_metrics)||0,i=parseInt(a["spellclass-"+e+"-level-total"],10)||0,l=parseInt(a["Concentration-"+e+"-mod"],10)||0,o=parseInt(a.spellclasses_multiclassed,10)||0,s=parseInt(a["Concentration-"+e+"-def"],10),c=parseInt(a["Concentration-"+e+"-misc-mod"],10)||0,u=parseInt(a["spellclass-"+e+"-SP-mod"],10)||0,p=(a["spellclass-"+e+"-name"],!!t&&/\-def$/i.test(t.sourceAttribute));if(i<=0)return void n();getSectionIDs("repeating_spells",function(t){var a=["casterlevel","CL_misc","spell_class_r","spellclass_number","spellclass","range","range_numeric","range_pick","SP-mod","SP_misc","Concentration_misc","Concentration-mod","spell_options"],f=R.default.reduce(t,function(e,t){var n,r="repeating_spells_"+L.getRepeatingIDStr(t);return n=R.default.map(a,function(e){return r+e}),e.concat(n)},["spellclass-0-name","spellclass-1-name","spellclass-2-name"]);getAttrs(f,function(a){var f=(R.default.after(R.default.size(t),n),{}),d={};try{R.default.each(t,function(t){var n="repeating_spells_"+L.getRepeatingIDStr(t),m=parseInt(a[n+"spellclass_number"],10),_=parseInt(a[n+"spell_class_r"],10),g=a[n+"range_pick"]||"",b=parseInt(a[n+"range_numeric"],10)||0,y=parseInt(a[n+"Concentration_misc"],10)||0,h=a[n+"spell_options"],v=0,k="",w=0,A=0,C=0,I=0,S="",P=0;try{isNaN(m)&&(m=0,f[n+"spellclass_number"]=0,f[n+"spellclass"]=a["spellclass-0-name"]||""),o&&m!==e||((m!==_||isNaN(_))&&(d[n+"spell_class_r"]=m),S=a["spellclass-"+m+"-name"]||"",S!==a[n+"spellclass"]&&(d[n+"spellclass"]=S,h&&(h=h.replace(B.optionTemplateRegexes.spellclass,B.optionTemplates.spellclass.replace("REPLACE",L.escapeForRollTemplate(S))),v=1)),w=parseInt(a[n+"casterlevel"],10),A=i+(parseInt(a[n+"CL_misc"],10)||0),A<1&&(A=1),(A!==w||isNaN(w))&&(w=A,d[n+"casterlevel"]=A,h&&(h=h.replace(B.optionTemplateRegexes.casterlevel,B.optionTemplates.casterlevel.replace("REPLACE",A)),h=h.replace(B.optionTemplateRegexes.casterlevel_chk,B.optionTemplates.casterlevel_chk.replace("REPLACE",A)),v=1)),P=z.findSpellRange(a[n+"range"],g,w,r)||0,P!==b&&(d[n+"range_numeric"]=P,h&&(h=h.replace(B.optionTemplateRegexes.range,B.optionTemplates.range.replace("REPLACE",P)),v=1)),p&&h&&(k=s>0?B.optionTemplates.cast_def.replace("REPLACE",s):"{{cast_def=}}",h.indexOf("{{cast_def=")>=0?h=h.replace(B.optionTemplateRegexes.cast_def,k):h+=k,v=1),C=A+l+c+y,C!==(parseInt(a[n+"Concentration-mod"],10)||0)&&(d[n+"Concentration-mod"]=C,h&&(h=h.replace(B.optionTemplateRegexes.Concentration,B.optionTemplates.Concentration.replace("REPLACE",C)),h=h.replace(B.optionTemplateRegexes.Concentration_chk,B.optionTemplates.Concentration_chk.replace("REPLACE",C)),v=1)),I=u+(parseInt(a[n+"SP_misc"],10)||0),I!==(parseInt(a[n+"SP-mod"],10)||0)&&(d[n+"SP-mod"]=I,h&&(h=h.replace(B.optionTemplateRegexes.spellPen,B.optionTemplates.spellPen.replace("REPLACE",I)),v=1)),v&&(d[n+"spell_options"]=h))}catch(e){N.default.error("updateSpellsCasterLevelRelated innererror on id: "+t,e)}})}catch(e){N.default.error("updateSpellsCasterLevelRelated error:",e)}finally{R.default.size(d)>0||R.default.size(f)>0?(R.default.size(f)>0&&L.setWrapper(f,{},n),R.default.size(d)>0&&L.setWrapper(d,j.default.silentParams,n)):n()}})})})}function S(e,t,a){var n=R.default.once(function(){"function"==typeof a&&a()});if(!(e>=0&&e<=2)||isNaN(parseInt(e,10)))return void n();getAttrs(["spellclass-"+e+"-level-total","Concentration-"+e+"-mod","Concentration-"+e+"-misc-mod","spellclasses_multiclassed","spellclass-"+e+"-savedc-misc","buff_SpellDC_"+e+"-total"],function(t){var a,r,i,l,o,s;try{if(a=parseInt(t["Concentration-"+e+"-mod"],10)||0,r=parseInt(t["Concentration-"+e+"-misc-mod"],10)||0,i=parseInt(t.spellclasses_multiclassed,10)||0,l=parseInt(t["spellclass-"+e+"-savedc-misc"],10)||0,o=parseInt(t["buff_SpellDC_"+e+"-total"],10)||0,s=l+o,!parseInt(t["spellclass-"+e+"-level-total"],10))return void n();getSectionIDs("repeating_spells",function(t){var l=[];R.default.each(t,function(e){var t="repeating_spells_"+L.getRepeatingIDStr(e);l=l.concat([t+"spellclass_number",t+"spell_level",t+"spell_level_r",t+"spellclass_number",t+"casterlevel",t+"DC_misc",t+"savedc",t+"Concentration-mod",t+"Concentration_misc",t+"spell_options"])}),getAttrs(l,function(l){var o=0,c=0,u={};try{R.default.each(t,function(t){var n,p=0,f=0,d=0,m=0,_=0,g="repeating_spells_"+L.getRepeatingIDStr(t),b=l[g+"spell_options"],y=parseInt(l[g+"Concentration_misc"],10)||0;try{n=parseInt(l[g+"spellclass_number"],10),isNaN(n)&&(n=0,u[g+"spellclass_number"]=0),i&&n!==e||(p=parseInt(l[g+"spell_level"],10),f=parseInt(l[g+"spell_level_r"],10),isNaN(p)&&(p=0,u[g+"spell_level"]=0,N.default.warn("spell level was NaN for "+g)),(p!==f||isNaN(f))&&(u[g+"spell_level_r"]=p),d=10+p+a+s+(parseInt(l[g+"DC_misc"],10)||0),_=parseInt(l[g+"savedc"],10)||0,d!==_&&(u[g+"savedc"]=d,b&&(b=b.replace(B.optionTemplateRegexes.dc,B.optionTemplates.dc.replace("REPLACE",d)),m=1)),c=parseInt(l[g+"casterlevel"],10)||0,isNaN(c)?N.default.warn("spell casterlevel is NaN for "+g):(o=c+a+r+y,o!==(parseInt(l[g+"Concentration-mod"],10)||0)&&(u[g+"Concentration-mod"]=o,b&&(b=b.replace(B.optionTemplateRegexes.Concentration,B.optionTemplates.Concentration.replace("REPLACE",o)),b=b.replace(B.optionTemplateRegexes.Concentration_chk,B.optionTemplates.Concentration_chk.replace("REPLACE",o)),m=1)),m&&b&&(u[g+"spell_options"]=b)))}catch(e){N.default.error("updateSpellsCasterAbilityRelated innererror on id:"+t,e)}})}catch(e){N.default.error("updateSpellsCasterAbilityRelated miderr :",e)}finally{R.default.size(u)>0?L.setWrapper(u,j.default.silentParams,n()):n()}})})}catch(e){N.default.error("updateSpellsCasterAbilityRelated outer error:",e)}})}function P(e,t,a,n){var r,i=!1,l=!1,o=R.default.once(function(){i||(B.resetOption(e,t),n||(h(),g(),E(t))),"function"==typeof a&&a()}),s="",c="",u="",p="",f="",d="",m="",_="",b="",y="",v="",k=[],w=!1,A=!1,C=!1,I=!1,S=!1,P=!1,x=!1,T=!1,O="";if(t&&t.sourceAttribute){if(O=t.sourceAttribute.toLowerCase(),!(r=O.match(/name|use_metrics|toggle_casting_type|lvlstr|category|meta|range_pick|range|sp_misc|cl_misc|spellclass_number|spell_level|dc_misc|concen|slot/))||!r[0])return N.default.warn("Unimportant field updated, do not update row: "+t.sourceAttribute),void("function"==typeof a&&a());switch(r[0]){case"name":w=!0,P=!0;break;case"use_metrics":case"toggle_casting_type":case"range_pick":case"range":C=!0;break;case"sp_misc":I=!0;break;case"cl_misc":A=!0,C=!0,S=!0;break;case"spellclass_number":w=!0;break;case"concen":S=!0;break;case"spell_level":P=!0;break;case"dc_misc":x=!0;break;case"slot":case"meta":T=!0;break;case"lvlstr":case"category":w=!0,P=!0;break;default:w=!0,P=!0}s=L.getRepeatingIDStr(e),c="repeating_spells_"+s,u=c+"spellclass",p=c+"spell_class_r",f=c+"spellclass_number",d=c+"toggle_casting_type",m=c+"casterlevel",_=c+"spell_level",b=c+"spell_level_r",y=c+"DC_misc",v=c+"savedc"}else w=!0,P=!0;k=[f,p,d,u,m,c+"CL_misc",c+"range_pick",c+"range",c+"range_numeric",c+"SP-mod",c+"SP_misc",c+"Concentration_misc",c+"Concentration-mod",c+"spell_options",c+"used",c+"slot",c+"metamagic",_,b,y,v,"spellclass-0-level-total","spellclass-1-level-total","spellclass-2-level-total","spellclass-0-SP-mod","spellclass-1-SP-mod","spellclass-2-SP-mod","Concentration-0-mod","Concentration-1-mod","Concentration-2-mod","Concentration-0-misc-mod","Concentration-1-misc-mod","Concentration-2-misc-mod","spellclass-0-savedc-misc","spellclass-1-savedc-misc","spellclass-2-savedc-misc","buff_SpellDC_0-total","buff_SpellDC_1-total","buff_SpellDC_2-total","Concentration-0-def","Concentration-1-def","Concentration-2-def","spellclass-0-name","spellclass-1-name","spellclass-2-name","use_metrics"],getAttrs(k,function(t){var a,n,r,s,g,h={},k=0,O=0,M="",D=0,E=0,F=0,W=0,B=0,q=0,H=0,U=0,G=10,V=0,X="",K=0,$=0,Z=0;try{n=parseInt(t[f],10),isNaN(n)&&(l=!0,n=0,h[f]=0,h[p]=0,h[d]=0,!0,w=!0),r=parseInt(t[_],10),s=parseInt(t[c+"slot"],10),isNaN(r)&&(i=!0,r=0,s=0,h[b]=0,h[c+"slot"]=0,h[_]=0,P=!0),(w||A||S||x||C||I)&&(k=n||0,O=parseInt(t[p],10)),(P||x||T||w)&&(D=r||0,E=parseInt(t[c+"metamagic"],10)||0,F=parseInt(t[b],10),E?s:D),(w||A||S||C)&&(g=parseInt(t[m],10),isNaN(g)?(A=!0,C=!0,S=!0):W=g),(w||S||x||P)&&(B=parseInt(t["Concentration-"+k+"-mod"],10)||0),(w||C||A)&&(V=parseInt(t[c+"range_numeric"],10)||0,X=t[c+"range_pick"]||"blank"),w&&(k!==O&&(h[p]=k),M=t["spellclass-"+k+"-name"]||"",t[u]!==M&&(h[u]=M)),(P||T)&&(E?s!==F&&(h[b]=s,h.spells_tab=s):(D!==F&&(h[b]=D,h.spells_tab=D),D!==s&&(h[c+"slot"]=D,s=D))),(A||w)&&(W=(parseInt(t["spellclass-"+k+"-level-total"],10)||0)+(parseInt(t[c+"CL_misc"],10)||0),W<1&&(W=1),(g!==W||isNaN(g))&&(h[c+"casterlevel"]=W)),(x||P)&&(q=parseInt(t["spellclass-"+k+"-savedc-misc"],10)||0,H=parseInt(t["buff_SpellDC_"+k+"-total"],10)||0,U=q+H,(G=10+D+B+U+(parseInt(t[y],10)||0))!==(parseInt(t[v],10)||0)&&(h[v]=G)),(S||A||w)&&($=W+B+(parseInt(t["Concentration-"+k+"-misc-mod"],10)||0)+(parseInt(t[c+"Concentration_misc"],10)||0))!==(parseInt(t[c+"Concentration-mod"],10)||0)&&(h[c+"Concentration-mod"]=$),a=parseInt(t.use_metrics)||0,(C||A||w)&&(Z=z.findSpellRange(t[c+"range"],X,W,a)||0)!==V&&(h[c+"range_numeric"]=Z),(I||w)&&(K=(parseInt(t["spellclass-"+k+"-SP-mod"],10)||0)+(parseInt(t[c+"SP_misc"],10)||0))!==(parseInt(t[c+"SP-mod"],10)||0)&&(h[c+"SP-mod"]=K)}catch(t){N.default.error("PFSpells.updateSpell:"+e,t)}finally{R.default.size(h)>0?L.setWrapper(h,j.default.silentParams,o):o()}})}function x(e,t,a){var n=function(){"function"==typeof a&&a()},r=L.getRepeatingIDStr(e),i="repeating_spells_"+r,l=i+"spell_level_r",o=i+"slot",s=i+"spell_level",c=i+"metamagic";getAttrs([o,s,c,l],function(r){var i,u,p,f,d=!1,m={};try{i=parseInt(r[o],10),u=parseInt(r[s],10),p=parseInt(r[c],10)||0,f=parseInt(r[l],10)||0,isNaN(u)&&(u=0,m[s]=0,m[o]=0),isNaN(i)&&(i=u,m[o]=u),p?i!==u&&(m[l]=i,m.spells_tab=i,d=!0):f!==u&&(m[l]=u,d=!0)}catch(e){N.default.error("PFSpells.toggleMetaMagic",e)}finally{R.default.size(m)?L.setWrapper(m,j.default.silentParams,function(){d?P(e,t,a):n()}):n()}})}function T(e,t,a){var n=R.default.once(function(){"function"==typeof e&&e()}),r=R.default.after(3,n);getAttrs(["use_spells","spellclass-0-exists","spellclass-1-exists","spellclass-2-exists"],function(e){parseInt(e.use_spells,10)?R.default.times(3,function(t){parseInt(e["spellclass-"+t+"-exists"],10)?S(t,null,function(){I(t,null,r)}):r()}):n()})}function O(e,t){t&&(e||(e=L.getRowId(t.sourceAttribute))),getAttrs(["repeating_spells_compendium_category","repeating_spells_spell_lvlstr","spellclass-0-name","spellclass-1-name","spellclass-2-name","repeating_spells_range_from_compendium","repeating_spells_target_from_compendium","repeating_spells_area_from_compendium","repeating_spells_effect_from_compendium","repeating_spells_description","repeating_spells_cast-time"],function(a){var n,r,i=a.repeating_spells_spell_lvlstr,l=a.repeating_spells_range_from_compendium,o=(a.repeating_spells_target_from_compendium||"")+(a.repeating_spells_area_from_compendium||"")+(a.repeating_spells_effect_from_compendium||""),s=[],c=[],u=["","",""],p="",f=0,d=-1,m=!1,_={},g=0,b={},y="",h=!1,v=!1,k=!1,w=99,A=99,C=-1,I=0;if(N.default.info("at pfspells.importFromCompendium",a),!/spell/i.test(a.repeating_spells_compendium_category))return _.repeating_spells_name="Cannot parse "+a.repeating_spells_compendium_category,void setAttrs(_,j.default.silentParams);if(i){try{if(i=i.toLowerCase(),a["spellclass-0-name"]&&(y=a["spellclass-0-name"].toLowerCase().replace(/^\s+/,"").match(/\w+/)[0],b[y]=0,u[0]=y,/hunter/.test(y)?(h=!0,A=0):/druid/.test(y)?v=!0:/ranger/.test(y)&&(k=!0)),a["spellclass-1-name"]&&(y=a["spellclass-1-name"].toLowerCase().replace(/^\s+/,"").match(/\w+/)[0],b[y]=1,u[1]=y,/hunter/.test(y)?(h=!0,A=1):/druid/.test(y)?v=!0:/ranger/.test(y)&&(k=!0)),a["spellclass-2-name"]&&(y=a["spellclass-2-name"].toLowerCase().replace(/^\s+/,"").match(/\w+/)[0],b[y]=2,u[2]=y,/hunter/.test(y)?(h=!0,A=2):/druid/.test(y)?v=!0:/ranger/.test(y)&&(k=!0)),(!h||!v&&!k)&&R.default.size(b)>0){for(R.default.each(b,function(e,t){R.default.each(X,function(a,n){t.indexOf(n)>=0&&(b[a]=e)})}),s=i.split(/\s*,\s*/),c=R.default.map(s,function(e){return e.split(/\s+/)}),g=0;g<c.length;g++)c[g][1]=parseInt(c[g][1],10)||0,0===g?C=c[g][1]:C!==c[g][1]&&0;if(h){for(g=0;g<c.length;g++)/druid|ranger/.test(c[g][0])&&c[g][1]<w&&(w=c[g][1],p=c[g][0]);w<99&&(I++,m=!0,f=w,d=A)}R.default.each(b,function(e,t){for(g=0;g<c.length;g++)c[g][0].indexOf(t)>=0&&(I++,m||(p=u[e],f=c[g][1],d=e,m=!0))})}}catch(e){N.default.error("PFSpells.importfromCompendium err2:",e),p="",m=0}try{m?_.repeating_spells_description=L.trimBoth(a.repeating_spells_description):(N.default.warn("importFromCompendium: did not find class match"),_.repeating_spells_description="Original spell level:"+a.repeating_spells_spell_lvlstr+" \r\n"+a.repeating_spells_description,r=R.default.map(c,function(e){return e[1]}),f=R.default.chain(r).countBy().pairs().max(R.default.last).head().value()||0,d=0,p=u[0])}catch(e){N.default.error("PFSpells.importFromCompendium err3",e)}finally{f=f||0,d=d||0,p=p||u[0]||"Sorceror",m=!0}a["repeating_spells_cast-time"]&&(_["repeating_spells_cast-time"]=a["repeating_spells_cast-time"].replace(/standard action/i,"S.A.")),_.repeating_spells_spell_level=f,_.repeating_spells_slot=f,_.repeating_spells_spell_level_r=f,_.repeating_spells_spellclass_number=d,_.repeating_spells_spell_class_r=d,_.repeating_spells_spellclass=p,_.spells_tab=f}if(l)try{n=z.parseSpellRangeText(l,o),_.repeating_spells_range_pick=n.dropdown,_.repeating_spells_range=n.rangetext,"touch"===n.dropdown?(!0,_["repeating_spells_spell-attack-type"]="attk-melee"):/ranged touch|ray\s/i.test(a.repeating_spells_description)&&(!0,_["repeating_spells_spell-attack-type"]="attk-ranged")}catch(e){N.default.error(e),_.repeating_spells_range=l.replace(/\s*\(..*/,""),_.repeating_spells_range_pick="unknownrange"}o&&(_.repeating_spells_targets=o),_.repeating_spells_spell_lvlstr="",_.repeating_spells_range_from_compendium="",_.repeating_spells_target_from_compendium="",_.repeating_spells_area_from_compendium="",_.repeating_spells_effect_from_compendium="",R.default.size(_)>0&&L.setWrapper(_,j.default.silentParams,function(){P(e,t)})})}function M(e){W.migrateSpellRanges(e)}function D(){getSectionIDs("repeating_spells",function(e){R.default.each(e,function(e){getAttrs(["include_link_spells"],function(t){var a=parseInt([t.include_link_spells])||0;setAttrs(d({},"repeating_spells_"+e+"_toggle_attack_entry",a))})})})}function E(e){getSectionIDs("repeating_spells",function(e){var t=e.reduce(function(e,t){return[].concat(o(e),["repeating_spells_".concat(t,"_spellclass_number")])},[]);getAttrs(["spellclass_number","spellclass-0-casting_type","spellclass-1-casting_type","spellclass-2-casting_type"].concat(o(t)),function(t){var a={},n=+t["spellclass-0-casting_type"],r=+t["spellclass-1-casting_type"],i=+t["spellclass-2-casting_type"];e.forEach(function(e){var l="",o=+t["repeating_spells_".concat(e,"_spellclass_number")];0===o&&(l=n),1===o&&(l=r),2===o&&(l=i),l=1===l?0:1,a["repeating_spells_".concat(e,"_toggle_casting_type")]=l}),setAttrs(a,{silent:!0})})})}function F(e){var t=e.sourceAttribute.split("_")[2]||"";getAttrs(["repeating_spells_spellclass_number","spellclass-0-casting_type","spellclass-1-casting_type","spellclass-2-casting_type"],function(e){var a={},n=+e["spellclass-0-casting_type"],r=+e["spellclass-1-casting_type"],i=+e["spellclass-2-casting_type"],l=+e.repeating_spells_spellclass_number,o="";0===l&&(o=n),1===l&&(o=r),2===l&&(o=i),o=1===o?0:1,a["repeating_spells_".concat(t,"_toggle_casting_type")]=o,setAttrs(a,{silent:!0})})}Object.defineProperty(t,"__esModule",{value:!0}),t.resetCommandMacro=g,t.resetSpellsTotals=h,t.createAttackEntryFromRow=k,t.updateAssociatedAttack=w,t.updateSpellsCasterLevelRelated=I,t.updateSpellsCasterAbilityRelated=S,t.updateSpells=T,t.importFromCompendium=O,t.migrate=M,t.setCasterTypeSpells=E,t.recalculate=t.classesUsingOtherSpellLists=t.spellLevels=void 0;var R=i(a(1)),N=n(a(0)),j=(a(3),n(a(4))),L=i(a(2)),z=i(a(5)),W=i(a(15)),B=(i(a(25)),i(a(116))),q=i(a(29)),H=i(a(17)),U=i(a(16)),G=n(a(197)),V=["0","1","2","3","4","5","6","7","8","9"],X={arcanist:"wizard",investigator:"alchemist",warpriest:"cleric",skald:"bard",bloodrager:"sorcerer"};t.classesUsingOtherSpellLists=X,t.spellLevels=V;var K=N.default.callback(function(e,t,a){var n=R.default.once(function(){"function"==typeof e&&e()}),r=R.default.once(function(){C(),h(null,null,null,t),g(),B.resetOptions(),n()});M(R.default.once(function(){getAttrs(["use_spells"],function(e){parseInt(e.use_spells,10)?T(r,t):n()})}))});t.recalculate=K;var $={repeatingSpellUpdatesPlayer:["DC_misc","Concentration_misc","range","range_pick","CL_misc","SP_misc","spellclass_number","spell_level"],repeatingSpellEventsPlayer:{"change:repeating_spells:compendium_category":[O],"change:repeating_spells:used":[b,A,g],"change:repeating_spells:metamagic":[x],"change:repeating_spells:name":[P]},repeatingSpellMenuUpdatePlayer:["name","spellclass_number","spell_level","slot","used","school","metamagic","isDomain","isMythic"],repeatingSpellAttackEventsPlayer:["range_pick","range","damage-macro-text","damage-type","save","spell-attack-type","name"],repeatingSpellAttackEventsAuto:["range_numeric","sr","savedc","toggle_attack_entry"]};!function(){var e="";e=R.default.reduce($.repeatingSpellUpdatesPlayer,function(e,t){return e+="change:repeating_spells:"+t+" "},""),(0,G.default)(e,N.default.callback(function(e){N.default.debug("caught "+e.sourceAttribute+" event"+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||P(null,e)})),(0,G.default)("change:use_metrics",N.default.callback(function(e){N.default.debug("caught "+e.sourceAttribute+" event"+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||getSectionIDs("repeating_spells",function(t){R.default.each(t,function(t){P(t,e,null,!0)})})})),R.default.each($.repeatingSpellEventsPlayer,function(e,t){R.default.each(e,function(e){(0,G.default)(t,N.default.callback(function(t){N.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),"player"!==t.sourceType&&"api"!==t.sourceType||e(null,t)}))})}),(0,G.default)("remove:repeating_spells",N.default.callback(function(e){N.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||(U.removeLinkedAttack(null,U.linkedAttackType.spell,L.getRowId(e.sourceAttribute)),g(),h())})),(0,G.default)("change:spellmenu_groupby_school change:spellmenu_show_uses change:spellclass-0-hide_unprepared change:spellclass-1-hide_unprepared change:spellclass-2-hide_unprepared change:spellclass-0-show_domain_spells change:spellclass-1-show_domain_spells change:spellclass-2-show_domain_spells",N.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(N.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),g())})),e=R.default.reduce($.repeatingSpellMenuUpdatePlayer,function(e,t){return e+="change:repeating_spells:"+t+" "},""),(0,G.default)(e,N.default.callback(function(e){N.default.debug("caught "+e.sourceAttribute+" event"+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||P(null,e)})),(0,G.default)("change:_reporder_repeating_spells",N.default.callback(function(e){"player"===e.sourceType&&(N.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),g())})),(0,G.default)("change:repeating_spells:spellclass_number change:repeating_spells:spell_level",N.default.callback(function(e){N.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||(h(),F(e))})),(0,G.default)("change:repeating_spells:create-attack-entry",N.default.callback(function(e){N.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||k(null,null,!1,e)})),e=R.default.reduce($.repeatingSpellAttackEventsPlayer,function(e,t){return e+="change:repeating_spells:"+t+" "},""),(0,G.default)(e,N.default.callback(function(e){N.default.debug("caught "+e.sourceAttribute+" event"+e.sourceType),L.getAttributeName(e.sourceAttribute),"player"!==e.sourceType&&"api"!==e.sourceType||w(null,null,null,e)})),e=R.default.reduce($.repeatingSpellAttackEventsAuto,function(e,t){return e+="change:repeating_spells:"+t+" "},""),(0,G.default)(e,N.default.callback(function(e){N.default.debug("caught "+e.sourceAttribute+" event"+e.sourceType),L.getAttributeName(e.sourceAttribute),"sheetworker"!==e.sourceType&&"api"!==e.sourceType||w(null,null,null,e)})),(0,G.default)("change:include_link_spells",function(e){N.default.debug("caught "+e.sourceAttribute+" event"+e.sourceType),"sheetworker"!==e.sourceType&&"player"!==e.sourceType||D()}),(0,G.default)("change:spellclass-0-casting_type change:spellclass-1-casting_type change:spellclass-2-casting_type",function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(N.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),E(e))})}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a,n,r;if(e>=30)return 4*o(e-10,t);switch(e){case 0:a=0,n=0,r=0;break;case 1:a=3,n=6,r=10;break;case 2:a=6,n=13,r=20;break;case 3:a=10,n=20,r=30;break;case 4:a=13,n=26,r=40;break;case 5:a=16,n=33,r=50;break;case 6:a=20,n=40,r=60;break;case 7:a=23,n=46,r=70;break;case 8:a=26,n=53,r=80;break;case 9:a=30,n=60,r=90;break;case 10:a=33,n=66,r=100;break;case 11:a=38,n=76,r=115;break;case 12:a=43,n=86,r=130;break;case 13:a=50,n=100,r=150;break;case 14:a=58,n=116,r=175;break;case 15:a=66,n=133,r=200;break;case 16:a=76,n=153,r=230;break;case 17:a=86,n=173,r=260;break;case 18:a=100,n=200,r=300;break;case 19:a=116,n=233,r=350;break;case 20:a=133,n=266,r=400;break;case 21:a=153,n=306,r=460;break;case 22:a=173,n=346,r=520;break;case 23:a=200,n=400,r=600;break;case 24:a=233,n=466,r=700;break;case 25:a=266,n=533,r=800;break;case 26:a=306,n=613,r=920;break;case 27:a=346,n=693,r=1040;break;case 28:a=400,n=800,r=1200;break;case 29:a=466,n=933,r=1400;break;default:return 0}switch(t){case b.Light:return a;case b.Medium:return n;case b.Heavy:return r}return 0}function s(e,t){var a=function(){"function"==typeof e&&e()};getAttrs(["use_metrics","load-light","load-medium","load-heavy","load-max","current-load","carried-total","max-dex-source"],function(e){var n=0,r=0,i=0,l=0,o=0,s=0,c=0,u=0,p=0,g={},y={};try{parseInt(e.use_metrics,10);parseInt(e.use_metrics)>0&&.454,c=parseInt(e["max-dex-source"],10)||0,u=1===c||3===c?1:0,n=parseInt(e["current-load"],10)||0,u?p=b.Light:(r=parseFloat(e["carried-total"])||0,i=parseFloat(e["load-light"])||0,l=parseFloat(e["load-medium"])||0,o=parseFloat(e["load-heavy"])||0,s=2*o,r<=i?p=b.Light:r<=l?p=b.Medium:r<=o?p=b.Heavy:r<=s?p=b.Overloaded:r>s&&(p=b.OverDouble)),n!==p&&(g["current-load"]=p)}catch(e){d.default.error("PFEncumbrance.updateCurrentLoad",e)}finally{f.default.size(g)>0?(t&&(y=_.default.silentParams),m.setWrapper(g,y,a)):a()}})}function c(e,t){var a=f.default.once(function(){"function"==typeof e&&e()});getAttrs(["STR","size","size-multiplier","legs","load-light","load-medium","load-heavy","load-max","lift-above-head","lift-off-ground","lift-drag-and-push","load-str-bonus","load-multiplier","total-load-multiplier","load-misc","use_metrics"],function(e){var n=10,r=1,i=1,l=1,s=1,c=2,u=0,p=0,g=0,y=0,h=0,v=0,k=0,w=0,A=1,C=1,I=0,S=0,P=0,x=0,T=0,O=0,M=0,D={},E={};try{n=parseInt(e.STR,10)||0,r=parseInt(e.size,10)||0,i=parseInt(e["size-multiplier"],10)||0,l=i,s=parseInt(e["total-load-multiplier"],10)||0,c=parseInt(e.legs,10)||0,4!==c&&(c=2),u=parseInt(e["load-light"],10)||0,p=parseInt(e["load-medium"],10)||0,g=parseInt(e["load-heavy"],10)||0,y=parseInt(e["load-max"],10)||0,h=parseInt(e["lift-above-head"],10)||0,v=parseInt(e["lift-off-ground"],10)||0,k=parseInt(e["lift-drag-and-push"],10)||0,w=parseInt(e["load-str-bonus"],10)||0,A=parseInt(e["load-multiplier"],10)||0,C=1,I=parseInt(e["load-misc"],10)||0,S=o(n+w,b.Light)+I,P=o(n+w,b.Medium)+I,x=o(n+w,b.Heavy)+I;var F=parseInt(e.use_metrics,10)||0;if(parseInt(e.use_metrics)>0&&(F=.454,S=o(n+w,b.Light),P=o(n+w,b.Medium),x=o(n+w,b.Heavy),S*=F,P*=F,x*=F,S=Math.round(100*S)/100,P=Math.round(100*P)/100,x=Math.round(100*x)/100,S+=I,P+=I,x+=I),A<1&&(A=1),A--,4!==c)switch(r){case-8:i=16;break;case-4:i=8;break;case-2:i=4;break;case-1:i=2;break;case 1:i=.75;break;case 2:i=.5;break;case 4:i=.25;break;case 8:i=1/8;break;default:i=1}else if(4===c)switch(r){case-8:i=24;break;case-4:i=12;break;case-2:i=6;break;case-1:i=3;break;case 0:i=1.5;break;case 1:i=1;break;case 2:i=.75;break;case 4:i=.5;break;case 8:i=.25;break;default:i=1.5}C+=A,C*=i,S*=C,P*=C,x*=C,T=x,O=2*x,M=5*x,l!==i&&(D["size-multiplier"]=i),s!==C&&(D["total-load-multiplier"]=C),u!==S&&(D["load-light"]=S),p!==P&&(D["load-medium"]=P),g!==x&&(D["load-heavy"]=x),y!==2*x&&(D["load-max"]=2*x),h!==T&&(D["lift-above-head"]=T),v!==O&&(D["lift-off-ground"]=O),k!==M&&(D["lift-drag-and-push"]=M)}catch(e){d.default.error("updateLoadsAndLift",e)}finally{f.default.size(D)>0?(t&&(E=_.default.silentParams),m.setWrapper(D,E,a)):a()}})}function u(e){var t=["current-load","speed-base","speed-modified","speed-run","is_dwarf","max-dex-source","run-mult","buff_speed-total","condition-Slowed","run_cond_applied","condition-Entangled","condition-Fatigued","condition-Exhausted","use_metrics"];f.default.each(g.defenseArmorShieldRows,function(e){t.push(e+"-equipped"),t.push(e+"-type")}),getAttrs(t,function(t){var a=parseInt(t.use_metrics,10)||0,n=parseInt(t["current-load"],10)||0,r=parseInt(t["buff_speed-total"],10)||0,i=parseInt(t["speed-base"],10)||0,l=parseInt(t["max-dex-source"],10)||0,o=isNaN(parseInt(t["run-mult"],10))?4:parseInt(t["run-mult"],10),s=0,c=0,u=i,p=o,g=i*p,y=0,h=!1,v=0,k=0,w={};try{a>0?(i=parseFloat(t["speed-base"])||0,r=parseFloat(t["buff_speed-total"])||0,u=i,g=i*p):(i=parseInt(t["speed-base"],10)||0,r=parseInt(t["buff_speed-total"],10)||0,u=i,g=i*p),i+=r,2===parseInt(t["condition-Entangled"],10)&&(s=1,i/=2,c=1),3===parseInt(t["condition-Exhausted"],10)&&(s=1,i/=2,c=1),u=i,1===parseInt(t["condition-Fatigued"],10)&&(c=1),r<0&&(s=1),3!==l&&(v=parseInt(t["armor3-equipped"],10)||0,h=parseInt(t.is_dwarf,10)||0,!v||0!==l&&1!==l||("Heavy"===t["armor3-type"]?k=2:"Medium"===t["armor3-type"]&&(k=1)),y=Math.max(k,n),y===b.OverDouble?(u=0,g=0,c=1):!h&&y>b.Light&&(a>0?y===b.Overloaded?(u=.75,g=0,c=1):y!==b.Heavy&&y!==b.Medium||(u=i<3?1.5:i>=3&&i<6.5?3:i>=6.5&&i<7.5?4.5:1.5*Math.ceil(Math.ceil(i/3*2)/1.5),y===b.Heavy&&p--):y===b.Overloaded?(u=2.5,g=0,c=1):y!==b.Heavy&&y!==b.Medium||(u=i<=5?5:i%15==0?2*i/3:(i+5)%15==0?2*(i+5)/3:2*(i+10)/3-5,y===b.Heavy&&p--))),c&&(p=0),s&&(u=Math.floor(1e3*u)/1e3),g=u*p,u!==(parseInt(t["speed-modified"],10)||0)&&(w["speed-modified"]=u),g!==(parseInt(t["speed-run"],10)||0)&&(w["speed-run"]=g),s!==(parseInt(t["condition-Slowed"],10)||0)&&(w["condition-Slowed"]=s),o>p&&(c=1),c!==(parseInt(t.run_cond_applied,10)||0)&&(w.run_cond_applied=c)}catch(e){d.default.error("PFEncumbrance.updateModifiedSpeed",e)}finally{f.default.size(w)>0?m.setWrapper(w,_.default.silentParams,e):"function"==typeof e&&e()}})}function p(e){var t=function(){"function"==typeof e&&e()};getAttrs(["max-dex-source"],function(e){var a=parseInt(e["max-dex-source"],10);isNaN(a)?m.setWrapper({"max-dex-source":0},_.default.silentParams,t):t()})}Object.defineProperty(t,"__esModule",{value:!0}),t.updateLoadsAndLift=c,t.updateModifiedSpeed=u,t.migrate=p,t.recalculate=void 0;var f=l(a(1)),d=l(a(0)),m=i(a(2)),_=l(a(4)),g=i(a(30)),b={Light:0,Medium:1,Heavy:2,Overloaded:3,OverDouble:4},y=d.default.callback(function(e,t,a){var n=f.default.once(function(){d.default.info("leaving PFEncumbrance.recalculate"),"function"==typeof e&&e()}),r=f.default.once(function(){u(n)}),i=f.default.once(function(){s(r)}),l=f.default.once(function(){c(i,t)});try{p(l)}catch(e){d.default.error("PFEncumbrance.recalculate",e),n()}});t.recalculate=y,function(){on("change:speed-base change:race change:armor3-equipped change:max-dex-source change:run-mult",d.default.callback(function(e){d.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||u()})),on("change:is_dwarf change:current-load change:armor3-equipped change:armor3-type",d.default.callback(function(e){d.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"sheetworker"!==e.sourceType&&"api"!==e.sourceType||u()})),on("change:load-light change:carried-total",d.default.callback(function(e){d.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"sheetworker"!==e.sourceType&&"api"!==e.sourceType||s()})),on("change:size-multiplier change:legs change:load-str-bonus change:load-multiplier change:load-misc",d.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(d.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),c())})),on("change:use_metrics",d.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(d.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),c(),s(),u())})),on("change:STR change:size",d.default.callback(function(e){d.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"sheetworker"!==e.sourceType&&"api"!==e.sourceType||c()}))}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a,n,r){var i=0;e<=t&&(i=e>a?1:e>n?2:3),i!==r&&A.setWrapper({"condition-Wounds":i})}function s(e){getAttrs(["HP","HP_grazed","HP_wounded","HP_critical","condition-Wounds","wound_threshold-show"],function(t){parseInt(t["wound_threshold-show"],10)&&(isNaN(parseInt(e,10))&&(e=parseInt(t.HP,10)||0),o(e,parseInt(t.HP_grazed,10)||0,parseInt(t.HP_wounded,10)||0,parseInt(t.HP_critical,10)||0,parseInt(t["condition-Wounds"],10)||0))})}function c(e,t,a,n,r){var i={},l=0,s=0,c=0,u=0;try{l=Math.floor(.75*t),s=Math.floor(.5*t),c=Math.floor(.25*t),u=-1*(n>0?n:0),(parseInt(r.HP_grazed,10)||0)!==l&&(i.HP_grazed=l),(parseInt(r.HP_wounded,10)||0)!==s&&(i.HP_wounded=s),(parseInt(r.HP_critical,10)||0)!==c&&(i.HP_critical=c),(parseInt(r.HP_disabled,10)||0)!==u&&(i.HP_disabled=u)}catch(e){h.default.error("PFHealth.setWoundThresholds",e)}finally{y.default.size(i)>0?A.setWrapper(i,v.default.silentParams,function(){o(e,l,s,c,a)}):o(e,l,s,c,a)}}function u(){getAttrs(["HP","HP_max","wound_threshold-show","condition-Wounds","HP-ability-mod","HP_grazed","HP_wounded","HP_critical","HP_disabled"],function(e){1===parseInt(e["wound_threshold-show"],10)?c(parseInt(e.HP,10)||0,parseInt(e.HP_max,10)||0,parseInt(e["condition-Wounds"],10)||0,parseInt(e["HP-ability-mod"],10)||0,e):0!==(parseInt(e["condition-Wounds"],10)||0)&&A.setWrapper({"condition-Wounds":"0"})})}function p(e,t,a,n,r,i,l){"0"!==r&&(a>=e+t+(n?1+i:0)?A.setWrapper({"condition-Staggered":"1"},v.default.silentParams):l&&A.setWrapper({"condition-Staggered":"0"},v.default.silentParams)),n&&s(e)}function f(){getAttrs(["HP","HP-temp","non-lethal-damage","wound_threshold-show","HP-ability","HP-ability-mod","condition-Staggered"],function(e){p(parseInt(e.HP,10)||0,parseInt(e["HP-temp"],10)||0,parseInt(e["non-lethal-damage"],10)||0,parseInt(e["wound_threshold-show"],10)||0,e["HP-ability"],parseInt(e["HP-ability-mod"],10)||0,parseInt(e["condition-Staggered"],10)||0),e.HP&&A.setWrapper({HP:parseInt(e.HP,10)||0})})}function d(e,t,a,n){var r=y.default.once(function(){"function"==typeof e&&e()});getAttrs(["HP","HP_max","HP-ability","HP-ability-mod","level","total-hp","total-mythic-hp","condition-Drained","HP-formula-mod","HP-temp","mythic-adventures-show","wound_threshold-show","condition-Wounds","non-lethal-damage","non-lethal-damage_max","condition-Staggered","hp_ability_bonus","HP_grazed","HP_wounded","HP_critical","HP_disabled","increase_hp"],function(e){var t=0,a=0,i=0,l=0,o=0,s=0,u=0,f=0,d=0,m=0,_=0,g=0,b={};try{u=parseInt(e.increase_hp,10)||0,t=parseInt(e["HP-ability-mod"],10)||0,a=t*(parseInt(e.level,10)||0),i=parseInt(e.HP_max,10)||0,l=parseInt(e.HP,10)||0,o=parseInt(e["HP-temp"],10)||0,g=parseInt(e["wound_threshold-show"],10)||0,s=l,f=parseInt(e["non-lethal-damage"],10)||0,m=parseInt(e["mythic-adventures-show"],10)||0,d=a+(parseInt(e["total-hp"],10)||0)+(parseInt(e["HP-formula-mod"],10)||0)+5*(parseInt(e["condition-Drained"],10)||0)+(m?parseInt(e["total-mythic-hp"],10)||0:0),g&&(_=parseInt(e["condition-Wounds"],10)||0),n?(s=d,0!==f&&(b["non-lethal-damage"]=0,b["condition-Staggered"]=0),g&&(b["condition-Wounds"]=0)):s=l+d-i,a!==parseInt(e.hp_ability_bonus,10)&&(b.hp_ability_bonus=a),u&&s!==l?b.HP=s:u||(s=l),i!==d&&(b.HP_max=d),d!==parseInt(e["non-lethal-damage_max"],10)&&(b["non-lethal-damage_max"]=d)}catch(e){h.default.error("PFHealth.updateMaxHPLookup",e)}finally{y.default.size(b)>0?A.setWrapper(b,v.default.silentParams,function(){u&&!n&&i!==d&&(p(s,o,f,0,e["HP-ability"],t,e["condition-Staggered"]),g&&c(s+o,d,_,t,e)),r()}):r()}})}function m(e,t,a,n){var r=y.default.once(function(){"function"==typeof e&&e()});getAttrs(["HP-temp","HP-temp_max","HP-temp-misc","buff_HP-temp-total"],function(e){var i,l,o,s=0,c=0,u={};try{n&&"buff_hp-temp-total"===n.sourceAttribute?(parseInt(n.previousValue,10)||0)!==(parseInt(n.newValue,10)||0)&&(s=(parseInt(n.newValue,10)||0)-(parseInt(n.previousValue,10)||0)):n&&"hp-temp-misc"===n.sourceAttribute&&(parseInt(n.previousValue,10)||0)!==(parseInt(n.newValue,10)||0)&&(c=(parseInt(n.newValue,10)||0)-(parseInt(n.previousValue,10)||0)),i=(parseInt(e["HP-temp-misc"],10)||0)+(parseInt(e["buff_HP-temp-total"],10)||0),l=parseInt(e["HP-temp"],10)||0,o=a?i:l+s+c,i=Math.max(i,0),o=Math.max(o,0),o=Math.min(o,i),a||o!==l?(t&&(u=v.default.silentParams),A.setWrapper({"HP-temp":o,"HP-temp_max":i},u,function(){f(),r()})):r()}catch(e){h.default.error("updateTempMaxHP",e),r()}})}function _(e,t){var a=y.default.once(function(){"function"==typeof e&&e()});A.setWrapper({use_prestige_fame:1,auto_calc_hp:1,autohp_percent:1,maxhp_lvl1:1},v.default.silentParams,function(){t&&w.setHitPoints(a,!1,t)})}function g(e){getAttrs(["npc-hd","npc-hd-num","NPC-HP","is_npc"],function(e){var t=parseInt(e["npc-hd"],10)||0,a=parseInt(e["npc-hd-num"],10)||0,n=parseInt(e["NPC-HP"],10)||0;parseInt(e.is_npc,10)||0?A.setWrapper({"npc-hd-num2":0,"npc-hd2":0,"HP-misc":"","HP-misc-mod":0}):t||a||!n||A.setWrapper({"npc-hd-num":"","NPC-HP":0})})}function b(e,t){var a=y.default.once(function(){"function"==typeof e&&e()});k.migrateHPMisc(a),t<1.18&&g()}Object.defineProperty(t,"__esModule",{value:!0}),t.setWoundThreshholdsLookup=u,t.updateCurrHPLookup=f,t.updateMaxHPLookup=d,t.updateTempMaxHP=m,t.setToPFS=_,t.ensureNPCHPZero=g,t.migrate=b,t.recalculate=void 0;var y=l(a(1)),h=(a(3),l(a(0))),v=l(a(4)),k=i(a(15)),w=i(a(119)),A=i(a(2)),C=h.default.callback(function(e,t,a){var n=y.default.once(function(){h.default.info("leaving PFHealth.recalculate"),"function"==typeof e&&e()}),r=y.default.once(function(){u(),n()}),i=y.default.once(function(){d(r,t)});b(y.default.once(function(){m(i)}),a)});t.recalculate=C,function(){on("change:set_pfs",h.default.callback(function(e){h.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||getAttrs(["set_pfs"],function(t){parseInt(t.set_pfs,10)&&_(null,e)})})),on("change:hp-ability-mod change:level change:total-hp change:total-mythic-hp change:hp-formula-mod ",h.default.callback(function(e){h.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"sheetworker"!==e.sourceType&&"api"!==e.sourceType||d()})),on("change:mythic-adventures-show",h.default.callback(function(e){h.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||getAttrs(["total-mythic-hp"],function(e){(parseInt(e["total-mythic-hp"],10)||0)>0&&d()})})),on("change:hp-temp-misc",h.default.callback(function(e){h.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||m(null,null,!1,e)})),on("change:hp_reset",h.default.callback(function(e){h.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||(d(null,null,e,!0),m(null,null,!0,e),A.setWrapper({HP_reset:"0"},v.default.silentParams))})),on("change:HP change:non-lethal-damage",h.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(h.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),f(e))})),on("change:wound_threshold-show",h.default.callback(function(e){h.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||u(e)}))}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(){getAttrs(["expandall"],function(e){parseInt(e.expandall,10)&&(b.setWrapper({expandall:"0",pagetab:"99",buffs_tab:"99",abilities_tab:"99","npc-abilities_tab":"99",skills_tab:"99",spellclass_tab:"99",spells_tab:"99",npc_spellclass_tab:"99",equipment_tab:"99","conditions-show":1,"buffstop-show":1,"command-buttons-show":1,"NPC-command-buttons-show":1,"character-details-show":1,"ability-scores-show":1,"class-info-show":1,class1_show:1,class2_show:1,class3_show:1,"health-and-wounds-show":1,"initiative-show":1,"macro-text-show":1,"notes-show":1,"saves-show":1,"all-saves-macro-show":1,"save-notes-show":1,"defense-values-show":1,"armor-shield-show":1,"sanity-show":1,"defense-notes-show":1,"attack-bonuses-show":1,atkm2_show:1,ranged_2_show:1,cmb_2_show:1,"attack-notes-show":1,"attack-options-show":1,"two-weapon-show":1,"attacks-show":1,"skill-ranks-show":1,"skill_options-show":1,"skills-show":1,"artistry-show":1,"craft-show":1,"knowledge-show":1,"lore-show":1,"perform-show":1,"profession-show":1,"misc-show":1,"skill-notes-show":1,"ability-command-buttons-show":1,"NPC-ability-command-buttons-show":1,"feats-show":1,"mythic-info-show":1,"psionic-info-show":1,"burn-show":1,"abilities-show":1,"spellclasses-show":1,"spellclass-0-show":1,"spellclass-0-spellpoints-show":1,"spellclass-0-spells-notes-show":1,"spellclass-0-perday-show":1,"spellclass-0-domains-show":1,domain02_show:1,domain03_show:1,"spellclass-1-show":1,"spellclass-1-spellpoints-show":1,"spellclass-1-spells-notes-show":1,"spellclass-1-perday-show":1,"spellclass-1-domains-show":1,"spellclass-2-show":1,"spellclass-2-spellpoints-show":1,"spellclass-2-spells-notes-show":1,"spellclass-2-perday-show":1,"spellclass-2-domains-show":1,"spelloptions-show":1,"spell-lists-show":1,"currency-show":1,"carried-weight-show":1,"loads-show":1,"worn-items-show":1,"other-items-show":1,"equipment-show":1,"npc-compimport-show":1,"npc-details-show":1,"npc-defense-show":1,"npc-offense-show":1,"npc-speed-show":1,"npc-repeating-weapons-show":1,"npc-spells-show":1,"npc-spell-like-abilities-show":1,"npc-tactics-show":1,"npc-statistics-show":1,"npc-feats-show":1,"npc-mythic-feats-show":1,"npc-skills-show":1,"npc-ecology-show":1,"npc-special-abilities-show":1,"custom-attr-sect-a-show":1,"custom-attr-sect-c-show":1,"custom-attr-sect-b-show":1,"custom-attr-sect-d-show":1,"custom-attr-sect-n-show":1,"header-image-show":1,"sheet-import-show":1,"roll-template-info-show":1,"macros-show":1,"migrations-show":1,"cleanup-show":1,"san-show":1,"buff-min-show":0,"buff-expand-show":0,"buff-column-show":0,"weapon-min-show":0,"weapon-expand-show":0,"weapon-column-show":0,"abilities-min-show":0,"abilities-expand-show":0,"abilities-column-show":0,"class-ability-min-show":0,"class-ability-expand-show":0,"class-ability-column-show":0,"feat-min-show":0,"feat-expand-show":0,"feat-column-show":0,"mythic-feats-min-show":0,"mythic-feats-expand-show":0,"mythic-feats-column-show":0,"racial-trait-min-show":0,"racial-trait-expand-show":0,"racial-trait-column-show":0,"traits-min-show":0,"traits-expand-show":0,"traits-column-show":0,"npc-spell-like-abilities-min-show":0,"npc-spell-like-abilities-expand-show":0,"npc-spell-like-abilities-column-show":0,"mythic-min-show":0,"mythic-expand-show":0,"mythic-column-show":0,"newspells-min-show":0,"newspells-expand-show":0,"newspells-column-show":0,"item-min-show":0,"item-expand-show":0,"item-column-show":0,"npcweapon-min-show":0,"npcweapon-expand-show":0,"npcweapon-column-show":0,"npcnewspells-min-show":0,"npcnewspells-expand-show":0,"npcnewspells-column-show":0,"npcfeat-min-show":0,"npcfeat-expand-show":0,"npcfeat-column-show":0,"npcmythic-feats-min-show":0,"npcmythic-feats-expand-show":0,"npcmythic-feats-column-show":0,"npc-abilities-min-show":0,"npc-abilities-expand-show":0,"npc-abilities-column-show":0,"npc-special-abilities-min-show":0,"npc-special-abilities-expand-show":0,"npc-special-abilities-column-show":0,extra_fields_san_show:1,extra_fields_attacks_show:1,skill_onetimecolumns_show:1,extra_fields_saves_show:1,extra_fields_spells_show:1,extra_fields_caster_show:1,extra_fields_abilities_show:1,extra_fields_init_show:1,extra_fields_speeds_show:1,extra_fields_defense_show:1,extra_fields_conditions_show:1}),_.default.each(y.default.repeatingSections,function(e){var t="repeating_"+e;getSectionIDs(t,function(a){var n=_.default.reduce(a,function(a,n){var r=t+"_"+n+"_";switch(e){case"weapon":a[r+"misc-show"]=1,a[r+"add-damage-show"]=1,a[r+"iterative-attacks-show"]=1,a[r+"advmacro-text-show"]=1;break;case"buff":case"buff2":a[r+"options-show"]=1,a[r+"description-show"]=1;break;case"spells":a[r+"misc-show"]=1,a[r+"attack-show"]=1,a[r+"description-show"]=1;break;case"class-ability":case"feat":case"racial-trait":case"trait":case"mythic-ability":case"mythic-feat":a[r+"description-show"]=1;break;case"item":a[r+"description-show"]=1,a[r+"armor-attributes-show"]=1,a[r+"weapon-attributes-show"]=1;break;case"npc-spell-like-abilities":a[r+"attack-show"]=1;break;case"ability":a[r+"options-show"]=1,a[r+"description-show"]=1,a[r+"misc-show"]=1,a[r+"showextrafields"]=1,a[r+"range-show"]=1,a[r+"attack-show"]=1}return a[r+"row-show"]=1,a[r+"ids-show"]=1,"buff"!==e&&"buff2"!==e&&(a[r+"macro-text-show"]=1),a},{});b.setWrapper(n,{silent:!0})})}))})}function s(e){var t=_.default.once(function(){var t={is_newsheet:0,is_v1:1,use_buff_bonuses:1,use_advanced_options:0,modify_dmg_by_size:1,PFSheet_Version:String(y.default.version.toFixed(2))};t[y.default.announcementVersionAttr]=1,b.setWrapper(t,y.default.silentParams,function(){"function"==typeof e&&e()})});getAttrs(["is_npc","set_pfs"],function(e){var a=parseInt(e.is_npc,10)||0,n=parseInt(e.set_pfs,10)||0;v.setAllMigrateFlags(function(){C.migrate(),h.migrate(),a?E.setToNPC(t):n?O.setToPFS(t):t()})})}function c(e,t,a){var n,r=_.default.once(function(){g.default.debug("leaving PFSheet.migrate"),"function"==typeof t&&t()}),i=_.default.once(function(){g.default.warn("leaving PFSheet.migrate ERROR UPGRADE NOT FINISHED"),"function"==typeof a?a():r()});try{e<1?(n=_.default.after(7,function(){g.default.info("PFSheet.migrate we finished calling all the migrates"),r()}),v.migrateConfigFlags(g.default.callback(function(){S.migrate(n,e),C.migrate(n,e),O.migrate(n,e),N.migrate(n,e),D.migrate(n,e),j.migrate(n,e),L.migrate(n,e)}),e)):e<1.17?(e<1.02&&(D.migrate(null,e),j.migrate(null,e)),e<1.05&&R.resetOptions(),e<1.07&&S.migrate(null,e),e<1.1&&(v.migrateAbilityListFlags(),j.migrate(null,e)),e<1.12&&D.migrate(null,e),e<1.17&&S.migrate(function(){S.resetCommandMacro()})):(e<1.18&&(A.recalculate(null,!1,e),O.recalculate(null,!1,e),v.migrateSpellPointFlag(null,e)),e<1.2&&O.recalculate(),e<1.4&&(v.migrateWhisperDropdowns(),S.resetCommandMacro(),F.resetCommandMacro(),D.resetCommandMacro(),j.resetCommandMacro(),N.recalculate(),q.setHitPoints()),e<1.43&&(L.recalculate(),C.resetCommandMacro()),e<1.5&&(L.resetSpellsTotals(null,null,null,!0),S.updateRepeatingItems(),N.migrateLinkedAttacks(null,e)),e<1.53&&(C.migrate(null,e),w.recalculate(function(){I.migrate()})),e<1.54&&x.recalculate(),e<1.55&&(N.recalculate(),C.migrate()),e<1.56&&N.updateRepeatingWeaponDamages(),e<1.57&&k.updateDefenses(),e<=1.65&&h.migrate(function(){x.migrate(function(){H.migrate(function(){x.recalculate(function(){h.recalculate(function(){C.migrate(function(){C.recalculateSkills()},e),D.setRuleTabs(),S.updateLocations(),F.recalculate(function(){N.adjustAllDamageDiceAsync(),N.updateDualWieldAttacks(),N.recalculateRepeatingWeapons()}),S.migrate()})})},e)},e)},e),e<1.68&&h.migrate(function(){C.recalculate(null,null,e),k.recalculate(null,null,e),F.recalculate(null,null,e)}),e<1.69&&(z.recalculate(null,null,e),j.recalculate(null,null,e),N.recalculate(null,null,e),D.recalculate(null,null,e),S.recalculate(null,null,e),x.recalculate(null,null,e),k.recalculate(null,null,e)),e<1.693&&h.fixProfessionDropdowns(C.recalculate),e<1.697&&N.recalculate(null,null,e),e<1.72&&(w.recalculate(e,function(){N.adjustAllDamageDiceAsync(null,null)}),L.resetSpellsTotals()),e<1.724&&C.migrate(null,e),e<1.731&&V.checkScrollDesc(),e<1.732&&V.checkBaseAttacks(),e<1.787&&D.updateIncludeLinkVersionCheck(),e<1.822&&L.setCasterTypeSpells(),e<1.826&&V.checkAbilityType2())}catch(e){g.default.error("PFSheet.migrate",e),i()}finally{r()}}function u(e,t,a){var n=_.default.once(function(){g.default.info("leaving PFSheet.recalculateParallelModules"),"function"==typeof e&&e()}),r=[z.recalculate,T.recalculate,j.recalculate,W.recalculate,C.recalculate,D.recalculate,A.recalculate,N.recalculate,U.recalculate,G.recalculate],i=_.default.size(r),l=_.default.after(i,n),o=0,s=0,c=function(){o++,g.default.info("PFSheet.recalculateParallelModules, finished "+o+" modules"),l()};try{_.default.each(r,function(e){try{s++,e(c,t,a)}catch(e){g.default.error("PFSheet.recalculateParallelModules error calling recalculate",e),c()}})}catch(e){g.default.error("PFSheet.recalculateParallelModules OUTER error!",e),n()}}function p(e,t,a){var n=_.default.once(function(){"function"==typeof e&&e()}),r=function(){I.recalculate(n,t,a)},i=_.default.after(2,r);try{S.recalculate(i,t,a),k.recalculate(i,t,a)}catch(e){g.default.error("pfsheet.recalculateDefenseAndEncumbrance",e),r()}}function f(e,t,a){var n=_.default.once(function(){"function"==typeof e&&e()}),r=_.default.once(function(){w.recalculate(n,t,a)}),i=_.default.once(function(){O.recalculate(r,t,a)}),l=_.default.once(function(){E.recalculate(i,t,a)}),o=_.default.once(function(){B.recalculate(l,t,a)}),s=_.default.once(function(){h.recalculate(o,t,a)}),c=_.default.once(function(){M.applyConditions(s,t,a)}),u=_.default.once(function(){q.recalculate(c,t,a)}),p=_.default.once(function(){P.recalculate(u,t,a)}),f=_.default.once(function(){H.recalculate(p,t,a)}),d=_.default.once(function(){x.recalculate(f,t,a)});v.migrateConfigFlags(d,a)}function d(e,t,a){var n=function(){g.default.info("leaving PFSheet.recalculate"),"function"==typeof t&&t()},r=g.default.callback(function(){u(n,a,e)}),i=g.default.callback(function(){p(r,a,e)}),l=g.default.callback(function(){f(i,a,e)});a=!0,l()}function m(e){var t=function(){g.default.info("leaving PFSheet.checkForUpdate"),b.setWrapper({recalc1:0,migrate1:0,is_newsheet:0},y.default.silentParams)},a=_.default.once(function(){g.default.warn("leaving PFSheet.checkForUpdate ERROR UPGRADE NOT FINISHED DO NOT RESET VERSION"),b.setWrapper({recalc1:0,migrate1:0},{silent:!0})});getAttrs(["PFSheet_Version","migrate1","recalc1","is_newsheet","is_v1","hp","hp_max","npc-hd","npc-hd-num","race","class-0-name","npc-type","level","hide_announcements",y.default.announcementVersionAttr],function(n){var r={},i=!1,l=!1,o=!1,u=parseFloat(n.PFSheet_Version,10)||0,p=function(){b.setWrapper({recalc1:0,migrate1:0,is_newsheet:0,character_sheet:"Pathinder_Neceros v"+String(y.default.version),PFSheet_Version:String(y.default.version.toFixed(3))},y.default.silentParams,function(){u<1.17&&d(u,null,!1)})};g.default.notice("Attributes at version: "+u),e?o=!0:(parseInt(n.recalc1,10)&&(o=!0),parseInt(n.migrate1,10)&&(i=!0),(parseInt(n.is_newsheet,10)||0===u&&(parseInt(n.is_v1,10)||!(parseInt(n.hp,10)||parseInt(n.hp_max,10)||parseInt(n["npc-hd"],10)||parseInt(n["npc-hd-num"],10)||n.race||n["class-0-name"]||n["npc-type"]||parseInt(n.level,10))))&&(l=!0)),u!==y.default.version&&(i=!0),l||!parseInt(n.hide_announcements,10)||parseInt(n[y.default.announcementVersionAttr],10)||(r[y.default.announcementVersionAttr]=1,b.setWrapper(r,y.default.silentParams)),l?s(t):i?(g.default.notice("UPGRADE SHEET"),c(u,p,a)):o?(u=-1,d(u,t,!0)):t()})}Object.defineProperty(t,"__esModule",{value:!0}),t.recalculate=d,t.checkForUpdate=m;var _=l(a(1)),g=(a(3),l(a(0))),b=i(a(2)),y=l(a(4)),h=(i(a(5)),i(a(196))),v=i(a(15)),k=i(a(30)),w=i(a(31)),A=(i(a(19)),i(a(49))),C=i(a(21)),I=i(a(39)),S=i(a(66)),P=i(a(20)),x=i(a(65)),T=i(a(47)),O=i(a(40)),M=i(a(48)),D=i(a(46)),E=i(a(198)),F=i(a(17)),R=i(a(29)),N=i(a(16)),j=i(a(118)),L=i(a(38)),z=i(a(67)),W=i(a(199)),B=i(a(200)),q=i(a(119)),H=i(a(201)),U=i(a(202)),G=i(a(203)),V=i(a(25));!function(){on("sheet:opened",g.default.callback(function(){m()})),on("change:recalc1 change:migrate1",g.default.callback(function(e){g.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||m()})),on("change:expandall",function(e){g.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||o()}),on("change:repeating_weapon:source-item",g.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(g.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),getAttrs([e.sourceAttribute],function(t){var a=b.getRowId(e.sourceAttribute),n=t[e.sourceAttribute];n&&(n="repeating_item_"+n+"_create-attack-entry",S.createAttackEntryFromRow(n,null,!1,a))}))})),on("change:repeating_weapon:source-ability",g.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(g.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),getAttrs([e.sourceAttribute],function(t){var a=b.getRowId(e.sourceAttribute),n=t[e.sourceAttribute];n&&D.createAttackEntryFromRow(n,null,!1,null,a)}))})),on("change:repeating_weapon:source-spell",g.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(g.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),getAttrs([e.sourceAttribute],function(t){var a=b.getRowId(e.sourceAttribute),n=t[e.sourceAttribute];n&&L.createAttackEntryFromRow(n,null,!1,null,a)}))})),on("change:delete_rep_spells change:delete_rep_weapon change:delete_rep_item change:delete_rep_ability change:delete_rep_mythic-feat change:delete_rep_mythic-ability change:delete_rep_buff change:delete_rep_buff2 change:delete_rep_trait change:delete_rep_racial-trait change:delete_rep_feat change:delete_rep_class-ability change:delete_rep_npc-spell-like-abilities",g.default.callback(function(e){g.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||getAttrs([e.sourceAttribute],function(t){var a="";parseInt(t[e.sourceAttribute],10)&&(a=e.sourceAttribute.replace("delete_rep_",""),b.deleteRepeating(function(){var t;t={},t[e.sourceAttribute]=0,t[e.sourceAttribute+"_btn"]=0,b.setWrapper(t,{silent:!0}),/buff/i.test(e.sourceAttribute)&&x.clearBuffTotals()},a))})})),on("change:hide_announcements",function(){var e={};e[y.default.announcementVersionAttr]=1,setAttrs(e,y.default.silentParams)})}()},function(e,t,a){"use strict";function n(e){return e=Object(r.a)({},e),function(t){return Object(i.a)(t,e)}}t.a=n;var r=a(57),i=a(79)},function(e,t,a){"use strict";var n=a(10),r=a(94),i=a(11),l=Object(n.a)(function(e,t){var a=l.placeholder,n=function(){for(var i=0,l=t.length,o=Array(l),s=0;s<l;s++)o[s]=t[s]===a?arguments[i++]:t[s];for(;i<arguments.length;)o.push(arguments[i++]);return Object(r.a)(e,n,this,this,o)};return n});l.placeholder=i.a,t.a=l},function(e,t,a){"use strict";function n(e,t){return function(a,n,l){var o=t?[[],[]]:{};return n=Object(r.a)(n,l),Object(i.a)(a,function(t,r){var i=n(t,r,a);e(o,t,i)}),o}}t.a=n;var r=a(9),i=a(24)},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){var n=function(e,a){"function"==typeof t&&t(e,a)},r="name",i="",l="",o="",s="",c="",f="roll",m="",_="&{template:REPLACETEMPLATE} @{toggle_attack_accessible} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{REPLACEHEADER}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle=REPLACESUBTITLE}} {{name=REPLACENPC^{REPLACENAME}}}",g=" {{description=^{none-available} }}";if(!e||!e.section||!e.linkField)return p.default.error("PFMenus.getRepeatingCommandMacro cannot process",e),void n("");try{a=a||"",_=_.replace("REPLACETEMPLATE",e.template||"pf_block"),_=_.replace("REPLACEHEADER",e.header||"header_image-pf_block"),_=_.replace("REPLACENAME",e.name||"ability-menus"),_=_.replace("REPLACESUBTITLE",""),_=_.replace(/REPLACENPC/g,e.npcName||""),_+=a,r=e.nameField||r,i=e.bonusField||i,l=e.usesField||l,f=e.linkField||f,s=e.groupBy||s,m=e.filterField||m,o=e.altUsesField||o,c=e.altGroupBy||""}catch(t){return p.default.error("PFMenus.getRepeatingCommandMacro outererror for "+e.section,t),void n("")}getSectionIDs("repeating_"+e.section,function(t){var a=[],b="repeating_"+e.section+"_";try{if(!t||u.default.size(t)<=0)return void n(_+g);u.default.each(t,function(t){var n=b+t+"_";a.push(n+r),e.useshowinmenu&&a.push(n+"showinmenu"),c&&a.push(n+c),i&&a.push(n+i),l&&(a.push(n+l),a.push(n+l+"_max")),m&&a.push(n+m),s&&a.push(n+s),o&&a.push(n+o)})}catch(t){return p.default.error("PFMenus.getRepeatingCommandMacro outerError2. While assembling all attrs in rows for "+e.section,t),void n("")}a.push("_reporder_repeating_"+e.section),e.origMacroAttr&&a.push(e.origMacroAttr),getAttrs(a,function(a){var r,y,h="",v="",k=20,w="";try{e.origMacroAttr&&(w=a[e.origMacroAttr]||""),a["_reporder_repeating_"+e.section]?(y=a["_reporder_repeating_"+e.section].split(","),y=u.default.map(y,function(e){return e.toLowerCase()}),r=u.default.intersection(u.default.union(y,t),t),1):r=t,h=u.default.chain(r).map(function(t){var n=b+t+"_",r="",u="",_="",g="",y="",h=0,v={id:t,name:a[n+"name"]||t,showinmenu:1};try{if(l&&(_=a[n+l]||"",g=a[n+l+"_max"]||""),c&&a[n+c])v.group=a[n+c],v.doNotTranslate=!0;else if(s&&a[n+s])if(e.groupMap)e.groupMap[a[n+s]]?v.group=e.groupMap[a[n+s]]:v.group="AAAAAA";else if("frequency"===s)switch(a[n+s]){case"perday":v.group="",g&&(v.group=g+" "),v.group+=(e.translateGroup?"^{":"")+a[n+s]+(e.translateGroup?"}":""),v.doNotTranslate=1;break;case"not-applicable":v.group="AAAAAA",_=0,g=0;break;case"constant":case"atwill":v.group=a[n+s],_=0,g=0;break;case"hexfreq":case"other":v.group=a[n+s];break;case"everyrounds":v.group=a[n+s],a[n+o]&&(_=a[n+o],g=0);break;default:v.group=a[n+s]}else v.group=a[n+s];else v.group="AAAAAA";"AAAAAA"!==v.group&&e.translateGroup&&!v.doNotTranslate&&(v.group="^{"+v.group+"}"),l&&(_&&g?y=" ("+_+"/"+g+")":_&&(y=" ("+_+")")),m?e.filterValue?String(a[n+m])===String(e.filterValue)?v.showinmenu=1:v.showinmenu=0:v.showinmenu=parseInt(a[n+m],10)||0:v.showinmenu=1,"showinmenu"!==v.filterField&&e.useshowinmenu&&(h=parseInt(a[n+"showinmenu"],10)||0,v.showinmenu=v.showinmenu&&h),u=i&&a[n+i]&&"not-applicable"!==a[n+i]&&"0"!=a[n+i]?" ("+(e.translateBonus?"^{":"")+a[n+i]+(e.translateBonus?"}":"")+")":"",r=v.name+u+y,v.chatLink="["+d.escapeForRollTemplate(d.escapeForChatLinkButton(r))+"](~@{character_id}|"+n+f+")"}catch(e){p.default.error("PFMenus.getRepeatingCommandMacro builderr object for id "+t,e)}finally{return v}}).filter(function(e){return e.showinmenu}).sortBy("group"),"frequency"===s&&(h=h.reverse()),h=h.groupBy("group").reduce(function(e,t,a){var n="";try{"AAAAAA"!==a&&u.default.size(t)>0&&(e+=" {{row"+String(k)+"="+d.escapeForRollTemplate(a)+"}}",k++),n=u.default.reduce(t,function(e,t){return e+=" "+t.chatLink}," {{row"+String(k)+"="),e+=n+"}}",k++}catch(e){p.default.error("PFMenus.getRepeatingCommandMacro strerror creating string for group "+a,e)}finally{return e}},"").value()}catch(t){p.default.error("PFMenus.getRepeatingCommandMacro innererror2 for "+e.section,t)}finally{v=h?_+h:_+g,n(v,w)}})})}function s(e,t,a,n,r){var i=u.default.once(function(){"function"==typeof a&&a()}),l={},s=e;try{if(l={usesField:"used",linkField:"roll",nameField:"name",bonusField:"ability_type",translateBonus:1,macroSuffix:"_buttons_macro"},!m[e])return p.default.error("PFMenus.resetOneCommandMacro Could not find parameters for menu "+e),void i();l=u.default.extend(l,m[e]),t?(m[e].npcLinkField&&(l.linkField=m[e].npcLinkField),m[e].npcMacroName&&(s=m[e].npcMacroName),m[e].npcMacroSuffix&&(l.macroSuffix=m[e].npcMacroSuffix)):l.npcName&&(l.npcName=""),r&&l.groupBy&&(l.groupMap=r),l.origMacroAttr=s+l.macroSuffix,o(l,function(e,t){var a={};t&&e===t?i():(a[s+l.macroSuffix]=e||"",d.setWrapper(a,f.default.silentParams,i))},n)}catch(e){p.default.error("PFMenus.resetOnceCommandMacro, errouter :",e)}}function c(e){getAttrs(["allmenus_macro","is_npc","unchained_skills-show","BG-Skill-Use"],function(e){var t={},a=parseInt(e["unchained_skills-show"]),n=parseInt(e["BG-Skill-Use"]),r=parseInt(e.is_npc),i="{{row07=[^{combat-skills}](~@{character_id}|combat_skills) }} {{row08=[^{all-skills}](~@{character_id}|skills) }} ",l="{{row09=[^{items}](~@{character_id}|items) }} @{allspells_macro} @{allcustom_macro}",o="{{row07=[^{skills}](~@{character_id}|NPC-skills) }} ",s="{{row08=[^{items}](~@{character_id}|NPC-items) }} @{NPC-allspells_macro} @{NPC-allcustom_macro}";r?(a&&1===n&&(o="{{row07=[^{adventure}](~@{character_id}|NPC-adventure_skills) }} {{row08=[^{background}](~@{character_id}|NPC-background_skills) }} ",s="{{row09=[^{items}](~@{character_id}|NPC-items) }} @{NPC-allspells_macro} @{NPC-allcustom_macro}",p.default.debug("~~~ NPC w/Background Skills Enabled")),a&&0===n&&(o="{{row07=[^{consolidated}](~@{character_id}|NPC-consolidated_skills) }} ",s="{{row08=[^{items}](~@{character_id}|NPC-items) }} @{NPC-allspells_macro} @{NPC-allcustom_macro}",p.default.debug("~~~ NPC w/Consolidated Skills Enabled")),t["NPC-allmenus_macro"]="&{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{name=^{all}}} {{row01=[^{init-speed-info-abbrv}](~@{character_id}|init-speed-info) }} {{row02=[^{abilities}](~@{character_id}|NPC-abilities) }} {{row03=[^{ability-checks}](~@{character_id}|NPC-ability_checks) }} {{row04=[^{initiative}](~@{character_id}|NPC-Initiative-Roll) }} {{row05=[^{defenses}](~@{character_id}|NPC-defenses) }} {{row06=[^{attacks}](~@{character_id}|NPC-attacks) }} ".concat(o,s)):(a&&1===n&&(i="{{row07=[^{adventure}](~@{character_id}|adventure_skills) }} {{row08=[^{background}](~@{character_id}|background_skills) }} ",p.default.debug("~~~ PC w/Background Skills Enabled")),a&&0===n&&(i="{{row07=[^{consolidated}](~@{character_id}|consolidated_skills) }} ",l="{{row08=[^{items}](~@{character_id}|items) }} @{allspells_macro} @{allcustom_macro}",p.default.debug("~~~ PC w/Consolidated Skills Enabled")),t.allmenus_macro="&{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag} {{font=@{apply_specfont_chat}@{use_specfont}}} {{scroll_desc=@{scroll-desc}}} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{name=^{all}}} {{row01=[^{init-speed-info-abbrv}](~@{character_id}|init-speed-info) }} {{row02=[^{initiative}](~@{character_id}|Roll-for-initiative) }} {{row03=[^{ability-checks}](~@{character_id}|ability_checks) }} {{row04=[^{abilities}](~@{character_id}|abilities) }} {{row05=[^{defenses}](~@{character_id}|defenses) }} {{row06=[^{attacks}](~@{character_id}|attacks) }} ".concat(i,l)),setAttrs(t,{silent:!0})})}Object.defineProperty(t,"__esModule",{value:!0}),t.getRepeatingCommandMacro=o,t.resetOneCommandMacro=s;var u=l(a(1)),p=l(a(0)),f=(a(3),l(a(4))),d=i(a(2)),m=(i(a(5)),{"class-ability":{name:"original-class-features-list",section:"class-ability",useshowinmenu:1},feat:{npcMacroName:"NPC-feat",npcName:" ^{npc} ",name:"original-feats-list",section:"feat",npcLinkField:"npc-roll",useshowinmenu:1},"racial-trait":{npcMacroName:"NPC-racial-trait",npcName:" ^{npc} ",name:"original-racial-traits-list",section:"racial-trait",npcLinkField:"npc-roll",useshowinmenu:1},trait:{name:"original-traits-list",section:"trait",useshowinmenu:1},"mythic-ability":{name:"mythic-abilities",section:"mythic-ability",useshowinmenu:1},"mythic-feat":{name:"mythic-feats",section:"mythic-feat",useshowinmenu:1},"npc-spell-like-abilities":{name:"original-spell-like-abilities-list",section:"npc-spell-like-abilities",useshowinmenu:1},ability:{npcMacroName:"NPC-ability",npcName:" ^{npc} ",name:"abilities",section:"ability",groupBy:"rule_category",translateGroup:1,npcLinkField:"npc-roll",useshowinmenu:1},ex:{npcMacroName:"NPC-ex",npcName:" ^{npc} ",name:"extraordinary-abilities-menu",section:"ability",filterField:"ability_type",filterValue:"Ex",groupBy:"frequency",translateGroup:1,altUsesField:"rounds_between",npcLinkField:"npc-roll",useshowinmenu:1},sp:{npcMacroName:"NPC-sp",npcName:" ^{npc} ",name:"spell-like-abilities-menu",section:"ability",filterField:"ability_type",filterValue:"Sp",groupBy:"frequency",translateGroup:1,altUsesField:"rounds_between",npcLinkField:"npc-roll",useshowinmenu:1},su:{npcMacroName:"NPC-su",npcName:" ^{npc} ",name:"supernatural-abilities-menu",section:"ability",filterField:"ability_type",filterValue:"Su",groupBy:"frequency",translateGroup:1,altUsesField:"rounds_between",npcLinkField:"npc-roll",useshowinmenu:1},item:{npcMacroName:"NPC-item",npcName:" ^{npc} ",name:"items",section:"item",usesField:"",bonusField:"",groupBy:"equip-type",translateGroup:1,npcLinkField:"npc-roll",useshowinmenu:1},attacks:{macroSuffix:"-macro",npcMacroSuffix:"-macro-npc",npcName:" ^{npc} ",section:"weapon",name:"attacks",usesField:"",bonusField:"",groupBy:"attack-type",altGroupBy:"group",translateGroup:1,npcLinkField:"attack-npc-roll",linkField:"attack-roll"}});on("change:unchained_skills-show change:bg-skill-use change:is_npc ",function(e){p.default.debug("caught "+e.sourceAttribute+" event"+e.sourceType),c(e)})},function(e,t,a){"use strict";function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(n=function(e){return e?a:t})(e)}function r(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var a=n(t);if(a&&a.has(e))return a.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}function i(e){return e&&e.__esModule?e:{default:e}}function l(e){"@babel/helpers - typeof";return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,a){return t=s(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e){var t=c(e,"string");return"symbol"===l(t)?t:String(t)}function c(e,t){if("object"!==l(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function u(e,t,a){var n=M.default.once(function(){"function"==typeof t&&t()}),r=E.getRepeatingIDStr(e),i="repeating_ability_"+r,l=i+"CL-basis";getAttrs([i+"CL-basis",i+"class-name","character_name","race","class-0-name","class-1-name","class-2-name","class-3-name","class-4-name","class-5-name"],function(e){var t,a="",r={};try{e[l]&&("@{level}"===e[l]?a=e.race:"@{npc-hd-num}"===e[l]?a=e.race:0===parseInt(e[l],10)?a="":"(0*(@{level}))"===e[l]?a=" ":(t=e[i+"CL-basis"].match(/\d+/))&&(a=e["class-"+t[0]+"-name"]),e[i+"class-name"]!==a&&(r[i+"class-name"]=a))}catch(e){D.default.error("PFAbility.setClassName",e)}finally{M.default.size(r)>0?E.setWrapper(r,F.default.silentParams,n):n()}})}function p(e,t,a,n){var r="repeating_ability_"+E.getRepeatingIDStr(a);getAttrs([r+"frequency",r+"rule_category",r+"CL-basis",r+"ability_type",r+"tabcat",r+"tabcat2","abilities_tab","npc-abilities_tab"],function(e){var t={},a=F.default.silentParams;t[r+"tabcat2"]=e[r+"ability_type"]||"-1",E.setWrapper(t,a)})}function f(e,t,a,n){var r="repeating_ability_"+E.getRepeatingIDStr(a);getAttrs([r+"frequency",r+"rule_category",r+"CL-basis",r+"ability_type",r+"tabcat",r+"tabcat2","abilities_tab","npc-abilities_tab"],function(e){var t={},a="",i=F.default.silentParams;switch(e[r+"rule_category"]){case"racial-traits":a="traits";break;case"monster-rule":a="other";break;case"mythic-abilities":a="mythic";break;case"mythic-feats":a="feats";break;default:a=e[r+"rule_category"]||""}a||(a="-1"),t[r+"tabcat"]=a,n&&("-1"!==a&&(e.abilities_tab===a||/Ex|Sp|Su|99/i.test(e.abilities_tab)||(t.abilities_tab=a),e["npc-abilities_tab"]===a||/Ex|Sp|Su|99/i.test(e["npc-abilities_tab"])||(t["npc-abilities_tab"]=a)),"class-features"!==e[r+"rule_category"]||e[r+"CL-basis"]&&"0"!==e[r+"CL-basis"]?"racial-traits"!==e[r+"rule_category"]||e[r+"CL-basis"]&&"0"!==e[r+"CL-basis"]||(t[r+"CL-basis"]="@{level}",i={}):(t[r+"CL-basis"]="@{class-0-level}",i={})),"spell-like-abilities"===e[r+"rule_category"]&&(e[r+"tabcat2"]="Sp",t[r+"ability_type"]="Sp"),e[r+"frequency"]||(t[r+"frequency"]="not-applicable"),M.default.size(t)&&E.setWrapper(t,i,u)})}function d(){getSectionIDs("repeating_ability",function(e){M.default.each(e,function(e){f(null,null,e),p(null,null,e)})})}function m(e){var t=function(t){"function"==typeof e&&e(t)};getSectionIDs("repeating_ability",function(e){var a=[];if(!e||0===M.default.size(e))return void t({rules:[],types:[]});M.default.each(e,function(e){var t="repeating_ability_"+e+"_";a.push(t+"rule_category"),a.push(t+"showinmenu"),a.push(t+"ability_type")}),getAttrs(a,function(a){var n=[],r=[],i=[];n=M.default.chain(e).map(function(e){var t={},n="repeating_ability_"+e+"_";return t.id=e,t.showinmenu=parseInt(a[n+"showinmenu"],10)||0,t.rule_category=a[n+"rule_category"]||"",t.ability_type=(a[n+"ability_type"]||"").toLowerCase(),t}).filter(function(e){return e.showinmenu}).value(),n&&(r=M.default.chain(n).groupBy("rule_category").keys().compact().value(),i=M.default.chain(n).groupBy("ability_type").keys().compact().value()),r||(r=[]),i||(i=[]),t({rules:r,types:i})})})}function _(e){var t,a={},n="",r="";try{n=generateRowID(),r="repeating_ability_"+n+"_",a[r+"row_id"]=n,a[r+"showinmenu"]=e.showinmenu||0,a[r+"name"]=e.name||"",a[r+"used"]=e.used||0,a[r+"used_max"]=e.used_max||0,a[r+"max-calculation"]=e["max-calculation"]||"",a[r+"short-description"]=e["short-description"]||"",a[r+"description"]=e.description||"",a[r+"rule_category"]=e.rule_category||"",a[r+"CL-basis"]=e["CL-basis"]||"0",a[r+"class-name"]=e["class-name"]||"","spell-like-abilities"===e.rule_category?(a[r+"ability_type"]="Sp",e["spell_level-misc"]&&(a[r+"spell_level-misc"]=e["spell_level-misc"],a[r+"spell_level-misc-mod"]=e["spell_level-misc-mod"],a[r+"spell_level-basis"]=e["spell_level-basis"]),e.range_numeric&&(a[r+"range"]=e.range,a[r+"range_numeric"]=e.range_numeric,a[r+"range_pick"]=e.range_pick),e["abil-sr"]&&(a[r+"abil-sr"]=e["abil-sr"]),e.save&&(a[r+"save"]=e.save)):(t=e.name.match(/\b(Sp|Su|Ex)\b/i),t&&t[1]?a[r+"ability_type"]=t[0][0].toUpperCase()+t[0][1].toLowerCase():a[r+"ability_type"]=""),a[r+"macro-text"]=e["macro-text"]||""}catch(t){D.default.error("PFAbility.getNewAbilityAttrs",t,e)}finally{return a}}function g(e,t){var a=M.default.once(function(){"function"==typeof e&&e()}),n={};M.default.size(t)&&M.default.each(t,function(e){var t=_(e);M.default.extend(n,t)}),M.default.size(n)?E.setWrapper(n,F.default.silentParams,a):a()}function b(e,t){var a=function(t){"function"==typeof e&&e(t)},n="";try{n=" @{orig_ability_header_macro}",m(function(e){var r="",i="";try{t&&(i="NPC-"),e.types&&M.default.each(e.types,function(e){K[e]?r+=K[e].replace("NPCPREFIX",i):e&&D.default.warn("could not find top macro for "+e)}),r&&(n+=" {{row03=^{ability-menus}}} {{row04="+r+"}}")}catch(e){D.default.error("PFAbility.getTopOfMenu innererr",e)}finally{a(n)}})}catch(e){D.default.error("PFAbility.getTopOfMenu",e),a(n)}}function y(e){var t=M.default.once(function(){"function"==typeof e&&e()}),a=M.default.after(8,t);b(function(e){L.resetOneCommandMacro("ability",!0,a,e)},!0),b(function(e){L.resetOneCommandMacro("ability",!1,a,e)},!1),L.resetOneCommandMacro("ex",!0,a),L.resetOneCommandMacro("sp",!0,a),L.resetOneCommandMacro("su",!0,a),L.resetOneCommandMacro("ex",!1,a),L.resetOneCommandMacro("sp",!1,a),L.resetOneCommandMacro("su",!1,a)}function h(e,t){var a=M.default.once(function(){y(),"function"==typeof e&&e()}),n=E.getRowId(t.sourceAttribute),r="repeating_ability_"+n+"_";getAttrs(["is_undead",r+"name",r+"compendium_category",r+"rule_category",r+"ability_type_compendium",r+"ability_type",r+"description",r+"range_from_compendium",r+"target_from_compendium",r+"area_from_compendium",r+"effect_from_compendium"],function(e){var t,n,i="",l="",o="",s="",c={},u="",p="",f={},d="",m="";try{if(e[r+"ability_type_compendium"]&&(l=e[r+"ability_type_compendium"],c[r+"ability_type"]=l,f[r+"ability_type_compendium"]=""),i=e[r+"compendium_category"],f[r+"compendium_category"]="",i){if(i=i.toLowerCase(),"feats"===i?u="feats":"monster rule"===i?u="monster-rule":"spell"===i&&(u="spell-like-abilities"),"monster-rule"===u&&e[r+"description"]&&(t=e[r+"description"].match(/Location\:\s*(.*)$/i))&&t[1]&&(s=E.trimBoth(t[1].toLowerCase()),t=s.match(/special qual|sq|special att|special abil|defens|spell/i)))switch(t[0]){case"special qual":case"sq":u="special-qualities";break;case"special att":u="special-attacks";break;case"special abil":u="special-abilities";break;case"defens":u="defensive-abilities";break;case"spell":u="spell-like-abilities"}"Sp"!==l||u||(u="spell-like-abilities"),l||"spell-like-abilities"!==u?"Sp"!==l||u||(u="spell-like-abilities"):(l="Sp",c[r+"ability_type"]="Sp"),u?c[r+"rule_category"]=u:d+=i,"Sp"===l?(m=e[r+"target_from_compendium"]||e[r+"area_from_compendium"]||e[r+"effect_from_compendium"]||"",c[r+"targets"]=m,e[r+"range_from_compendium"]&&(n=R.parseSpellRangeText(e[r+"range_from_compendium"],m),c[r+"range_pick"]=n.dropdown,c[r+"range"]=n.rangetext),c[r+"ability-basis"]="@{CHA-mod}"):e[r+"name"]&&(p=e[r+"name"].toLowerCase(),p=p.match(/^[^(]+/),o=z.default.specialAttackDCAbilityBase[p]?z.default.specialAttackDCAbilityBase[p]:"CON","CON"===o&&parseInt(e.is_undead,10)&&(o="CHA"),o="@{"+o+"}",c[r+"ability-basis"]=o)}}catch(e){D.default.error("PFAbility.importFromCompendium",e)}finally{M.default.size(f)>0&&E.setWrapper(f,F.default.silentParams),M.default.size(c)>0?E.setWrapper(c,{},a):a()}})}function v(e,t,a,n,r){var i="",l="";n=n||{};try{l=R.findAbilityInString(a[e+"abil-attack-type"]),a[e+"name"]&&(r||(n[t+"name"]=a[e+"name"]),n[t+"source-ability-name"]=a[e+"name"]),l&&(n[t+"attack-type"]=a[e+"abil-attack-type"],/CMB/i.test(l)?n[t+"vs"]="cmd":/ranged/i.test(l)?(n[t+"vs"]="touch",n[t+"isranged"]=1,n[t+"range"]=a[e+"range_numeric"]||0):(n[t+"vs"]="touch",n[t+"range"]=0)),a[e+"damage-macro-text"]&&(n[t+"precision_dmg_macro"]=a[e+"damage-macro-text"],n[t+"critical_dmg_macro"]=l?a[e+"damage-macro-text"]:""),a[e+"damage-type"]&&(n[t+"precision_dmg_type"]=a[e+"damage-type"],n[t+"critical_dmg_type"]=l?a[e+"damage-type"]:""),a[e+"save"]&&(i&&(i+=", "),i+="\n**Save:** "+a[e+"save"]+" **DC:** [[@{"+e+"savedc}]]"),a[e+"abil-sr"]&&(i&&(i+=", "),i+="\n**Spell Resistance:** "+a[e+"abil-sr"]);var o=a[e+"toggle_attack_entry"];1===o&&a[e+"name"]&&(i&&(i+=", "),i+="\n["+a[e+"name"]+"](~@{character_name}|"+e+"roll)"),1!==o&&a[e+"name"]&&(i&&(i+=""),i+=""),i&&(n[t+"notes"]=i)}catch(e){D.default.error("PFAbility.setAttackEntryVals",e)}finally{return n}}function k(e,t,a,n,r){var i,l,o,s=M.default.once(function(){"function"==typeof t&&t()}),c=[],u=["range_numeric","damage-macro-text","damage-type","abil-sr","savedc","save","abil-attack-type","name","toggle_attack_entry"];return"DELETED"===e?void s():(i=e||(n?E.getRowId(n.sourceAttribute):""),l="repeating_ability_"+E.getRepeatingIDStr(i),o=l,i?(u.forEach(function(e){c.push(o+e)}),void getAttrs(c,function(e){var t="",n={},l="repeating_weapon_",c="",u=!0,p=!1,f={};try{0===M.default.size(e)&&(u=!1),u?R.findAbilityInString(e[o+"abil-attack-type"])||e[o+"damage-macro-text"]?(t=r||generateRowID(),c=t+"_",l+=c,n=v(o,l,e,n,r),n[l+"source-ability"]=i,n[l+"group"]="Special",n[l+"link_type"]=H.linkedAttackType.ability):D.default.warn("no attack to create for ability "+e[o+"name"]+", "+i):r&&(n["repeating_weapon_"+r+"_source-ability"]="DELETED",p=!0)}catch(e){D.default.error("PFAbility.createAttackEntryFromRow",e)}finally{p?E.setWrapper(n,f,s):M.default.size(n)>0?(n[o+"create-attack-entry"]=0,a&&(f=F.default.silentParams),E.setWrapper(n,f,function(){W.resetOption(t),B.resetCommandMacro(),s()})):(n[o+"create-attack-entry"]=0,E.setWrapper(n,F.default.silentParams,s))}})):(D.default.warn("Cannot create usable attack entry from SLA since we cannot identify the row id"),void s()))}function w(e,t,a,n){var r=M.default.once(function(){"function"==typeof t&&t()}),i="",l="",o="",s=[];i=e||(n?E.getRowId(n.sourceAttribute):""),l="repeating_ability_"+E.getRepeatingIDStr(i),o=n?E.getAttributeName(n.sourceAttribute):"",s=[],o?(s=[l+o],s=/range/i.test(o)?[l+"range_pick",l+"range",l+"range_numeric"]:[l+"range_pick",l+"range",l+"range_numeric",l+"damage-macro-text",l+"damage-type",l+"sr",l+"savedc",l+"save",l+"abil-attack-type",l+"name",l+"toggle_attack_entry"]):s=[l+"range_pick",l+"range",l+"range_numeric",l+"damage-macro-text",l+"damage-type",l+"sr",l+"savedc",l+"save",l+"abil-attack-type",l+"name",l+"toggle_attack_entry"],getAttrs(s,function(e){getSectionIDs("repeating_weapon",function(t){var n=[];n=M.default.reduce(t,function(e,t){return e.push("repeating_weapon_"+t+"_source-ability"),e},[]),getAttrs(n,function(n){var o={},s={},c=[];try{M.default.each(t,function(t){var a="repeating_weapon_"+t+"_";n[a+"source-ability"]===i&&(c.push(t),o=v(l,a,e,o))})}catch(e){D.default.error("PFAbility.updateAssociatedAttack",e)}finally{M.default.size(o)>0?(a&&(s=F.default.silentParams),E.setWrapper(o,s,function(){W.resetSomeOptions(c)})):r()}})})})}function A(e,t,a){var n=M.default.once(function(){"function"==typeof t&&t()}),r=E.getRepeatingIDStr(e),i="repeating_ability_"+r;getAttrs([i+"CL-misc-mod",i+"CL-basis-mod",i+"casterlevel",i+"ability_type","buff_CasterLevel-total","CasterLevel-Penalty"],function(e){var t=0,a=0,r=0,l=0,o=0,s={};try{o=parseInt(e[i+"ability_type"],10)||0,t=parseInt(e[i+"CL-basis-mod"],10)||0,r=parseInt(e[i+"CL-misc-mod"],10)||0,l=parseInt(e["CasterLevel-Penalty"],10)||0,a=t+r+l,o&&(a+=parseInt(e["buff_CasterLevel-total"],10)||0),a!==parseInt(e[i+"casterlevel"],10)&&(s[i+"casterlevel"]=a)}catch(e){D.default.error("PFAbility.updateCharLevel",e)}finally{M.default.size(s)?E.setWrapper(s,F.default.silentParams,n):n()}})}function C(e,t,a,n){var r=M.default.once(function(){"function"==typeof t&&t()}),i=E.getRepeatingIDStr(e),l="repeating_ability_"+i;getAttrs([l+"range_pick",l+"range",l+"range_numeric",l+"casterlevel",l+"ability_type"],function(e){var t=0,a=0,n=0,i={},o=0,s=0;try{o="Sp"===e[l+"ability_type"]?1:0,a=parseInt(e[l+"range_numeric"],10)||0,o?(n=parseInt(e[l+"casterlevel"],10)||0,t=R.findSpellRange(e[l+"range"],e[l+"range_pick"],n)||0):t=parseInt(E.trimBoth(e[l+"range"]),10)||0,t!==a&&(i[l+"range_numeric"]=t),s=parseInt(e[l+"hasposrange"],10)||0,t>0&&!s?i[l+"hasposrange"]=1:s&&(i[l+"hasposrange"]=0)}catch(e){D.default.error("updateAbilityRange",e)}finally{M.default.size(i)?E.setWrapper(i,{},r):r()}})}function I(e,t,a,n){var r=E.getRepeatingIDStr(t),i="repeating_ability_"+r,l="",o="",s="",c="",u="",p="",f="";e=e||{};try{if(!a)return e;if(l="Sp"===a[i+"ability_type"]?"1":"",l!==a[i+"is_sp"]&&(e[i+"is_sp"]=l),o=(parseInt(a[i+"range_numeric"],10)||0)>0?"1":"",o!==a[i+"hasposrange"]&&(e[i+"hasposrange"]=o),a[i+"frequency"]&&"not-applicable"!==a[i+"frequency"])switch(c="1",a[i+"frequency"]){case"perday":case"permonth":case"hexfreq":case"other":s="1"}c!==a[i+"hasfrequency"]&&(e[i+"hasfrequency"]=c),s!==a[i+"hasuses"]&&(e[i+"hasuses"]=s),R.findAbilityInString(a[i+"abil-attack-type"])&&(u="1"),u!==a[i+"hasattack"]&&(e[i+"hasattack"]=u),u&&(p=a[i+"abil-attack-type"].toLowerCase(),p.indexOf("melee")>=0?f="touch":p.indexOf("range")>=0?f="ranged-touch-ray":p.indexOf("cmb")>=0&&(f="combat-maneuver-bonus-abbrv")),f!==a[i+"abil-attacktypestr"]&&(e[i+"abil-attacktypestr"]=f)}catch(e){D.default.error("PFAbility.recalcAbilities",e)}finally{return e}}function S(e,t,a){var n=M.default.once(function(){"function"==typeof t&&t()}),r=E.getRepeatingIDStr(e),i="repeating_ability_"+r,l=[];l=M.default.map(X,function(e){return i+e}),getAttrs(l,function(t){var r={};try{r=I(r,e,t)}catch(e){D.default.error("PFAbility.recalcAbilities",e)}finally{M.default.size(r)?E.setWrapper(r,F.default.silentParams,n,a):n()}})}function P(e,t,a,n){var r=M.default.once(function(){"function"==typeof e&&e()});getSectionIDs("repeating_ability",function(e){var t,a,i=M.default.size(e);if(0===i)return void r();t=M.default.after(i,r),a=function(e){N.setRepeatingDropdownValue("ability",e,"CL-basis","CL-basis-mod",function(){A(e,function(){u(e),C(e,function(){t()})})},!0,!0)},M.default.each(e,function(e){a(e),n||S(e)})})}function x(e){"function"==typeof e&&e()}function T(){getSectionIDs("repeating_ability",function(e){M.default.each(e,function(e){getAttrs(["include_link_abilities"],function(t){var a=parseInt([t.include_link_abilities])||0;setAttrs(o({},"repeating_ability_"+e+"_toggle_attack_entry",a))})})})}function O(){setAttrs({include_link_abilities:1,include_link_spells:1})}Object.defineProperty(t,"__esModule",{value:!0}),t.setRuleTabs=d,t.copyToAbilities=g,t.resetCommandMacro=y,t.importFromCompendium=h,t.setAttackEntryVals=v,t.createAttackEntryFromRow=k,t.updateAssociatedAttack=w,t.migrate=x,t.updateIncludeLinkVersionCheck=O,t.recalculate=void 0;var M=i(a(1)),D=(a(3),i(a(0))),E=r(a(2)),F=i(a(4)),R=r(a(5)),N=r(a(19)),j=r(a(25)),L=r(a(45)),z=r(a(117)),W=r(a(29)),B=r(a(17)),q=r(a(118)),H=r(a(16)),U=r(a(46)),G=["is_sp","hasposrange","hasuses","hasattack","abil-attacktypestr"],V=["ability_type","range_numeric","frequency","abil-attack-type"],X=G.concat(V),K={ex:" [^{extraordinary-abilities-menu}](~@{character_id}|NPCPREFIXex_button)",sp:" [^{spell-like-abilities-menu}](~@{character_id}|NPCPREFIXsp_button)",su:" [^{supernatural-abilities-menu}](~@{character_id}|NPCPREFIXsu_button)"},$={attackEventsSLA:["damage-macro-text","damage-type","abil-sr","save","abil-attack-type","name","range_numeric","toggle_attack_entry"],commandMacroFields:["name","used","used_max","showinmenu","ability_type","frequency","rule_category","toggle_attack_entry"]},Z=D.default.callback(function(e,t,a){var n=M.default.once(function(){D.default.info("leaving PFAbility.recalculate"),"function"==typeof e&&e()}),r=function(){y(),n()},i=function(){P(D.default.callback(r)),d()};try{x(D.default.callback(i))}catch(e){D.default.error("PFAbility.recalculate, ",e),n()}});t.recalculate=Z,function(){var e="",t="remove:repeating_ability ";on("remove:repeating_ability",D.default.callback(function(e){D.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),H.removeLinkedAttack(null,H.linkedAttackType.ability,E.getRowId(e.sourceAttribute))})),t=M.default.reduce($.commandMacroFields,function(e,t){return e+="change:repeating_ability:"+t+" "},t),on(t,D.default.callback(function(e){("player"===e.sourceType||"api"===e.sourceType||/used_max/i.test(e.sourceAttribute))&&(D.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),q.resetTopCommandMacro(null,e),y())})),on("change:repeating_ability:CL-basis",D.default.callback(function(e){D.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),E.evaluateAndSetNumber("repeating_ability_CL-basis","repeating_ability_CL-basis-mod"),"player"!==e.sourceType&&"api"!==e.sourceType||u(null,null,e)})),e=M.default.reduce(V,function(e,t){return e+="change:repeating_ability:"+t+" "},""),on(e,D.default.callback(function(e){("player"===e.sourceType||"api"===e.sourceType||/range/i.test(e.sourceAttribute))&&(D.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),S())})),on("change:repeating_ability:CL-misc change:repeating_ability:spell_level-misc",D.default.callback(function(e){D.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),E.evaluateAndSetNumber(e.sourceAttribute,e.sourceAttribute+"-mod")})),on("change:buff_CasterLevel-total change:CasterLevel-Penalty",D.default.callback(function(e){"sheetworker"!==e.sourceType&&"api"!==e.sourceType||(D.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),P(null,null,e,!0))})),on("change:repeating_ability:CL-basis-mod change:repeating_ability:CL-misc-mod",D.default.callback(function(e){"sheetworker"!==e.sourceType&&"api"!==e.sourceType||(D.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),A(null,null,e))})),on("change:repeating_ability:compendium_category",D.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(D.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),h(null,e))})),on("change:repeating_ability:create-attack-entry",D.default.callback(function(e){D.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||k(null,null,!1,e)})),on("change:repeating_ability:CL-misc-mod change:repeating_ability:CL-basis-mod change:repeating_ability:range_pick change:repeating_ability:range",D.default.callback(function(e){D.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),(/range/i.test(e.sourceAttribute)&&("player"===e.sourceType||"api"===e.sourceType)||/CL/i.test(e.sourceAttribute)&&"sheetworker"===e.sourceType||"api"===e.sourceType)&&C(null,null,!1,e)})),e=M.default.reduce($.attackEventsSLA,function(e,t){return e+="change:repeating_ability:"+t+" "},""),on(e,D.default.callback(function(e){("player"===e.sourceType||"api"===e.sourceType||/range_numeric/i.test(e.sourceAttribute))&&(D.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),w(null,null,null,e))})),on("change:repeating_ability:toggle_attack_entry",D.default.callback(function(e){"sheetworker"!==e.sourceType&&"api"!==e.sourceType||(D.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),w(null,null,null,e))})),on("change:repeating_ability:rule_category",D.default.callback(function(e){D.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),f(null,null,null,e)})),on("change:repeating_ability:ability_type",D.default.callback(function(e){D.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),p(null,null,null,e)})),on("change:showinmenu_all_abilities",function(){getSectionIDs("repeating_ability",function(e){getSectionIDs("repeating_mythic-ability",function(t){getSectionIDs("repeating_mythic-feat",function(a){var n=e.map(function(e){return"repeating_ability_".concat(e,"_showinmenu")}),r=t.map(function(e){return"repeating_mythic-ability_".concat(e,"_showinmenu")}),i=a.map(function(e){return"repeating_mythic-feat_".concat(e,"_showinmenu")});getAttrs(["showinmenu_all_abilities"],function(e){var t=+e.showinmenu_all_abilities||0,a={};n.forEach(function(e){a[e]=t}),r.forEach(function(e){a[e]=t}),i.forEach(function(e){a[e]=t}),setAttrs(a),U.recalculate(),q.recalculate()})})})})}),on("change:include_link_abilities",function(e){D.default.debug("caught "+e.sourceAttribute+" event"+e.sourceType),"sheetworker"!==e.sourceType&&"player"!==e.sourceType||T()}),on("change:repeating_ability:ability_type2",function(e){D.default.debug("caught "+e.sourceAttribute+" event"+e.sourceType);var t=e.sourceAttribute.split("_")[2],a={},n=e.newValue.replace(/\s/g,"").toLowerCase(),r=getTranslationByKey(n);if(r){console.info({featName:n,translation:r}),a["repeating_ability_".concat(t,"_ability_type2")]=r;var i="repeating_ability_".concat(t,"_ability_type2"),l="".concat(n);getTranslationByKey(l)&&(a[i]=getTranslationByKey(l)),D.default.debug(a),setAttrs(a,{silent:!0})}}),on("change:repeating_ability:ability_type2 change:repeating_ability:rule_category",function(e){D.default.debug("caught "+e.sourceAttribute+" event"+e.sourceType),j.checkAbilityType2Row(e)})}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=u.default.once(function(){"function"==typeof e&&e()});getAttrs(["condition-Fear","condition-Sickened","condition-Drained","condition-Wounds","saves-cond","has_endurance_feat","wounds_gritty_mode","wound_threshold-show"],function(e){var n=0,r=0,i=0,l=0,o=0,s=0,c={},_={};try{n=parseInt(e["condition-Fear"],10)||0,r=parseInt(e["condition-Sickened"],10)||0,i=parseInt(e["condition-Drained"],10)||0,l=(parseInt(e["wound_threshold-show"],10)||0)*m.getWoundPenalty(parseInt(e["condition-Wounds"],10)||0,parseInt(e.has_endurance_feat,10)||0,parseInt(e.wounds_gritty_mode,10)||0),o=parseInt(e["saves-cond"],10)||0,s=i-n-r+l,o!==s&&(_["saves-cond"]=s)}catch(e){p.default.error("PFSaves.applyConditions",e)}finally{u.default.size(_)>0?(t&&(c=d.default.silentParams),f.setWrapper(_,c,a)):a()}})}function s(e,t,a){var n=[e,"total-"+e,e+"-ability-mod",e+"-trait",e+"-resist",e+"-misc-mod","saves-cond","buff_"+e+"-total","buff_saves-total"];f.updateRowTotal(n,0,[],!1,t,a)}function c(e,t){var a=u.default.once(function(){"function"==typeof e&&e()}),n=u.default.after(3,function(){a()});s("Fort",n,t),s("Ref",n,t),s("Will",n,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.applyConditions=o,t.updateSave=s,t.updateSaves=c,t.recalculate=t.saveTypes=void 0;var u=l(a(1)),p=(a(3),l(a(0))),f=i(a(2)),d=l(a(4)),m=i(a(5)),_=["Fort","Ref","Will"];t.saveTypes=_;var g={saveEventsAuto:"change:saves-cond change:total-REPLACE change:REPLACE-ability-mod change:REPLACE-misc-mod",saveEventsPlayer:"change:REPLACE-trait change:REPLACE-resist"},b=p.default.callback(function(e,t,a){var n=u.default.once(function(){p.default.info("leaving PFSaves.recalculate"),"function"==typeof e&&e()});try{o(function(){c(n,t)},t)}catch(e){p.default.error("PFSaves.recalculate OUTER",e),n()}});t.recalculate=b,function(){u.default.each(_,function(e){var t=g.saveEventsAuto.replace(/REPLACE/g,e);on(t,p.default.callback(function(t){"sheetworker"!==t.sourceType&&"api"!==t.sourceType||(p.default.debug("caught "+t.sourceAttribute+" event for "+e+": "+t.sourceType),s(e,t))}))}),u.default.each(_,function(e){var t=g.saveEventsPlayer.replace(/REPLACE/g,e);on(t,p.default.callback(function(t){"player"!==t.sourceType&&"api"!==t.sourceType||(p.default.debug("caught "+t.sourceAttribute+" event for "+e+": "+t.sourceType),s(e,t))}))})}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=function(){"function"==typeof e&&e()};getAttrs(["condition-Blinded","condition-Fear","condition-Drained","condition-Sickened","condition-Wounds","has_endurance_feat","wounds_gritty_mode","checks-cond","Phys-skills-cond","wound_threshold-show","CasterLevel-Penalty","condition-Dazzled","condition-Deafened","condition-Fascinated","condition_skill_notes","condition_init_notes"],function(e){var t={},n=0,r=0,i=0,l=0,o=0,d=0,m=0,_=0,g=0,b=0,y=0,h="",v="";try{n=parseInt(e["condition-Drained"],10)||0,r=-1*(parseInt(e["condition-Fear"],10)||0),i=-1*(parseInt(e["condition-Sickened"],10)||0),l=u.getWoundPenalty(parseInt(e["condition-Wounds"],10)||0,parseInt(e.has_endurance_feat,10)||0,parseInt(e.wounds_gritty_mode,10)||0),o=(parseInt(e["wound_threshold-show"],10)||0)*l,d=n+r+i+o,m=n+o,_=-2*(parseInt(e["condition-Blinded"],10)||0),g=parseInt(e["checks-cond"],10)||0,b=parseInt(e["Phys-skills-cond"],10)||0,y=parseInt(e["CasterLevel-Penalty"],10)||0,(d!==g||isNaN(g))&&(t["checks-cond"]=d),(_!==b||isNaN(b))&&(t["Phys-skills-cond"]=_),(m!==y||isNaN(y))&&(t["CasterLevel-Penalty"]=m),_&&(h+="**"+p.getTranslated("blinded")+"**: ",h+=p.getTranslated("condition-blinded-note")+"\r\n",v+=p.getTranslated("blinded")+": ",v+=p.getTranslated("condition-blinded-speed")+"\r\n"),parseInt(e["condition-Dazzled"],10)&&(h+="**"+p.getTranslated("dazzled")+"**: ",h+=p.getTranslated("condition-dazzled-note")+"\r\n"),parseInt(e["condition-Deafened"],10)&&(h+="**"+p.getTranslated("deafened")+"**: ",h+=p.getTranslated("condition-deafened-note")+"\r\n"),parseInt(e["condition-Fascinated"],10)&&(h+="**"+p.getTranslated("fascinated")+"**: ",h+=p.getTranslated("condition-fascinated-title")+"\r\n"),h!==e.condition_skill_notes&&(t.condition_skill_notes=h),v!==e.condition_init_notes&&(t.condition_init_notes=v)}catch(e){c.default.error("PFChecks.applyConditions",e)}finally{s.default.size(t)>0?(p.setWrapper(t,{},a),d!==g&&f.updateAllSkillsDiff(d,g)):a()}})}Object.defineProperty(t,"__esModule",{value:!0}),t.applyConditions=o;var s=l(a(1)),c=(a(3),l(a(0))),u=i(a(5)),p=i(a(2)),f=i(a(21))},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,a){getAttrs(["nodex-toggle"],function(a){parseInt(a["nodex-toggle"],10)?u.updateRowTotal(["init","init-trait","init-misc-mod","checks-cond","buff_initiative-total","buff-Check-total","buff_check_ability-total"],0,["condition-Deafened"],!1,e,t):u.updateRowTotal(["init","init-ability-mod","init-trait","init-misc-mod","checks-cond","buff_initiative-total","buff_Check-total","buff_check_ability-total"],0,["condition-Deafened"],!1,e,t)})}function o(e,t){var a=function(){"function"==typeof e&&e()};t<1.18?l(a,!1,!0):a()}Object.defineProperty(t,"__esModule",{value:!0}),t.updateInitiative=l,t.migrate=o,t.recalculate=void 0;var s=i(a(1)),c=(a(3),i(a(0))),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}(a(2)),p=c.default.callback(function(e,t,a){var n=s.default.once(function(){c.default.info("Leaving PFInitiative.recalculate"),"function"==typeof e&&e()});o(function(){l(n,t)},a)});t.recalculate=p,function(){on("change:init-trait change:condition-Deafened ",c.default.callback(function(e){c.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||l()})),on("change:init-ability-mod change:init-misc-mod change:checks-cond change:nodex-toggle",c.default.callback(function(e){"sheetworker"!==e.sourceType&&"api"!==e.sourceType||(c.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),l())}))}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6);a.d(t,"VERSION",function(){return n.e});var r=a(10);a.d(t,"restArguments",function(){return r.a});var i=a(22);a.d(t,"isObject",function(){return i.a});var l=a(124);a.d(t,"isNull",function(){return l.a});var o=a(68);a.d(t,"isUndefined",function(){return o.a});var s=a(69);a.d(t,"isBoolean",function(){return s.a});var c=a(125);a.d(t,"isElement",function(){return c.a});var u=a(51);a.d(t,"isString",function(){return u.a});var p=a(70);a.d(t,"isNumber",function(){return p.a});var f=a(126);a.d(t,"isDate",function(){return f.a});var d=a(127);a.d(t,"isRegExp",function(){return d.a});var m=a(128);a.d(t,"isError",function(){return m.a});var _=a(71);a.d(t,"isSymbol",function(){return _.a});var g=a(72);a.d(t,"isArrayBuffer",function(){return g.a});var b=a(52);a.d(t,"isDataView",function(){return b.a});var y=a(23);a.d(t,"isArray",function(){return y.a});var h=a(13);a.d(t,"isFunction",function(){return h.a});var v=a(53);a.d(t,"isArguments",function(){return v.a});var k=a(130);a.d(t,"isFinite",function(){return k.a});var w=a(73);a.d(t,"isNaN",function(){return w.a});var A=a(74);a.d(t,"isTypedArray",function(){return A.a});var C=a(132);a.d(t,"isEmpty",function(){return C.a});var I=a(79);a.d(t,"isMatch",function(){return I.a});var S=a(133);a.d(t,"isEqual",function(){return S.a});var P=a(135);a.d(t,"isMap",function(){return P.a});var x=a(136);a.d(t,"isWeakMap",function(){return x.a});var T=a(137);a.d(t,"isSet",function(){return T.a});var O=a(138);a.d(t,"isWeakSet",function(){return O.a});var M=a(7);a.d(t,"keys",function(){return M.a});var D=a(33);a.d(t,"allKeys",function(){return D.a});var E=a(26);a.d(t,"values",function(){return E.a});var F=a(139);a.d(t,"pairs",function(){return F.a});var R=a(80);a.d(t,"invert",function(){return R.a});var N=a(81);a.d(t,"functions",function(){return N.a}),a.d(t,"methods",function(){return N.a});var j=a(82);a.d(t,"extend",function(){return j.a});var L=a(57);a.d(t,"extendOwn",function(){return L.a}),a.d(t,"assign",function(){return L.a});var z=a(83);a.d(t,"defaults",function(){return z.a});var W=a(140);a.d(t,"create",function(){return W.a});var B=a(141);a.d(t,"clone",function(){return B.a});var q=a(142);a.d(t,"tap",function(){return q.a});var H=a(85);a.d(t,"get",function(){return H.a});var U=a(143);a.d(t,"has",function(){return U.a});var G=a(144);a.d(t,"mapObject",function(){return G.a});var V=a(59);a.d(t,"identity",function(){return V.a});var X=a(75);a.d(t,"constant",function(){return X.a});var K=a(89);a.d(t,"noop",function(){return K.a});var $=a(86);a.d(t,"toPath",function(){return $.a});var Z=a(60);a.d(t,"property",function(){return Z.a});var Y=a(145);a.d(t,"propertyOf",function(){return Y.a});var J=a(42);a.d(t,"matcher",function(){return J.a}),a.d(t,"matches",function(){return J.a});var Q=a(146);a.d(t,"times",function(){return Q.a});var ee=a(90);a.d(t,"random",function(){return ee.a});var te=a(61);a.d(t,"now",function(){return te.a});var ae=a(147);a.d(t,"escape",function(){return ae.a});var ne=a(148);a.d(t,"unescape",function(){return ne.a});var re=a(93);a.d(t,"templateSettings",function(){return re.a});var ie=a(150);a.d(t,"template",function(){return ie.a});var le=a(151);a.d(t,"result",function(){return le.a});var oe=a(152);a.d(t,"uniqueId",function(){return oe.a});var se=a(153);a.d(t,"chain",function(){return se.a});var ce=a(88);a.d(t,"iteratee",function(){return ce.a});var ue=a(43);a.d(t,"partial",function(){return ue.a});var pe=a(95);a.d(t,"bind",function(){return pe.a});var fe=a(154);a.d(t,"bindAll",function(){return fe.a});var de=a(155);a.d(t,"memoize",function(){return de.a});var me=a(96);a.d(t,"delay",function(){return me.a});var _e=a(156);a.d(t,"defer",function(){return _e.a});var ge=a(157);a.d(t,"throttle",function(){return ge.a});var be=a(158);a.d(t,"debounce",function(){return be.a});var ye=a(159);a.d(t,"wrap",function(){return ye.a});var he=a(62);a.d(t,"negate",function(){return he.a});var ve=a(160);a.d(t,"compose",function(){return ve.a});var ke=a(161);a.d(t,"after",function(){return ke.a});var we=a(97);a.d(t,"before",function(){return we.a});var Ae=a(162);a.d(t,"once",function(){return Ae.a});var Ce=a(98);a.d(t,"findKey",function(){return Ce.a});var Ie=a(63);a.d(t,"findIndex",function(){return Ie.a});var Se=a(100);a.d(t,"findLastIndex",function(){return Se.a});var Pe=a(101);a.d(t,"sortedIndex",function(){return Pe.a});var xe=a(102);a.d(t,"indexOf",function(){return xe.a});var Te=a(163);a.d(t,"lastIndexOf",function(){return Te.a});var Oe=a(104);a.d(t,"find",function(){return Oe.a}),a.d(t,"detect",function(){return Oe.a});var Me=a(164);a.d(t,"findWhere",function(){return Me.a});var De=a(24);a.d(t,"each",function(){return De.a}),a.d(t,"forEach",function(){return De.a});var Ee=a(28);a.d(t,"map",function(){return Ee.a}),a.d(t,"collect",function(){return Ee.a});var Fe=a(165);a.d(t,"reduce",function(){return Fe.a}),a.d(t,"foldl",function(){return Fe.a}),a.d(t,"inject",function(){return Fe.a});var Re=a(166);a.d(t,"reduceRight",function(){return Re.a}),a.d(t,"foldr",function(){return Re.a});var Ne=a(36);a.d(t,"filter",function(){return Ne.a}),a.d(t,"select",function(){return Ne.a});var je=a(167);a.d(t,"reject",function(){return je.a});var Le=a(168);a.d(t,"every",function(){return Le.a}),a.d(t,"all",function(){return Le.a});var ze=a(169);a.d(t,"some",function(){return ze.a}),a.d(t,"any",function(){return ze.a});var We=a(37);a.d(t,"contains",function(){return We.a}),a.d(t,"includes",function(){return We.a}),a.d(t,"include",function(){return We.a});var Be=a(170);a.d(t,"invoke",function(){return Be.a});var qe=a(64);a.d(t,"pluck",function(){return qe.a});var He=a(171);a.d(t,"where",function(){return He.a});var Ue=a(106);a.d(t,"max",function(){return Ue.a});var Ge=a(172);a.d(t,"min",function(){return Ge.a});var Ve=a(173);a.d(t,"shuffle",function(){return Ve.a});var Xe=a(107);a.d(t,"sample",function(){return Xe.a});var Ke=a(174);a.d(t,"sortBy",function(){return Ke.a});var $e=a(175);a.d(t,"groupBy",function(){return $e.a});var Ze=a(176);a.d(t,"indexBy",function(){return Ze.a});var Ye=a(177);a.d(t,"countBy",function(){return Ye.a});var Je=a(178);a.d(t,"partition",function(){return Je.a});var Qe=a(108);a.d(t,"toArray",function(){return Qe.a});var et=a(179);a.d(t,"size",function(){return et.a});var tt=a(109);a.d(t,"pick",function(){return tt.a});var at=a(181);a.d(t,"omit",function(){return at.a});var nt=a(182);a.d(t,"first",function(){return nt.a}),a.d(t,"head",function(){return nt.a}),a.d(t,"take",function(){return nt.a});var rt=a(110);a.d(t,"initial",function(){return rt.a});var it=a(183);a.d(t,"last",function(){return it.a});var lt=a(111);a.d(t,"rest",function(){return lt.a}),a.d(t,"tail",function(){return lt.a}),a.d(t,"drop",function(){return lt.a});var ot=a(184);a.d(t,"compact",function(){return ot.a});var st=a(185);a.d(t,"flatten",function(){return st.a});var ct=a(186);a.d(t,"without",function(){return ct.a});var ut=a(113);a.d(t,"uniq",function(){return ut.a}),a.d(t,"unique",function(){return ut.a});var pt=a(187);a.d(t,"union",function(){return pt.a});var ft=a(188);a.d(t,"intersection",function(){return ft.a});var dt=a(112);a.d(t,"difference",function(){return dt.a});var mt=a(114);a.d(t,"unzip",function(){return mt.a}),a.d(t,"transpose",function(){return mt.a});var _t=a(189);a.d(t,"zip",function(){return _t.a});var gt=a(190);a.d(t,"object",function(){return gt.a});var bt=a(191);a.d(t,"range",function(){return bt.a});var yt=a(192);a.d(t,"chunk",function(){return yt.a});var ht=a(193);a.d(t,"mixin",function(){return ht.a});var vt=a(194);a.d(t,"default",function(){return vt.a})},function(e,t,a){"use strict";var n=a(8);t.a=Object(n.a)("String")},function(e,t,a){"use strict";function n(e){return null!=e&&Object(i.a)(e.getInt8)&&Object(l.a)(e.buffer)}var r=a(8),i=a(13),l=a(72),o=a(32),s=Object(r.a)("DataView");t.a=o.a?n:s},function(e,t,a){"use strict";var n=a(8),r=a(18),i=Object(n.a)("Arguments");!function(){i(arguments)||(i=function(e){return Object(r.a)(e,"callee")})}(),t.a=i},function(e,t,a){"use strict";var n=a(77);t.a=Object(n.a)("byteLength")},function(e,t,a){"use strict";function n(e){var t=Object(r.a)(e);return function(a){if(null==a)return!1;var n=Object(l.a)(a);if(Object(r.a)(n))return!1;for(var s=0;s<t;s++)if(!Object(i.a)(a[e[s]]))return!1;return e!==p||!Object(i.a)(a[o])}}t.a=n,a.d(t,"b",function(){return u}),a.d(t,"d",function(){return p}),a.d(t,"c",function(){return f});var r=a(14),i=a(13),l=a(33),o="forEach",s=["clear","delete"],c=["get","has","set"],u=s.concat(o,c),p=s.concat(c),f=["add"].concat(s,o,"has")},function(e,t,a){"use strict";function n(e,t){return function(a){var n=arguments.length;if(t&&(a=Object(a)),n<2||null==a)return a;for(var r=1;r<n;r++)for(var i=arguments[r],l=e(i),o=l.length,s=0;s<o;s++){var c=l[s];t&&void 0!==a[c]||(a[c]=i[c])}return a}}t.a=n},function(e,t,a){"use strict";var n=a(56),r=a(7);t.a=Object(n.a)(r.a)},function(e,t,a){"use strict";function n(e,t){for(var a=t.length,n=0;n<a;n++){if(null==e)return;e=e[t[n]]}return a?e:void 0}t.a=n},function(e,t,a){"use strict";function n(e){return e}t.a=n},function(e,t,a){"use strict";function n(e){return e=Object(i.a)(e),function(t){return Object(r.a)(t,e)}}t.a=n;var r=a(58),i=a(34)},function(e,t,a){"use strict";t.a=Date.now||function(){return(new Date).getTime()}},function(e,t,a){"use strict";function n(e){return function(){return!e.apply(this,arguments)}}t.a=n},function(e,t,a){"use strict";var n=a(99);t.a=Object(n.a)(1)},function(e,t,a){"use strict";function n(e,t){return Object(r.a)(e,Object(i.a)(t))}t.a=n;var r=a(28),i=a(60)},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=function(t){w.setWrapper({merge_buffs_now:0},A.default.silentParams,function(){"function"==typeof e&&e()})};E.getAllRowAttrs(function(e,a){var n={};if(!e||!a)return void t();e.forEach(function(e){var t="repeating_buff_"+e+"_",r="",i="",l=0,o="",s="",c="",u=[];try{u=Object.keys(a).filter(function(e){return 0===e.indexOf(t)}).filter(function(e){return/size$|macro\-text$/i.test(e)}).filter(function(e){return!!a[e]}).map(function(e){return e.indexOf("size")>=0?"size":w.getAttributeName(e).slice(5,-11)}).filter(function(e){return 1===parseInt(a[t+"buff-"+e+"-show"],10)}),v.default.size(u)&&(r=generateRowID(),i="repeating_buff2_"+r+"_",o=i+"b",n[i+"enable_toggle"]=a[t+"buff-enable_toggle"]||"0",n[i+"name"]=a[t+"buff-name"]||"",a[t+"buff-notes"]&&(n[i+"notes"]=a[t+"buff-notes"]),u.indexOf("size")>=0&&(l++,s=o+l,n[s+"-show"]=1,n[s+"_macro-text"]=a[t+"buff-size"],n[s+"_val"]=a[t+"buff-size"],n[s+"_bonus"]="size",u=v.default.without(u,"size")),u.indexOf("CMD")>=0&&u.indexOf("AC")>=0&&parseInt(a[t+"buff-AC"],10)===parseInt(a[t+"buff-CMD"],10)&&(l++,s=o+l,n[s+"-show"]=1,n[s+"_macro-text"]=a[t+"buff-AC_macro-text"],n[s+"_val"]=a[t+"buff-AC"],n[s+"_bonus"]="ac",u.indexOf("Touch")?n[s+"_bonustype"]="deflection":n[s+"_bonustype"]="untyped",u=v.default.without(u,"AC","CMD","flat-footed","Touch")),u.indexOf("Melee")>=0&&u.indexOf("Ranged")>=0&&parseInt(a[t+"buff-Melee"],10)===parseInt(a[t+"buff-Ranged"],10)&&(l++,s=o+l,n[s+"-show"]=1,n[s+"_macro-text"]=a[t+"buff-Melee_macro-text"],n[s+"_val"]=a[t+"buff-Melee"],n[s+"_bonus"]="attack",n[s+"_bonustype"]="untyped",u=v.default.without(u,"Melee","Ranged","CMB")),u.indexOf("Fort")>=0&&u.indexOf("Will")>=0&&u.indexOf("Ref")>=0&&parseInt(a[t+"buff-Fort"],10)===parseInt(a[t+"buff-Will"],10)===parseInt(a[t+"buff-Ref"],10)&&(l++,s=o+l,n[s+"-show"]=1,n[s+"_macro-text"]=a[t+"buff-Fort_macro-text"],n[s+"_val"]=a[t+"buff-Fort"],n[s+"_bonus"]="saves",n[s+"_bonustype"]="untyped",u=v.default.without(u,"Fort","Will","Ref")),u.indexOf("Check")>=0&&u.indexOf("check_skills")>=0&&parseInt(a[t+"buff-Check"],10)===parseInt(a[t+"buff-check_skills"],10)&&(l++,s=o+l,n[s+"-show"]=1,n[s+"_macro-text"]=a[t+"buff-Check_macro-text"],n[s+"_val"]=a[t+"buff-Check"],n[s+"_bonus"]="check",n[s+"_bonustype"]="untyped",u=v.default.without(u,"Check","check_skills")),u.indexOf("DMG")>=0&&u.indexOf("DMG_ranged")>=0&&parseInt(a[t+"buff-DMG"],10)===parseInt(a[t+"buff-DMG_ranged"],10)&&(l++,s=o+l,n[s+"_macro-text"]=a[t+"buff-DMG_macro-text"],n[s+"_val"]=a[t+"buff-DMG"],n[s+"_bonus"]="dmg",n[s+"_bonustype"]="untyped",n[s+"-show"]=1,u=v.default.without(u,"DMG","DMG_ranged")),u.forEach(function(e){l++,l>6&&(l=1,r=generateRowID(),i="repeating_buff2_"+r+"_",o=i+"b",n[i+"enable_toggle"]=a[t+"buff-enable_toggle"],n[i+"name"]=a[t+"buff-name"]),s=o+l,n[s+"-show"]=1,n[s+"_macro-text"]=a[t+"buff-"+e+"_macro-text"],n[s+"_val"]=a[t+"buff-"+e]||0,c=e.toLowerCase().replace("-",""),"check"===c?c="check_ability":"dmg"===c&&(c="dmg_melee"),n[s+"_bonus"]=c,n[s+"_bonustype"]="untyped"}))}catch(t){k.default.error("Buff copy error for "+e+" "+(a["repeating_buff_"+e+"_buff-name"]||""),t)}}),v.default.size(n)?(k.default.debug("##############################","MERGE BUFFS NEW BUFFS ARE: ",n),w.setWrapper(n,A.default.silentParams,t)):t()})}function s(e,t,a){var n,r=w.getRepeatingIDStr(e),i="repeating_buff2_"+r,l="",o="",s="",c=0,u="";try{a=a||{},t[i+"add_note_to_roll"]&&(s="buff_"+t[i+"add_note_to_roll"]+"_notes"),1===parseInt(t[i+"enable_toggle"],10)&&s&&(c=1),o=w.getTranslated("buff"),l="**"+o+": @{"+i+"name}:** @{"+i+"notes}",n=new RegExp(w.escapeForRegExp(l),"i"),s?(u=t[s]||"",u?n.test(u)?c||(a[s]=u.replace(n,"")):c&&(a[s]=u+l):c&&(a[s]=l),G.forEach(function(e){e!==s&&(u=t[e])&&(u=u.replace(n,""))!==t[e]&&(a[e]=u)})):G.forEach(function(e){(u=t[e])&&(u=u.replace(n,""))!==t[e]&&(a[e]=u)})}catch(e){}finally{return a}}function c(e,t){var a,n,r;(e||t)&&(e=e||w.getRowId(t.sourceAttribute),a=w.getRepeatingIDStr(e),n="repeating_buff2_"+a,r=G.concat([n+"add_note_to_roll",n+"enable_toggle"]),getAttrs(r,function(t){var a=s(e,t);v.default.size(a)&&w.setWrapper(a,A.default.silentParams)}))}function u(e,t){var a=function(){"function"==typeof e&&e()};getAttrs(B,function(e){var n={},r={};n=v.default.reduce(N,function(t,a){var n=parseInt(e["buff_"+a+"-total"],10)||0,r=parseInt(e["buff_"+a+"_exists"],10)||0;return n&&(t["buff_"+a+"-total"]=0),r&&(t["buff_"+a+"_exists"]=0),t},{}),n=v.default.reduce(C.abilities,function(t,a){var n=parseInt(e["buff_"+a+"-total_penalty"],10)||0,r=parseInt(e["buff_"+a+"_penalty_exists"],10)||0;return n&&(t["buff_"+a+"-total_penalty"]=0),r&&(t["buff_"+a+"_penalty_exists"]=0),t},n),G.forEach(function(e){n[e]=""}),v.default.size(n)?(t&&(r=A.default.silentParams),w.setWrapper(n,r,a)):a()})}function p(e,t,a){var n=[];return a&&(n=W[a]||[],n=n.concat(z[a]||[])),e.reduce(function(e,r){var i,l="repeating_buff2_"+r+"_";try{i=V.reduce(function(e,i){var o=l+i,s=o+"_bonus",c={};try{t[s]&&1===parseInt(t[o+"-show"],10)&&(!a||t[s]===a||n.indexOf(t[s])>=0)&&(c.bonus=t[s],c.val=parseInt(t[o+"_val"],10)||0,"size"===c.bonus?c.bonusType=c.bonus:"hptemp"===c.bonus?c.bonusType="untyped":L.indexOf(c.bonus)>=0?"enhancement"===t[o+"_bonustype"]?c.bonusType="enhancement":c.bonusType=c.bonus:c.bonusType=t[o+"_bonustype"]||"untyped",e.push(c))}catch(e){k.default.error("PFBuffs.assembleRows col:"+a+", row:"+r+", buff:"+i,e)}finally{return e}},[]),i&&v.default.size(i)&&(e=e.concat(i))}catch(e){k.default.error("PFBuffs.assembleRows erri3:",e)}finally{return e}},[])}function f(e,t,a,n){var r=0,i={},l={sum:0,pen:0},o=0,s=0,c=0,u="",p=1,f=[e];try{if(n=n||{},r=C.abilities.indexOf(e)>=0&&e.indexOf("skill")<9,W[e]&&(f=f.concat(W[e])),t=t.filter(function(e){return f.indexOf(e.bonus)>=0?1:0}),t&&v.default.size(t)&&(k.default.debug("PFBUFFS ROWS NOW:",t),"hptemp"===e?l.sum=t.filter(function(e){return e.val>0}).reduce(function(e,t){return e+=t.val||0},0):"size"===e?(l=t.reduce(function(e,t){return t.val>0?e.sum=Math.max(e.sum,t.val):t.val<0&&(e.pen=Math.min(e.pen,t.val)),e},l),l.sum+=l.pen):(i=t.reduce(function(t,a){return a.bonus===e&&(a.val<0?t.penalty=(t.penalty||0)+a.val:X.includes(a.bonusType)?t[a.bonusType]=(t[a.bonusType]||0)+a.val:t[a.bonusType]=Math.max(t[a.bonusType]||0,a.val)),t},{}),v.default.size(f)>1&&(i=t.reduce(function(t,a){return X.indexOf(a.bonusType)<0&&W[e].indexOf(a.bonus)>=0&&a.val>0&&t[a.bonusType]>0&&(a.val<t[a.bonusType]?t[a.bonusType]-=a.val:t[a.bonusType]=0),t},i)),"armor"===e&&i.armor>0||"shield"===e&&i.shield>0?(k.default.debug("PFBUFFS ac bonsuses  ",i,q[e]),l.sum=v.default.reduce(i,function(e,t,a){return t>0&&(e+=t),e},0),l.pen=v.default.reduce(i,function(e,t,a){return t<0&&(e+=t),e},0),p=parseInt(a[e+"3-equipped"],10)||0,o=0,p&&(o=v.default.reduce(q[e],function(e,t,n){return e+=parseInt(a[t],10)||0},0)),l.sum>0&&o>0&&(l.sum<=o?l.sum=0:l.sum>o&&(l.sum-=o)),0!==l.pen&&(l.sum+=l.pen)):(v.default.each(q[e],function(e,t){k.default.debug("PFBUFFS ################## type:"+t+", comparing to "+e),i[t]&&(o=parseInt(a[e],10)||0,i[t]<=o?i[t]=0:i[t]-=o)}),r&&v.default.contains(i,"penalty")&&(l.pen=i.penalty,i.penalty=0),"ac"===e&&i.dodge&&("ac"===e&&(s+=i.dodge),i.dodge=0),l.sum=v.default.reduce(i,function(e,t,a){return e+=t},0)))),"ac"===e&&(k.default.info("column is AC, setting dodge to "+s),c=parseInt(a["buff_dodge-total"],10)||0,s!==c&&(n["buff_dodge-total"]=s),o=parseInt(a.buff_dodge_exists,10)||0,s&&!o?n.buff_dodge_exists=1:o&&!s&&(n.buff_dodge_exists=0)),"cmd"===e&&0!==i.dodge){k.default.info("column is CMD, setting buffsFFcmdOnlyTemp to dodge buff:"+i.dodge);var d=i.dodge;n["buff_ffCMD-nododge"]=d,k.default.info("buff_ffCMD-nododge now set same as dodge buff:"+d)}u=R[e],u?(parseInt(a["buff_"+u+"-total"],10)!==l.sum&&(n["buff_"+u+"-total"]=l.sum),o=parseInt(a["buff_"+u+"_exists"],10)||0,0!==l.sum&&0===o?n["buff_"+u+"_exists"]=1:0===l.sum&&1===o&&(n["buff_"+u+"_exists"]=0),r&&(parseInt(a["buff_"+u+"-total_penalty"],10)!==l.pen&&(n["buff_"+u+"-total_penalty"]=l.pen),o=parseInt(a["buff_"+u+"_penalty_exists"],10)||0,0!==l.pen&&0===o?n["buff_"+u+"_penalty_exists"]=1:0===l.pen&&1===o&&(n["buff_"+u+"_penalty_exists"]=0))):k.default.error("PFBuffs.updateBuffTotal cannot find total column corresponding to "+e)}catch(e){k.default.error("PFBuffs.updateBuffTotal",e)}finally{return k.default.debug("######################","PFBuffs setting ",n),n}}function d(e,t,a){var n=v.default.once(function(){"function"==typeof t&&t()}),r=C.abilities.indexOf(e)>=0&&e.indexOf("skill")<0;getSectionIDs("repeating_buff2",function(i){var l,o,s,c=[],d=[],m=[];if(i&&v.default.size(i)){try{l=w.cartesianAppend(["repeating_buff2_"],i,$),d=[e],m=[e],z[e]&&(d=d.concat(z[e]),m=m.concat(z[e])),W[e]&&(d=d.concat(W[e])),c=m.map(function(e){return R[e]}),"ac"===e&&c.push("dodge"),o=c.map(function(e){return"buff_"+e+"-total"}).concat(c.map(function(e){return"buff_"+e+"_exists"})),r&&(o=o.concat(["buff_"+R[e]+"-total_penalty","buff_"+R[e]+"_penalty_exists"])),l=l.concat(o),l=l.concat(G),s=d.reduce(function(e,t){return q[t]&&v.default.each(q[t],function(t,a){e.push(t)}),e},[]),v.default.size(s)&&(l=l.concat(s)),"armor"===e?l.push("armor3-equipped"):"shield"===e&&l.push("shield3-equipped")}catch(t){return k.default.error("PFBUffs.updateBuffTotalAsync2 "+e+" error before getAttrs",t),void n()}getAttrs(l,function(t){var r,l={},o={},s=0;try{i=i.filter(function(e){return parseInt(t["repeating_buff2_"+e+"_enable_toggle"],10)||0}),v.default.size(i)?(r=p(i,t,e),o=m.reduce(function(e,a){return f(a,r,t,e)},o)):u()}catch(t){k.default.error("PFBuffs.updateBuffTotalAsync errou on col "+e,t)}finally{v.default.size(o)?(a&&(l=A.default.silentParams),v.default.each(o,function(e,a){if(Z.buffEventsTotalOnUpdate[a]){var n=parseInt(t[a],10)||0;s+=parseInt(e,10)-n}}),s&&D.updateAllSkillsDiff(s,0),w.setWrapper(o,l,n)):n()}})}else u(t)})}function m(e,t,a){var n=v.default.once(function(){"function"==typeof e&&e()});getSectionIDs("repeating_buff2",function(e){var a;if(!e||0===v.default.size(e))return void u(n,t);a=w.cartesianAppend(["repeating_buff2_"],e,$),a=a.concat(B),a=a.concat(U),a=a.concat(["armor3-equipped","shield3-equipped"]),getAttrs(a,function(a){var r=[],i={},l={};try{if(!(e=e.filter(function(e){return parseInt(a["repeating_buff2_"+e+"_enable_toggle"],10)||0}))||0===v.default.size(e))return void u(n,t);G.forEach(function(e){l[e]="",a[e]=""}),l=e.reduce(function(e,t){return e=s(t,a,e),a=v.default.extend(a,e),e},l),r=p(e,a),v.default.each(F,function(e){l=f(e,r,a,l)})}catch(e){k.default.error("PFBuffs.updateAllBuffTotalsAsync2 errou on col ",e)}finally{v.default.size(l)?(t&&(i=A.default.silentParams),w.setWrapper(l,i,n)):n()}})})}function _(e){var t=v.default.once(function(){"function"==typeof e&&e()});getAttrs(B,function(e){var a={},n=function(t,a){var n,r;return a=a||"",n=parseInt(e[t+"-total"+a],10)||0,r=parseInt(e[t+a+"_exists"],10)||0,0===n||r?0===n&&r?0:-1:1};try{a=v.default.reduce(N,function(e,t){var a,r;return a="buff_"+t,r=n(a,""),1!==r&&0!==r||(e[a+"_exists"]=r),e},a),a=v.default.reduce(C.abilities,function(e,t){var a,r;return a="buff_"+t,r=n(a,"_penalty"),1!==r&&0!==r||(e[a+"_penalty_exists"]=r),e},a)}catch(e){k.default.error("PFBuffs.resetStatuspanel2 error inside calculate exists",e)}finally{v.default.size(a)>0?w.setWrapper(a,A.default.silentParams,t):t()}})}function g(e,t){var a=v.default.once(function(){"function"==typeof e&&e()}),n=["_b1-show","_b1_val","_b1_macro-text","_b2-show","_b2_val","_b2_macro-text","_b3-show","_b3_val","_b3_macro-text","_b4-show","_b4_val","_b4_macro-text","_b5-show","_b5_val","_b5_macro-text","_b6-show","_b6_val","_b6_macro-text","_enable_toggle"],r=function(e,t,a){var n=v.default.after(6,e);try{V.forEach(function(e){parseInt(a["repeating_buff2_"+t+"_enable_toggle"],10)&&parseInt(a["repeating_buff2_"+t+"_"+e+"-show"],10)?w.evaluateAndSetNumber("repeating_buff2_"+t+"_"+e+"_macro-text","repeating_buff2_"+t+"_"+e+"_val",0,n,!0):n()})}catch(e){k.default.error("PFBuffs.reEvaluateCustomMacros2:  rowid"+t,e),n()}};getSectionIDs("repeating_buff",function(e){var t;try{v.default.size(e)>0?(t=w.cartesianAppend(["repeating_buff2_"],e,n),getAttrs(t,function(t){var n=v.default.size(e),i=v.default.after(n,a);e.forEach(function(e){r(i,e,t)})})):u(a)}catch(e){k.default.error("PFBuffs.reEvaluateCustomMacros2",e),a()}})}function b(e,t,a){var n,r="",i={},l=0,o=0,s=0,c=0,u=0,p=0;if(!e)return i;switch(n=generateRowID(),r="repeating_buff2_"+n+"_",i[r+"enable_toggle"]=a?1:0,i[r+"tabcat2"]="1",t&&(o=parseInt(t["CON-mod"],10),s=parseInt(t["speed-base"],10),c=parseInt(t.level,10),p=parseInt(t.bab,10),isNaN(o)||isNaN(s)||isNaN(c)||isNaN(p)||(l=1)),e){case"rage":i[r+"name"]=w.getTranslated("buff-rage"),i[r+"bufftype"]="class",i[r+"tabcat"]="class",i[r+"b1-show"]=1,i[r+"b1_bonus"]="str",i[r+"b1_bonustype"]="morale",i[r+"b1_macro-text"]="4 + min(4,2*(floor(@{level}/11)+floor(@{level}/20)))",u=1===l?c<11?4:20===c?8:6:4,i[r+"b1_val"]=u,i[r+"b2-show"]=1,i[r+"b2_bonus"]="con",i[r+"b2_bonustype"]="morale",i[r+"b2_macro-text"]="4 + min(4,2*(floor(@{level}/11)+floor(@{level}/20)))",i[r+"b2_val"]=u,i[r+"b3-show"]=1,i[r+"b3_bonus"]="ac",i[r+"b3_bonustype"]="untyped",i[r+"b3_macro-text"]="-2",i[r+"b3_val"]=-2,i[r+"b4-show"]=1,i[r+"b4_bonus"]="will",i[r+"b4_bonustype"]="morale",i[r+"b4_macro-text"]="2 + min(4,(floor(@{level}/11)+floor(@{level}/20)))",u/=2,i[r+"b4_val"]=u,i[r+"add_note_to_roll"]="skill",i[r+"notes"]=w.getTranslated("buff-rage-note"),i[r+"description-show"]=1;break;case"unchainedrage":i[r+"name"]=w.getTranslated("buff-rage-unchained"),i[r+"bufftype"]="class",i[r+"tabcat"]="class",i[r+"b1-show"]=1,i[r+"b1_bonus"]="melee",i[r+"b1_bonustype"]="untyped",i[r+"b1_macro-text"]="2 + min(2,(floor(@{level}/11)+floor(@{level}/20)))",u=1===l?c<11?2:20===c?4:3:2,i[r+"b1_val"]=u,i[r+"b2-show"]=1,i[r+"b2_bonus"]="dmg_melee",i[r+"b2_bonustype"]="untyped",i[r+"b2_macro-text"]="2 + min(2,(floor(@{level}/11)+floor(@{level}/20)))",i[r+"b2_val"]=u,i[r+"b3-show"]=1,i[r+"b3_bonus"]="ac",i[r+"b3_bonustype"]="untyped",i[r+"b3_macro-text"]="-2",i[r+"b3_val"]=-2,i[r+"b4-show"]=1,i[r+"b4_bonus"]="will",i[r+"b4_bonustype"]="untyped",i[r+"b4_macro-text"]="2 + min(2,(floor(@{level}/11)+floor(@{level}/20)))",u=u,i[r+"b4_val"]=u,i[r+"b5-show"]=1,i[r+"b5_bonus"]="hptemp",i[r+"b5_hide"]=1,i[r+"b5_macro-text"]="@{level}*(2+(floor(@{level}/11)+floor(@{level}/20)))",u*=c,i[r+"b5_val"]=u,i[r+"add_note_to_roll"]="skill",i[r+"notes"]=w.getTranslated("buff-rage-note"),i[r+"description-show"]=1;break;case"prayer":i[r+"name"]=w.getTranslated("buff-prayer"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_bonustype"]="luck",i[r+"b1_macro-text"]="1",i[r+"b1_val"]=1,i[r+"b2-show"]=1,i[r+"b2_bonus"]="dmg",i[r+"b2_bonustype"]="luck",i[r+"b2_macro-text"]="1",i[r+"b2_val"]=1,i[r+"b3-show"]=1,i[r+"b3_bonus"]="saves",i[r+"b3_bonustype"]="luck",i[r+"b3_macro-text"]="1",i[r+"b3_val"]=1,i[r+"b4-show"]=1,i[r+"b4_bonus"]="check_skills",i[r+"b4_bonustype"]="luck",i[r+"b4_macro-text"]="1",i[r+"b4_val"]=1;break;case"prayerdebuff":i[r+"name"]=w.getTranslated("buff-prayer-debuff"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_bonustype"]="luck",i[r+"b1_macro-text"]="-1",i[r+"b1_val"]=-1,i[r+"b2-show"]=1,i[r+"b2_bonus"]="dmg",i[r+"b2_bonustype"]="luck",i[r+"b2_macro-text"]="-1",i[r+"b2_val"]=-1,i[r+"b3-show"]=1,i[r+"b3_bonus"]="saves",i[r+"b3_bonustype"]="luck",i[r+"b3_macro-text"]="-1",i[r+"b3_val"]=-1,i[r+"b4-show"]=1,i[r+"b4_bonus"]="check_skills",i[r+"b4_bonustype"]="luck",i[r+"b4_macro-text"]="-1",i[r+"b4_val"]=-1;break;case"bless":i[r+"name"]=w.getTranslated("buff-bless"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_bonustype"]="morale",i[r+"b1_macro-text"]="1",i[r+"b1_val"]=1,i[r+"b2-show"]=0,i[r+"b2_bonus"]="will",i[r+"b2_bonustype"]="morale",i[r+"b2_macro-text"]="1",i[r+"b2_val"]=1,i[r+"add_note_to_roll"]="save",i[r+"notes"]=w.getTranslated("buff-bless-note"),i[r+"description-show"]=1;break;case"aid":i[r+"name"]=w.getTranslated("buff-aid"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_bonustype"]="morale",i[r+"b1_macro-text"]="1",i[r+"b2-show"]=0,i[r+"b2_bonus"]="will",i[r+"b2_bonustype"]="morale",i[r+"b2_macro-text"]="2",i[r+"b2_val"]=2,i[r+"b3-show"]=1,i[r+"b3_bonus"]="hptemp",i[r+"b3_hide"]=1,i[r+"b3_val_error"]=1,i[r+"b3_macro-text"]="1d8 + @{level}",u=l?4+c:4,i[r+"b3_val"]=u,i[r+"add_note_to_roll"]="save",i[r+"notes"]=w.getTranslated("buff-aid-note"),i[r+"description-show"]=1;break;case"haste":i[r+"name"]=w.getTranslated("buff-haste"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_bonustype"]="untyped",i[r+"b1_macro-text"]="1",i[r+"b1_val"]=1,i[r+"b2-show"]=1,i[r+"b2_bonus"]="ac",i[r+"b2_bonustype"]="dodge",i[r+"b2_macro-text"]="1",i[r+"b2_val"]=1,i[r+"b3-show"]=1,i[r+"b3_bonus"]="ref",i[r+"b3_bonustype"]="dodge",i[r+"b3_macro-text"]="1",i[r+"b3_val"]=1,i[r+"b4-show"]=1,i[r+"b4_bonus"]="speed",i[r+"b4_bonustype"]="enhancement",i[r+"b4_macro-text"]="min(@{speed-base},30)",u=30,l&&s<30&&(u=s),i[r+"b4_val"]=u,i[r+"add_note_to_roll"]="attack",i[r+"notes"]=w.getTranslated("buff-haste-note"),i[r+"description-show"]=1;break;case"enlargeperson":i[r+"name"]=w.getTranslated("buff-enlarge-person"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="size",i[r+"b1_hide"]=1,i[r+"b1_macro-text"]="1",i[r+"b1_val"]=1,i[r+"b2-show"]=1,i[r+"b2_bonus"]="str",i[r+"b2_bonustype"]="size",i[r+"b2_macro-text"]="2",i[r+"b2_val"]=2,i[r+"b3-show"]=1,i[r+"b3_bonus"]="dex",i[r+"b3_bonustype"]="size",i[r+"b3_macro-text"]="-2",i[r+"b3_val"]=-2,i[r+"notes"]=w.getTranslated("buff-enlarge-person-note");break;case"divinefavor":i[r+"name"]=w.getTranslated("buff-divine-favor"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_bonustype"]="luck",i[r+"b1_macro-text"]="min(3, max(1, floor(@{level}/3)))",u=1,l&&(u=c<=5?1:c<=8?2:3),i[r+"b1_val"]=u,i[r+"b2-show"]=1,i[r+"b2_bonus"]="dmg",i[r+"b2_bonustype"]="luck",i[r+"b2_macro-text"]="min(3, max(1, floor(@{level}/3)))",i[r+"b2_val"]=u;break;case"shieldoffaith":i[r+"name"]=w.getTranslated("buff-shield-of-faith"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="ac",i[r+"b1_bonustype"]="deflection",i[r+"b1_macro-text"]="2+floor((@{level})/6)",u=2,l&&(u=c<6?2:c<12?3:c<18?4:5),i[r+"b1_val"]=u;break;case"shield":i[r+"name"]=w.getTranslated("buff-shield"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="shield",i[r+"b1_bonustype"]="shield",i[r+"b1_macro-text"]="4",i[r+"b1_val"]=4,i[r+"add_note_to_roll"]="defense",i[r+"notes"]=w.getTranslated("buff-shield-note"),i[r+"description-show"]=1;break;case"magearmor":i[r+"name"]=w.getTranslated("buff-mage-armor"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="armor",i[r+"b1_bonustype"]="armor",i[r+"b1_macro-text"]="4",i[r+"b1_val"]=4,i[r+"add_note_to_roll"]="defense",i[r+"notes"]=w.getTranslated("buff-magearmor-note"),i[r+"description-show"]=1;break;case"inspirecourage":i[r+"name"]=w.getTranslated("buff-inspire-courage"),i[r+"bufftype"]="song",i[r+"tabcat"]="song",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_bonustype"]="competence",i[r+"b1_macro-text"]="1+floor((@{level}+1)/6)",u=1,l&&(u=c<5?1:c<11?2:c<16?3:4),i[r+"b1_val"]=u,i[r+"b3-show"]=1,i[r+"b3_bonus"]="dmg",i[r+"b3_bonustype"]="competence",i[r+"b3_macro-text"]="1+floor((@{level}+1)/6)",i[r+"b3_val"]=u,i[r+"b2-show"]=0,i[r+"b2_bonus"]="will",i[r+"b2_bonustype"]="morale",i[r+"b2_macro-text"]="1+floor((@{level}+1)/6)",i[r+"b2_val"]=u,i[r+"add_note_to_roll"]="save",i[r+"notes"]=w.getTranslated("buff-inspire-courage-note"),i[r+"description-show"]=1;break;case"inspiregreatness":i[r+"name"]=w.getTranslated("buff-inspire-greatness"),i[r+"bufftype"]="song",i[r+"tabcat"]="song",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_bonustype"]="competence",i[r+"b1_macro-text"]="2",i[r+"b1_val"]=2,i[r+"b2-show"]=1,i[r+"b2_bonus"]="fort",i[r+"b2_bonustype"]="competence",i[r+"b2_macro-text"]="2",i[r+"b2_val"]=2,i[r+"b3-show"]=1,i[r+"b3_bonus"]="hptemp",i[r+"b3_hide"]=1,i[r+"b3_macro-text"]="2d10+(2*@{CON-mod})",u=10,l&&(u=10+2*o),i[r+"b3_val"]=u,i[r+"b3_val_error"]=1,i[r+"b4-show"]=1,i[r+"b4_bonus"]="casterlevel",i[r+"b4_bonustype"]="untyped",i[r+"b4_macro-text"]="2",i[r+"b4_val"]=2;break;case"inspireheroics":i[r+"name"]=w.getTranslated("buff-inspire-heroics"),i[r+"bufftype"]="song",i[r+"tabcat"]="song",i[r+"b1-show"]=1,i[r+"b1_bonus"]="saves",i[r+"b1_bonustype"]="morale",i[r+"b1_macro-text"]="4",i[r+"b1_val"]=4,i[r+"b2-show"]=1,i[r+"b2_bonus"]="ac",i[r+"b2_bonustype"]="dodge",i[r+"b2_macro-text"]="4",i[r+"b2_val"]=4;break;case"inspiredrage":i[r+"name"]=w.getTranslated("buff-inspired-rage"),i[r+"bufftype"]="song",i[r+"tabcat"]="song",i[r+"b1-show"]=1,i[r+"b1_bonus"]="str",i[r+"b1_bonustype"]="morale",i[r+"b1_macro-text"]="2+(2*floor(@{level}/8))",u=2,l&&(u=c<8?2:c<16?4:6),i[r+"b1_val"]=u,i[r+"b2-show"]=1,i[r+"b2_bonus"]="con",i[r+"b2_bonustype"]="morale",i[r+"b2_macro-text"]="2+(2*floor(@{level}/8))",i[r+"b2_val"]=u,i[r+"b3-show"]=1,i[r+"b3_bonus"]="ac",i[r+"b3_bonustype"]="untyped",i[r+"b3_macro-text"]="-1",i[r+"b3_val"]=-1,i[r+"b4-show"]=1,i[r+"b4_bonus"]="will",i[r+"b4_bonustype"]="morale",i[r+"b4_macro-text"]="1+floor(@{level}/4)",u=1,l&&(u=1+Math.floor(c/4)),i[r+"b4_val"]=u,i[r+"add_note_to_roll"]="skill",i[r+"notes"]=w.getTranslated("buff-inspired-rage-note"),i[r+"description-show"]=1;break;case"heroism":i[r+"name"]=w.getTranslated("buff-heroism"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_bonustype"]="morale",i[r+"b1_macro-text"]="2",i[r+"b1_val"]=2,i[r+"b2-show"]=1,i[r+"b2_bonus"]="saves",i[r+"b2_bonustype"]="morale",i[r+"b2_macro-text"]="2",i[r+"b2_val"]=2,i[r+"b3-show"]=1,i[r+"b3_bonus"]="check_skills",i[r+"b3_bonustype"]="morale",i[r+"b3_macro-text"]="2",i[r+"b3_val"]=2;break;case"blessingoffervor":i[r+"name"]=w.getTranslated("buff-blessing-of-fervor"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_bonustype"]="untyped",i[r+"b1_macro-text"]="2",i[r+"b1_val"]=2,i[r+"b2-show"]=1,i[r+"b2_bonus"]="ac",i[r+"b2_bonustype"]="dodge",i[r+"b2_macro-text"]="2",i[r+"b2_val"]=2,i[r+"b3-show"]=1,i[r+"b3_bonus"]="ref",i[r+"b3_bonustype"]="dodge",i[r+"b3_macro-text"]="2",i[r+"b3_val"]=2,i[r+"b4-show"]=1,i[r+"b4_bonus"]="speed",i[r+"b4_bonustype"]="enhancement",i[r+"b4_macro-text"]="30",i[r+"b4_val"]=30,i[r+"notes"]=w.getTranslated("buff-blessing-of-fervor-note"),i[r+"description-show"]=1;break;case"goodhope":i[r+"name"]=w.getTranslated("buff-good-hope"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_bonustype"]="morale",i[r+"b1_macro-text"]="2",i[r+"b1_val"]=2,i[r+"b2-show"]=1,i[r+"b2_bonus"]="dmg",i[r+"b2_bonustype"]="morale",i[r+"b2_macro-text"]="2",i[r+"b2_val"]=2,i[r+"b3-show"]=1,i[r+"b3_bonus"]="saves",i[r+"b3_bonustype"]="morale",i[r+"b3_macro-text"]="2",i[r+"b3_val"]=2,i[r+"b4-show"]=1,i[r+"b4_bonus"]="check",i[r+"b4_bonustype"]="morale",i[r+"b4_macro-text"]="2",i[r+"b4_val"]=2;break;case"crushingdespair":i[r+"name"]=w.getTranslated("buff-crushing-despair"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_macro-text"]="-2",i[r+"b1_val"]=-2,i[r+"b2-show"]=1,i[r+"b2_bonus"]="dmg",i[r+"b2_macro-text"]="-2",i[r+"b2_val"]=-2,i[r+"b3-show"]=1,i[r+"b3_bonus"]="saves",i[r+"b3_macro-text"]="-2",i[r+"b3_val"]=-2,i[r+"b4-show"]=1,i[r+"b4_bonus"]="check",i[r+"b4_macro-text"]="-2",i[r+"b4_val"]=-2;break;case"archonsaura":i[r+"name"]=w.getTranslated("buff-archons-aura"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_macro-text"]="-2",i[r+"b1_val"]=-2,i[r+"b2-show"]=1,i[r+"b2_bonus"]="saves",i[r+"b2_macro-text"]="-2",i[r+"b2_val"]=-2,i[r+"b3-show"]=1,i[r+"b3_bonus"]="ac",i[r+"b3_macro-text"]="-2",i[r+"b3_val"]=-2,i[r+"add_note_to_roll"]="defense",i[r+"description-show"]="1",i[r+"notes"]=w.getTranslated("buff-archons-aura-note");break;case"curse":i[r+"name"]=w.getTranslated("buff-curse"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="str",i[r+"b1_macro-text"]="-6",i[r+"b1_val"]=-6,i[r+"b2-show"]=1,i[r+"b2_bonus"]="attack",i[r+"b2_macro-text"]="-4",i[r+"b2_val"]=-4,i[r+"b2-show"]=1,i[r+"b2_bonus"]="saves",i[r+"b2_macro-text"]="-4",i[r+"b2_val"]=-4,i[r+"b2-show"]=1,i[r+"b2_bonus"]="check",i[r+"b2_macro-text"]="-4",i[r+"b2_val"]=-4,i[r+"description-show"]="1",i[r+"notes"]=w.getTranslated("buff-curse-note");break;case"desecrate":i[r+"name"]=w.getTranslated("buff-desecrate"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_bonustype"]="profane",i[r+"b1_macro-text"]="1",i[r+"b1_val"]=1,i[r+"b2-show"]=1,i[r+"b2_bonus"]="dmg",i[r+"b2_bonustype"]="profane",i[r+"b2_macro-text"]="1",i[r+"b2_val"]=1,i[r+"b3-show"]=1,i[r+"b3_bonus"]="saves",i[r+"b3_bonustype"]="profane",i[r+"b3_macro-text"]="1",i[r+"b3_val"]=1,i[r+"add_note_to_roll"]="save",i[r+"description-show"]="1",i[r+"notes"]=w.getTranslated("buff-desecrate-note");break;case"consecrate":i[r+"name"]=w.getTranslated("buff-consecrate"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_macro-text"]="-1",i[r+"b1_val"]=-1,i[r+"b2-show"]=1,i[r+"b2_bonus"]="dmg",i[r+"b2_macro-text"]="-1",i[r+"b2_val"]=-1,i[r+"b3-show"]=1,i[r+"b3_bonus"]="saves",i[r+"b3_macro-text"]="-1",i[r+"b3_val"]=-1,i[r+"add_note_to_roll"]="save",i[r+"description-show"]="1",i[r+"notes"]=w.getTranslated("buff-consecrate-note");break;case"slow":i[r+"name"]=w.getTranslated("buff-slow"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_macro-text"]="-1",i[r+"b1_val"]=-1,i[r+"b2-show"]=1,i[r+"b2_bonus"]="ac",i[r+"b2_macro-text"]="-1",i[r+"b2_val"]=-1,i[r+"b3-show"]=1,i[r+"b3_bonus"]="ref",i[r+"b3_macro-text"]="-1",i[r+"b3_val"]=-1,i[r+"b4-show"]=1,i[r+"b3_bonus"]="speed",i[r+"b3_macro-text"]="-ceil(ceil(@{speed-base}/2)/5)*5",i[r+"b3_val"]=-15,i[r+"description-show"]="1",i[r+"notes"]=w.getTranslated("buff-slow-note");break;case"reduceperson":i[r+"name"]=w.getTranslated("buff-reduce-person"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="size",i[r+"b1_hide"]=1,i[r+"b1_macro-text"]="-1",i[r+"b1_val"]=-1,i[r+"b2-show"]=1,i[r+"b2_bonus"]="str",i[r+"b2_bonustype"]="size",i[r+"b2_macro-text"]="-2",i[r+"b2_val"]=-2,i[r+"b3-show"]=1,i[r+"b3_bonus"]="dex",i[r+"b3_bonustype"]="size",i[r+"b3_macro-text"]="+2",i[r+"b3_val"]=2,i[r+"notes"]=w.getTranslated("buff-reduce-person-note");break;case"bane":i[r+"name"]=w.getTranslated("buff-bane"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_macro-text"]="-1",i[r+"b1_val"]=-1,i[r+"b2-show"]=0,i[r+"b2_bonus"]="will",i[r+"b2_macro-text"]="-1",i[r+"b2_val"]=-1,i[r+"add_note_to_roll"]="save",i[r+"description-show"]="1",i[r+"notes"]=w.getTranslated("buff-bane-note");break;case"deathknell":i[r+"name"]=w.getTranslated("buff-death-knell"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="str",i[r+"b1_bonustype"]="enhancement",i[r+"b1_macro-text"]="2",i[r+"b1_val"]=2,i[r+"b2-show"]=1,i[r+"b2_bonus"]="casterlevel",i[r+"b2_bonustype"]="untyped",i[r+"b2_macro-text"]="1",i[r+"b2_val"]=1,i[r+"b3-show"]=1,i[r+"b3_bonus"]="hptemp",i[r+"b3_hide"]=1,i[r+"b3_macro-text"]="1d8",i[r+"b3_val"]=4,i[r+"b3_val_error"]=1,i[r+"description-show"]="1",i[r+"notes"]="roll 1d8 and place in temp hp macro textbox";break;case"magicvestment":i[r+"name"]=w.getTranslated("buff-magic-vestment"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="armor",i[r+"b1_bonustype"]="enhancement",i[r+"b1_macro-text"]="min(5,floor(@{level}/4))",u=1,l&&(u=1+Math.floor(c/8)),i[r+"b1_val"]=u,i[r+"description-show"]="1",i[r+"notes"]="Can change bonus to shield";break;case"ward":i[r+"name"]=w.getTranslated("buff-ward"),i[r+"bufftype"]="hex",i[r+"tabcat"]="hex",i[r+"b1-show"]=1,i[r+"b1_bonus"]="ac",i[r+"b1_bonustype"]="deflection",i[r+"b1_macro-text"]="2 + (floor(@{level}/8))",u=2,l&&(u=2+Math.floor(c/8)),i[r+"b1_val"]=u,i[r+"b2-show"]=1,i[r+"b2_bonus"]="saves",i[r+"b2_bonustype"]="resistance",i[r+"b2_macro-text"]="2 + (floor(@{level}/8))",i[r+"b2_val"]=u,i[r+"add_note_to_roll"]="save",i[r+"description-show"]="1",i[r+"notes"]=w.getTranslated("buff-ward-note");break;case"battlespirit":i[r+"name"]=w.getTranslated("buff-battle-spirit"),i[r+"bufftype"]="aura",i[r+"tabcat"]="aura",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_bonustype"]="morale",i[r+"b1_macro-text"]="1 + (floor(@{level}/8))",u=1,l&&(u=1+Math.floor(c/8)),i[r+"b1_val"]=u,i[r+"b2-show"]=1,i[r+"b2_bonus"]="dmg",i[r+"b2_bonustype"]="morale",i[r+"b2_macro-text"]="1 + (floor(@{level}/8))",i[r+"b2_val"]=u;break;case"battleward":i[r+"name"]=w.getTranslated("buff-battle-ward"),i[r+"bufftype"]="hex",i[r+"tabcat"]="hex",i[r+"b1-show"]=1,i[r+"b1_bonus"]="ac",i[r+"b1_bonustype"]="deflection",i[r+"b1_macro-text"]="3 + (floor(@{level}/8))",u=3,l&&(u=3+Math.floor(c/8)),i[r+"b1_val"]=u,i[r+"add_note_to_roll"]="defense",i[r+"description-show"]="1",i[r+"notes"]=w.getTranslated("buff-battle-ward-note");break;case"hamperinghex":i[r+"name"]=w.getTranslated("buff-hampering-hex"),i[r+"bufftype"]="hex",i[r+"tabcat"]="hex",i[r+"b1-show"]=1,i[r+"b1_bonus"]="ac",i[r+"b1_macro-text"]="-2",i[r+"b1_val"]=-2,i[r+"notes"]="At 8th level the penalty becomes -4";break;case"boneward":i[r+"name"]=w.getTranslated("buff-bone-ward"),i[r+"bufftype"]="hex",i[r+"tabcat"]="hex",i[r+"b1-show"]=1,i[r+"b1_bonus"]="ac",i[r+"b1_bonustype"]="deflection",i[r+"b1_macro-text"]="2 + (floor(@{level}/8))",u=2,l&&(u=2+Math.floor(c/8)),i[r+"b1_val"]=u;break;case"stardust":i[r+"name"]=w.getTranslated("buff-stardust"),i[r+"bufftype"]="spell",i[r+"tabcat"]="spell",i[r+"b1-show"]=1,i[r+"b1_bonus"]="attack",i[r+"b1_macro-text"]="-1 - (floor(@{level}/4))",u=-1,l&&(u=-1*(1+Math.floor(c/4))),i[r+"b1_val"]=u,i[r+"add_note_to_roll"]="skill",i[r+"description-show"]="1",i[r+"notes"]=w.getTranslated("buff-stardust-note");break;case"airbarrier":i[r+"name"]=w.getTranslated("buff-air-barrier"),i[r+"bufftype"]="hex",i[r+"tabcat"]="hex",i[r+"b1-show"]=1,i[r+"b1_bonus"]="armor",i[r+"b1_bonustype"]="armor",i[r+"b1_macro-text"]="4 + (2*(floor (max((@{level}-3),0) /4)))",u=4,l&&(c<7?u=4:u<11?u=6:u<15?u=8:u<19&&(u=10)),i[r+"b1_val"]=u,i[r+"description-show"]="1",i[r+"notes"]=w.getTranslated("buff-air-barrier-note");break;case"elementaloverflow":i[r+"name"]=w.getTranslated("buff-elemental-overflow"),i[r+"bufftype"]="class",i[r+"tabcat"]="class",i[r+"b1-show"]=1,i[r+"b1_bonus"]="kineticblast",i[r+"b1_bonustype"]="untyped",i[r+"b1_macro-text"]="min(@{kineticistburn},max(0,floor(@{kineticist_level-mod}/3)))",i[r+"b1_val"]=0,i[r+"b2-show"]=1,i[r+"b2_bonus"]="dmg_kineticblast",i[r+"b2_bonustype"]="untyped",i[r+"b2_macro-text"]="2*min(@{kineticistburn},max(0,floor(@{kineticist_level-mod}/3)))",i[r+"b2_val"]=0,i[r+"b3-show"]=1,i[r+"b3_bonus"]="dex",i[r+"b3_bonustype"]="size",i[r+"b3_macro-text"]="min(3,max(0,floor((@{kineticistburn}-1)/2)),floor((@{kineticist_level-mod}-1)/5))*2",i[r+"b3_val"]=0,i[r+"b4-show"]=1,i[r+"b4_bonus"]="con",i[r+"b4_bonustype"]="size",i[r+"b4_macro-text"]="min(2,max(0,floor((@{kineticistburn}+1)/4)),floor((@{kineticist_level-mod}+4)/10))*2",i[r+"b4_val"]=0,i[r+"b5-show"]=1,i[r+"b5_bonus"]="str",i[r+"b5_bonustype"]="size",i[r+"b5_macro-text"]="min(1,max(0,floor(@{kineticistburn}/5)),floor(@{kineticist_level-mod}/11))*2",i[r+"b5_val"]=0,i[r+"description-show"]="1",i[r+"add_note_to_roll"]="defense",i[r+"notes"]="**:"+w.getTranslated("buff-elemental-overflow")+"** [[({1d1,{1d0,(@{kineticist_level-mod}-2)d1}kh1}kl1)*5*@{kineticistburn}]]**%** "+w.getTranslated("buff-elemental-overflow-note");break;case"powerattack":i[r+"name"]=w.getTranslated("buff-power-attack"),i[r+"bufftype"]="other",i[r+"tabcat"]="other",i[r+"b1-show"]=1,i[r+"b1_bonus"]="melee",i[r+"b1_bonustype"]="untyped",i[r+"b1_macro-text"]="-1-floor(@{bab}/4)",u=1,l&&(u=1+Math.floor(p/4)),i[r+"b1_val"]=-u,i[r+"b2-show"]=1,i[r+"b2_bonus"]="dmg_power_attack",i[r+"b2_bonustype"]="untyped",i[r+"b2_macro-text"]="2+2*floor(@{bab}/4)",i[r+"b2_val"]=2*u,i[r+"notes"]=w.getTranslated("buff-power-attack-note");break;case"deadlyaim":i[r+"name"]=w.getTranslated("buff-deadly-aim"),i[r+"bufftype"]="other",i[r+"tabcat"]="other",i[r+"b1-show"]=1,i[r+"b1_bonus"]="ranged",i[r+"b1_bonustype"]="untyped",i[r+"b1_macro-text"]="-1-floor(@{bab}/4)",u=1,l&&(u=1+Math.floor(p/4)),i[r+"b1_val"]=-u,i[r+"b2-show"]=1,i[r+"b2_bonus"]="dmg_ranged",i[r+"b2_bonustype"]="untyped",i[r+"b2_macro-text"]="2+2*floor(@{bab}/4)",i[r+"b2_val"]=2*u,i[r+"notes"]=w.getTranslated("buff-deadly-aim-note");break;case"combatexpertise":i[r+"name"]=w.getTranslated("buff-combat-expertise"),i[r+"bufftype"]="other",i[r+"tabcat"]="other",i[r+"b1-show"]=1,i[r+"b1_bonus"]="melee",i[r+"b1_bonustype"]="untyped",i[r+"b1_macro-text"]="-1-floor(@{bab}/4)",u=1,l&&(u=1+Math.floor(p/4)),i[r+"b1_val"]=-u,i[r+"b2-show"]=1,i[r+"b2_bonus"]="ac",i[r+"b2_bonustype"]="dodge",i[r+"b2_macro-text"]="1+floor(@{bab}/4)",i[r+"b2_val"]=2*u,i[r+"notes"]=w.getTranslated("buff-combat-expertise-note")}return i}function y(e,t){var a,n={};a=["add_common_buff","common_buff_toadd","CON-mod","level","speed-base"],getAttrs(a,function(e){var a=0;k.default.debug("adding common buff:",e),parseInt(e.add_common_buff,10)&&(e.common_buff_toadd&&(t&&"player"===t.sourceType&&(a=1),n=b(e.common_buff_toadd,e,a),n.common_buff_toadd="","slow"===e.common_buff_toadd&&(n["condition-Staggered"]=1)),n.add_common_buff=0,w.setWrapper(n,A.default.silentParams,m))})}function h(e){E.migrate(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.clearBuffTotals=u,t.addCommonBuff=y,t.migrate=h,t.recalculate=t.bonusTypes=t.totColumns=t.buffToTot=t.buffColumns=void 0;var v=l(a(1)),k=(a(3),l(a(0))),w=i(a(2)),A=l(a(4)),C=(i(a(5)),i(a(20))),I=i(a(47)),S=i(a(17)),P=i(a(16)),x=i(a(30)),T=i(a(40)),O=(i(a(48)),i(a(49))),M=i(a(39)),D=(i(a(31)),i(a(21))),E=i(a(120)),F=["ac","armor","attack","casterlevel","cha","cha_skills","check","check_ability","check_skills","cmb","cmb2","cmd","con","con_skills","crit_conf","customa1","customa10","customa11","customa12","customa2","customa3","customa4","customa5","customa6","customa7","customa8","customa9","dex","dex_skills","dmg","dmg_kineticblast","dmg_melee","dmg_melee2","dmg_power_attack","dmg_ranged","dmg_ranged2","flatfooted","fort","hptemp","initiative","int","int_skills","kineticblast","melee","melee2","natural","ranged","ranged2","ref","saves","shield","size","speed","spelldc_0","spelldc_1","spelldc_2","str","str_skills","touch","will","wis","wis_skills"],R={ac:"AC",armor:"armor",attack:"attack",casterlevel:"CasterLevel",cha:"CHA",cha_skills:"CHA_skills",check:"Check",check_ability:"check_ability",check_skills:"check_skills",cmb:"CMB",cmd:"CMD",con:"CON",con_skills:"CON_skills",dex:"DEX",dex_skills:"DEX_skills",dmg:"DMG",dmg_melee:"dmg_melee",dmg_ranged:"dmg_ranged",flatfooted:"flat-footed",fort:"Fort",hptemp:"HP-temp",initiative:"Initiative",int:"INT",int_skills:"INT_skills",melee:"Melee",natural:"natural",ranged:"Ranged",ref:"Ref",saves:"saves",shield:"shield",size:"size",speed:"speed",spelldc_0:"SpellDC_0",spelldc_1:"SpellDC_1",spelldc_2:"SpellDC_2",str:"STR",str_skills:"STR_skills",touch:"Touch",will:"Will",wis:"WIS",wis_skills:"WIS_skills",melee2:"melee2",ranged2:"ranged2",cmb2:"cmb2",dmg_melee2:"dmg_melee2",dmg_ranged2:"dmg_ranged2",kineticblast:"kineticblast",dmg_kineticblast:"dmg_kineticblast",dmg_power_attack:"dmg_power_attack",customa1:"customa1",customa2:"customa2",customa3:"customa3",customa4:"customa4",customa5:"customa5",customa6:"customa6",customa7:"customa7",customa8:"customa8",customa9:"customa9",customa10:"customa10",customa11:"customa11",customa12:"customa12",crit_conf:"crit_conf"},N=v.default.values(R).concat(["dodge"]).sort(),j=["alchemical","circumstance","competence","deflection","dodge","enhancement","inherent","insight","luck","morale","profane","racial","resistance","sacred","size","trait","untyped"];t.bonusTypes=j,t.totColumns=N,t.buffToTot=R,t.buffColumns=F;var L=["armor","shield","natural"],z={ac:["cmd","touch","flatfooted"],attack:["melee","ranged","cmb","melee2","ranged2","cmb2"],check:["initiative","check_skills","check_ability","str_skills","dex_skills","con_skills","int_skills","wis_skills","cha_skills"],dmg:["dmg_melee","dmg_ranged","dmg_melee2","dmg_ranged2"],dmg_melee:["dmg_melee2"],dmg_ranged:["dmg_ranged2"],saves:["fort","ref","will"],check_skills:["str_skills","dex_skills","con_skills","int_skills","wis_skills","cha_skills"]},W={melee:["attack"],melee2:["melee","attack"],ranged:["attack"],ranged2:["ranged","attack"],cmb:["attack"],cmb2:["cmb","attack"],dmg_melee:["dmg"],dmg_melee2:["dmg_melee","dmg"],dmg_ranged:["dmg"],dmg_ranged2:["dmg_ranged","dmg"],cmd:["ac"],flatfooted:["ac"],touch:["ac"],fort:["saves"],ref:["saves"],will:["saves"],check_skills:["check"],check_ability:["check"],initiative:["check_ability","check"],str_skills:["check_skills","check"],dex_skills:["check_skills","check"],con_skills:["check_skills","check"],int_skills:["check_skills","check"],wis_skills:["check_skills","check"],cha_skills:["check_skills","check"]},B=v.default.chain(N).map(function(e){return C.abilities.indexOf(e)>=0&&e.indexOf("skill")<1?["buff_"+e+"-total","buff_"+e+"_exists","buff_"+e+"-total_penalty","buff_"+e+"_penalty_exists"]:["buff_"+e+"-total","buff_"+e+"_exists"]}).flatten().value(),q={str:{inherent:"STR-inherent",enhancement:"STR-enhance"},dex:{inherent:"DEX-inherent",enhancement:"DEX-enhance"},con:{inherent:"CON-inherent",enhancement:"CON-enhance"},int:{inherent:"INT-inherent",enhancement:"INT-enhance"},wis:{inherent:"WIS-inherent",enhancement:"WIS-enhance"},cha:{inherent:"CHA-inherent",enhancement:"CHA-enhance"},initiative:{trait:"init-trait"},fort:{resistance:"Fort-resist",trait:"Fort-trait"},ref:{resistance:"Ref-resist",trait:"Ref-trait"},will:{resistance:"Will-resist",trait:"Will-trait"},ac:{deflection:"AC-deflect"},armor:{armor:"armor3-acbonus",enhancement:"armor3-enhance"},shield:{shield:"shield3-acbonus",enhancement:"shield3-enhance"},natural:{natural:"AC-natural"}},H={armor:["armor3-equipped"],shield:["shield3-equipped"]},U=v.default.chain(q).values().map(function(e){return v.default.values(e)}).flatten().uniq().value().sort(),G=["buff_attack_notes","buff_save_notes","buff_init_notes","buff_skill_notes","buff_defense_notes"],V=["b1","b2","b3","b4","b5","b6"],X=["untyped","circumstance","dodge","penalty"],K=["size","hptemp"],$=["_b1-show","_b1_val","_b1_bonus","_b1_bonustype","_b2-show","_b2_val","_b2_bonus","_b2_bonustype","_b3-show","_b3_val","_b3_bonus","_b3_bonustype","_b4-show","_b4_val","_b4_bonus","_b4_bonustype","_b5-show","_b5_val","_b5_bonus","_b5_bonustype","_b6-show","_b6_val","_b6_bonus","_b6_bonustype","_enable_toggle","_add_note_to_roll"],Z={buffTotalNonAbilityEvents:{Fort:[I.updateSave],Will:[I.updateSave],Ref:[I.updateSave],STR_skills:[D.recalculateAbilityBasedSkills],DEX_skills:[D.recalculateAbilityBasedSkills],CON_skills:[D.recalculateAbilityBasedSkills],INT_skills:[D.recalculateAbilityBasedSkills],WIS_skills:[D.recalculateAbilityBasedSkills],CHA_skills:[D.recalculateAbilityBasedSkills],Melee:[S.updateAttackGrid],Ranged:[S.updateAttackGrid],CMB:[S.updateAttackGrid],melee2:[S.updateAttackGrid],ranged2:[S.updateAttackGrid],cmb2:[S.updateAttackGrid]},buffTotalAbilityEvents:{STR:[C.updateAbilityScore],DEX:[C.updateAbilityScore],CON:[C.updateAbilityScore],INT:[C.updateAbilityScore],WIS:[C.updateAbilityScore],CHA:[C.updateAbilityScore]},buffEventsTotalOnUpdate:{"buff_Check-total":[D.updateAllSkillsDiff],"buff_check_skills-total":[D.updateAllSkillsDiff]},buffTotalEventsNoParam:{DMG:[P.updateRepeatingWeaponDamages],dmg_ranged:[P.updateRepeatingWeaponDamages],dmg_melee:[P.updateRepeatingWeaponDamages],dmg_ranged2:[P.updateRepeatingWeaponDamages],dmg_melee2:[P.updateRepeatingWeaponDamages],dmg_power_attack:[P.updateRepeatingWeaponDamages],saves:[I.updateSaves],attack:[S.updateAttacks],AC:[x.updateDefenses],Touch:[x.updateDefenses],armor:[x.updateDefenses],shield:[x.updateDefenses],dodge:[x.updateDefenses],natural:[x.updateDefenses],"flat-footed":[x.updateDefenses],CMD:[x.updateDefenses],"HP-temp":[T.updateTempMaxHP],Check:[O.updateInitiative],check_ability:[O.updateInitiative],initiative:[O.updateInitiative],speed:[M.updateModifiedSpeed]}},Y=k.default.callback(function(e,t,a){var n=v.default.once(function(){"function"==typeof e&&e()});h(function(){getAttrs(["is_newsheet","use_buff_bonuses"],function(e){if(parseInt(e.is_newsheet,10))return void n();parseInt(e.use_buff_bonuses,10)?g(function(){m(function(){_(),n()},t)},t):E.recalculate(n,t)})})});t.recalculate=Y,function(){var e=["customa1","customa2","customa3","customa4","customa5","customa6","customa7","customa8","customa9","customa10","customa11","customa12"];on("change:add_common_buff",k.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(k.default.debug("caught "+e.sourceAttribute+", event: "+e.sourceType),y(null,e))})),v.default.each(q,function(e,t){v.default.each(e,function(e,a){on("change:"+e,k.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(k.default.debug("caught "+e.sourceAttribute+", event: "+e.sourceType),d(t))}))})}),v.default.each(H,function(e,t){v.default.each(e,function(e){on("change:"+e,k.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(k.default.debug("caught "+e.sourceAttribute+", event: "+e.sourceType),d(t))}))})}),V.forEach(function(e){var t="change:repeating_buff2:"+e;on(t+"_macro-text",k.default.callback(function(t){k.default.debug("caught "+t.sourceAttribute+" for column "+e+", event: "+t.sourceType),w.evaluateAndSetNumber("repeating_buff2_"+e+"_macro-text","repeating_buff2_"+e+"_val",0,null,!1)})),on(t+"_bonustype",k.default.callback(function(t){"player"!==t.sourceType&&"api"!==t.sourceType||getAttrs(["repeating_buff2_"+e+"_val","repeating_buff2_"+e+"-show","repeating_buff2_"+e+"_bonus","repeating_buff2_enable_toggle"],function(a){k.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType,a),parseInt(a["repeating_buff2_"+e+"-show"],10)&&parseInt(a.repeating_buff2_enable_toggle,10)&&parseInt(a["repeating_buff2_"+e+"_val"],10)&&a["repeating_buff2_"+e+"_bonus"]&&d(a["repeating_buff2_"+e+"_bonus"])})})),on(t+"-show ",k.default.callback(function(t){k.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),"player"!==t.sourceType&&"api"!==t.sourceType||getAttrs(["repeating_buff2_"+e+"_val","repeating_buff2_"+e+"_bonus","repeating_buff2_enable_toggle"],function(a){k.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType,a),parseInt(a.repeating_buff2_enable_toggle,10)&&parseInt(a["repeating_buff2_"+e+"_val"],10)&&a["repeating_buff2_"+e+"_bonus"]&&d(a["repeating_buff2_"+e+"_bonus"])})})),on(t+"_val",k.default.callback(function(t){k.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),"sheetworker"!==t.sourceType&&"api"!==t.sourceType||getAttrs(["repeating_buff2_"+e+"-show","repeating_buff2_"+e+"_bonus","repeating_buff2_enable_toggle"],function(a){k.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType,a),parseInt(a.repeating_buff2_enable_toggle,10)&&parseInt(a["repeating_buff2_"+e+"-show"],10)&&a["repeating_buff2_"+e+"_bonus"]&&d(a["repeating_buff2_"+e+"_bonus"])})})),on(t+"_bonus",k.default.callback(function(t){"player"!==t.sourceType&&"api"!==t.sourceType||getAttrs(["repeating_buff2_"+e+"_val","repeating_buff2_"+e+"_bonus","repeating_buff2_"+e+"_hide","repeating_buff2_enable_toggle"],function(a){k.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType,a);var n={};K.indexOf(a["repeating_buff2_"+e+"_bonus"])>=0?(n["repeating_buff2_"+e+"_hide"]=1,w.setWrapper(n,A.default.silentParams)):1===parseInt(a["repeating_buff2_"+e+"_hide"],10)&&(n["repeating_buff2_"+e+"_hide"]=0,w.setWrapper(n,A.default.silentParams)),parseInt(a.repeating_buff2_enable_toggle,10)&&parseInt(a["repeating_buff2_"+e+"_val"],10)&&m(null,null,t)})}))}),on("change:repeating_buff2:add_note_to_roll",k.default.callback(function(e){"player"===e.sourceType&&(k.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),c(null,e))})),on("change:repeating_buff2:enable_toggle",k.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||getAttrs(["repeating_buff2_b1_bonus","repeating_buff2_b2_bonus","repeating_buff2_b3_bonus","repeating_buff2_b4_bonus","repeating_buff2_b5_bonus","repeating_buff2_b6_bonus","repeating_buff2_b1-show","repeating_buff2_b2-show","repeating_buff2_b3-show","repeating_buff2_b4-show","repeating_buff2_b5-show","repeating_buff2_b6-show","repeating_buff2_enable_toggle","repeating_buff2_tabcat2"],function(t){var a={};k.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType,t),V.forEach(function(e){t["repeating_buff2_"+e+"_bonus"]&&parseInt(t["repeating_buff2_"+e+"-show"],10)&&d(t["repeating_buff2_"+e+"_bonus"])}),c(null,e),a.repeating_buff2_tabcat2=t.repeating_buff2_enable_toggle||"0",w.setWrapper(a,A.default.silentParams)})})),on("change:repeating_buff2:bufftype",k.default.callback(function(e){var t={};"player"===e.sourceType&&(k.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),getAttrs(["buffs_tab","repeating_buff2_bufftype","repeating_buff2_tabcat"],function(e){t.buffs_tab=e.repeating_buff2_bufftype||"99",t.repeating_buff2_tabcat=e.repeating_buff2_bufftype||"-1",w.setWrapper(t,A.default.silentParams)}))})),on("remove:repeating_buff2",k.default.callback(function(e){k.default.debug("caught remove "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||m(null,null,e)})),v.default.each(Z.buffTotalNonAbilityEvents,function(e,t){var a="change:buff_"+t+"-total";v.default.each(e,function(e){on(a,k.default.callback(function(a){k.default.debug("caught "+a.sourceAttribute+" event: "+a.sourceType),"sheetworker"!==a.sourceType&&"api"!==a.sourceType||e(t,a)}))})}),v.default.each(Z.buffTotalAbilityEvents,function(e,t){var a="change:buff_"+t+"-total change:buff_"+t+"-total_penalty";v.default.each(e,function(e){on(a,k.default.callback(function(a){k.default.debug("caught "+a.sourceAttribute+" event: "+a.sourceType),"sheetworker"!==a.sourceType&&"api"!==a.sourceType||e(t,a)}))})}),v.default.each(Z.buffTotalEventsNoParam,function(e,t){var a="change:buff_"+t+"-total";v.default.each(e,function(e){on(a,k.default.callback(function(t){k.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),"sheetworker"!==t.sourceType&&"api"!==t.sourceType||e(null,!1,null,t)}))})}),on("change:merge_buffs_now",k.default.callback(function(e){k.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"===e.sourceType&&getAttrs(["merge_buffs_now"],function(e){parseInt(e.merge_buffs_now),o(m)})})),e.forEach(function(e){on("change:buff_"+e+"-total",k.default.callback(function(t){"sheetworker"!==t.sourceType&&"api"!==t.sourceType||(k.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),w.evaluateAndAddAsync(null,null,e,A.default.customEquationMacros[e],"buff_"+e+"-total"))}))})}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=P.default.once(function(){"function"==typeof e&&e()}),a=P.default.after(2,t);D.resetOneCommandMacro("item",!0,a,"",G),D.resetOneCommandMacro("item",!1,a,"",G)}function s(e){var t="";if(isNaN(e)&&null!==e&&void 0!==e)return"worn-"+e;if(e>1&&q[e])try{t="worn-"+q[e]}catch(e){x.default.error("PFInventory.getWornItemNameField",e)}return t}function c(e){var t="",a="";t=s(e),a=t+"-roll",getAttrs([t,a],function(e){var n="",r={};e[a]&&(r[a]="",(n=O.getRowId(e[a]))&&(r["repeating_item_"+n+"_location"]=H.Carried,r["repeating_item_"+n+"_old_location"]=H.Carried)),e[t]&&(r[t]=""),P.default.size(r)&&O.setWrapper(r,T.default.silentParams)})}function u(e,t,a){var n=P.default.once(function(){"function"==typeof e&&e()});try{a||(a=V),x.default.repeating("item").attrs("use_metrics","item_total_weight","item-total-hp","item-total-hp_max","item-total-value").fields("item-weight","qty","qty_max","location","item-hp","item-hp_max","value").reduce(function(e,t){try{t.I.qty>0&&(0===t.I.qty_max||1===t.I.qty_max?(a.weight&&t.I.location!==H.NotCarried&&(e["item-weight"]+=t.F["item-weight"]*t.F.qty),a.value&&(e.value+=t.F.value*t.F.qty),a.hp&&(e["item-hp"]+=t.I["item-hp"]*t.I.qty,e["item-hp_max"]+=t.I["item-hp_max"]*t.I.qty)):(a.weight&&t.I.location!==H.NotCarried&&(e["item-weight"]+=t.F["item-weight"]),a.value&&(e.value+=t.F.value),a.hp&&(e["item-hp"]+=t.I["item-hp"],e["item-hp_max"]+=t.I["item-hp_max"])))}catch(e){x.default.error("PFInventory.updateRepeatingItems inner error",e)}finally{return e}},{"item-weight":0,"item-hp":0,"item-hp_max":0,value:0},function(e,t,n){var r=1;n.use_metrics>0&&(r=.454),a.weight&&(n.S.item_total_weight=Math.floor(e["item-weight"]*r*100)/100),a.hp&&(n.S["item-total-hp"]=e["item-hp"],n.S["item-total-hp_max"]=e["item-hp_max"]),a.value&&(n.S["item-total-value"]=Math.floor(100*e.value)/100)}).execute(n)}catch(e){x.default.error("PFInventory.updateRepeatingItems",e),n()}}function p(e,t){var a=function(){"function"==typeof e&&e()};getAttrs(["CP","SP","GP","PP","carried-currency","use_metrics"],function(e){var n=Number(e["carried-currency"]||0),r={},i=0;try{var l=1;parseInt(e.use_metrics)>0&&(l=.454),i=(parseInt(e.CP,10)||0)+(parseInt(e.SP,10)||0)+(parseInt(e.GP,10)||0)+(parseInt(e.PP,10)||0),x.default.debug("coin curr="+n+", coin carried="+i),i=Math.floor(i/50*l*100)/100,n!==i?(t&&(r=T.default.silentParams),O.setWrapper({"carried-currency":i},r,a)):a()}catch(e){x.default.error("PFInventory.updateCarriedCurrency",e),a()}})}function f(e,t){var a=function(){"function"==typeof e&&e()};getAttrs(["carried-currency","carried-currency-toggle","item_total_weight","carried-misc","carried-total","use_metrics"],function(e){var t,n,r,i,l={};try{parseInt(e.use_metrics)>0&&.454,r=parseFloat(e["carried-currency"])||0,i=parseInt(e["carried-currency-toggle"]),0===i&&(r=0),t=Math.floor(100*parseFloat(e["carried-total"])||0),n=Math.floor(100*r+100*(parseFloat(e.item_total_weight)||0)+100*(parseFloat(e["carried-misc"])||0)),x.default.debug("carried curr="+t+", carried total="+n),t!==n?(n/=100,O.setWrapper({"carried-total":n},l,a)):a()}catch(e){x.default.error("PFInventory.updateCarriedTotal",e),a()}})}function d(e){var t=P.default.once(function(){"function"==typeof e&&e()}),a=P.default.once(function(){O.setWrapper({migrated_worn_equipment:"1"},{},t)}),n=["charges","weight","hp","hp_max","value"],r=function(e,t){var a=P.default.once(function(){"function"==typeof t&&t()}),r=["worn-"+e];r.push("worn-"+e+"-description"),r.push("worn-"+e+"-hardness"),P.default.each(n,function(t){r.push("worn-"+e+"-"+t)}),getAttrs(r,function(t){var n="",r={},i={},l="",o=0,s=U.noEquipType;try{t["worn-"+e]&&(n=generateRowID(),r["repeating_item_"+n+"_name"]=t["worn-"+e],r["repeating_item_"+n+"_row_id"]=n,l=t["worn-"+e+"-description"],l&&(r["repeating_item_"+n+"_short-description"]=l),l=t["worn-"+e+"-charges"],l?(r["repeating_item_"+n+"_qty"]=l,r["repeating_item_"+n+"_qty_max"]=t["worn-"+e+"-charges_max"]||50):(i["repeating_item_"+n+"_qty"]=1,i["repeating_item_"+n+"_qty_max"]=1),l=t["worn-"+e+"-weight"],l&&(i["repeating_item_"+n+"_item-weight"]=l),l=t["worn-"+e+"-hardness"],l&&(i["repeating_item_"+n+"_hardness"]=l),l=t["worn-"+e+"-hp"],l&&(i["repeating_item_"+n+"_item-hp"]=l),l=t["worn-"+e+"-hp_max"],l&&(r["repeating_item_"+n+"_item-hp_max"]=l),l=t["worn-"+e+"-value"],l&&(i["repeating_item_"+n+"_value"]=l),r["worn-"+e+"-roll"]="@{repeating_item_"+n+"_macro-text}",o=H[e],r["repeating_item_"+n+"_location"]=o,r["repeating_item_"+n+"_old_location"]=o,o===H.NotCarried?r["repeating_item_"+n+"loctype-tab"]=H.NotCarried:o===H.Carried?r["repeating_item_"+n+"loctype-tab"]=H.Carried:o>H.NotCarried?r["repeating_item_"+n+"loctype-tab"]=H.equipped:r["repeating_item_"+n+"loctype-tab"]=-1,s=U.OtherMagic,r["repeating_item_"+n+"_equip-type"]=s,r["repeating_item_"+n+"_equiptype-tab"]=s)}catch(e){x.default.error("PFInventory.copyWornEquipmentToNewItem",e)}finally{P.default.size(r)>0?O.setWrapper(r,T.default.silentParams,a):a(),P.default.size(i)>0&&O.setWrapper(i)}})},i=function(e,t,a){var n=P.default.once(function(e){"function"==typeof a&&a(e)}),r=[e,e+"-type"],i="",l=0;if(/armor/i.test(e))l=1;else{if(!/shield/i.test(e))return void n(0);1}getAttrs([e],function(a){if(!a[e])return void n(0);i=a[e],getSectionIDs("repeating_item",function(a){var o=[];o=P.default.map(a,function(e){return"repeating_item_"+e+"_name"}),P.default.each(F.defenseArmorShieldColumns,function(t){r.push(e+"-"+t)}),r=r.concat(o),getAttrs(r,function(a){var r,s="",c={},u={},p=0,f="",d=!0,m=0,_=0;try{m=parseInt(a[e+"-equipped"],10)||0,p=parseInt(a[e+"-max-dex"],10),isNaN(p)&&(p=99),r=P.default.find(o,function(e){return i===a[e]}),r?(d=!1,s=O.getRowId(r)):s=generateRowID(),c["repeating_item_"+s+"_equip-type"]=U.Armor,c["repeating_item_"+s+"_equiptype-tab"]=U.Armor,d&&(c["repeating_item_"+s+"_name"]=i),c["repeating_item_"+s+"_qty"]=1,c["repeating_item_"+s+"_qty_max"]=1,t||1!==m?(c["repeating_item_"+s+"_location"]=H.NotCarried,c["repeating_item_"+s+"_old_location"]=H.NotCarried,c["repeating_item_"+s+"_loctype-tab"]=H.NotCarried,m&&(c[e+"-equipped"]=0)):(_=1,l?(d?(c["repeating_item_"+s+"_location"]=H.Armor,c["repeating_item_"+s+"_old_location"]=H.Armor):u["repeating_item_"+s+"_location"]=H.Armor,c["repeating_item_"+s+"_loctype-tab"]=H.equipped,c["armor3-roll"]="@{repeating_item_"+s+"_macro-text}",c.armor3=a[e]):(d?(c["repeating_item_"+s+"_location"]=H.Shield,c["repeating_item_"+s+"_old_location"]=H.Shield):u["repeating_item_"+s+"_location"]=H.Shield,c["repeating_item_"+s+"_loctype-tab"]=H.equipped,c["shield3-roll"]="@{repeating_item_"+s+"_macro-text}",c.shield3=a[e]),p>50&&(c[e+"-max-dex"]="-")),P.default.each(["acbonus","enhance","acp","spell-fail","proficiency"],function(t){(f=a[e+"-"+t])&&(c["repeating_item_"+s+"_item-"+t]=f)}),c["repeating_item_"+s+"_item-max-dex"]=p>50?"-":p,f=a[e+"-type"],f&&(c["repeating_item_"+s+"_item-defense-type"]=f)}catch(e){x.default.error("PFInventory.copyWornDefenseToNewItem",e)}finally{P.default.size(c)>0?O.setWrapper(c,T.default.silentParams,function(){P.default.size(u)>0?O.setWrapper(u,{},function(){n(_)}):n(_)}):n(!1)}})})})};getAttrs(["migrated_worn_equipment"],function(e){var n=!1,l=!1,o=P.default.after(2,function(){a()}),s=function(){x.default.debug("checking armor3"),i("armor3",n,function(e){n=n||e,x.default.debug("checking armor2, found="+n),i("armor2",n,function(e){n=n||e,x.default.debug("checking armor0, found="+n),i("armor",n,o)})}),x.default.debug("checking shield3"),i("shield3",l,function(e){l=l||e,x.default.debug("checking shield2, found="+l),i("shield2",l,function(e){l=l||e,x.default.debug("checking shield0, found="+l),i("shield",l,o)})})},c=P.default.after(P.default.size(z),function(){var e,t,a;try{e=P.default.map(z,function(e){return"worn-"+e+"-"}),t=O.cartesianAppend(e,["charges","weight","hp","hp_max","value","description","hardness"]),a=P.default.reduce(t,function(e,t){return e[t]="",e},{}),O.setWrapper(a,T.default.silentParams,s)}catch(e){x.default.error("PFInventory.migrateWornEquipment.doneWornRows err:",e),s()}});try{if(1===parseInt(e.migrated_worn_equipment,10))return void t();P.default.each(z,function(e){r(e,c)})}catch(e){x.default.error("PFInventory.migrateWornEquipment",e),s()}})}function m(e,t,a){(!a||t<2||!t)&&"function"==typeof e&&e(),getSectionIDs("repeating_item",function(n){var r=[];if(P.default.size(n)<=1)return void("function"==typeof e&&e());P.default.each(n,function(e,t){e!==a&&r.push("repeating_item_"+e+"_location")}),getAttrs(r,function(a){var r={};P.default.each(n,function(e,n){(parseInt(a["repeating_item_"+e+"_location"],10)||0)===t&&(r["repeating_item_"+e+"_location"]=0,r["repeating_item_"+e+"_old_location"]=0)}),P.default.size(r)>0?O.setWrapper(r,{silent:!0},e):"function"==typeof e&&e()})})}function _(e,t,a,n){var r=P.default.once(function(){"function"==typeof t&&t()}),i=(O.getRepeatingIDStr(e),e||(n?O.getRowId(n.sourceAttribute)||"":"")),l="repeating_item_"+i+"_",o=l+"location",c=l+"loctype-tab",u=l+"name",p=l+"old_location",f=l+"macro-text";try{getAttrs([o,p,u,c],function(e){var a=0,n=0,l={},d="",_=-1,g="";try{a=parseInt(e[o],10),isNaN(a)&&(a=H.NotCarried,l[o]=a),_=parseInt(e[c]),isNaN(_)&&(_=-2),a>H.NotCarried?_!==H.equipped&&(l[c]=H.equipped):a===H.Carried?_!==a&&(l[c]=H.Carried):a===H.NotCarried?_!==a&&(l[c]=H.NotCarried):-1!==_&&(l[c]="-1"),n=parseInt(e[p],10),isNaN(n)&&(n=a),l[p]=a,a===H.Carried&&n!==H.NotCarried&&n!==a?(d=s(n))&&(l[d]="",l[d+"-roll"]=""):a>H.NotCarried&&(d=s(a),d&&(g=e[u]||"",l[d]=g||"Row "+i,l[d+"-roll"]="@{"+f+"}"),n>1&&n!==a&&(d=s(n))&&(l[d]="",l[d+"-roll"]=""))}catch(e){x.default.error("updateEquipmentLocation update location error:",e)}finally{P.default.size(l)>0?O.setWrapper(l,T.default.silentParams,function(){a>H.NotCarried&&m(t,a,i),r()}):r()}})}catch(e){x.default.error("PFInventory.updateEquipmentLocation",e),r()}}function g(e,t,a){var n=P.default.once(function(){"function"==typeof a&&a()}),r="",i="",l="",o=[],u="",p="",f="",d=["item-acbonus","item-acenhance","item-max-dex","item-acp","item-spell-fail","item-defense-type","item-proficiency","name","set-as-armor","set-as-shield","location","old_location","equip-type","acenhance"];try{i=O.getAttributeName(t),u=O.getRowId(t),f="repeating_item_"+u+"_","_"!==f.slice(-1)&&(f+="_"),p=s(e),l=f+"item-",r=e===H.Armor?"armor3":"shield3",o=P.default.map(d,function(e){return f+e}),o=P.default.reduce(F.defenseArmorShieldColumns,function(e,t){return e.push(r+"-"+t),e},o),o.push(r),o.push(p)}catch(e){return x.default.error("PFInventory.updateWornArmorAndShield error before getAttrs",e),void n()}getAttrs(o,function(a){var o=0,s={},d={},m=0,g=0,b="",y="";try{if("set-as-armor"===i||"set-as-shield"===i||e===H.Armor||e===H.Shield){for(o=0;o<F.defenseArmorShieldColumns.length;o++)"max-dex"!==F.defenseArmorShieldColumns[o]&&"equipped"!==F.defenseArmorShieldColumns[o]&&"type"!==F.defenseArmorShieldColumns[o]&&"enhance"!==F.defenseArmorShieldColumns[o]&&(b=parseInt(a[l+F.defenseArmorShieldColumns[o]],10)||0,parseInt(a[r+"-"+F.defenseArmorShieldColumns[o]],10)!==b&&(s[r+"-"+F.defenseArmorShieldColumns[o]]=b));b=a[l+"acenhance"],b&&(s[r+"-enhance"]=b),b=a[l+"defense-type"],b&&("shield3"===r&&"Medium"===b?b="Heavy":"armor3"===r&&"Tower Shield"===b&&(b="Heavy"),a[r+"-type"]!==b&&(s[r+"-type"]=b)),b=parseInt(a[l+"max-dex"],10),"-"===a[l+"max-dex"]||isNaN(b)?s[r+"-max-dex"]="-":s[r+"-max-dex"]=b,"1"!==a[r+"-equipped"]&&(s[r+"-equipped"]=1),b=parseInt(a[f+"set-as-armor"],10),b&&(d[f+"set-as-armor"]="0"),b=parseInt(a[f+"set-as-shield"],10),b&&(d[f+"set-as-shield"]="0"),y=a[f+"name"],y?a[r]!==y&&(s[r]=y):s[r]="",m=parseInt(a[f+"equip-type"],10),g=parseInt(a[f+"location"],10),e===H.Armor&&m===U.Armor&&g!==H.Armor||e===H.Shield&&m===U.Shield&&g!==H.Shield?(d[f+"old_location"]=g,d[f+"location"]=e,y&&a[p]!==y?d[p]=y:y||(d[p]="")):m!==U.Armor&&m!==U.Shield&&c(e)}else x.default.warning("no reason to update armor or shield for "+t+" in location "+q[e])}catch(e){x.default.error("PFInventory.updateWornArmorAndShield INNER error",e)}finally{P.default.size(d)>0&&O.setWrapper(d,T.default.silentParams,function(){g!==e&&_(u,null,!0,null)}),P.default.size(s)>0?O.setWrapper(s,{},n):n()}})}function b(e){var t=P.default.once(function(){"function"==typeof e&&e()});getSectionIDs("repeating_item",function(e){var a,n=0;try{if(!e||!P.default.size(e))return void t();n=P.default.size(e),a=P.default.after(n,t),P.default.each(e,function(e){_(e,a,null,null)})}catch(e){x.default.error("PFInventory.updateLocations",e),t()}})}function y(e,t,a,n,r){var i,l,o,s=P.default.once(function(){"function"==typeof t&&t()}),c=[];if("DELETED"===e)return void s();i=e||(n?O.getRowId(n.sourceAttribute):""),l=O.getRepeatingIDStr(i),o="repeating_item_"+l,c.push(o+"name"),X.forEach(function(e){c.push(o+"item-"+e)}),c.push(o+"item-wpenhance"),c.push(o+"item-dmg-type"),c.push(o+"default_size"),getAttrs(c,function(e){var t,n={},l=!1,c=0,u=0,p=!0;a&&T.default.silentParams;try{0===P.default.size(e)&&(p=!1),p?(t=r||generateRowID(),e[o+"name"]&&(r||(n["repeating_weapon_"+t+"_name"]=e[o+"name"]),n["repeating_weapon_"+t+"_source-item-name"]=e[o+"name"]),X.forEach(function(a){e[o+"item-"+a]&&(n["repeating_weapon_"+t+"_"+a]=e[o+"item-"+a])}),/melee/i.test(e[o+"item-attack-type"])?n["repeating_weapon_"+t+"_damage-ability"]="STR-mod":/ranged/i.test(e[o+"item-attack-type"])&&(n["repeating_weapon_"+t+"_isranged"]=1),c=parseInt(e[o+"item-wpenhance"],10)||0,c&&(n["repeating_weapon_"+t+"_enhance"]=c),e[o+"item-dmg-type"]&&(n["repeating_weapon_"+t+"_type"]=e[o+"item-dmg-type"]),u=parseInt(e[o+"item-proficiency"],10)||0,0!==u&&(u=-4,n["repeating_weapon_"+t+"_proficiency"]=u),e[o+"default_size"]&&(n["repeating_weapon_"+t+"_default_size"]=e[o+"default_size"]),n["repeating_weapon_"+t+"_default_damage-dice-num"]=e[o+"damage-dice-num"]||0,n["repeating_weapon_"+t+"_default_damage-die"]=e[o+"damage-die"]||0,n["repeating_weapon_"+t+"_source-item"]=i,n["repeating_weapon_"+t+"_link_type"]=j.linkedAttackType.equipment):r&&(n["repeating_weapon_"+r+"_source-item"]="DELETED",l=!0)}catch(e){x.default.error("PFInventory.createAttackEntryFromRow",e)}finally{l?O.setWrapper(n,T.default.silentParam,s):P.default.size(n)>0?(n[o+"create-attack-entry"]=0,O.setWrapper(n,T.default.silentParams,function(){j.recalcRepeatingWeapon(t,function(){N.resetCommandMacro(),R.resetOption(t),s()})})):(n[o+"create-attack-entry"]=0,O.setWrapper(n,T.default.silentParams,s))}})}function h(e,t){var a=P.default.once(function(){"function"==typeof t&&t()}),n="",r="",i="",l="",o=[],s={};try{if(!e)return void a();if(l=O.getRowId(e),n=O.getAttributeName(e),0===e.indexOf("repeating_weapon_"))return x.default.error("PFInventory.updateAssociatedAttack, called on weapon event, no longer supported!"),void a();r=n.replace("item-",""),"name"===n?r="source-item-name":"item-dmg-type"===n?r="type":"wpenhance"===n&&(r="enhance")}catch(e){return x.default.error("PFInventory.updateAssociatedAttack outer1",e),void a()}getAttrs([e],function(t){i=t[e],void 0===i&&(i=""),"proficiency"===n&&0!==(i=parseInt(i,10)||0)&&(i=-4),i=String(i),getSectionIDs("repeating_weapon",function(e){o=P.default.reduce(e,function(e,t){return e=e.concat(["repeating_weapon_"+t+"_source-item","repeating_weapon_"+t+"_"+r])},[]),getAttrs(o,function(t){s={};try{P.default.each(e,function(e){var a="",o="";l===t["repeating_weapon_"+e+"_source-item"]&&(o="repeating_weapon_"+e+"_"+r,a=t[o],"proficiency"===n&&(a=parseInt(a,10)||0),(a=String(a))!==i&&(s[o]=i))})}catch(e){x.default.error("PFInventory.updateAssociatedAttack inner1",e)}finally{P.default.size(s)>0&&O.setWrapper(s)}})})})}function v(e){var t,a,n=U.noEquipType;if(!e)return n;if(t=e.toLowerCase(),a=t.match(/(?:\bwand\b|\bring\b|\brod\b|plate|sword|shield|mail|spear|potion|spellbook|smokestick|incense|scroll|alchemist|antitoxin|antidote|elixir|staff|acid|\boil\b|water|component pouch|arrow|bolt|bullet|sunrod|flask|ration|armor spike|kit|saddle|tool|spike|pole|ladder|lantern|candle|torch|rope|chain|crowbar|\bnet\b|\bram\b|tanglefoot|tinder|flint|vial)/i))switch(a[0]){case"sword":case"spear":case"armor spike":case"net":n=U.Weapon;break;case"mail":case"plate":case"shield":n=U.Armor;break;case"vial":case"flint":case"kit":case"tool":case"spike":case"crowbar":case"ram":case"lantern":case"candle":case"torch":case"rope":case"chain":case"saddle":case"spyglass":case"spellbook":case"tinder":case"component pouch":n=U.Gear;break;case"ring":n=U.OtherMagic;break;case"rod":case"wand":case"staff":n=U.Charged;break;case"tanglefoot":case"incense":case"smokestick":case"sunrod":case"ration":case"water":case"alchemist":case"oil":case"flask":case"acid":case"potion":case"elixir":case"scroll":case"antitoxin":case"antidote":n=U.Consumables;break;case"arrow":case"bolt":case"bullet":case"stone":n=U.Ammo}return n}function k(e){var t=O.getRowId(e.sourceAttribute),a="repeating_item_"+t+"_",n=a+"item-",r=["default_char_size","equipment_tab",n+"category_compendium",n+"value_compendium",n+"range_compendium",n+"criticaldamage_compendium",n+"criticalrange_compendium",n+"smalldamage_compendium",n+"meddamage_compendium",n+"damagetype_compendium",n+"speed20_compendium",n+"speed30_compendium",n+"weight_compendium",n+"spell-fail_compendium",n+"acbonus_compendium",n+"acp_compendium",n+"dmg-type",a+"description",n+"max-dex",a+"name"];getAttrs(r,function(e){var r,i,l={},o=0,s=0,c="",p=0,f=0,d=U.noEquipType,m=0,_=0;try{if("Items"!==e[n+"category_compendium"])return void x.default.warn("compendium item is "+e["repeating_item_item-category_compendium"]+", INVALID");l[a+"row_id"]=t,i=e[a+"name"],M.getCompendiumIntSet(n,"range",e,l),x.default.debug("Before calling get value",l),M.getCompendiumFunctionSet(a,"item-value",M.getCostInGP,e,l,"value"),x.default.debug("After calling get value",l),M.getCompendiumIntSet(n,"spell-fail",e,l),M.getCompendiumIntSet(n,"acbonus",e,l),M.getCompendiumIntSet(n,"acp",e,l),e[n+"acbonus_compendium"]&&(f=1),_=parseInt(e[n+"speed20_compendium"],10)||0,m=parseInt(e[n+"speed30_compendium"],10)||0,e[n+"max-dex"]&&(r=e[n+"max-dex"],(r=r.replace(/\u2013|\u2014|-|\\u2013|\\u2014/,"-"))!==e[n+"max-dex"]&&(l[n+"max-dex"]=r)),e[n+"damagetype_compendium"]&&(r=e[n+"damagetype_compendium"],(r=r.replace(/\u2013|\u2014|-|\\u2013|\\u2014/,""))&&(r=e[n+"dmg-type"]?e[n+"dmg-type"]+" "+e[n+"damagetype_compendium"]:e[n+"damagetype_compendium"],l[n+"dmg-type"]=r)),e[n+"criticaldamage_compendium"]&&(p=1,(r=M.getCritFromString(e[n+"criticaldamage_compendium"]))&&2!==r.critmult&&(l[n+"crit-multiplier"]=r.critmult)),e[n+"criticalrange_compendium"]&&(p=1,(r=M.getCritFromString(e[n+"criticalrange_compendium"]))&&20!==r.crit&&(l[n+"crit-target"]=r.crit)),o=parseInt(e.default_char_size,10)||0,c="meddamage_compendium",s=0,o>=1&&(s=1,c="smalldamage_compendium"),0!==o&&(l[a+"default_size"]=s),M.getCompendiumIntSet(n,"weight",e,l),o>=1&&(s=parseInt(l[n+"weight"],10)||0)&&(s=Math.floor(s/2*100)/100,l[n+"weight"]=s),e[n+c]&&(p=1,(r=M.getDiceDieFromString(e[n+c]))&&(r.dice&&r.die&&(l[n+"damage-dice-num"]=r.dice,l[n+"damage-die"]=r.die),r.plus&&(l[n+"damage"]=r.plus))),p?(d=U.Weapon,e[n+"range_compendium"]&&parseInt(e[n+"range_compendium"],10)>0?l[n+"attack-type"]="attk-ranged":l[n+"attack-type"]="attk-melee"):f?(d=U.Armor,i&&(c=/tower/i.test(i)?"Tower Shield":30===m&&20===_?"Light":/heavy|stone|full|half.plate|splint|banded|iron|tatami|kusari/i.test(i)?"Heavy":/medium|mountain|chainmail|breastplate|scale|kikko|steel|horn|mirror|hide|maru|armored coat/i.test(i)?"Medium":"Light",l[n+"defense-type"]=c)):d=v(i),d<0?d=U.Other:d===U.Weapon?l[a+"weapon-attributes-show"]=1:d===U.Armor&&(l[a+"armor-attributes-show"]=1),d&&(l.equipment_tab=d,l[a+"equip-type"]=d,l[a+"equiptype-tab"]=d),l[a+"qty"]=1,l[a+"qty_max"]=1,l[a+"location"]=H.Carried,l[a+"old_location"]=H.Carried,l[a+"loctype-tab"]=H.Carried,l[n+"category_compendium"]="",l[n+"value_compendium"]="",l[n+"range_compendium"]="",l[n+"criticaldamage_compendium"]="",l[n+"criticalranage_compendium"]="",l[n+"smalldamage_compendium"]="",l[n+"meddamage_compendium"]="",l[n+"damagetype_compendium"]="",l[n+"speed20_compendium"]="",l[n+"speed30_compendium"]="",l[n+"weight_compendium"]="",l[n+"spell-fail_compendium"]="",l[n+"acbonus_compendium"]="",l[n+"acp_compendium"]=""}catch(e){x.default.error("importFromCompendium",e)}finally{P.default.size(l)>0&&O.setWrapper(l,T.default.silentParams,u)}})}function w(e){var t=P.default.once(function(){"function"==typeof e&&e()});getSectionIDs("repeating_item",function(e){var a=[];if(!e||!P.default.size(e))return void t();a=P.default.reduce(e,function(e,t){return e.push("repeating_item_"+t+"_has_uses"),e.push("repeating_item_"+t+"_qty_max"),e},[]),getAttrs(a,function(a){var n={};try{n=P.default.reduce(e,function(e,t){var n="repeating_item_"+t+"_",r=0;try{r=parseInt(a[n+"qty_max"],10)||0,e[n+"has_uses"]=r>1?"true":""}catch(e){x.default.error("PFInventory.updateUses error repeating_item  id "+t,e)}finally{return e}},{})}catch(e){x.default.error("PFInventory.updateUses error setting defaults ",e)}finally{P.default.size(n)>0?O.setWrapper(n,T.default.silentParams,t):t()}})})}function A(e){var t=P.default.once(function(){"function"==typeof e&&e()});getSectionIDs("repeating_item",function(e){if(!(e&&P.default.size(e)>0))return void t();getAttrs(B,function(a){var n=[],r=[],i={};try{r=P.default.map(e,function(e){return e.toLowerCase()}),n=P.default.chain(a).omit(function(e,t){return!e}).mapObject(function(e){return O.getRowId(e).toLowerCase()}).omit(function(e,t){return P.default.contains(r,e)}).value(),P.default.size(n)>0?(i=P.default.reduce(n,function(e,t,a){return e[a.slice(-5)]="",e[a]="",e},{}),O.setWrapper(i,T.default.params,t)):t()}catch(e){x.default.error("PFInventory.deleteOrphanWornRows",e),t()}})})}function C(e,t){e=e.toLowerCase(),getAttrs(B,function(a){var n="",r="",i={};try{n=P.default.findKey(a,function(t){return!!t&&t.toLowerCase().indexOf(e)>=0}),n?(r=n.slice(0,-5),i[n]="",i[r]="",O.setWrapper(i,T.default.silent,t)):"function"==typeof t&&t()}catch(t){x.default.error("PFInventory.event delete item for attribute: "+e,t)}})}function I(e,t){var a=P.default.once(function(){"function"==typeof e&&e()});getAttrs(["migrated_itemlist_defaults"],function(e){try{if(1===parseInt(e.migrated_itemlist_defaults,10))return void a();getSectionIDs("repeating_item",function(e){var t=[];try{if(!e||!P.default.size(e))return void a();t=P.default.map(e,function(e){return["repeating_item_"+e+"_name","repeating_item_"+e+"_location","repeating_item_"+e+"_qty_max","repeating_item_"+e+"_equip-type"]}),t=P.default.flatten(t)}catch(e){return x.default.error("PFInventory.setNewDefaults miderror",e),void a()}getAttrs(t,function(t){var n={},r=0;try{n=P.default.reduce(e,function(e,a){var n="repeating_item_"+a+"_",i=0,l=n+"name",o=0,s=0;try{o=parseInt(t[n+"location"],10),isNaN(o)&&(o=H.Carried,e[n+"location"]=o),e[n+"oldlocation"]=o,o===H.NotCarried?e[n+"loctype-tab"]=H.NotCarried:o===H.Carried?e[n+"loctype-tab"]=H.Carried:o>H.NotCarried?e[n+"loctype-tab"]=H.equipped:e[n+"loctype-tab"]=-1,i=parseInt(t[n+"qty_max"],10),isNaN(i)&&(i=0,e[n+"_qty_max"]=i),e[n+"has_uses"]=i>1?"true":"",r=parseInt(t["repeating_item_"+a+"_equip-type"],10),r?e[n+"equiptype-tab"]=r:(t[l]&&(s=v(t[l])),s?(e[n+"equip-type"]=s,e[n+"equiptype-tab"]=s):(e[n+"equip-type"]=U.noEquipType,e[n+"equiptype-tab"]=U.noEquipType)),e[n+"showinmenu"]=0}catch(e){x.default.error("PFInventory.setNewDefaults error repeating_item  id "+a,e)}finally{return e}},{})}catch(e){x.default.error("PFInventory.setNewDefaults error setting defaults ",e)}finally{P.default.size(n)>0?(n.migrated_itemlist_defaults=1,O.setWrapper(n,T.default.silentParams,a)):a()}})})}catch(e){x.default.error("PFInventory.setNewDefaults outererr",e),a()}})}function S(e,t){var a=P.default.once(function(){"function"==typeof e&&e()});E.migrateRepeatingItemAttributes(x.default.callback(function(){I(x.default.callback(function(){d(a)}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.resetCommandMacro=o,t.updateRepeatingItems=u,t.updateLocations=b,t.createAttackEntryFromRow=y,t.updateAssociatedAttack=h,t.getEquipmentTypeFromName=v,t.importFromCompendium=k,t.setNewDefaults=I,t.migrate=S,t.recalculate=void 0;var P=l(a(1)),x=(a(3),l(a(0))),T=l(a(4)),O=i(a(2)),M=i(a(5)),D=(i(a(25)),i(a(45))),E=i(a(15)),F=i(a(30)),R=i(a(29)),N=i(a(17)),j=i(a(16)),L=i(a(66)),z=["Belt","Body","Chest","Eyes","Feet","Hands","Head","Headband","Neck","Ring1","Ring2","Shoulders","Wrist"],W=z.concat(["Armor3","Shield3"]),B=(P.default.map(W,function(e){return"worn-"+e}),P.default.map(W,function(e){return"worn-"+e+"-roll"})),q=["Carried","NotCarried","Armor","Belt","Body","Chest","Eyes","Feet","Hands","Head","Headband","Neck","Ring1","Ring2","Shield","Shoulders","Wrist"],H={Carried:0,NotCarried:1,Armor:2,Belt:3,Body:4,Chest:5,Eyes:6,Feet:7,Hands:8,Head:9,Headband:10,Neck:11,Ring1:12,Ring2:13,Shield:14,Shoulders:15,Wrist:16,equipped:2},U={noEquipType:0,Weapon:1,Armor:2,Ammo:3,Consumables:4,OtherMagic:5,Gear:6,Other:7,Charged:8,Other2:9},G={0:"",1:"weapons",2:"armor-shield",3:"ammunition",4:"consumables",5:"other-magic-items",6:"gear-tool",7:"other-items",8:"charged-magics",9:"other-items-2"},V={value:1,hp:1,weight:1},X=["attack-type","range","masterwork","crit-target","crit-multiplier","damage-dice-num","damage-die","damage","precision_dmg_macro","precision_dmg_type","critical_dmg_macro","critical_dmg_type"],K=x.default.callback(function(e,t,a){var n=P.default.once(function(){x.default.info("leaving PFInventory.recalculate"),"function"==typeof e&&e()}),r=P.default.after(2,function(){x.default.debug("PFInventory.recalculate at setTotals"),b(w),o(),A(),f(n)});try{x.default.debug("at PFInventory.recalculate"),S(function(){p(r,t),u(r,t)})}catch(e){x.default.error("PFInventory.recalculate",e),n()}});t.recalculate=K,function(){on("change:repeating_item:item-category_compendium",x.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(x.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),k(e))})),on("change:repeating_item:location",x.default.callback(function(e){x.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||getAttrs(["repeating_item_location","repeating_item_old_location"],function(t){var a=parseInt(t.repeating_item_location,10),n=parseInt(t.repeating_item_old_location,10);a===H.Armor||a===H.Shield?g(a,e.sourceAttribute,function(){_(null,null,null,e)}):_(null,null,null,e),(a!==H.NotCarried||n!==H.NotCarried&&n!==a)&&u(null,!1,{weight:1})})})),on("change:repeating_item:qty_max",x.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(x.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),u(),getAttrs(["repeating_item_qty_max"],function(e){parseInt(e.repeating_item_qty_max,10)>1?O.setWrapper({repeating_item_has_uses:"true"},T.default.silentParams):O.setWrapper({repeating_item_has_uses:""},T.default.silentParams)}))})),on("change:repeating_item:qty",x.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(x.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),getAttrs(["repeating_item_qty_max"],function(e){var t=parseInt(e.repeating_item_qty_max,10)||0;0!==t&&1!==t||u()}))})),on("change:repeating_item:value",x.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(x.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),u(null,!0,{value:1}))})),on("change:repeating_item:item-weight",x.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(x.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),getAttrs(["repeating_item_location"],function(e){parseInt(e.repeating_item_location,10)!==H.NotCarried&&u(null,!1,{weight:1})}))})),on("remove:repeating_item",x.default.callback(function(e){x.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||(u(),C(e.sourceAttribute)),j.removeLinkedAttack(null,j.linkedAttackType.equipment,O.getRowId(e.sourceAttribute))})),on("change:CP change:SP change:GP change:PP",x.default.callback(function(e){x.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),p()})),on("change:carried-currency change:carried-currency-toggle change:item_total_weight change:carried-misc",x.default.callback(function(e){x.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),f()})),on("change:use_metrics",x.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(x.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),f(),p(),u())})),on("change:repeating_item:item-defense-type change:repeating_item:item-acbonus change:repeating_item:item-max-dex change:repeating_item:item-acp change:repeating_item:item-spell-fail change:repeating_item:item-proficiency change:repeating_item:acenhance",x.default.callback(function(e){x.default.debug("caught "+e.sourceAttribute+" event"+e.sourceType),getAttrs(["repeating_item_location"],function(t){var a=parseInt(t.repeating_item_location,10)||0;a!==H.Armor&&a!==H.Shield||g(a,e.sourceAttribute)})})),P.default.each(X,function(e){var t="change:repeating_item:item-"+e;on(t,x.default.callback(function(e){x.default.debug("caught "+e.sourceAttribute+" event"+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||h(e.sourceAttribute)}))}),on("change:repeating_item:name change:repeating_item:item-dmg-type change:repeating_item:item-proficiency change:repeating_item:default_size change:repeating_item:wpenhance",x.default.callback(function(e){x.default.debug("caught "+e.sourceAttribute+" event"+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||h(e.sourceAttribute)})),on("change:repeating_item:create-attack-entry",x.default.callback(function(e){x.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||y(null,null,!1,e)})),on("change:repeating_item:set-as-armor",x.default.callback(function(e){x.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||g(H.Armor,e.sourceAttribute,function(){_(null,null,null,e)})})),on("change:repeating_item:set-as-shield",x.default.callback(function(e){x.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||g(H.Shield,e.sourceAttribute,function(){_(null,null,null,e)})})),on("change:repeating_item:showinmenu change:repeating_item:equip-type change:repeating_item:name",x.default.callback(function(e){x.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||o()})),on("change:repeating_item:name",x.default.callback(function(e){x.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||_(null,null,null,e)})),on("change:repeating_item:equip-type",x.default.callback(function(e){x.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||getAttrs(["repeating_item_equip-type","repeating_item_equiptype-tab","equipment_tab"],function(e){var t=parseInt(e["repeating_item_equip-type"],10)||0,a=parseInt(e["repeating_item_equiptype-tab"],10),n=parseInt(e.equipment_tab,10)||0,r={};(t!==a||isNaN(a))&&(r["repeating_item_equiptype-tab"]=t),t>0&&t!==n&&n<9&&(r.equipment_tab=t),P.default.size(r)&&O.setWrapper(r,T.default.silentParams)})})),on("change:showinmenu_all_items",function(){getSectionIDs("repeating_item",function(e){var t=e.map(function(e){return"repeating_item_".concat(e,"_showinmenu")});getAttrs(["showinmenu_all_items"],function(e){var a=+e.showinmenu_all_items||0,n=t.reduce(function(e,t){return e[t]=a,e},{});setAttrs(n),L.recalculate()})})})}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){getAttrs(["use_spells","spellclass-"+e+"-exists"],function(n){try{parseInt(n.use_spells,10)&&parseInt(n["spellclass-"+e+"-exists"],10)?"function"==typeof t&&t():"function"==typeof a&&a()}catch(e){A.default.error("PFSpellCasterClasses.ifSpellClassExists",e),"function"==typeof a&&a()}})}function s(e,t,a){var n=w.default.once(function(){"function"==typeof a&&a()});getAttrs(["spellclass-0-exists","spellclass-1-exists","spellclass-2-exists"],function(e){var t=parseInt(e.spellclasses_multiclassed,10)||0,a={};(parseInt(e["spellclass-0-exists"],10)||0)+(parseInt(e["spellclass-1-exists"],10)||0)+(parseInt(e["spellclass-2-exists"],10)||0)>1?t||(a.spellclasses_multiclassed=1):t&&(a.spellclasses_multiclassed=0),w.default.size(a)>0?I.setWrapper(a,C.default.silentParams,n):n()})}function c(e,t){getAttrs(["spellclass-0-exists","spellclass-1-exists","spellclass-2-exists","spellclass-0-name","spellclass-1-name","spellclass-2-name","allspells_macro","NPC-allspells_macro"],function(t){var a="",n="",r="";parseInt(t["spellclass-0-exists"],10)&&(r="{{row10=["+I.escapeForChatLinkButton(t["spellclass-0-name"])+" ^{spellbook}](~@{character_id}|",a+=r+"spellbook-0) }} ",n+=r+"NPC-spellbook-0) }} "),parseInt(t["spellclass-1-exists"],10)&&(r="{{row11=["+I.escapeForChatLinkButton(t["spellclass-1-name"])+" ^{spellbook}](~@{character_id}|",a+=r+"spellbook-1) }} ",n+=r+"NPC-spellbook-1) }} "),parseInt(t["spellclass-2-exists"],10)&&(r="{{row12=["+I.escapeForChatLinkButton(t["spellclass-2-name"])+" ^{spellbook}](~@{character_id}|",a+=r+"spellbook-2) }} ",n+=r+"NPC-spellbook-2) }} "),a!==t.allspells_macro?I.setWrapper({allspells_macro:a,"NPC-allspells_macro":n},C.default.silentParams,e):"function"==typeof e&&e()})}function u(e,t,a,n,r){var i=function(){"function"==typeof n&&n()},l="spellclass-"+e,o=l+"-level-total",s=l+"-close",c=l+"-medium",u=l+"-long";getAttrs(["use_metrics",o,s,c,u],function(e){var t=parseInt(e.use_metrics)||0,n=parseInt(e[o],10)||0,l=parseInt(e[s],10)||0,p=parseInt(e[c],10)||0,f=parseInt(e[u],10)||0,d={},m={},_={};try{d=S.calculateSpellRanges(n,t),(a||d.close!==l||d.medium!==p||d.long!==f)&&(m[s]=d.close,m[c]=d.medium,m[u]=d.long)}catch(e){A.default.error("PFSpellCasterClasses.updateCasterRanges",e)}finally{w.default.size(m)>0?(r&&(_=C.default.silentParams),I.setWrapper(m,_,i)):i()}})}function p(e,t,a,n){I.updateRowTotal(["Concentration-"+e,"spellclass-"+e+"-level-total","Concentration-"+e+"-mod","Concentration-"+e+"-misc-mod"],0,null,!1,a,n)}function f(e,t,a,n){var r=w.default.once(function(){"function"==typeof a&&a()});getAttrs(["use_spells","spellclass-"+e+"-exists","Concentration-"+e+"-ability","Concentration-"+e+"-mod","spellclass-"+e+"-level-0-savedc","spellclass-"+e+"-savedc-misc","buff_SpellDC_"+e+"-total"],function(t){var a,i=parseInt(t["Concentration-"+e+"-mod"],10)||0,l=parseInt(t["spellclass-"+e+"-savedc-misc"],10)||0,o=parseInt(t["buff_SpellDC_"+e+"-total"],10)||0,s=l+o,c=t["Concentration-"+e+"-ability"],u=10+i+s,p=parseInt(t["spellclass-"+e+"-level-0-savedc"],10)||0,f={},d={};try{if(p!==u||isNaN(p)||0!==c)for(f["spellclass-"+e+"-level-0-savedc"]=u,a=1;a<10;a++)f["spellclass-"+e+"-level-"+a+"-savedc"]=u+a}catch(e){A.default.error("PFSpellCasterClasses.updateSaveDCs",e)}finally{w.default.size(f)>0?(n&&(d=C.default.silentParams),I.setWrapper(f,d,r)):r()}})}function d(e,t,a,n){var r=w.default.once(function(){"function"==typeof a&&a()}),i="Concentration-"+e+"-ability";getAttrs([i,"INT","WIS","CHA","STR","DEX","CON","spellclass-"+e+"-level-0-bonus","spellclass-"+e+"-level-1-bonus","spellclass-"+e+"-level-2-bonus","spellclass-"+e+"-level-3-bonus","spellclass-"+e+"-level-4-bonus","spellclass-"+e+"-level-5-bonus","spellclass-"+e+"-level-6-bonus","spellclass-"+e+"-level-7-bonus","spellclass-"+e+"-level-8-bonus","spellclass-"+e+"-level-9-bonus"],function(t){var a,n,l,o=S.findAbilityInString(t[i]).replace("-mod",""),s=parseInt(t[o],10),c={},u={silent:!0},p="spellclass-"+e+"-level-";try{if(!isNaN(s))if(s>=12)for(l=1;l<10;l++)a=Math.floor(Math.max(Math.floor((s-10)/2)+4-l,0)/4),n=p+l+"-bonus",parseInt(t[n],10)!==a&&(c[n]=a);else for(l=1;l<10;l++)n=p+l+"-bonus",0!==parseInt(t[n],10)&&(c[n]=0)}catch(e){A.default.error("PFSpellCasterClasses.updateBonusSpells",e)}finally{w.default.size(c)>0?I.setWrapper(c,u,r):r()}})}function m(e,t,a,n){var r=w.default.once(function(){"function"==typeof a&&a()});getAttrs(["spellclass-"+e+"-level-"+t+"-spells-per-day_max","spellclass-"+e+"-level-"+t+"-class","spellclass-"+e+"-level-"+t+"-bonus","spellclass-"+e+"-level-"+t+"-misc"],function(a){var n=0,i=0,l=0,o=0,s={};try{i=parseInt(a["spellclass-"+e+"-level-"+t+"-class"],10),o=parseInt(a["spellclass-"+e+"-level-"+t+"-spells-per-day_max"],10)||0,isNaN(i)?n=0:(l=(parseInt(a["spellclass-"+e+"-level-"+t+"-bonus"],10)||0)+(parseInt(a["spellclass-"+e+"-level-"+t+"-misc"],10)||0),n=i+l),n!==o?(s["spellclass-"+e+"-level-"+t+"-spells-per-day_max"]=n,I.setWrapper(s,C.default.silentParams,r)):r()}catch(e){A.default.error("PFSpellCasterClasses.updateMaxSpellsPerDay err",e),r()}})}function _(e,t){var a=w.default.once(function(){"function"==typeof e&&e()});getAttrs(["condition_spell_notes","condition-Deafened","condition-Grappled","condition-Pinned"],function(e){var t={},n="";parseInt(e["condition-Deafened"],10)&&(n+="**"+I.getTranslated("deafened")+"**: ",n+=I.getTranslated("condition-deafened-spellonly")+"\r\n"),parseInt(e["condition-Grappled"],10)&&(n+="**"+I.getTranslated("grappled")+"**: ",n+=I.getTranslated("condition-grappled-spell-note")+"\r\n"),parseInt(e["condition-Pinned"],10)&&(n+="**"+I.getTranslated("pinned")+"**: ",n+=I.getTranslated("condition-pinned-spell-note")+" ",n+=I.getTranslated("condition-grappled-spell-note")+"\r\n"),n!==e.condition_spell_notes&&(t.condition_spell_notes=n,I.setWrapper(t,C.default.silentParams)),a()})}function g(e,t,a){var n=w.default.once(function(){"function"==typeof t&&t()}),r=w.default.after(5,n),i=w.default.after(10,r);w.default.times(10,function(t){m(e,t,i,a)}),p(e,null,r,a),f(e,null,r,a),u(e,null,!1,r,a),d(e,null,r,a)}function b(e,t,a,n,r,i){var l=w.default.once(function(){"function"==typeof n&&n()});getAttrs(["use_spells","spellclass-"+e+"-level","spellclass-"+e+"-level-total","spellclass-"+e+"-level-misc-mod","buff_CasterLevel-total","CasterLevel-Penalty","spellclass-"+e+"-exists"],function(t){var n=a||parseInt(t["spellclass-"+e+"-level"],10)||0,o=parseInt(t["spellclass-"+e+"-level-total"],10)||0,s=parseInt(t["spellclass-"+e+"-exists"],10)||0,c=parseInt(t.use_spells,10)||0,u=0,p={},f=0,d={};try{c?(u=n+(parseInt(t["spellclass-"+e+"-level-misc-mod"],10)||0)+(parseInt(t["buff_CasterLevel-total"],10)||0)+(parseInt(t["CasterLevel-Penalty"],10)||0),u<=0&&(u=n>0?1:0),u!==o&&(p["spellclass-"+e+"-level-total"]=u,n>0&&(f=1)),n>0?(0===s&&(p["spellclass-"+e+"-exists"]=1,f=1),i&&(f=1)):1===s&&(p["spellclass-"+e+"-exists"]=0)):1===s&&(p["spellclass-"+e+"-exists"]=0)}catch(e){A.default.error("PFSpellCasterClasses.updateCasterLevel",e)}finally{w.default.size(p)>0?(r&&(d=C.default.silentParams),I.setWrapper(p,d,function(){f?g(e,l,r):l()})):l()}})}function y(e,t,a,n){b(0,t,0,a,n),b(1,t,0,a,n),b(2,t,0,a,n)}function h(e,t,a,n){var r=w.default.once(function(){"function"==typeof a&&a()}),i="spellclass-"+e,l="spellclass-"+e+"-level";getAttrs([i,l],function(a){var n,o,s,c=parseInt(a[i],10),u=parseInt(a[l],10);try{if(isNaN(c)||!a[i]||-1===parseInt(a[i],10))return void r();n="spellclass-"+e+"-name",o="class-"+c+"-name",s="class-"+c+"-level",6===c&&(o="race",s="npc-hd-num"),getAttrs([o,s,n],function(a){var i={},c=0,p=parseInt(a[s],10)||0;try{(u!==p||isNaN(u))&&(i[l]=p,c=1),a[o]&&a[o]!==a[n]&&(i[n]=a[o])}catch(e){A.default.error("PFSpellCasterClasses.setCasterClassFromDropdown",e)}finally{w.default.size(i)>0?(I.setWrapper(i,{silent:!0},r),c&&b(e,t,p)):r()}})}catch(e){A.default.error("PFSpellCasterClasses.setCasterClassFromDropdown outer",e),r()}})}function v(e,t,a,n,r){w.default.once(function(){"function"==typeof n&&n()});e="npc-hd-num"===e?6:parseInt(e,10)||0,getAttrs(["spellclass-0","spellclass-1","spellclass-2"],function(n){var r,i,l,o,s;if(parseInt(n["spellclass-0"],10)===e)r=0;else if(parseInt(n["spellclass-1"],10)===e)r=1;else{if(parseInt(n["spellclass-2"],10)!==e)return;r=2}o="spellclass-"+r,i=o+"-level",l="class-"+e+"-level",s="class-"+e+"-name",getAttrs([i,l,s],function(n){var r={},c=parseInt(n[l],10)||0,u=parseInt(n[i],10);(c!==u||isNaN(u)||a)&&(r[i]=c,r[o+"-name"]=n[s],I.setWrapper(r,{silent:!0}),b(e,t,c))})})}function k(e,t){"function"==typeof e&&e()}Object.defineProperty(t,"__esModule",{value:!0}),t.ifSpellClassExists=o,t.updateMultiClassedCasterFlag=s,t.applyConditions=_,t.setCasterClassFromDropdown=h,t.updateCasterFromClassLevel=v,t.migrate=k,t.recalculate=void 0;var w=l(a(1)),A=l(a(0)),C=(a(3),l(a(4))),I=i(a(2)),S=i(a(5)),P=i(a(19)),x=(i(a(15)),i(a(38))),T=A.default.callback(function(e,t,a){var n=w.default.once(function(){A.default.info("leaving PFSpellCasterClasses.recalculate"),"function"==typeof e&&e()}),r=function(e,t){var a=(w.default.once(function(){"function"==typeof e&&e()}),w.default.after(3,function(){c(e)}));w.default.each(C.default.spellClassIndexes,function(e){try{h(e,null,function(){b(e,null,0,a,t,!0)},t)}catch(e){A.default.error("PFSpellCasterClasses.recalculate_recalcTopSection",e),a()}})},i=w.default.once(function(){s(null,null,function(){x.recalculate(n,t,a)})}),l=w.default.once(function(){r(i,t)}),o=w.default.once(function(){_(l,t)});k(function(){o()},a)});t.recalculate=T;var O={spellcastingClassEventsAuto:{"change:concentration-REPLACE-mod":[d,f,p,x.updateSpellsCasterAbilityRelated],"change:concentration-REPLACE-ability":[f,x.updateSpellsCasterAbilityRelated],"change:spellclass-REPLACE-level-total":[f,p,u,x.updateSpellsCasterLevelRelated],"change:concentration-REPLACE-misc-mod":[p,x.updateSpellsCasterLevelRelated],"change:spellclass-REPLACE-SP-mod":[x.updateSpellsCasterLevelRelated],"change:spellclass-REPLACE-level-misc-mod":[b],"change:buff_SpellDC_REPLACE-total":[f,x.updateSpellsCasterAbilityRelated]},spellcastingClassEventsPlayer:{"change:concentration-REPLACE-def":[x.updateSpellsCasterLevelRelated],"change:spellclass-REPLACE-savedc-misc":[f,x.updateSpellsCasterAbilityRelated]},spellcastingClassEventsIgnoreLevel:{"change:spellclass-REPLACE":[h],"change:spellclass-REPLACE-level":[b,s],"change:buff_CasterLevel-total change:condition-Drained change:CasterLevel-Penalty":[y]},spellcastingClassEventsPerSpellLevel:"change:spellclass-CLASSIDX-level-SPELLLEVEL-class change:spellclass-CLASSIDX-level-SPELLLEVEL-bonus change:spellclass-CLASSIDX-level-SPELLLEVEL-misc"};!function(){w.default.each(C.default.spellClassIndexes,function(e){var t=parseInt(e,10)||0;on("change:Concentration-"+t+"-ability",A.default.callback(function(e){A.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),P.setDropdownValue("Concentration-"+t+"-ability","Concentration-"+t+"-mod")})),w.default.each(O.spellcastingClassEventsPlayer,function(e,a){var n=a.replace(/REPLACE/g,t);w.default.each(e,function(e){on(n,A.default.callback(function(a){"player"!==a.sourceType&&"api"!==a.sourceType||(A.default.debug("caught "+a.sourceAttribute+" event: "+a.sourceType),o(t,function(){e(t,a)}))}))})}),w.default.each(O.spellcastingClassEventsAuto,function(e,a){var n=a.replace(/REPLACE/g,t);w.default.each(e,function(e){on(n,A.default.callback(function(a){"sheetworker"!==a.sourceType&&"api"!==a.sourceType||(A.default.debug("caught "+a.sourceAttribute+" event: "+a.sourceType),o(t,function(){e(t,a)}))}))})}),w.default.each(O.spellcastingClassEventsIgnoreLevel,function(e,a){var n=a.replace(/REPLACE/g,t);w.default.each(e,function(e){on(n,A.default.callback(function(a){A.default.debug("caught "+a.sourceAttribute+" event: "+a.sourceType),e(t,a)}))})}),w.default.each(x.spellLevels,function(e){var a=parseInt(e,10),n=O.spellcastingClassEventsPerSpellLevel.replace(/CLASSIDX/g,t).replace(/SPELLLEVEL/g,a);on(n,A.default.callback(function(e){A.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),o(t,function(){m(t,a)})}))}),on("change:spellclass-0-exists change:spellclass-1-exists change:spellclass-2-exists",A.default.callback(function(e){"sheetworker"!==e.sourceType&&"api"!==e.sourceType||(A.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),c(null,e))})),on("change:use_metrics",A.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(A.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),u(t,e,!0,null,!0))}))})}()},function(e,t,a){"use strict";function n(e){return void 0===e}t.a=n},function(e,t,a){"use strict";function n(e){return!0===e||!1===e||"[object Boolean]"===r.t.call(e)}t.a=n;var r=a(6)},function(e,t,a){"use strict";var n=a(8);t.a=Object(n.a)("Number")},function(e,t,a){"use strict";var n=a(8);t.a=Object(n.a)("Symbol")},function(e,t,a){"use strict";var n=a(8);t.a=Object(n.a)("ArrayBuffer")},function(e,t,a){"use strict";function n(e){return Object(i.a)(e)&&Object(r.g)(e)}t.a=n;var r=a(6),i=a(70)},function(e,t,a){"use strict";function n(e){return r.l?Object(r.l)(e)&&!Object(i.a)(e):Object(o.a)(e)&&s.test(r.t.call(e))}var r=a(6),i=a(52),l=a(75),o=a(131),s=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;t.a=r.r?n:Object(l.a)(!1)},function(e,t,a){"use strict";function n(e){return function(){return e}}t.a=n},function(e,t,a){"use strict";function n(e){return function(t){var a=e(t);return"number"==typeof a&&a>=0&&a<=r.b}}t.a=n;var r=a(6)},function(e,t,a){"use strict";function n(e){return function(t){return null==t?void 0:t[e]}}t.a=n},function(e,t,a){"use strict";function n(e){for(var t={},a=e.length,n=0;n<a;++n)t[e[n]]=!0;return{contains:function(e){return!0===t[e]},push:function(a){return t[a]=!0,e.push(a)}}}function r(e,t){t=n(t);var a=i.n.length,r=e.constructor,s=Object(l.a)(r)&&r.prototype||i.c,c="constructor";for(Object(o.a)(e,c)&&!t.contains(c)&&t.push(c);a--;)(c=i.n[a])in e&&e[c]!==s[c]&&!t.contains(c)&&t.push(c)}t.a=r;var i=a(6),l=a(13),o=a(18)},function(e,t,a){"use strict";function n(e,t){var a=Object(r.a)(t),n=a.length;if(null==e)return!n;for(var i=Object(e),l=0;l<n;l++){var o=a[l];if(t[o]!==i[o]||!(o in i))return!1}return!0}t.a=n;var r=a(7)},function(e,t,a){"use strict";function n(e){for(var t={},a=Object(r.a)(e),n=0,i=a.length;n<i;n++)t[e[a[n]]]=a[n];return t}t.a=n;var r=a(7)},function(e,t,a){"use strict";function n(e){var t=[];for(var a in e)Object(r.a)(e[a])&&t.push(a);return t.sort()}t.a=n;var r=a(13)},function(e,t,a){"use strict";var n=a(56),r=a(33);t.a=Object(n.a)(r.a)},function(e,t,a){"use strict";var n=a(56),r=a(33);t.a=Object(n.a)(r.a,!0)},function(e,t,a){"use strict";function n(){return function(){}}function r(e){if(!Object(i.a)(e))return{};if(l.j)return Object(l.j)(e);var t=n();t.prototype=e;var a=new t;return t.prototype=null,a}t.a=r;var i=a(22),l=a(6)},function(e,t,a){"use strict";function n(e,t,a){var n=Object(i.a)(e,Object(r.a)(t));return Object(l.a)(n)?a:n}t.a=n;var r=a(34),i=a(58),l=a(68)},function(e,t,a){"use strict";function n(e){return Object(i.a)(e)?e:[e]}t.a=n;var r=a(11),i=a(23);r.a.toPath=n},function(e,t,a){"use strict";function n(e,t,a){return null==e?r.a:Object(i.a)(e)?Object(u.a)(e,t,a):Object(l.a)(e)&&!Object(o.a)(e)?Object(s.a)(e):Object(c.a)(e)}t.a=n;var r=a(59),i=a(13),l=a(22),o=a(23),s=a(42),c=a(60),u=a(35)},function(e,t,a){"use strict";function n(e,t){return Object(i.a)(e,t,1/0)}t.a=n;var r=a(11),i=a(87);r.a.iteratee=n},function(e,t,a){"use strict";function n(){}t.a=n},function(e,t,a){"use strict";function n(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}t.a=n},function(e,t,a){"use strict";function n(e){var t=function(t){return e[t]},a="(?:"+Object(r.a)(e).join("|")+")",n=RegExp(a),i=RegExp(a,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(i,t):e}}t.a=n;var r=a(7)},function(e,t,a){"use strict";t.a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}},function(e,t,a){"use strict";var n=a(11);t.a=n.a.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g}},function(e,t,a){"use strict";function n(e,t,a,n,l){if(!(n instanceof t))return e.apply(a,l);var o=Object(r.a)(e.prototype),s=e.apply(o,l);return Object(i.a)(s)?s:o}t.a=n;var r=a(84),i=a(22)},function(e,t,a){"use strict";var n=a(10),r=a(13),i=a(94);t.a=Object(n.a)(function(e,t,a){if(!Object(r.a)(e))throw new TypeError("Bind must be called on a function");var l=Object(n.a)(function(n){return Object(i.a)(e,l,t,this,a.concat(n))});return l})},function(e,t,a){"use strict";var n=a(10);t.a=Object(n.a)(function(e,t,a){return setTimeout(function(){return e.apply(null,a)},t)})},function(e,t,a){"use strict";function n(e,t){var a;return function(){return--e>0&&(a=t.apply(this,arguments)),e<=1&&(t=null),a}}t.a=n},function(e,t,a){"use strict";function n(e,t,a){t=Object(r.a)(t,a);for(var n,l=Object(i.a)(e),o=0,s=l.length;o<s;o++)if(n=l[o],t(e[n],n,e))return n}t.a=n;var r=a(9),i=a(7)},function(e,t,a){"use strict";function n(e){return function(t,a,n){a=Object(r.a)(a,n);for(var l=Object(i.a)(t),o=e>0?0:l-1;o>=0&&o<l;o+=e)if(a(t[o],o,t))return o;return-1}}t.a=n;var r=a(9),i=a(14)},function(e,t,a){"use strict";var n=a(99);t.a=Object(n.a)(-1)},function(e,t,a){"use strict";function n(e,t,a,n){a=Object(r.a)(a,n,1);for(var l=a(t),o=0,s=Object(i.a)(e);o<s;){var c=Math.floor((o+s)/2);a(e[c])<l?o=c+1:s=c}return o}t.a=n;var r=a(9),i=a(14)},function(e,t,a){"use strict";var n=a(101),r=a(63),i=a(103);t.a=Object(i.a)(1,r.a,n.a)},function(e,t,a){"use strict";function n(e,t,a){return function(n,o,s){var c=0,u=Object(r.a)(n);if("number"==typeof s)e>0?c=s>=0?s:Math.max(s+u,c):u=s>=0?Math.min(s+1,u):s+u+1;else if(a&&s&&u)return s=a(n,o),n[s]===o?s:-1;if(o!==o)return s=t(i.q.call(n,c,u),l.a),s>=0?s+c:-1;for(s=e>0?c:u-1;s>=0&&s<u;s+=e)if(n[s]===o)return s;return-1}}t.a=n;var r=a(14),i=a(6),l=a(73)},function(e,t,a){"use strict";function n(e,t,a){var n=Object(r.a)(e)?i.a:l.a,o=n(e,t,a);if(void 0!==o&&-1!==o)return e[o]}t.a=n;var r=a(12),i=a(63),l=a(98)},function(e,t,a){"use strict";function n(e){var t=function(t,a,n,l){var o=!Object(r.a)(t)&&Object(i.a)(t),s=(o||t).length,c=e>0?0:s-1;for(l||(n=t[o?o[c]:c],c+=e);c>=0&&c<s;c+=e){var u=o?o[c]:c;n=a(n,t[u],u,t)}return n};return function(e,a,n,r){var i=arguments.length>=3;return t(e,Object(l.a)(a,r,4),n,i)}}t.a=n;var r=a(12),i=a(7),l=a(35)},function(e,t,a){"use strict";function n(e,t,a){var n,s,c=-1/0,u=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=Object(r.a)(e)?e:Object(i.a)(e);for(var p=0,f=e.length;p<f;p++)null!=(n=e[p])&&n>c&&(c=n)}else t=Object(l.a)(t,a),Object(o.a)(e,function(e,a,n){((s=t(e,a,n))>u||s===-1/0&&c===-1/0)&&(c=e,u=s)});return c}t.a=n;var r=a(12),i=a(26),l=a(9),o=a(24)},function(e,t,a){"use strict";function n(e,t,a){if(null==t||a)return Object(r.a)(e)||(e=Object(i.a)(e)),e[Object(o.a)(e.length-1)];var n=Object(s.a)(e),c=Object(l.a)(n);t=Math.max(Math.min(t,c),0);for(var u=c-1,p=0;p<t;p++){var f=Object(o.a)(p,u),d=n[p];n[p]=n[f],n[f]=d}return n.slice(0,t)}t.a=n;var r=a(12),i=a(26),l=a(14),o=a(90),s=a(108)},function(e,t,a){"use strict";function n(e){return e?Object(r.a)(e)?i.q.call(e):Object(l.a)(e)?e.match(p):Object(o.a)(e)?Object(s.a)(e,c.a):Object(u.a)(e):[]}t.a=n;var r=a(23),i=a(6),l=a(51),o=a(12),s=a(28),c=a(59),u=a(26),p=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g},function(e,t,a){"use strict";var n=a(10),r=a(13),i=a(35),l=a(33),o=a(180),s=a(27);t.a=Object(n.a)(function(e,t){var a={},n=t[0];if(null==e)return a;Object(r.a)(n)?(t.length>1&&(n=Object(i.a)(n,t[1])),t=Object(l.a)(e)):(n=o.a,t=Object(s.a)(t,!1,!1),e=Object(e));for(var c=0,u=t.length;c<u;c++){var p=t[c],f=e[p];n(f,p,e)&&(a[p]=f)}return a})},function(e,t,a){"use strict";function n(e,t,a){return r.q.call(e,0,Math.max(0,e.length-(null==t||a?1:t)))}t.a=n;var r=a(6)},function(e,t,a){"use strict";function n(e,t,a){return r.q.call(e,null==t||a?1:t)}t.a=n;var r=a(6)},function(e,t,a){"use strict";var n=a(10),r=a(27),i=a(36),l=a(37);t.a=Object(n.a)(function(e,t){return t=Object(r.a)(t,!0,!0),Object(i.a)(e,function(e){return!Object(l.a)(t,e)})})},function(e,t,a){"use strict";function n(e,t,a,n){Object(r.a)(t)||(n=a,a=t,t=!1),null!=a&&(a=Object(i.a)(a,n));for(var s=[],c=[],u=0,p=Object(l.a)(e);u<p;u++){var f=e[u],d=a?a(f,u,e):f;t&&!a?(u&&c===d||s.push(f),c=d):a?Object(o.a)(c,d)||(c.push(d),s.push(f)):Object(o.a)(s,f)||s.push(f)}return s}t.a=n;var r=a(69),i=a(9),l=a(14),o=a(37)},function(e,t,a){"use strict";function n(e){for(var t=e&&Object(r.a)(e,i.a).length||0,a=Array(t),n=0;n<t;n++)a[n]=Object(l.a)(e,n);return a}t.a=n;var r=a(106),i=a(14),l=a(64)},function(e,t,a){"use strict";function n(e,t){return e._chain?Object(r.a)(t).chain():t}t.a=n;var r=a(11)},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a="repeating_spells_"+t,n=C[t];getAttrs([a,"repeating_spells_spell_options","repeating_spells_spell_lvlstr",n,"repeating_spells_sr","repeating_spells_SP-mod","repeating_spells_savedc"],function(e){var r=e.repeating_spells_spell_options,i="",l={};if(!e.repeating_spells_spell_lvlstr&&r)try{if(i=e[a]||"",1===parseInt(e[n],10)){switch(t){case"school":r=r.replace(y.school,b.school);break;case"cast-time":r=!i||/1\s+(S\.A\.|standard action)/i.test(i)?_.deleteOption(r,"casting_time",y):r.replace(y.casting_time,b.casting_time);break;case"components":r=r.replace(y.components,b.components);break;case"duration":r=r.replace(y.duration,b.duration);break;case"range":r=r.replace(y.range,b.range);break;case"targets":r=r.replace(y.targets,b.targets);break;case"save":r=_.shouldNotDisplayOption("saving_throw",i)?_.deleteOption(r,"saving_throw",y):r.replace(y.saving_throw,b.saving_throw);break;case"sr":r=_.shouldNotDisplayOption("sr",i)?_.deleteOption(r,"sr",y):r.replace(y.sr,b.sr);break;case"damage-macro-text":r=i?r.replace(y.spelldamage,b.spelldamage):_.deleteOption(r,"spelldamage",y);break;case"damage-type":r=i?r.replace(y.spelldamagetype,b.spelldamagetype):_.deleteOption(r,"spelldamagetype",y);break;case"sp-mod":f.default.debug("found damage type"+i),r=i?r.replace(y.spellPen,b.spellPen):_.deleteOption(r,"spellPen",y)}l.repeating_spells_spell_options=r,m.setWrapper(l,{silent:!0})}}catch(e){f.default.error("PFSpellOptions.updateSpellOption",e)}})}function s(e,t,a,n){var r="repeating_spells_"+m.getRepeatingIDStr(e),i=parseInt(n[r+"Concentration_misc"],10)||0,l=parseInt(n[r+"CL_misc"],10)||0,o=parseInt(n[r+"spellclass_number"],10),s=parseInt(n[r+"spell_level"],10),c=parseInt(n[r+"slot"],10),u=(parseInt(n[r+"casterlevel"],10),parseInt(n[r+"Concentration-mod"],10),isNaN(c)||c===s?s:c),p=15+2*u,d=parseInt(a["Concentration-"+o+"-def"],10)||0,g="{{condition_note=@{condition_spell_notes}}}",y="";return isNaN(o)||isNaN(s)?(f.default.warn("cannot set options for spell! id:"+e+"  class or level are not numbers"),"{{condition_note=@{condition_spell_notes}}}"):(a.showschool&&(g+=b.school),a.showlevel&&(g+=b.spellclass,g+=b.level),a.showcasting_time&&(!n[r+"cast-time"]||/1 (S\.A\.|standard action)/i.test(n[r+"cast-time"])?g+="{{casting_time=}}":g+=b.casting_time),a.showcomponents&&(g+=b.components),a.showsaving_throw&&a.showdc?(y=n[r+"save"]||"",_.shouldNotDisplayOption("saving_throw",y)?g+="{{saving_throw=}}":g+=b.saving_throw,g+=b.dc):(y=n[r+"save"]||"",_.shouldNotDisplayOption("saving_throw",y)?g+="{{saving_throw=}}":g+=b.saving_throw,g+="{{dc=}}"),a.showrange&&(g+=b.range_pick,g+=b.range,g+=b.rangetext),a.showtargets&&(g+=b.targets),a.showduration&&(g+=b.duration),a.showsr&&(y=n[r+"sr"]||"",_.shouldNotDisplayOption("sr",y)?g+="{{sr=}}":g+=b.sr,y=parseInt(n[r+"SP-mod"],10)||0,g+=y?b.spellPen:"{{spellPen=}}"),a.showcasterlevel&&l?g+=b.casterlevel:g+="{{casterlevel=}}",a.showcasterlevel&&(g+=b.casterlevel),a.showcasterlevel_check&&(g+=b.casterlevel_chk),a.showspellpen_check&&(g+=b.spellPen_chk),(a.showcasterlevel||a.showcasterlevel_check)&&0===(y=parseInt(n[r+"SP-mod"],10)||0)&&(g+=b.spellPen),a.showconcentration&&(i||l)?g+=b.Concentration:g+="{{Concentration=}}",a.showconcentration_check&&a.showcasterlevel&&(g+=b.Concentration),a.showconcentration_check&&(g+=b.Concentration_chk),(a.showconcentration||a.showconcentration_check)&&a.showdc?(g+=d>0?b.cast_def.replace("REPLACE",d)||"":"{{cast_def=}}",g+=b.cast_defDC.replace("REPLACE",p)||""):(g+=d>0?b.cast_def.replace("REPLACE",d)||"":"{{cast_def=}}",g+="{{cast_defDC=}}"),a.showdescription&&(g+=b.description),a.showspellnotes&&(g+=b.spellnotes.replace("REPLACE","@{spell-class-"+o+"-spells-notes}")||""),a.showspell_fail_check&&(g+=b.spell_fail_check,g+=b.spell_fail),a.showdamage?(n[r+"damage-macro-text"]?g+=b.spelldamage:g+="{{spelldamage=}}",n["damage-type"]?g+=b.spelldamagetype:g+="{{spelldamagetype=@{damage-type}}}"):g+="{{spelldamage=}}{{spelldamagetype=@{damage-type}}}",g)}function c(e,t){var a,n="repeating_spells_"+m.getRepeatingIDStr(e);a=p.default.map(A,function(e){return n+e}).concat(v),getAttrs(a,function(a){var n=p.default.chain(g).reduce(function(e,t){return e["show"+t.toLowerCase().slice(13).replace("_notes","")]=parseInt(a[t],10)||0,e},{}).extend({"Concentration-0-def":parseInt(a["Concentration-0-def"],10)||0,"Concentration-1-def":parseInt(a["Concentration-1-def"],10)||0,"Concentration-2-def":parseInt(a["Concentration-2-def"],10)||0}).value(),r="",i={};f.default.debug("PFSPellOptions.resetOption id : "+e,n),r=s(e,t,n,a)||"{{condition_note=@{condition_spell_notes}}}",i["repeating_spells_"+m.getRepeatingIDStr(e)+"spell_options"]=r,m.setWrapper(i,{silent:!0})})}function u(e,t){var a=p.default.once(function(){"function"==typeof e&&e()});getAttrs(v,function(e){var n;try{f.default.debug("PFSpellOptions.resetOptions:",e),n=p.default.chain(g).reduce(function(t,a){return t["show"+a.toLowerCase().slice(13).replace("_notes","")]=parseInt(e[a],10)||0,t},{}).extend({"Concentration-0-def":parseInt(e["Concentration-0-def"],10)||0,"Concentration-1-def":parseInt(e["Concentration-1-def"],10)||0,"Concentration-2-def":parseInt(e["Concentration-2-def"],10)||0}).value(),f.default.debug("PFSPellOptions.resetOptions: ",n),getSectionIDs("repeating_spells",function(e){var r,i;if(!e||0===p.default.size(e))return void a();i=p.default.map(e,function(e){return"repeating_spells_"+e+"_"}),r=m.cartesianAppend(i,A),getAttrs(r,function(r){var i={};p.default.each(e,function(e){var a="";try{a=s(e,t,n,r)||"{{condition_note=@{condition_spell_notes}}}",i["repeating_spells_"+e+"_spell_options"]=a}catch(t){f.default.error("PFSpellOptions.resetOptions error on id "+e+", innererr",t)}}),p.default.size(i)>0?m.setWrapper(i,d.default.silentParams,a):a()})})}catch(e){f.default.error("PFSpellOptions.resetOptions outererr:",e),a()}})}Object.defineProperty(t,"__esModule",{value:!0}),t.updateSpellOption=o,t.getOptionText=s,t.resetOption=c,t.resetOptions=u,t.recalculate=t.optionTemplateRegexes=t.optionTemplates=t.optionToggles=void 0;var p=l(a(1)),f=l(a(0)),d=(a(3),l(a(4))),m=i(a(2)),_=i(a(5)),g=["toggle_spell_school_notes","toggle_spell_casting_time_notes","toggle_spell_duration_notes","toggle_spell_saving_throw_notes","toggle_spell_sr_notes","toggle_spell_range_notes","toggle_spell_targets_notes","toggle_spell_description_notes","toggle_spell_concentration_notes","toggle_spell_concentration_check","toggle_spell_casterlevel_notes","toggle_spell_casterlevel_check","toggle_spell_level_notes","toggle_spell_components_notes","toggle_spell_spellnotes_notes","toggle_spell_spell_fail_check","toggle_spell_damage_notes","toggle_spell_spellPen_check","toggle_spell_dc_notes"],b={school:"{{school=@{school}}}",casting_time:"{{casting_time=@{cast-time}}}",components:"{{components=@{components}}}",duration:"{{duration=@{duration}}}",saving_throw:"{{saving_throw=@{save}}}",sr:"{{sr=@{sr}}}",casterlevel:"{{casterlevel=[[ @{casterlevel} ]]}}",range:"{{range=@{range_numeric}}}",targets:"{{targets=@{targets}}}",Concentration:"{{Concentration=[[ @{Concentration-mod} ]]}}",description:"{{description=@{description}}}",dc:"{{dc=[[ @{savedc} ]]}}",spellPen:"{{spellPen=[[ @{SP-mod} ]]}}",range_pick:"{{@{range_pick}=Range_pick}}",rangetext:"{{rangetext=@{range}}}",level:"{{level=@{spell_level}}}",spellclass:"{{spellclass=@{spellclass}}}",cast_def:"{{cast_def=[[ REPLACE ]]}}",cast_defDC:"{{cast_defDC=[[ REPLACE ]]}}",concentrationNote:"{{concentrationNote=REPLACE}}",spellPenNote:"{{spellPenNote=REPLACE}}",casterlevel_chk:"{{casterlevel_chk=[[ 1d20 + @{casterlevel} ]]}}",Concentration_chk:"{{Concentration_chk=[[ 1d20 + @{Concentration-mod} ]]}}",spellnotes:"{{spells_notes=REPLACE}}",spell_fail_check:"{{spell_fail_check=[[ 1d100cf<[[ @{spell-fail} ]]cs>[[ @{spell-fail}+1 ]] ]]}}",spell_fail:"{{spell_fail=@{spell-fail}}}",spelldamage:"{{spelldamage=@{damage-macro-text}}}",spelldamagetype:"{{spelldamagetype=@{damage-type}}}",spellPen_chk:"{{spellPen_chk=[[ 1d20 + @{casterlevel} + @{SP-mod} ]]}}"},y=_.getOptionsCompiledRegexMap(b);t.optionTemplateRegexes=y,t.optionTemplates=b,t.optionToggles=g;var h=["Concentration-0-def","Concentration-1-def","Concentration-2-def","spell-fail"],v=g.concat(h),k=["school","cast-time","duration","save","sr","range_numeric","targets","description","Concentration-mod","savedc","SP-mod","range_pick","range","spell_level","spellclass","casterlevel","components","spellclass_number","damage-macro-text","damage-type"],w=["spellclass_number","SP_misc","CL_misc","Concentration_misc","slot","spell-attack-type"],A=k.concat(w),C={school:"toggle_spell_school_notes","cast-time":"toggle_spell_casting_time_notes",components:"toggle_spell_components_notes",duration:"toggle_spell_duration_notes",save:"toggle_spell_saving_throw_notes",dc:"toggle_spell_dc_notes",sr:"toggle_spell_sr_notes",range:"toggle_spell_range_notes",targets:"toggle_spell_targets_notes",description:"toggle_spell_description_notes",spellnotes:"toggle_spells_notes",spell_fail_check:"toggle_spell_spell_fail_check","damage-macro-text":"toggle_spell_damage_notes","damage-type":"toggle_spell_damage_notes"},I={spellOptionEventsPlayer:["school","cast-time","components","duration","save","sr","range","targets","damage-macro-text","damage-type","sp-mod"]},S=f.default.callback(function(e){u(e)});t.recalculate=S,function(){p.default.each(I.spellOptionEventsPlayer,function(e){var t="change:repeating_spells:"+e;on(t,f.default.callback(function(t){"player"!==t.sourceType&&"api"!==t.sourceType||(f.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),o(t,e))}))}),p.default.each(g,function(e){on("change:"+e,f.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(f.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),u(null,e))}))})}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={unarmedAttacksRegExp:/unarmed|strike|punch|palm|flurry|blow|touch/i,combatManeuversRegExp:/bull\s*rush|trip|disarm|dirty\s*trick|drag|grapple|overrun|reposition|steal|sunder|trip/i,primaryNaturalAttacksRegExp:/bite|claw|gore|slam|sting|talon/i,importantFeatRegExp:/Weapon Fine|^Run$|Enduran|Defensive Combat Train|Agile Maneuv|Arcane Arm|Combat Cast|Critical Focus|Skill Focus|Critical|Intimidating Prow|great fortitude|iron will|lightning reflexes/i,spAttackAttacks:/blooddrain|touch|energydrain|bleed|burn|constrict|trample|engulf|heat|powerfulcharge|swallowwhole|constrict/i,spAttackAttacksPreProcess:/rake|rend|web/i,abilitySrch:/str|dex|con|int|wis|cha/i,cmbMonsterSrch:/tongue|pull|drag|grab|push/i,cmbPlusStrsrch:/swallowwhole|engulf|constrict|swallow/i,masterworkWords:["adamantine","angelskin","blood-iron","cryptstone","darkleaf","darkwood","dragonhide","eel","fire-forged","frost-forged","geranite","greenwood","hellstone","horacalcum","mithral","paueliel","silversheen","singing","spiresteel","sunsilver"],casterDefaultAbility:{sorcerer:"cha",wizard:"int",cleric:"wis",bard:"cha",druid:"wis",paladin:"cha",ranger:"wis",oracle:"cha",witch:"int",alchemist:"int",summoner:"cha",inquisitor:"wis",magus:"int"},creatureTypeClassSkills:{aberration:["Acrobatics","Climb","Escape-Artist","Fly","Intimidate","Knowledge","Perception","Spellcraft","Stealth","Survival","Swim"],animal:["Acrobatics","Climb","Fly","Perception","Stealth","Swim"],dragon:["Appraise","Bluff","Climb","Craft","Diplomacy","Fly","Heal","Intimidate","Linguistics","Knowledge","Perception","Sense-Motive","Spellcraft","Stealth","Survival","Swim","Use-Magic-Device"],fey:["Appraise","Bluff","Climb","Craft","Diplomacy","Disguise","Escape-Artist","Fly","Knowledge-Geography","Knowledge-Local","Knowledge-Nature","Perception","Perform","Sense-Motive","Sleight-of-Hand","Stealth","Swim","Use-Magic-Device"],monstrous:["Climb","Craft","Fly","Intimidate","Perception","Ride","Stealth","Survival","Swim"],humanoid:["Climb","Craft","Handle-Animal","Heal","Profession","Ride","Survival"],magicalbeast:["Acrobatics","Climb","Fly","Perception","Stealth","Swim"],outsider:["Bluff","Craft","Knowledge-Planes","Perception","Sense-Motive","Stealth"],plant:["Perception","Stealth"],undead:["Climb","Disguise","Fly","Intimidate","Knowledge-Arcana","Knowledge-Religion","Perception","Sense-Motive","Spellcraft","Stealth"]},creatureSubtypeClassSkills:{air:["Fly"],giant:["Intimidate","Perception"],goblinoid:["Stealth"],inevitable:["Acrobatics","Diplomacy","Intimidate","Survival"],water:["Swim"],robot:["Climb","Disable-Device","Fly","Knowledge","Linguistics","Perception","Sense-Motive"]},specialAttackDCAbilityBase:{breathweapon:"CON",burn:"CON",curse:"CHA",disease:"CON",distraction:"CON",emotionaura:"CHA",energydrain:"CHA",entrap:"CON",fear:"CHA",fearaura:"CHA",fearcone:"CHA",fearray:"CHA",frightfulpresence:"CHA",gaze:"CHA",mentalstaticaura:"CHA",paralysis:"CON",poison:"CON",stench:"CON",trample:"STR",web:"CON",whirlwind:"STR"},monsterRulesPlusAttacks:["grab","trip","engulf","swallow whole"],naturalAttackRegExp:/arm|bite|claw|foreclaw|gore|hoof|kick|leg|pincer|quill|root|slam|slap|snake\s*bite|spike|spine|splinter|sting|tail|tail\s*slap|talon|tendril|tentacle|thorn|tongue|vine|wing|buffet/i,skillBonusFeatRegExp:/Acrobatic|Uncanny Alertness|Alertness|Animal Affinity|Athletic|Breadth of Experience|Brewmaster|Deceitful|Deft Hands|Deny the Reaper|Forgotten Past|Innocent Blood|Monkey Moves|Monkey Style|Monument Builder|No Name|Persuasive|Scavenger.s Eye|Sea Legs|Self.Sufficient|Sharp Senses|Stealthy|Sure and Fleet|Voice of the Sibyl/i,lessImportantCombatFeatRegExp:/Power Attack|Double Slice|Greater Weapon of the Chosen|Spell Focus|Toughness/i,monsterRules:/spells|damage reduction/i};t.default=n},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=_.default.once(function(){"function"==typeof e&&e()});getAttrs(["is_npc","NPC-orig_ability_header_macro","orig_ability_header_macro","mythic-adventures-show","use_traits","use_racial_traits","use_feats","use_class_features","use_spell-like-abilities"],function(e){var a=0,n=0,r=0,i=0,l=0,o=0,s="",c=0,u="",p={};try{c=parseInt(e.is_npc,10)||0,u=c?"NPC-":"",a=parseInt(e["mythic-adventures-show"],10)||0,i=parseInt(e.use_feats,10)||0,l=parseInt(e.use_class_features,10)||0,n=parseInt(e.use_traits,10)||0,r=parseInt(e.use_racial_traits,10)||0,o=parseInt(e["use_spell-like-abilities"],10)||0,s=(l?I["class-ability"]:"")+(i?I.feat.replace(/REPLACENPC/g,u):"")+(o?I["npc-spell-like-abilities"]:"")+(n?I.trait:"")+(r?I["racial-trait"].replace(/REPLACENPC/g,u):"")+(a?I.mythic:""),s&&(s="{{row01=^{original-abilities-menus}}} {{row02="+s+"}}"),s!==e[u+"orig_ability_header_macro"]&&(p[u+"orig_ability_header_macro"]=s),c&&(s=(l?I["class-ability"]:"")+(i?I.feat.replace(/REPLACENPC/g,""):"")+(o?I["npc-spell-like-abilities"]:"")+(n?I.trait:"")+(r?I["racial-trait"].replace(/REPLACENPC/g,""):"")+(a?I.mythic:""),s&&(s="{{row01=^{original-abilities-menus}}} {{row02="+s+"}}"),s!==e.orig_ability_header_macro&&(p.orig_ability_header_macro=s))}catch(e){g.default.error("PFFeatures.resetTopCommandMacro",e)}finally{_.default.size(p)>0?b.setWrapper(p,y.default.silentParams,t):t()}})}function s(e){var t=_.default.once(function(){"function"==typeof e&&e()});getAttrs(["mythic-adventures-show","use_traits","use_racial_traits","use_class_features","use_feats","use_spell-like-abilities"],function(e){var a,n=[],r=0,i=0,l=0,s=0,c=0,u=0,p=0;try{r=parseInt(e["mythic-adventures-show"],10)||0,s=parseInt(e.use_feats,10)||0,c=parseInt(e.use_class_features,10)||0,i=parseInt(e.use_traits,10)||0,l=parseInt(e.use_racial_traits,10)||0,u=parseInt(e["use_spell-like-abilities"],10)||0,s&&(n.push("feat"),p+=2),i&&(n.push("trait"),p++),l&&(n.push("racial-trait"),p+=2),r&&(n=n.concat(["mythic-ability","mythic-feat"]),p+=2),c&&(n.push("class-ability"),p++),u&&(n.push("npc-spell-like-abilities"),p++),p>0?(a=_.default.after(p,t),_.default.each(n,function(e){"npc-spell-like-abilities"!==e&&v.resetOneCommandMacro(e,!1,a),"racial-trait"!==e&&"feat"!==e&&"npc-spell-like-abilities"!==e||v.resetOneCommandMacro(e,!0,a)})):t()}catch(e){g.default.error("PFFeatures.resetCommandMacro",e),t()}finally{o()}})}function c(e,t,a){var n=_.default.once(function(){"function"==typeof t&&t()});getAttrs(["is_newsheet"],function(t){if(parseInt(t.is_newsheet,10))return void n();getSectionIDs("repeating_"+e,function(t){var a=_.default.size(t),r=_.default.after(a,n);a>0?_.default.each(t,function(t,a){var n="repeating_"+e+"_"+t;b.evaluateAndSetNumber(n+"_max-calculation",n+"_used_max",0,r,!0)}):n()})})}function u(e){return/\d/.test(e)?"@{class-"+(parseInt(e.match(/\d/)[0],10)||0)+"-level}":/race/i.test(e)?"@{level}":""}function p(e,t,a){var n=_.default.once(function(t){"function"==typeof e&&e(t)}),r=_.default.once(function(){"function"==typeof t?t():n()});if(!a)return void r();getSectionIDs("repeating_"+a,function(e){var t,i=0;try{if("npc-spell-like-abilities"===a&&(i=1),!_.default.size(e))return void n([]);t=b.cartesianAppend(["repeating_"+a+"_"],e,A[a].LU),t=t.concat(["is_npc","race","class-0-name","class-1-name","class-2-name","class-3-name","class-4-name","class-5-name"]),"npc-spell-like-abilities"===a&&(t=t.concat(["spellclass-0-level-total","spellclass-1-level-total","spellclass-2-level-total","spellclass-0","spellclass-1","spellclass-2","level","npc-hd-num","class-0-level","class-1-level","class-2-level","class-3-level","class-4-level","class-5-level"])),getAttrs(t,function(t){var l,o,s="",c=0,p="macro-text";try{c=parseInt(t.is_npc,10)||0,A[a].hasNPCMacro&&c&&(p="npc-macro-text"),s=A[a].classDefault||"",l=_.default.map(e,function(e){var n,r;try{return n="repeating_"+a+"_"+e+"_",r=_.default.reduce(A[a].copyAttrs,function(e,a){return e[a]=t[n+a]||"",e},{}),r["CL-basis"]=s||u(t[n+"class-number"]),r["CL-basis"]?"@{level}"===r["CL-basis"]?r["class-name"]=t.race:t[n+"class-number"]?r["class-name"]=t[h.findAbilityInString(t[n+"class-number"])]:r["class-name"]="":r["class-name"]="",i&&(r["abil-sr"]=t[n+"sr"]||"",t[n+"level"]&&(o=parseInt(t[n+"level"],10),isNaN(o)||(r["spell_level-misc"]=o,r["spell_level-misc-mod"]=o,r["spell_level-basis"]="0")),t[n+"range"]&&(o=parseInt(t[n+"range"],10),r.range_pick="number",isNaN(o)||(r.range_numeric=o)),t[n+"used"]&&(o=parseInt(t[n+"used"],10),isNaN(o)||(r.used_max=o,r["max-calculation"]=o))),r["macro-text"]=t[n+p]||"",r.rule_category=A[a].ruleCategory,r}catch(t){g.default.error("PFFeatures.getAbilities errorinner on "+e,t)}})}catch(e){g.default.error("PFFeatures.getAbilities errmid",e)}finally{_.default.size(l)?n(l):(g.default.warn("PFFeatures.getAbilities none generated for "+a+" even though there are ids"),r())}})}catch(e){g.default.error("PFFeatures.copyFeatsToAbilities",e),r()}})}function f(e,t,a){var n=_.default.once(function(t){var n;a&&/merge/i.test(a.sourceAttribute)&&(n={},n[a.sourceAttribute]=0,b.setWrapper(n,y.default.silentParams)),"function"==typeof e&&e(t)}),r=_.default.once(function(){k.recalculate(function(){n(),v.resetOneCommandMacro(t,!1),v.resetOneCommandMacro(t,!0)},!0,0)});p(function(e){e&&_.default.size(e)>0?k.copyToAbilities(r,e):n()},function(){g.default.error("PFFeatures ################# error trying to migrate "+t),n()},t)}function d(e,t){var a,n,r,i=_.default.once(function(){"function"==typeof e&&e()}),l={feat:"feats",trait:"traits","racial-trait":"racial-traits","mythic-ability":"mythic-abilities","mythic-feat":"mythic-feats","class-ability":"class-features","npc-spell-like-abilities":"spell-like-abilities"};r="class-abilities"===t||"npc-spell-like-abilities"===t?"1":"0",a="npc-spell-like-abilities"===t?"Sp":"not-applicable",n=l[t]||"",getSectionIDs("repeating_"+t,function(e){var l={};try{l=_.default.reduce(e,function(e,i){var l="repeating_"+t+"_"+i+"_";try{e[l+"showinmenu"]=r,e[l+"ability_type"]=a,e[l+"rule_category"]=n}catch(e){g.default.error("PFFeatures.setNewDefaults error "+t+" id "+i,e)}finally{return e}},{}),l.migrated_featurelists_defaults=1}catch(e){g.default.error("PFFeatures.setNewDefaults error setting defaults for "+t,e)}finally{_.default.size(l)>0?b.setWrapper(l,y.default.silentParams,i):i()}})}function m(e,t){var a=function(){"function"==typeof e&&e()},n=_.default.size(w),r=_.default.after(n,a);getAttrs(["migrated_featurelists_defaults"],function(e){var t=0;t=parseInt(e.migrated_featurelists_defaults,10)||0,t?a():_.default.each(w,function(e){d(r,e)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.resetTopCommandMacro=o,t.resetCommandMacro=s,t.convertNameToLevel=u,t.getAbilities=p,t.copyToAbilities=f,t.setNewDefaults=d,t.migrate=m,t.recalculate=t.migrateMap=t.featureLists=void 0;var _=l(a(1)),g=(a(3),l(a(0))),b=i(a(2)),y=l(a(4)),h=i(a(5)),v=(i(a(25)),i(a(45))),k=i(a(46)),w=["class-ability","feat","racial-trait","trait","mythic-ability","mythic-feat","npc-spell-like-abilities"],A={feat:{copyAttrs:["name","short-description","used","used_max","showinmenu","description","max-calculation","ability_type"],LU:["_name","_short-description","_used","_used_max","_showinmenu","_description","_macro-text","_npc-macro-text","_max-calculation","_ability_type"],classDefault:"0",hasNPCMacro:!0,ruleCategory:"feats"},"racial-trait":{copyAttrs:["name","short-description","used","used_max","showinmenu","description","max-calculation","ability_type"],LU:["_name","_short-description","_used","_used_max","_showinmenu","_description","_macro-text","_npc-macro-text","_max-calculation","_ability_type"],hasNPCMacro:!0,classDefault:"@{level}",ruleCategory:"racial-traits"},trait:{copyAttrs:["name","short-description","used","used_max","showinmenu","description","max-calculation","ability_type"],LU:["_name","_short-description","_used","_used_max","_showinmenu","_description","_macro-text","_max-calculation","_ability_type"],classDefault:"@{level}",ruleCategory:"traits"},"class-ability":{copyAttrs:["name","short-description","used","used_max","showinmenu","description","max-calculation"],LU:["_name","_short-description","_used","_used_max","_showinmenu","_description","_macro-text","_max-calculation","_class-number"],ruleCategory:"class-features",convertClass:!0},"npc-spell-like-abilities":{copyAttrs:["name","short-description","used","used_max","showinmenu","description","max-calculation","duration","save","range"],LU:["_name","_short-description","_used","_used_max","_showinmenu","_description","_macro-text","_npc-macro-text","_max-calculation","_level","_range","_duration","_save","_sr"],hasNPCMacro:!1,classDefault:"@{level}",ruleCategory:"spell-like-abilities"}};t.migrateMap=A,t.featureLists=w;var C={merge_traits_now:"trait",merge_race_traits_now:"racial-trait",merge_feats_now:"feat",merge_class_features_now:"class-ability",merge_slas_now:"npc-spell-like-abilities",delete_traits_now:"trait",delete_race_traits_now:"racial-trait",delete_feats_now:"feat",delete_class_features_now:"class-ability",delete_slas_now:"npc-spell-like-abilities"},I={"class-ability":" [^{original-class-features-list}](~@{character_id}|class-ability_button)",mythic:" [^{mythic-abilities}](~@{character_id}|mythic-ability_button) [^{mythic-feats}](~@{character_id}|mythic-feat_button)",feat:" [^{original-feats-list}](~@{character_id}|REPLACENPCfeat_button)","racial-trait":" [^{original-racial-traits-list}](~@{character_id}|REPLACENPCracial-trait_button)",trait:" [^{original-traits-list}](~@{character_id}|trait_button)","npc-spell-like-abilities":" [^{original-spell-like-abilities-list}](~@{character_id}|npc-spell-like-abilities_button)"},S={commandMacroFields:["name","used","used_max","showinmenu"]},P=g.default.callback(function(e,t,a){var n,r,i,l=_.default.once(function(){g.default.info("leaving PFFeatures.recalculate"),"function"==typeof e&&e()});try{n=_.default.size(y.default.repeatingMaxUseSections),r=_.default.after(n,function(){s(l)}),i=function(){_.default.each(y.default.repeatingMaxUseSections,function(e){c(e,r,t)})},m(i,a)}catch(e){g.default.error("PFFeatures.recalculate, ",e),l()}});t.recalculate=P,function(){on("change:merge_traits_now change:merge_race_traits_now change:merge_feats_now change:merge_class_features_now change:merge_slas_now",g.default.callback(function(e){g.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||getAttrs([e.sourceAttribute],function(t){parseInt(t[e.sourceAttribute],10)&&f(null,C[e.sourceAttribute],e)})})),_.default.each(y.default.repeatingMaxUseSections,function(e){var t="change:repeating_"+e+":max-calculation";on(t,g.default.callback(function(t){g.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),b.evaluateAndSetNumber("repeating_"+e+"_max-calculation","repeating_"+e+"_used_max")}))}),on("change:mythic-adventures-show change:use_traits change:use_racial_traits change:use_class_features change:use_feats change:use_spell-like-abilities",g.default.callback(function(e){g.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||o(null,e)})),_.default.each(w,function(e){var t="remove:repeating_"+e+" ",a="change:repeating_"+e+":";t=_.default.reduce(S.commandMacroFields,function(e,t){return e+=a+t+" "},t),on(t,g.default.callback(function(t){var a;if(a=b.getAttributeName(t.sourceAttribute),"player"===t.sourceType||"api"===t.sourceType||"sheetworker"===t.sourceType&&"used_max"===a){g.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType);var n="repeating_"+e+"_showinmenu";getAttrs([n,"is_npc"],function(t){var r=parseInt(t.is_npc,10)||0;1!==parseInt(t[n],10)&&"showinmenu"!==a||v.resetOneCommandMacro(e,r)})}}))})}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(){var e=["multiclassed","class-0-level","class-1-level","class-2-level","class-3-level","class-4-level","class-5-level","npc-hd-num"];getAttrs(e,function(e){var t,a=parseInt(e.multiclassed,10)||0;t=Math.min(1,parseInt(e["class-0-level"],10)||0)+Math.min(1,parseInt(e["class-1-level"],10)||0)+Math.min(1,parseInt(e["class-2-level"],10)||0)+Math.min(1,parseInt(e["class-3-level"],10)||0)+Math.min(1,parseInt(e["class-4-level"],10)||0)+Math.min(1,parseInt(e["class-5-level"],10)||0)+Math.min(1,parseInt(e["npc-hd-num"],10)||0),t>1?a||d.setWrapper({multiclassed:1}):a&&d.setWrapper({multiclassed:0})})}function s(e,t,a,n){var r=function(){"function"==typeof t&&t()};if(!e||"hd"===e||"hp"===e)return f.default.warn("at updateClassInformation called with bad column:"+e),void r();/^npc/i.test(e)&&(e=e.slice(4)),function(e,t,a){var n,i,l,o,s,c,u,p,f,_,g,b,y,h=[];if("fchp"===e?e="hp":"hd-num"===e&&(e="level"),i="class-0-"+e,l="class-1-"+e,o="class-2-"+e,s="class-3-"+e,c="class-4-"+e,u="class-5-"+e,n="bab"===e||"level"===e?e:"total-"+e,h=[n,i,l,o,s,c,u],"skill"!==e){switch(e){case"bab":case"Fort":case"Will":case"Ref":h=h.concat(["npc-"+e]);break;case"level":h=h.concat(["npc-hd-num"])}d.updateRowTotal(h,0,[],0,r,a)}else p="class-0-level",f="class-1-level",_="class-2-level",g="class-3-level",b="class-4-level",y="class-5-level",h=h.concat([p,f,_,g,b,y,"npc-skill","npc-hd-num"]),getAttrs(h,function(e){var t={},h=0,v={},k=0;k=Math.floor((parseFloat(e[i],10)||0)*(parseInt(e[p],10)||0)+(parseFloat(e[l],10)||0)*(parseInt(e[f],10)||0)+(parseFloat(e[o],10)||0)*(parseInt(e[_],10)||0)+(parseFloat(e[s],10)||0)*(parseInt(e[g],10)||0)+(parseFloat(e[c],10)||0)*(parseInt(e[b],10)||0)+(parseFloat(e[u],10)||0)*(parseInt(e[y],10)||0)+(parseFloat(e["npc-skill"],10)||0)*(parseInt(e["npc-hd-num"],10)||0)),h=parseInt(e[n],10),isNaN(h)||k!==h?(t[n]=k,a&&(v=m.default.silentParams),d.setWrapper(t,v,r)):r()})}(e,0,a)}function c(e,t,a){var n=p.default.once(function(){"function"==typeof e&&e()}),r=["auto_calc_hp","autohp_percent","maxhp_lvl1","is_npc","set_pfs","total-hp","NPC-HP","npc-hd-num","npc-hd","class-0-hp","class-0-level","class-0-hd","class-0-fchp","class-1-hp","class-1-level","class-1-hd","class-1-fchp","class-2-hp","class-2-level","class-2-hd","class-2-fchp","class-3-hp","class-3-level","class-3-hd","class-3-fchp","class-4-hp","class-4-level","class-4-hd","class-4-fchp","class-5-hp","class-5-level","class-5-hd","class-5-fchp"];getAttrs(r,function(e){var t,r=0,i=0,l=1,o=0,s={},c={},u=0,g=0,b=0,y=0,v=0,k=-1;try{r=parseInt(e.auto_calc_hp,10)||0,a&&a.sourceAttribute&&(t=a.sourceAttribute.match(/(\d)/),t&&t[1]?k=parseInt(t[1],10)||0:/NPC/i.test(a.sourceAttribute)&&(k=6)),r&&(o=parseInt(e.set_pfs,10)||0,parseInt(e.is_npc,10)||0,l=_.getAutoHPPercentMultiplier(e.autohp_percent),(i=parseInt(e.maxhp_lvl1,10)||0)&&6===k&&(k=-1)),b=parseInt(e["npc-hd-num"],10)||0,y=parseInt(e["npc-hd"],10),u=parseInt(e["NPC-HP"],10)||0,isNaN(y)||!r?v+=u:b>0&&y>0?(6===k||-1===k?(g=_.getAvgHP(b,y,l,i,!1),v+=g,g!==u&&(s["NPC-HP"]=g)):v+=u,i&&(i=0)):0===y&&0!==u&&(s["NPC-HP"]=0),p.default.each(h,function(t){var a=0,n=parseInt(t,10);g=0,b=parseInt(e["class-"+t+"-level"],10)||0,y=parseInt(e["class-"+t+"-hd"],10),u=parseInt(e["class-"+t+"-hp"],10)||0,a=parseInt(e["class-"+t+"-fchp"],10)||0,isNaN(y)||!r?v+=u+a:b>0&&y>0?(-1===k||k===n?(g=_.getAvgHP(b,y,l,i,o),v+=g+a,g!==u&&(s["class-"+t+"-hp"]=g)):v+=u+a,i&&(i=0)):0===y&&0!==u&&(s["class-"+t+"-hp"]=0)}),v!==parseInt(e["total-hp"],10)&&(c["total-hp"]=v)}catch(e){f.default.error("PFClassRaceGrid.setHitPoints",e)}finally{p.default.size(c)>0&&d.setWrapper(c),p.default.size(s)>0?d.setWrapper(s,m.default.silentParams,n):n()}})}function u(e,t){"function"==typeof e&&e()}Object.defineProperty(t,"__esModule",{value:!0}),t.setMulticlassed=o,t.setHitPoints=c,t.migrate=u,t.recalculate=t.classRows=t.raceColumns=t.classColumns=void 0;var p=l(a(1)),f=(a(3),l(a(0))),d=i(a(2)),m=l(a(4)),_=i(a(5)),g=(i(a(38)),i(a(67))),b=["skill","fcskill","fcalt","bab","Fort","Ref","Will","level"],y=["skill","bab","Fort","Ref","Will","hd-num"],h=["0","1","2","3","4","5"];t.classRows=h,t.raceColumns=y,t.classColumns=b;var v={basehp:"change:auto_calc_hp change:autohp_percent change:maxhp_lvl1",racialhp:"change:npc-hd-num change:npc-hd change:npc-hp",perClassRowhp:"change:class-REPLACE-level change:class-REPLACE-hd change:class-REPLACE-hp change:class-REPLACE-fchp"},k=f.default.callback(function(e,t,a){var n=p.default.once(function(){f.default.info("leaving PFClassRaceGrid.recalculate"),"function"==typeof e&&e()}),r=b.length,i=p.default.after(r,function(){c(n,t)});p.default.each(b,function(e){s(e,i,t)}),o()});t.recalculate=k,function(){var e="";p.default.each(b,function(e){var t=p.default.map(h,function(t){return"change:class-"+t+"-"+e}).join(" ");on(t,f.default.callback(function(t){f.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),"player"!==t.sourceType&&"api"!==t.sourceType||s(e,null,null,t)})),"level"===e&&on(t,f.default.callback(function(e){f.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||(s("skill",null,null,e),o())}))}),p.default.each(y,function(e){on("change:npc-"+e,f.default.callback(function(t){f.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),("player"===t.sourceType||"api"===t.sourceType||"sheetworker"===t.sourceType||"api"===t.sourceType&&"hp"===t.sourceAttribute.slice(-2))&&("hd-num"===e?(s("level",null,null,t),s("skill",null,null,t),o()):s(e,null,null,t))}))}),p.default.each(h,function(t){e=v.perClassRowhp.replace(/REPLACE/g,t),on(e,f.default.callback(function(e){f.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||(c(null,null,e),/level/i.test(e.sourceAttribute)&&g.updateCasterFromClassLevel(parseInt(t,10),e))}))}),on(v.racialhp,f.default.callback(function(e){f.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||(c(null,null,e),"npc-hd-num"===e.sourceAttribute&&g.updateCasterFromClassLevel(6,e))})),on(v.basehp,f.default.callback(function(e){f.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||c()})),on("change:class-0-level change:class-1-level change:class-2-level change:class-3-level change:class-4-level change:class-5-level change:bab change:level",f.default.callback(function(e){("level"!==e.sourceAttribute&&"bab"!==e.sourceAttribute||"sheetworker"!==e.sourceType)&&"player"!==e.sourceType&&"api"!==e.sourceType||(f.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),p.default.each(m.default.levelPlusBABManualDropdowns,function(e){d.setDropdownValue(e,e+"-mod")}))}))}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=function(){"function"==typeof e&&e()};getAttrs(S,function(e){var n={},r={};n=g.default.reduce(C,function(t,a){var n=parseInt(e["buff_"+a+"-total"],10)||0,r=parseInt(e["buff_"+a+"_exists"],10)||0;return n&&(t["buff_"+a+"-total"]=0),r&&(t["buff_"+a+"_exists"]=0),t},{}),n=g.default.reduce(v.abilities,function(t,a){var n=parseInt(e["buff_"+a+"-total_penalty"],10)||0,r=parseInt(e["buff_"+a+"_penalty_exists"],10)||0;return n&&(t["buff_"+a+"-total_penalty"]=0),r&&(t["buff_"+a+"_penalty_exists"]=0),t},n),g.default.size(n)?(t&&(r=h.default.silentParams),y.setWrapper(n,r,a)):a()})}function s(e){getSectionIDs("repeating_buff",function(t){var a,n;if(!t||!g.default.size(t))return e(null,null);n=y.cartesianAppend(["_buff-"],C,["_macro-text","","-show"]),n=n.concat(["_buff-enable_toggle","_buff-name","_buff-notes"]),a=y.cartesianAppend(["repeating_buff_"],t,n),getAttrs(a,function(a){e(t,a)})})}function c(e){var t,a=g.default.once(function(){"function"==typeof e&&e()});try{t=y.cartesianAppend(["buff_"],C,["-total","_exists"]).concat(y.cartesianAppend(["buff_"],v.abilities,["-total_penalty","_penalty_exists"]))}catch(e){return b.default.error("PFBuffsOld.resetStatuspanel error creating field array, abort:",e),void a()}getAttrs(t,function(e){var t={},n=function(t,a){var n,r;return a=a||"",n=parseInt(e[t+"-total"+a],10)||0,r=parseInt(e[t+a+"_exists"],10)||0,0===n||r?0===n&&r?0:void 0:1};try{t=g.default.reduce(C,function(e,t){var a,r;try{a="buff_"+t,r=n(a,""),(r||0===r)&&(e[a+"_exists"]=r)}catch(e){}finally{return e}},t),t=g.default.reduce(v.abilities,function(e,t){var a,r;try{a="buff_"+t,r=n(a,"_penalty"),(r||0===r)&&(e[a+"_penalty_exists"]=r)}catch(e){}finally{return e}},t)}catch(e){b.default.error("PFBuffsOld.resetStatuspanel error inside calculate exists",e)}finally{g.default.size(t)>0?y.setWrapper(t,{silent:!0},a):a()}})}function u(e,t,a,n){var r=0,i={sum:0,pen:0},l=e,o=[];try{n=n||{},I[e]&&(l=I[e]),A.recalculateSkills(),b.default.notice("Updating "+e+" the total is "+l,I,a),r=v.abilities.indexOf(e)>=0&&e.indexOf("skill")<9,t=t.filter(function(t){var n="repeating_buff_"+t+"_buff-";return 0!==(parseInt(a[n+e+"-show"],10)||0)&&0!==(parseInt(a[n+e],10)||0)}),b.default.debug("updating "+e+" there are "+g.default.size(t)+" rows"),g.default.size(t)>0&&(o=t.map(function(t){return parseInt(a["repeating_buff_"+t+"_buff-"+e],10)||0}),b.default.debug("PFBuffsOld ROWS NOW:",o),"HP-temp"===e?i.sum=o.filter(function(e){return e>0}).reduce(function(e,t){return e+=t},0):"size"===e?(i=o.reduce(function(e,t){return t>0?e.sum=Math.max(e.sum,t):t<0&&(e.pen=Math.min(e.pen,t)),e},i),i.sum+=i.pen,i.pen=0):r?i=o.reduce(function(e,t){return t<0?e.pen+=t:t>0&&(e.sum+=t),e},i):(b.default.debug("now calculating sum for "+e),i.sum=o.reduce(function(t,a){return b.default.debug("ADDING "+a+" to m for "+e+" is "+a),t+=a},0),b.default.debug("calculating "+e+" sum is "+i.sum))),(parseInt(a["buff_"+l+"-total"],10)||0)!==i.sum&&(n["buff_"+l+"-total"]=i.sum),i.sum?n["buff_"+l+"_exists"]=1:1===(parseInt(a["buff_"+l+"_exists"],10)||0)&&(n["buff_"+l+"_exists"]=0),r&&((parseInt(a["buff_"+l+"-total_penalty"],10)||0)!==i.pen&&(n["buff_"+l+"-total_penalty"]=i.pen),i.pen?n["buff_"+l+"_penalty_exists"]=1:1===(parseInt(a["buff_"+l+"_penalty_exists"],10)||0)&&(n["buff_"+l+"_penalty_exists"]=0))}catch(e){b.default.error("PFBuffsOld.updateBuffTotal",e)}finally{return n}}function p(e,t,a){var n=g.default.once(function(){"function"==typeof t&&t()}),r=v.abilities.indexOf(e)>=0&&e.indexOf("skill")<9;getSectionIDs("repeating_buff",function(t){var i,l,o=e;t?(I[e]&&(o=I[e]),i=y.cartesianAppend(["repeating_buff_"],t,["_buff-"+e,"_buff-"+e+"-show","_buff-enable_toggle"]),l=["buff_"+o+"-total","buff_"+o+"_exists"],r&&(l=l.concat(["buff_"+o+"-total_penalty","buff_"+o+"_penalty_exists"])),i=i.concat(l),getAttrs(i,function(r){var i={},l={};try{t=t.filter(function(e){var t="repeating_buff_"+e+"_buff-";return parseInt(r[t+"enable_toggle"],10)||0}),l=u(e,t,r,l),I[e]&&(l["buff_"+e+"-total"]=0,l["buff_"+e+"_exists"]=0,l["buff_"+e+"-total_penalty"]=0,l["buff_"+e+"_penalty_exists"]=0)}catch(t){b.default.error("PFBuffsOld.updateBuffTotalAsync errou on col "+e,t)}finally{g.default.size(l)?(b.default.debug("######################","PFBuffsOld setting ",l),a&&(i=h.default.silentParams),y.setWrapper(l,i,n)):n()}})):n()})}function f(e,t){var a=g.default.once(function(){"function"==typeof e&&e()});b.default.debug("PFBuffsOld.updateAllBuffTotalsAsync"),getSectionIDs("repeating_buff",function(e){var n;if(!e||0===g.default.size(e))return void o(a,t);n=y.cartesianAppend(["repeating_buff_"],e,["_buff-"],C,["","-show"]),n=n.concat(y.cartesianAppend(["repeating_buff_"],e,["_buff-enable_toggle"])),n=n.concat(S),n.push("use_buff_bonuses"),b.default.debug("############ BUFF FIELDS ARE:",n),getAttrs(n,function(n){var r=!1,i={},l={};try{if(b.default.debug("PFBuffsOld.updateAllBuffTotalsAsync found:",n),r=parseInt(n.use_buff_bonuses,10)||0,!(e=e.filter(function(e){return parseInt(n["repeating_buff_"+e+"_buff-enable_toggle"],10)}))||0===g.default.size(e))return b.default.debug("there are no ids with enable toggle checked"),void o(a,t);g.default.each(C,function(t){l=u(t,e,n,l,r)})}catch(e){b.default.error("PFBuffsOld.updateAllBuffTotalsAsync errou on col ",e)}finally{g.default.size(l)?(b.default.debug("######################","PFBuffsOldsetting ",l),t&&(i=h.default.silentParams),y.setWrapper(l,i,a)):a()}})})}function d(e,t,a,n){var r=function(){"function"==typeof a&&a()},i=y.getRepeatingIDStr(e),l="repeating_buff_"+i+"buff-"+t;if("size"===t)return void r();y.evaluateAndSetNumber(l+"_macro-text",l,0,function(e,a,i){i?p(t,r,n):r()},!0,r)}function m(e,t){var a=g.default.once(function(){c(),"function"==typeof e&&e()}),n=g.default.size(C),r=g.default.after(n,function(){f(a,t)}),i=function(e,t){var a,n=g.default.size(e);if(b.default.debug("PFBuffsOld.recalculateBuffColumn:"+t),"size"===t)return void r();a=g.default.after(n,function(){r()});try{if("size"===t)return void r();g.default.each(e,function(e){try{getAttrs(["repeating_buff_"+e+"_buff-enable_toggle","repeating_buff_"+e+"_buff-"+t+"-show"],function(n){parseInt(n["repeating_buff_"+e+"_buff-enable_toggle"],10)&&parseInt(n["repeating_buff_"+e+"_buff-"+t+"-show"],10)?y.evaluateAndSetNumber("repeating_buff_"+e+"_buff-"+t+"_macro-text","repeating_buff_"+e+"_buff-"+t,0,a,!0):a()})}catch(n){b.default.error("PFBuffsOld.recalculate_recalculateBuffColumn:"+t+", rowid"+e,n),a()}})}catch(e){b.default.error("PFBuffsOld.recalculate_recalculateBuffColumn OUTER error:"+t,e),r()}};getSectionIDs("repeating_buff",function(e){try{g.default.size(e)>0?g.default.each(C,function(t){i(e,t)}):o(a)}catch(e){b.default.error("PFBuffsOld.recalculate.recalculateAll",e),a()}})}function _(e){var t=g.default.once(function(){"function"==typeof e&&e()});!function(e){var t=g.default.once(function(){"function"==typeof e&&e()}),a=function(){y.setWrapper({migrated_buffs_rangeddmg_ability:1},h.default.silentParams,t)};getAttrs(["migrated_buffs_rangeddmg_ability"],function(e){if(parseInt(e.migrated_buffs_rangeddmg_ability,10)||0)return void t();getSectionIDs("repeating_buff",function(e){var t;g.default.size(e)?(t=y.cartesianAppend(["repeating_buff_"],e,["_buff-DMG_macro-text","_buff-DMG","_buff-DMG-show","_buff-DMG_ranged_macro-text","_buff-DMG_ranged","_buff-Melee_macro-text","_buff-Melee","_buff-Melee-show","_buff-CMB_macro-text","_buff-CMB_ranged","_buff-Check_macro-text","_buff-Check","_buff-Check-show","_buff-check_skills_macro-text","_buff-check_skills"]),t=t.concat(["buff_Check-total","buff_check_skills-total","buff_Melee-total","buff_DMG-total","buff_DMG_ranged-total","buff-CMB-total"]),getAttrs(t,function(t){var n={},r=!1,i=0;try{e.forEach(function(e){var a="repeating_buff_"+e+"_buff-";t[a+"DMG_macro-text"]&&!t[a+"DMG_ranged_macro-text"]&&(n[a+"DMG_ranged_macro-text"]=t[a+"DMG_macro-text"],n[a+"DMG_ranged"]=parseInt(t[a+"DMG"],10)||0,parseInt(t[a+"DMG-show"],10)&&(n[a+"DMG_ranged-show"]=1)),t[a+"Check_macro-text"]&&!t[a+"check_skills_macro-text"]&&(n[a+"check_skills_macro-text"]=t[a+"Check_macro-text"],n[a+"check_skills"]=parseInt(t[a+"Check"],10)||0,r=!0,parseInt(t[a+"Check-show"],10)&&(n[a+"check_skills-show"]=1)),t[a+"Melee_macro-text"]&&!t[a+"CMB_macro-text"]&&(n[a+"CMB_macro-text"]=t[a+"Melee_macro-text"],n[a+"CMB"]=parseInt(t[a+"Melee"],10)||0,r=!0,parseInt(t[a+"Melee-show"],10)&&(n[a+"CMB-show"]=1))}),i=parseInt(t["buff_DMG-total"],10)||0,i&&(n["buff_DMG_ranged-total"]=i+parseInt(t["buff_DMG_ranged-total"],10)||0),i=parseInt(t["buff_Check-total"],10)||0,i&&(n["buff_check_skills-total"]=i+parseInt(t["buff_check_skills-total"],10)||0),i=parseInt(t["buff_Melee-total"],10)||0,i&&(n["buff_CMB-total"]=i+parseInt(t["buff_CMB-total"],10)||0)}catch(e){b.default.error("PFBuffsOld.migrateDmgAbility",e)}finally{g.default.size(n)?(y.setWrapper(n,h.default.silentParams,a),r&&(k.applyConditions(),w.updateInitiative())):a()}})):a()})})}(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.getAllRowAttrs=s,t.reEvaluateCustomMacros=m,t.migrate=_,t.recalculate=t.buffTotFields=t.buffToTotExceptions=t.buffColumns=void 0;var g=l(a(1)),b=(a(3),l(a(0))),y=i(a(2)),h=l(a(4)),v=(i(a(5)),i(a(20))),k=(i(a(47)),i(a(17)),i(a(16)),i(a(30)),i(a(40)),i(a(48))),w=i(a(49)),A=(i(a(39)),i(a(31)),i(a(21))),C=["Ranged","Melee","CMB","DMG","DMG_ranged","AC","Touch","CMD","flat-footed","speed","initiative","size","check_skills","HP-temp","Fort","Will","Ref","Check","CasterLevel","STR","DEX","CON","INT","WIS","CHA","STR_skills","DEX_skills","CON_skills","INT_skills","WIS_skills","CHA_skills"],I={Check:"check_ability",DMG:"dmg_melee"},S=g.default.chain(C).map(function(e){return v.abilities.indexOf(e)>=0&&e.indexOf("skill")<1?["buff_"+e+"-total","buff_"+e+"_exists","buff_"+e+"-total_penalty","buff_"+e+"_penalty_exists"]:["buff_"+e+"-total","buff_"+e+"_exists"]}).flatten().value().concat(["buff_check_ability-total","buff_dmg_melee-total"]);t.buffTotFields=S,t.buffToTotExceptions=I,t.buffColumns=C;var P=b.default.callback(function(e,t,a){var n=g.default.once(function(){"function"==typeof e&&e()});getAttrs(["use_buff_bonuses"],function(e){parseInt(e.use_buff_bonuses,10)?(b.default.debug("USING NEW BUFFS"),n()):(b.default.debug("USING OLD BUFFS"),_(function(){m(n,t)}))})});t.recalculate=P,function(){g.default.each(C,function(e){var t="change:repeating_buff:buff-"+e;"size"!==e&&on(t+"_macro-text",b.default.callback(function(t){b.default.debug("caught "+t.sourceAttribute+" for column "+e+", event: "+t.sourceType),d(null,e)})),on(t+"-show",b.default.callback(function(t){"player"!==t.sourceType&&"api"!==t.sourceType||(b.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),b.default.debug("we updated "+e+"!!!!!!!!!!!!!!!!!!!!!!!!!!!!"),getAttrs(["repeating_buff_buff-"+e,"repeating_buff_buff-enable_toggle"],function(t){parseInt(t["repeating_buff_buff-enable_toggle"],10)&&parseInt(t["repeating_buff_buff-"+e],10)&&(b.default.debug("Show or don't show update "+e),p(e))}))}))}),on("change:repeating_buff:buff-size",b.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(b.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),p("size"))})),on("remove:repeating_buff",b.default.callback(function(e){b.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"===e.sourceType&&f()})),on("change:repeating_buff:buff-enable_toggle",b.default.callback(function(e){var t;"player"!==e.sourceType&&"api"!==e.sourceType||(b.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),t=C.map(function(e){return"repeating_buff_buff-"+e}),t=t.concat(t.map(function(e){return e+"-show"})),getAttrs(t,function(e){g.default.each(C,function(t){parseInt(e["repeating_buff_buff-"+t+"-show"],10)&&parseInt(e["repeating_buff_buff-"+t],10)&&p(t)})}))}))}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}var o=l(a(0)),s=a(3),c=l(a(4));i(a(41)),i(a(204)),i(a(205)),i(a(206));o.default.config({logging:{info:!1,debug:!1}}),s.PFConsole.log("       ,## /##                    "),s.PFConsole.log("      /#/ /  ##                   "),s.PFConsole.log("     / / /    ##                  "),s.PFConsole.log("      | ##___#/                   "),s.PFConsole.log("      | ##       athfinder        "),s.PFConsole.log("   #  | ##    sheet version       "),s.PFConsole.log("    ### /           "+("0000"+c.default.version.toFixed(2)).slice(-5)+"         "),s.PFConsole.log("                                  ")},function(e,t,a){"use strict";var n=a(50),r=Object(n.mixin)(n);r._=r,t.a=r},function(e,t){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(a=window)}e.exports=a},function(e,t,a){"use strict";function n(e){return null===e}t.a=n},function(e,t,a){"use strict";function n(e){return!(!e||1!==e.nodeType)}t.a=n},function(e,t,a){"use strict";var n=a(8);t.a=Object(n.a)("Date")},function(e,t,a){"use strict";var n=a(8);t.a=Object(n.a)("RegExp")},function(e,t,a){"use strict";var n=a(8);t.a=Object(n.a)("Error")},function(e,t,a){"use strict";var n=a(8);t.a=Object(n.a)("Object")},function(e,t,a){"use strict";function n(e){return!Object(i.a)(e)&&Object(r.f)(e)&&!isNaN(parseFloat(e))}t.a=n;var r=a(6),i=a(71)},function(e,t,a){"use strict";var n=a(76),r=a(54);t.a=Object(n.a)(r.a)},function(e,t,a){"use strict";function n(e){if(null==e)return!0;var t=Object(r.a)(e);return"number"==typeof t&&(Object(i.a)(e)||Object(l.a)(e)||Object(o.a)(e))?0===t:0===Object(r.a)(Object(s.a)(e))}t.a=n;var r=a(14),i=a(23),l=a(51),o=a(53),s=a(7)},function(e,t,a){"use strict";function n(e,t,a,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&r(e,t,a,n)}function r(e,t,a,i){e instanceof l.a&&(e=e._wrapped),t instanceof l.a&&(t=t._wrapped);var b=o.t.call(e);if(b!==o.t.call(t))return!1;if(p.a&&"[object Object]"==b&&Object(f.a)(e)){if(!Object(f.a)(t))return!1;b=g}switch(b){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return o.d.valueOf.call(e)===o.d.valueOf.call(t);case"[object ArrayBuffer]":case g:return r(Object(_.a)(e),Object(_.a)(t),a,i)}var y="[object Array]"===b;if(!y&&Object(c.a)(e)){if(Object(s.a)(e)!==Object(s.a)(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;y=!0}if(!y){if("object"!=typeof e||"object"!=typeof t)return!1;var h=e.constructor,v=t.constructor;if(h!==v&&!(Object(u.a)(h)&&h instanceof h&&Object(u.a)(v)&&v instanceof v)&&"constructor"in e&&"constructor"in t)return!1}a=a||[],i=i||[];for(var k=a.length;k--;)if(a[k]===e)return i[k]===t;if(a.push(e),i.push(t),y){if((k=e.length)!==t.length)return!1;for(;k--;)if(!n(e[k],t[k],a,i))return!1}else{var w,A=Object(d.a)(e);if(k=A.length,Object(d.a)(t).length!==k)return!1;for(;k--;)if(w=A[k],!Object(m.a)(t,w)||!n(e[w],t[w],a,i))return!1}return a.pop(),i.pop(),!0}function i(e,t){return n(e,t)}t.a=i;var l=a(11),o=a(6),s=a(54),c=a(74),u=a(13),p=a(32),f=a(52),d=a(7),m=a(18),_=a(134),g="[object DataView]"},function(e,t,a){"use strict";function n(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,Object(r.a)(e))}t.a=n;var r=a(54)},function(e,t,a){"use strict";var n=a(8),r=a(32),i=a(55);t.a=r.b?Object(i.a)(i.b):Object(n.a)("Map")},function(e,t,a){"use strict";var n=a(8),r=a(32),i=a(55);t.a=r.b?Object(i.a)(i.d):Object(n.a)("WeakMap")},function(e,t,a){"use strict";var n=a(8),r=a(32),i=a(55);t.a=r.b?Object(i.a)(i.c):Object(n.a)("Set")},function(e,t,a){"use strict";var n=a(8);t.a=Object(n.a)("WeakSet")},function(e,t,a){"use strict";function n(e){for(var t=Object(r.a)(e),a=t.length,n=Array(a),i=0;i<a;i++)n[i]=[t[i],e[t[i]]];return n}t.a=n;var r=a(7)},function(e,t,a){"use strict";function n(e,t){var a=Object(r.a)(e);return t&&Object(i.a)(a,t),a}t.a=n;var r=a(84),i=a(57)},function(e,t,a){"use strict";function n(e){return Object(r.a)(e)?Object(i.a)(e)?e.slice():Object(l.a)({},e):e}t.a=n;var r=a(22),i=a(23),l=a(82)},function(e,t,a){"use strict";function n(e,t){return t(e),e}t.a=n},function(e,t,a){"use strict";function n(e,t){t=Object(i.a)(t);for(var a=t.length,n=0;n<a;n++){var l=t[n];if(!Object(r.a)(e,l))return!1;e=e[l]}return!!a}t.a=n;var r=a(18),i=a(34)},function(e,t,a){"use strict";function n(e,t,a){t=Object(r.a)(t,a);for(var n=Object(i.a)(e),l=n.length,o={},s=0;s<l;s++){var c=n[s];o[c]=t(e[c],c,e)}return o}t.a=n;var r=a(9),i=a(7)},function(e,t,a){"use strict";function n(e){return null==e?r.a:function(t){return Object(i.a)(e,t)}}t.a=n;var r=a(89),i=a(85)},function(e,t,a){"use strict";function n(e,t,a){var n=Array(Math.max(0,e));t=Object(r.a)(t,a,1);for(var i=0;i<e;i++)n[i]=t(i);return n}t.a=n;var r=a(35)},function(e,t,a){"use strict";var n=a(91),r=a(92);t.a=Object(n.a)(r.a)},function(e,t,a){"use strict";var n=a(91),r=a(149);t.a=Object(n.a)(r.a)},function(e,t,a){"use strict";var n=a(80),r=a(92);t.a=Object(n.a)(r.a)},function(e,t,a){"use strict";function n(e){return"\\"+s[e]}function r(e,t,a){!t&&a&&(t=a),t=Object(i.a)({},t,l.a.templateSettings);var r=RegExp([(t.escape||o).source,(t.interpolate||o).source,(t.evaluate||o).source].join("|")+"|$","g"),s=0,p="__p+='";e.replace(r,function(t,a,r,i,l){return p+=e.slice(s,l).replace(c,n),s=l+t.length,a?p+="'+\n((__t=("+a+"))==null?'':_.escape(__t))+\n'":r?p+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(p+="';\n"+i+"\n__p+='"),t}),p+="';\n";var f=t.variable;if(f){if(!u.test(f))throw new Error("variable is not a bare identifier: "+f)}else p="with(obj||{}){\n"+p+"}\n",f="obj";p="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+p+"return __p;\n";var d;try{d=new Function(f,"_",p)}catch(e){throw e.source=p,e}var m=function(e){return d.call(this,e,l.a)};return m.source="function("+f+"){\n"+p+"}",m}t.a=r;var i=a(83),l=a(11),o=(a(93),/(.)^/),s={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},c=/\\|'|\r|\n|\u2028|\u2029/g,u=/^\s*(\w|\$)+\s*$/},function(e,t,a){"use strict";function n(e,t,a){t=Object(i.a)(t);var n=t.length;if(!n)return Object(r.a)(a)?a.call(e):a;for(var l=0;l<n;l++){var o=null==e?void 0:e[t[l]];void 0===o&&(o=a,l=n),e=Object(r.a)(o)?o.call(e):o}return e}t.a=n;var r=a(13),i=a(34)},function(e,t,a){"use strict";function n(e){var t=++r+"";return e?e+t:t}t.a=n;var r=0},function(e,t,a){"use strict";function n(e){var t=Object(r.a)(e);return t._chain=!0,t}t.a=n;var r=a(11)},function(e,t,a){"use strict";var n=a(10),r=a(27),i=a(95);t.a=Object(n.a)(function(e,t){t=Object(r.a)(t,!1,!1);var a=t.length;if(a<1)throw new Error("bindAll must be passed function names");for(;a--;){var n=t[a];e[n]=Object(i.a)(e[n],e)}return e})},function(e,t,a){"use strict";function n(e,t){var a=function(n){var i=a.cache,l=""+(t?t.apply(this,arguments):n);return Object(r.a)(i,l)||(i[l]=e.apply(this,arguments)),i[l]};return a.cache={},a}t.a=n;var r=a(18)},function(e,t,a){"use strict";var n=a(43),r=a(96),i=a(11);t.a=Object(n.a)(r.a,i.a,1)},function(e,t,a){"use strict";function n(e,t,a){var n,i,l,o,s=0;a||(a={});var c=function(){s=!1===a.leading?0:Object(r.a)(),n=null,o=e.apply(i,l),n||(i=l=null)},u=function(){var u=Object(r.a)();s||!1!==a.leading||(s=u);var p=t-(u-s);return i=this,l=arguments,p<=0||p>t?(n&&(clearTimeout(n),n=null),s=u,o=e.apply(i,l),n||(i=l=null)):n||!1===a.trailing||(n=setTimeout(c,p)),o};return u.cancel=function(){clearTimeout(n),s=0,n=i=l=null},u}t.a=n;var r=a(61)},function(e,t,a){"use strict";function n(e,t,a){var n,l,o,s,c,u=function(){var r=Object(i.a)()-l;t>r?n=setTimeout(u,t-r):(n=null,a||(s=e.apply(c,o)),n||(o=c=null))},p=Object(r.a)(function(r){return c=this,o=r,l=Object(i.a)(),n||(n=setTimeout(u,t),a&&(s=e.apply(c,o))),s});return p.cancel=function(){clearTimeout(n),n=o=c=null},p}t.a=n;var r=a(10),i=a(61)},function(e,t,a){"use strict";function n(e,t){return Object(r.a)(t,e)}t.a=n;var r=a(43)},function(e,t,a){"use strict";function n(){var e=arguments,t=e.length-1;return function(){for(var a=t,n=e[t].apply(this,arguments);a--;)n=e[a].call(this,n);return n}}t.a=n},function(e,t,a){"use strict";function n(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}t.a=n},function(e,t,a){"use strict";var n=a(43),r=a(97);t.a=Object(n.a)(r.a,2)},function(e,t,a){"use strict";var n=a(100),r=a(103);t.a=Object(r.a)(-1,n.a)},function(e,t,a){"use strict";function n(e,t){return Object(r.a)(e,Object(i.a)(t))}t.a=n;var r=a(104),i=a(42)},function(e,t,a){"use strict";var n=a(105);t.a=Object(n.a)(1)},function(e,t,a){"use strict";var n=a(105);t.a=Object(n.a)(-1)},function(e,t,a){"use strict";function n(e,t,a){return Object(r.a)(e,Object(i.a)(Object(l.a)(t)),a)}t.a=n;var r=a(36),i=a(62),l=a(9)},function(e,t,a){"use strict";function n(e,t,a){t=Object(r.a)(t,a);for(var n=!Object(i.a)(e)&&Object(l.a)(e),o=(n||e).length,s=0;s<o;s++){var c=n?n[s]:s;if(!t(e[c],c,e))return!1}return!0}t.a=n;var r=a(9),i=a(12),l=a(7)},function(e,t,a){"use strict";function n(e,t,a){t=Object(r.a)(t,a);for(var n=!Object(i.a)(e)&&Object(l.a)(e),o=(n||e).length,s=0;s<o;s++){var c=n?n[s]:s;if(t(e[c],c,e))return!0}return!1}t.a=n;var r=a(9),i=a(12),l=a(7)},function(e,t,a){"use strict";var n=a(10),r=a(13),i=a(28),l=a(58),o=a(34);t.a=Object(n.a)(function(e,t,a){var n,s;return Object(r.a)(t)?s=t:(t=Object(o.a)(t),n=t.slice(0,-1),t=t[t.length-1]),Object(i.a)(e,function(e){var r=s;if(!r){if(n&&n.length&&(e=Object(l.a)(e,n)),null==e)return;r=e[t]}return null==r?r:r.apply(e,a)})})},function(e,t,a){"use strict";function n(e,t){return Object(r.a)(e,Object(i.a)(t))}t.a=n;var r=a(36),i=a(42)},function(e,t,a){"use strict";function n(e,t,a){var n,s,c=1/0,u=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=Object(r.a)(e)?e:Object(i.a)(e);for(var p=0,f=e.length;p<f;p++)null!=(n=e[p])&&n<c&&(c=n)}else t=Object(l.a)(t,a),Object(o.a)(e,function(e,a,n){((s=t(e,a,n))<u||s===1/0&&c===1/0)&&(c=e,u=s)});return c}t.a=n;var r=a(12),i=a(26),l=a(9),o=a(24)},function(e,t,a){"use strict";function n(e){return Object(r.a)(e,1/0)}t.a=n;var r=a(107)},function(e,t,a){"use strict";function n(e,t,a){var n=0;return t=Object(r.a)(t,a),Object(i.a)(Object(l.a)(e,function(e,a,r){return{value:e,index:n++,criteria:t(e,a,r)}}).sort(function(e,t){var a=e.criteria,n=t.criteria;if(a!==n){if(a>n||void 0===a)return 1;if(a<n||void 0===n)return-1}return e.index-t.index}),"value")}t.a=n;var r=a(9),i=a(64),l=a(28)},function(e,t,a){"use strict";var n=a(44),r=a(18);t.a=Object(n.a)(function(e,t,a){Object(r.a)(e,a)?e[a].push(t):e[a]=[t]})},function(e,t,a){"use strict";var n=a(44);t.a=Object(n.a)(function(e,t,a){e[a]=t})},function(e,t,a){"use strict";var n=a(44),r=a(18);t.a=Object(n.a)(function(e,t,a){Object(r.a)(e,a)?e[a]++:e[a]=1})},function(e,t,a){"use strict";var n=a(44);t.a=Object(n.a)(function(e,t,a){e[a?0:1].push(t)},!0)},function(e,t,a){"use strict";function n(e){return null==e?0:Object(r.a)(e)?e.length:Object(i.a)(e).length}t.a=n;var r=a(12),i=a(7)},function(e,t,a){"use strict";function n(e,t,a){return t in a}t.a=n},function(e,t,a){"use strict";var n=a(10),r=a(13),i=a(62),l=a(28),o=a(27),s=a(37),c=a(109);t.a=Object(n.a)(function(e,t){var a,n=t[0];return Object(r.a)(n)?(n=Object(i.a)(n),t.length>1&&(a=t[1])):(t=Object(l.a)(Object(o.a)(t,!1,!1),String),n=function(e,a){return!Object(s.a)(t,a)}),Object(c.a)(e,n,a)})},function(e,t,a){"use strict";function n(e,t,a){return null==e||e.length<1?null==t||a?void 0:[]:null==t||a?e[0]:Object(r.a)(e,e.length-t)}t.a=n;var r=a(110)},function(e,t,a){"use strict";function n(e,t,a){return null==e||e.length<1?null==t||a?void 0:[]:null==t||a?e[e.length-1]:Object(r.a)(e,Math.max(0,e.length-t))}t.a=n;var r=a(111)},function(e,t,a){"use strict";function n(e){return Object(r.a)(e,Boolean)}t.a=n;var r=a(36)},function(e,t,a){"use strict";function n(e,t){return Object(r.a)(e,t,!1)}t.a=n;var r=a(27)},function(e,t,a){"use strict";var n=a(10),r=a(112);t.a=Object(n.a)(function(e,t){return Object(r.a)(e,t)})},function(e,t,a){"use strict";var n=a(10),r=a(113),i=a(27);t.a=Object(n.a)(function(e){return Object(r.a)(Object(i.a)(e,!0,!0))})},function(e,t,a){"use strict";function n(e){for(var t=[],a=arguments.length,n=0,l=Object(r.a)(e);n<l;n++){var o=e[n];if(!Object(i.a)(t,o)){var s;for(s=1;s<a&&Object(i.a)(arguments[s],o);s++);s===a&&t.push(o)}}return t}t.a=n;var r=a(14),i=a(37)},function(e,t,a){"use strict";var n=a(10),r=a(114);t.a=Object(n.a)(r.a)},function(e,t,a){"use strict";function n(e,t){for(var a={},n=0,i=Object(r.a)(e);n<i;n++)t?a[e[n]]=t[n]:a[e[n][0]]=e[n][1];return a}t.a=n;var r=a(14)},function(e,t,a){"use strict";function n(e,t,a){null==t&&(t=e||0,e=0),a||(a=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/a),0),r=Array(n),i=0;i<n;i++,e+=a)r[i]=e;return r}t.a=n},function(e,t,a){"use strict";function n(e,t){if(null==t||t<1)return[];for(var a=[],n=0,i=e.length;n<i;)a.push(r.q.call(e,n,n+=t));return a}t.a=n;var r=a(6)},function(e,t,a){"use strict";function n(e){return Object(i.a)(Object(l.a)(e),function(t){var a=r.a[t]=e[t];r.a.prototype[t]=function(){var e=[this._wrapped];return o.o.apply(e,arguments),Object(s.a)(this,a.apply(r.a,e))}}),r.a}t.a=n;var r=a(11),i=a(24),l=a(81),o=a(6),s=a(115)},function(e,t,a){"use strict";var n=a(11),r=a(24),i=a(6),l=a(115);Object(r.a)(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i.a[e];n.a.prototype[e]=function(){var a=this._wrapped;return null!=a&&(t.apply(a,arguments),"shift"!==e&&"splice"!==e||0!==a.length||delete a[0]),Object(l.a)(this,a)}}),Object(r.a)(["concat","join","slice"],function(e){var t=i.a[e];n.a.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Object(l.a)(this,e)}}),t.a=n.a},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){function a(e){function t(e,t){return{type:e,text:t[0],match:t}}var a;return e?(a=e.match(/^\s+/))?t("whitespace",a):(a=e.match(/^(abs|ceil|floor|round|max|min)[(]/))?t("function",a):(a=e.match(/^[({]/))?t("opengroup",a):(a=e.match(/^[)}]/))?t("closegroup",a):(a=e.match(/^((\d+(\.\d+)?)|(\.\d+))/))?t("number",a):(a=e.match(/^['"]/))?t("quote",a):(a=e.match(/^((\|\|)|(&&)|(==)|(!=)|(>=)|(<=)|(<<)|(>>)|(\*\*)|[?:|\^&=><%!~])/))?t("extoperator",a):(a=e.match(/^[\-+*\/td]/))?t("baseoperator",a):(a=e.match(/^\[([^\]]+)\]/))?t("label",a):(a=e.match(/^\$\{([^'"\($\}][^}]*)\}/))?t("variable",a):(a=e.match(/^\$\{/),a?t("openvariable",a):{type:"raw",text:e.charAt(0)}):e}function n(e){return e.tok=a(e.s),e.tok&&(e.s=e.s.substring(e.tok.text.length)),e}function i(e,t){function a(e){return e.replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\/g,"")}for(var r,i=-1,l=i;0==(i-l&1);){if((i=e.s.indexOf(t,i+1))<0)return;for(l=i-1;l>=0&&"\\"===e.s.charAt(l);)l--}return r=e.s.substring(0,i).split("\\\\").map(a).join("\\"),e.s=e.s.substring(i),n(e),r}function l(){var e,t,a,n=v.pop(),r=k.pop();return n.unary?void k.push({type:"baseoperator"===n.type?"unop":"unopex",datatype:r.datatype,operator:n.text,operand:r}):(e=k.pop(),":"!==n.text?("d"===n.text||"t"===n.text?a="number":e.datatype===r.datatype?a=e.datatype:"string"!==e.datatype&&"string"!==r.datatype||(a="string"),void k.push({type:"baseoperator"===n.type?"binop":"binopex",datatype:a,operator:n.text,left:e,right:r,mods:n.mods,label:n.label})):(n=v.pop(),"?"!==n.text?"Error: Expected ? but got "+n.text:(t=k.pop(),void k.push({type:"cond",cond:t,left:e,right:r,datatype:e.datatype===r.datatype?e.datatype:void 0}))))}function o(e){var t;for(e.precedence=(e.unary?y[e.text]:b[e.text])||0;v[v.length-1].precedence>=e.precedence;)if(t=l())return t;v.push(e)}function c(e){return","===e||")"===e}function u(){var t,a,l,s,p,f,d,m,_,b,v;if(n(e),!e.tok)return"Error: Unrecognized token: "+e.s.split(" ",1)[0];for(;"whitespace"===e.tok.type;)if(n(e),!e.tok)return"Error: Unrecognized token: "+e.s.split(" ",1)[0];switch(e.tok.type){case"function":if(t=e.tok.match[1],void 0===(a=g[t]))return"Error: Unrecognized function: "+t;for(Array.isArray(a)?(l=a[0],s=a[1]):(l=a,s=a),f=[];e.tok&&")"!==e.tok.text;){if("string"==typeof(d=r(e,c)))return d;if(f.push(d),!e.tok)return"Error: Unterminated function: "+t;if(!c(e.tok.text))return"Error: Expected ',' or ')' to continue/close '"+t+"(', but got '"+e.tok.text+"'"}return l<0&&(l=f.length),((isNaN(s)||s<0)&&(s=f.length),f.length<l)?"Error: Function '"+t+"' requires at least "+l+" argument(s)":f.length>s?"Error: Function '"+t+"' requires at most "+s+" argument(s)":void k.push({type:"function",datatype:"number",function:t,args:f});case"number":return void k.push({type:"number",datatype:"number",value:parseFloat(e.tok.text)});case"variable":return void k.push({type:"variable",value:e.tok.match[1]});case"quote":return"string"!=typeof(p=i(e,e.tok.text))?"Error: Unterminated string":void k.push({type:"string",datatype:"string",value:p});case"opengroup":if(m=e.tok.text,_=h[m],"string"==typeof(b=r(e,_)))return b;if(k.push(b),e.tok.text!==_)return"Error: Expected '"+_+"' to close '"+m+"', but got '"+e.tok.text+"'";return;case"openvariable":return"string"==typeof(v=r(e,"}"))?v:"}"!==e.tok.text?"Error: Expected '}' to close '${', but got '"+e.tok.text+"'":void k.push({type:"variable",value:v});case"extoperator":case"baseoperator":return y[e.tok.text]?(e.tok.unary=!0,o(e.tok)||u()):"Error: "+e.tok.text+" is not a unary operator"}return"Error: Unrecognized token: "+e.tok.text+("raw"===e.tok.type?e.s.split(" ",1)[0]:"")}var p,f,d,m,_="function"==typeof t?t:function(e){return e==t},g={abs:1,ceil:1,floor:1,round:1,max:[1],min:[1]},b={"?":1,":":2,"||":3,"&&":4,"|":5,"^":6,"&":7,"=":8,"==":8,"!=":8,">=":9,">":9,"<":9,"<=":9,"<<":10,">>":10,"+":11,"-":11,"*":12,"/":12,"%":12,"**":14,t:98,d:99},y={"!":13,"~":13,"-":13},h={"(":")","{":"}"},v=[{precedence:0}],k=[];if("string"==typeof e&&(e={s:e}),d=u())return d;for(n(e);e.tok&&!_(e.tok.text)&&(t||"raw"!==e.tok.type);n(e))switch(e.tok.type){case"extoperator":case"baseoperator":if(s="d"===e.tok.text?e.tok:null,d=o(e.tok))return d;if(s&&"F"===e.s.charAt(0))k.push({type:"rollspec",value:"F"}),e.s=e.s.substring(1);else if("t"===e.tok.text){if("["!==e.s.charAt(0))return"Error: 't' operator requires '[table]' argument";if(f=e.s.match(/^\[([^'"$(\]][^\]]*)\]/))p=f[1],e.s=e.s.substring(f[0].length);else{if(e.s=e.s.substring(1),"string"==typeof(p=r(e,"]")))return p;if("]"!==e.tok.text)return"Error: Expected ']' to close 't[', but got '"+e.tok.text+"'"}k.push({type:"tablename",value:p})}else if(d=u())return d;s&&(f=e.s.match(/^[acdfhkloprs0-9<=>!]+/))&&(s.mods=f[0],e.s=e.s.substring(f[0].length));break;case"label":if(v.length>0&&"d"===v[v.length-1].text){v[v.length-1].label=e.tok.match[1];break}m=k.pop(),m&&(m.label=e.tok.match[1],k.push(m))}for(;v.length>1;)if(d=l())return d;return k.pop()}function i(e){u.default.debug("EXEXP:"+e)}function l(e,t,a,n){function r(e,t,a,n,i,l){var o,s,u,p=[],f=0;switch(e.label&&(t[e.label]=e),e.type){case"number":case"rollspec":return e.baseValid=!0,e;case"string":return e;case"tablename":if("string"!=typeof e.value){if("string"==typeof(o=r(e.value,t,a,n,i,!0)))return o;if("number"===o.type&&(o.value=String(o.value),o.type="string"),"string"!==o.type)return e.baseValid&&(e.baseValid=!1),n.push(e.value),e;e.value=o.value}return e.baseValid=!0,e;case"function":for(f=0;f<e.args.length;f++){if("string"==typeof(o=r(e.args[f],t,a,n,i,!0)))return o;if("string"===o.type&&(o.value=parseFloat(o.value),o.type="number"),"number"!==o.type)return e.baseValid&&(e.baseValid=!1),e;p.push(o.value)}for(e.type="number",e.datatype="number",e.value=g[e.function].apply(p,p),f=0;f<e.args.length;f++)e.args[f].label&&(t[e.args[f].label]=e.args[f]);return delete e.function,delete e.args,e.baseValid=!0,e;case"unop":case"unopex":if(l=l||"unop"!==e.type,"string"==typeof(o=r(e.operand,t,a,n,i,l)))return o;if(l){if("number"!==o.type)return e.baseValid&&(e.baseValid=!1),e;e.type="number",e.datatype="number",e.value=y[e.operator](o.value),delete e.operator,e.operand.label&&(t[e.operand.label]=o),delete e.operand,e.baseValid=!0}else e.baseValid=o.baseValid;return e;case"binop":case"binopex":if(l=l||"binop"!==e.type||"string"===e.left.datatype||"string"===e.right.datatype,u=l||"d"===e.operator||"t"===e.operator,o=r(e.left,t,a,n,i,u),s=r(e.right,t,a,n,i,u),l=!0,"string"==typeof o)return o;if("string"==typeof s)return s;if(l){if("number"!==o.type&&"string"!==o.type)return e.baseValid&&(e.baseValid=!1),e;if("number"!==s.type&&"string"!==s.type&&"rollspec"!==s.type&&"tablename"!==s.type)return e.baseValid&&(e.baseValid=!1),e;if("rollspec"===s.type&&"d"!==e.operator)return"Rollspec operand is only compatible with 'd' operator";if("t"===e.operator&&"tablename"!==s.type)return"'t' operator requires tablename operand";if("t"===e.operator||"d"===e.operator&&e.mods)return i.push(e),e;e.value=b[e.operator](o.value,s.value),delete e.operator,e.left.label&&(t[e.left.label]=o),delete e.left,e.right.label&&(t[e.right.label]=s),delete e.right,e.type="string"==typeof e.value?"string":"number",e.datatype=e.type,e.baseValid="number"===e.datatype}else"number"===o.datatype&&"number"===s.datatype&&(e.datatype="number",e.baseValid=!0);return e;case"cond":return"string"==typeof(o=r(e.cond,t,a,n,i,!0))?o:"number"!==o.type&&"string"!==o.type?(e.baseValid=!1,e):(s=o.value?e.left:e.right,e.cond.label&&(t[e.cond.label]=o),delete e.cond,delete e.left,delete e.right,c.default.each(s,function(t){e[t]=s[t]}),r(e,t,a,n,i,l));case"variable":if("string"!=typeof e.value){if("string"==typeof(o=r(e.value,t,a,n,i,!0)))return o;if("number"===o.type&&(o.value=String(o.value),o.type="string"),"string"!==o.type)return e.baseValid&&(e.baseValid=!1),n.push(e.value),e;e.value=o.value}return!t[e.value]||"string"!==t[e.value].type&&"number"!==t[e.value].type?(a[e.value]||(a[e.value]=[]),a[e.value].push(e),e.baseValid&&(e.baseValid=!1)):(e.type=t[e.value].type,e.datatype=t[e.value].datatype,e.baseValid=t[e.value].baseValid,e.value=t[e.value].value),e;default:return"Unknown node type: "+e.type}}function o(e){var t=0;if("number"===e.type||"string"===e.type||"rollspec"===e.type)return!1;if(e.label)return!0;switch(e.type){case"function":for(t=0;t<e.args.length;t++)if(o(e.args[t]))return!0;return!1;case"tablename":case"variable":return"string"!=typeof e.value&&o(e.value);case"unop":case"unopex":return o(e.operand);case"cond":return!!o(e.cond)||(!!o(e.left)||o(e.right));case"binop":case"binopex":return!!o(e.left)||o(e.right)}}function s(e){var t;switch(e.type){case"number":case"rollspec":t=e.value||0;break;case"tablename":t="["+e.value+"]";break;case"unop":t="("+e.operator+s(e.operand)+")";break;case"binop":t="("+s(e.left)+e.operator+s(e.right)+(e.mods||"")+")",e.label&&"d"===e.operator&&(t+="["+e.label+"]");break;default:return"Unknown node type: "+e.type}return t}function p(e){return i("Error: "+e),""}var f,d,m,_,g={abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,max:Math.max,min:Math.min},b={"||":function(e,t){return e||t},"&&":function(e,t){return e&&t},"|":function(e,t){return e|t},"^":function(e,t){return e^t},"&":function(e,t){return e&t},"=":function(e,t){return e==t},"==":function(e,t){return e===t},"!=":function(e,t){return e!=t},">=":function(e,t){return e>=t},">":function(e,t){return e>t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},"<<":function(e,t){return e<<t},">>":function(e,t){return e>>t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"**":Math.pow,d:function(e,t){var a=0,n=0;for(n=0;n<e;n++)a+=randomInteger(t);return a}},y={"!":function(e){return!e},"~":function(e){return~e},"-":function(e){return-e}},h={},v=[],k=[],w=0,A=!1,C=[];for(w=0;w<a.length;w++)f=a[w][0],delete f.operator,delete f.left,delete f.right,f.type="number",f.datatype="number",f.value=a[w][1],f.baseValid=!0;for(w=0;w<t.length;w++)if(!t[w].baseValid&&"string"!==t[w].type&&"number"!==t[w].type&&"string"==typeof(d=r(t[w],n,h,v,k,!1)))return p(d);for(A=!0;A;){A=!1;for(m in h)if(h.hasOwnProperty(m)){if(!n[m])return p("Variable '"+m+"' not defined");if("string"!==n[m].type&&"number"!==n[m].type){if("string"==typeof(d=r(n[m],n,h,v,k,!0)))return p(d)}else if("string"===n[m].type||"number"===n[m].type){for(w=0;w<h[m].length;w++)h[m][w].type=n[m].type,h[m][w].datatype=n[m].datatype,h[m][w].value=n[m].value,h[m][w].baseValid=n[m].baseValid;delete h[m],A=!0}}for(;v.length>0;){if("string"==typeof(_=r(v.shift(),n,h,v,k,!0)))return p(d);"string"===_.type||"number"===_.type?A=!0:C.push(_)}v=C}for(w=t.length-1;w>=0;w--)(t[w].baseValid||"number"===t[w].type||"string"===t[w].type)&&(v.length>0&o(t[w])||e.splice(w,2,(e[w]||"")+function(e){return"string"===e.type?e.value:s(e)}(t.splice(w,1)[0])+(e[w+1]||"")));return k.length>0?(u.default.error("Cannot evaluate"),""):t.length>0&&(1!==t.length||"binop"!==t[0].type)?l(e,t,[],n):e.join("")}function o(e){var t,a,n,o=[],s=[];return e=e.replace(/\s/g,"").replace(/^-/,"0-").replace(/\(-/g,"(0-").replace(/^\+/,"").replace(/\(\+/g,"(0+"),t=e,a={s:t},"string"==typeof(n=r(a,null))?(i("could not parse"+e),""):(s.push(n),a.s=a.tok?a.tok.text+a.s:a.s,o.push(a.s),l(o,s,[],{}))}Object.defineProperty(t,"__esModule",{value:!0}),t.write=i,t.handleExpression=o;var s,c=n(a(1)),u=(a(3),n(a(0)))},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t){getAttrs(["customd1","customd2","customd3","customd4","customd5","customd6","customd1-name","customd2-name","customd3-name","customd4-name","customd5-name","customd6-name","allcustom_macro","NPC-allcustom_macro"],function(t){var a="",n="",r="";try{t.customd1&&(r="["+(b.escapeForChatLinkButton(t["customd1-name"])||"customd1")+"](~@{character_id}|",a+=r+"customd1_roll) ",n+=r+"NPC-customd1_roll) "),t.customd2&&(r="["+(b.escapeForChatLinkButton(t["customd2-name"])||"customd2")+"](~@{character_id}|",a+=r+"customd2_roll) ",n+=r+"NPC-customd2_roll) "),t.customd3&&(r="["+(b.escapeForChatLinkButton(t["customd3-name"])||"customd3")+"](~@{character_id}|",a+=r+"customd3_roll) ",n+=r+"NPC-customd3_roll) "),t.customd4&&(r="["+(b.escapeForChatLinkButton(t["customd4-name"])||"customd4")+"](~@{character_id}|",a+=r+"customd4_roll) ",n+=r+"NPC-customd4_roll) "),t.customd5&&(r="["+(b.escapeForChatLinkButton(t["customd5-name"])||"customd5")+"](~@{character_id}|",a+=r+"customd5_roll) ",n+=r+"NPC-customd5_roll) "),t.customd6&&(r="["+(b.escapeForChatLinkButton(t["customd6-name"])||"customd6")+"](~@{character_id}|",a+=r+"customd6_roll) ",n+=r+"NPC-customd6_roll) "),(a||n)&&(a="{{roll20=^{custom}}} {{roll21="+a+" }}",n="{{roll20=^{custom}}} {{roll21="+n+" }}")}catch(e){g.default.error("PFCustom.resetCommandMacro ",e)}finally{a!==t.allcustom_macro||n!==t["NPC-allcustom_macro"]?b.setWrapper({allcustom_macro:a,"NPC-allcustom_macro":n},y.default.silentParams,e):"function"==typeof e&&e()}})}function s(){b.setWrapper({extra_fields_attacks_show:1,skill_onetimecolumns_show:1,extra_fields_saves_show:1,extra_fields_spells_show:1,extra_fields_defense_show:1,extra_fields_caster_show:1,extra_fields_abilities_show:1,extra_fields_init_show:1,extra_fields_speeds_show:1,extra_fields_conditions_show:1},y.default.silentParams)}function c(){b.setWrapper({extra_fields_attacks_show:0,skill_onetimecolumns_show:0,extra_fields_saves_show:0,extra_fields_spells_show:0,extra_fields_defense_show:0,extra_fields_caster_show:0,extra_fields_abilities_show:0,extra_fields_init_show:0,extra_fields_speeds_show:0,extra_fields_conditions_show:0},y.default.silentParams)}function u(e,t,a){var n=_.default.size(y.default.equationMacros),r=_.default.once(function(){"function"==typeof e&&e()}),i=_.default.after(n,r);try{_.default.each(y.default.equationMacros,function(e,a){try{b.evaluateAndSetNumber(a,e,0,i,t)}catch(e){g.default.error("PFSheet.recalcExpressions",e),i()}})}catch(e){g.default.error("PFSheet.recalcExpressions OUTER wtf how did this happen?",e)}finally{r()}}function p(e,t,a){var n=_.default.size(y.default.abilityScoreManualDropdowns),r=_.default.size(y.default.levelPlusBABManualDropdowns),i=_.default.once(function(){"function"==typeof e&&e()}),l=_.default.after(2,i),o=_.default.after(n,l),s=_.default.after(r,l);try{_.default.each(y.default.abilityScoreManualDropdowns,function(e,a){try{v.setDropdownValue(a,e,o,t)}catch(e){g.default.error("PFSheet.recalcDropdowns",e),o()}}),_.default.each(y.default.levelPlusBABManualDropdowns,function(e){try{v.setDropdownValue(e,e+"-mod",s,t)}catch(e){g.default.error("PFSheet.recalcDropdowns",e),s()}})}catch(e){g.default.error("PFSheet.recalcDropdowns OUTER wtf how did this happen?",e)}finally{i()}}function f(e,t,a){var n,r=_.default.size(y.default.customEquationMacros),i=_.default.once(function(){"function"==typeof e&&e()}),l=_.default.after(r,i);try{n=_.default.reduce(y.default.customEquationMacros,function(e,t,a){return e=e.concat([a,t,"buff_"+k.buffToTot[a]+"-total"])},[]),getAttrs(n,function(e){_.default.each(y.default.customEquationMacros,function(a,n){b.evaluateAndAdd(l,t,e[n],a,e[a],e["buff_"+k.buffToTot[n]+"-total"])})})}catch(e){g.default.error("PFCustom.recalculate OUTER wtf how did this happen?",e)}finally{i()}}function d(e,t){var a=_.default.once(function(){"function"==typeof e&&e()}),n=_.default.after(4,function(){setAttrs({migrated_ability_dropdowns4:1},y.default.silentParams,a)}),r=function(){var e,t;if(e=Object.keys(y.default.repeatingAttackTypeManualDropdowns),!_.default.size(e))return void n();t=_.default.after(_.default.size(e),n),e.forEach(function(e){getSectionIDs("repeating_"+e,function(a){var n,r="";if(!a||0===_.default.size(a))return g.default.warn("migrate repeating attacktype Dropdowns, there are no rows for "+e),void t();r="_"+y.default.repeatingAttackTypeManualDropdowns[e],n=a.map(function(t){return"repeating_"+e+"_"+t+r}),getAttrs(n,function(a){var n,r="";n=Object.keys(a).reduce(function(t,n){try{a[n]&&"0"!==a[n][0]&&(r=a[n].replace("@{","").replace("}",""))!==a[n]&&(t[n]=r)}catch(t){g.default.error("PFSheet.migrate repeating attacktype dropdowns for: "+e,t)}finally{return t}},{}),_.default.size(n)>0?(g.default.debug("Migrate attack dropdowns setting:",n),setAttrs(n,y.default.silentParams,t)):t()})})})},i=function(){getSectionIDs("repeating_weapon",function(e){var t;if(!e||0===_.default.size(e))return void n();t=b.cartesianAppend(["repeating_weapon_"],e,["_damage-ability"]),getAttrs(t,function(e){var t;try{t=Object.keys(e).reduce(function(t,a){var n="";return e[a]&&"0"!==e[a]&&(n=e[a].replace("@{","").replace("}",""))!==e[a]&&(t[a]=n),t},{})}catch(e){g.default.error("PFSheet.migrate repeating ability dropdowns ",e)}finally{_.default.size(t)?(g.default.debug("Migrate repeatingweapon ability dropdowns setting:",t),setAttrs(t,y.default.silentParams,n)):n()}})})},l=function(){var e=Object.keys(y.default.abilityScoreManualDropdowns);getAttrs(e,function(t){var a={};try{a=e.reduce(function(e,a){var n="";if(t[a])switch(a){case"concentration-0-ability":case"concentration-1-ability":case"concentration-2-ability":case"FF-ability":case"CMD-ability":case"sanity-ability":case"selected-ability-psionic-power":case"melee2-ability":case"ranged2-ability":case"cmb2-ability":n=h.findAbilityInString(t[a])||"0";break;default:n=h.findAbilityInString(t[a])}return!n&&y.default.manualDropdownDefaults[a]&&(n=y.default.manualDropdownDefaults[a]),n&&n!==t[a]&&(e[a]=n),e},{})}catch(e){g.default.error("PFSheet.migrate AbilityModDropdowns ",e)}finally{_.default.size(a)?(g.default.debug("Migrate ability dropdowns setting:",a),setAttrs(a,y.default.silentParams,n)):n()}})},o=function(){var e=A.allTheSkills.map(function(e){return e+"-ability"});getAttrs(e,function(t){var a={};try{a=e.reduce(function(e,a){var n,r="",i="";try{if(t[a]&&t[a].indexOf("@{")>=0)r=t[a].replace("@{","").replace("}","");else if(!/misc/i.test(a)&&(!t[a]||w.abilitymods.indexOf(t[a])<0)){if(n=a.match(/Perform|Profession|Craft|Lore|Artistry|Knowledge/i))switch(n[0]){case"Perform":r="CHA-mod";break;case"Profession":r="WIS-mod";break;case"Craft":case"Knowledge":case"Artistry":case"Lore":r="INT-mod"}r||(i=a.slice(0,-8),r=A.coreSkillAbilityDefaults[i],r||(r=A.consolidatedSkillAbilityDefaults[i]),r&&(r=r.toUpperCase()+"-mod"))}r&&r!==t[a]&&(e[a]=r)}catch(e){g.default.error("Migrate Skill dropdowns error skillerri on "+a,e)}finally{return e}},{})}catch(e){g.default.error("PFSheet.migrate Skills dropdowns ",e)}finally{_.default.size(a)?setAttrs(a,y.default.silentParams,n):(g.default.warn("Migrate skill dropdowns, there was nothing to set!"),n())}})};getAttrs(["migrated_ability_dropdowns4"],function(e){parseInt(e.migrated_ability_dropdowns4,10)?a():(i(),l(),r(),o())})}function m(e){var t=["migrated_skill_dropdowns5","Profession-ability","Profession2-ability","Profession3-ability","Profession4-ability","Profession5-ability","Profession6-ability","Profession7-ability","Profession8-ability","Profession9-ability","Profession10-ability"];getAttrs(t,function(t){var a={},n=0,r=0,i="";try{if(!parseInt(t.migrated_skill_dropdowns5,10))for(a.migrated_skill_dropdowns5=1,r=10;r>0&&(i=r>1?"Profession"+r+"-ability":"Profession-ability","INT-mod"===t[i]);r--)a[i]="WIS-mod",n++}catch(e){g.default.error("PFSheet.migrate Skills dropdowns ",e)}finally{_.default.size(a)?setAttrs(a,y.default.silentParams,e):"function"==typeof e&&e()}})}Object.defineProperty(t,"__esModule",{value:!0}),t.resetCommandMacro=o,t.migrate=d,t.fixProfessionDropdowns=m,t.recalculate=void 0;var _=l(a(1)),g=(a(3),l(a(0))),b=i(a(2)),y=l(a(4)),h=i(a(5)),v=i(a(19)),k=i(a(65)),w=i(a(20)),A=i(a(21)),C=(a(120),g.default.callback(function(e,t,a){d(function(){p(function(){m(),u(function(){f(function(){o(e)},t,a)},t,a)},t,a)},a)}));t.recalculate=C,function(){on("change:customd1 change:customd2 change:customd3 change:customd4 change:customd5 change:customd6 change:customd1-name change:customd2-name change:customd3-name change:customd4-name change:customd5-name change:customd6-name",g.default.callback(function(e){"player"===e.sourceType&&(g.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),o(e))})),on("change:use_advanced_options",g.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(g.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),getAttrs(["use_advanced_options"],function(e){parseInt(e.use_advanced_options,10)?s():c()}))})),_.default.each(y.default.abilityScoreManualDropdowns,function(e,t){on("change:"+t,g.default.callback(function(a){"player"!==a.sourceType&&"api"!==a.sourceType||(g.default.debug("caught "+a.sourceAttribute+" event: "+a.sourceType),v.setDropdownValue(t,e))}))}),_.default.each(y.default.equationMacros,function(e,t){on("change:"+t,g.default.callback(function(a){g.default.debug("caught "+a.sourceAttribute+" event: "+a.sourceType),b.evaluateAndSetNumber(t,e)}))}),_.default.each(y.default.customEquationMacros,function(e,t){on("change:"+t,g.default.callback(function(a){g.default.debug("caught "+a.sourceAttribute+" event: "+a.sourceType),b.evaluateAndAddAsync(null,null,t,e,"buff_"+t+"-total")}))}),on("change:kineticist_level",g.default.callback(function(e){"player"===e.sourceType&&(g.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),v.setDropdownValue("kineticist_level","kineticist_level-mod"))}))}()},function(e,t){e.exports=window.on},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a=c.default.once(function(){"function"==typeof e&&e()});getAttrs(["npc-hd","PFSheet_Version","npc-hd-num","level","hp","hp_max","is_newsheet","npc-type"],function(e){parseInt(e.is_newsheet,10)||0===(parseInt(e.PFSheet_Version,10)||0)||!(e["npc-type"]||parseInt(e["npc-hd"],10)||parseInt(e["npc-hd-num"],10)||parseInt(e.level,10)||parseInt(e.hp,10)||parseInt(e.hp_max,10))?d.setWrapper({auto_calc_hp:1,autohp_percent:1,maxhp_lvl1:0,normal_macro_show:1,"max-dex-source":3,both_whisper_show:1,use_traits:0,use_racial_traits:0,tab:8,is_v1:1,"npc-compimport-show":1},p.default.silentParams,a):a()})}function s(e){f.migrateNPC(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.setToNPC=o,t.migrate=s,t.recalculate=void 0;var c=l(a(1)),u=(a(3),l(a(0))),p=l(a(4)),f=i(a(15)),d=i(a(2)),m=u.default.callback(function(e,t,a){s(c.default.once(function(){u.default.info("leaving PFNPC.recalculate"),"function"==typeof e&&e()}))});t.recalculate=m,function(){on("change:is_npc",u.default.callback(function(e){u.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||getAttrs(["is_npc"],function(t){1===parseInt(t.is_npc,10)&&o(e)})}))}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var a=s.default.once(function(){"function"==typeof e&&e()});u.getDropdownValue("selected-ability-psionic-power",null,function(e){getAttrs(["psionic-level-total","ability-psionic-power"],function(n){var r=0,i=0,l=0,o={};try{r=parseInt(e,10)||0,i=parseInt(n["ability-psionic-power"],10)||0,l=Math.floor(r*(parseInt(n["psionic-level-total"],10)||0)*.5),c.default.debug("PFSIONIC ability="+r,"newTotal="+l,"currentTotal="+i),i!==l&&(t&&(o=p.default.silentParams),u.setWrapper({"ability-psionic-power":l},o,a))}catch(e){c.default.error("PFPsionic.updatePsionicBonusPower",e)}finally{a()}})})}function o(e){"function"==typeof e&&e()}Object.defineProperty(t,"__esModule",{value:!0}),t.migrate=o,t.recalculate=void 0;var s=i(a(1)),c=(a(3),i(a(0))),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}(a(2)),p=i(a(4)),f=c.default.callback(function(e,t,a){var n=s.default.once(function(){c.default.info("Leaving PFPsionic.recalculate"),"function"==typeof e&&e()});getAttrs(["psionics-show"],function(e){try{1===parseInt(e["psionics-show"],10)?l(n,t):n()}catch(e){c.default.error("PFPsionic.recalculate",e),n()}})});t.recalculate=f,function(){on("change:psionic-level change:psionic-level-misc",c.default.callback(function(e){c.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||u.updateRowTotal(["psionic-level-total","psionic-level","psionic-level-misc"])})),on("change:class-psionic-power change:ability-psionic-power change:misc-psionic-power",c.default.callback(function(e){c.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),("player"===e.sourceType||"api"===e.sourceType||"sheetworker"===e.sourceType||"api"===e.sourceType&&"ability-psionic-power"===e.sourceAttribute)&&u.updateRowTotal(["psionic-power_max","class-psionic-power","ability-psionic-power","misc-psionic-power"])})),on("change:selected-ability-psionic-power change:psionic-level-total",c.default.callback(function(e){c.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),l()}))}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var a=c.default.once(function(){"function"==typeof e&&e()});getAttrs(["mythic-tier","mythic-hp","total-mythic-hp"],function(e){var n=0,r=0,i={},l={};try{n=(parseInt(e["mythic-tier"],10)||0)*(parseInt(e["mythic-hp"],10)||0),r=parseInt(e["total-mythic-hp"],10)||0,r!==n&&(i["total-mythic-hp"]=n)}catch(e){u.default.error("PFMythic.updateTierMythicPower error",e)}finally{c.default.size(i)>0?(t&&(l=f.default.silentParams),p.setWrapper(i,l,a)):a()}})}function o(e,t){var a=c.default.once(function(){"function"==typeof e&&e()});getAttrs(["tier-mythic-power","mythic-tier"],function(e){var n,r,i={},l={};try{n=3+2*(parseInt(e["mythic-tier"],10)||0),r=parseInt(e["tier-mythic-power"],10)||0,r!==n&&(i["tier-mythic-power"]=n)}catch(e){u.default.error("PFMythic.updateTierMythicPower error",e)}finally{c.default.size(i)>0?(t&&(l=f.default.silentParams),p.setWrapper(i,l,a)):a()}})}function s(e){"function"==typeof e&&e()}Object.defineProperty(t,"__esModule",{value:!0}),t.migrate=s,t.recalculate=void 0;var c=i(a(1)),u=(a(3),i(a(0))),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}(a(2)),f=i(a(4)),d=u.default.callback(function(e,t,a){var n=c.default.once(function(){u.default.info("leaving PFMythic.recalculate"),"function"==typeof e&&e()});getAttrs(["mythic-adventures-show"],function(e){try{1===parseInt(e["mythic-adventures-show"],10)?(l(n,t),o()):n()}catch(e){u.default.error("PFMythic.recalculate",e),n()}})});t.recalculate=d,function(){on("change:mythic-tier change:mythic-hp",u.default.callback(function(e){u.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||(l(),o())})),on("change:mythic-hp",u.default.callback(function(e){u.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||l()})),on("change:misc-mythic-power change:tier-mythic-power",u.default.callback(function(e){u.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),("player"===e.sourceType||"api"===e.sourceType||"sheetworker"===e.sourceType||"api"===e.sourceType&&"tier-mythic-power"===e.sourceAttribute)&&p.updateRowTotal(["mythic-power_max","tier-mythic-power","misc-mythic-power"])}))}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){C.updateAbilityScore("DEX"),C.updateAbilityScore("STR"),P.applyConditions(null,null,a)}function s(e,t,a){C.updateAbilityScore("DEX"),P.applyConditions(null,null,a)}function c(e,t,a){C.applyConditions(function(){S.applyConditions(),P.applyConditions()},null,a),w.applyConditions()}function u(e,t,a){getAttrs(["condition-Pinned","condition-Grappled"],function(e){parseInt(e["condition-Pinned"],10)&&parseInt(e["condition-Grappled"],10)?v.setWrapper({"condition-Pinned":"0"},h.default.silentParams,function(){c(a)}):c(a)})}function p(e,t,a){getAttrs(["condition-Pinned","condition-Grappled"],function(e){parseInt(e["condition-Pinned"],10)&&parseInt(e["condition-Grappled"],10)?v.setWrapper({"condition-Grappled":"0"},h.default.silentParams,function(){c(a)}):c(a)})}function f(e){C.applyConditions(null,null,e),S.applyConditions(null,null,e),M.updateModifiedSpeed()}function d(e,t,a){getAttrs(["condition-Fatigued","condition-Exhausted"],function(e){e=b.default.mapObject(e,function(e,t){return parseInt(e,10)||0}),e["condition-Fatigued"]&&e["condition-Exhausted"]?v.setWrapper({"condition-Exhausted":"0"},h.default.silentParams,function(){f(a)}):f(a)})}function m(e,t,a){getAttrs(["condition-Fatigued","condition-Exhausted"],function(e){e=b.default.mapObject(e,function(e,t){return parseInt(e,10)||0}),e["condition-Fatigued"]&&e["condition-Exhausted"]?v.setWrapper({"condition-Fatigued":"0"},h.default.silentParams,function(){f(a)}):f(a)})}function _(e,t,a){var n=b.default.once(function(){"function"==typeof e&&e()});getAttrs(["condition-Drained","condition_is_drained"],function(e){var t=parseInt(e["condition-Drained"],10)||0,a=parseInt(e.condition_is_drained,10)||0;0!==t&&0===a?v.setWrapper({condition_is_drained:1,"condition-Drained-toggle":1},h.default.silentParams,n):0===t&&0!==a?v.setWrapper({condition_is_drained:0,"condition-Drained-toggle":0},h.default.silentParams,n):n()})}function g(e,t){getAttrs(["migrated_fatigue_conditions","condition-Fatigued"],function(t){var a={};parseInt(t.migrate_fatigued_conditions,10)?"function"==typeof e&&e():(3===parseInt(t["condition-Fatigued"],10)&&(a["condition-Fatigued"]=0,a["condition-Exhausted"]=3),a.migrate_fatigued_conditions=1,v.setWrapper(a,h.default.silentParams,e))})}Object.defineProperty(t,"__esModule",{value:!0}),t.setParalyzed=o,t.setHelpless=s,t.migrate=g,t.recalculate=void 0;var b=l(a(1)),y=(a(3),l(a(0))),h=l(a(4)),v=i(a(2)),k=i(a(49)),w=i(a(67)),A=i(a(21)),C=i(a(20)),I=i(a(47)),S=i(a(17)),P=i(a(30)),x=i(a(40)),T=i(a(48)),O=i(a(16)),M=i(a(39)),D=y.default.callback(function(e,t,a){g(function(){_(e)})});t.recalculate=D;var E={conditionEventsEither:{"change:condition-wounds change:has_endurance_feat change:wounds_gritty_mode":[T.applyConditions,I.applyConditions,S.applyConditions,P.applyConditions]},conditionEventsPlayer:{"change:condition-grappled":[u],"change:condition-pinned":[p],"change:condition-Fatigued":[d],"change:condition-Exhausted":[m],"change:condition-sickened":[O.updateRepeatingWeaponDamages,T.applyConditions,I.applyConditions,S.applyConditions],"change:condition-stunned":[P.updateDefenses,P.applyConditions],"change:condition-flat-footed":[P.updateDefenses],"change:condition-deafened":[k.updateInitiative,w.applyConditions,T.applyConditions],"change:condition-fascinated":[T.applyConditions],"change:condition-entangled":[C.applyConditions,S.applyConditions,M.updateModifiedSpeed],"change:condition-drained":[_,x.updateMaxHPLookup,T.applyConditions,I.applyConditions,S.applyConditions,P.applyConditions],"change:condition-fear":[T.applyConditions,I.applyConditions,S.applyConditions],"change:condition-blinded":[T.applyConditions,P.applyConditions],"change:condition-cowering":[P.applyConditions],"change:condition-invisible":[P.updateDefenses,S.applyConditions,T.applyConditions,P.applyConditions],"change:condition-dazzled":[S.applyConditions,T.applyConditions],"change:condition-prone":[P.applyConditions,S.recalculateMelee],"change:condition-paralyzed":[o],"change:condition-helpless":[s]}};!function(){b.default.each(E.conditionEventsPlayer,function(e,t){b.default.each(e,function(e){on(t,y.default.callback(function(t){"player"!==t.sourceType&&"api"!==t.sourceType||(y.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),e(null,null,t))}))})}),b.default.each(E.conditionEventsEither,function(e,t){b.default.each(e,function(e){on(t,y.default.callback(function(t){y.default.debug("caught "+t.sourceAttribute+" event: "+t.sourceType),e(null,null,t)}))})}),on("change:Perception-cond",y.default.callback(function(e){y.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),A.verifyHasSkill("Perception",function(t){t?A.updateSkillAsync("Perception",e):A.updateSkillAsync("CS-Perception",e)})}))}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=function(){"function"==typeof e&&e()};getAttrs(["use_horror_adventures","sanity_threshold","sanity-ability-mod","sanity_threshold_misc-mod"],function(e){var a=0,n=0,r={};try{parseInt(e.use_horror_adventures,10)&&(a=parseInt(e.sanity_threshold,10)||0,n=(parseInt(e["sanity-ability-mod"],10)||0)+(parseInt(e["sanity_threshold_misc-mod"],10)||0),n=Math.max(1,n),a!==n&&(r.sanity_threshold=n))}catch(e){c.default.error("PFHorror.setSanityThreshold error",e)}finally{s.default.size(r)?p.setWrapper(r,u.default.silentParams,t):t()}})}function o(e){var t=function(){"function"==typeof e&&e()};getAttrs(["use_horror_adventures","sanity_score_max","sanity_edge","sanity_score_misc-mod","WIS","INT","CHA","WIS-damage","INT-damage","CHA-damage","WIS-penalty","INT-penalty","CHA-penalty","buff_WIS-total_penalty","buff_INT-total_penalty","buff_CHA-total_penalty"],function(e){var a=0,n=0,r=0,i={};try{parseInt(e.use_horror_adventures,10)&&(a=parseInt(e.sanity_score_max,10)||0,n=(parseInt(e["sanity_score_misc-mod"],10)||0)+(parseInt(e.WIS,10)||0)+(parseInt(e.INT,10)||0)+(parseInt(e.CHA,10)||0)+(parseInt(e["WIS-damage"],10)||0)+(parseInt(e["INT-damage"],10)||0)+(parseInt(e["CHA-damage"],10)||0)+(parseInt(e["WIS-penalty"],10)||0)+(parseInt(e["INT-penalty"],10)||0)+(parseInt(e["CHA-penalty"],10)||0)+(parseInt(e["buff_WIS-total_penalty"],10)||0)+(parseInt(e["buff_INT-total_penalty"],10)||0)+(parseInt(e["buff_CHA-total_penalty"],10)||0),a!==n&&(r=Math.floor(n/2),i.sanity_score_max=n,i.sanity_edge=r))}catch(e){c.default.error("PFHorror.setSanityScore error",e)}finally{s.default.size(i)?p.setWrapper(i,u.default.silentParams,t):t()}})}Object.defineProperty(t,"__esModule",{value:!0}),t.recalculate=void 0;var s=i(a(1)),c=(a(3),i(a(0))),u=i(a(4)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}(a(2)),f=c.default.callback(function(e){o(),l(),"function"==typeof e&&(c.default.info("Leaving PFHorror.recalculate"),e())});t.recalculate=f,function(){on("change:sanity_score_misc-mod change:WIS change:INT change:CHA change:buff_WIS-total_penalty change:buff_INT-total_penalty change:buff_CHA-total_penalty",c.default.callback(function(e){c.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"sheetworker"!==e.sourceType&&"api"!==e.sourceType||o()})),on("change:WIS-damage change:INT-damage change:CHA-damage change:WIS-penalty change:INT-penalty change:CHA-penalty",c.default.callback(function(e){c.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||o()})),on("change:sanity-ability-mod change:sanity_threshold_misc-mod",c.default.callback(function(e){c.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"sheetworker"!==e.sourceType&&"api"!==e.sourceType||l()})),on("change:use_horror_adventures",c.default.callback(function(e){getAttrs(["use_horror_adventures"],function(e){parseInt(e.use_horror_adventures,10)&&(o(),l())})}))}()},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){getAttrs(["kineticist_level-mod","kineticist_ability-mod","kineticblast_dc"],function(t){var a={},n=0,r=0;n=parseInt(t.kineticblast_dc,10)||0,r=10+(parseInt(t["kineticist_ability-mod"],10)||0)+Math.floor((parseInt(t["kineticist_level-mod"],10)||0)/2),n!==r?(a.kineticblast_dc=r,d.setWrapper(a,m.default.silentParams,e)):"function"==typeof e&&e()})}function s(e){getAttrs(["kineticblast_attack_type","kineticblast_type","kineticblast_damage_type","use_devastating_infusion"],function(e){var t="",a="",n="",r=0,i=0,l="6",o={};r=parseInt(e.use_devastating_infusion,10)||0,"composite"===e.kineticblast_type&&(i=1),!r||"ranged"!==e.kineticblast_attack_type&&"energy"!==e.kineticblast_damage_type?(t="@{kineticblast_attack-mod}+@{buff_kineticblast-total}",r?(l="8",n="@{kineticist_level-mod}"):n="floor((@{kineticist_level-mod}+1)/2)",i&&(n="2*"+n),a="[[ "+n+" ]]d"+l,r?a+="+ @{kineticist_ability-mod}":"physical"===e.kineticblast_damage_type?a=a+"+ [[ "+n+" ]] + @{kineticist_ability-mod}":a+="+ [[ floor(@{kineticist_ability-mod}/2) ]]",a+="+@{kineticblast_dmg-mod}","ranged"===e.kineticblast_attack_type&&(a+="+@{buff_dmg_kineticblast-total}")):(a="INVALID",t="INVALID"),o.kineticblast_tempattack=t,o.kineticblast_tempdmg="[[ "+a+" ]]",o.create_kineticblast_macro=0,d.setWrapper(o,m.default.silentParams)})}function c(e){getAttrs(["adv_macro_show","create_kineticblast_attack","kineticblast_attack_type","kineticblast_type","kineticblast_damage_type","kineticblast_tempattack","kineticblast_tempdmg"],function(e){var t="",a="",n={},r="",i="";if(parseInt(e.create_kineticblast_attack,10))try{a=generateRowID(),t="repeating_weapon_"+a+"_",r=e.kineticblast_type+"-"+e.kineticblast_damage_type+"-",r+="ranged"===e.kineticblast_attack_type?"blast":"blade",r=d.getTranslated(r),r=r.replace("-"," "),n[t+"name"]=r,"physical"===e.kineticblast_damage_type?(n[t+"vs"]="AC",i=d.getTranslated("physical")):(n[t+"vs"]="touch",i=d.getTranslated("energy")),parseInt(e.adv_macro_show)?n[t+"attack_macro_insert"]=e.kineticblast_tempattack:n[t+"attack"]=e.kineticblast_tempattack,"ranged"===e.kineticblast_attack_type?(n[t+"attack-type"]="attk-ranged",n[t+"range"]="@{kineticblast_range}",n[t+"isranged"]=1):n[t+"attack-type"]="attk-melee",n[t+"precision_dmg_macro"]=e.kineticblast_tempdmg,n[t+"precision_dmg_type"]=i,n[t+"critical_dmg_macro"]=e.kineticblast_tempdmg,n[t+"critical_dmg_type"]=i,n[t+"notes"]="DC [[@{kineticblast_dc}]] (if applicable)",n[t+"default_damage-dice-num"]=0,n[t+"default_damage-die"]=0,n[t+"damage-dice-num"]=0,n[t+"damage-die"]=0,n[t+"size_affects"]=0,n[t+"damage-ability"]="0"}catch(t){f.default.error("PFAttacks.createAttack err creating "+e.kineticblast_attack_type,t)}finally{p.default.size(n)?(n.create_kineticblast_attack=0,d.setWrapper(n,m.default.silentParams,function(){_.recalcRepeatingWeapon(a,function(){g.resetCommandMacro(),b.resetOption(a)})})):d.setWrapper({create_kineticblast_attack:0},m.default.silentParams)}})}function u(e){getAttrs(["non-lethal-damage","kineticistburn","oldkineticistburn","level"],function(e){var t=0,a=0,n=0,r=0,i=0,l=0,o=0,s={};try{a=parseInt(e.oldkineticistburn,10)||0,n=parseInt(e.kineticistburn,10)||0,a!==n&&(s.oldkineticistburn=n,t=parseInt(e["non-lethal-damage"],10)||0,r=n-a||0,i=parseInt(e.level,10)||0,l=r*i,f.default.debug("PFOccult.change:kineticistburn level:"+i+", newdmg:"+l+", curr nld:"+t,e),o=t+l,o<0&&(o=0),s["non-lethal-damage"]=o)}catch(e){f.default.error("PFOccult.change:kineticistburn kineticburn",e)}finally{p.default.size(s)&&d.setWrapper(s)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.updateNLDamageFromBurn=u,t.recalculate=void 0;var p=l(a(1)),f=(a(3),l(a(0))),d=i(a(2)),m=l(a(4)),_=i(a(16)),g=i(a(17)),b=i(a(29)),y=f.default.callback(function(e,t,a){getAttrs(["use_burn"],function(t){parseInt(t.use_burn,10)&&o(),"function"==typeof e&&(f.default.info("leaving PFOccult.recalculate"),e())})});t.recalculate=y,on("change:create_kineticblast_macro",f.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(f.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),getAttrs(["create_kineticblast_macro"],function(t){parseInt(t.create_kineticblast_macro,10)&&s(e)}))})),on("change:kineticist_level-mod change:kineticist_ability-mod",f.default.callback(function(e){"sheetworker"!==e.sourceType&&"api"!==e.sourceType||(f.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),o(null,null,e))})),on("change:use_burn",f.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(f.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),y())})),on("change:create_kineticblast_attack",f.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(f.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),c(e))})),on("change:kineticistburn",f.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(f.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),u(e))}))},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e){return N.default.isUndefined(e)||""===e?0:parseInt(e)||0}function s(e,t){return Math.max(0,Math.floor((e+4-t)/4))}function c(e,t){return N.default.map(e,function(e){return e[t]}).join(", ")}function u(e){switch(e.toLowerCase()){case"colossal":return-8;case"gargantuan":return-4;case"huge":return-2;case"large":return-1;case"small":return 1;case"tiny":return 2;case"diminutive":return 4;case"fine":return 8;default:return 0}}function p(e){return N.default.isUndefined(e)?[]:Array.isArray(e)?e:new Array(e)}function f(e,t){e.init=o(t._total),e["init-misc"]=o(t._total)-o(t._attrtext),e["init-ability"]="".concat(t._attrname.substr(0,3).toUpperCase(),"-mod"),e["init-ability-mod"]=o(t._attrtext),e.init_notes=t.situationalmodifiers._text}function d(e,t){t.forEach(function(t){var a=t._name.substr(0,3).toUpperCase(),n=o(t.attrvalue._base),r=o(t.attrvalue._modified)-n;e["".concat(a,"-base")]=n,e[a]=o(t.attrvalue._modified),e["".concat(a,"-mod")]=o(t.attrbonus._modified),r>0?(e["".concat(a,"-enhance")]=r,e[a]=o(t.attrvalue._modified)):(e["".concat(a,"-penalty")]=r,e[a]=n)})}function m(e,t){var a=0,n=t.allsaves.situationalmodifiers._text;for(a=0;a<t.save.length;a++){var r=t.save[a],i=r._abbr;e[i]=o(r._save),e["class-0-".concat(i)]=e["total-".concat(i)]=o(r._base),e["".concat(i,"-resist")]=o(r._fromresist),e["".concat(i,"-misc")]=o(r._save)-o(r._base)-o(r._fromresist)-o(r._fromattr),e["".concat(i,"-ability-mod")]=o(r._fromattr),""!==r.situationalmodifiers._text&&-1===n.indexOf(r.situationalmodifiers._text)&&(n="".concat(n,"\n**").concat(i,":** ").concat(r.situationalmodifiers._text))}e["Save-notes"]=n.trim()}function _(e,t){var a=Object.values(e),n=Object.keys(e),r=N.default.find(a,function(e){var r=e;if((r=r.replace(/ x[0-9]+$/,"").trim())===t){var i=n[N.default.indexOf(a,e)];if(!N.default.isUndefined(i))return!0}return!1});return N.default.isUndefined(r)?generateRowID():n[N.default.indexOf(a,r)]}function g(e,t){var a=Object.values(e),n=Object.keys(e),r=t.replace(/\(.*\)/,"").replace(/\+\d+/,"").toLowerCase().replace("masterwork","").trim(),i=N.default.find(a,function(e){var t=e;if((t=t.replace(/\(.*\)/,"").replace(/\+\d+/,"").toLowerCase().replace("masterwork","").trim())===r){var i=n[N.default.indexOf(a,e)];if(!N.default.isUndefined(i))return!0}return!1});return N.default.isUndefined(i)?generateRowID():n[N.default.indexOf(a,i)]}function b(e,t,a){var n=N.default.find(e,function(e){return e.name===t&&e.spellclass===a});return N.default.isUndefined(n)?generateRowID():n.rowID}function y(e,t){var a=Object.values(e),n=(Object.keys(e),N.default.find(a,function(e){var a=e.name;return t=t.replace(/\(.+\)/g,"").replace(/\d+d\d+(\+\d*)*/g,"").replace(/\+\d+/g,"").trim(),(a=a.replace(/\(.+\)/g,"").replace(/\d+d\d+(\+\d*)*/g,"").replace(/\+\d+/g,"").trim())===t}));return N.default.isUndefined(n)?generateRowID():n.rowID}function h(e,t,a,n){var r="repeating_ability",i=[],l=N.default.map(t,function(e){return e._name});N.default.each(t,function(t){if(!N.default.contains(i,t._name)){var o=N.default.filter(l,function(e){return e===t._name}).length,s=_(a,t._name);N.default.isUndefined(a[s])||delete a[s],e["".concat(r,"_").concat(s,"_name")]=o>1?"".concat(t._name," x").concat(o):t._name,e["".concat(r,"_").concat(s,"_description")]=t.description,e["".concat(r,"_").concat(s,"_tabcat")]=e["".concat(r,"_").concat(s,"_rule_category")]="feats",i.push(t._name),N.default.contains(Object.keys(n),t._name)&&(e["".concat(r,"_").concat(s,"_max-calculation")]=n[t._name]._max)}})}function v(e){return-1!==e.toLowerCase().indexOf("shield")||-1!==e.toLowerCase().indexOf("buckler")||-1!==e.toLowerCase().indexOf("klar")}function k(e,t,a,n,r){var i="repeating_item";getSectionIDs(i,function(l){var s=N.default.union(N.default.map(l,function(e){return"".concat(i,"_").concat(e,"_name")}),["shield3-acp","shield3-spell-fail"]);getAttrs(s,function(l){var s=o(l["shield3-acp"]),c=o(l["shield3-spell-fail"]);N.default.isUndefined(l["shield3-acp"])||delete l["shield3-acp"],N.default.isUndefined(l["shield3-spell-fail"])||delete l["shield3-spell-fail"];var u=N.default.object(N.default.map(l,function(e,t){return[t.substring(i.length+1,t.indexOf("_name")),e]})),f=[],d={},m=N.default.map(n,function(e){return e._name}),_=N.default.map(r,function(e){return e._name}),b=["mithral","adamantine","angelskin","darkleaf","darkwood","dragonhide","eel","fire-forged","frost-forged","greenwood","paueliel"];N.default.each(e,function(e){var l=g(u,e._name);N.default.isUndefined(u[l])||delete u[l],f.push(e._name),i="repeating_item_".concat(l),d["".concat(i,"_name")]=e._name,d["".concat(i,"_item-weight")]=e.weight._value,d["".concat(i,"_value")]=parseFloat(e.cost._value)/parseInt(e._quantity),d["".concat(i,"_description")]=e.description,N.default.contains(Object.keys(t),e._name)&&"1"===e._quantity&&"1"!==t[e._name]._max?(d["".concat(i,"_qty")]=t[e._name]._left,d["".concat(i,"_qty_max")]=t[e._name]._max):d["".concat(i,"_qty")]=e._quantity,N.default.isUndefined(e.itempower)||N.default.each(p(e.itempower),function(e){f.push(e._name)});var y=e._name;if(-1!==e._name.toLowerCase().indexOf("shield")){var h;h=e._name.toLowerCase().indexOf(!0)?"heavy shield bash":"light shield bash",y=N.default.find(_,function(e){return-1!==e.toLowerCase().indexOf(h)})||e._name}if(N.default.contains(_,y)){var k=r[N.default.indexOf(_,y)];if("As Spell"!==k._damage){if(d["".concat(i,"_item-wpenhance")]=o(k._name.match(/\+\d+/)),N.default.isUndefined(k._typetext)||(d["".concat(i,"_item-dmg-type")]=k._typetext),(-1!==y.toLowerCase().indexOf("masterwork")||N.default.intersection(b,e._name.toLowerCase().split(" ")).length>0)&&(d["".concat(i,"_item-masterwork")]=1),!N.default.isUndefined(k._damage)){var w=k._damage.match(/\d+d\d+/);!N.default.isNull(w)&&w.length>0&&(d["".concat(i,"_item-damage-dice-num")]=o(w[0].split("d")[0]),d["".concat(i,"_item-damage-die")]=o(w[0].split("d")[1]))}if(!N.default.isUndefined(k._crit)){var A=k._crit.split("/");A.length>1?d["".concat(i,"_item-crit-target")]=o(A[0].match(/\d+/)[0]):d["".concat(i,"_item-crit-target")]=20,d["".concat(i,"_item-crit-multiplier")]=o(A[A.length-1].replace(/\D/g,""))}N.default.isUndefined(k.rangedattack)||N.default.isUndefined(k.rangedattack._rangeincvalue)||(d["".concat(i,"_item-range")]=o(k.rangedattack._rangeincvalue))}}var C=e._name;if(-1!==e._name.toLowerCase().indexOf("klar")&&(C=N.default.find(m,function(e){return-1!==e.toLowerCase().indexOf("klar")})||e._name),N.default.contains(m,C)){var I=n[N.default.indexOf(m,C)];if(v(e._name)){var S=o(C.match(/\+\d+/)),P=o(I._ac)-S;d["".concat(i,"_item-acbonus")]=P,d["".concat(i,"_item-acenhance")]=S,N.default.isUndefined(I._equipped)||"yes"!==I._equipped||(d["".concat(i,"_item-acp")]=s,d["".concat(i,"_item-spell-fail")]=c,d.shield3=e._name,d["shield3-acbonus"]=P,d["shield3-enhance"]=S)}else{var S=o(e._name.match(/\+\d+/)),P=o(I._ac)-S;d["".concat(i,"_item-acbonus")]=P,d["".concat(i,"_item-acenhance")]=S,N.default.isUndefined(I._equipped)||"yes"!==I._equipped||(d["armor3-acp"]=d["".concat(i,"_item-acp")]=a.ACP-s,d["armor3-spell-fail"]=d["".concat(i,"_item-spell-fail")]=a.spellfail-c,99===a.maxDex?d["armor3-max-dex"]=d["".concat(i,"_item-max-dex")]="":d["armor3-max-dex"]=d["".concat(i,"_item-max-dex")]=a.maxDex,d.armor3=e._name,d["armor3-acbonus"]=P,d["armor3-enhance"]=S)}}}),setAttrs(d,{silent:!0})})})}function w(e,t,a,n){var r="repeating_ability";t.forEach(function(t){var i=_(a,t._name);N.default.isUndefined(a[i])||delete a[i],e["".concat(r,"_").concat(i,"_name")]=t._name,e["".concat(r,"_").concat(i,"_description")]=t.description,e["".concat(r,"_").concat(i,"_tabcat")]=e["".concat(r,"_").concat(i,"_rule_category")]="traits",N.default.contains(Object.keys(n),t._name)&&(e["".concat(r,"_").concat(i,"_max-calculation")]=n[t._name]._max)})}function A(e,t,a,n){var r="repeating_ability";t.forEach(function(t){var i=_(a,t._name);N.default.isUndefined(a[i])||delete a[i],e["".concat(r,"_").concat(i,"_name")]=t._name,e["".concat(r,"_").concat(i,"_description")]=t.description,e["".concat(r,"_").concat(i,"_tabcat")]=e["".concat(r,"_").concat(i,"_rule_category")]="spell-like-abilities",e["".concat(r,"_").concat(i,"_tabcat2")]=e["".concat(r,"_").concat(i,"_ability_type")]="Sp",N.default.contains(Object.keys(n),t._name)&&(e["".concat(r,"_").concat(i,"_max-calculation")]=n[t._name]._max)})}function C(e,t,a,n,r){var i=N.default.map(a,function(e){return e._name}),l=[];N.default.each(a,function(a){var o,s=a._name,c="repeating_ability",u=-1,f=s.replace(/ x[0-9]+$/,"").replace(/\(([^\)]*)\)/g,"").trim();if(!N.default.contains(l,f)){var d=N.default.filter(i,function(e){return e.replace(/\(([^\)]*)\)/g,"").trim()===f});if(d.length>1){l.push(f);var m=N.default.map(d,function(e){return e.match(/\(([^\)]*)\)/)[0].replace("(","").replace(")","")});s=s.replace(/\(([^\)]*)\)/,"(".concat(N.default.uniq(m).join(", "),")"))}o=y(t,s),c="repeating_ability_".concat(o),N.default.isUndefined(t[o])?a.specsource?e["".concat(c,"_tabcat")]=e["".concat(c,"_rule_category")]="class-features":e["".concat(c,"_tabcat")]=e["".concat(c,"_rule_category")]="racial-traits":delete t[o],u=O(p(a.specsource),n),e["".concat(c,"_name")]=s,e["".concat(c,"_description")]=a.description,-1!==u&&(e["".concat(c,"_CL-basis")]="@{class-".concat(u,"-level}"),e["".concat(c,"_class-name")]=Object.keys(n)[u]),N.default.contains(Object.keys(r),a._name)&&(e["".concat(c,"_max-calculation")]=r[a._name]._max),N.default.isUndefined(a._type)||(e["".concat(c,"_tabcat2")]=e["".concat(c,"_ability_type")]=a._type.substr(0,2))}})}function I(e,t,a){for(var n,r=new Object,i=N.default.without(N.default.map(a.split(";")[a.split(";").length-1].trim().split(/[\+\-]/),function(e){var t=e.split("d");return t.length<2?null:{dice:t[0],die:t[1]}}),null),l=0;l<t.length;){if(n=t[l],l>=5)return;l>0&&(e["class".concat(l,"_show")]=1),r[n._name.replace(/\(([^\)]*)\)/g,"").replace("(","").replace(")","").trim()]=n,e["class-".concat(l,"-name")]=n._name,e["class-".concat(l,"-level")]=n._level;var o=N.default.find(i,function(e){return e.dice===n._level});N.default.isUndefined(o)||(e["class-".concat(l,"-hd")]=o.die,i=N.default.without(i,o)),l++}return i.length>0&&(e["npc-hd"]=i[0].die),r}function S(e,t,a,n){var r,i,l,c,u,f,d,m=new Object,_=0,g=0;for(r=0;r<t.length;r++){var b=t[r];if(g>=3)return m;var y=b._name.replace(/\(([^\)]*)\)/g,"").replace("(","").replace(")","").trim(),h=N.default.indexOf(Object.keys(a),N.default.find(Object.keys(a),function(e){return-1!==e.toLowerCase().indexOf(y.toLowerCase())}));if(-1!==h){if(u=o(a[y]._casterlevel),e["spellclass-".concat(g)]=h,e["spellclass-".concat(g,"-level-misc")]=u-o(a[y]._level),e["spellclass-".concat(g,"-level")]=o(a[y]._level),e["spellclass-".concat(g,"-level-total")]=u,e["spellclass-".concat(g,"-name")]=a[y]._name.replace(/\(.*\)/g,"").trim(),e["spellclass-".concat(g,"-exists")]=1,e["spellclass-".concat(g,"-close")]=25+5*Math.floor(u/2),e["spellclass-".concat(g,"-medium")]=100+10*u,e["spellclass-".concat(g,"-long")]=400+40*u,N.default.isUndefined(a[y].arcanespellfailure)||(e["armor3-spell-fail"]=o(a[y].arcanespellfailure._value)),!N.default.isUndefined(a[y]._basespelldc))for(_=o(a[y]._basespelldc)-10,i=3;i<n.length;i++)if(o(n[i].attrbonus._modified)===_){e["Concentration-".concat(g,"-ability")]="".concat(n[i]._name.substr(0,3).toUpperCase(),"-mod");break}if(0!==_){if(N.default.isUndefined(a[y]._concentrationcheck)||(f=o(a[y]._concentrationcheck)-u-_,e["Concentration-".concat(g,"-misc")]=f,e["Concentration-".concat(g)]=o(a[y]._concentrationcheck),e["Concentration-".concat(g,"-mod")]=_),N.default.isUndefined(a[y].overcomespellresistance)||(d=o(a[y].overcomespellresistance)-u,e["spellclass-".concat(g,"-SP_misc")]=d),!N.default.isUndefined(t[r].spelllevel)){for(i=0;i<10;i++)e["spellclass-".concat(g,"-level-").concat(i,"-spells-per-day_max")]=0;for(t[r].spelllevel=p(t[r].spelllevel),i=0;i<t[r].spelllevel.length;i++)l=o(t[r].spelllevel[i]._maxcasts),c=o(t[r].spelllevel[i]._level),e["spellclass-".concat(g,"-level-").concat(c,"-spells-per-day_max")]=l,c>0&&(l-=s(_,c)),l<0&&(l=""),e["spellclass-".concat(g,"-level-").concat(c,"-class")]=l}e["spellclass-".concat(g,"-level-1-bonus")]=s(_,1),e["spellclass-".concat(g,"-level-2-bonus")]=s(_,2),e["spellclass-".concat(g,"-level-3-bonus")]=s(_,3),e["spellclass-".concat(g,"-level-4-bonus")]=s(_,4),e["spellclass-".concat(g,"-level-5-bonus")]=s(_,5),e["spellclass-".concat(g,"-level-6-bonus")]=s(_,6),e["spellclass-".concat(g,"-level-7-bonus")]=s(_,7),e["spellclass-".concat(g,"-level-8-bonus")]=s(_,8),e["spellclass-".concat(g,"-level-9-bonus")]=s(_,9)}m[y]=a[Object.keys(a)[h]],g++}}return g>1&&(e.spellclasses_multiclassed=1),m}function P(e,t){var a=["Abjurer","Conjurer","Diviner","Enchanter","Evoker","Illusionist","Necromancer","Transmuter"],n="repeating_spells";getSectionIDs(n,function(r){var i=N.default.union(N.default.map(r,function(e){return"".concat(n,"_").concat(e,"_name")}),N.default.map(r,function(e){return"".concat(n,"_").concat(e,"_spellclass_number")}));getAttrs(i,function(r){var i={},l=Object.keys(r);N.default.each(l,function(e){var t;-1!==e.indexOf("_name")&&(t=e.substring(n.length+1,e.indexOf("_name")),N.default.isUndefined(i[t])&&(i[t]={rowID:t}),i[t].name=r[e]),-1!==e.indexOf("_spellclass_number")&&(t=e.substring(n.length+1,e.indexOf("_spellclass_number")),N.default.isUndefined(i[t])&&(i[t]={rowID:t}),i[t].spellclass=r[e])});var s=Object.keys(t),c={};N.default.each(e,function(e){var r,l,u,p,f,d;switch(d=o(e._level),n="repeating_spells_",p=e._name.replace(/\(x\d+\)/,"").trim(),""===e._class?(l=0,u=s[0]):(u=e._class,-1===(l=N.default.indexOf(s,u))&&(u=N.default.intersection(s,a)[0],l=N.default.indexOf(s,u))),r=b(i,p,l),N.default.isUndefined(r)&&(console.log("Undefined spell row ID!"),console.log(e)),n+=r,c["".concat(n,"_name")]=p,c["".concat(n,"_spell_level_r")]=c["".concat(n,"_spell_level")]=d,c["".concat(n,"_spellclass_number")]=l,c["".concat(n,"_spellclass")]=u,c["".concat(n,"_components")]=e._componenttext.replace("Divine Focus","DF").replace("Focus","F").replace("Material","M").replace("Verbal","V").replace("Somatic","S").replace(" or ","/"),c["".concat(n,"_duration")]=e._duration,c["".concat(n,"_save")]=e._save.replace(/DC \d+/,"").trim(),c["".concat(n,"_savedc")]=o(e._dc),c["".concat(n,"_cast-time")]=e._casttime,c["".concat(n,"_DC_misc")]=o(e._dc)-o(t[""!==u?u:Object.keys(t)[0]]._basespelldc)-d,c["".concat(n,"_CL_misc")]=o(e._casterlevel)-o(t[""!==u?u:Object.keys(t)[0]]._casterlevel),c["".concat(n,"_casterlevel")]=e._casterlevel,-1!==e._resist.toLowerCase().indexOf("yes")?-1!==e._resist.toLowerCase().indexOf("harmless")?c["".concat(n,"_sr")]="Yes (Harmless)":-1!==e._resist.toLowerCase().indexOf("object")?c["".concat(n,"_sr")]="Yes (Object)":c["".concat(n,"_sr")]="Yes":-1!==e._resist.toLowerCase().indexOf("no")?c["".concat(n,"_sr")]="No":c["".concat(n,"_sr")]="",e._range.toLowerCase()){case"close (25 + 5 ft./2 levels)":c["".concat(n,"_range_pick")]="close";break;case"medium (100 + 10 ft./level)":c["".concat(n,"_range_pick")]="medium";break;case"long (400 + 40 ft./level)":c["".concat(n,"_range_pick")]="long";break;case"touch":case"personal":c["".concat(n,"_range_pick")]=e._range.toLowerCase();break;default:c["".concat(n,"_range_pick")]="number",c["".concat(n,"_range")]=e._range}""!==e._area?c["".concat(n,"_targets")]=e._area:""!==e._effect?c["".concat(n,"_targets")]=e._effect:c["".concat(n,"_targets")]=e._target,f=e._schooltext,""!==e._subschooltext&&(f="".concat(f," (").concat(e._subschooltext,")")),""!==e._descriptortext&&(f="".concat(f," [").concat(e._descriptortext,"]")),c["".concat(n,"_school")]=f,c["".concat(n,"_description")]=e.description}),setAttrs(c,{silent:!0},function(){W.resetOptions(),B.resetCommandMacro()})})})}function x(e){for(var t=e.match(/\d+d\d/g),a=0,n=0;n<t.length;)a+=parseInt(t[n].split("d")[0]),n++;return a}function T(e){var t=new Object;return N.default.each(e,function(e,a){if(-1===e._name.indexOf("("))return void(t[a]=[]);var n=e._name.match(/\(([^\)]*)\)/)[0].replace("(","").replace(")",""),r=n.split(",");r=N.default.map(r,function(e){return e.trim()}),t[a]=r}),t}function O(e,t){if(!e.length)return-1;var a=Object.keys(t),n=N.default.intersection(e,a);if(n.length)return a.indexOf(n[0]);var r=N.default.find(a,function(a){return N.default.intersection(t[a],e).length});return r?a.indexOf(r):-1}function M(e,t,a,n){var r;switch(Math.abs(a)){case 0:r=0;break;case 1:r=2;break;case 2:r=4;break;case 4:r=6;break;case 8:r=8;break;case 16:r=10;break;default:r=0}a<0&&(r*=-1),N.default.extend(e,{"acrobatics-ability":"","acrobatics-cs":"","acrobatics-ranks":"","acrobatics-class":"","acrobatics-ability-mod":"","acrobatics-racial":"","acrobatics-feat":"","acrobatics-item":"","acrobatics-size":"","acrobatics-acp":"","acrobatics-misc":"","acrobatics-reqtrain":"","artistry-ability":"","artistry-cs":"","artistry-ranks":"","artistry-class":"","artistry-ability-mod":"","artistry-racial":"","artistry-feat":"","artistry-item":"","artistry-size":"","artistry-acp":"","artistry-misc":"","artistry-reqtrain":"","artistry2-ability":"","artistry2-cs":"","artistry2-ranks":"","artistry2-class":"","artistry2-ability-mod":"","artistry2-racial":"","artistry2-feat":"","artistry2-item":"","artistry2-size":"","artistry2-acp":"","artistry2-misc":"","artistry2-reqtrain":"","artistry3-ability":"","artistry3-cs":"","artistry3-ranks":"","artistry3-class":"","artistry3-ability-mod":"","artistry3-racial":"","artistry3-feat":"","artistry3-item":"","artistry3-size":"","artistry3-acp":"","artistry3-misc":"","artistry3-reqtrain":"","appraise-ability":"","appraise-cs":"","appraise-ranks":"","appraise-class":"","appraise-ability-mod":"","appraise-racial":"","appraise-feat":"","appraise-item":"","appraise-size":"","appraise-acp":"","appraise-misc":"","appraise-reqtrain":"","bluff-ability":"","bluff-cs":"","bluff-ranks":"","bluff-class":"","bluff-ability-mod":"","bluff-racial":"","bluff-feat":"","bluff-item":"","bluff-size":"","bluff-acp":"","bluff-misc":"","bluff-reqtrain":"","climb-ability":"","climb-cs":"","climb-ranks":"","climb-class":"","climb-ability-mod":"","climb-racial":"","climb-feat":"","climb-item":"","climb-size":"","climb-acp":"","climb-misc":"","climb-reqtrain":"","craft-ability":"","craft-cs":"","craft-ranks":"","craft-class":"","craft-ability-mod":"","craft-racial":"","craft-feat":"","craft-item":"","craft-size":"","craft-acp":"","craft-misc":"","craft-reqtrain":"","craft2-ability":"","craft2-cs":"","craft2-ranks":"","craft2-class":"","craft2-ability-mod":"","craft2-racial":"","craft2-feat":"","craft2-item":"","craft2-size":"","craft2-acp":"","craft2-misc":"","craft2-reqtrain":"","craft3-ability":"","craft3-cs":"","craft3-ranks":"","craft3-class":"","craft3-ability-mod":"","craft3-racial":"","craft3-feat":"","craft3-item":"","craft3-size":"","craft3-acp":"","craft3-misc":"","craft3-reqtrain":"","diplomacy-ability":"","diplomacy-cs":"","diplomacy-ranks":"","diplomacy-class":"","diplomacy-ability-mod":"","diplomacy-racial":"","diplomacy-feat":"","diplomacy-item":"","diplomacy-size":"","diplomacy-acp":"","diplomacy-misc":"","diplomacy-reqtrain":"","disable-device-ability":"","disable-device-cs":"","disable-device-ranks":"","disable-device-class":"","disable-device-ability-mod":"","disable-device-racial":"","disable-device-feat":"","disable-device-item":"","disable-device-size":"","disable-device-acp":"","disable-device-misc":"","disable-device-reqtrain":"","disguise-ability":"","disguise-cs":"","disguise-ranks":"","disguise-class":"","disguise-ability-mod":"","disguise-racial":"","disguise-feat":"","disguise-item":"","disguise-size":"","disguise-acp":"","disguise-misc":"","disguise-reqtrain":"","escape-artist-ability":"","escape-artist-cs":"","escape-artist-ranks":"","escape-artist-class":"","escape-artist-ability-mod":"","escape-artist-racial":"","escape-artist-feat":"","escape-artist-item":"","escape-artist-size":"","escape-artist-acp":"","escape-artist-misc":"","escape-artist-reqtrain":"","fly-ability":"","fly-cs":"","fly-ranks":"","fly-class":"","fly-ability-mod":"","fly-racial":"","fly-feat":"","fly-item":"","fly-size":"","fly-acp":"","fly-misc":"","fly-reqtrain":"","handle-animal-ability":"","handle-animal-cs":"","handle-animal-ranks":"","handle-animal-class":"","handle-animal-ability-mod":"","handle-animal-racial":"","handle-animal-feat":"","handle-animal-item":"","handle-animal-size":"","handle-animal-acp":"","handle-animal-misc":"","handle-animal-reqtrain":"","heal-ability":"","heal-cs":"","heal-ranks":"","heal-class":"","heal-ability-mod":"","heal-racial":"","heal-feat":"","heal-item":"","heal-size":"","heal-acp":"","heal-misc":"","heal-reqtrain":"","intimidate-ability":"","intimidate-cs":"","intimidate-ranks":"","intimidate-class":"","intimidate-ability-mod":"","intimidate-racial":"","intimidate-feat":"","intimidate-item":"","intimidate-size":"","intimidate-acp":"","intimidate-misc":"","intimidate-reqtrain":"","linguistics-ability":"","linguistics-cs":"","linguistics-ranks":"","linguistics-class":"","linguistics-ability-mod":"","linguistics-racial":"","linguistics-feat":"","linguistics-item":"","linguistics-size":"","linguistics-acp":"","linguistics-misc":"","linguistics-reqtrain":"","lore-ability":"","lore-cs":"","lore-ranks":"","lore-class":"","lore-ability-mod":"","lore-racial":"","lore-feat":"","lore-item":"","lore-size":"","lore-acp":"","lore-misc":"","lore-reqtrain":"","lore2-ability":"","lore2-cs":"","lore2-ranks":"","lore2-class":"","lore2-ability-mod":"","lore2-racial":"","lore2-feat":"","lore2-item":"","lore2-size":"","lore2-acp":"","lore2-misc":"","lore2-reqtrain":"","lore3-ability":"","lore3-cs":"","lore3-ranks":"","lore3-class":"","lore3-ability-mod":"","lore3-racial":"","lore3-feat":"","lore3-item":"","lore3-size":"","lore3-acp":"","lore3-misc":"","lore3-reqtrain":"","knowledge-arcana-ability":"","knowledge-arcana-cs":"","knowledge-arcana-ranks":"","knowledge-arcana-class":"","knowledge-arcana-ability-mod":"","knowledge-arcana-racial":"","knowledge-arcana-feat":"","knowledge-arcana-item":"","knowledge-arcana-size":"","knowledge-arcana-acp":"","knowledge-arcana-misc":"","knowledge-arcana-reqtrain":"","knowledge-dungeoneering-ability":"","knowledge-dungeoneering-cs":"","knowledge-dungeoneering-ranks":"","knowledge-dungeoneering-class":"","knowledge-dungeoneering-ability-mod":"","knowledge-dungeoneering-racial":"","knowledge-dungeoneering-feat":"","knowledge-dungeoneering-item":"","knowledge-dungeoneering-size":"","knowledge-dungeoneering-acp":"","knowledge-dungeoneering-misc":"","knowledge-dungeoneering-reqtrain":"","knowledge-engineering-ability":"","knowledge-engineering-cs":"","knowledge-engineering-ranks":"","knowledge-engineering-class":"","knowledge-engineering-ability-mod":"","knowledge-engineering-racial":"","knowledge-engineering-feat":"","knowledge-engineering-item":"","knowledge-engineering-size":"","knowledge-engineering-acp":"","knowledge-engineering-misc":"","knowledge-engineering-reqtrain":"","knowledge-geography-ability":"","knowledge-geography-cs":"","knowledge-geography-ranks":"","knowledge-geography-class":"","knowledge-geography-ability-mod":"","knowledge-geography-racial":"","knowledge-geography-feat":"","knowledge-geography-item":"","knowledge-geography-size":"","knowledge-geography-acp":"","knowledge-geography-misc":"","knowledge-geography-reqtrain":"","knowledge-history-ability":"","knowledge-history-cs":"","knowledge-history-ranks":"","knowledge-history-class":"","knowledge-history-ability-mod":"","knowledge-history-racial":"","knowledge-history-feat":"","knowledge-history-item":"","knowledge-history-size":"","knowledge-history-acp":"","knowledge-history-misc":"","knowledge-history-reqtrain":"","knowledge-local-ability":"","knowledge-local-cs":"","knowledge-local-ranks":"","knowledge-local-class":"","knowledge-local-ability-mod":"","knowledge-local-racial":"","knowledge-local-feat":"","knowledge-local-item":"","knowledge-local-size":"","knowledge-local-acp":"","knowledge-local-misc":"","knowledge-local-reqtrain":"","knowledge-nature-ability":"","knowledge-nature-cs":"","knowledge-nature-ranks":"","knowledge-nature-class":"","knowledge-nature-ability-mod":"","knowledge-nature-racial":"","knowledge-nature-feat":"","knowledge-nature-item":"","knowledge-nature-size":"","knowledge-nature-acp":"","knowledge-nature-misc":"","knowledge-nature-reqtrain":"","knowledge-nobility-ability":"","knowledge-nobility-cs":"","knowledge-nobility-ranks":"","knowledge-nobility-class":"","knowledge-nobility-ability-mod":"","knowledge-nobility-racial":"","knowledge-nobility-feat":"","knowledge-nobility-item":"","knowledge-nobility-size":"","knowledge-nobility-acp":"","knowledge-nobility-misc":"","knowledge-nobility-reqtrain":"","knowledge-planes-ability":"","knowledge-planes-cs":"","knowledge-planes-ranks":"","knowledge-planes-class":"","knowledge-planes-ability-mod":"","knowledge-planes-racial":"","knowledge-planes-feat":"","knowledge-planes-item":"","knowledge-planes-size":"","knowledge-planes-acp":"","knowledge-planes-misc":"","knowledge-planes-reqtrain":"","knowledge-religion-ability":"","knowledge-religion-cs":"","knowledge-religion-ranks":"","knowledge-religion-class":"","knowledge-religion-ability-mod":"","knowledge-religion-racial":"","knowledge-religion-feat":"","knowledge-religion-item":"","knowledge-religion-size":"","knowledge-religion-acp":"","knowledge-religion-misc":"","knowledge-religion-reqtrain":"","perception-ability":"","perception-cs":"","perception-ranks":"","perception-class":"","perception-ability-mod":"","perception-racial":"","perception-feat":"","perception-item":"","perception-size":"","perception-acp":"","perception-misc":"","perception-reqtrain":"","perform-ability":"","perform-cs":"","perform-ranks":"","perform-class":"","perform-ability-mod":"","perform-racial":"","perform-feat":"","perform-item":"","perform-size":"","perform-acp":"","perform-misc":"","perform-reqtrain":"","perform2-ability":"","perform2-cs":"","perform2-ranks":"","perform2-class":"","perform2-ability-mod":"","perform2-racial":"","perform2-feat":"","perform2-item":"","perform2-size":"","perform2-acp":"","perform2-misc":"","perform2-reqtrain":"","perform3-ability":"","perform3-cs":"","perform3-ranks":"","perform3-class":"","perform3-ability-mod":"","perform3-racial":"","perform3-feat":"","perform3-item":"","perform3-size":"","perform3-acp":"","perform3-misc":"","perform3-reqtrain":"","profession-ability":"","profession-cs":"","profession-ranks":"","profession-class":"","profession-ability-mod":"","profession-racial":"","profession-feat":"","profession-item":"","profession-size":"","profession-acp":"","profession-misc":"","profession-reqtrain":"","profession2-ability":"","profession2-cs":"","profession2-ranks":"","profession2-class":"","profession2-ability-mod":"","profession2-racial":"","profession2-feat":"","profession2-item":"","profession2-size":"","profession2-acp":"","profession2-misc":"","profession2-reqtrain":"","profession3-ability":"","profession3-cs":"","profession3-ranks":"","profession3-class":"","profession3-ability-mod":"","profession3-racial":"","profession3-feat":"","profession3-item":"","profession3-size":"","profession3-acp":"","profession3-misc":"","profession3-reqtrain":"","ride-ability":"","ride-cs":"","ride-ranks":"","ride-class":"","ride-ability-mod":"","ride-racial":"","ride-feat":"","ride-item":"","ride-size":"","ride-acp":"","ride-misc":"","ride-reqtrain":"","sense-motive-ability":"","sense-motive-cs":"","sense-motive-ranks":"","sense-motive-class":"","sense-motive-ability-mod":"","sense-motive-racial":"","sense-motive-feat":"","sense-motive-item":"","sense-motive-size":"","sense-motive-acp":"","sense-motive-misc":"","sense-motive-reqtrain":"","sleight-of-hand-ability":"","sleight-of-hand-cs":"","sleight-of-hand-ranks":"","sleight-of-hand-class":"","sleight-of-hand-ability-mod":"","sleight-of-hand-racial":"","sleight-of-hand-feat":"","sleight-of-hand-item":"","sleight-of-hand-size":"","sleight-of-hand-acp":"","sleight-of-hand-misc":"","sleight-of-hand-reqtrain":"","spellcraft-ability":"","spellcraft-cs":"","spellcraft-ranks":"","spellcraft-class":"","spellcraft-ability-mod":"","spellcraft-racial":"","spellcraft-feat":"","spellcraft-item":"","spellcraft-size":"","spellcraft-acp":"","spellcraft-misc":"","spellcraft-reqtrain":"","stealth-ability":""," stealth-cs":"","stealth-ranks":"","stealth-class":"","stealth-ability-mod":"","stealth-racial":"","stealth-feat":"","stealth-item":"","stealth-size":"","stealth-acp":"","stealth-misc":"","stealth-reqtrain":"","survival-ability":"","survival-cs":"","survival-ranks":"","survival-class":"","survival-ability-mod":"","survival-racial":"","survival-feat":"","survival-item":"","survival-size":"","survival-acp":"","survival-misc":"","survival-reqtrain":"","swim-ability":"","swim-cs":"","swim-ranks":"","swim-class":"","swim-ability-mod":"","swim-racial":"","swim-feat":"","swim-item":"","swim-size":"","swim-acp":"","swim-misc":"","swim-reqtrain":"","use-magic-device-ability":"","use-magic-device-cs":"","use-magic-device-ranks":"","use-magic-device-class":"","use-magic-device-ability-mod":"","use-magic-device-racial":"","use-magic-device-feat":"","use-magic-device-item":"","use-magic-device-size":"","use-magic-device-acp":"","use-magic-device-misc":"","use-magic-device-reqtrain":"","misc-skill-0-ability":"","misc-skill-0-cs":"","misc-skill-0-ranks":"","misc-skill-0-class":"","misc-skill-0-ability-mod":"","misc-skill-0-racial":"","misc-skill-0-feat":"","misc-skill-0-item":"","misc-skill-0-size":"","misc-skill-0-acp":"","misc-skill-0-misc":"","misc-skill-0-reqtrain":"","misc-skill-1-ability":"","misc-skill-1-cs":"","misc-skill-1-ranks":"","misc-skill-1-class":"","misc-skill-1-ability-mod":"","misc-skill-1-racial":"","misc-skill-1-feat":"","misc-skill-1-item":"","misc-skill-1-size":"","misc-skill-1-acp":"","misc-skill-1-misc":"","misc-skill-1-reqtrain":"","misc-skill-2-ability":"","misc-skill-2-cs":"","misc-skill-2-ranks":"","misc-skill-2-class":"","misc-skill-2-ability-mod":"","misc-skill-2-racial":"","misc-skill-2-feat":"","misc-skill-2-item":"","misc-skill-2-size":"","misc-skill-2-acp":"","misc-skill-2-misc":"","misc-skill-2-reqtrain":"","misc-skill-3-ability":"","misc-skill-3-cs":"","misc-skill-3-ranks":"","misc-skill-3-class":"","misc-skill-3-ability-mod":"","misc-skill-3-racial":"","misc-skill-3-feat":"","misc-skill-3-item":"","misc-skill-3-size":"","misc-skill-3-acp":"","misc-skill-3-misc":"","misc-skill-3-reqtrain":"","misc-skill-4-ability":"","misc-skill-4-cs":"","misc-skill-4-ranks":"","misc-skill-4-class":"","misc-skill-4-ability-mod":"","misc-skill-4-racial":"","misc-skill-4-feat":"","misc-skill-4-item":"","misc-skill-4-size":"","misc-skill-4-acp":"","misc-skill-4-misc":"","misc-skill-4-reqtrain":"","misc-skill-5-ability":"","misc-skill-5-cs":"","misc-skill-5-ranks":"","misc-skill-5-class":"","misc-skill-5-ability-mod":"","misc-skill-5-racial":"","misc-skill-5-feat":"","misc-skill-5-item":"","misc-skill-5-size":"","misc-skill-5-acp":"","misc-skill-5-misc":"","misc-skill-5-reqtrain":"","craft-name":"","craft2-name":"","craft3-name":"","lore-name":"","perform-name":"","perform2-name":"","perform3-name":"","profession-name":"","profession2-name":"","profession3-name":"","misc-skill-0-name":"","misc-skill-1-name":"","misc-skill-2-name":"","misc-skill-3-name":"","misc-skill-4-name":"","misc-skill-5-name":""});var i,l,s,c=1,u=1,f=1,d=1,m=1,_=0,g=0;for(g=0;g<t.length;g++){if(i=t[g],-1!==i._name.indexOf("Craft"))1===c?(s="craft",null!==i._name.match(/\(([^\)]*)\)/)&&(e["craft-name"]=i._name.match(/\(([^\)]*)\)/)[0].replace("(","").replace(")","")),c++):c<=10?(s="craft".concat(c),null!==i._name.match(/\(([^\)]*)\)/)&&(e["craft".concat(c,"-name")]=i._name.match(/\(([^\)]*)\)/)[0].replace("(","").replace(")","")),c++):_<=10?(s="misc-skill-".concat(_),null!==i._name.match(/\(([^\)]*)\)/)&&(e["".concat(s,"-name")]=i._name),_++):console.log("Ran out of misc skills for ".concat(i._name,"!"));else if(-1!==i._name.indexOf("Perform"))1===u?(s="perform",null!==i._name.match(/\(([^\)]*)\)/)&&(e["perform-name"]=i._name.match(/\(([^\)]*)\)/)[0].replace("(","").replace(")","")),u++):u<=10?(s="perform".concat(u),null!==i._name.match(/\(([^\)]*)\)/)&&(e["perform".concat(u,"-name")]=i._name.match(/\(([^\)]*)\)/)[0].replace("(","").replace(")","")),u++):_<=10?(s="misc-skill-".concat(_),null!==i._name.match(/\(([^\)]*)\)/)&&(e["".concat(s,"-name")]=i._name),_++):console.log("Ran out of misc skills for ".concat(i._name,"!"));else if(-1!==i._name.indexOf("Profession"))1===f?(s="profession",null!==i._name.match(/\(([^\)]*)\)/)&&(e["profession-name"]=i._name.match(/\(([^\)]*)\)/)[0].replace("(","").replace(")","")),f++):f<=10?(s="profession".concat(f),null!==i._name.match(/\(([^\)]*)\)/)&&(e["profession".concat(f,"-name")]=i._name.match(/\(([^\)]*)\)/)[0].replace("(","").replace(")","")),f++):_<=10?(s="misc-skill-".concat(_),null!==i._name.match(/\(([^\)]*)\)/)&&(e["".concat(s,"-name")]=i._name),_++):console.log("Ran out of misc skills for ".concat(i._name,"!"));else if(-1!==i._name.indexOf("Knowledge"))switch(i._name.match(/\(([^\)]*)\)/g)[0]){case"(arcana)":case"(dungeoneering)":case"(engineering)":case"(geography)":case"(history)":case"(local)":case"(nature)":case"(nobility)":case"(planes)":case"(religion)":s=i._name.toLowerCase().replace(/\s/g,"-").replace("(","").replace(")","");break;default:s="misc-skill-".concat(_),e["".concat(s,"-name")]=i._name,_++}else-1!==i._name.indexOf("Artistry")?1===d?(s="artistry",e["artistry-name"]=i._name.match(/\(([^\)]*)\)/)[0].replace("(","").replace(")",""),d++):d<=10?(s="artistry".concat(d),e["artistry".concat(d,"-name")]=i._name.match(/\(([^\)]*)\)/)[0].replace("(","").replace(")",""),d++):_<=10?(s="misc-skill-".concat(_),e["".concat(s,"-name")]=i._name,_++):console.log("Ran out of misc skills for ".concat(i._name,"!")):-1!==i._name.indexOf("Lore")?1===m?(s="lore",e["lore-name"]=i._name.match(/\(([^\)]*)\)/)[0].replace("(","").replace(")",""),m++):m<=10?(s="lore".concat(m),e["lore".concat(m,"-name")]=i._name.match(/\(([^\)]*)\)/)[0].replace("(","").replace(")",""),m++):_<=10?(s="misc-skill-".concat(_),e["".concat(s,"-name")]=i._name,_++):console.log("Ran out of misc skills for ".concat(i._name,"!")):s=i._name.toLowerCase().replace(/\s/g,"-").replace("(","").replace(")","").replace("-hand","-Hand").replace("e-device","e-Device").replace("-artist","-Artist").replace("-animal","-Animal");if(e[s]=o(i._value),e["".concat(s,"-ranks")]=o(i._ranks),e["".concat(s,"-ability")]="".concat(i._attrname,"-mod"),e["".concat(s,"-ability-mod")]=o(i._attrbonus),"yes"===i._classskill&&(e["".concat(s,"-cs")]=3),l=o(i._value)-o(i._ranks)-o(i._attrbonus),0!==o(i._ranks)&&"yes"===i._classskill&&(l-=3),"yes"===i._armorcheck&&(l-=n),"Fly"===i._name&&(l-=r),"Stealth"===i._name&&(l-=2*r),e["".concat(s,"-misc")]=l,"yes"===i._trainedonly&&(e["".concat(s,"-ReqTrain")]=1),!N.default.isUndefined(i.situationalmodifiers.situationalmodifier)){var b="";i.situationalmodifiers.situationalmodifier=p(i.situationalmodifiers.situationalmodifier);for(var y=0;y<i.situationalmodifiers.situationalmodifier.length;)b="".concat(b,"}} {{").concat(i.situationalmodifiers.situationalmodifier[y]._source,"=").concat(i.situationalmodifiers.situationalmodifier[y]._text),y++;e["".concat(s,"-note")]=b}}var h=Math.max(c,u,f,d,m);e.custom_skill_num_show=h>6?10:h>3?6:h>2?3:h>2?2:1,e.misc_skill_num_show=_>6?10:_>3?6:_>2?3:_>2?2:1}function D(e,t){for(var a=0,n=0;n<t.length;)"Armor Check Penalty"===t[n]._name?(a=o(t[n]._value),e["armor3-acp"]=a):"Max Dex Bonus"===t[n]._name&&(e["armor3-max-dex"]=Math.min(99,o(t[n]._value))),n++;return a}function E(e,t,a){e.AC=o(t._ac),e.Touch=o(t._touch),e["Flat-Footed"]=o(t._flatfooted),e["AC-natural"]=o(t._fromnatural),e["AC-deflect"]=o(t._fromdeflect),e["AC-dodge"]=o(t._fromdodge),e["AC-armor"]=o(t._fromarmor),e["AC-shield"]=o(t._fromshield),""===t._fromdexterity?""!==t._fromcharisma?(e["AC-ability"]="CHA-mod",e["AC-ability-mod"]=e["AC-ability-display"]=o(t._fromcharisma),e["AC-misc"]=o(t._ac)-10-o(t._fromarmor)-o(t._fromshield)-o(t._fromcharisma)-o(t._fromsize)-o(t._fromnatural)-o(t._fromdeflect)-o(t._fromdodge)):""!==t._fromwisdom&&(e["AC-ability"]="WIS-mod",e["AC-ability-mod"]=e["AC-ability-display"]=o(t._fromwisdom),e["AC-misc"]=o(t._ac)-10-o(t._fromarmor)-o(t._fromshield)-o(t._fromwisdom)-o(t._fromsize)-o(t._fromnatural)-o(t._fromdeflect)-o(t._fromdodge)):(e["AC-ability"]="DEX-mod",e["AC-ability-mod"]=e["AC-ability-display"]=o(t._fromdexterity),e["AC-misc"]=o(t._ac)-10-o(t._fromarmor)-o(t._fromshield)-o(t._fromdexterity)-o(t._fromsize)-o(t._fromnatural)-o(t._fromdeflect)-o(t._fromdodge))}function F(e){var t={};d(t,e.attributes.attribute),m(t,e.saves);var a,n,r={};if(!N.default.isUndefined(e.classes.class)){if(e.classes.class=p(e.classes.class),a=I(t,e.classes.class,e.health._hitdice),!N.default.isUndefined(e.spellclasses.spellclass)){t.use_spells=1,e.spellclasses.spellclass=p(e.spellclasses.spellclass),n=S(t,e.spellclasses.spellclass,a,e.attributes.attribute);var i=p(e.spellsknown.spell).concat(p(e.spellbook.spell)).concat(p(e.spellsmemorized.spell)),l=[];i=N.default.reject(i,function(e){return!!N.default.contains(l,e._name)||(l.concat(e._name),!1)}),P(i,n)}r=T(a)}e.penalties.penalty=p(e.penalties.penalty);var s=D(t,e.penalties.penalty),_={};_.ACP=o(t["armor3-acp"]),_.maxDex=o(t["armor3-max-dex"]),_.spellfail=o(t["armor3-spell-fail"]),E(t,e.armorclass,_),N.default.isUndefined(t["armor3-acp"])||delete t["armor3-acp"],N.default.isUndefined(t["armor3-spell-fail"])||delete t["armor3-spell-fail"];var g=N.default.reject(p(e.defenses.armor||{}),function(e){return N.default.isUndefined(e._name)}),b=N.default.reject(p(e.melee.weapon||{}).concat(p(e.ranged.weapon||{})),function(e){return N.default.isUndefined(e._name)}),y=N.default.object(N.default.map(e.trackedresources.trackedresource,function(e){return[e._name,e]})),v=N.default.reject(p(e.magicitems.item||{}).concat(p(e.gear.item||{})),function(e){return N.default.isUndefined(e._name)}),O=N.default.map(v,function(e){return e._name}),F=N.default.reject(p(e.attack.special).concat(p(e.defenses.special),p(e.otherspecials.special),p(e.movement.special),p(e.defensive.special)),function(e){return N.default.contains(O,e._name)});k(v,y,_,g,b),getSectionIDs("repeating_ability",function(t){var a=N.default.union(N.default.map(t,function(e){return"repeating_ability_".concat(e,"_name")}),N.default.map(t,function(e){return"repeating_ability_".concat(e,"_rule_category")}));getAttrs(a,function(t){var a={},n=Object.keys(t),i={};if(N.default.each(n,function(e){var n;-1!==e.indexOf("_name")&&(n=e.substring("repeating_ability_".length,e.indexOf("_name")),N.default.isUndefined(a[n])&&(a[n]={rowID:n}),a[n].name=t[e]),-1!==e.indexOf("_rule_category")&&(n=e.substring("repeating_ability_".length,e.indexOf("_rule_category")),N.default.isUndefined(a[n])&&(a[n]={rowID:n}),a[n].rulecategory=t[e])}),!N.default.isUndefined(e.feats.feat)){var l=N.default.filter(a,N.default.matcher({rulecategory:"feats"})),o={};N.default.each(l,function(e){o[e.rowID]=e.name}),e.feats.feat=p(e.feats.feat),h(i,e.feats.feat,o,y)}if(!N.default.isUndefined(e.traits.trait)){var s=N.default.filter(a,N.default.matcher({rulecategory:"traits"})),c={};N.default.each(s,function(e){c[e.rowID]=e.name}),e.traits.trait=p(e.traits.trait),w(i,e.traits.trait,c,y)}if(!N.default.isUndefined(e.spelllike.special)){var u=N.default.filter(a,N.default.matcher({rulecategory:"spell-like-abilities"})),f={};N.default.each(u,function(e){f[e.rowID]=e.name}),e.spelllike.special=p(e.spelllike.special),A(i,e.spelllike.special,f,y)}var d=N.default.filter(a,function(e){return"traits"!==e.rulecategory&&"feats"!==e.rulecategory}),m={};N.default.each(d,function(e){m[e.rowID]=e}),C(i,m,F,r,y),setAttrs(i,{silent:!0})})}),t.experience=parseFloat(e.xp._total),t["class-0-bab"]=t.bab=t["melee_bab-mod"]=t["melee2_bab-mod"]=t["ranged_bab-mod"]=t["ranged2_bab-mod"]=t["melee_bab-mod"]=t["cmb_bab-mod"]=t["cmb2_bab-mod"]=o(e.attack._baseattack),t["non-lethal-damage_max"]=t.HP_max=o(e.health._hitpoints);var R=x(e.health._hitdice);t.level=R,t["HP-ability-mod"]=o(e.attributes.attribute[2].attrbonus._modified),t.hp_ability_bonus=R*o(e.attributes.attribute[2].attrbonus._modified),t["total-hp"]=t["class-0-hp"]=o(e.health._hitpoints)-R*o(e.attributes.attribute[2].attrbonus._modified),f(t,e.initiative);var j=R-o(e.classes._level);j>0&&(t.add_race=1,t["npc-hd-num"]=j);var L=u(e.size._name);if(t.size=L,t.default_char_size=L,t["CMD-size"]=-1*L,e.skills.skill=p(e.skills.skill),M(t,e.skills.skill,L,s),N.default.isUndefined(e.senses.special)||(e.senses.special=p(e.senses.special),t.vision=c(e.senses.special,"_shortname")),N.default.isUndefined(e.damagereduction.special)||(e.damagereduction.special=p(e.damagereduction.special),t.DR=c(e.damagereduction.special,"_shortname")),N.default.isUndefined(e.resistances.special)||(e.resistances.special=p(e.resistances.special),t.resistances=c(e.resistances.special,"_shortname")),N.default.isUndefined(e.immunities.special)||(e.immunities.special=p(e.immunities.special),t.immunities=c(e.immunities.special,"_shortname")),N.default.isUndefined(e.weaknesses.special)||(e.weaknesses.special=p(e.weaknesses.special),t.weaknesses=c(e.weaknesses.special,"_shortname")),N.default.isUndefined(e.languages.language)||(e.languages.language=p(e.languages.language),t.languages=c(e.languages.language,"_name")),t["npc-type"]=p(e.types.type)[0]._name,N.default.isUndefined(e.subtypes.subtype)||(t["npc-type"]="".concat(t["npc-type"]," (").concat(c(p(e.subtypes.subtype),"_name"),")")),t.character_name=e._name,"pc"!==e._role&&(t.is_npc=1,t.tab=8,N.default.isUndefined(e.npc.ecology.npcinfo)||(t.environment=p(e.npc.ecology.npcinfo)[0].text||"",t.organization=p(e.npc.ecology.npcinfo)[1].text||"",t.other_items_treasure=p(e.npc.ecology.npcinfo)[2].text||""),N.default.isUndefined(e.npc.tactics)||(t["npc-during-combat"]=e.npc.tactics||"")),t["player-name"]=e._playername,t.deity=e.deity._name,t.race=e.race._racetext.substr(0,1).toUpperCase()+e.race._racetext.substr(1,1e3),t.alignment=e.alignment._name,t.gender=e.personal._gender,t.age=e.personal._age,t.height=e.personal.charheight._text,t.weight=e.personal.charweight._text,t.hair=e.personal._hair,t.eyes=e.personal._eyes,t.skin=e.personal._skin,t.character_description="pc"!==e._role?e.npc.description:e.personal.description,t["npc-cr"]=e.challengerating._text.replace("CR ",""),t["npc-xp"]=e.xpaward._value,t["speed-base"]=t["speed-modified"]=o(e.movement.speed._value),t.cmb=o(e.maneuvers._total),t.cmd=o(e.maneuvers._cmd),t["ff-cmd"]=o(e.maneuvers._cmdflatfooted),t["cmd-str"]=t["STR-mod"],t["cmd-misc"]=t.cmd-10-t["AC-ability-mod"]-t["cmd-str"]-t["CMD-size"]-t["AC-dodge"]-t["AC-deflect"]-t.bab,t["attk-melee"]=o(e.attack._meleeattack.split("/")[0]),t["attk-ranged"]=t["attk-melee2"]=o(e.attack._rangedattack.split("/")[0]),N.default.isUndefined(e.favoredclasses.favoredclass)||(e.favoredclasses.favoredclass=p(e.favoredclasses.favoredclass),t["class-favored"]=c(e.favoredclasses.favoredclass,"_name")),t["other-PP"]=e.money._pp,t["other-GP"]=e.money._gp,t["other-SP"]=e.money._sp,t["other-CP"]=e.money._cp,t["load-str-bonus"]=o(e.encumbrance._encumstr)-t.STR,t["load-light"]=e.encumbrance._light,t["load-medium"]=e.encumbrance._medium,t["load-heavy"]=t["lift-above-head"]=e.encumbrance._heavy,t["load-max"]=t["lift-off-ground"]=2*o(e.encumbrance._heavy),t["lift-drag-and-push"]=5*o(e.encumbrance._heavy),N.default.isUndefined(e.pathfindersociety)||(t.set_pfs=1,z.setToPFS(null)),!N.default.isUndefined(e.factions.faction)){var W=N.default.find(p(e.factions.faction),function(e){return N.default.isUndefined(e._retired)});N.default.isUndefined(W)||(t.prestige=W._cpa,t.fame=W._tpa,t.faction_notes=W._name)}setAttrs(t,{silent:!0})}function R(){on("change:herolab_import",function(e){j.default.debug("caught ".concat(e.sourceAttribute," event").concat(e.sourceType)),"player"===e.sourceType&&getAttrs(["herolab_import"],function(e){var t;if(!N.default.isUndefined(e.herolab_import))try{t=JSON.parse(e.herolab_import),F(N.default.isArray(t.document.public.character)?t.document.public.character[0]:t.document.public.character),setAttrs({herolab_import:""},{silent:!0})}catch(e){console.log(e),setAttrs({herolab_import:e.message},{silent:!0})}})})}Object.defineProperty(t,"__esModule",{value:!0}),t.parseNum=o,t.bonusSpellSlots=s,t.buildList=c,t.getSizeMod=u,t.arrayify=p,t.importInit=f,t.importAbilityScores=d,t.importSaves=m,t.getOrMakeRowID=_,t.getOrMakeItemRowID=g,t.getOrMakeSpellRowID=b,t.getOrMakeClassRowID=y,t.importFeats=h,t.nameIsShield=v,t.importItems=k,t.importTraits=w,t.importSLAs=A,t.importFeatures=C,t.importClasses=I,t.importSpellClasses=S,t.importSpells=P,t.calcHitDice=x,t.buildArchetypeArray=T,t.getClassSource=O,t.importSkills=M,t.importPenalties=D,t.importAC=E,t.importCharacter=F,t.registerEventHandlers=R;var N=l(a(1)),j=l(a(0)),L=a(3),z=(i(a(41)),i(a(40))),W=i(a(116)),B=i(a(38));R(),L.PFConsole.log("   HLImport module loaded         "),L.PFLog.modulecount++},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t,a;return e=ae.convertDashToMinus(e),e=Y.trimBoth(e),/^Init/i.test(e)||/^[\+\-]{0,1}\d+/.test(e)?t=ae.getIntFromString(e,!0):null!==(a=e.match(/[\+\-]{0,1}\d+$/))?(e=e.slice(a.index),"+"!==e[0]&&(e="-"+e),t=parseInt(e.match(/[\-\+]\d+$/),10)||0):t=ae.getIntFromString(e,!0),t}function s(e){Z.default.debug("buildImportantFeatObj is ",e);var t=$.default.chain(e).filter(function(e){return!!e}).filter(function(e){return ee.default.importantFeatRegExp.test(e)}).map(function(e){return e=Y.trimBoth(e),/\b[A-Z]$/i.test(e)&&(e=e.slice(0,-2),e=Y.trimBoth(e)),e}).reduce(function(e,t){var a,n="",r={},i={},l={},o=[],s="";try{if(t.indexOf("(")>=0&&(a=/(.*?)\((.*)\)/.exec(t),Z.default.debug("looking at "+t+", split into ",a),t=a[1],n=a[2],t=Y.trimBoth(t),n=Y.trimBoth(n)),"improvedcritical"===(t=t.replace(/\s/g,"").toLowerCase())||"criticalmastery"===t)return e;e[t]=1,t.indexOf("critical")>0?(n=t,t="criticaldamage",l=e.criticaldamage||{},l[n]=1,e.criticaldamage=l):t.indexOf("skillfocus")>=0?(s=n.replace(" ","-"))&&(s=s[0].toUpperCase()+s.slice(1),o=e.skillfocuses||[],o.push(s),e.skillfocuses=o):"weaponfinesse"!==t&&"improvedcritical"!==t||(r=e.attacks||{},i=r[n]||{},i[t]=1,r[n]=i,e.attacks=r)}catch(a){Z.default.error("buildImportantFeatObj error:",a),e[t]=1}finally{return e}},{}).value();return Z.default.debug("returning important feats:",t),t}function c(e,t){var a,n={hp:0,hdie1:0,hdice1:0,basehp:0,misc:0,heal:""},r=0,i=0;try{t=t||0,/^hp/i.test(e)&&(e=e.slice(2)),e=ae.replaceMissingNegatives_BadDice(e),e=ae.convertDashToMinus(e),e=e.replace("plus","+"),n.hp=parseInt(e,10)||0,e=e.slice(e.indexOf("(")+1),a=ae.getDiceDieFromString(e,!0),0!==a.dice&&(n.hdice1=a.dice,n.hdie1=a.die,r=t*n.hdice1,n.misc=a.plus-r,n.basehp=ae.getAvgHP(n.hdice1,n.hdie1),i=n.basehp+a.plus,i!==n.hp&&(Z.default.warn("parseNPChp, hp not adding right, should be:"+n.hp+" but getNPCHP returns "+i,n),n.misc+=n.hp-i),e=e.slice(a.spaces+1)),e&&(e=Y.trimBoth(e.replace(/[\);]/g,"")),n.heal=e||"")}catch(e){Z.default.error("parseNPChp",e)}finally{return n}}function u(e,t,a,n){var r,i=0,l="",o={ac:10,touch:10,ff:10,armor:0,shield:0,deflect:0,dex:0,dodge:0,natural:0,misc:0,note:"",size:0,altability:"",acbuff:0,uncanny:0,cmd:10,notes:"",cmdnotes:""};a=a||0,n=n||0;try{/^ac\s/i.test(e)&&(e=e.slice(3)),o.ac=parseInt(e,10)||0,r=t.match(/(\d+)/),r&&r[1]&&(o.cmd=parseInt(r[1],10)||0,(l=t.slice(r.index+r[0].length))&&(l=Y.trimBoth(l),o.cmdnotes=l)),r=e.match(/Touch\s*?(\d+)/i),r&&r[1]&&(o.touch=parseInt(r[1],10)),r=e.match(/Flat\-footed\s*?(\d+)/i),r&&r[1]&&(o.ff=parseInt(r[1],10)),r=e.match(/([+\-]??\d+)\s*?Deflect[,\i\s]/i),r&&r[1]&&(o.deflect=parseInt(r[1],10)),r=e.match(/([+\-]??\d+)\s*?Nat[,u\s]/i),r&&r[1]&&(o.natural=parseInt(r[1],10)),r=e.match(/([+\-]??\d+)\s*?Dodge/i),r&&r[1]&&(o.dodge=parseInt(r[1],10)),r=e.match(/([+\-]??\d+)\s*?Size/i),r&&r[1]&&(o.size=parseInt(r[1],10)),o.size!==n&&(o.size=n),r=e.match(/([+\-]??\d+)\s*?armor/i),r&&r[1]&&(o.armor=parseInt(r[1],10)),r=e.match(/([+\-]??\d+)\s*?shield/i),r&&r[1]&&(o.shield=parseInt(r[1],10)),r=e.match(/\)\s*?(.*)/),r&&r[1]&&(o.note=r[1]),r=e.match(/([+\-]??\d+)\s*?Dex/i),r&&r[1]?(o.dex=parseInt(r[1],10)||0,a!==o.dex&&(o.dex=a)):(r=e.match(/([+\-]??\d+)\s*?(Wis|Int|Str|Con|Cha)/i))&&r[1]&&r[2]&&(o.dex=parseInt(r[1],10)||0,o.altability=r[2].toUppercase()),i=o.dodge+o.dex+o.deflect+o.size+10,o.touch!==i&&(o.misc=o.touch-i),i=o.armor+o.shield+o.dodge+o.dex+o.natural+o.deflect+o.size+o.misc+10,o.ac!==i&&(o.acbuff=o.ac-i),o.ac===o.ff&&(o.dex>0||o.dodge>0)&&(o.uncanny=1)}catch(e){Z.default.error("parseNPCAC",e)}finally{return o}}function p(e){var t=e.split(/,\s*/);return $.default.reduce(t,function(e,t,a){var n,r=0;try{0===a?(r=parseInt(t.match(/(\d+)/)[1],10)||0)&&(e.land=r):(n=t.match(/([\w]+)\s*(\d+)/))&&(r=parseInt(n[2],10)||0)&&(e[n[1].toLowerCase()]=r,/fly/i.test(n[1])&&(n=t.match(/\(([\w]+)\)/))&&n[1].length>0&&(e.flyability=n[1]))}catch(e){Z.default.error("parseSped",e)}finally{return e}},{})}function f(e){var t=e.match(/^\s*([^\(]+)/),a="",n="",r="";return t&&t[1]&&(a=t[1],a=Y.trimBoth(a),n=a.replace(/\d+d\d+|\-\d+|\+|\d+|\//g,""),n=Y.trimBoth(n),n=n[0].toUpperCase()+n.slice(1),r=n.toLowerCase(),r=r.replace(/ray|cone|aura|mwk/gi,""),r=r.replace(/\s+/g,"")),{name:a,basename:r,abilityName:n}}function d(e){var t,a="",n=[],r=[],i={reach:5,reachNotes:"",reachExceptions:[]};if(!e)return i;try{t=e.match(/reach/i),t&&(e=e.slice(t.index+t[0].length)),e=Y.trimBoth(e),e=ae.convertDashToMinus(e),e=e.replace("21/2","2-1/2"),e=e.replace("2.5","2-1/2"),"2-1/2"===e.slice(0,5)?(i.reach=2.5,a=e.slice(5)):(i.reach=parseInt(e,10)||0,a=ae.getNoteAfterNumber(e)),a&&a.indexOf("(")>=0&&(i.reachNotes=a,(a=Y.trimBoth(a.replace("(","").replace(")","").replace(/with\s/gi,"").replace(";","").replace(/ft[\.\s]*/gi,"").replace(/,\s*/g,",")))&&(n=a.split(","),(r=$.default.reduce(n,function(t,a){var n=[];try{"2-1/2"===a.slice(0,5)?(n.push(Y.trimBoth(a.slice(5))),n[0]&&(n.push(2.5),t.push(n))):(n.push(ae.getNoteAfterNumber(e)||""),n[0]&&(n.push(parseInt(e,10)||0),t.push(n)))}catch(e){Z.default.error("parseReach inner error erri:",e)}finally{return t}},[]))&&r.length>0&&(i.reachExceptions=r)))}catch(e){Z.default.error("parseReach error:",e)}finally{return i}}function m(e){var t,a,n=e.toLowerCase().replace(/\s/g,"");try{a=$.default.find(ee.default.creatureTypeClassSkills,function(e,t){return new RegExp(t).test(n)}),a&&a.length>0&&(t=a),a=$.default.find(ee.default.creatureSubtypeClassSkills,function(e,t){return new RegExp(t).test(n)}),a&&(t=t?t.concat(a):a)}catch(e){Z.default.error("parseCreatureClassSkills",e)}finally{return t||[]}}function _(e){var t,a;try{if(a=$.default.filter(e,function(e){return"natural"===e.type}),$.default.size(a)<=0)return e;1===$.default.size(a)?(a[0].naturaltype="primary",(a[0].iter&&1===a[0].iter.length||isNaN(parseInt(a[0].iter,10)))&&(a[0].dmgMult=1.5)):(t=$.default.groupBy(a,function(e){return ee.default.primaryNaturalAttacksRegExp.exec(e.name)}),1===$.default.size(t)?$.default.each(a,function(e){e.naturaltype="primary"}):$.default.each(a,function(e){ee.default.primaryNaturalAttacksRegExp.test(e.name)?e.naturaltype="primary":e.naturaltype="secondary"}))}catch(e){Z.default.error("assignPrimarySecondary",e)}finally{return e}}function g(e,t,a,n,r){var i,l,o,s,c,u,p=0,d="",m=e,_=0,g="",b=0,y={enh:0,mwk:0,name:"",basename:"",atktype:"melee",type:"",range:"",countFullBAB:1,iter:[],dmgdice:0,dmgdie:0,dmgtype:"",crit:20,critmult:2,dmgbonus:0,plus:"",plusamount:"",plustype:"",note:""};try{if(Z.default.debug("parseAttack: "+e),a&&(y.group="Full attack "+n),c=f(e),y.name+=c.name,y.basename=c.basename,e=Y.trimBoth(e),i=e.match(/^(\d+)\s*/),i&&i[1]&&(y.countFullBAB=parseInt(i[1],10)||1,e=e.slice(i[0].length)),i=e.match(/^([+\-]\d+|mwk)\s*/i),i&&("mwk"===i[1].toLowerCase()?y.mwk=1:y.enh=parseInt(i[1],10)||0,y.type="weapon",e=e.slice(i[0].length)),ee.default.cmbPlusStrsrch.test(y.basename)?(y.atktype="cmb",y.vs="cmd",y.type="natural",_=1):"melee"===t&&ee.default.combatManeuversRegExp.test(y.basename)?(y.atktype="cmb",y.vs="cmd"):ee.default.cmbMonsterSrch.test(y.basename)?(y.atktype="cmb",y.type="natural",y.vs="cmd"):/web/i.test(y.basename)?(y.atktype="ranged",y.type="special",y.vs="touch",y.range=10):/touch/i.test(y.basename)?(/range/i.test(y.basename)?y.atktype="ranged":y.atktype="melee",y.vs="touch"):/special/i.test(t)?(y.atktype="special",y.type="special"):y.atktype=t,y.type||(ee.default.naturalAttackRegExp.test(y.basename)?y.type="natural":ee.default.unarmedAttacksRegExp.test("")?y.type="unarmed":y.type="weapon"),y.vs||/touch|web/i.test(y.name)&&(y.vs="touch",/ranged|web/i.test(y.name)&&(y.atktype="ranged",/web/i.test(y.basename)&&(y.range=10))),e=Y.trimBoth(e),i=e.match(/^[a-z\s]+/i),i&&i[0]&&(i.index&&(b=i.index),e=e.slice(b+i[0].length)),Z.default.debug("PFNPCParse atkstr is now "+e),e){if(s=e.split(/\(|\)/),l=s[0].split(/\//),/\d/.test(l[0])?y.iter=$.default.map(l,function(e,t){return/^[+\-]/.test(e)?parseInt(e,10)||0:-1*(parseInt(e,10)||0)}):"cmb"===y.atktype&&(y.iter[0]=0),s[1]){if(u=s[1].split(/,\s*/),g=$.default.reduce(u,function(e,t){return/ft\./i.test(t)?y.range=t:/D[Cc]\s\d+/.test(t)?(i=t.match(/(D[Cc]\s\d+)/),y.DC=i[1].toUpperCase(),y.DCability=ee.default.specialAttackDCAbilityBase[y.basename]||"CON",r&&"CON"===y.DCability&&(y.DCability="CHA"),y.DCEquation=ae.getDCString(y.DCability,"npc-hd-num",r),i=t.match(/(Will|Fort|Ref|Fortitude|Reflex)\s*D[Cc]\s*\d+([^),.])/i),i?(i[1]&&(g=i[1][0].toUpperCase()+i[1].slice(1).toLowerCase(),y.save=g),i[2]&&(y.save+=" "+i[2])):(i=t.match(/(Will|Fort|Ref|Fortitude|Reflex)/i))&&i[1]&&(g=i[1][0].toUpperCase()+i[1].slice(1).toLowerCase(),y.save=g)):/freq|day|constant|at.will/i.test(t)?y.frequency=t:/AC|hp/.test(t)||!/\d|plus/.test(t)?y.note+=t+", ":e+=t+" ",e},""),g=Y.trimBoth(g),o=ae.getDiceDieFromString(g,!0,!0),Z.default.debug("##### Attack dice parse of "+g+" is ",o),o&&o.dice&&(y.dmgdice=o.dice,y.dmgdie=o.die,y.dmgbonus=o.plus,g=g.slice(o.spaces)),Z.default.debug("PFParseAttack e3:"+g),g){var h=ae.getCritFromString(g,!0);Z.default.debug("PFParseAttack e4:"+g+", crits:",h),y.crit=h.crit,y.critmult=h.critmult,g=g.slice(h.spaces)}d=Y.trimBoth(g),d&&(_&&(i=d.match(/\sac\s\d+/i))&&(y.note+=d.slice(i.index),d=Y.trimBoth(d.slice(0,i.index))),i=d.match(/plus(.*)/i),i&&(g=Y.trimBoth(i[1]),d=Y.trimBoth(d.slice(0,i.index)),/\d+d\d+/i.test(g)?(i=g.match(/(\d+d\d+)\s*([\w\s]*)/),y.plusamount=i[1],i[2]&&(y.plustype=i[2].replace(/^\s+|\s+$/g,""))):y.plus=g),d&&d.length>0&&(y.dmgtype+=d)),"cmb"===y.atktype||y.iter[0]||!y.dmgtype||!y.dmgdice||!y.dmgdie||y.plusamount||y.plustype||/bludg|slash|pierc/i.test(y.dmgtype)||(y.plustype=y.dmgtype,g=String(y.dmgdice)+"d"+String(y.dmgdie),y.dmgbonus&&(y.dmgbonus>0?g+="+"+y.dmgbonus:g+="-"+Math.abs(y.dmgbonus)),y.plusamount=g,y.dmgtype="",y.dmgdice=0,y.dmgdie=0)}for(p=2;p<s.length;)y.note+=Y.trimBoth(s[p]),p++}y.note&&(y.note=Y.trimBoth(y.note))}catch(t){Z.default.error("parseAttack: error parsing:"+e,t),y.name&&(y.name+=" "),y.name+="Could not parse attack!",y.note=m+" , error: ",y.note+=t}finally{return Z.default.debug("parse attack returning parse of "+e,y),y}}function b(e,t,a){var n,r=[],i=!1;try{if(!e)return null;t||(t="melee"),e.slice(0,t.length).toLowerCase()===t&&(e=e.slice(t.length)),"*"!==e[0]&&":"!==e[0]||(e=e.slice(1)),e=Y.trimBoth(e),e=ae.convertDashToMinus(e),e=ae.replaceMissingNegatives_BadDice(e),e=ae.replaceMissingNegatives_CritRange(e),n=e.split(/\bor\b/i),n.length>1&&(i=!0),r=$.default.reduce(n,function(e,n,r){var l,o;try{l=Y.splitByCommaIgnoreParens(n),l.length>1&&(i=!0),o=$.default.reduce(l,function(e,n){var l;try{l=g(n,t,i,r,a),l&&e.push(l)}catch(e){Z.default.error("parseAttacks",e)}finally{return e}},[])}catch(e){Z.default.error("parseAttacks",e)}finally{return e.concat(o)}},[])}catch(e){Z.default.error("parseAttacks",e)}return r}function y(e){var t,a=$.default.map(ie.abilities,function(e){return e.toLowerCase()}),n=$.default.map(re.allCoreSkills,function(e){return e.toLowerCase()}),r=$.default.map(re.skillsWithSubSkills,function(e){return e.toLowerCase()}),i=re.skillsWithSpaces,l=[],o="",s="",c="",u=!1,p="",f={},d=[],m={},_={skillmods:f,skillnotes:d,abilitymods:m};if(!e)return _;if(t=e.split(";"),t.length>1&&(e=t[0],o=t[1]),o){try{s=o.toLowerCase(),c=$.default.find(a,function(e){return s.indexOf(e)>=0}),c&&(p=$.default.find(n,function(e){return s.indexOf(e)>=0}))&&(m[p[0].toUpperCase()+p.slice(1)]=c.toLowerCase(),u=!0)}catch(e){Z.default.error("parseSkillRacialBonuses inner",e)}u||d.push(o)}return l=e.split(/,\s*/),$.default.each(l,function(e){var l,o,s=e.toLowerCase(),u=0,_="",g="",b="",y=0,h="";try{if(!(o=e.match(/\s*([+\-]\d+)\s*(?:on|to)?\s*([\w]+)\s*([\w\s]+)?\s*(\([^)]*\))?/)))return p=$.default.find(n,function(e){return s.indexOf(e)>=0}),void(p?(c=$.default.find(a,function(e){return s.indexOf(e)>=0}),c?m[p.toLowerCase()]=c:d.push(e)):d.push(e));if(b=o[3],u=parseInt(o[1],10)||0,_=o[2],!$.default.contains(n,_.toLowerCase())){if(!(p=$.default.find(i,function(e){return s.indexOf(e)>=0}))||p.length<1)return void d.push(e);t=p.split(/\s/),t=$.default.map(t,function(e){return"of"===e?"of":e[0].toUpperCase()+e.slice(1)}),_=t.join("-"),b=b.slice(p.length-p.indexOf(" ")+1)}if(b)return void d.push(e);if(l=_[0].toUpperCase()+_.slice(1),!o[4])return void(f[l]=u);b=o[4].replace(/^\s+|\(|\)|\s+$/g,""),$.default.contains(r,_.toLowerCase())?(b=b[0].toUpperCase()+b.slice(1),"knowledge"===_.toLowerCase()?l+="-"+b:l+="["+b+"]",f[l]=u):(o=b.match(/([+\-]\d+)\s(.*)$/),o&&o[1]?(y=parseInt(o[1],10)||0,o[2]&&(h=o[2]),y-=u,f[l]=u,g=(y>0?"+":"")+y+" "+l+" "+h,d.push(g)):d.push(e))}catch(t){Z.default.error("parseSkillRacialBonuses outer error",t),d.push(e)}}),_}function h(e){var t=e.match(/[\w][\w\s]+\s*(?:\([\w\s,]+\))?\s*[+\-]\d+[,]??/g);return $.default.reduce(t,function(e,t){var a,n=t.match(/^([\w][\w\s]+[\w])\s*(\([\w\s,]+\))??([+\s]+\d+)$/),r="",i=0;return n&&(i=parseInt(n[3],10)||0,r=n[1].replace(/^\s+|\s+$/g,""),r=r[0].toUpperCase()+r.slice(1),r=r.replace(/\s/g,"-"),n[2]?(a=n[2].split(/,\s*/),$.default.each(a,function(t){t=t.replace(/^\s+|,|\(|\)|\s+$/g,""),t=t[0].toUpperCase()+t.slice(1),t="Knowledge"===r?"-"+t:"["+t+"]",e[r+t]=i})):e[r]=i),e},{})||{}}function v(e){var t={};return t.str=ie.getAbilityAndMod(e.str_compendium),t.dex=ie.getAbilityAndMod(e.dex_compendium),t.con=ie.getAbilityAndMod(e.con_compendium),t.wis=ie.getAbilityAndMod(e.wis_compendium),t.int=ie.getAbilityAndMod(e.int_compendium),t.cha=ie.getAbilityAndMod(e.cha_compendium),t}function k(e,t){var a,n,r,i,l,o,s="special",c="",u=!1,p={};try{a=t,n=f(t),t.indexOf("(")>=0?ee.default.spAttackAttacksPreProcess.test(n.basename)?(/rake/i.test(n.basename)?t=ae.removeUptoFirstComma(t,!0):/rend/i.test(n.basename)?t=ae.removeUptoFirstComma(t):/web/i.test(n.basename)&&(t=ae.removeUptoFirstComma(t,!0),t="web "+t,s="ranged"),u=!0):ee.default.spAttackAttacks.test(n.basename)&&(u=!0):/damage|drain|dmg/i.test(n.basename)&&!/blood|energy/i.test(n.basename)&&ee.default.abilitySrch.test(n.basename)&&(l=n.basename.match(/damage|drain/i),n.AbilityName="Ability "+l[0],t=n.AbilityName+" ("+t+")",u=!0),u&&(p=g(t,s,!1,0),p.specialtype="attack",p.group="Special",p.name=n.AbilityName&&"Ability"===n.AbilityName.slice(0,7)?n.AbilityName:n.name,p.basename=n.basename),u||(p.name=n.abilityName||n.name,p.basename=n.basename,p.specialtype="ability",p.rule_category="special-attacks",o=/usable\severy/i.exec(a),o&&(p.frequency="everyrounds",r=a.slice(o.index+o[0].length),(i=ae.getDiceDieString(r))&&(p.used=i,(o=r.match(/rounds|days|minutes/i))&&(p.used+=" "+o[0]))),ee.default.specialAttackDCAbilityBase[p.basename]&&(p.DCability=ee.default.specialAttackDCAbilityBase[p.basename],1===parseInt(e.is_undead,10)&&"CON"===p.DCability&&(p.DCability="CHA")),p.shortdesc=ae.replaceDCString(ae.replaceDiceDieString(a),p.DCability,"npc-hd-num",e.is_undead)),c=ae.getSpecialAbilityTypeFromString(t),c&&(p.ability_type=c)}catch(e){Z.default.error("parseSpecialAttack",e)}finally{return p}}function w(e,t,a){var n;return t?(n=Y.splitByCommaIgnoreParens(t),$.default.reduce(n,function(t,a){var n;try{n=k(e,a)}catch(e){Z.default.error("parseSpecialAttacks",e),n={},n.name=a,n.specialtype="ability",n.rule_category="special-attacks"}finally{return t.push(n),t}},[])):{}}function A(e){var t,a={};return a.description=[],a.specialAbilities=[],e=e.replace(/\((Ex|Sp|Su)\)\s*(?:\r\n|[\n\v\f\r\x85\u2028\u2029])/gi,"($1) "),t=e.split(/\s\s\s|\r\n|[\n\v\f\r\x85\u2028\u2029]|special abilities|\.(?=[^\.]+\((?:Ex|Sp|Su)\))/i),t=Y.trimBoth(t).filter(function(e){return e&&!/^special abilities$/i.test(e)}),a=$.default.reduce(t,function(e,t){var a,n={},r="";try{a=t.match(/\((Su|Ex|Sp)\)|^(\w+):/i),a?a[2]?(n.name=a[2],n.description=Y.trimBoth(t.slice(a[0].length+1)),e.specialAbilities.push(n)):(r=t.slice(0,a.index),n.name=r.replace(/^[^\w]+|[^\w]$/,""),n.basename=n.name.replace(/\s/g,"").toLowerCase(),n.rule_category="special-abilities",n.ability_type=a[1][0].toUpperCase()+a[1][1].toLowerCase(),n.description=Y.trimBoth(t.slice(a.index+a[0].length+1)),a=n.description.match(/(\d+d\d+) (?:points of){0,1}(.*?) damage/i),a?(a[1]&&(n.extraDamage="[["+a[1]+"]]"),a[2]&&(n.extraDamageType=a[2])):(a=n.description.match(/([a-z]) for (\d+d\d+) (rounds|minutes|hours|days)/i))&&(a[2]&&(n.extraDamage="[["+a[2]+"]] "+a[3]||""),a[1]&&(n.extraDamageType=a[1])),a=n.description.match(/dc is (cha|con|wis|int|str|dex)[a-zA-Z]*.based/i),a&&a[1]?(r=a[1].toUpperCase(),n.DCability=r):ee.default.specialAttackDCAbilityBase[n.basename]&&(n.DCability=ee.default.specialAttackDCAbilityBase[n.basename]),a=n.description.match(/DC (\d+) (Will|Fort|Ref)[a-zA-Z]* save/i),a?(a[1]&&(n.DC=a[1]),a[2]&&(r=a[2][0].toUpperCase()+a[2].slice(1).toLowerCase(),n.save=r)):(a=n.description.match(/(Will|Fort|Ref)[a-zA-Z]* DC (\d+) ([^),.])/i))&&(a[1]&&(r=a[1][0].toUpperCase()+a[1].slice(1).toLowerCase(),n.save=r,a[3]&&(n.save+=" "+a[3])),a[2]&&(n.DC=a[2])),e.specialAbilities.push(n)):e.description.push(t+"\r\n")}catch(e){Z.default.error("parseSpecialAbilities error parsing: "+t+" error is"+e)}finally{return e}},a)}function C(e){var t,a,n=[];return e?(t=e.match(/^SQ[\s:]*/i),t&&(e=e.slice(t[0].length)),a=Y.splitByCommaIgnoreParens(e),$.default.each(a,function(e){var t={},a="";t.name=e,a=ae.getSpecialAbilityTypeFromString(e),a&&(t.ability_type=a),t.rule_category="special-qualities",n.push(t)}),n):null}function I(e){var t,a="",n={};try{n.spellLikeAbilities=[],n.CL=0,n.concentration=0,n.classname="",t=e.split(/\r\n|[\n\v\f\r\x85\u2028\u2029]/),$.default.each(t,function(e){var t,r,i,l,o="",s="",c={},u=0,p="",f="",d=0,m=0,_=0,g=0,b=0;try{if(/CL\s*\d+/i.test(e)||/concentrat/i.test(e)||/psychic\smagic/i.test(e)||/spell.like.abilit/i.test(e)?m=1:/\u2013|\u2014|-/.test(e)&&(_=1),m)/CL\s*\d+/i.test(e)&&(t=e.match(/CL\s*(\d+)/i),t[1]&&(n.CL=parseInt(t[1],10)||0)),/concentrat/i.test(e)&&(t=e.match(/concentrat[\w]*\s*[+\-]??(\d+)/i),t[1]&&(n.concentration=parseInt(t[1],10)||0)),/psychic\smagic/i.test(e)?n.classname="Psychic Magic":n.classname="Spell-like abilities";else{if(!_)return void Z.default.warn("Cannot parse "+e);t=e.match(/\u2013|\u2014|\-/),s=e.slice(t.index+1),o=Y.trimBoth(e.slice(0,t.index)).toLowerCase(),t=o.match(/constant|will|day|month/i),t&&t[0]?(f=t[0].toLowerCase(),c.type=f,"day"!==f&&"month"!==f||(b=1,(t=o.match(/\d+/))&&t[0]&&(d=parseInt(t[0],10)||0,c.perDay=d))):(l=o.split("/"),l.length>=2&&(b=1,t=l[0].match(/\d+/),t&&t[0]&&(d=parseInt(t[0],10)||0,c.perDay=d),f="other",c.type=f,c.otherPer=l[1])),i=Y.splitByCommaIgnoreParens(s),(r=$.default.reduce(i,function(e,n){var r={};try{r.type=f,b&&d>0&&(r.perDay=d),t=n.match(/level\s*(\d+)/i),t&&(t[1]&&(r.spell_level=parseInt(t[1],10)||0,g=1),n=n.replace(t[0],"")),t=n.match(/D[Cc]\s*\d+/),t&&(p=n.replace(t[0],""),a=t[0].match(/\d+/),u=parseInt(a,10)||0,r.DC=u,(t=p.match(/\b(fortitude|willpower|reflex|fort|will|ref)\b([^,]+,)/i))&&(r.save=t[0])),n.indexOf("(")>0?(r.name=n.slice(0,n.indexOf("(")-1),a=n.slice(n.indexOf("(")-1),r.shortdesc=a):r.name=n,r.spell_level&&/^summon/i.test(r.name)&&(r.name+=" Level "+String(r.spell_level)),e.push(r)}catch(t){Z.default.error("parseSLAs, error reducing to SLAArray for: "+n,t),r.name?r.description=n:r.name=n,e.push(r)}finally{return e}},[]))&&$.default.size(r)>0&&(c.type=f,b&&d>0&&(c.perDay=d),c.SLAs=r,n.spellLikeAbilities.push(c))}}catch(t){Z.default.error("parseSLAs error parsing"+e,t)}})}catch(e){Z.default.error("parseSLAs",e)}finally{return n.spellLikeAbilities&&$.default.size(n.spellLikeAbilities)>0?n:null}}function S(e){var t,a={};return e?(a.classLevel=-1,a.concentration=-1,a.classname="",a.spellsByLevel=[],a.spellnotes="",t=e.split(/\r\n|[\n\v\f\r\x85\u2028\u2029]/),a=$.default.reduce(t,function(e,t){var a,n,r,i,l,o,s,c=[],u={};try{/C[Ll]\s*\d+/i.test(t)?-1===e.classLevel&&(a=t.match(/C[Ll]\s*(\d+)/i),a&&a[1]&&(e.classLevel=parseInt(a[1],10)||0),a=t.match(/concentrat[\w]*\s*[+\-]??(\d+)/i),a&&a[1]&&(e.concentration=parseInt(a[1],10)||0),a=t.match(/([\w\s]*)spells\s(?:known|prepared)/i),a&&a[1]?(e.classname=a[1].replace(/^\s|\s$/g,""),e.classname=e.classname.toLowerCase()):/spells\sprepared/i.test(t)?e.classname="cleric":e.classname="sorcerer"):/opposition schools|domains/i.test(t)?(s=t.match(/opposition schools/i),s?(o=t.slice(s.index+s[0].length),e.oppositionschools=Y.trimBoth(o)):(a=t.match(/domains/i),t=t.slice(a.index+a[0].length),r=t.split(","),c=r.map(function(e){return Y.trimBoth(e)}),e.domains=c)):/\u2013|\u2014|-/.test(t)?(u.perDay=-1,u.spellLevel=-1,r=t.split(/\u2013|\u2014|-/),r&&r[0]&&(a=r[0].match(/^(\d+)/))&&a[1]&&(u.spellLevel=parseInt(a[1],10)||0,(a=r[0].match(/(\d+)\/day/i))&&a[1]&&(u.perDay=parseInt(a[1],10)||0)),r&&r[1]&&(i=r[1].split(","),n=$.default.reduce(i,function(n,r){var i={};try{a=r.split(/\(dc/i),i.name=a[0].replace(/^\s|\s$/g,""),a[1]&&(l=a[1],(a=l.match(/\d+/))&&a[0]&&(i.DC=parseInt(a[0],10)||0)),"D"===i.name.slice(-1)&&(i.name=Y.trimBoth(i.name.slice(0,-1)),i.isDomain=1,e.classname&&"cleric"===e.classname||(e.classname="cleric")),n.push(i)}catch(e){Z.default.error("PFNPCParser.parseSpells errinner on spell: "+r+" on line"+t,e)}finally{return n}},[])),u.spellLevel>=0&&n&&n.length>0&&(u.spells=n,e.spellsByLevel.push(u))):e.spellnotes+=t}catch(e){Z.default.error("PFNPCParser.parseSpells error on line "+t,e)}finally{return e}},a)):null}function P(e){var t,a,n=e;try{t=e.match(/\s*(\d*\.?\d*)?/),t&&(a=parseFloat(t[1]),isNaN||(n=String(a)))}finally{return n}}function x(e,t,a,n,r){var i={};if(!e||!t||!a)return null;try{Z.default.debug("getCasterObj spellObj,abilities,health are:",e,t,a),i.abilityMod=0,i.CL=0,i.concentrationBonus=0,r?(i.classname="Cleric",i.ability="WIS",i.abilityMod=t.wis.mod):n||!e.classname?(i.classname=n?"Spell-like abilities":"Sorcerer",i.ability="CHA",i.abilityMod=t.cha.mod):(i.classname=e.classname[0].toUpperCase()+e.classname.slice(1).toLowerCase(),ee.default.casterDefaultAbility[e.classname]&&t[ee.default.casterDefaultAbility[e.classname]]?(i.ability=ee.default.casterDefaultAbility[e.classname].toUpperCase(),i.abilityMod=t[ee.default.casterDefaultAbility[e.classname]].mod):(i.ability="CHA",i.abilityMod=t.cha.mod)),e.classLevel?i.CL=e.classLevel:i.CL=a.hdice1,e.concentration&&(i.concentrationBonus=e.concentration-i.abilityMod-i.CL),e.oppositionschools&&(i.oppositionschools=e.oppositionschools,e.oppositionschools=null),e.spellnotes&&(i.spellnotes=e.spellnotes,e.spellnotes=null),e.domains&&(i.domains=e.domains,e.domains=null)}catch(e){Z.default.error("getCasterObj error trying to create obj returning null",e),i=null}finally{return i}}function T(e,t,a,n){var r=!1,i=0;try{n=n||{},t=t||0,t<0&&(t=0),a&&(a["spellclass-"+t+"-name"]||a["spellclass-"+t+"-level"])&&(parseInt(a["spellclass-"+t+"-level"],10)!==parseInt(e.CL,10)||ae.findAbilityInString(a["Concentration-"+t+"-ability"])!==e.ability.toUpperCase()?t++:r=!0),t>2?(Z.default.error("Could not setCasterFields, 0,1,2 spellclasses already defined:"),e.pageClassIdx=-1):r?(n["spellclass-"+t+"-name"]=n["spellclass-"+t+"-name"]+" and "+e.classname,e.pageClassIdx=t):(n["spellclass-"+t+"-name"]=e.classname,n["spellclass-"+t+"-level"]=e.CL,n["spellclass-"+t+"-level-total"]=e.CL,/wizard|cleric|druid|paladin|ranger|investigator|shaman|witch|alchemist|warpriest/i.test(e.classname)?n["spellclass-"+t+"-casting_type"]=2:n["spellclass-"+t+"-casting_type"]=1,e.ability&&(n["Concentration-"+t+"-ability"]=e.ability+"-mod"),n["Concentration-"+t+"-mod"]=e.abilityMod,e.concentrationBonus&&(n["Concentration-"+t+"-misc"]=e.concentrationBonus),e.pageClassIdx=t,e.oppositionschools&&(n["spellclass-"+t+"-oppositionschool-0"]=e.oppositionschools),e.spellnotes&&(n["spellclass-"+t+"-notes"]=e.spellnotes),e.domains&&(n["spellclass-"+t+"-domains-show"]=1,i=0,$.default.each(e.domains,function(e){n["spellclass-"+t+"-domain-"+i]=e,n["spellclass-"+t+"-domaintype-"+i]="Domain",++i>1&&(n["domain0"+i+"_show"]=1)})))}catch(e){Z.default.error("setCasterFields",e)}finally{return n}}function O(e,t,a){return a=a||{},e&&t?($.default.each(e.spellsByLevel,function(e){var n=parseInt(e.spellLevel,10)||0,r=0,i="";try{i="spellclass-"+t.pageClassIdx+"-level-"+n,e.perDay&&(a[i+"-class"]=e.perDay,a[i+"-spells-per-day_max"]=e.perDay,a[i+"-spells-per-day"]=e.perDay),r=10+n+(parseInt(t.abilityMod,10)||0)}catch(e){Z.default.error("createSpellEntries error setting spells per day",e)}a=$.default.reduce(e.spells,function(e,i){var l=generateRowID(),o=0,s="repeating_spells_"+l+"_";try{a[s+"name"]=i.name[0].toUpperCase()+i.name.slice(1),a[s+"classnumber"]=t.pageClassIdx,a[s+"spell_class_r"]=t.pageClassIdx,a[s+"spellclass"]=t.classname,a[s+"spell_level"]=n,a[s+"spell_level_r"]=n,i.DC&&(o=parseInt(i.DC,10)||0,o!==r&&(a[s+"DC_misc"]=o-r),a[s+"savedc"]=o),t.concentration&&(a[s+"Concentration-mod"]=t.concentration),i.isDomain&&(a[s+"isDomain"]=1)}catch(e){Z.default.error("createSpellEntries error setting spell :",i,e)}finally{return a}},a)}),a):a}function M(e,t,a,n,r){return r=r||{},e&&t?(n=n||0,$.default.each(e.spellLikeAbilities,function(i){var l=parseInt(i.perDay,10)||0,o=i.type;r=$.default.reduce(i.SLAs,function(r,i){var s,c="repeating_ability_"+s+"_",u="",p=0,f=0;try{switch(s=generateRowID(),c="repeating_ability_"+s+"_",r[c+"name"]=i.name[0].toUpperCase()+i.name.slice(1),r[c+"ability_type"]="Sp",r[c+"rule_category"]="spell-like-abilities",r[c+"showinmenu"]="1",t.ability?(t.ability,r[c+"ability-basis"]="@{"+t.ability+"-mod}"):("CHA",r[c+"ability-basis"]="@{CHA-mod}"),r[c+"CL-basis"]="@{npc-hd-num}",r[c+"CL-basis-mod"]=n,a&&(r[c+"class-name"]=a),t.CL?(p=n||0,p>0&&(r[c+"CL-misc"]=t.CL-p,r[c+"CL-misc-mod"]=t.CL-p),f=t.CL):f=n,r[c+"casterlevel"]=f,i.spell_level?i.spell_level===n?r[c+"spell_level-basis"]="@{casterlevel}":i.spell_level===Math.floor(n/2)?r[c+"spell_level-basis"]="floor(@{casterlevel}/2)":(r[c+"spell_level-basis"]="0",r[c+"spell_level-misc"]=i.spell_level):r[c+"spell_level-basis"]="floor(@{casterlevel}/2)",o){case"day":r[c+"frequency"]="perday",r[c+"used"]=l,r[c+"used_max"]=l,r[c+"max-calculation"]=l,r[c+"hasfrequency"]="1",r[c+"hasuses"]="1";break;case"will":r[c+"frequency"]="atwill",r[c+"hasfrequency"]="1";break;case"constant":r[c+"frequency"]="constant",r[c+"hasfrequency"]="1";break;case"month":r[c+"frequency"]="permonth",r[c+"used"]=l,r[c+"used_max"]=l,r[c+"max-calculation"]=l,r[c+"hasfrequency"]="1",r[c+"hasuses"]="1";break;case"everyrounds":r[c+"frequency"]="everyrounds",r[c+"hasfrequency"]="1",r[c+"rounds_between"]=i.used||"";break;case"other":r[c+"frequency"]="other",r[c+"used"]=l,r[c+"used_max"]=l,r[c+"max-calculation"]=l,r[c+"hasfrequency"]="1",r[c+"hasuses"]="1",e.otherPer&&(u="Frequency per :"+e.otherPer);break;default:r[c+"frequency"]="not-applicable",r[c+"used"]=0,r[c+"used_max"]=0,r[c+"max-calculation"]="",r[c+"hasfrequency"]="",r[c+"hasuses"]=""}if(i.save&&(r[c+"save"]=i.save),i.DC)try{i.save||(r[c+"save"]="See Text"),t.abilityMod&&(p=0,(p=i.spell_level?10+t.abilityMod+i.spell_level:10+t.abilityMod+Math.floor(f/2))!==i.DC&&(r[c+"spell_level-misc"]=i.DC-p,r[c+"spell_level-misc-mod"]=i.DC-p))}catch(e){Z.default.error("createSLAentries, error trying to calculate DC: "+i,e)}i.description&&(r[c+"description"]=i.description),i.shortdesc&&(u=u?i.shortdesc+", "+u:i.shortdesc),u&&(r[c+"short-description"]=u)}catch(e){Z.default.error("createSLAEntries error setting SLA :",i,e)}finally{return r}},r)}),r):r}function D(e,t,a,n,r,i,l,o){return o=o||{},e&&0!==$.default.size(e)?o=$.default.reduce(e,function(e,o){var s,c="",u="",p=!1,f=!1,d=0,m=0,_=0,g=0,b=1,y=0,h=0,v="",k="",w=NaN;try{if(c=generateRowID(),u="repeating_weapon_"+c+"_",h=Math.max(o.enh,o.mwk),k=o.basename,v+=o.name,o.plus&&(v+=" Plus "+o.plus),e[u+"name"]=v,e[u+"default_size"]=l.size,"ranged"===o.atktype?(_=t.ranged,e[u+"attack-type"]="attk-ranged",e[u+"attack-type-mod"]=t.ranged,e[u+"isranged"]=1):ee.default.cmbPlusStrsrch.test(k)?(_=t.cmb,e[u+"attack-type"]="CMB",e[u+"attack-type-mod"]=t.cmb,p=!0,b=1.5,f=!0):"cmb"===o.atktype?(_=t.cmb,e[u+"attack-type"]="CMB",e[u+"attack-type-mod"]=t.cmb):"special"===o.atktype?(_=0,e[u+"attack-type-mod"]=0,e[u+"total-attack"]=0,"trample"===o.basename&&(p=!0,b=1.5,Z.default.debug("CREATEATTACKS trample the attack is : ",o))):(p=!0,n.weaponfinesse?(_=t.melee2,e[u+"attack-type"]="attk-melee2",e[u+"attack-type-mod"]=t.melee2):(_=t.melee,e[u+"attack-type"]="attk-melee",e[u+"attack-type-mod"]=t.melee),"natural"===o.type&&("secondary"===o.naturaltype?b=.5:o.dmgMult&&1.5===o.dmgMult&&(e[u+"damage_ability_mult"]="1.5",b=1.5))),(p||f)&&(f&&0===o.dmgbonus?(e[u+"damage-ability"]="0",y=0):(e[u+"damage-ability"]="STR-mod",1!==b?(y=Math.floor(b*a.str.mod),e[u+"damage_ability_mult"]=b):y=a.str.mod),e[u+"damage-ability-mod"]=y),o.enh&&(e[u+"enhance"]=o.enh),o.mwk&&(e[u+"masterwork"]="1"),!f&&o.iter&&o.iter.length>0?w=parseInt(o.iter[0],10):f&&(w=_),isNaN(w)?"cmb"===o.atktype?/swallowwhole|pin/i.test(o.basename)?(e[u+"attack"]=5,e[u+"attack-mod"]=5,e[u+"total-attack"]=t.cmb+5):e[u+"total-attack"]=t.cmb:e[u+"total-attack"]=0:f?(e[u+"attack"]=0,e[u+"attack-mod"]=0,e[u+"total-attack"]=_):(e[u+"attack"]=w-h-_,e[u+"attack-mod"]=w-h-_,e[u+"total-attack"]=w),20!==o.crit&&(e[u+"crit-target"]=o.crit),2!==o.critmult&&o.critmult&&(e[u+"crit-multiplier"]=o.critmult),n.criticalfocus&&(e[u+"crit_conf_mod"]=4),e[u+"total-attack"]||(e[u+"total-attack"]=0),Z.default.debug("Create attack e6 "+o.name+", enhance:"+o.enh+" dmg from attack:"+o.dmgbonus+", from str:"+y),e[u+"damage-dice-num"]=o.dmgdice,e[u+"default_damage-dice-num"]=o.dmgdice,e[u+"damage-die"]=o.dmgdie,e[u+"default_damage-die"]=o.dmgdie,e[u+"damage"]=o.dmgbonus-o.enh-y,e[u+"damage-mod"]=o.dmgbonus-o.enh-y,e[u+"total-damage"]=o.dmgbonus,o.note?e[u+"notes"]="("+o.type+") "+o.note:e[u+"notes"]="("+o.type+")",o.iter.length>1)for(d=1;d<o.iter.length;d++)m=d+1,e[u+"toggle_iterative_attack"+m]="@{var_iterative_attack"+m+"_macro}",e[u+"iterative_attack"+m+"_value"]=o.iter[d]-o.iter[0];else if(o.countFullBAB>1)for(d=1;d<o.countFullBAB;d++)m=d+1,e[u+"toggle_iterative_attack"+m]="@{var_iterative_attack"+m+"_macro}",e[u+"iterative_attack"+m+"_value"]=0;o.plusamount?(e[u+"precision_dmg_macro"]="[["+o.plusamount+"]]",o.plustype&&(e[u+"precision_dmg_type"]=o.plustype)):o.plus&&(e[u+"precision_dmg_type"]="Plus",e[u+"precision_dmg_macro"]=o.plus),o.dmgtype&&(e[u+"notes"]=e[u+"notes"]+", damage type:"+o.dmgtype),o.range?(g=parseInt(o.range,10),isNaN(g)&&(e[u+"notes"]=e[u+"notes"]+", range:"+o.range)):/tongue/i.test(o.name)?(s=3*r,e[u+"range"]=s,e[u+"vs"]="touch"):"melee"===o.atktype&&(i&&i.length>0?(s=$.default.filter(i,function(e){return k.indexOf(e[0])>=0}),s&&s[0]&&s[0][1]?e[u+"range"]=s[0][1]:r&&(e[u+"range"]=r)):r&&(e[u+"range"]=r)),o.vs&&!/tongue/i.test(o.name)&&(e[u+"vs"]=o.vs),o.group&&(e[u+"group"]=o.group),o.DC&&(Z.default.debug("PFNPCParser has attack dc",o),e[u+"notes"]=e[u+"notes"]+" "+(o.save||"")+" "+o.DC+o.DCEquation?" "+o.DCEquation:"")}catch(e){Z.default.error("createattacks error on:",o,e)}finally{return e}},o):o}function E(e,t,a,n,r,i,l){var o="DEX",s=t.dex.mod,c=0,u=0;try{if(l=l||{},e.altability&&"DEX"!==(o=e.altability.toUpperCase())){switch(l["AC-ability"]=o+"-mod",l["CMD-ability2"]=o+"-mod",e.altability.toLowerCase()){case"wis":s=t.wis.mod;break;case"int":s=t.int.mod;break;case"cha":s=t.cha.mod;break;case"con":s=t.con.mod;break;default:s=t.dex.mod}l["AC-ability-mod"]=s}e.uncanny&&(l["FF-ability"]=o+"-mod",l["FF-ability-mod"]=s,l["CMD-ability"]=o+"-mod",l["CMD-ability"]=s,l.uncanny_dodge=1,l.uncanny_cmd_dodge=1),u=r,a.defensivecombattraining&&(l.hd_not_bab=1,u=Math.max((n.hdice1||0)+(n.hdice2||0),i||0));try{c=10+u+t.str.mod+s+-1*e.size,isNaN(e.cmd)||c===e.cmd?l.CMD=c:(l.CMD=e.cmd,l["CMD-misc"]=e.cmd-c,l["CMD-misc-mod"]=e.cmd-c)}catch(e){Z.default.error("createACEntries error trying to calculate CMD",e)}l.AC=e.ac,l.Touch=e.touch,l["Flat-Footed"]=e.ff,l["AC-deflect"]=e.deflect,l["AC-dodge"]=e.dodge,l["AC-misc"]=e.misc,l["AC-misc-mod"]=e.misc,l["AC-natural"]=e.natural,e.armor&&(l["armor3-equipped"]="1",l["armor3-acbonus"]=e.armor,l.armor3="Armor bonus",l["AC-armor"]=e.armor),e.shield&&(l["shield3-equipped"]="1",l["shield3-acbonus"]=e.shield,l.shield3="Shield bonus",l["AC-shield"]=e.shield),e.notes&&(l["defense-notes"]=e.notes),e.cmdnotes&&(l["cmd-notes"]=e.cmdnotes)}catch(e){}finally{return l}}function F(e,t,a,n,r,i,l,o){var s=0,c=re.coreSkillAbilityDefaults,u="";try{o=o||{},Z.default.info("PFNPC createSkillEntries sizemap is: ",e,t,a,n,r,i,l),t&&(t.abilitymods&&$.default.size(t.abilitymods)>0&&(c=$.default.extend({},re.coreSkillAbilityDefaults,t.abilitymods)),t.skillmods&&$.default.size(t.skillmods)>0&&$.default.each(t.skillmods,function(e,t){"Knowledge"===t?$.default.each(re.knowledgeSkills,function(t){o[t+"-racial"]=e}):$.default.contains(re.coreSkillsWithFillInNames,t)?$.default.each(re.allFillInSkillInstances[t],function(t){o[t+"-racial"]=e}):o[t+"-racial"]=e}),t.skillnotes&&t.skillnotes.length>0&&(u="",$.default.each(t.skillnotes,function(e){u+=e+", "}),u.replace(/,\s$/,""),u&&(o["Skill-notes"]=u))),n&&$.default.size(n)>0&&(n.intimidatingprowess&&(o["Intimidate-feat"]=a.str.mod),n.skillfocuses&&$.default.each(n.skillfocuses,function(e){"Knowledge"===e?$.default.each(re.knowledgeSkills,function(e){o[e+"-feat"]=3}):$.default.contains(re.coreSkillsWithFillInNames,e)?$.default.each(re.allFillInSkillInstances[e],function(e){o[e+"-feat"]=3}):o[e+"-feat"]=3})),r&&$.default.size(r)>0&&$.default.each(r,function(e){try{"Knowledge"===e?$.default.each(re.knowledgeSkills,function(e){o[e+"-cs"]=3}):$.default.contains(re.coreSkillsWithFillInNames,e)?$.default.each(re.allFillInSkillInstances[e],function(e){o[e+"-cs"]=3}):o[e+"-cs"]=3}catch(e){Z.default.error("createSkillEntries",e)}}),$.default.each(e,function(e,n){var r="",l=0,u=0;try{e=parseInt(e,10)||0,c[n]?(r=c[n],l=a[r]?a[r].mod:0,o[n+"-ability"]=r.toUpperCase()+"-mod",o[n+"-ability-mod"]=l,o[n]=e,u=e,"Stealth"===n&&Z.default.debug("skilltot 1:"+u),u-=l,"Stealth"===n&&Z.default.debug("skilltot 2 minus  "+l+" =:"+u),"Stealth"===n?(0!==i.skillSize&&(u-=2*i.skillSize),Z.default.debug("skilltot 3 minus  "+2*i.skillSize+" =:"+u)):"Fly"===n&&0!==i.skillSize&&(u-=i.skillSize),t&&t.skillmods&&t.skillmods[n]&&(u-=parseInt(t.skillmods[n],10)||0,"Stealth"===n&&Z.default.debug("skilltot 4 minus  "+(parseInt(t.skillmods[n],10)||0)+" =:"+u)),parseInt(o[n+"-feat"],10)>0&&(u-=3,"Stealth"===n&&Z.default.debug("skilltot 5 minus 3 =:"+u)),u>0&&parseInt(o[n+"-cs"],10)>0&&(u-=3,"Stealth"===n&&Z.default.debug("skilltot 6 minus 3 =:"+u)),"Stealth"===n&&Z.default.debug("skilltot 7 final ranks are :"+u),o[n+"-ranks"]=u,u<0&&(o[n+"-note"]="Ranks less than 0, possible parse error or error in statblock"),s++):(Z.default.warn("createSkillEntries, skill "+n+" not found"),o[n+"-note"]=(o[n+"-note"]||"")+", "+n+":"+e)}catch(e){Z.default.error("createSkillEntries inner reduce",e)}})}catch(e){Z.default.error("at createskillEntries OUTER error",e)}finally{return Z.default.info("leaving createskills:",o),o}}function R(e,t,a,n){var r=0;try{n=n||{},r=e-t.dex.mod,n.init=e,n["init-misc"]=r,n["init-misc-mod"]=r,n["init-ability-mod"]=t.dex.mod}catch(e){Z.default.error("createInitEntries",e)}finally{return n}}function N(e,t,a){try{a=a||{},t||"-"===e.con.base?(a["HP-ability"]="CHA-mod",a["HP-ability-mod"]=e.cha.mod):a["HP-ability-mod"]=e.con.mod}finally{return a}}function j(e,t,a,n){try{n=n||{},n["npc-hd-num"]=a.hdice1,n.level=a.hdice1,n["npc-hd"]=a.hdie1,n.HP=a.hp,n.HP_max=a.hp,n["non-lethal-damage_max"]=a.hp,n.auto_calc_hp="1",n.both_whisper_show="1",a.basehp&&(n["NPC-HP"]=a.basehp),a.misc&&(n["HP-formula-macro-text"]=a.misc,n["HP-formula-mod"]=a.misc),a.heal&&(n["npc-heal-conditions"]=a.heal)}catch(e){Z.default.error("createHealthEntries",e)}finally{return n}}function L(e,t,a){var n="";try{a=a||{},$.default.each(e,function(e,t){switch(t){case"land":a["speed-base"]=e,a["speed-modified"]=e;break;case"fly":a["speed-fly"]=e;break;case"climb":a["speed-climb"]=e;break;case"swim":a["speed-swim"]=e;break;case"flyability":a["speed-fly-maneuverability"]=e;break;default:a["speed-misc"]=e,n.length>0&&(n+=", "),n+=t+" "+e}}),n&&(a["speed-notes"]=n),t.run&&(a["run-mult"]=5)}catch(t){Z.default.error("parseAndSetSpeed error, speedMap",e,t)}finally{return a}}function z(e,t,a,n,r,i){var l,o,s,c="",u="";try{i=i||{},l=a.baseFort-e.con.mod,o=a.baseRef-e.dex.mod,s=a.baseWill-e.wis.mod,t||"-"===e.con.base?(l=a.baseFort-e.cha.mod,i["Fort-ability"]="CHA-mod",i["Fort-ability-mod"]=e.cha.mod):i["Fort-ability-mod"]=e.con.mod,r.greatfortitude&&(i["Fort-misc"]=2,i["Fort-misc-mod"]=2,l-=2),i["total-Fort"]=l,i["npc-Fort"]=l,i.Fort=a.baseFort,c="",u=ae.getNoteAfterNumber(n.fort_compendium),u&&(c+="Fortitude "+u),r.lightningreflexes&&(i["Ref-misc"]=2,i["Ref-misc-mod"]=2,o-=2),i["total-Ref"]=o,i["npc-Ref"]=o,i.Ref=a.baseRef,0!==e.dex.mod&&(i["Ref-ability-mod"]=e.dex.mod),u=ae.getNoteAfterNumber(n.ref_compendium),u&&(c+="Reflex "+u),r.ironwill&&(i["Will-misc"]=2,i["Will-misc-mod"]=2,s-=2),i["total-Will"]=s,i["npc-Will"]=s,i.Will=a.baseWill,0!==e.wis.mod&&(i["Will-ability-mod"]=e.wis.mod),u=ae.getNoteAfterNumber(n.will_compendium),u&&(c+=u),c&&(i.saves_notes=c,i.toggle_save_notes="1")}catch(e){Z.default.error("createSaveEntries",e)}finally{return i}}function W(e,t){try{t=t||{},t["STR-base"]=e.str.base,t["DEX-base"]=e.dex.base,t["CON-base"]=e.con.base,t["WIS-base"]=e.wis.base,t["INT-base"]=e.int.base,t["CHA-base"]=e.cha.base,t.STR=e.str.base,t.DEX=e.dex.base,t.CON=e.con.base,t.WIS=e.wis.base,t.INT=e.int.base,t.CHA=e.cha.base,t["STR-mod"]=e.str.mod,t["DEX-mod"]=e.dex.mod,t["CON-mod"]=e.con.mod,t["WIS-mod"]=e.wis.mod,t["INT-mod"]=e.int.mod,t["CHA-mod"]=e.cha.mod}catch(e){Z.default.error("createAbilityScoreEntries",e)}finally{return t}}function B(e,t,a,n,r,i,l){var o,s,c="",u=0,p={},f=0,d=0;try{l=l||{},p.melee=e.str.mod+n+t.size,l.bab=n,l["npc-bab"]=n,l["melee-ability-mod"]=e.str.mod,l["attk-melee"]=p.melee,l["melee-ability"]="STR-mod",l["melee-ability-mod"]=e.str.mod,l.melee_bab="bab",l["melee_bab-mod"]=n,p.melee2=e.dex.mod+n+t.size,l["melee2-ability"]="DEX-mod",l["melee2-ability-mod"]=e.dex.mod,l["attk-melee2"]=p.melee2,l.attk_melee2_note="Weapon Finesse",l.melee2_bab="bab",l["melee2_bab-mod"]=n,p.ranged=e.dex.mod+n+t.size,p.ranged2=p.ranged,l["ranged-ability"]="DEX-mod",l["ranged-ability-mod"]=e.dex.mod,l["attk-ranged"]=p.ranged,l.ranged_bab="bab",l["ranged_bab-mod"]=n,l["ranged2-ability"]="DEX-mod",l["ranged2-ability-mod"]=e.dex.mod,l["attk-ranged2"]=p.ranged,l.ranged2_bab="bab",l["ranged2_bab-mod"]=n,a.defensivecombattraining?(l.cmb_bab="level",l["cmb_bab-mod"]=r,l.cmb2_bab="level",l["cmb2_bab-mod"]=r,u=r):(l.cmb_bab="bab",l["cmb_bab-mod"]=n,l.cmb2_bab="bab",l["cmb2_bab-mod"]=n,u=n),a.agilemaneuvers?(l["CMB-ability"]="DEX-mod",l["CMB-ability-mod"]=e.dex.mod,l["CMB2-ability"]="DEX-mod",l["CMB2-ability-mod"]=e.dex.mod,d=e.dex.mod+u-t.size,l.cmb_desc="Agile Maneuvers"):(l["CMB-ability"]="STR-mod",l["CMB-ability-mod"]=e.str.mod,l["CMB2-ability"]="STR-mod",l["CMB2-ability-mod"]=e.str.mod,d=e.str.mod+u-t.size),s=d,i&&(o=i.match(/\d+/))&&(s=parseInt(o[0],10),(c=i.slice(o.index+o[0].length))&&(p.cmbnotes=c,l["CMB-notes"]=c)),l.CMB=s,p.cmb=s,l.CMB2=s,p.cmb2=s,f=s-d,f&&(l["attk-CMB-misc"]=f,l["attk-CMB-misc-mod"]=f,l["attk-CMB2-misc"]=f,l["attk-CMB2-misc-mod"]=f),a.criticalfocus&&(l.cmb_crit_conf=4,l.ranged_crit_conf=4,l.melee_crit_conf=4,l.cmb2_crit_conf=4,l.ranged2_crit_conf=4,l.melee2_crit_conf=4)}catch(e){Z.default.error("parseAndCreateAttackGrid error creating CMB attack types",e)}finally{return p}}function q(e,t,a,n,r,i,l,o,s){var c=[];try{if(s=s||{},l)try{c=b(l,"melee"),_(c),D(c,r,e,a,i.reach,i.reachExceptions,t,s)}catch(e){Z.default.error("parseAndCreateAttacks error creating melee attacks",e)}if(o)try{c=b(o,"ranged"),D(c,r,e,a,null,null,t,s)}catch(e){Z.default.error("parseAndCreateAttacks error creating ranged attacks",e)}}catch(e){Z.default.error("parseAndCreateAttacks",e)}finally{return s}}function H(e,t,a,n){return $.default.reduce(e,function(e,n){var r=generateRowID(),i="repeating_ability_"+r+"_";return e[i+"name"]=n,e[i+"rule_category"]="feats",e[i+"showinmenu"]="1",e[i+"CL-basis"]="@{npc-hd-num}",e[i+"CL-basis-mod"]=a||0,t&&(e[i+"class-name"]=t),e[i+"row_id"]=r,e[i+"frequency"]="not-applicable",e[i+"ability_type"]="",e},n)}function U(e){return"feats"===e.slice(0,5).toLowerCase()&&(e=e.slice(5)),Y.splitByCommaIgnoreParens(e)}function G(e,t,a,n,r){var i={},l="",o=0,s=0,c=0,u=0,p=0;try{u=Math.floor(n/2),l=a,i=$.default.chain(e).map(function(e){var t;try{e.description=e.description||"",e.note&&(e.description&&(e.description+=", "),e.description+=e.note.replace(/,\s$/,"")),e.other&&(e.description&&(e.description+=", "),e.description+=e.other.replace(/,\s$/,""),e.other=null),e.ability_type||e.name&&(t=ae.getSpecialAbilityTypeFromString(e.name))&&(e.ability_type=t,e.name=e.name.replace(/\b(Su|Ex|Sp)\b/i,"").replace("()",""))}catch(e){Z.default.error("createFeatureEntries err3",e)}finally{return e}}).filter(function(e){return!!e.name}).reduce(function(e,a){var n,i;try{n=generateRowID(),i="repeating_ability_"+n+"_",e[i+"name"]=a.name,e[i+"row_id"]=n,e[i+"showinmenu"]="1",a.shortdesc&&(e[i+"short-description"]=a.shortdesc),a.description&&(e[i+"description"]=a.description),a.used?a.frequency&&"everyrounds"===a.frequency?(e[i+"frequency"]=a.frequency,e[i+"rounds_between"]=a.used,e[i+"hasfrequency"]="1",e[i+"used"]=0,e[i+"used_max"]=0,e[i+"max-calculation"]=""):(a.frequency?(e[i+"frequency"]=a.frequency,e[i+"hasfrequency"]=a.frequency):(e[i+"frequency"]="perday",e[i+"hasfrequency"]="perday"),e[i+"hasuses"]="1",e[i+"used"]=a.used,e[i+"used_max"]=a.used,e[i+"max-calculation"]=a.used):(e[i+"frequency"]="not-applicable",e[i+"used"]=0,e[i+"used_max"]=0,e[i+"max-calculation"]="",e[i+"hasfrequency"]="",e[i+"hasuses"]=""),a.dmgtype&&(e[i+"damage-type"]=a.dmgtype),a.rule_category&&(e[i+"rule_category"]=a.rule_category),a.ability_type?e[i+"ability_type"]=a.ability_type:e[i+"ability_type"]="",e[i+"CL-basis"]="@{npc-hd-num}",e[i+"CL-basis-mod"]=r.level||0,l&&(e[i+"class-name"]=l),a.save&&(e[i+"save"]=a.save),a.DCability?(e[i+"ability-basis"]="@{"+a.DCability.toUpperCase()+"-mod}",c=t[a.DCability.toLowerCase()].mod):"Sp"===a.ability_type||r.is_undead?(e[i+"ability-basis"]="@{CHA-mod}",c=t.cha.mod):(e[i+"ability-basis"]="@{CON-mod}",c=t.con.mod),a.extraDamage&&(e[i+"damage-macro-text"]=a.extraDamage),a.extraDamageType&&(e[i+"damage-type"]=a.extraDamageType),e[i+"spell_level-basis"]="floor(@{casterlevel}/2)",a.DC&&(s=parseInt(a.DC,10)||0,p=c+u+10,0!==(o=s-p)&&(e[i+"spell_level-misc"]=o,e[i+"spell_level-misc-mod"]=o))}catch(e){Z.default.error("createFeatureEntries",e)}finally{return e}},{}).value(),r=$.default.extend(r,i)}catch(e){Z.default.error("createFeatureEntries",e)}finally{return r}}function V(e,t){var a;return a=$.default.map(e,function(e){var a;try{a=$.default.findWhere(t,{name:e.name}),a&&$.default.each($.default.keys(a),function(t){"description"===t?e.description=(e.description?e.description+", ":"")+(a.description||""):"shortdesc"===t?e.shortdesc=(e.shortdesc?e.shortdesc+", ":"")+(a.shortdesc||""):!e[t]&&a[t]&&(e[t]=a[t])})}catch(e){Z.default.error("combineSpecialAbilities err1",e)}finally{return e}}),t=$.default.reject(t,function(t){return!!$.default.findWhere(e,{name:t.name})}),a=$.default.union(a,t)}function X(e,t,a){var n=0,r=0,i=0;try{if(a=a||{},n=a.level||0,e.CL&&e.classname){for(r=0;r<7;r++)if((t["class-"+r+"-name"]||t["class-"+r+"-level"]>0)&&(i=r,t["class-"+r+"-name"].toLowerCase()===e.classname.toLowerCase())){!0;break}i>=6?Z.default.warning("too many classes, cannot add "+e.classname):(a["class-"+i+"-name"]=e.classname||"",a["class-"+i+"-level"]=e.CL||0),e.CL&&(n+=e.CL||0),(a.level||0)!==n&&(a.level=n)}}catch(e){Z.default.error("createClassEntries",e)}finally{return a}}function K(e,t,a){var n=function(e){Z.default.info("##############################################"),Z.default.info("Leaving importFromCompendium"),e&&Q.checkForUpdate(!0),"function"==typeof t&&t()},r=$.default.once(function(){Z.default.warn("Leaving importFromCompendium NOTHING DONE"),"function"==typeof a&&a()}),i=le.concat(["is_npc","alignment","npc_parse_no_recalc"]);getAttrs(i,function(e){var t,a,i,l,f,_,g,b,k,K={},Q={},ee={},ae={},re={},ie={},le={},oe={},se={},ce={},ue={},pe=0,fe=0,de=0,me=0,_e=[],ge=0,be=!1,ye=!1,he={},ve="",ke="",we=0,Ae=null,Ce=0,Ie=-1,Se={},Pe={},xe=[],Te=0,Oe={};try{pe=parseInt(e.fort_compendium,10)||0,fe=parseInt(e.ref_compendium,10)||0,de=parseInt(e.will_compendium,10)||0,me=parseInt(e.bab_compendium,10)||0,K.level=0,parseInt(e.npc_parse_no_recalc,10)||(Te=1),K.is_npc="1",K.is_v1="1",K.PFSheet_Version=String(J.default.version.toFixed(3)),K["max-dex-source"]=3,te.getAllMigrateFlags(K),e.xp_compendium&&(K["npc-xp"]=e.xp_compendium),e.cr_compendium&&(t=e.cr_compendium.replace(/\s*cr\s*/i,""),t=Y.trimBoth(t),K["npc-cr"]=t),e.type_compendium&&(K["npc-type"]=e.type_compendium),be=/undead/i.test(e.type_compendium)||/undead/i.test(e.character_name),be&&(K.is_undead="1"),e.character_name&&(K.race=e.character_name),e.class_compendium&&(K.add_class=1,we=0,f=e.class_compendium.split(","),$.default.each(f,function(t){var a,n=0,r="";try{a=t.match(/\d+/),a&&(n=parseInt(a[0],10)||0,r=Y.trimBoth(t.replace(/\s*\d+\s*/," "))),X({classname:r,CL:n},{},K),we++}catch(t){Z.default.error("PFNPCparser error trying to parse class"+e.class_compendium)}}),we>1&&(K.multiclassed=1,K.class1_show=1),we=0,ge=K.level),Q=v(e,be),W(Q,K),ee=ne.setSizeFromString(e.size_compendium,K),_e=U(e["npc-feats-text"]),le=s(_e),Ce=o(e.init_compendium),R(Ce,Q,le,K),e.dr_compendium&&(K.DR=e.dr_compendium),e.sr_compendium&&(K.SR=e.sr_compendium,K["SR-macro-text"]=e.sr_compendium),Oe={baseFort:pe,baseRef:fe,baseWill:de},z(Q,be,Oe,e,le,K),N(Q,be,K),a=parseInt(K["HP-ability-mod"],10),re=c(e.npc_hp_compendium,a),ge+=re.hdice1||0,K.level=ge,j(Q,be,re,K),ie=u(e.ac_compendium,e.cmd_compendium,Q.dex.mod,ee.size),E(ie,Q,le,re,me,ge,K),e.senses_compendium||(f=e.init_compendium.match(/senses/i))&&f[0]&&(e.senses_compendium=Y.trimBoth(e.init_compendium.slice(f.index+7))),e.senses_compendium&&(f=e.senses_compendium.match(/perception/i),K.vision=f?e.senses_compendium.slice(0,f.index-1):e.senses_compendium),e.speed_compendium&&(ae=p(e.speed_compendium),L(ae,le,K)),e.alignment&&(K.alignment=e.alignment.toUpperCase()),e.space_compendium&&(K.space=P(e.space_compendium)),oe=d(e.reach_compendium),oe?(K.reach=oe.reach,oe.reachNotes&&(K["reach-notes"]=oe.reachNotes)):(oe={},oe.reach=5,oe.reachExceptions=[]),ue=B(Q,ee,le,me,ge,e.cmb_compendium,K),$.default.extend(Pe,K),Y.setWrapper(K,J.default.silentParams,function(){Z.default.notice("saved 1")}),K={},H(_e,Pe.race,Pe.level,K),$.default.size(K)&&($.default.extend(Pe,K),Y.setWrapper(K,J.default.silentParams,function(){Z.default.notice("saved 2")}),K={}),q(Q,ee,le,me,ue,oe,e["npc-melee-attacks-text"],e["npc-ranged-attacks-text"],K),$.default.size(K)&&($.default.extend(Pe,K),Y.setWrapper(K,J.default.silentParams,function(){Z.default.notice("saved 3")}),K={}),e["npc-spells-prepared_compendium"]?(ke=e["npc-spells-prepared_compendium"],ye=!0):e["npc-spells-known-text"]&&(ke=e["npc-spells-known-text"]),ke&&(Ie=0,K.use_spells=1,(i=S(ke))&&(K.use_spells=1,l=x(i,Q,re,!1,ye),T(l,Ie,Pe,K),O(i,l,K),$.default.size(K)&&($.default.extend(Pe,K),Y.setWrapper(K,J.default.silentParams,function(){Z.default.notice("saved 4")}),K={}))),e["npc-spellike-ability-text"]&&(b=I(e["npc-spellike-ability-text"]))&&(l=x(b,Q,re,!0),K=M(b,l,Pe.race,Pe.level,K),$.default.size(K)&&($.default.extend(Pe,K),Y.setWrapper(K,J.default.silentParams,function(){Z.default.notice("saved 5")}),K={})),g=w(K,e["npc-special-attacks"],ue.cmb),g&&g.length>0&&(k=$.default.groupBy(g,"specialtype"),D(k.attack,ue,Q,le,null,null,ee,K),Se=k.ability,$.default.size(K)&&($.default.extend(Pe,K),Y.setWrapper(K,J.default.silentParams,function(){Z.default.notice("saved 6")}),K={})),e.content_compendium&&(he=A(e.content_compendium),he?(he.description&&$.default.size(he.description)>0&&(ve=$.default.reduce(he.description,function(e,t){return e+=" ",e+=t},""),K.character_description=ve),he.specialAbilities&&(Se=V(Se,he.specialAbilities))):K.character_description=e.content_compendium),e.SQ_compendium&&(xe=C(e.SQ_compendium))&&(Se=V(Se,xe)),Se&&$.default.size(Se)>0&&(G(Se,Q,Pe.race,Pe.level,K),Ae=$.default.find(Se,function(e){return/sneak.attack/i.test(e.name)}),Ae&&(K.global_precision_dmg_macro="[[[[floor((@{level}+1)/2)]]d6]]",K.global_precision_dmg_type=Ae.name),$.default.size(K)&&($.default.extend(Pe,K),Y.setWrapper(K,J.default.silentParams,function(){Z.default.notice("saved 7")}),K={})),e.skills_compendium&&(ce=h(e.skills_compendium),_=m(e.type_compendium),e.racial_mods_compendium&&(se=y(e.racial_mods_compendium)),ce&&$.default.size(ce)>0&&F(ce,se,Q,le,_,ee,be,K))}catch(e){Z.default.error("importFromCompendium outer at end",e)}finally{$.default.size(K)||$.default.size(Pe)?(K.npc_import_now=0,K["npc-compimport-show"]=0,K.modify_dmg_by_size=1,K.use_buff_bonuses=1,Te&&(K.is_newsheet=1,K.recalc1=1),Y.setWrapper(K,J.default.silentParams,function(){Z.default.notice("##### finished settings now done"),n(Te)})):(K.npc_import_now=0,K["npc-compimport-show"]=0,Y.setWrapper(K,J.default.silentParams,r))}})}Object.defineProperty(t,"__esModule",{value:!0}),t.importFromCompendium=K;var $=l(a(1)),Z=(a(3),l(a(0))),Y=i(a(2)),J=l(a(4)),Q=i(a(41)),ee=l(a(117)),te=i(a(15)),ae=i(a(5)),ne=i(a(31)),re=i(a(21)),ie=i(a(20)),le=(i(a(65)),["npc-spellike-ability-text","npc-spells-known-text","character_name","cr_compendium","xp_compendium","alignment","size_compendium","type_compendium","init_compendium","senses_compendium","npc-aura","ac_compendium","npc_hp_compendium","fort_compendium","ref_compendium","will_compendium","dr_compendium","sr_compendium","npc-defensive-abilities","immunities","resistances","weaknesses","speed_compendium","space_compendium","reach_compendium","npc-melee-attacks-text","npc-ranged-attacks-text","npc-special-attacks","str_compendium","dex_compendium","con_compendium","int_compendium","wis_compendium","cha_compendium","bab_compendium","cmb_compendium","cmd_compendium","class_compendium","npc-feats-text","skills_compendium","racial_mods_compendium","environment","organization","other_items_treasure","languages","SQ_compendium","content_compendium","npc-spells-prepared_compendium"]);on("change:npc_import_now",Z.default.callback(function(e){"player"!==e.sourceType&&"api"!==e.sourceType||(Z.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),getAttrs(["npc_import_now"],function(t){1===parseInt(t.npc_import_now,10)&&K(e)}))}))},function(e,t,a){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(r=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=r(t);if(a&&a.has(e))return a.get(e);var i={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,a&&a.set(e,i),i}function l(e){return e&&e.__esModule?e:{default:e}}function o(e){"giant"===e?getAttrs(["npc-type","size","AC-natural","is_undead","npc-cr","STR-base","STR","STR-mod","CON-base","CON","CON-mod","DEX-base","DEX","DEX-mod"],function(e){var t={},a="",n=0;a=c.getTranslated("giant"),t["npc-type"]=a+" "+e["npc-type"],t=p.modifyAbility("STR",4,e,t),t=p.modifyAbility("DEX",-2,e,t),t=parseInt(e.is_undead,10)?p.modifyAbility("CHA",4,e,t):p.modifyAbility("CON",4,e,t),n=parseInt(e["AC-natural"],10)||0,n+=3,t["AC-natural"]=n,n=parseInt(e["npc-cr"],10)||0,n++,t["npc-cr"]=n,t=f.updateSize(1,e,null,t),c.setWrapper(t,u.default.silentParams,d.recalculate)}):"giantremove"===e?getAttrs(["npc-type","size","AC-natural","is_undead","npc-cr","STR-base","STR","STR-mod","CON-base","CON","CON-mod","DEX-base","DEX","DEX-mod"],function(e){var t={},a="",n=0;a=c.getTranslated("giant")+" ",e["npc-type"]&&(t["npc-type"]=e["npc-type"].replace(a,"")),t=p.modifyAbility("STR",-4,e,t),t=p.modifyAbility("DEX",2,e,t),t=parseInt(e.is_undead,10)?p.modifyAbility("CHA",-4,e,t):p.modifyAbility("CON",-4,e,t),n=parseInt(e["AC-natural"],10)||0,n-=3,t["AC-natural"]=n,n=parseInt(e["npc-cr"],10)||0,n--,t["npc-cr"]=n,t=f.updateSize(-1,e,null,t),c.setWrapper(t,u.default.silentParams,d.recalculate)}):"young"===e?getAttrs(["npc-type","size","AC-natural","is_undead","npc-cr","STR-base","STR","STR-mod","CON-base","CON","CON-mod","DEX-base","DEX","DEX-mod"],function(e){var t={},a="",n=0;a=c.getTranslated("young"),t["npc-type"]=a+" "+e["npc-type"],t=p.modifyAbility("STR",-4,e,t),t=p.modifyAbility("DEX",4,e,t),t=parseInt(e.is_undead,10)?p.modifyAbility("CHA",-4,e,t):p.modifyAbility("CON",-4,e,t),n=parseInt(e["AC-natural"],10)||0,n=Math.max(0,n-2),t["AC-natural"]=n,n=parseInt(e["npc-cr"],10)||0,n--,n<=0&&(n=".5"),t["npc-cr"]=n,t=f.updateSize(-1,e,null,t),c.setWrapper(t,u.default.silentParams,d.recalculate)}):"youngremove"===e?getAttrs(["npc-type","size","AC-natural","is_undead","npc-cr","STR-base","STR","STR-mod","CON-base","CON","CON-mod","DEX-base","DEX","DEX-mod"],function(e){var t={},a="",n=0;a=c.getTranslated("young")+" ",e["npc-type"]&&(t["npc-type"]=e["npc-type"].replace(a,"")),t=p.modifyAbility("STR",4,e,t),t=p.modifyAbility("DEX",-4,e,t),t=parseInt(e.is_undead,10)?p.modifyAbility("CHA",4,e,t):p.modifyAbility("CON",4,e,t),n=parseInt(e["AC-natural"],10)||0,n+=2,t["AC-natural"]=n,n=parseInt(e["npc-cr"],10)||0,n++,t["npc-cr"]=n,t=f.updateSize(1,e,null,t),c.setWrapper(t,u.default.silentParams,d.recalculate)}):"advanced"===e?getAttrs(["npc-type","size","is_undead","AC-natural","npc-cr","STR-base","STR","STR-mod","CON-base","CON","CON-mod","DEX-base","DEX","DEX-mod","INT-base","INT","INT-mod","WIS-base","WIS","WIS-mod","CHA-base","CHA","CHA-mod"],function(e){var t={},a="",n=0;a=c.getTranslated("advanced"),t["npc-type"]=a+" "+e["npc-type"],t=p.modifyAbility("STR",4,e,t),parseInt(e.is_undead,10)||(t=p.modifyAbility("CON",4,e,t)),t=p.modifyAbility("DEX",4,e,t),parseInt(e["INT-base"])>2&&(t=p.modifyAbility("INT",4,e,t)),t=p.modifyAbility("WIS",4,e,t),t=p.modifyAbility("CHA",4,e,t),n=parseInt(e["AC-natural"],10)||0,n+=2,t["AC-natural"]=n,n=parseInt(e["npc-cr"],10)||0,n++,t["npc-cr"]=n,c.setWrapper(t,u.default.silentParams,d.recalculate)}):"degenerate"===e?getAttrs(["npc-type","size","is_undead","AC-natural","npc-cr","STR-base","STR","STR-mod","CON-base","CON","CON-mod","DEX-base","DEX","DEX-mod","INT-base","INT","INT-mod","WIS-base","WIS","WIS-mod","CHA-base","CHA","CHA-mod"],function(e){var t={},a="",n=0;a=c.getTranslated("degenerate"),t["npc-type"]=a+" "+e["npc-type"],t=p.modifyAbility("STR",-4,e,t),parseInt(e.is_undead,10)||(t=p.modifyAbility("CON",-4,e,t)),t=p.modifyAbility("DEX",-4,e,t),t=p.modifyAbility("INT",-4,e,t),t=p.modifyAbility("WIS",-4,e,t),t=p.modifyAbility("CHA",-4,e,t),n=parseInt(e["AC-natural"],10)||0,n-=2,t["AC-natural"]=n,n=parseInt(e["npc-cr"],10)||0,n--,n<=0&&(n=".5"),t["npc-cr"]=n,c.setWrapper(t,u.default.silentParams,d.recalculate)}):"celestial"!==e&&"fiendish"!==e&&"entropic"!==e&&"resolute"!==e||getAttrs(["npc-type","npc-cr","npc-hd","DR","SR-macro-text","SR","resistances","vision","CHA-mod"],function(t){var a={},n="",r="",i=0,l=0,o=0,s="",p="";n=c.getTranslated(e),a["npc-type"]=n+" "+t["npc-type"],l=parseInt(t["npc-hd"],10)||0,/darkvision/i.test(t.vision)||(n=c.getTranslated("darkvision"),n=n+" 60"+getTranslationByKey("feet-abbrv"),t.vision&&(n=n+" "+t.vision),a.vision=n),"celestial"===e?(r="Evil","good",n="Resist Cold, Acid, Electricity "):"fiendish"===e?(r="Good","evil",n="Resist Cold and Fire "):"entropic"===e?(r="Lawful","chaos",n="Resist Acid and Fire "):"resolute"===e&&(r="chaotic","law",n="Resist Acid, Cold, and Fire "),n+=l<5?" 5;":l>=5&&l<=10?" 10;":" 15;",a.resistances=n+(t.resistances||""),n="",l>=5&&l<=10?n="5/"+r+";":l>10&&(n="10/"+r+";"),n&&(a.DR=n+(t.DR||"")),i=parseInt(t["npc-cr"],10)||0,l>=5&&(i++,a["npc-cr"]=o),o=parseInt(t.SR,10)||0,o<i+5&&(n=(t["SR-macro-text"]||"")+"+5",a["SR-macro-text"]="@{npc-cr}+5",a.SR=i+5),s=generateRowID(),p="repeating_ability_"+s+"_",a[p+"name"]="Smite "+r,a[p+"ability_type"]="Su",a[p+"rule_category"]="monster-rule",a[p+"showinmenu"]="1",a[p+"description"]="smite "+r+" 1/day as a swift action (adds Cha bonus to attack rolls and damage bonus equal to HD against "+r+" foes; smite persists until target is dead or the celestial creature rests).",a[p+"short-description"]="Enable in buff list against 1 evil creature",a[p+"frequency"]="perday",a[p+"max-calculation"]="1",a[p+"used_max"]=1,s=generateRowID(),p="repeating_buff2_"+s+"_",a[p+"name"]="Smite "+r+" (Su) 1/day",a[p+"b1_bonus"]="attack",a[p+"b1_bonustype"]="untyped",a[p+"b1_macro-text"]="@{CHA-mod}",a[p+"b1_val"]=parseInt(t["CHA-mod"],10),a[p+"b2_bonus"]="attack",a[p+"b2_bonustype"]="untyped",a[p+"b2_macro-text"]="@{npc-hd}",a[p+"b2_val"]=parseInt(t["npc-hd"],10),a[p+"notes"]="vs one "+r+" creature",c.setWrapper(a,u.default.silentParams,d.recalculate)}),c.setWrapper({template_to_add:"",add_template:0},u.default.silentParams)}var s=(l(a(1)),l(a(0))),c=i(a(2)),u=l(a(4)),p=i(a(20)),f=i(a(31)),d=i(a(41));!function(){on("change:add_template",s.default.callback(function(e){s.default.debug("caught "+e.sourceAttribute+" event: "+e.sourceType),"player"!==e.sourceType&&"api"!==e.sourceType||getAttrs(["template_to_add","add_template"],function(e){parseInt(e.add_template,10)&&o(e.template_to_add)})}))}()}]);</script>





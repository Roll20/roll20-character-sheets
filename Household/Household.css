
body.sheet-darkmode .charsheet {
    background-color: black;
}

@keyframes tooltipFadeIn {
    from { opacity: 0; }
    to { opacity: 1;  }
}

@keyframes tooltipFadeOut {
    from { opacity: 1; }
    to { opacity: 0;  }
}

.repcontrol_move {
    display: none;
}

.repcontrol_add,
.repcontrol_edit,
.repcontrol_del {
    line-height: 12px;
    font-size: 9px;
}

.repcontrol_add {
    margin-left: 5px;
}

.repcontrol_edit {
    margin-right: 5px;
}

.repcontrol_del {
    margin-top: -5px;
    margin-right: 5px;
}

.hhtooltiptext {
    display: none;
    font-family: "Fraunces", serif !important;
    width: 300px;
    text-align: left;
    background-color: #e8dcec;
    color: black;
    font-size: 12px;
    padding: 5px;
    border: 1px black solid;
    border-radius: 3px;
    position: absolute;
    z-index: 1;
    height: fit-content !important;
    line-height: normal;
}

.hhtooltip .hhtooltiptext:hover {
    display: none;
    animation: tooltipFadeOut 0.15s;
}

body.sheet-darkmode .household-tooltips > span {
    color: lightgray;
}

.household-tooltips:has(.household-tooltips-cb:checked) .hhtooltip:hover .hhtooltiptext {
    display: block;
    pointer-events: none;
    animation: tooltipFadeIn 0.15s;
}
.household-tooltips:has(.household-tooltips-cb:checked) .hhtooltip:hover .hhtooltiptext {
    display: block;
    animation: tooltipFadeIn 0.15s;
}

.household-tooltips:has(.household-tooltips-cb:checked) .hhtooltip .hhtooltiptext:hover {
    display: none;
    animation: tooltipFadeOut 0.15s;
}

body {
    font-family: "Fraunces", serif !important;
    font-optical-sizing: auto;
    font-weight: normal;
    font-style: normal;
}

textarea {
/*    Firefox doesnt understand some CSS!*/
/*    width: stretch !important;*/
    width: calc(100% - 20px) !important;
    outline-color: #c2aec9;
    background-color: white;
}

input {
    accent-color: #c2aec9;
    outline-color: #c2aec9;
    font-weight: bold;
    background-color: white;
}

div[class^='household'] > h3 {
    text-align: center;
    font-family: "IM Fell DW Pica SC", serif;
    font-optical-sizing: auto;
    font-weight: normal;
    font-style: normal;
    font-size: 22px;
}

.household-main-grid {
    background-image: url(https://files.d20.io/images/472619011/4RL_X08JO1jaaEJPHfq7BA/original.png?1769090854);
    background-color: #fdfcf3;
    background-size:cover;
    display: grid;
    grid-template-areas:
    "skills aces decorum avatar"
    "skills traits stress avatar"
    "skills traits moves avatar"
    "skills traits moves avatar"
    "skills traits moves details"
    "skills contracts conditions details"
    "skills contracts conditions memories"
    "skills contracts conditions memories"
    "equipment equipment ttt experiences"
    "equipment equipment ttt experiences"
    "notes notes notes notes"
    ;
    grid-template-columns: 200px 200px 215px 258px;
    row-gap: 5px;
    column-gap: 5px;
    /*  Pull the main container to the left to remove white border, then offset to the right so background fills space  */
    margin-left: -30px;
    margin-right: -30px;
}

.household-main-grid > div {
    border: 1px solid black;
    border-radius: 3px;
    height: inherit;
    padding-bottom: 3px;
}

.household-skills {
    grid-area: skills;
}

.household-skills > div > img {
    position: absolute;
    opacity: 0.1;
    width: 120px;
    margin-top: 32px;
    pointer-events: none;
}

.household-skills > div > div {
    display: flex;
    align-items: baseline;
    height: 25px;
}

.household-skills > div > div:first-of-type > span {
    width: 60%;
}

.household-skills > div > div > span {
    text-align: center;
    font-family: "IM Fell DW Pica SC", serif ;
    font-optical-sizing: auto;
    font-size: 26px;
    margin-right: 5px;
    text-align: right;
}

.household-skills input[type='checkbox'] {
    display: none;
}

.household-skills label {
    font-weight: normal;
    color: darkgray;
    padding-right: 0;
    width: 24px !important;
    text-align: center;
    width: 30px;
    font-size: 20px;
    margin-top: 10px;
}

.household-fields {
    display: grid !important;
    grid-template-columns: 120px 16px 16px 16px 16px;
}

.household-fields > span {
    font-size: 14px !important;
    text-align: right !important;
    margin-right: 5px;
}

.household-fields > label {
    font-size: 14px !important;
}

.household-skills-society input[type='checkbox'] + label:before,
.household-fields-society input[type='checkbox'] + label:before {
    content:"♥";
    color: lightgray;
    margin-right: -10px;
}

.household-skills-society input[type='checkbox']:checked + label:before,
.household-fields-society input[type='checkbox']:checked + label:before {
    content:"♥";
    color: red;
    margin-right: -10px;
}

.household-skills-academia input[type='checkbox'] + label:before,
.household-fields-academia input[type='checkbox'] + label:before {
    content:"♦";
    color: lightgray;
    margin-right: -10px;
}

.household-skills-academia input[type='checkbox']:checked + label:before,
.household-fields-academia input[type='checkbox']:checked + label:before {
    content:"♦";
    color: #3260a6;
    margin-right: -10px;
}

.household-skills-war input[type='checkbox'] + label:before,
.household-fields-war input[type='checkbox'] + label:before {
    content:"♣";
    color: lightgray;
    margin-right: -10px;
}

.household-skills-war input[type='checkbox']:checked + label:before,
.household-fields-war input[type='checkbox']:checked + label:before {
    content:"♣";
    color: #448540;
    margin-right: -10px;
}

.household-skills-street input[type='checkbox'] + label:before,
.household-fields-street input[type='checkbox'] + label:before {
    content:"♠";
    color: lightgray;
    margin-right: -10px;
}

.household-skills-street input[type='checkbox']:checked + label:before,
.household-fields-street input[type='checkbox']:checked + label:before {
    content:"♠";
    color: black;
    margin-right: -10px;
}

.household-aces {
    grid-area: aces;
}

.household-aces > div {
    display: flex;
}

.household-aces > div > div {
    flex: 1;
}

.household-aces > div > div:first-of-type {
    margin-left: 10px;
}

.household-moves input[type='checkbox'],
.household-aces input[type='checkbox'] {
    display: none;
}

.household-moves label,
.household-aces label {
    font-size: 30px;
    height: 30px;
    width: 25px;
    font-weight: normal;
    color: darkgray;
    padding-right: 15px;
    text-align: center;
    margin-top: -20px;
    font-family: "IM Fell DW Pica SC", serif;
}

.household-moves label {
    font-size: 16px;
    margin-top: 3px;
    height: auto;
    width: 1px;
}

.household-rep-moves > div > div:nth-of-type(1) label:has(input[type="checkbox"]):before,
.household-moves #ace_heart_move + label:before,
.household-aces #ace_heart + label:before {
    content:"♥";
    color: lightgray;
}

.household-rep-moves > div > div:nth-of-type(1) label:has(input[type="checkbox"]:checked):before,
.household-moves #ace_heart_move:checked + label:before,
.household-aces #ace_heart:checked + label:before {
    content:"♥";
    color: red;
}

.household-rep-moves > div > div:nth-of-type(2) label:has(input[type="checkbox"]):before,
.household-moves #ace_diamond_move + label:before,
.household-aces #ace_diamond + label:before {
    content:"♦";
}

.household-rep-moves > div > div:nth-of-type(2) label:has(input[type="checkbox"]:checked):before,
.household-moves #ace_diamond_move:checked + label:before,
.household-aces #ace_diamond:checked + label:before {
    content:"♦";
    color: #3260a6;
}

.household-rep-moves > div > div:nth-of-type(3) label:has(input[type="checkbox"]):before,
.household-moves #ace_club_move + label:before,
.household-aces #ace_club + label:before {
    content:"♣";
}

.household-rep-moves > div > div:nth-of-type(3) label:has(input[type="checkbox"]:checked):before,
.household-moves #ace_club_move:checked + label:before,
.household-aces #ace_club:checked + label:before {
    content:"♣";
    color: #448540;
}

.household-rep-moves > div > div:nth-of-type(4) label:has(input[type="checkbox"]):before,
.household-moves #ace_spade_move + label:before,
.household-aces #ace_spade + label:before {
    content:"♠";
}

.household-rep-moves > div > div:nth-of-type(4) label:has(input[type="checkbox"]:checked):before,
.household-moves #ace_spade_move:checked + label:before,
.household-aces #ace_spade:checked + label:before {
    content:"♠";
    color: black;
}

.household-rep-moves > div > div:nth-of-type(5) label:has(input[type="checkbox"]):before,
.household-moves #move_used + label:before,
.household-contracts #contract_used + label:before {
    content:"○";
    font-size: 25px;
}

.household-rep-moves > div > div:nth-of-type(5) label:has(input[type="checkbox"]:checked):before,
.household-moves #move_used:checked + label:before,
.household-contracts #contract_used:checked + label:before {
    content:"●";
    color: black;
    font-size: 25px;
}

.household-aces #ace_joker + label:before {
    content:"J";
}

.household-aces #ace_joker:checked + label:before {
    content:"J";
    color: purple;
}

.household-decorum {
    grid-area: decorum;
}

.household-decorum > div {
    justify-content: center;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

.household-decorum > div > div > span {
    display: block;
    font-size: 12px;
    text-align: center;
}

.household-decorum input[type='radio'] {
    display: none;
}

.household-decorum input[type="radio"] + label {
    color: darkgray;
    text-align: center;
    margin-bottom: 0;
}

.household-decorum input[type="radio"] + label:before {
    content:"ཐི༏ཋྀ";
}

.household-decorum input[type="radio"]:checked + label:before {
    content:"ཐི༏ཋྀ";
    color: purple;
}

.household-avatar {
    background-image: url(https://files.d20.io/images/472619025/e8qfzgnVvhonVMD_aGRp4A/original.png?1769090861);
    /*    background-color: #d9d2e9;*/
    /*    clip-path: polygon(*/
    /*    5% 0%,*/
    /*    95% 0%,*/
    /*    95% 95%,*/
    /*    50% 85%,*/
    /*    5% 95%*/
    /*    );*/
    border: 0 !important;
    background-position: center;
    background-size: contain;
    background-repeat: no-repeat;
    grid-area: avatar;
    padding: 15px;
    padding-bottom: 5px;
    padding-top: 5px;
}

.household-logo {
    display: block;
    position: relative;
    width: 70px;
    margin: 0 auto;
    margin-top: -35px;
    margin-bottom: 10px;
    background-color: white;
    border: 1px solid black;
}

.household-avatar > div {
    text-align: center;
}

.household-avatar > img:first-child {
    border: 1px solid black;
    margin: 5px;
    width: -webkit-fill-available;
    background-color: #ffffff99;
}

.household-avatar input[type="number"] {
    border: 2px solid black;
    border-radius: 0;
    margin-top: -2px;
}

.household-traits {
    grid-area: traits;
}

.household-traits div,
.household-moves div,
.household-contracts div {
    margin-top: 5px;
}

.household-moves > div span,
.household-contracts > div span {
    display: flex;
    margin-left: 5px;
}

.household-moves div input[type='checkbox'],
.household-contracts div input[type='checkbox'] {
    display: none;
}

.household-moves div label,
.household-contracts div label {
    margin-bottom: 0;
}

.household-moves div span label {
    margin-left: 5px;
    margin-top: 0px;
}

.household-contracts div span label {
    margin-left: 5px;
    margin-top: -2px;
}

.household-moves div span label:before,
.household-contracts div span label:before {
    content: "○";
    font-size: 25px;
}

.household-moves div span label:has(input[type='checkbox']:checked):before,
.household-contracts div span label:has(input[type='checkbox']:checked):before {
    content: "●";
    color: black;
    font-size: 25px;
}

.household-rep-moves {
    width: 100%;
}

.household-rep-moves > div,
.household-moves > div > div {
    display: flex;
    margin: 0 auto;
    margin-left: 5px;
    width: calc(100% - 10px);
    height: auto;
}

.household-rep-moves > div {
    width: 100% !important;
}

.household-traits div > input,
.household-moves div > input,
.household-contracts div > input {
    margin-bottom: 0px;
}

.household-traits div > textarea,
.household-moves div > textarea,
.household-contracts div > textarea {
    margin-bottom: -3px;
}

.household-traits div > input[type="text"],
.household-traits div > textarea,
.household-moves div > input[type="text"],
.household-moves div > textarea,
.household-contracts div > input[type="text"],
.household-contracts div > textarea,
.household-memories div > textarea,
.household-experiences div > textarea,
.household-ttt-text div > textarea,
.household-equipment div > textarea,
.household-notes textarea {
    height: auto !important;
    resize: vertical;
    field-sizing: content;
    background-color: white;
    margin-left: 5px;
    margin-right: 5px;
}

.household-moves div > input {
    margin-left: 0 !important;
}

.household-rep-moves div > input {
    margin-left: -5px !important;
}

.household-rep-moves textarea {
    margin-left: 0 !important;
}

.household-contracts div > input,
.household-traits div > input,
.household-moves div > input,
.household-experiences div > input {
    width: calc(100% - 10px);
    margin-bottom: 3px;
}

.household-stress {
    grid-area: stress;
}

.household-stress > div {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0 auto;
    margin-bottom: 10px;
    gap: 3px;
}

.household-stress span {
    border: 2px solid #c2aec9;
    border-style: double;
    border-radius: 2px;
    padding: 2px;
    height: 15px;
}

.household-stress span input {
    margin-bottom: 5px;
}

.household-conditions {
    grid-area: conditions;
}

.household-conditions > div {
    display: grid;
    grid-template-columns: 180px 30px;
}

.household-conditions > div > input[type="text"] {
    background-color: white;
    margin-bottom: 3px;
    margin-left: 5px;
    width: auto;
}

.household-conditions input[type='checkbox'] {
    display: none;
    margin-left: 8px !important;
}

.household-conditions span {
    margin-left: 5px;
}
.household-conditions label {
    font-size: 20px;
    margin-left: 5px;
    margin-bottom: 5px;
}

.household-conditions #condition_embarrassed + label:before {
    content:"♥";
    color: lightgray;
}

.household-conditions #condition_embarrassed:checked + label:before {
    content:"♥";
    color: red;
}

.household-conditions #condition_confused + label:before {
    content:"♦";
    color: lightgray;
}

.household-conditions #condition_confused:checked + label:before {
    content:"♦";
    color: #3260a6;
}

.household-conditions #condition_hurt + label:before {
    content:"♣";
    color: lightgray;
}

.household-conditions #condition_hurt:checked + label:before {
    content:"♣";
    color: #448540;
}

.household-conditions #condition_frightened + label:before {
    content:"♠";
    color: lightgray;
}

.household-conditions #condition_frightened:checked + label:before {
    content:"♠";
    color: black;
}

.household-conditions-other {
    display: block !important;
    width: 13px !important;
    margin-left: 5px !important;
    margin-bottom: 5px !important;
    margin-right: 5px !important;
}

.household-details {
    grid-area: details;
    display: grid;
    grid-template-columns: 0.25fr 165px;
    align-content: baseline;
}

.household-details > span {
    margin-top: 8px;
    margin-right: 3px;
    margin-left: 5px;
    text-align: right
}

.household-details > input {
    margin-top: 3px;
    margin-right: 3px;
    height: fit-content !important;
    background-color: white;
    width: calc(100% - 15px);
}

.household-moves {
    grid-area: moves;
}

.household-contracts {
    grid-area: contracts;
}

.household-memories {
    grid-area: memories;
}

.household-equipment {
    grid-area: equipment;
}

.household-equipment > div.household-societalclass {
    display: grid;
    /*    grid-template-columns: 1fr 15px 1.5fr 15px 1.5fr 15px 1fr 15px 1fr auto;*/
    grid-template-columns: 0.5fr 15px 1.6fr 15px 1.2fr 15px 0.5fr 15px;
    grid-column-gap: 10px;
}

.household-equipment .household-societalclass label,
.household-equipment .household-coins label,
.household-ttt-value label {
    text-align: right;
    font-family: "IM Fell DW Pica SC", serif;
    font-size: 15px;
    margin-top: 7px;
    color: black;
}

.household-equipment .household-societalclass label,
.household-equipment .household-coins label {
    font-size: 12px;
}

.household-equipment .household-societalclass input[type="radio"] {
    margin-bottom: 5px;
    margin-right: 10px;
    width: 10px;
}

.household-equipment .household-societalclass input[type="number"] {
    height: 20px;
    margin-top: 5px;
    margin-right: 5px;
}

.household-equipment-list {
    margin-top: -12px;
}

.household-equipment-list .household-equipment-rep > input:nth-of-type(1),
.household-equipment-list > div > input:nth-of-type(1) {
    margin-left: 5px;
    margin-bottom: 3px;
}

.household-equipment-list .household-equipment-rep > input:nth-of-type(2),
.household-equipment-list > div input:nth-of-type(2) {
    width: 70%;
    font-weight: normal;
}

.household-equipment .household-coins {
    display: flex;
}

.household-equipment .household-coins input {
    height: 25px;
    margin-top: 3px;
    margin-right: 5px;
}

.household-ttt {
    grid-area: ttt;
}

.household-ttt > .household-ttt-value {
    display: grid;
    grid-template-columns: 0.2fr 15px 0.2fr 15px 0.2fr 15px 0.2fr 15px 0.2fr 15px;
    column-gap: 0px;
    margin-right: 5px;
}

.household-ttt-value label {
    text-align: center;
    color: black !important;
}
.household-experiences {
    grid-area: experiences;
}

.household-notes {
    grid-area: notes;
}

.sheet-rolltemplate-diceroller {
    border: 2px solid var(--primary-color);
    border-radius: 5px;
    padding: 5px;
    background-image: url("https://files.d20.io/images/462001457/jDLLcdvP4XFCRYOk4vO4hw/original.png?17616517635");
    background-color: #d9d2e9;
    background-repeat: no-repeat;
    background-position: center center;
    background-blend-mode: overlay;
    background-color: #eeeeeedd;
    border-radius: 6px;
    border: 2px solid purple;
}

.sheet-rolltemplate-diceroller > div > div {
    display: grid;
    grid-template-columns: 1fr;
}

.sheet-rolltemplate-diceroller > div > div > span:first-of-type {
    margin-bottom: 15px;
}

.sheet-rolltemplate-diceroller > div > div > span {
    font-weight: bold;
    font-style: italic;
    font-size: 2em;
    text-shadow: 2px 2px 2px white;
    color: var(--color-text);
    text-align: center;
    font-family: "IM Fell DW Pica", serif;
    font-style: italic;
    margin-top: 3px;
}

.sheet-rolltemplate-diceroller > div > div > span:nth-of-type(2) {
    font-size: 1.5em;
    padding: 5px;
    line-height: 1em;
}

.sheet-rolltemplate-diceroller > div > div > div {
    display: inline-flex;
    font-size: 0.75em;
    font-size: 1.2em;
    padding-bottom: 5px;
    color: var(--color-text);
    text-align: center;
    font-family: "IM Fell DW Pica", serif;
}

.sheet-rolltemplate-diceroller > div > div > div > span {
    margin-top: 10px;
}

.sheet-rolltemplate-diceroller > div > div > div > a {
    pointer-events: none;
}

.sheet-rolltemplate-diceroller > div > div > div:empty,
.sheet-rolltemplate-diceroller > div > div > div:not(nth-of-type(7)):not(:has(a)) {
    display: none;
}

.sheet-rolltemplate-diceroller > div > div > div:nth-of-type(7) {
    font-size: 1.6em;
    display: inline-block;
    margin-bottom: 5px;
}

.sheet-rolltemplate-diceroller > div > div > div:not(:nth-of-type(7)):not(:has(a)) {
    display: none;
}

.sheet-rolltemplate-diceroller > div > div > div:nth-of-type(7):has(span:nth-of-type(1):empty) .sheet-rolltemplate-diceroller > div > div > div:nth-of-type(7):has(span:nth-of-type(1): empty) {
    display: none;
}

.sheet-rolltemplate-diceroller img {
    width: 35px;
    height: 35px;
    margin-bottom: 10px;
    margin-right: 5px;
}

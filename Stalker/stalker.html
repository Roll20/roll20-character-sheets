<html><head><meta charset="utf-8"><link rel="stylesheet"href="../sheet.css"></head><body><div class="stalker"><div class="sheet"><input type="hidden"name="attr_show_vehicle"value="0"><input type="hidden"name="attr_show_den"value="0"><input type="hidden"name="attr_sheet_type"value="pc"><input type="hidden"name="attr_armament_levels"value="0"><input type="checkbox"class="mod tab0"id="tab0"name="attr_show_all_tabs"value="1"/><label for="tab0"data-i18n="show_all_tabs">Show All Tabs</label><input type="checkbox"class="mod"id="ask_modifier"name="attr_ask_rollmodifier"value="1"/><label for="ask_modifier"data-i18n="roll_modifier">Roll Modifier</label><input type="checkbox"class="mod"id="ask_whisper"name="attr_ask_rollwhisper"value="1"/><label for="ask_whisper"data-i18n="whisper_to_gm">Whisper to GM</label><input type="radio"class="tog tab1"id="tab1"name="attr_tab"value="1"checked="checked"/><label for="tab1"data-i18n="character">Character</label><input type="radio"class="tog tab2"id="tab2"name="attr_tab"value="2"/><label for="tab2"data-i18n="abilities">Abilities</label><input type="radio"class="tog tab3"id="tab3"name="attr_tab"value="3"/><label for="tab3"data-i18n="status">Status</label><input type="radio"class="tog tab8"id="tab8"name="attr_tab"value="8"/><label for="tab8"data-i18n="settings">Settings</label><input type="radio"class="tog tab4"id="tab4"name="attr_tab"value="4"/><label for="tab4"data-i18n="specialities">Specialities</label><input type="radio"class="tog tab5"id="tab5"name="attr_tab"value="5"/><label for="tab5"data-i18n="armament">Armament</label><input type="radio"class="tog tab6"id="tab6"name="attr_tab"value="6"/><label for="tab6"data-i18n="equipment">Equipment</label><input type="radio"class="tog tab7"id="tab7"name="attr_tab"value="7"/><label for="tab7"data-i18n="inventory">Inventory</label><div class="ruler"></div><div class="money"><h1 class="hidden"data-i18n="money">Money</h1><label for="money_gain"data-i18n="money_gain">Gain</label><input type="number"id="money_gain"name="attr_money_gain"min="0"max="999999"step="1"value="0"/><button type="action"name="act_gain_money"data-i18n-title="money_cash"title="Cash">%</button><label for="money_lose"data-i18n="money_lose">Lose</label><input type="number"id="money_lose"name="attr_money_lose"min="0"max="999999"step="1"value="0"/><button type="action"name="act_lose_money"data-i18n-title="money_pay"title="Pay">$</button><label for="money"data-i18n="rubles">Rubles</label><input id="money"type="number"name="attr_money"min="0"max="999999"step="1"value="0"readonly="readonly"/><span data-i18n="rubles_a">ru</span></div><div class="modifiers"><h1 class="hidden"data-i18n="modifiers">Modifiers</h1><div class="leadership"><label for="leadership"data-i18n="leadership">Leadership</label><input id="leadership"name="attr_leadership"type="number"min="0"max="10"value="0"/><button type="action"name="act_leadership_reset">*</button></div><input class="selfcontrol-toggle"name="attr_selfcontrol_toggle"type="hidden"value="1"/><div class="selfcontrol"><label for="selfcontrol_ctrl"data-i18n="selfcontrol">Self-control</label><input id="selfcontrol_ctrl"name="attr_selfcontrol_ctrl"type="checkbox"value="1"/><span></span></div><div class="selfcontrol-warning"data-i18n="selfcontrol_warning">No more Self-control</div></div><div class="tab tab1 character"><h1 data-i18n="state">State</h1><div class="state"><div><label for="char_surname"data-i18n="char_surname">Name</label><input type="text"id="char_surname"name="attr_character_name"value="Charname"readonly="readonly"/></div><div><label for="char_fname"data-i18n="char_fname">First</label><input type="text"id="char_fname"name="attr_char_fname"/></div><div><label for="char_lname"data-i18n="char_lname">Last</label><input type="text"id="char_lname"name="attr_char_lname"/></div><div><label for="char_age"data-i18n="char_age">Age</label><input type="text"id="char_age"name="attr_char_age"/></div><div><label for="char_size"data-i18n="char_size">Size</label><input type="text"id="char_size"name="attr_char_size"/></div><div><label for="char_weight"data-i18n="char_weight">Weight</label><input type="text"id="char_weight"name="attr_char_weight"/></div><div><label for="char_skin"data-i18n="char_skin">Skin</label><input type="text"id="char_skin"name="attr_char_skin"/></div><div><label for="char_hair"data-i18n="char_hair">Hair</label><input type="text"id="char_hair"name="attr_char_hair"/></div><div><label for="char_eyes"data-i18n="char_eyes">Eyes</label><input type="text"id="char_eyes"name="attr_char_eyes"/></div><div><label for="char_faction"data-i18n="char_faction">Faction</label><select id="char_faction"name="attr_char_faction"><option value="">&ndash;</option><option value="loners"data-i18n="loners">Loners</option><option value="duty"data-i18n="duty">Duty</option><option value="freedom"data-i18n="freedom">Freedom</option><option value="clearsky"data-i18n="clearsky">ClearSky</option><option value="ecologists"data-i18n="ecologists">Ecologists</option><option value="mercenaries"data-i18n="mercenaries">Mercenaries</option><option value="military_forces"data-i18n="military_forces">Military Forces</option><option value="unisg"data-i18n="unisg">UNISG</option><option value="bandits"data-i18n="bandits">Bandits</option><option value="renegades"data-i18n="renegades">Renegades</option><option value="monolith"data-i18n="monolith">Monolith</option><option value="sin"data-i18n="sin">Sin</option></select></div><div><label for="char_rank"data-i18n="char_rank">Rank</label><input type="text"id="char_rank"name="attr_char_rank"readonly="readonly"/></div><div><label for="char_gender"data-i18n="char_gender">Gender</label><select id="char_gender"name="attr_char_gender"><option value="m"data-i18n="male">Male</option><option value="f"data-i18n="female">Female</option><option value="c"data-i18n="chopper">Chopper</option></select></div><input class="badge"type="hidden"name="attr_char_faction"value=""><span></span><div class="xp"><label for="options_flag_xp"data-i18n="xp">XP</label><span><span name="attr_xp_spent">&ndash;</span><span>/</span><span name="attr_xp">&ndash;</span></span><input class="options-flag"id="options_flag_xp"name="attr_options_flag_xp"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options"><span><label for="xp"data-i18n="experience">Experience</label><input type="number"id="xp"name="attr_xp"value="0"min="0"max="999"/></span><span><label for="xp_spent"data-i18n="xp_spent">Spent</label><input type="number"id="xp_spent"name="attr_xp_spent"value="0"min="0"max="999"/></span><span><label for="xp_rest"data-i18n="xp_remainder">Remainder</label><input type="number"id="xp_rest"name="attr_xp_rest"value="0"min="0"readonly="readonly"/></span><div><textarea name="attr_xp_desc"data-i18n-placeholder="xp_desc_pl"placeholder="Experience's description&hellip;"></textarea></div></div></div></div><h1 data-i18n="history">History</h1><div class="history"><div class="block antecedents"><input class="options-flag options-toggle"name="attr_options_toggle_antecedents"type="checkbox"value="1"data-i18n-title="expand_reduce_options"title="Expand/Collapse options"/><span></span><input type="hidden"name="attr_options_counter_antecedents"value="0"><label><span name="attr_antecedents_str"></span></label><fieldset class="repeating_antecedents"><div class="line"><button class="pictos mrgt"type="roll"value="@{rollbase} {{header=@{antecedent}}} {{desc=@{antecedent_desc}}}">E</button><input type="text"name="attr_antecedent"data-i18n-placeholder="antecedent_pl"placeholder="Antecedent or trait&hellip;"/><input class="options-flag"name="attr_options_flag_antecedents"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options boxed"><textarea name="attr_antecedent_desc"data-i18n-placeholder="antecedent_desc_pl"placeholder="Antecedent's description&hellip;"></textarea></div></div></fieldset></div><div class="block titles"><input class="options-flag options-toggle"name="attr_options_toggle_titles"type="checkbox"value="1"data-i18n-title="expand_reduce_options"title="Expand/Collapse options"/><span></span><input type="hidden"name="attr_options_counter_titles"value="0"><label data-i18n="titles">Titles</label><fieldset class="repeating_titles"><div class="line"><button class="pictos mrgt"type="roll"value="@{rollbase} {{header=@{title}}} {{desc=@{title_desc}}}">E</button><input type="text"name="attr_title"data-i18n-placeholder="title_pl"placeholder="Title&hellip;"/><input class="options-flag"name="attr_options_flag_titles"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options boxed"><textarea name="attr_title_desc"data-i18n-placeholder="title_desc_pl"placeholder="Title's description&hellip;"></textarea></div></div></fieldset></div><div class="block reputation"><label data-i18n="reputation">Reputation</label><fieldset class="repeating_reputation"><div class="line"><button class="pictos mrgt"type="roll"value="@{rollbase} {{header=@{reputation}}} {{reputation=@{reputation_rank}}}">E</button><input type="text"name="attr_reputation"data-i18n-placeholder="reputation_pl"placeholder="Area or faction&hellip"/><select name="attr_reputation_rank"><option value="heroic"data-i18n="reputation_heroic">Heroic (+5)</option><option value="awesome"data-i18n="reputation_awesome">Awesome (+4)</option><option value="excellent"data-i18n="reputation_excellent">Excellent (+3)</option><option value="good"data-i18n="reputation_good">Good (+2)</option><option value="decent"data-i18n="reputation_decent">Decent (+1)</option><option value="neutral"data-i18n="reputation_neutral"selected="selected">Neutral (+0)</option><option value="mean"data-i18n="reputation_mean">Mean (-1)</option><option value="bad"data-i18n="reputation_bad">Bad (-2)</option><option value="awful"data-i18n="reputation_awful">Awful (-3)</option><option value="infamous"data-i18n="reputation_infamous">Infamous (-4)</option><option value="terrible"data-i18n="reputation_terrible">Terrible (-5)</option></select></div></fieldset></div><div class="biography"><label data-i18n="biography">Biography</label><textarea name="attr_biography"data-i18n-placeholder="biography_pl"placeholder="Biography&hellip;"></textarea></div></div></div><div class="tab tab2 abilities"><h1 data-i18n="abilities">Abilities</h1><input class="options-flag options-toggle"name="attr_options_toggle_abilities"type="checkbox"value="1"data-i18n-title="expand_reduce_options"title="Expand/Collapse options"/><span></span><input type="hidden"name="attr_options_counter_abilities"value="0"><input type="hidden"name="attr_null_die"value="0"/><div class="header"><span data-i18n="ability">Ability</span><span data-i18n="value">Value</span><span data-i18n="pool">Pool</span><span data-i18n="uses">Uses</span></div><div class="ability"><input type="hidden"name="attr_strength_die"value="1"/><button class="dicefont roll-button"name="roll_strength"type="roll"value="@{rollbase} {{header=^{strength}}} {{showability=[[@{strength_use}]]}} {{r_ability=[+@{strength_die}d10](@{show_strength})}} {{draw_ability=[}](@{draw_strength})}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[@{strength_die}d10 [@{ability_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"data-i18n-title="roll_abi"title="Ability roll">0</button><button name="roll_show_strength"type="roll"value="@{rollbase} {{header=^{strength}}} {{ability_val=[@{strength}](~show_strength)}} {{ability_use=@{strength_use}}} {{showability=[[@{strength_use}]]}} {{button=[^{draw_ability}](~use_strength)}}"data-i18n-title="show_abi"title="Show ability"><span data-i18n="strength">Strength</span></button><span class="case"name="attr_strength">1</span><span class="usable"name="attr_strength_use">0</span><div class="ability-boxes"><input type="hidden"name="attr_strength"value="0"/><input type="radio"name="attr_strength_use"value="0"title="0"checked="checked"/><span></span><input type="radio"name="attr_strength_use"value="1"title="1"/><span></span><input type="radio"name="attr_strength_use"value="2"title="2"/><span></span><input type="radio"name="attr_strength_use"value="3"title="3"/><span></span><input type="radio"name="attr_strength_use"value="4"title="4"/><span></span><input type="radio"name="attr_strength_use"value="5"title="5"/><span></span><input type="radio"name="attr_strength_use"value="6"title="6"/><span></span><input type="radio"name="attr_strength_use"value="7"title="7"/><span></span><input type="radio"name="attr_strength_use"value="8"title="8"/><span></span><input type="radio"name="attr_strength_use"value="9"title="9"/><span></span><input type="radio"name="attr_strength_use"value="10"title="10"/><span></span><input type="radio"name="attr_strength_use"value="11"title="11"/><span></span><input type="radio"name="attr_strength_use"value="12"title="12"/><span></span><input type="radio"name="attr_strength_use"value="13"title="13"/><span></span><input type="radio"name="attr_strength_use"value="14"title="14"/><span></span><input type="radio"name="attr_strength_use"value="15"title="15"/><span></span><input type="radio"name="attr_strength_use"value="16"title="16"/><span></span><input type="radio"name="attr_strength_use"value="17"title="17"/><span></span><input type="radio"name="attr_strength_use"value="18"title="18"/><span></span><input type="radio"name="attr_strength_use"value="19"title="19"/><span></span><input type="radio"name="attr_strength_use"value="20"title="20"/><span></span></div><input class="options-flag"name="attr_options_flag_strength"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options"><label for="strength_base"data-i18n="base">Base</label><input type="number"id="strength_base"name="attr_strength_base"value="0"min="0"max="10"/><label for="strength_aug"data-i18n="aug">Aug.</label><input type="number"id="strength_aug"name="attr_strength_aug"value="0"min="-10"max="10"/><label for="strength_mod"data-i18n="mod">Mod.</label><input type="number"id="strength_mod"name="attr_strength_mod"value="0"min="-10"max="10"/></div></div><div class="ability"><input type="hidden"name="attr_endurance_die"value="1"/><button class="dicefont roll-button"name="roll_endurance"type="roll"value="@{rollbase} {{header=^{endurance}}} {{showability=[[@{endurance_use}]]}} {{r_ability=[+@{endurance_die}d10](@{show_endurance})}} {{draw_ability=[}](@{draw_endurance})}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[@{endurance_die}d10 [@{ability_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"data-i18n-title="roll_abi"title="Ability roll">0</button><button name="roll_show_endurance"type="roll"value="@{rollbase} {{header=^{endurance}}} {{ability_val=[@{endurance}](~show_endurance)}} {{ability_use=@{endurance_use}}} {{showability=[[@{endurance_use}]]}} {{button=[^{draw_ability}](~use_endurance)}}"data-i18n-title="show_abi"title="Show ability"><span data-i18n="endurance">Endurance</span></button><span class="case"name="attr_endurance">1</span><span class="usable"name="attr_endurance_use">0</span><div class="ability-boxes"><input type="hidden"name="attr_endurance"value="0"/><input type="radio"name="attr_endurance_use"value="0"title="0"checked="checked"/><span></span><input type="radio"name="attr_endurance_use"value="1"title="1"/><span></span><input type="radio"name="attr_endurance_use"value="2"title="2"/><span></span><input type="radio"name="attr_endurance_use"value="3"title="3"/><span></span><input type="radio"name="attr_endurance_use"value="4"title="4"/><span></span><input type="radio"name="attr_endurance_use"value="5"title="5"/><span></span><input type="radio"name="attr_endurance_use"value="6"title="6"/><span></span><input type="radio"name="attr_endurance_use"value="7"title="7"/><span></span><input type="radio"name="attr_endurance_use"value="8"title="8"/><span></span><input type="radio"name="attr_endurance_use"value="9"title="9"/><span></span><input type="radio"name="attr_endurance_use"value="10"title="10"/><span></span><input type="radio"name="attr_endurance_use"value="11"title="11"/><span></span><input type="radio"name="attr_endurance_use"value="12"title="12"/><span></span><input type="radio"name="attr_endurance_use"value="13"title="13"/><span></span><input type="radio"name="attr_endurance_use"value="14"title="14"/><span></span><input type="radio"name="attr_endurance_use"value="15"title="15"/><span></span><input type="radio"name="attr_endurance_use"value="16"title="16"/><span></span><input type="radio"name="attr_endurance_use"value="17"title="17"/><span></span><input type="radio"name="attr_endurance_use"value="18"title="18"/><span></span><input type="radio"name="attr_endurance_use"value="19"title="19"/><span></span><input type="radio"name="attr_endurance_use"value="20"title="20"/><span></span></div><input class="options-flag"name="attr_options_flag_endurance"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options"><label for="endurance_base"data-i18n="base">Base</label><input type="number"id="endurance_base"name="attr_endurance_base"value="0"min="0"max="10"/><label for="endurance_aug"data-i18n="aug">Aug.</label><input type="number"id="endurance_aug"name="attr_endurance_aug"value="0"min="-10"max="10"/><label for="endurance_mod"data-i18n="mod">Mod.</label><input type="number"id="endurance_mod"name="attr_endurance_mod"value="0"min="-10"max="10"/></div></div><div class="ability"><input type="hidden"name="attr_agility_die"value="1"/><button class="dicefont roll-button"name="roll_agility"type="roll"value="@{rollbase} {{header=^{agility}}} {{showability=[[@{agility_use}]]}} {{r_ability=[+@{agility_die}d10](@{show_agility})}} {{draw_ability=[}](@{draw_agility})}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[@{agility_die}d10 [@{ability_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"data-i18n-title="roll_abi"title="Ability roll">0</button><button name="roll_show_agility"type="roll"value="@{rollbase} {{header=^{agility}}} {{ability_val=[@{agility}](~show_agility)}} {{ability_use=@{agility_use}}} {{showability=[[@{agility_use}]]}} {{button=[^{draw_ability}](~use_agility)}}"data-i18n-title="show_abi"title="Show ability"><span data-i18n="agility">Agility</span></button><span class="case"name="attr_agility">1</span><span class="usable"name="attr_agility_use">0</span><div class="ability-boxes"><input type="hidden"name="attr_agility"value="0"/><input type="radio"name="attr_agility_use"value="0"title="0"checked="checked"/><span></span><input type="radio"name="attr_agility_use"value="1"title="1"/><span></span><input type="radio"name="attr_agility_use"value="2"title="2"/><span></span><input type="radio"name="attr_agility_use"value="3"title="3"/><span></span><input type="radio"name="attr_agility_use"value="4"title="4"/><span></span><input type="radio"name="attr_agility_use"value="5"title="5"/><span></span><input type="radio"name="attr_agility_use"value="6"title="6"/><span></span><input type="radio"name="attr_agility_use"value="7"title="7"/><span></span><input type="radio"name="attr_agility_use"value="8"title="8"/><span></span><input type="radio"name="attr_agility_use"value="9"title="9"/><span></span><input type="radio"name="attr_agility_use"value="10"title="10"/><span></span><input type="radio"name="attr_agility_use"value="11"title="11"/><span></span><input type="radio"name="attr_agility_use"value="12"title="12"/><span></span><input type="radio"name="attr_agility_use"value="13"title="13"/><span></span><input type="radio"name="attr_agility_use"value="14"title="14"/><span></span><input type="radio"name="attr_agility_use"value="15"title="15"/><span></span><input type="radio"name="attr_agility_use"value="16"title="16"/><span></span><input type="radio"name="attr_agility_use"value="17"title="17"/><span></span><input type="radio"name="attr_agility_use"value="18"title="18"/><span></span><input type="radio"name="attr_agility_use"value="19"title="19"/><span></span><input type="radio"name="attr_agility_use"value="20"title="20"/><span></span></div><input class="options-flag"name="attr_options_flag_agility"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options"><label for="agility_base"data-i18n="base">Base</label><input type="number"id="agility_base"name="attr_agility_base"value="0"min="0"max="10"/><label for="agility_aug"data-i18n="aug">Aug.</label><input type="number"id="agility_aug"name="attr_agility_aug"value="0"min="-10"max="10"/><label for="agility_mod"data-i18n="mod">Mod.</label><input type="number"id="agility_mod"name="attr_agility_mod"value="0"min="-10"max="10"/></div></div><div class="ability"><input type="hidden"name="attr_accuracy_die"value="1"/><button class="dicefont roll-button"name="roll_accuracy"type="roll"value="@{rollbase} {{header=^{accuracy}}} {{showability=[[@{accuracy_use}]]}} {{r_ability=[+@{accuracy_die}d10](@{show_accuracy})}} {{draw_ability=[}](@{draw_accuracy})}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[@{accuracy_die}d10 [@{ability_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"data-i18n-title="roll_abi"title="Ability roll">0</button><button name="roll_show_accuracy"type="roll"value="@{rollbase} {{header=^{accuracy}}} {{ability_val=[@{accuracy}](~show_accuracy)}} {{ability_use=@{accuracy_use}}} {{showability=[[@{accuracy_use}]]}} {{button=[^{draw_ability}](~use_accuracy)}}"data-i18n-title="show_abi"title="Show ability"><span data-i18n="accuracy">Accuracy</span></button><span class="case"name="attr_accuracy">1</span><span class="usable"name="attr_accuracy_use">0</span><div class="ability-boxes"><input type="hidden"name="attr_accuracy"value="0"/><input type="radio"name="attr_accuracy_use"value="0"title="0"checked="checked"/><span></span><input type="radio"name="attr_accuracy_use"value="1"title="1"/><span></span><input type="radio"name="attr_accuracy_use"value="2"title="2"/><span></span><input type="radio"name="attr_accuracy_use"value="3"title="3"/><span></span><input type="radio"name="attr_accuracy_use"value="4"title="4"/><span></span><input type="radio"name="attr_accuracy_use"value="5"title="5"/><span></span><input type="radio"name="attr_accuracy_use"value="6"title="6"/><span></span><input type="radio"name="attr_accuracy_use"value="7"title="7"/><span></span><input type="radio"name="attr_accuracy_use"value="8"title="8"/><span></span><input type="radio"name="attr_accuracy_use"value="9"title="9"/><span></span><input type="radio"name="attr_accuracy_use"value="10"title="10"/><span></span><input type="radio"name="attr_accuracy_use"value="11"title="11"/><span></span><input type="radio"name="attr_accuracy_use"value="12"title="12"/><span></span><input type="radio"name="attr_accuracy_use"value="13"title="13"/><span></span><input type="radio"name="attr_accuracy_use"value="14"title="14"/><span></span><input type="radio"name="attr_accuracy_use"value="15"title="15"/><span></span><input type="radio"name="attr_accuracy_use"value="16"title="16"/><span></span><input type="radio"name="attr_accuracy_use"value="17"title="17"/><span></span><input type="radio"name="attr_accuracy_use"value="18"title="18"/><span></span><input type="radio"name="attr_accuracy_use"value="19"title="19"/><span></span><input type="radio"name="attr_accuracy_use"value="20"title="20"/><span></span></div><input class="options-flag"name="attr_options_flag_accuracy"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options"><label for="accuracy_base"data-i18n="base">Base</label><input type="number"id="accuracy_base"name="attr_accuracy_base"value="0"min="0"max="10"/><label for="accuracy_aug"data-i18n="aug">Aug.</label><input type="number"id="accuracy_aug"name="attr_accuracy_aug"value="0"min="-10"max="10"/><label for="accuracy_mod"data-i18n="mod">Mod.</label><input type="number"id="accuracy_mod"name="attr_accuracy_mod"value="0"min="-10"max="10"/></div></div><div class="ability"><input type="hidden"name="attr_reflexes_die"value="1"/><button class="dicefont roll-button"name="roll_reflexes"type="roll"value="@{rollbase} {{header=^{reflexes}}} {{showability=[[@{reflexes_use}]]}} {{r_ability=[+@{reflexes_die}d10](@{show_reflexes})}} {{draw_ability=[}](@{draw_reflexes})}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[@{reflexes_die}d10 [@{ability_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"data-i18n-title="roll_abi"title="Ability roll">0</button><button name="roll_show_reflexes"type="roll"value="@{rollbase} {{header=^{reflexes}}} {{ability_val=[@{reflexes}](~show_reflexes)}} {{ability_use=@{reflexes_use}}} {{showability=[[@{reflexes_use}]]}} {{button=[^{draw_ability}](~use_reflexes)}}"data-i18n-title="show_abi"title="Show ability"><span data-i18n="reflexes">Reflexes</span></button><span class="case"name="attr_reflexes">1</span><span class="usable"name="attr_reflexes_use">0</span><div class="ability-boxes"><input type="hidden"name="attr_reflexes"value="0"/><input type="radio"name="attr_reflexes_use"value="0"title="0"checked="checked"/><span></span><input type="radio"name="attr_reflexes_use"value="1"title="1"/><span></span><input type="radio"name="attr_reflexes_use"value="2"title="2"/><span></span><input type="radio"name="attr_reflexes_use"value="3"title="3"/><span></span><input type="radio"name="attr_reflexes_use"value="4"title="4"/><span></span><input type="radio"name="attr_reflexes_use"value="5"title="5"/><span></span><input type="radio"name="attr_reflexes_use"value="6"title="6"/><span></span><input type="radio"name="attr_reflexes_use"value="7"title="7"/><span></span><input type="radio"name="attr_reflexes_use"value="8"title="8"/><span></span><input type="radio"name="attr_reflexes_use"value="9"title="9"/><span></span><input type="radio"name="attr_reflexes_use"value="10"title="10"/><span></span><input type="radio"name="attr_reflexes_use"value="11"title="11"/><span></span><input type="radio"name="attr_reflexes_use"value="12"title="12"/><span></span><input type="radio"name="attr_reflexes_use"value="13"title="13"/><span></span><input type="radio"name="attr_reflexes_use"value="14"title="14"/><span></span><input type="radio"name="attr_reflexes_use"value="15"title="15"/><span></span><input type="radio"name="attr_reflexes_use"value="16"title="16"/><span></span><input type="radio"name="attr_reflexes_use"value="17"title="17"/><span></span><input type="radio"name="attr_reflexes_use"value="18"title="18"/><span></span><input type="radio"name="attr_reflexes_use"value="19"title="19"/><span></span><input type="radio"name="attr_reflexes_use"value="20"title="20"/><span></span></div><input class="options-flag"name="attr_options_flag_reflexes"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options"><label for="reflexes_base"data-i18n="base">Base</label><input type="number"id="reflexes_base"name="attr_reflexes_base"value="0"min="0"max="10"/><label for="reflexes_aug"data-i18n="aug">Aug.</label><input type="number"id="reflexes_aug"name="attr_reflexes_aug"value="0"min="-10"max="10"/><label for="reflexes_mod"data-i18n="mod">Mod.</label><input type="number"id="reflexes_mod"name="attr_reflexes_mod"value="0"min="-10"max="10"/></div></div><div class="ability"><input type="hidden"name="attr_knowledge_die"value="1"/><button class="dicefont roll-button"name="roll_knowledge"type="roll"value="@{rollbase} {{header=^{knowledge}}} {{showability=[[@{knowledge_use}]]}} {{r_ability=[+@{knowledge_die}d10](@{show_knowledge})}} {{draw_ability=[}](@{draw_knowledge})}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[@{knowledge_die}d10 [@{ability_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"data-i18n-title="roll_abi"title="Ability roll">0</button><button name="roll_show_knowledge"type="roll"value="@{rollbase} {{header=^{knowledge}}} {{ability_val=[@{knowledge}](~show_knowledge)}} {{ability_use=@{knowledge_use}}} {{showability=[[@{knowledge_use}]]}} {{button=[^{draw_ability}](~use_knowledge)}}"data-i18n-title="show_abi"title="Show ability"><span data-i18n="knowledge">Knowledge</span></button><span class="case"name="attr_knowledge">1</span><span class="usable"name="attr_knowledge_use">0</span><div class="ability-boxes"><input type="hidden"name="attr_knowledge"value="0"/><input type="radio"name="attr_knowledge_use"value="0"title="0"checked="checked"/><span></span><input type="radio"name="attr_knowledge_use"value="1"title="1"/><span></span><input type="radio"name="attr_knowledge_use"value="2"title="2"/><span></span><input type="radio"name="attr_knowledge_use"value="3"title="3"/><span></span><input type="radio"name="attr_knowledge_use"value="4"title="4"/><span></span><input type="radio"name="attr_knowledge_use"value="5"title="5"/><span></span><input type="radio"name="attr_knowledge_use"value="6"title="6"/><span></span><input type="radio"name="attr_knowledge_use"value="7"title="7"/><span></span><input type="radio"name="attr_knowledge_use"value="8"title="8"/><span></span><input type="radio"name="attr_knowledge_use"value="9"title="9"/><span></span><input type="radio"name="attr_knowledge_use"value="10"title="10"/><span></span><input type="radio"name="attr_knowledge_use"value="11"title="11"/><span></span><input type="radio"name="attr_knowledge_use"value="12"title="12"/><span></span><input type="radio"name="attr_knowledge_use"value="13"title="13"/><span></span><input type="radio"name="attr_knowledge_use"value="14"title="14"/><span></span><input type="radio"name="attr_knowledge_use"value="15"title="15"/><span></span><input type="radio"name="attr_knowledge_use"value="16"title="16"/><span></span><input type="radio"name="attr_knowledge_use"value="17"title="17"/><span></span><input type="radio"name="attr_knowledge_use"value="18"title="18"/><span></span><input type="radio"name="attr_knowledge_use"value="19"title="19"/><span></span><input type="radio"name="attr_knowledge_use"value="20"title="20"/><span></span></div><input class="options-flag"name="attr_options_flag_knowledge"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options"><label for="knowledge_base"data-i18n="base">Base</label><input type="number"id="knowledge_base"name="attr_knowledge_base"value="0"min="0"max="10"/><label for="knowledge_aug"data-i18n="aug">Aug.</label><input type="number"id="knowledge_aug"name="attr_knowledge_aug"value="0"min="-10"max="10"/><label for="knowledge_mod"data-i18n="mod">Mod.</label><input type="number"id="knowledge_mod"name="attr_knowledge_mod"value="0"min="-10"max="10"/></div></div><div class="ability"><input type="hidden"name="attr_perception_die"value="1"/><button class="dicefont roll-button"name="roll_perception"type="roll"value="@{rollbase} {{header=^{perception}}} {{showability=[[@{perception_use}]]}} {{r_ability=[+@{perception_die}d10](@{show_perception})}} {{draw_ability=[}](@{draw_perception})}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[@{perception_die}d10 [@{ability_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"data-i18n-title="roll_abi"title="Ability roll">0</button><button name="roll_show_perception"type="roll"value="@{rollbase} {{header=^{perception}}} {{ability_val=[@{perception}](~show_perception)}} {{ability_use=@{perception_use}}} {{showability=[[@{perception_use}]]}} {{button=[^{draw_ability}](~use_perception)}}"data-i18n-title="show_abi"title="Show ability"><span data-i18n="perception">Perception</span></button><span class="case"name="attr_perception">1</span><span class="usable"name="attr_perception_use">0</span><div class="ability-boxes"><input type="hidden"name="attr_perception"value="0"/><input type="radio"name="attr_perception_use"value="0"title="0"checked="checked"/><span></span><input type="radio"name="attr_perception_use"value="1"title="1"/><span></span><input type="radio"name="attr_perception_use"value="2"title="2"/><span></span><input type="radio"name="attr_perception_use"value="3"title="3"/><span></span><input type="radio"name="attr_perception_use"value="4"title="4"/><span></span><input type="radio"name="attr_perception_use"value="5"title="5"/><span></span><input type="radio"name="attr_perception_use"value="6"title="6"/><span></span><input type="radio"name="attr_perception_use"value="7"title="7"/><span></span><input type="radio"name="attr_perception_use"value="8"title="8"/><span></span><input type="radio"name="attr_perception_use"value="9"title="9"/><span></span><input type="radio"name="attr_perception_use"value="10"title="10"/><span></span><input type="radio"name="attr_perception_use"value="11"title="11"/><span></span><input type="radio"name="attr_perception_use"value="12"title="12"/><span></span><input type="radio"name="attr_perception_use"value="13"title="13"/><span></span><input type="radio"name="attr_perception_use"value="14"title="14"/><span></span><input type="radio"name="attr_perception_use"value="15"title="15"/><span></span><input type="radio"name="attr_perception_use"value="16"title="16"/><span></span><input type="radio"name="attr_perception_use"value="17"title="17"/><span></span><input type="radio"name="attr_perception_use"value="18"title="18"/><span></span><input type="radio"name="attr_perception_use"value="19"title="19"/><span></span><input type="radio"name="attr_perception_use"value="20"title="20"/><span></span></div><input class="options-flag"name="attr_options_flag_perception"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options"><label for="perception_base"data-i18n="base">Base</label><input type="number"id="perception_base"name="attr_perception_base"value="0"min="0"max="10"/><label for="perception_aug"data-i18n="aug">Aug.</label><input type="number"id="perception_aug"name="attr_perception_aug"value="0"min="-10"max="10"/><label for="perception_mod"data-i18n="mod">Mod.</label><input type="number"id="perception_mod"name="attr_perception_mod"value="0"min="-10"max="10"/></div></div><div class="ability"><input type="hidden"name="attr_will_die"value="1"/><button class="dicefont roll-button"name="roll_will"type="roll"value="@{rollbase} {{header=^{will}}} {{showability=[[@{will_use}]]}} {{r_ability=[+@{will_die}d10](@{show_will})}} {{draw_ability=[}](@{draw_will})}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[@{will_die}d10 [@{ability_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"data-i18n-title="roll_abi"title="Ability roll">0</button><button name="roll_show_will"type="roll"value="@{rollbase} {{header=^{will}}} {{ability_val=[@{will}](~show_will)}} {{ability_use=@{will_use}}} {{showability=[[@{will_use}]]}} {{button=[^{draw_ability}](~use_will)}}"data-i18n-title="show_abi"title="Show ability"><span data-i18n="will">Will</span></button><span class="case"name="attr_will">1</span><span class="usable"name="attr_will_use">0</span><div class="ability-boxes"><input type="hidden"name="attr_will"value="0"/><input type="radio"name="attr_will_use"value="0"title="0"checked="checked"/><span></span><input type="radio"name="attr_will_use"value="1"title="1"/><span></span><input type="radio"name="attr_will_use"value="2"title="2"/><span></span><input type="radio"name="attr_will_use"value="3"title="3"/><span></span><input type="radio"name="attr_will_use"value="4"title="4"/><span></span><input type="radio"name="attr_will_use"value="5"title="5"/><span></span><input type="radio"name="attr_will_use"value="6"title="6"/><span></span><input type="radio"name="attr_will_use"value="7"title="7"/><span></span><input type="radio"name="attr_will_use"value="8"title="8"/><span></span><input type="radio"name="attr_will_use"value="9"title="9"/><span></span><input type="radio"name="attr_will_use"value="10"title="10"/><span></span><input type="radio"name="attr_will_use"value="11"title="11"/><span></span><input type="radio"name="attr_will_use"value="12"title="12"/><span></span><input type="radio"name="attr_will_use"value="13"title="13"/><span></span><input type="radio"name="attr_will_use"value="14"title="14"/><span></span><input type="radio"name="attr_will_use"value="15"title="15"/><span></span><input type="radio"name="attr_will_use"value="16"title="16"/><span></span><input type="radio"name="attr_will_use"value="17"title="17"/><span></span><input type="radio"name="attr_will_use"value="18"title="18"/><span></span><input type="radio"name="attr_will_use"value="19"title="19"/><span></span><input type="radio"name="attr_will_use"value="20"title="20"/><span></span></div><input class="options-flag"name="attr_options_flag_will"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options"><label for="will_base"data-i18n="base">Base</label><input type="number"id="will_base"name="attr_will_base"value="0"min="0"max="10"/><label for="will_aug"data-i18n="aug">Aug.</label><input type="number"id="will_aug"name="attr_will_aug"value="0"min="-10"max="10"/><label for="will_mod"data-i18n="mod">Mod.</label><input type="number"id="will_mod"name="attr_will_mod"value="0"min="-10"max="10"/></div></div><div class="ability"><input type="hidden"name="attr_empathy_die"value="1"/><button class="dicefont roll-button"name="roll_empathy"type="roll"value="@{rollbase} {{header=^{empathy}}} {{showability=[[@{empathy_use}]]}} {{r_ability=[+@{empathy_die}d10](@{show_empathy})}} {{draw_ability=[}](@{draw_empathy})}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[@{empathy_die}d10 [@{ability_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"data-i18n-title="roll_abi"title="Ability roll">0</button><button name="roll_show_empathy"type="roll"value="@{rollbase} {{header=^{empathy}}} {{ability_val=[@{empathy}](~show_empathy)}} {{ability_use=@{empathy_use}}} {{showability=[[@{empathy_use}]]}} {{button=[^{draw_ability}](~use_empathy)}}"data-i18n-title="show_abi"title="Show ability"><span data-i18n="empathy">Empathy</span></button><span class="case"name="attr_empathy">1</span><span class="usable"name="attr_empathy_use">0</span><div class="ability-boxes"><input type="hidden"name="attr_empathy"value="0"/><input type="radio"name="attr_empathy_use"value="0"title="0"checked="checked"/><span></span><input type="radio"name="attr_empathy_use"value="1"title="1"/><span></span><input type="radio"name="attr_empathy_use"value="2"title="2"/><span></span><input type="radio"name="attr_empathy_use"value="3"title="3"/><span></span><input type="radio"name="attr_empathy_use"value="4"title="4"/><span></span><input type="radio"name="attr_empathy_use"value="5"title="5"/><span></span><input type="radio"name="attr_empathy_use"value="6"title="6"/><span></span><input type="radio"name="attr_empathy_use"value="7"title="7"/><span></span><input type="radio"name="attr_empathy_use"value="8"title="8"/><span></span><input type="radio"name="attr_empathy_use"value="9"title="9"/><span></span><input type="radio"name="attr_empathy_use"value="10"title="10"/><span></span><input type="radio"name="attr_empathy_use"value="11"title="11"/><span></span><input type="radio"name="attr_empathy_use"value="12"title="12"/><span></span><input type="radio"name="attr_empathy_use"value="13"title="13"/><span></span><input type="radio"name="attr_empathy_use"value="14"title="14"/><span></span><input type="radio"name="attr_empathy_use"value="15"title="15"/><span></span><input type="radio"name="attr_empathy_use"value="16"title="16"/><span></span><input type="radio"name="attr_empathy_use"value="17"title="17"/><span></span><input type="radio"name="attr_empathy_use"value="18"title="18"/><span></span><input type="radio"name="attr_empathy_use"value="19"title="19"/><span></span><input type="radio"name="attr_empathy_use"value="20"title="20"/><span></span></div><input class="options-flag"name="attr_options_flag_empathy"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options"><label for="empathy_base"data-i18n="base">Base</label><input type="number"id="empathy_base"name="attr_empathy_base"value="0"min="0"max="10"/><label for="empathy_aug"data-i18n="aug">Aug.</label><input type="number"id="empathy_aug"name="attr_empathy_aug"value="0"min="-10"max="10"/><label for="empathy_mod"data-i18n="mod">Mod.</label><input type="number"id="empathy_mod"name="attr_empathy_mod"value="0"min="-10"max="10"/></div></div><div class="ability"><input type="hidden"name="attr_persuasion_die"value="1"/><button class="dicefont roll-button"name="roll_persuasion"type="roll"value="@{rollbase} {{header=^{persuasion}}} {{showability=[[@{persuasion_use}]]}} {{r_ability=[+@{persuasion_die}d10](@{show_persuasion})}} {{draw_ability=[}](@{draw_persuasion})}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[@{persuasion_die}d10 [@{ability_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"data-i18n-title="roll_abi"title="Ability roll">0</button><button name="roll_show_persuasion"type="roll"value="@{rollbase} {{header=^{persuasion}}} {{ability_val=[@{persuasion}](~show_persuasion)}} {{ability_use=@{persuasion_use}}} {{showability=[[@{persuasion_use}]]}} {{button=[^{draw_ability}](~use_persuasion)}}"data-i18n-title="show_abi"title="Show ability"><span data-i18n="persuasion">Persuasion</span></button><span class="case"name="attr_persuasion">1</span><span class="usable"name="attr_persuasion_use">0</span><div class="ability-boxes"><input type="hidden"name="attr_persuasion"value="0"/><input type="radio"name="attr_persuasion_use"value="0"title="0"checked="checked"/><span></span><input type="radio"name="attr_persuasion_use"value="1"title="1"/><span></span><input type="radio"name="attr_persuasion_use"value="2"title="2"/><span></span><input type="radio"name="attr_persuasion_use"value="3"title="3"/><span></span><input type="radio"name="attr_persuasion_use"value="4"title="4"/><span></span><input type="radio"name="attr_persuasion_use"value="5"title="5"/><span></span><input type="radio"name="attr_persuasion_use"value="6"title="6"/><span></span><input type="radio"name="attr_persuasion_use"value="7"title="7"/><span></span><input type="radio"name="attr_persuasion_use"value="8"title="8"/><span></span><input type="radio"name="attr_persuasion_use"value="9"title="9"/><span></span><input type="radio"name="attr_persuasion_use"value="10"title="10"/><span></span><input type="radio"name="attr_persuasion_use"value="11"title="11"/><span></span><input type="radio"name="attr_persuasion_use"value="12"title="12"/><span></span><input type="radio"name="attr_persuasion_use"value="13"title="13"/><span></span><input type="radio"name="attr_persuasion_use"value="14"title="14"/><span></span><input type="radio"name="attr_persuasion_use"value="15"title="15"/><span></span><input type="radio"name="attr_persuasion_use"value="16"title="16"/><span></span><input type="radio"name="attr_persuasion_use"value="17"title="17"/><span></span><input type="radio"name="attr_persuasion_use"value="18"title="18"/><span></span><input type="radio"name="attr_persuasion_use"value="19"title="19"/><span></span><input type="radio"name="attr_persuasion_use"value="20"title="20"/><span></span></div><input class="options-flag"name="attr_options_flag_persuasion"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options"><label for="persuasion_base"data-i18n="base">Base</label><input type="number"id="persuasion_base"name="attr_persuasion_base"value="0"min="0"max="10"/><label for="persuasion_aug"data-i18n="aug">Aug.</label><input type="number"id="persuasion_aug"name="attr_persuasion_aug"value="0"min="-10"max="10"/><label for="persuasion_mod"data-i18n="mod">Mod.</label><input type="number"id="persuasion_mod"name="attr_persuasion_mod"value="0"min="-10"max="10"/></div></div><div class="ability"><input type="hidden"name="attr_psychology_die"value="1"/><button class="dicefont roll-button"name="roll_psychology"type="roll"value="@{rollbase} {{header=^{psychology}}} {{showability=[[@{psychology_use}]]}} {{r_ability=[+@{psychology_die}d10](@{show_psychology})}} {{draw_ability=[}](@{draw_psychology})}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[@{psychology_die}d10 [@{ability_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"data-i18n-title="roll_abi"title="Ability roll">0</button><button name="roll_show_psychology"type="roll"value="@{rollbase} {{header=^{psychology}}} {{ability_val=[@{psychology}](~show_psychology)}} {{ability_use=@{psychology_use}}} {{showability=[[@{psychology_use}]]}} {{button=[^{draw_ability}](~use_psychology)}}"data-i18n-title="show_abi"title="Show ability"><span data-i18n="psychology">Psychology</span></button><span class="case"name="attr_psychology">1</span><span class="usable"name="attr_psychology_use">0</span><div class="ability-boxes"><input type="hidden"name="attr_psychology"value="0"/><input type="radio"name="attr_psychology_use"value="0"title="0"checked="checked"/><span></span><input type="radio"name="attr_psychology_use"value="1"title="1"/><span></span><input type="radio"name="attr_psychology_use"value="2"title="2"/><span></span><input type="radio"name="attr_psychology_use"value="3"title="3"/><span></span><input type="radio"name="attr_psychology_use"value="4"title="4"/><span></span><input type="radio"name="attr_psychology_use"value="5"title="5"/><span></span><input type="radio"name="attr_psychology_use"value="6"title="6"/><span></span><input type="radio"name="attr_psychology_use"value="7"title="7"/><span></span><input type="radio"name="attr_psychology_use"value="8"title="8"/><span></span><input type="radio"name="attr_psychology_use"value="9"title="9"/><span></span><input type="radio"name="attr_psychology_use"value="10"title="10"/><span></span><input type="radio"name="attr_psychology_use"value="11"title="11"/><span></span><input type="radio"name="attr_psychology_use"value="12"title="12"/><span></span><input type="radio"name="attr_psychology_use"value="13"title="13"/><span></span><input type="radio"name="attr_psychology_use"value="14"title="14"/><span></span><input type="radio"name="attr_psychology_use"value="15"title="15"/><span></span><input type="radio"name="attr_psychology_use"value="16"title="16"/><span></span><input type="radio"name="attr_psychology_use"value="17"title="17"/><span></span><input type="radio"name="attr_psychology_use"value="18"title="18"/><span></span><input type="radio"name="attr_psychology_use"value="19"title="19"/><span></span><input type="radio"name="attr_psychology_use"value="20"title="20"/><span></span></div><input class="options-flag"name="attr_options_flag_psychology"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options"><label for="psychology_base"data-i18n="base">Base</label><input type="number"id="psychology_base"name="attr_psychology_base"value="0"min="0"max="10"/><label for="psychology_aug"data-i18n="aug">Aug.</label><input type="number"id="psychology_aug"name="attr_psychology_aug"value="0"min="-10"max="10"/><label for="psychology_mod"data-i18n="mod">Mod.</label><input type="number"id="psychology_mod"name="attr_psychology_mod"value="0"min="-10"max="10"/></div></div><div class="ability"><input type="hidden"name="attr_selfcontrol_die"value="1"/><button class="red"name="roll_show_selfcontrol"type="roll"value="@{rollbase} {{header=^{selfcontrol}}} {{ability_val=[@{selfcontrol}](~show_selfcontrol)}} {{ability_use=@{selfcontrol_use}}} {{showability=[[@{selfcontrol_use}]]}} {{button=[^{draw_ability}](~use_selfcontrol)}}[[@{selfcontrol_ctrl} * @{selfcontrol_die}]]"data-i18n-title="show_abi"title="Show ability"><span data-i18n="selfcontrol">Self-control</span></button><span class="case"name="attr_selfcontrol">1</span><span class="usable"name="attr_selfcontrol_use">0</span><div class="ability-boxes single"><input type="hidden"name="attr_selfcontrol"value="0"/><input type="radio"name="attr_selfcontrol_use"value="0"title="0"checked="checked"/><span></span><input type="radio"name="attr_selfcontrol_use"value="1"title="1"/><span></span><input type="radio"name="attr_selfcontrol_use"value="2"title="2"/><span></span><input type="radio"name="attr_selfcontrol_use"value="3"title="3"/><span></span><input type="radio"name="attr_selfcontrol_use"value="4"title="4"/><span></span><input type="radio"name="attr_selfcontrol_use"value="5"title="5"/><span></span><input type="radio"name="attr_selfcontrol_use"value="6"title="6"/><span></span><input type="radio"name="attr_selfcontrol_use"value="7"title="7"/><span></span><input type="radio"name="attr_selfcontrol_use"value="8"title="8"/><span></span><input type="radio"name="attr_selfcontrol_use"value="9"title="9"/><span></span><input type="radio"name="attr_selfcontrol_use"value="10"title="10"/><span></span></div><input class="options-flag"name="attr_options_flag_selfcontrol"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options"><label for="selfcontrol_base"data-i18n="base">Base</label><input type="number"id="selfcontrol_base"name="attr_selfcontrol_base"value="0"min="0"max="10"readonly="readonly"/><label for="selfcontrol_aug"data-i18n="aug">Aug.</label><input type="number"id="selfcontrol_aug"name="attr_selfcontrol_aug"value="0"min="-10"max="10"/><label for="selfcontrol_mod"data-i18n="mod">Mod.</label><input type="number"id="selfcontrol_mod"name="attr_selfcontrol_mod"value="0"min="-10"max="10"/></div></div><div class="ability"><input type="hidden"name="attr_health_die"value="1"/><button class="dicefont roll-button"name="roll_health"type="roll"value="@{rollbase} {{header=^{health}}} {{showability=[[@{health_use}]]}} {{r_ability=[+@{health_die}d10](@{show_health})}} {{draw_ability=[}](@{draw_health})}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[@{health_die}d10 [@{ability_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"data-i18n-title="roll_abi"title="Ability roll">0</button><button name="roll_show_health"type="roll"value="@{rollbase} {{header=^{health}}} {{ability_val=[@{health}](~show_health)}} {{ability_use=@{health_use}}} {{showability=[[@{health_use}]]}} {{button=[^{draw_ability}](~use_health)}}"data-i18n-title="show_abi"title="Show ability"><span data-i18n="health">Health</span></button><span class="case"name="attr_health">1</span><span class="usable"name="attr_health_use">0</span><div class="ability-boxes"><input type="hidden"name="attr_health"value="0"/><input type="radio"name="attr_health_use"value="0"title="0"checked="checked"/><span></span><input type="radio"name="attr_health_use"value="1"title="1"/><span></span><input type="radio"name="attr_health_use"value="2"title="2"/><span></span><input type="radio"name="attr_health_use"value="3"title="3"/><span></span><input type="radio"name="attr_health_use"value="4"title="4"/><span></span><input type="radio"name="attr_health_use"value="5"title="5"/><span></span><input type="radio"name="attr_health_use"value="6"title="6"/><span></span><input type="radio"name="attr_health_use"value="7"title="7"/><span></span><input type="radio"name="attr_health_use"value="8"title="8"/><span></span><input type="radio"name="attr_health_use"value="9"title="9"/><span></span><input type="radio"name="attr_health_use"value="10"title="10"/><span></span><input type="radio"name="attr_health_use"value="11"title="11"/><span></span><input type="radio"name="attr_health_use"value="12"title="12"/><span></span><input type="radio"name="attr_health_use"value="13"title="13"/><span></span><input type="radio"name="attr_health_use"value="14"title="14"/><span></span><input type="radio"name="attr_health_use"value="15"title="15"/><span></span><input type="radio"name="attr_health_use"value="16"title="16"/><span></span><input type="radio"name="attr_health_use"value="17"title="17"/><span></span><input type="radio"name="attr_health_use"value="18"title="18"/><span></span><input type="radio"name="attr_health_use"value="19"title="19"/><span></span><input type="radio"name="attr_health_use"value="20"title="20"/><span></span></div><input class="options-flag"name="attr_options_flag_health"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options"><label for="health_base"data-i18n="base">Base</label><input type="number"id="health_base"name="attr_health_base"value="0"min="0"max="10"/><label for="health_aug"data-i18n="aug">Aug.</label><input type="number"id="health_aug"name="attr_health_aug"value="0"min="-10"max="10"/><label for="health_mod"data-i18n="mod">Mod.</label><input type="number"id="health_mod"name="attr_health_mod"value="0"min="-10"max="10"/></div></div><div class="footer"><span data-i18n="total">Total</span><input type="number"name="attr_abilities_total"min="0"value="0"readonly="readonly"/></div></div><div class="tab tab3 status"><h1 data-i18n="vitals">Vitals</h1><div class="vitals"><div class="green"><input type="hidden"name="attr_hp_warning"value="0"/><input type="hidden"name="attr_hp_percent"value="0"/><span class="big"><span class="gauge"></span><span class="label"data-i18n="hit_points">Hit Points</span><span class="warning"data-i18n="knock_out">Knock Out</span></span><input class="big val"type="text"name="attr_hp"value="5"/><input class="big"type="number"min="0"name="attr_hp_max"value="5"readonly="readonly"/><input class="options-flag"name="attr_options_flag_hp"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options"><label for="hp_base"data-i18n="base">Base</label><input id="hp_base"name="attr_hp_base"type="number"value="5"min="0"max="50"readonly="readonly"/><label for="hp_mod"data-i18n="mod">Mod.</label><input id="hp_mod"name="attr_hp_mod"type="number"value="0"min="-50"max="50"/></div></div><div class="blue padrgt"><input type="hidden"name="attr_hydration"value="100"/><span class="big"><span class="gauge"></span><span data-i18n="hydration">Hydration</span></span><input class="big"type="text"name="attr_hydration"value="100"/></div><div class="yellow padrgt"><input type="hidden"name="attr_repletion"value="100"/><span class="big"><span class="gauge"></span><span data-i18n="repletion">Repletion</span></span><input class="big"type="text"name="attr_repletion"value="100"/></div><div class="orange padrgt"><input type="hidden"name="attr_exhaustion"value="0"/><span class="big"><span class="gauge"></span><span data-i18n="exhaustion">Exhaustion</span></span><input class="big"type="text"name="attr_exhaustion"value="0"/></div><div class="red padrgt"><input type="hidden"name="attr_radiation"value="0"/><span class="big"><span class="gauge"></span><span data-i18n="radiation">Radiation</span></span><input class="big"type="text"name="attr_radiation"value="0"/></div><div class="gray"><input type="hidden"name="attr_weighing_load_warning"value="0"/><input type="hidden"name="attr_weighing_load_percent"value="0"/><span class="big"><span class="gauge"></span><span class="label"data-i18n="weighing_load">Weighing Load</span><span class="warning"name="attr_overburdened">Overburdened</span></span><input class="big val"type="text"name="attr_weighing_load"value="0"readonly="readonly"/><input class="big"type="number"min="0"max="120"name="attr_weighing_load_max"value="12"readonly="readonly"/><input class="options-flag"name="attr_options_flag_weighing_load"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options"><label for="weighing_load_base"data-i18n="base">Base</label><input id="weighing_load_base"name="attr_weighing_load_base"type="number"value="12"min="12"max="120"readonly="readonly"/><label for="weighing_load_mod"data-i18n="mod">Mod.</label><input id="weighing_load_mod"name="attr_weighing_load_mod"type="number"value="0"min="-120"max="240"/></div></div></div><h1 data-i18n="conditions">Conditions</h1><div class="block conditions"><div class="header"><span class="sml mlft"data-i18n="number">Number</span><span>&times;</span><span class="xxl"data-i18n="name">Name</span><span class="med mrgt"data-i18n="effect">Effect</span><span class="sml"data-i18n="duration">Duration</span><span class="med"data-i18n="unit">Unit</span></div><div class="line"><button class="pictos mrgt"name="show_condition"type="roll"value="@{rollbase} {{cond=true}} {{cond_name=@{bleeding_name}}} {{cond_eff=@{bleeding_effect}}} {{cond_num_r=[[@{bleeding_number}]]}} {{cond_num=@{bleeding_number}}} {{cond_dur_r=[[@{bleeding_duration}]]}} {{cond_dur=@{bleeding_duration}}} {{cond_unit=@{bleeding_unit}}} {{cond_icon=bleeding}}">E</button><input type="hidden"name="attr_bleeding_number"value="0"/><input type="number"name="attr_bleeding_number"min="0"max="99"step="1"value="0"/><span>&times;</span><span class="condicon bleeding"></span><input class="lrg"type="text"name="attr_bleeding_name"value="Bleeding"readonly="readonly"/><input class="med mrgt"type="text"name="attr_bleeding_effect"data-i18n-placeholder="null"placeholder="&ndash;"/><input type="number"name="attr_bleeding_duration"min="0"max="999"step="1"value="0"/><select class="med"name="attr_bleeding_unit"><option value="">&ndash;</option><option value="sec"data-i18n="unit_sec">Sec</option><option value="min"data-i18n="unit_min">Min</option><option value="hour"data-i18n="unit_hour">Hour</option><option value="day"data-i18n="unit_day">Day</option><option value="week"data-i18n="unit_week">Week</option><option value="month"data-i18n="unit_month">Month</option><option value="year"data-i18n="unit_year">Year</option></select></div><div class="line"><button class="pictos mrgt"name="show_condition"type="roll"value="@{rollbase} {{cond=true}} {{cond_name=@{stunned_name}}} {{cond_eff=@{stunned_effect}}} {{cond_num_r=[[@{stunned_number}]]}} {{cond_num=@{stunned_number}}} {{cond_dur_r=[[@{stunned_duration}]]}} {{cond_dur=@{stunned_duration}}} {{cond_unit=@{stunned_unit}}} {{cond_icon=stunned}}">E</button><input type="hidden"name="attr_stunned_number"value="0"/><input type="number"name="attr_stunned_number"min="0"max="99"step="1"value="0"/><span>&times;</span><span class="condicon stunned"></span><input class="lrg"type="text"name="attr_stunned_name"value="Stunned"readonly="readonly"/><input class="med mrgt"type="text"name="attr_stunned_effect"data-i18n-placeholder="null"placeholder="&ndash;"/><input type="number"name="attr_stunned_duration"min="0"max="999"step="1"value="0"/><select class="med"name="attr_stunned_unit"><option value="">&ndash;</option><option value="sec"data-i18n="unit_sec">Sec</option><option value="min"data-i18n="unit_min">Min</option><option value="hour"data-i18n="unit_hour">Hour</option><option value="day"data-i18n="unit_day">Day</option><option value="week"data-i18n="unit_week">Week</option><option value="month"data-i18n="unit_month">Month</option><option value="year"data-i18n="unit_year">Year</option></select></div><div class="line"><button class="pictos mrgt"name="show_condition"type="roll"value="@{rollbase} {{cond=true}} {{cond_name=@{deafened_name}}} {{cond_eff=@{deafened_effect}}} {{cond_num_r=[[@{deafened_number}]]}} {{cond_num=@{deafened_number}}} {{cond_dur_r=[[@{deafened_duration}]]}} {{cond_dur=@{deafened_duration}}} {{cond_unit=@{deafened_unit}}} {{cond_icon=deafened}}">E</button><input type="hidden"name="attr_deafened_number"value="0"/><input type="number"name="attr_deafened_number"min="0"max="99"step="1"value="0"/><span>&times;</span><span class="condicon deafened"></span><input class="lrg"type="text"name="attr_deafened_name"value="Deafened"readonly="readonly"/><input class="med mrgt"type="text"name="attr_deafened_effect"data-i18n-placeholder="null"placeholder="&ndash;"/><input type="number"name="attr_deafened_duration"min="0"max="999"step="1"value="0"/><select class="med"name="attr_deafened_unit"><option value="">&ndash;</option><option value="sec"data-i18n="unit_sec">Sec</option><option value="min"data-i18n="unit_min">Min</option><option value="hour"data-i18n="unit_hour">Hour</option><option value="day"data-i18n="unit_day">Day</option><option value="week"data-i18n="unit_week">Week</option><option value="month"data-i18n="unit_month">Month</option><option value="year"data-i18n="unit_year">Year</option></select></div><div class="line"><button class="pictos mrgt"name="show_condition"type="roll"value="@{rollbase} {{cond=true}} {{cond_name=@{blinded_name}}} {{cond_eff=@{blinded_effect}}} {{cond_num_r=[[@{blinded_number}]]}} {{cond_num=@{blinded_number}}} {{cond_dur_r=[[@{blinded_duration}]]}} {{cond_dur=@{blinded_duration}}} {{cond_unit=@{blinded_unit}}} {{cond_icon=blinded}}">E</button><input type="hidden"name="attr_blinded_number"value="0"/><input type="number"name="attr_blinded_number"min="0"max="99"step="1"value="0"/><span>&times;</span><span class="condicon blinded"></span><input class="lrg"type="text"name="attr_blinded_name"value="Blinded"readonly="readonly"/><input class="med mrgt"type="text"name="attr_blinded_effect"data-i18n-placeholder="null"placeholder="&ndash;"/><input type="number"name="attr_blinded_duration"min="0"max="999"step="1"value="0"/><select class="med"name="attr_blinded_unit"><option value="">&ndash;</option><option value="sec"data-i18n="unit_sec">Sec</option><option value="min"data-i18n="unit_min">Min</option><option value="hour"data-i18n="unit_hour">Hour</option><option value="day"data-i18n="unit_day">Day</option><option value="week"data-i18n="unit_week">Week</option><option value="month"data-i18n="unit_month">Month</option><option value="year"data-i18n="unit_year">Year</option></select></div><fieldset class="repeating_conditions"><div class="line"><button class="pictos mrgt"name="show_condition"type="roll"value="@{rollbase} {{cond=true}} {{cond_name=@{cond_name}}} {{cond_eff=@{cond_effect}}} {{cond_num_r=[[@{cond_number}]]}} {{cond_num=@{cond_number}}} {{cond_dur_r=[[@{cond_duration}]]}} {{cond_dur=@{cond_duration}}} {{cond_unit=@{cond_unit}}}">E</button><input type="hidden"name="attr_cond_number"value="0"/><input type="number"name="attr_cond_number"min="0"max="99"step="1"value="0"/><span>&times;</span><input class="xxl"type="text"name="attr_cond_name"data-i18n-placeholder="condition_pl"placeholder="Condition&hellip"/><input class="med mrgt"type="text"name="attr_cond_effect"data-i18n-placeholder="null"placeholder="&ndash;"/><input type="number"name="attr_cond_duration"min="0"max="999"step="1"value="0"/><select class="med"name="attr_cond_unit"><option value="">&ndash;</option><option value="sec"data-i18n="unit_sec">Sec</option><option value="min"data-i18n="unit_min">Min</option><option value="hour"data-i18n="unit_hour">Hour</option><option value="day"data-i18n="unit_day">Day</option><option value="week"data-i18n="unit_week">Week</option><option value="month"data-i18n="unit_month">Month</option><option value="year"data-i18n="unit_year">Year</option></select></div></fieldset></div><h1 data-i18n="resistances">Natural Resistances</h1><div class="resistances"><div><label class="icon pic-burn"data-i18n-title="dmg_burn"title="Burning"></label><label class="icon pic-shock"data-i18n-title="dmg_shock"title="Electrical Shocks"></label><label class="icon pic-blow"data-i18n-title="dmg_blow"title="Blows"></label><label class="icon pic-cut"data-i18n-title="dmg_cut"title="Cuts"></label><label class="icon pic-radiation"data-i18n-title="dmg_radiation"title="Radiations"></label><label class="icon pic-chemical"data-i18n-title="dmg_chemical"title="Chemical burning"></label></div><div><input name="attr_resistance_burn"type="number"min="0"max="2"value="0"readonly="readonly"/><input name="attr_resistance_shock"type="number"min="0"max="2"value="0"readonly="readonly"/><input name="attr_resistance_blow"type="number"min="0"max="5"value="0"readonly="readonly"/><input name="attr_resistance_cut"type="number"min="0"max="5"value="0"readonly="readonly"/><input name="attr_resistance_radiation"type="number"min="0"max="2"value="0"readonly="readonly"/><input name="attr_resistance_chemical"type="number"min="0"max="2"value="0"readonly="readonly"/></div></div></div><div class="tab tab4 specialities"><h1 data-i18n="common_specialities">Common Specialities</h1><div class="block common"><input class="options-flag options-toggle"name="attr_options_toggle_specialities"type="checkbox"value="1"data-i18n-title="expand_reduce_options"title="Expand/Collapse options"/><span></span><input type="hidden"name="attr_options_counter_specs"value="0"><div class="header"><span class="mlft"data-i18n="name">Name</span><span data-i18n="ability">Ability</span><span data-i18n="rank">Rank</span></div><fieldset class="repeating_specialities"><div class="line"><button class="dicefont roll-button"type="roll"value="@{spec_roll}">0</button><button class="pictos mrgt"type="roll"value="@{rollbase} {{header=@{spec_name}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability}}}} {{showrank=[[1]]}} {{r_rank=^{rank_@{spec_rank}}}} {{desc=@{spec_desc}}}">E</button><input type="hidden"name="attr_spec_roll"value="@{rollbase} {{header=@{spec_name}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability}}}} {{draw_ability=}} {{showrank=[[@{spec_rank}]]}} {{r_rank=+@{spec_rank}}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[0d10 [@{ability_tra}] + @{spec_rank} [@{rank_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"/><input type="text"name="attr_spec_name"data-i18n-placeholder="speciality_pl"placeholder="Speciality&hellip"/><select name="attr_spec_ability"><option value="null">&ndash;</option><option value="strength"data-i18n="strength">Strength</option><option value="endurance"data-i18n="endurance">Endurance</option><option value="agility"data-i18n="agility">Agility</option><option value="reflexes"data-i18n="reflexes">Reflexes</option><option value="accuracy"data-i18n="accuracy">Accuracy</option><option value="perception"data-i18n="perception">Perception</option><option value="knowledge"data-i18n="knowledge">Knowledge</option><option value="will"data-i18n="will">Will</option><option value="empathy"data-i18n="empathy">Empathy</option><option value="persuasion"data-i18n="persuasion">Persuasion</option><option value="psychology"data-i18n="psychology">Psychology</option></select><select name="attr_spec_rank"><option value="0">&ndash;</option><option value="1d4"data-i18n="rookie">Rookie</option><option value="1d6"data-i18n="stalker">Stalker</option><option value="1d8"data-i18n="veteran">Veteran</option><option value="1d10"data-i18n="master">Master</option></select><input class="options-flag"name="attr_options_flag_specialities"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options boxed"><textarea name="attr_spec_desc"data-i18n-placeholder="spec_desc_pl"placeholder="Speciality's description&hellip;"></textarea></div></div></fieldset></div><h1 data-i18n="weapon_specialities">Weapon Specialities</h1><div class="block weapon"><input class="options-flag options-toggle"name="attr_options_toggle_specswpn"type="checkbox"value="1"data-i18n-title="expand_reduce_options"title="Expand/Collapse options"/><span></span><input type="hidden"name="attr_options_counter_specswpn"value="0"><div class="header"><span class="mlft"data-i18n="number_abbr">Name</span><span data-i18n="name">Name</span><span data-i18n="ability">Ability</span><span data-i18n="rank">Rank</span></div><div class="line"><button class="dicefont roll-button"type="roll"value="@{spec_roll_wpn1}">0</button><button class="pictos mrgt"type="roll"value="@{rollbase} {{header=@{spec_name_wpn1}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_wpn1}}}} {{showrank=[[1]]}} {{r_rank=^{rank_@{spec_rank_wpn1}}}} {{desc=@{spec_desc_wpn1}}}">E</button><span class="number"data-i18n-title="weapon_number_hint">1</span><input type="hidden"name="attr_spec_roll_wpn1"value="@{rollbase} {{header=@{spec_name_wpn1}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_wpn1}}}} {{draw_ability=}} {{showrank=[[@{spec_rank_wpn1}]]}} {{r_rank=+@{spec_rank_wpn1}}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[0d10 [@{ability_tra}] + @{spec_rank_wpn1} [@{rank_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"/><input type="text"name="attr_spec_name_wpn1"data-i18n-placeholder="spec_name_wpn1"placeholder="Weapon Speciality #1"/><select name="attr_spec_ability_wpn1"><option value="null">&ndash;</option><option value="strength"data-i18n="strength">Strength</option><option value="agility"data-i18n="agility">Agility</option><option value="accuracy"data-i18n="accuracy">Accuracy</option><option value="knowledge"data-i18n="knowledge">Knowledge</option><option value="will"data-i18n="will">Will</option></select><select name="attr_spec_rank_wpn1"><option value="0">&ndash;</option><option value="1d4"data-i18n="rookie">Rookie</option><option value="1d6"data-i18n="stalker">Stalker</option><option value="1d8"data-i18n="veteran">Veteran</option><option value="1d10"data-i18n="master">Master</option></select><input class="options-flag"name="attr_options_flag_specswpn1"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options boxed"><textarea name="attr_spec_desc_wpn1"data-i18n-placeholder="spec_desc_pl"placeholder="Speciality's description&hellip;"></textarea></div></div><div class="line"><button class="dicefont roll-button"type="roll"value="@{spec_roll_wpn2}">0</button><button class="pictos mrgt"type="roll"value="@{rollbase} {{header=@{spec_name_wpn2}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_wpn2}}}} {{showrank=[[1]]}} {{r_rank=^{rank_@{spec_rank_wpn2}}}} {{desc=@{spec_desc_wpn2}}}">E</button><span class="number"data-i18n-title="weapon_number_hint">2</span><input type="hidden"name="attr_spec_roll_wpn2"value="@{rollbase} {{header=@{spec_name_wpn2}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_wpn2}}}} {{draw_ability=}} {{showrank=[[@{spec_rank_wpn2}]]}} {{r_rank=+@{spec_rank_wpn2}}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[0d10 [@{ability_tra}] + @{spec_rank_wpn2} [@{rank_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"/><input type="text"name="attr_spec_name_wpn2"data-i18n-placeholder="spec_name_wpn2"placeholder="Weapon Speciality #2"/><select name="attr_spec_ability_wpn2"><option value="null">&ndash;</option><option value="strength"data-i18n="strength">Strength</option><option value="agility"data-i18n="agility">Agility</option><option value="accuracy"data-i18n="accuracy">Accuracy</option><option value="knowledge"data-i18n="knowledge">Knowledge</option><option value="will"data-i18n="will">Will</option></select><select name="attr_spec_rank_wpn2"><option value="0">&ndash;</option><option value="1d4"data-i18n="rookie">Rookie</option><option value="1d6"data-i18n="stalker">Stalker</option><option value="1d8"data-i18n="veteran">Veteran</option><option value="1d10"data-i18n="master">Master</option></select><input class="options-flag"name="attr_options_flag_specswpn2"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options boxed"><textarea name="attr_spec_desc_wpn2"data-i18n-placeholder="spec_desc_pl"placeholder="Speciality's description&hellip;"></textarea></div></div><div class="line"><button class="dicefont roll-button"type="roll"value="@{spec_roll_wpn3}">0</button><button class="pictos mrgt"type="roll"value="@{rollbase} {{header=@{spec_name_wpn3}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_wpn3}}}} {{showrank=[[1]]}} {{r_rank=^{rank_@{spec_rank_wpn3}}}} {{desc=@{spec_desc_wpn3}}}">E</button><span class="number"data-i18n-title="weapon_number_hint">3</span><input type="hidden"name="attr_spec_roll_wpn3"value="@{rollbase} {{header=@{spec_name_wpn3}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_wpn3}}}} {{draw_ability=}} {{showrank=[[@{spec_rank_wpn3}]]}} {{r_rank=+@{spec_rank_wpn3}}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[0d10 [@{ability_tra}] + @{spec_rank_wpn3} [@{rank_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"/><input type="text"name="attr_spec_name_wpn3"data-i18n-placeholder="spec_name_wpn3"placeholder="Weapon Speciality #3"/><select name="attr_spec_ability_wpn3"><option value="null">&ndash;</option><option value="strength"data-i18n="strength">Strength</option><option value="agility"data-i18n="agility">Agility</option><option value="accuracy"data-i18n="accuracy">Accuracy</option><option value="knowledge"data-i18n="knowledge">Knowledge</option><option value="will"data-i18n="will">Will</option></select><select name="attr_spec_rank_wpn3"><option value="0">&ndash;</option><option value="1d4"data-i18n="rookie">Rookie</option><option value="1d6"data-i18n="stalker">Stalker</option><option value="1d8"data-i18n="veteran">Veteran</option><option value="1d10"data-i18n="master">Master</option></select><input class="options-flag"name="attr_options_flag_specswpn3"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options boxed"><textarea name="attr_spec_desc_wpn3"data-i18n-placeholder="spec_desc_pl"placeholder="Speciality's description&hellip;"></textarea></div></div><div class="line"><button class="dicefont roll-button"type="roll"value="@{spec_roll_wpn4}">0</button><button class="pictos mrgt"type="roll"value="@{rollbase} {{header=@{spec_name_wpn4}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_wpn4}}}} {{showrank=[[1]]}} {{r_rank=^{rank_@{spec_rank_wpn4}}}} {{desc=@{spec_desc_wpn4}}}">E</button><span class="number"data-i18n-title="weapon_number_hint">4</span><input type="hidden"name="attr_spec_roll_wpn4"value="@{rollbase} {{header=@{spec_name_wpn4}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_wpn4}}}} {{draw_ability=}} {{showrank=[[@{spec_rank_wpn4}]]}} {{r_rank=+@{spec_rank_wpn4}}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[0d10 [@{ability_tra}] + @{spec_rank_wpn4} [@{rank_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"/><input type="text"name="attr_spec_name_wpn4"data-i18n-placeholder="spec_name_wpn4"placeholder="Weapon Speciality #4"/><select name="attr_spec_ability_wpn4"><option value="null">&ndash;</option><option value="strength"data-i18n="strength">Strength</option><option value="agility"data-i18n="agility">Agility</option><option value="accuracy"data-i18n="accuracy">Accuracy</option><option value="knowledge"data-i18n="knowledge">Knowledge</option><option value="will"data-i18n="will">Will</option></select><select name="attr_spec_rank_wpn4"><option value="0">&ndash;</option><option value="1d4"data-i18n="rookie">Rookie</option><option value="1d6"data-i18n="stalker">Stalker</option><option value="1d8"data-i18n="veteran">Veteran</option><option value="1d10"data-i18n="master">Master</option></select><input class="options-flag"name="attr_options_flag_specswpn4"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options boxed"><textarea name="attr_spec_desc_wpn4"data-i18n-placeholder="spec_desc_pl"placeholder="Speciality's description&hellip;"></textarea></div></div><div class="line"><button class="dicefont roll-button"type="roll"value="@{spec_roll_wpn5}">0</button><button class="pictos mrgt"type="roll"value="@{rollbase} {{header=@{spec_name_wpn5}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_wpn5}}}} {{showrank=[[1]]}} {{r_rank=^{rank_@{spec_rank_wpn5}}}} {{desc=@{spec_desc_wpn5}}}">E</button><span class="number"data-i18n-title="weapon_number_hint">5</span><input type="hidden"name="attr_spec_roll_wpn5"value="@{rollbase} {{header=@{spec_name_wpn5}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_wpn5}}}} {{draw_ability=}} {{showrank=[[@{spec_rank_wpn5}]]}} {{r_rank=+@{spec_rank_wpn5}}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[0d10 [@{ability_tra}] + @{spec_rank_wpn5} [@{rank_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"/><input type="text"name="attr_spec_name_wpn5"data-i18n-placeholder="spec_name_wpn5"placeholder="Weapon Speciality #5"/><select name="attr_spec_ability_wpn5"><option value="null">&ndash;</option><option value="strength"data-i18n="strength">Strength</option><option value="agility"data-i18n="agility">Agility</option><option value="accuracy"data-i18n="accuracy">Accuracy</option><option value="knowledge"data-i18n="knowledge">Knowledge</option><option value="will"data-i18n="will">Will</option></select><select name="attr_spec_rank_wpn5"><option value="0">&ndash;</option><option value="1d4"data-i18n="rookie">Rookie</option><option value="1d6"data-i18n="stalker">Stalker</option><option value="1d8"data-i18n="veteran">Veteran</option><option value="1d10"data-i18n="master">Master</option></select><input class="options-flag"name="attr_options_flag_specswpn5"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options boxed"><textarea name="attr_spec_desc_wpn5"data-i18n-placeholder="spec_desc_pl"placeholder="Speciality's description&hellip;"></textarea></div></div><div class="line"><button class="dicefont roll-button"type="roll"value="@{spec_roll_wpn6}">0</button><button class="pictos mrgt"type="roll"value="@{rollbase} {{header=@{spec_name_wpn6}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_wpn6}}}} {{showrank=[[1]]}} {{r_rank=^{rank_@{spec_rank_wpn6}}}} {{desc=@{spec_desc_wpn6}}}">E</button><span class="number"data-i18n-title="weapon_number_hint">6</span><input type="hidden"name="attr_spec_roll_wpn6"value="@{rollbase} {{header=@{spec_name_wpn6}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_wpn6}}}} {{draw_ability=}} {{showrank=[[@{spec_rank_wpn6}]]}} {{r_rank=+@{spec_rank_wpn6}}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[0d10 [@{ability_tra}] + @{spec_rank_wpn6} [@{rank_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"/><input type="text"name="attr_spec_name_wpn6"data-i18n-placeholder="spec_name_wpn6"placeholder="Weapon Speciality #6"/><select name="attr_spec_ability_wpn6"><option value="null">&ndash;</option><option value="strength"data-i18n="strength">Strength</option><option value="agility"data-i18n="agility">Agility</option><option value="accuracy"data-i18n="accuracy">Accuracy</option><option value="knowledge"data-i18n="knowledge">Knowledge</option><option value="will"data-i18n="will">Will</option></select><select name="attr_spec_rank_wpn6"><option value="0">&ndash;</option><option value="1d4"data-i18n="rookie">Rookie</option><option value="1d6"data-i18n="stalker">Stalker</option><option value="1d8"data-i18n="veteran">Veteran</option><option value="1d10"data-i18n="master">Master</option></select><input class="options-flag"name="attr_options_flag_specswpn6"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options boxed"><textarea name="attr_spec_desc_wpn6"data-i18n-placeholder="spec_desc_pl"placeholder="Speciality's description&hellip;"></textarea></div></div><div class="line"><button class="dicefont roll-button"type="roll"value="@{spec_roll_wpn7}">0</button><button class="pictos mrgt"type="roll"value="@{rollbase} {{header=@{spec_name_wpn7}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_wpn7}}}} {{showrank=[[1]]}} {{r_rank=^{rank_@{spec_rank_wpn7}}}} {{desc=@{spec_desc_wpn7}}}">E</button><span class="number"data-i18n-title="weapon_number_hint">7</span><input type="hidden"name="attr_spec_roll_wpn7"value="@{rollbase} {{header=@{spec_name_wpn7}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_wpn7}}}} {{draw_ability=}} {{showrank=[[@{spec_rank_wpn7}]]}} {{r_rank=+@{spec_rank_wpn7}}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[0d10 [@{ability_tra}] + @{spec_rank_wpn7} [@{rank_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"/><input type="text"name="attr_spec_name_wpn7"data-i18n-placeholder="spec_name_wpn7"placeholder="Weapon Speciality #7"/><select name="attr_spec_ability_wpn7"><option value="null">&ndash;</option><option value="strength"data-i18n="strength">Strength</option><option value="agility"data-i18n="agility">Agility</option><option value="accuracy"data-i18n="accuracy">Accuracy</option><option value="knowledge"data-i18n="knowledge">Knowledge</option><option value="will"data-i18n="will">Will</option></select><select name="attr_spec_rank_wpn7"><option value="0">&ndash;</option><option value="1d4"data-i18n="rookie">Rookie</option><option value="1d6"data-i18n="stalker">Stalker</option><option value="1d8"data-i18n="veteran">Veteran</option><option value="1d10"data-i18n="master">Master</option></select><input class="options-flag"name="attr_options_flag_specswpn7"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options boxed"><textarea name="attr_spec_desc_wpn7"data-i18n-placeholder="spec_desc_pl"placeholder="Speciality's description&hellip;"></textarea></div></div><div class="line"><button class="dicefont roll-button"type="roll"value="@{spec_roll_wpn8}">0</button><button class="pictos mrgt"type="roll"value="@{rollbase} {{header=@{spec_name_wpn8}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_wpn8}}}} {{showrank=[[1]]}} {{r_rank=^{rank_@{spec_rank_wpn8}}}} {{desc=@{spec_desc_wpn8}}}">E</button><span class="number"data-i18n-title="weapon_number_hint">8</span><input type="hidden"name="attr_spec_roll_wpn8"value="@{rollbase} {{header=@{spec_name_wpn8}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_wpn8}}}} {{draw_ability=}} {{showrank=[[@{spec_rank_wpn8}]]}} {{r_rank=+@{spec_rank_wpn8}}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[0d10 [@{ability_tra}] + @{spec_rank_wpn8} [@{rank_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"/><input type="text"name="attr_spec_name_wpn8"data-i18n-placeholder="spec_name_wpn8"placeholder="Weapon Speciality #8"/><select name="attr_spec_ability_wpn8"><option value="null">&ndash;</option><option value="strength"data-i18n="strength">Strength</option><option value="agility"data-i18n="agility">Agility</option><option value="accuracy"data-i18n="accuracy">Accuracy</option><option value="knowledge"data-i18n="knowledge">Knowledge</option><option value="will"data-i18n="will">Will</option></select><select name="attr_spec_rank_wpn8"><option value="0">&ndash;</option><option value="1d4"data-i18n="rookie">Rookie</option><option value="1d6"data-i18n="stalker">Stalker</option><option value="1d8"data-i18n="veteran">Veteran</option><option value="1d10"data-i18n="master">Master</option></select><input class="options-flag"name="attr_options_flag_specswpn8"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options boxed"><textarea name="attr_spec_desc_wpn8"data-i18n-placeholder="spec_desc_pl"placeholder="Speciality's description&hellip;"></textarea></div></div><div class="line"><button class="dicefont roll-button"type="roll"value="@{spec_roll_wpn9}">0</button><button class="pictos mrgt"type="roll"value="@{rollbase} {{header=@{spec_name_wpn9}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_wpn9}}}} {{showrank=[[1]]}} {{r_rank=^{rank_@{spec_rank_wpn9}}}} {{desc=@{spec_desc_wpn9}}}">E</button><span class="number"data-i18n-title="weapon_number_hint">9</span><input type="hidden"name="attr_spec_roll_wpn9"value="@{rollbase} {{header=@{spec_name_wpn9}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_wpn9}}}} {{draw_ability=}} {{showrank=[[@{spec_rank_wpn9}]]}} {{r_rank=+@{spec_rank_wpn9}}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[&#125;](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[0d10 [@{ability_tra}] + @{spec_rank_wpn9} [@{rank_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}"/><input type="text"name="attr_spec_name_wpn9"data-i18n-placeholder="spec_name_wpn9"placeholder="Weapon Speciality #9"/><select name="attr_spec_ability_wpn9"><option value="null">&ndash;</option><option value="strength"data-i18n="strength">Strength</option><option value="agility"data-i18n="agility">Agility</option><option value="accuracy"data-i18n="accuracy">Accuracy</option><option value="knowledge"data-i18n="knowledge">Knowledge</option><option value="will"data-i18n="will">Will</option></select><select name="attr_spec_rank_wpn9"><option value="0">&ndash;</option><option value="1d4"data-i18n="rookie">Rookie</option><option value="1d6"data-i18n="stalker">Stalker</option><option value="1d8"data-i18n="veteran">Veteran</option><option value="1d10"data-i18n="master">Master</option></select><input class="options-flag"name="attr_options_flag_specswpn9"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options boxed"><textarea name="attr_spec_desc_wpn9"data-i18n-placeholder="spec_desc_pl"placeholder="Speciality's description&hellip;"></textarea></div></div></div></div><div class="tab tab5 armament"><h1 data-i18n="weapons">Weapons</h1><div class="block weapons"><input class="options-flag options-toggle"name="attr_options_toggle_weapons"type="checkbox"value="1"data-i18n-title="expand_reduce_options"title="Expand/Collapse options"/><span></span><input type="hidden"name="attr_options_counter_weapons"value="0"><div class="header"><span class="mlft mrgt"data-i18n="name">Name</span><span data-i18n="ammos">Ammos</span><span data-i18n="mags">Mags</span></div><fieldset class="repeating_weapons"><div class="line"><input type="hidden"name="attr_weapon_type"value="melee"><div class="headline"><button class="dicefont roll-button"name="attr_weapon_roll_button"type="roll"value="@{weapon_roll}">0</button><button class="pictos mrgt"type="roll"value="@{rollbase} {{header=@{weapon_name}}} {{desc=@{weapon_addon}}}">E</button><button class="hidden"name="roll_weapon_roll_dmg"type="roll"value="@{weapon_roll_dmg}"></button><input type="hidden"name="attr_weapon_roll"value="@{rollbase} {{header=@{weapon_name}}} {{no_weapon_speciality=[[1]]}}"/><input type="hidden"name="attr_weapon_roll_dmg"value="@{rollbase} {{header=@{weapon_name}}} {{damage_roll=true}}} {{damage_type=@{weapon_damage_type}}} {{ammo_type=@{weapon_ammo_type_val}}} {{penetration_r=[[@{weapon_penetration_val}]]}} {{penetration=@{weapon_penetration_val}}} {{bleeding_r=[[@{weapon_bleed}]]}} {{bleeding=@{weapon_bleed_val}}} {{roll=@{weapon_damage_val}}} {{desc=@{weapon_effect}}}"/><input class="mrgt"type="text"name="attr_weapon_name"data-i18n-placeholder="weapon_name_pl"placeholder="Weapon&hellip"/><input class="not-melee"name="attr_weapon_ammo_val"type="number"value="0"min="0"max="9999"/><span class="small grey center not-melee not-thrown not-trap">/</span><span class="large white left not-melee not-thrown not-trap"name="attr_weapon_ammo_max_val">1</span><input class="not-melee not-thrown not-trap"name="attr_weapon_mag"type="number"value="0"min="0"max="50"/><span class="feeder"></span></div><input class="options-flag"name="attr_options_flag_weapons"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options boxed"><div class="center"><label class="icon wpn-accuracy medium"data-i18n-title="weapon_accuracy"title="Accuracy"></label><label class="icon wpn-damage medium"data-i18n-title="weapon_damage"title="Damage"></label><label class="icon wpn-dmgtype"data-i18n-title="weapon_dmgtype"title="Damage Type"></label><label class="icon wpn-penetration"data-i18n-title="weapon_penetration"title="Penetration Factor"></label><label class="icon wpn-range not-melee not-trap"data-i18n-title="weapon_range"title="Range (m)"></label><label class="icon wpn-thrown only-thrown"data-i18n-title="weapon_thrown_factor"title="Thrown Factor"></label><label class="icon wpn-ammo medium not-melee not-thrown not-trap"data-i18n-title="weapon_ammo"title="Ammo Type"></label><label class="icon wpn-mag not-melee not-thrown not-trap"data-i18n-title="weapon_mag"title="Mag Capacity"></label><label class="icon eqp-status spacer"data-i18n-title="weapon_status"title="Status"></label><label class="icon eqp-weight"data-i18n-title="weapon_weight"title="Weight (kg)"></label></div><input type="hidden"name="attr_weapon_accuracy_level"value="1"><input type="hidden"name="attr_weapon_damage_level"value="1"><input type="hidden"name="attr_weapon_penetration_level"value="1"><input type="hidden"name="attr_weapon_range_level"value="1"><input type="hidden"name="attr_weapon_thrown_level"value="1"><input type="hidden"name="attr_weapon_ammo_type_level"value="1"><input type="hidden"name="attr_weapon_ammo_max_level"value="1"><input type="hidden"name="attr_weapon_status_level"value="1"><input type="hidden"name="attr_weapon_weight_level"value="1"><div class="values leveled"><div class="chart"><span data-i18n="lvl_1">Base</span><span data-i18n="lvl_2">Lvl.2</span><span data-i18n="lvl_3">Lvl.3</span><span data-i18n="lvl_4">Lvl.4</span><span data-i18n="lvl_5">Lvl.5</span></div><div class="medium"><input class="lvl"name="attr_weapon_accuracy"type="text"value="0"/><input class="lvl"name="attr_weapon_accuracy_2"type="text"value="0"/><input class="lvl"name="attr_weapon_accuracy_3"type="text"value="0"/><input class="lvl"name="attr_weapon_accuracy_4"type="text"value="0"/><input class="lvl"name="attr_weapon_accuracy_5"type="text"value="0"/></div><div class="medium"><input class="lvl"name="attr_weapon_damage"type="text"value="1"/><input class="lvl"name="attr_weapon_damage_2"type="text"value="1"/><input class="lvl"name="attr_weapon_damage_3"type="text"value="1"/><input class="lvl"name="attr_weapon_damage_4"type="text"value="1"/><input class="lvl"name="attr_weapon_damage_5"type="text"value="1"/><input name="attr_weapon_damage_val"type="hidden"value="[[1]]"/></div><select name="attr_weapon_damage_type"><option value="">&ndash;</option><option value="burn"data-i18n="dmg_burn">Burning</option><option value="shock"data-i18n="dmg_shock">Electrical Shocks</option><option value="blow"data-i18n="dmg_blow">Blows</option><option value="cut"data-i18n="dmg_cut">Cuts</option><option value="radiation"data-i18n="dmg_radiation">Radiations</option><option value="chemical"data-i18n="dmg_chemical">Chemical burning</option><option value="blast"data-i18n="dmg_blast">Blasts</option><option value="bullet"data-i18n="dmg_bullet">Bullets</option></select><input class="dmgicon"name="attr_weapon_damage_type"type="hidden"value=""><span></span><div><input class="lvl"name="attr_weapon_penetration"type="number"value="0"min="0"max="25"/><input class="lvl"name="attr_weapon_penetration_2"type="number"value="0"min="0"max="25"/><input class="lvl"name="attr_weapon_penetration_3"type="number"value="0"min="0"max="25"/><input class="lvl"name="attr_weapon_penetration_4"type="number"value="0"min="0"max="25"/><input class="lvl"name="attr_weapon_penetration_5"type="number"value="0"min="0"max="25"/><input name="attr_weapon_penetration_val"type="hidden"value="0"/></div><div class="not-melee not-trap"><input class="lvl"name="attr_weapon_range"type="number"value="0"min="0"max="9999"/><input class="lvl not-thrown"name="attr_weapon_range_2"type="number"value="0"min="0"max="9999"/><input class="lvl not-thrown"name="attr_weapon_range_3"type="number"value="0"min="0"max="9999"/><input class="lvl not-thrown"name="attr_weapon_range_4"type="number"value="0"min="0"max="9999"/><input class="lvl not-thrown"name="attr_weapon_range_5"type="number"value="0"min="0"max="9999"/><input name="attr_weapon_range_val"type="hidden"value="0"/><input name="attr_weapon_range_old"type="hidden"value="0"/></div><div class="only-thrown"><input class="lvl"name="attr_weapon_thrown"type="number"value="1"min="1"max="100"/><input class="lvl"name="attr_weapon_thrown_2"type="number"value="1"min="1"max="100"/><input class="lvl"name="attr_weapon_thrown_3"type="number"value="1"min="1"max="100"/><input class="lvl"name="attr_weapon_thrown_4"type="number"value="1"min="1"max="100"/><input class="lvl"name="attr_weapon_thrown_5"type="number"value="1"min="1"max="100"/></div><div class="medium not-melee not-thrown not-trap"><input class="lvl"name="attr_weapon_ammo_type"type="text"value=""data-i18n-placeholder="null"/><input class="lvl"name="attr_weapon_ammo_type_2"type="text"value=""data-i18n-placeholder="null"/><input class="lvl"name="attr_weapon_ammo_type_3"type="text"value=""data-i18n-placeholder="null"/><input class="lvl"name="attr_weapon_ammo_type_4"type="text"value=""data-i18n-placeholder="null"/><input class="lvl"name="attr_weapon_ammo_type_5"type="text"value=""data-i18n-placeholder="null"/><input name="attr_weapon_ammo_type_val"type="hidden"value=""/></div><div class="not-melee not-thrown not-trap"><input class="lvl"name="attr_weapon_ammo_max"type="number"value="0"min="0"max="9999"/><input class="lvl"name="attr_weapon_ammo_max_2"type="number"value="0"min="0"max="9999"/><input class="lvl"name="attr_weapon_ammo_max_3"type="number"value="0"min="0"max="9999"/><input class="lvl"name="attr_weapon_ammo_max_4"type="number"value="0"min="0"max="9999"/><input class="lvl"name="attr_weapon_ammo_max_5"type="number"value="0"min="0"max="9999"/><input name="attr_weapon_ammo_max_val"type="hidden"value="0"/></div><div class="spacer"><input class="conditional"name="attr_weapon_status"type="hidden"value="0"/><input class="lvl"name="attr_weapon_status"type="number"value="0"min="-25"max="25"/><input class="conditional"name="attr_weapon_status_2"type="hidden"value="0"/><input class="lvl"name="attr_weapon_status_2"type="number"value="0"min="-25"max="25"/><input class="conditional"name="attr_weapon_status_3"type="hidden"value="0"/><input class="lvl"name="attr_weapon_status_3"type="number"value="0"min="-25"max="25"/><input class="conditional"name="attr_weapon_status_4"type="hidden"value="0"/><input class="lvl"name="attr_weapon_status_4"type="number"value="0"min="-25"max="25"/><input class="conditional"name="attr_weapon_status_5"type="hidden"value="0"/><input class="lvl"name="attr_weapon_status_5"type="number"value="0"min="-25"max="25"/><input name="attr_weapon_status_val"type="hidden"value="0"/></div><div><input class="lvl"name="attr_weapon_weight"type="number"min="0"max="100"step="0.01"value="0"/><input class="lvl"name="attr_weapon_weight_2"type="number"min="0"max="100"step="0.01"value="0"/><input class="lvl"name="attr_weapon_weight_3"type="number"min="0"max="100"step="0.01"value="0"/><input class="lvl"name="attr_weapon_weight_4"type="number"min="0"max="100"step="0.01"value="0"/><input class="lvl"name="attr_weapon_weight_5"type="number"min="0"max="100"step="0.01"value="0"/><input name="attr_weapon_weight_val"type="hidden"value="0"/></div></div><div class="values levels"><select class="medium"name="attr_weapon_accuracy_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select class="medium"name="attr_weapon_damage_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select class="padder"name="attr_weapon_penetration_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select class="not-melee not-thrown not-trap"name="attr_weapon_range_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select class="only-thrown gapper"name="attr_weapon_thrown_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select class="medium not-melee not-thrown not-trap"name="attr_weapon_ammo_type_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select class="not-melee not-thrown not-trap"name="attr_weapon_ammo_max_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select class="spacer"name="attr_weapon_status_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select name="attr_weapon_weight_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select></div><div class="details"><div class="only-melee"><label data-i18n="weapon_prop">Properties</label><input name="attr_weapon_bleed"type="checkbox"value="1"/><span data-i18n="weapon_bleed">Bleeding</span><select name="attr_weapon_bleed_val"><option value="1"data-i18n="weapon_bleed_1">Light</option><option value="2"data-i18n="weapon_bleed_2">Moderate</option><option value="3"data-i18n="weapon_bleed_3">Serious</option></select></div><div class="not-melee not-thrown not-trap"><label data-i18n="weapon_rate">Rate of fire</label><input name="attr_weapon_rate_1"type="checkbox"value="1"/><span data-i18n="weapon_rate_1">One-shot</span><input class="margin"name="attr_weapon_rate_2"type="checkbox"value="1"/><span data-i18n="weapon_rate_2">Semi-auto</span><input name="attr_weapon_rate_2_val"type="number"min="1"max="9"step="1"value="1"/><input class="margin"name="attr_weapon_rate_3"type="checkbox"value="1"/><span data-i18n="weapon_rate_3">Full auto</span><input name="attr_weapon_rate_3_val"type="number"min="1"max="99"step="1"value="1"/></div><div><label data-i18n="weapon_spec">Speciality</label><select class="speciality"name="attr_weapon_spec"><option value="null">&ndash;</option><option value="spec_roll_wpn1"data-i18n="spec_name_wpn1_abbr">Weapon #1</option><option value="spec_roll_wpn2"data-i18n="spec_name_wpn2_abbr">Weapon #2</option><option value="spec_roll_wpn3"data-i18n="spec_name_wpn3_abbr">Weapon #3</option><option value="spec_roll_wpn4"data-i18n="spec_name_wpn4_abbr">Weapon #4</option><option value="spec_roll_wpn5"data-i18n="spec_name_wpn5_abbr">Weapon #5</option><option value="spec_roll_wpn6"data-i18n="spec_name_wpn6_abbr">Weapon #6</option><option value="spec_roll_wpn7"data-i18n="spec_name_wpn7_abbr">Weapon #7</option><option value="spec_roll_wpn8"data-i18n="spec_name_wpn8_abbr">Weapon #8</option><option value="spec_roll_wpn9"data-i18n="spec_name_wpn9_abbr">Weapon #9</option></select><span name="attr_weapon_spec_str"></span><label data-i18n="weapon_type">Weapon Type</label><select name="attr_weapon_type"><option value="melee"data-i18n="weapon_melee"selected="selected">Melee</option><option value="thrown"data-i18n="weapon_thrown">Thrown</option><option value="explosive"data-i18n="weapon_explosive">Explosive</option><option value="trap"data-i18n="weapon_trap">Trap</option><option value="firearm"data-i18n="weapon_firearm">Firearm</option></select></div><div><label data-i18n="effects">Effects</label><input name="attr_weapon_effect"type="text"data-i18n-placeholder="weapon_effect_pl"placeholder="Effect&hellip"/></div><div><label data-i18n="addons">Add-ons</label><textarea name="attr_weapon_addon"data-i18n-placeholder="weapon_addon_pl"placeholder="Add-ons&hellip"></textarea></div></div></div></div></fieldset><div class="footer"><input class="number"type="text"name="attr_weapons_weight"value="0"readonly="readonly"/><span>kg</span></div></div><h1 data-i18n="suits">Suits</h1><div class="block suits"><input class="options-flag options-toggle"name="attr_options_toggle_suits"type="checkbox"value="1"data-i18n-title="expand_reduce_options"title="Expand/Collapse options"/><span></span><input type="hidden"name="attr_options_counter_suits"value="0"><div class="header"><span class="mlft"data-i18n="name">Name</span></div><fieldset class="repeating_suits"><div class="line"><div class="headline"><button class="pictos mrgt"type="roll"value="@{rollbase} {{header=@{suit_name}}} {{sui_psi_r=[[@{suit_psi_val}]]}} {{sui_psi=@{suit_psi_val}}} {{sui_pocket_r=[[@{suit_pocket_val}]]}} {{sui_pocket=@{suit_pocket_val}}} {{desc=@{suit_addon}}}">E</button><input class="mrgt"type="text"name="attr_suit_name"data-i18n-placeholder="suit_name_pl"placeholder="Suit&hellip"/><span class="feeder"></span></div><input class="options-flag"name="attr_options_flag_suits"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="damage optioned"><input name="attr_suit_dmg_str"type="hidden"value=""><input name="attr_suit_dmg_val"type="hidden"value="0"><input type="radio"name="attr_suit_dmg"value="burn"data-i18n-title="suit_burn"title="Burning"/><label class="icon pic-burn"></label><input type="radio"name="attr_suit_dmg"value="shock"data-i18n-title="suit_shock"title="Electrical Shocks"/><label class="icon pic-shock"></label><input type="radio"name="attr_suit_dmg"value="blow"data-i18n-title="suit_blow"title="Blows"/><label class="icon pic-blow"></label><input type="radio"name="attr_suit_dmg"value="cut"data-i18n-title="suit_cut"title="Cuts"/><label class="icon pic-cut"></label><input type="radio"name="attr_suit_dmg"value="radiation"data-i18n-title="suit_radiation"title="Radiations"/><label class="icon pic-radiation"></label><input type="radio"name="attr_suit_dmg"value="chemical"data-i18n-title="suit_chemical"title="Chemical Burning"/><label class="icon pic-chemical"></label><input type="radio"name="attr_suit_dmg"value="blast"data-i18n-title="suit_blast"title="Blasts"/><label class="icon pic-blast"></label><input type="radio"name="attr_suit_dmg"value="bullet"data-i18n-title="suit_bullet"title="Bullets"checked="checked"/><label class="icon pic-bullet"></label></div><input type="hidden"name="attr_suit_burn_level"value="1"><input type="hidden"name="attr_suit_shock_level"value="1"><input type="hidden"name="attr_suit_blow_level"value="1"><input type="hidden"name="attr_suit_cut_level"value="1"><input type="hidden"name="attr_suit_radiation_level"value="1"><input type="hidden"name="attr_suit_chemical_level"value="1"><input type="hidden"name="attr_suit_blast_level"value="1"><input type="hidden"name="attr_suit_bullet_level"value="1"><div class="damage values leveled options"><div class="chart"><span data-i18n="lvl_1">Base</span><span data-i18n="lvl_2">Lvl.2</span><span data-i18n="lvl_3">Lvl.3</span><span data-i18n="lvl_4">Lvl.4</span><span data-i18n="lvl_5">Lvl.5</span></div><div><input class="lvl"name="attr_suit_burn"type="text"value="0"/><input class="lvl"name="attr_suit_burn_2"type="text"value="0"/><input class="lvl"name="attr_suit_burn_3"type="text"value="0"/><input class="lvl"name="attr_suit_burn_4"type="text"value="0"/><input class="lvl"name="attr_suit_burn_5"type="text"value="0"/><input name="attr_suit_burn_val"type="hidden"value="0"/></div><div><input class="lvl"name="attr_suit_shock"type="text"value="0"/><input class="lvl"name="attr_suit_shock_2"type="text"value="0"/><input class="lvl"name="attr_suit_shock_3"type="text"value="0"/><input class="lvl"name="attr_suit_shock_4"type="text"value="0"/><input class="lvl"name="attr_suit_shock_5"type="text"value="0"/><input name="attr_suit_shock_val"type="hidden"value="0"/></div><div><input class="lvl"name="attr_suit_blow"type="text"value="0"/><input class="lvl"name="attr_suit_blow_2"type="text"value="0"/><input class="lvl"name="attr_suit_blow_3"type="text"value="0"/><input class="lvl"name="attr_suit_blow_4"type="text"value="0"/><input class="lvl"name="attr_suit_blow_5"type="text"value="0"/><input name="attr_suit_blow_val"type="hidden"value="0"/></div><div><input class="lvl"name="attr_suit_cut"type="text"value="0"/><input class="lvl"name="attr_suit_cut_2"type="text"value="0"/><input class="lvl"name="attr_suit_cut_3"type="text"value="0"/><input class="lvl"name="attr_suit_cut_4"type="text"value="0"/><input class="lvl"name="attr_suit_cut_5"type="text"value="0"/><input name="attr_suit_cut_val"type="hidden"value="0"/></div><div><input class="lvl"name="attr_suit_radiation"type="text"value="0"/><input class="lvl"name="attr_suit_radiation_2"type="text"value="0"/><input class="lvl"name="attr_suit_radiation_3"type="text"value="0"/><input class="lvl"name="attr_suit_radiation_4"type="text"value="0"/><input class="lvl"name="attr_suit_radiation_5"type="text"value="0"/><input name="attr_suit_radiation_val"type="hidden"value="0"/></div><div><input class="lvl"name="attr_suit_chemical"type="text"value="0"/><input class="lvl"name="attr_suit_chemical_2"type="text"value="0"/><input class="lvl"name="attr_suit_chemical_3"type="text"value="0"/><input class="lvl"name="attr_suit_chemical_4"type="text"value="0"/><input class="lvl"name="attr_suit_chemical_5"type="text"value="0"/><input name="attr_suit_chemical_val"type="hidden"value="0"/></div><div><input class="lvl"name="attr_suit_blast"type="text"value="0"/><input class="lvl"name="attr_suit_blast_2"type="text"value="0"/><input class="lvl"name="attr_suit_blast_3"type="text"value="0"/><input class="lvl"name="attr_suit_blast_4"type="text"value="0"/><input class="lvl"name="attr_suit_blast_5"type="text"value="0"/><input name="attr_suit_blast_val"type="hidden"value="0"/></div><div><input class="lvl"name="attr_suit_bullet"type="text"value="0"/><input class="lvl"name="attr_suit_bullet_2"type="text"value="0"/><input class="lvl"name="attr_suit_bullet_3"type="text"value="0"/><input class="lvl"name="attr_suit_bullet_4"type="text"value="0"/><input class="lvl"name="attr_suit_bullet_5"type="text"value="0"/><input name="attr_suit_bullet_val"type="hidden"value="0"/></div></div><div class="damage values levels options"><select name="attr_suit_burn_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select name="attr_suit_shock_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select name="attr_suit_blow_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select name="attr_suit_cut_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select name="attr_suit_radiation_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select name="attr_suit_chemical_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select name="attr_suit_blast_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select name="attr_suit_bullet_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select></div><div class="location optioned"><button type="roll"name="roll_suit_head"value="@{rollbase} {{header=@{suit_name}}} {{subheader=@{hit_head_str}}} {{damage_type=@{suit_dmg}}} {{sui_pro=@{suit_dmg_str}}} {{sui_loc=@{suit_head_str}}} {{sui_loc_r=[[@{suit_head_val}]]}} {{sui_stt_r=[[@{suit_status_val}]]}} {{sui_stt=@{suit_status_val}}} {{roll=[[@{suit_dmg_val} + @{suit_head_val} [@{suit_location_tra}] + @{suit_status_val} [@{suit_status_tra}]]]}}"><span data-i18n="head">Head</span></button><button type="roll"name="roll_suit_arms"value="@{rollbase} {{header=@{suit_name}}} {{subheader=@{hit_arms_str}}} {{damage_type=@{suit_dmg}}} {{sui_pro=@{suit_dmg_str}}} {{sui_loc=@{suit_arms_str}}} {{sui_loc_r=[[@{suit_arms_val}]]}} {{sui_stt_r=[[@{suit_status_val}]]}} {{sui_stt=@{suit_status_val}}} {{roll=[[@{suit_dmg_val} + @{suit_arms_val} [@{suit_location_tra}] + @{suit_status_val} [@{suit_status_tra}]]]}}"><span data-i18n="arms">Arms</span></button><button type="roll"name="roll_suit_torso"value="@{rollbase} {{header=@{suit_name}}} {{subheader=@{hit_torso_str}}} {{damage_type=@{suit_dmg}}} {{sui_pro=@{suit_dmg_str}}} {{sui_loc=@{suit_torso_str}}} {{sui_loc_r=[[@{suit_torso_val}]]}} {{sui_stt_r=[[@{suit_status_val}]]}} {{sui_stt=@{suit_status_val}}} {{roll=[[@{suit_dmg_val} + @{suit_torso_val} [@{suit_location_tra}] + @{suit_status_val} [@{suit_status_tra}]]]}}"><span data-i18n="torso">Torso</span></button><button type="roll"name="roll_suit_legs"value="@{rollbase} {{header=@{suit_name}}} {{subheader=@{hit_legs_str}}} {{damage_type=@{suit_dmg}}} {{sui_pro=@{suit_dmg_str}}} {{sui_loc=@{suit_legs_str}}} {{sui_loc_r=[[@{suit_legs_val}]]}} {{sui_stt_r=[[@{suit_status_val}]]}} {{sui_stt=@{suit_status_val}}} {{roll=[[@{suit_dmg_val} + @{suit_legs_val} [@{suit_location_tra}] + @{suit_status_val} [@{suit_status_tra}]]]}}"><span data-i18n="legs">Legs</span></button></div><input type="hidden"name="attr_suit_head_level"value="1"><input type="hidden"name="attr_suit_arms_level"value="1"><input type="hidden"name="attr_suit_torso_level"value="1"><input type="hidden"name="attr_suit_legs_level"value="1"><div class="location values leveled options"><div class="chart"><span data-i18n="lvl_1">Base</span><span data-i18n="lvl_2">Lvl.2</span><span data-i18n="lvl_3">Lvl.3</span><span data-i18n="lvl_4">Lvl.4</span><span data-i18n="lvl_5">Lvl.5</span></div><div><input class="lvl"name="attr_suit_head"type="text"value="0"/><input class="lvl"name="attr_suit_head_2"type="text"value="0"/><input class="lvl"name="attr_suit_head_3"type="text"value="0"/><input class="lvl"name="attr_suit_head_4"type="text"value="0"/><input class="lvl"name="attr_suit_head_5"type="text"value="0"/><input name="attr_suit_head_str"type="hidden"value="0"/><input name="attr_suit_head_val"type="hidden"value="0"/></div><div><input class="lvl"name="attr_suit_arms"type="text"value="0"/><input class="lvl"name="attr_suit_arms_2"type="text"value="0"/><input class="lvl"name="attr_suit_arms_3"type="text"value="0"/><input class="lvl"name="attr_suit_arms_4"type="text"value="0"/><input class="lvl"name="attr_suit_arms_5"type="text"value="0"/><input name="attr_suit_arms_str"type="hidden"value="0"/><input name="attr_suit_arms_val"type="hidden"value="0"/></div><div><input class="lvl"name="attr_suit_torso"type="text"value="0"/><input class="lvl"name="attr_suit_torso_2"type="text"value="0"/><input class="lvl"name="attr_suit_torso_3"type="text"value="0"/><input class="lvl"name="attr_suit_torso_4"type="text"value="0"/><input class="lvl"name="attr_suit_torso_5"type="text"value="0"/><input name="attr_suit_torso_str"type="hidden"value="0"/><input name="attr_suit_torso_val"type="hidden"value="0"/></div><div><input class="lvl"name="attr_suit_legs"type="text"value="0"/><input class="lvl"name="attr_suit_legs_2"type="text"value="0"/><input class="lvl"name="attr_suit_legs_3"type="text"value="0"/><input class="lvl"name="attr_suit_legs_4"type="text"value="0"/><input class="lvl"name="attr_suit_legs_5"type="text"value="0"/><input name="attr_suit_legs_str"type="hidden"value="0"/><input name="attr_suit_legs_val"type="hidden"value="0"/></div></div><div class="location values levels options"><select name="attr_suit_head_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select name="attr_suit_arms_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select name="attr_suit_torso_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select name="attr_suit_legs_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select></div><div class="options boxed"><div class="center"><label class="icon eqp-psi medium"data-i18n-title="suit_psi"title="Psi protection"></label><label class="icon eqp-pocket spacer"data-i18n-title="suit_pocket"title="Pockets"></label><label class="icon eqp-status"data-i18n-title="suit_status"title="Status"></label><label class="icon eqp-weight"data-i18n-title="suit_weight"title="Weight (kg)"></label></div><input type="hidden"name="attr_suit_psi_level"value="1"><input type="hidden"name="attr_suit_pocket_level"value="1"><input type="hidden"name="attr_suit_status_level"value="1"><input type="hidden"name="attr_suit_weight_level"value="1"><div class="values leveled"><div class="chart"><span data-i18n="lvl_1">Base</span><span data-i18n="lvl_2">Lvl.2</span><span data-i18n="lvl_3">Lvl.3</span><span data-i18n="lvl_4">Lvl.4</span><span data-i18n="lvl_5">Lvl.5</span></div><div class="medium"><input class="lvl"name="attr_suit_psi"type="number"value="0"min="0"max="50"/><input class="lvl"name="attr_suit_psi_2"type="number"value="0"min="0"max="50"/><input class="lvl"name="attr_suit_psi_3"type="number"value="0"min="0"max="50"/><input class="lvl"name="attr_suit_psi_4"type="number"value="0"min="0"max="50"/><input class="lvl"name="attr_suit_psi_5"type="number"value="0"min="0"max="50"/><input name="attr_suit_psi_val"type="hidden"value="0"/></div><div class="spacer"><input class="lvl"name="attr_suit_pocket"type="number"value="0"min="0"max="10"/><input class="lvl"name="attr_suit_pocket_2"type="number"value="0"min="0"max="10"/><input class="lvl"name="attr_suit_pocket_3"type="number"value="0"min="0"max="10"/><input class="lvl"name="attr_suit_pocket_4"type="number"value="0"min="0"max="10"/><input class="lvl"name="attr_suit_pocket_5"type="number"value="0"min="0"max="10"/><input name="attr_suit_pocket_val"type="hidden"value="0"/></div><div><input class="conditional"name="attr_suit_status"type="hidden"value="0"/><input class="lvl"name="attr_suit_status"type="number"value="0"min="-50"max="50"/><input class="conditional"name="attr_suit_status_2"type="hidden"value="0"/><input class="lvl"name="attr_suit_status_2"type="number"value="0"min="-50"max="50"/><input class="conditional"name="attr_suit_status_3"type="hidden"value="0"/><input class="lvl"name="attr_suit_status_3"type="number"value="0"min="-50"max="50"/><input class="conditional"name="attr_suit_status_4"type="hidden"value="0"/><input class="lvl"name="attr_suit_status_4"type="number"value="0"min="-50"max="50"/><input class="conditional"name="attr_suit_status_5"type="hidden"value="0"/><input class="lvl"name="attr_suit_status_5"type="number"value="0"min="-50"max="50"/><input name="attr_suit_status_val"type="hidden"value="0"/></div><div><input class="lvl"name="attr_suit_weight"type="number"min="0"max="250"step="0.01"value="0"/><input class="lvl"name="attr_suit_weight_2"type="number"min="0"max="250"step="0.01"value="0"/><input class="lvl"name="attr_suit_weight_3"type="number"min="0"max="250"step="0.01"value="0"/><input class="lvl"name="attr_suit_weight_4"type="number"min="0"max="250"step="0.01"value="0"/><input class="lvl"name="attr_suit_weight_5"type="number"min="0"max="250"step="0.01"value="0"/><input name="attr_suit_weight_val"type="hidden"value="0"/></div></div><div class="values levels"><select class="medium"name="attr_suit_psi_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select class="spacer"name="attr_suit_pocket_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select name="attr_suit_status_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select><select name="attr_suit_weight_level"><option value="1"data-i18n="lvl_1">Base</option><option value="2"data-i18n="lvl_2">Lvl.2</option><option value="3"data-i18n="lvl_3">Lvl.3</option><option value="4"data-i18n="lvl_4">Lvl.4</option><option value="5"data-i18n="lvl_5">Lvl.5</option></select></div><div class="details"><div><label data-i18n="addons">Add-ons</label><textarea name="attr_suit_addon"data-i18n-placeholder="suit_addon_pl"placeholder="Add-ons&hellip"></textarea></div></div></div></div></fieldset><div class="footer"><input class="number"type="text"name="attr_suits_weight"value="0"readonly="readonly"/><span>kg</span></div></div><h1 data-i18n="artefacts">Artefacts</h1><div class="block artefacts"><input class="options-flag options-toggle"name="attr_options_toggle_artefacts"type="checkbox"value="1"data-i18n-title="expand_reduce_options"title="Expand/Collapse options"/><span></span><input type="hidden"name="attr_options_counter_artefacts"value="0"><div class="header"><span data-i18n="name">Name</span></div><fieldset class="repeating_artefacts"><div class="line"><div class="headline"><button class="pictos mrgt"name="show_artefact"type="roll"value="@{rollbase} {{header=@{artefact_name}}} {{desc=@{artefact_desc}}}">E</button><input class="mrgt"type="text"name="attr_artefact_name"data-i18n-placeholder="artefact_name_pl"placeholder="Artefact&hellip"/><span class="feeder"></span></div><input class="options-flag"name="attr_options_flag_artefacts"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><div class="options boxed"><textarea name="attr_artefact_desc"data-i18n-placeholder="artefact_desc_pl"placeholder="Artefact's description&hellip;"></textarea></div></div></fieldset></div></div><div class="tab tab6 inventory"><h1 data-i18n="equipment">Equipment</h1><div class="block"><input class="options-flag options-toggle"name="attr_options_toggle_equipment"type="checkbox"value="1"data-i18n-title="expand_reduce_options"title="Expand/Collapse options"/><span></span><input type="hidden"name="attr_options_counter_equipment"value="0"><div class="header"><span class="mlft mrgt"data-i18n="name">Name</span><span data-i18n="quantity">Quantity</span><span data-i18n="weight">Weight</span><span data-i18n="total">Total</span></div><fieldset class="repeating_equipment"><input class="options-flag"name="attr_options_flag_equipment"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><button class="sml"type="action"name="act_backpack"data-i18n="item_backpack">Backpack</button><button class="sml has-vehicle"type="action"name="act_vehicle"data-i18n="item_vehicle">Vehicle</button><button class="sml has-den"type="action"name="act_den"data-i18n="item_den">Den</button><div class="line"><button class="pictos mrgt"name="show_item"type="roll"value="@{rollbase} {{header=@{item_name}}} {{itm_num_r=[[ceil(@{item_number})]]}} {{itm_num=@{item_number}}} {{itm_wgt_r=[[ceil(@{item_weight})]]}} {{itm_wgt=@{item_weight}}} {{itm_wgt_tot=@{item_weight_total}}} {{desc=@{item_desc}}}">E</button><input class="mrgt"type="text"name="attr_item_name"data-i18n-placeholder="item_name_pl"placeholder="Item&hellip;"/><input type="number"name="attr_item_number"min="0"step="1"value="0"/><span>&times;</span><input type="number"name="attr_item_weight"min="0"step="0.01"value="0"/><span>=</span><input class="number"type="text"name="attr_item_weight_total"value="0"readonly="readonly"/><span>kg</span></div><div class="options boxed"><textarea name="attr_item_desc"data-i18n-placeholder="item_desc_pl"placeholder="Item's description&hellip;"></textarea><div class="details"><label data-i18n="item_transfer">Transfer</label></div></div></fieldset><div class="footer"><input class="number"type="text"name="attr_equipment_weight"value="0"readonly="readonly"/><span>kg</span></div></div></div><div class="tab tab7 inventory"><h1 data-i18n="backpack">Backpack</h1><div class="block"><input class="options-flag options-toggle"name="attr_options_toggle_backpack"type="checkbox"value="1"data-i18n-title="expand_reduce_options"title="Expand/Collapse options"/><span></span><input type="hidden"name="attr_options_counter_backpack"value="0"><div class="header"><span class="mlft mrgt"data-i18n="name">Name</span><span data-i18n="quantity">Quantity</span><span data-i18n="weight">Weight</span><span data-i18n="total">Total</span></div><fieldset class="repeating_backpack"><input class="options-flag"name="attr_options_flag_backpack"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><button class="sml"type="action"name="act_equipment"data-i18n="item_equipment">Equipment</button><button class="sml has-vehicle"type="action"name="act_vehicle"data-i18n="item_vehicle">Vehicle</button><button class="sml has-den"type="action"name="act_den"data-i18n="item_den">Den</button><div class="line"><button class="pictos mrgt"name="show_item"type="roll"value="@{rollbase} {{header=@{item_name}}} {{itm_num_r=[[ceil(@{item_number})]]}} {{itm_num=@{item_number}}} {{itm_wgt_r=[[ceil(@{item_weight})]]}} {{itm_wgt=@{item_weight}}} {{itm_wgt_tot=@{item_weight_total}}} {{desc=@{item_desc}}}">E</button><input class="mrgt"type="text"name="attr_item_name"data-i18n-placeholder="item_name_pl"placeholder="Item&hellip;"/><input type="number"name="attr_item_number"min="0"step="1"value="0"/><span>&times;</span><input type="number"name="attr_item_weight"min="0"step="0.01"value="0"/><span>=</span><input class="number"type="text"name="attr_item_weight_total"value="0"readonly="readonly"/><span>kg</span></div><div class="options boxed"><textarea name="attr_item_desc"data-i18n-placeholder="item_desc_pl"placeholder="Item's description&hellip;"></textarea><div class="details"><label data-i18n="item_transfer">Transfer</label></div></div></fieldset><div class="footer"><input class="number"type="text"name="attr_backpack_weight"value="0"readonly="readonly"/><span>kg</span></div></div><h1 class="has-vehicle"data-i18n="vehicle">Vehicle</h1><div class="block has-vehicle"><input class="options-flag options-toggle"name="attr_options_toggle_vehicle"type="checkbox"value="1"data-i18n-title="expand_reduce_options"title="Expand/Collapse options"/><span></span><input type="hidden"name="attr_options_counter_vehicle"value="0"><div class="header"><span class="mlft mrgt"data-i18n="name">Name</span><span data-i18n="quantity">Quantity</span><span data-i18n="weight">Weight</span><span data-i18n="total">Total</span></div><fieldset class="repeating_vehicle"><input class="options-flag"name="attr_options_flag_vehicle"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><button class="sml"type="action"name="act_equipment"data-i18n="item_equipment">Equipment</button><button class="sml"type="action"name="act_backpack"data-i18n="item_backpack">Backpack</button><button class="sml has-den"type="action"name="act_den"data-i18n="item_den">Den</button><div class="line"><button class="pictos mrgt"name="show_item"type="roll"value="@{rollbase} {{header=@{item_name}}} {{itm_num_r=[[ceil(@{item_number})]]}} {{itm_num=@{item_number}}} {{itm_wgt_r=[[ceil(@{item_weight})]]}} {{itm_wgt=@{item_weight}}} {{itm_wgt_tot=@{item_weight_total}}} {{desc=@{item_desc}}}">E</button><input class="mrgt"type="text"name="attr_item_name"data-i18n-placeholder="item_name_pl"placeholder="Item&hellip;"/><input type="number"name="attr_item_number"min="0"step="1"value="0"/><span>&times;</span><input type="number"name="attr_item_weight"min="0"step="0.01"value="0"/><span>=</span><input class="number"type="text"name="attr_item_weight_total"value="0"readonly="readonly"/><span>kg</span></div><div class="options boxed"><textarea name="attr_item_desc"data-i18n-placeholder="item_desc_pl"placeholder="Item's description&hellip;"></textarea><div class="details"><label data-i18n="item_transfer">Transfer</label></div></div></fieldset><div class="footer"><input class="number"type="text"name="attr_vehicle_weight"value="0"readonly="readonly"/><span>kg</span></div></div><h1 class="has-den"data-i18n="den">Den</h1><div class="block has-den"><input class="options-flag options-toggle"name="attr_options_toggle_den"type="checkbox"value="1"data-i18n-title="expand_reduce_options"title="Expand/Collapse options"/><span></span><input type="hidden"name="attr_options_counter_den"value="0"><div class="header"><span class="mlft mrgt"data-i18n="name">Name</span><span data-i18n="quantity">Quantity</span><span data-i18n="weight">Weight</span><span data-i18n="total">Total</span></div><fieldset class="repeating_den"><input class="options-flag"name="attr_options_flag_den"type="checkbox"value="1"data-i18n-title="show_hide_options"title="Show/Hide options"/><span></span><button class="sml"type="action"name="act_equipment"data-i18n="item_equipment">Equipment</button><button class="sml"type="action"name="act_backpack"data-i18n="item_backpack">Backpack</button><button class="sml has-vehicle"type="action"name="act_vehicle"data-i18n="item_vehicle">Vehicle</button><div class="line"><button class="pictos mrgt"name="show_item"type="roll"value="@{rollbase} {{header=@{item_name}}} {{itm_num_r=[[ceil(@{item_number})]]}} {{itm_num=@{item_number}}} {{itm_wgt_r=[[ceil(@{item_weight})]]}} {{itm_wgt=@{item_weight}}} {{itm_wgt_tot=@{item_weight_total}}} {{desc=@{item_desc}}}">E</button><input class="mrgt"type="text"name="attr_item_name"data-i18n-placeholder="item_name_pl"placeholder="Item&hellip;"/><input type="number"name="attr_item_number"min="0"step="1"value="0"/><span>&times;</span><input type="number"name="attr_item_weight"min="0"step="0.01"value="0"/><span>=</span><input class="number"type="text"name="attr_item_weight_total"value="0"readonly="readonly"/><span>kg</span></div><div class="options boxed"><textarea name="attr_item_desc"data-i18n-placeholder="item_desc_pl"placeholder="Item's description&hellip;"></textarea><div class="details"><label data-i18n="item_transfer">Transfer</label></div></div></fieldset><div class="footer"><input class="number"type="text"name="attr_den_weight"value="0"readonly="readonly"/><span>kg</span></div></div></div><div class="tab tab8 settings"><h1 data-i18n="settings">Settings</h1><div class="buttonbar"><button class="big green"type="action"name="act_rest"data-i18n="rest">Rest</button><button class="big red"type="action"name="act_recalc"data-i18n="recalc">Recalc</button><button class="sml pictos"type="action"name="act_collapse"data-i18n="collapse">Collapse</button></div><div class="choicebox"><label for="roll_modifier"data-i18n="roll_modifier">Roll Modifier</label><select id="roll_modifier"name="attr_rollmodifier"><option value="0"data-i18n="no_modifier">No Modifier</option><option value="?{@{modifier_tra}|0}"data-i18n="ask_modifier">Ask Modifier</option></select></div><div class="choicebox"><label for="whisper_to_gm"data-i18n="whisper_to_gm">Whisper to GM</label><select id="whisper_to_gm"name="attr_rollwhisper"><option value=""data-i18n="never_whisper">Never Whisper</option><option value="?{@{whisper_to_gm_tra}|@{dialog_yes_tra},/w gm |@{dialog_no_tra},}"data-i18n="ask_whisper">Ask Whisper</option><option value="/w gm"data-i18n="always_whisper">Always Whisper</option></select></div><div class="choicebox"><label for="armament_levels"data-i18n="armament_levels">Armament's Levels</label><select id="armament_levels"name="attr_armament_levels"><option value="0"data-i18n="armament_none">None (no display)</option><option value="1"data-i18n="armament_line">Line (actual level)</option><option value="2"data-i18n="armament_grid">Grid (all visible)</option></select></div><div class="choicebox"><label for="sheet_type"data-i18n="sheet_type">Sheet Type</label><select id="sheet_type"name="attr_sheet_type"><option value="pc"data-i18n="sheet_pc">Playable character</option><option value="mutant"data-i18n="sheet_mutant">Mutant (NPC)</option><option value="tainted"data-i18n="sheet_tainted">Tainted (NPC)</option></select></div><div class="choicelist"><div><input type="checkbox"class="mod"id="opt_strelok"name="attr_opt_strelok"value="1"/><label for="opt_strelok"data-i18n="opt_strelok">Strelok Mod</label><span name="attr_opt_strelok_hint"></span></div><div><input type="checkbox"class="mod"id="opt_iron_skin"name="attr_opt_iron_skin"value="1"/><label for="opt_iron_skin"data-i18n="opt_iron_skin">Iron Skin</label><span data-i18n="opt_iron_skin_hint"></span></div></div><div class="choicelist"><div><input type="checkbox"class="mod"id="show_vehicle"name="attr_show_vehicle"value="1"/><label for="show_vehicle"data-i18n="show_vehicle">Vehicle</label><span data-i18n="show_vehicle_hint"></span></div><div><input type="checkbox"class="mod"id="show_den"name="attr_show_den"value="1"/><label for="show_den"data-i18n="show_den">Den</label><span data-i18n="show_den_hint"></span></div></div><div class="right"><div class="version"><span data-i18n="version">v.</span>&nbsp;<span name="attr_version"></span></div></div></div><div style="display: none;"><input type="hidden"name="attr_whisper_to_gm_tra"value="Whisper to GM"/><input type="hidden"name="attr_dialog_yes_tra"value="Yes"/><input type="hidden"name="attr_dialog_no_tra"value="No"/><input type="hidden"name="attr_rank_tra"value="Rank"/><input type="hidden"name="attr_ability_tra"value="Ability"/><input type="hidden"name="attr_leadership_tra"value="Leadership"/><input type="hidden"name="attr_selfcontrol_tra"value="Self-control"/><input type="hidden"name="attr_modifier_tra"value="Modifier"/><input type="hidden"name="attr_suit_location_tra"value="Location"/><input type="hidden"name="attr_suit_status_tra"value="Status"/></div><div style="display: none;"><input type="hidden"name="attr_hit_head_str"value="Hit to the Head"/><input type="hidden"name="attr_hit_arms_str"value="Hit to the Arms"/><input type="hidden"name="attr_hit_torso_str"value="Hit to the Torso"/><input type="hidden"name="attr_hit_legs_str"value="Hit to the Legs"/></div><div style="display: none;"><button type="action"name="act_use_strength"></button><button type="action"name="act_use_endurance"></button><button type="action"name="act_use_health"></button><button type="action"name="act_use_agility"></button><button type="action"name="act_use_reflexes"></button><button type="action"name="act_use_accuracy"></button><button type="action"name="act_use_perception"></button><button type="action"name="act_use_knowledge"></button><button type="action"name="act_use_will"></button><button type="action"name="act_use_empathy"></button><button type="action"name="act_use_persuasion"></button><button type="action"name="act_use_psychology"></button><button type="action"name="act_use_selfcontrol"></button><button type="roll"name="roll_location"value="@{rollbase} {{header=^{location}}} {{loc_btn0=[^{random}](~@{character_id}|loc_random)}} {{loc_btn1=[^{head}](~@{character_id}|loc_head)}} {{loc_btn2=[^{arms}](~@{character_id}|loc_arms)}} {{loc_btn3=[^{torso}](~@{character_id}|loc_torso)}} {{loc_btn4=[^{legs}](~@{character_id}|loc_legs)}}"></button><button type="roll"name="roll_loc_random"value="@{rollwhisper} &{template:stalker} {{loc_roll=[[1d6]]}} {{loc_head=[[1d6]]}} {{loc_arms=[[1d6]]}} {{loc_torso=[[1d6]]}} {{loc_legs=[[1d6]]}}"></button><button type="roll"name="roll_loc_head"value="@{rollwhisper} &{template:stalker} {{loc_roll=[[1]]}} {{loc_head=[[1d6]]}}"></button><button type="roll"name="roll_loc_arms"value="@{rollwhisper} &{template:stalker} {{loc_roll=[[2]]}} {{loc_arms=[[1d6]]}}"></button><button type="roll"name="roll_loc_torso"value="@{rollwhisper} &{template:stalker} {{loc_roll=[[3]]}} {{loc_torso=[[1d6]]}}"></button><button type="roll"name="roll_loc_legs"value="@{rollwhisper} &{template:stalker} {{loc_roll=[[6]]}} {{loc_legs=[[1d6]]}}"></button></div><div style="display: none;"><input type="hidden"name="attr_show_strength"value="~@{character_id}|show_strength"/><input type="hidden"name="attr_show_endurance"value="~@{character_id}|show_endurance"/><input type="hidden"name="attr_show_agility"value="~@{character_id}|show_agility"/><input type="hidden"name="attr_show_accuracy"value="~@{character_id}|show_accuracy"/><input type="hidden"name="attr_show_reflexes"value="~@{character_id}|show_reflexes"/><input type="hidden"name="attr_show_knowledge"value="~@{character_id}|show_knowledge"/><input type="hidden"name="attr_show_perception"value="~@{character_id}|show_perception"/><input type="hidden"name="attr_show_will"value="~@{character_id}|show_will"/><input type="hidden"name="attr_show_empathy"value="~@{character_id}|show_empathy"/><input type="hidden"name="attr_show_persuasion"value="~@{character_id}|show_persuasion"/><input type="hidden"name="attr_show_psychology"value="~@{character_id}|show_psychology"/><input type="hidden"name="attr_show_selfcontrol"value="~@{character_id}|show_selfcontrol"/><input type="hidden"name="attr_show_health"value="~@{character_id}|show_health"/><input type="hidden"name="attr_draw_strength"value="~@{character_id}|use_strength"/><input type="hidden"name="attr_draw_endurance"value="~@{character_id}|use_endurance"/><input type="hidden"name="attr_draw_agility"value="~@{character_id}|use_agility"/><input type="hidden"name="attr_draw_accuracy"value="~@{character_id}|use_accuracy"/><input type="hidden"name="attr_draw_reflexes"value="~@{character_id}|use_reflexes"/><input type="hidden"name="attr_draw_knowledge"value="~@{character_id}|use_knowledge"/><input type="hidden"name="attr_draw_perception"value="~@{character_id}|use_perception"/><input type="hidden"name="attr_draw_will"value="~@{character_id}|use_will"/><input type="hidden"name="attr_draw_empathy"value="~@{character_id}|use_empathy"/><input type="hidden"name="attr_draw_persuasion"value="~@{character_id}|use_persuasion"/><input type="hidden"name="attr_draw_psychology"value="~@{character_id}|use_psychology"/><input type="hidden"name="attr_draw_selfcontrol"value="~@{character_id}|use_selfcontrol"/><input type="hidden"name="attr_draw_health"value="~@{character_id}|use_health"/><input type="hidden"name="attr_rollbase"value="@{rollwhisper} &{template:stalker} {{pc_name=@{character_name}}}"/></div></div></div></body></html>
<rolltemplate class="sheet-rolltemplate-stalker"><div class="rollcontent{{#mutant_name}} npc-mutant{{/mutant_name}}{{#tainted_name}} npc-tainted{{/tainted_name}}">{{#pc_name}}<div class="name"><span class="fonticon">U</span>{{pc_name}}</div>{{/pc_name}} {{#mutant_name}}<div class="name"><span class="fonticon three">i</span>{{mutant_name}}</div>{{/mutant_name}} {{#tainted_name}}<div class="name"><span class="fonticon three">l</span>{{tainted_name}}</div>{{/tainted_name}} {{#header}}<div class="header">{{header}}</div>{{/header}} {{#cond}}<div class="header">{{#cond_icon}}<span class="condicon {{cond_icon}}"></span>{{/cond_icon}}<span data-i18n="condition">Condition</span></div>{{/cond}} {{#subheader}}<div class="subheader">{{subheader}}</div>{{/subheader}} {{#reputation}}<div class="detail"><span class="label"data-i18n="reputation">Reputation</span><span data-i18n="reputation_{{reputation}}"></span></div>{{/reputation}} {{#rollLess() showability 1}}<div class="warning"><span data-i18n="t_empty_pool">Empty pool</span></div>{{/rollLess() showability 1}} {{#ability_val}}<div class="ability"><span class="value">{{ability_val}}</span>({{ability_use}}&nbsp;<span data-i18n="r_uses">uses</span>){{#button}}{{button}}{{/button}}</div>{{/ability_val}} {{#cond_name}}<div class="detail"><span class="label"data-i18n="r_condition">Condition</span>{{#rollLess() cond_num_r 1}}<span class="yellow"data-i18n="no_condition">No condition</span>&nbsp;{{/rollLess() cond_num_r 1}}{{#rollGreater() cond_num_r 0}}<span class="yellow">{{cond_num}}</span>&nbsp;&times;&nbsp;{{/rollGreater() cond_num_r 0}}<span class="yellow">{{cond_name}}</span></div>{{/cond_name}} {{#cond_eff}}<div class="detail"><span class="label"data-i18n="r_effect">Effect</span>{{cond_eff}}</div>{{/cond_eff}} {{#rollGreater() cond_dur_r 0}}<div class="detail"><span class="label"data-i18n="r_duration">Duration</span>{{cond_dur}}{{#cond_unit}}&nbsp;<span class="lower"data-i18n="unit_{{cond_unit}}{{#rollGreater() cond_dur_r 1}}_p{{/rollGreater() cond_dur_r 1}}"></span>{{/cond_unit}}</div>{{/rollGreater() cond_dur_r 0}} {{#r_speciality}}<div class="detail"><span class="label"data-i18n="r_speciality">Speciality</span>{{r_speciality}}</div>{{/r_speciality}} {{#rollGreater() showability 0}} {{#r_ability}}<div class="detail"><span class="label"data-i18n="{{^r_ability_name}}r_ability{{/r_ability_name}}{{#r_ability_name}}{{r_ability_name}}{{/r_ability_name}}">Ability</span><span class="normal">{{r_ability}}</span><span class="pictos"data-i18n-title="draw_ability"title="Draw Ability">{{draw_ability}}</span></div>{{/r_ability}} {{/rollGreater() showability 0}} {{#rollGreater() showrank 0}} {{#r_rank}}<div class="detail"><span class="label"data-i18n="r_rank">Rank</span>{{r_rank}}</div>{{/r_rank}} {{/rollGreater() showrank 0}} {{#rollGreater() showleadership 0}} {{#r_leadership}}<div class="detail"><span class="label"data-i18n="r_leadership">Leadership</span>{{r_leadership}}</div>{{/r_leadership}} {{/rollGreater() showleadership 0}} {{#rollGreater() showselfcontrol 0}} {{#r_selfcontrol}}<div class="detail red"><span class="label"data-i18n="r_selfcontrol">Self-control</span>{{r_selfcontrol}}<span class="pictos"data-i18n-title="draw_selfcontrol"title="Draw Self-control">{{draw_selfcontrol}}</span></div>{{/r_selfcontrol}} {{/rollGreater() showselfcontrol 0}} {{#rollGreater() showmodifier 0}} {{#r_modifier}}<div class="detail yellow"><span class="label"data-i18n="r_modifier">Modifier</span>{{r_modifier}}</div>{{/r_modifier}} {{/rollGreater() showmodifier 0}} {{#wpn_acc}}<div class="detail"><span class="label"data-i18n="weapon_accuracy">Accuracy</span>{{wpn_acc}}</div>{{/wpn_acc}} {{#wpn_rng}}<div class="detail"><span class="label"data-i18n="weapon_range">Range</span>{{wpn_rng}}</div>{{/wpn_rng}} {{#rollGreater() no_weapon_speciality 0}}<div class="warning"><span data-i18n="t_no_weapon_speciality">No weapon speciality</span></div>{{/rollGreater() no_weapon_speciality 0}} {{#rollGreater() wpn_stt_r 0}}<div class="detail green"><span class="label"data-i18n="weapon_status">Status</span>{{wpn_stt}}&nbsp;<span class="hint"data-i18n="weapon_status_pos_hint"></span></div>{{/rollGreater() wpn_stt_r 0}} {{#rollLess() wpn_stt_r 0}}<div class="detail red"><span class="label"data-i18n="weapon_status">Status</span>{{wpn_stt}}&nbsp;<span class="hint"data-i18n="weapon_status_neg_hint"></span></div>{{/rollLess() wpn_stt_r 0}} {{#wpn_rate}}<div class="detail"><span class="label"data-i18n="weapon_rate">Rate</span><span class="entry">{{wpn_rate}}</span></div>{{/wpn_rate}} {{#damage_type}}<div class="detail"><span class="label"data-i18n="damage">Damage</span><span data-i18n="dmg_{{damage_type}}"></span></div>{{/damage_type}} {{#ammo_type}}<div class="detail"><span class="label"data-i18n="ammo">Ammo</span>{{ammo_type}}</div>{{/ammo_type}} {{#rollGreater() penetration_r 0}}<div class="detail"><span class="label"data-i18n="penetration">Penetration</span><span class="green">{{penetration}}</span></div>{{/rollGreater() penetration_r 0}} {{#rollGreater() bleeding_r 0}}<div class="detail"><span class="label"data-i18n="bleeding">Saignement</span><span class="red"data-i18n="weapon_bleed_{{bleeding}}"></span></div>{{/rollGreater() bleeding_r 0}} {{#rollGreater() sui_psi_r 0}}<div class="detail"><span class="label"data-i18n="suit_psi">Psi protection</span>{{sui_psi}}</div>{{/rollGreater() sui_psi_r 0}} {{#rollGreater() sui_pocket_r 0}}<div class="detail"><span class="label"data-i18n="suit_pocket">Pockets</span>{{sui_pocket}}</div>{{/rollGreater() sui_pocket_r 0}} {{#sui_pro}}<div class="detail"><span class="label"data-i18n="suit_protection">Protection</span>{{sui_pro}}</div>{{/sui_pro}} {{#sui_loc}}<div class="detail"><span class="label"data-i18n="suit_location">Localization</span>{{#rollGreater() sui_loc_r -1}}+{{/rollGreater() sui_loc_r -1}}{{sui_loc}}</div>{{/sui_loc}} {{#rollGreater() sui_stt_r 0}}<div class="detail green"><span class="label"data-i18n="suit_status">Status</span>+{{sui_stt}}&nbsp;<span class="hint"data-i18n="suit_status_pos_hint"></span></div>{{/rollGreater() sui_stt_r 0}} {{#rollLess() sui_stt_r 0}}<div class="detail red"><span class="label"data-i18n="suit_status">Status</span>{{sui_stt}}&nbsp;<span class="hint"data-i18n="suit_status_neg_hint"></span></div>{{/rollLess() sui_stt_r 0}} {{#loc_btn0}}<div class="location">{{loc_btn0}}{{loc_btn1}}{{loc_btn2}}{{loc_btn3}}{{loc_btn4}}</div>{{/loc_btn0}} {{#rollTotal() loc_roll 1}}<div class="result">{{#rollTotal() loc_head 1}}<span data-i18n="forehead_left"></span>{{/rollTotal() loc_head 1}} {{#rollTotal() loc_head 2}}<span data-i18n="eye_left"></span>{{/rollTotal() loc_head 2}} {{#rollTotal() loc_head 3}}<span data-i18n="forehead_right"></span>{{/rollTotal() loc_head 3}} {{#rollTotal() loc_head 4}}<span data-i18n="eye_right"></span>{{/rollTotal() loc_head 4}} {{#rollTotal() loc_head 5}}<span data-i18n="mouth"></span>{{/rollTotal() loc_head 5}} {{#rollTotal() loc_head 6}}<span data-i18n="throat"></span>{{/rollTotal() loc_head 6}}</div>{{/rollTotal() loc_roll 1}} {{#rollTotal() loc_roll 2}}<div class="result">{{#rollTotal() loc_arms 1}}<span data-i18n="hand"></span>{{/rollTotal() loc_arms 1}} {{#rollTotal() loc_arms 2}}<span data-i18n="wrist"></span>{{/rollTotal() loc_arms 2}} {{#rollTotal() loc_arms 3}}<span data-i18n="forearm"></span>{{/rollTotal() loc_arms 3}} {{#rollTotal() loc_arms 4}}<span data-i18n="biceps"></span>{{/rollTotal() loc_arms 4}} {{#rollTotal() loc_arms 5}}<span data-i18n="shoulder"></span>{{/rollTotal() loc_arms 5}} {{#rollTotal() loc_arms 6}}<span data-i18n="elbow"></span>{{/rollTotal() loc_arms 6}}</div>{{/rollTotal() loc_roll 2}} {{#rollBetween() loc_roll 3 5}}<div class="result">{{#rollTotal() loc_torso 1}}<span data-i18n="heart"></span>{{/rollTotal() loc_torso 1}} {{#rollTotal() loc_torso 2}}<span data-i18n="chest"></span>{{/rollTotal() loc_torso 2}} {{#rollTotal() loc_torso 3}}<span data-i18n="liver"></span>{{/rollTotal() loc_torso 3}} {{#rollTotal() loc_torso 4}}<span data-i18n="spleen"></span>{{/rollTotal() loc_torso 4}} {{#rollTotal() loc_torso 5}}<span data-i18n="stomach"></span>{{/rollTotal() loc_torso 5}} {{#rollTotal() loc_torso 6}}<span data-i18n="pelvis"></span>{{/rollTotal() loc_torso 6}}</div>{{/rollBetween() loc_roll 3 5}} {{#rollTotal() loc_roll 6}}<div class="result">{{#rollTotal() loc_legs 1}}<span data-i18n="foot"></span>{{/rollTotal() loc_legs 1}} {{#rollTotal() loc_legs 2}}<span data-i18n="ankle"></span>{{/rollTotal() loc_legs 2}} {{#rollTotal() loc_legs 3}}<span data-i18n="calf"></span>{{/rollTotal() loc_legs 3}} {{#rollTotal() loc_legs 4}}<span data-i18n="thigh"></span>{{/rollTotal() loc_legs 4}} {{#rollTotal() loc_legs 5}}<span data-i18n="groin"></span>{{/rollTotal() loc_legs 5}} {{#rollTotal() loc_legs 6}}<span data-i18n="knee"></span>{{/rollTotal() loc_legs 6}}</div>{{/rollTotal() loc_roll 6}} {{#rollGreater() itm_num_r 0}}<div class="detail"><span class="label"data-i18n="number">Number</span>{{itm_num}}</div>{{/rollGreater() itm_num_r 0}} {{#rollGreater() itm_wgt_r 0}}<div class="detail"><span class="label"data-i18n="weight">Weight</span>{{itm_wgt}}&nbsp;kg</div>{{#rollGreater() itm_num_r 0}}<div class="detail"><span class="label"data-i18n="total">Total</span>{{itm_wgt_tot}}&nbsp;kg</div>{{/rollGreater() itm_num_r 0}} {{/rollGreater() itm_wgt_r 0}} {{#roll}}<div class="result{{#damage_roll}} damage{{/damage_roll}}">{{#roll_dmg_btn}}<span class="button left"data-i18n-title="roll_dmg">{{roll_dmg_btn}}</span>{{/roll_dmg_btn}} {{#roll_loc_btn}}<span class="button right blue"data-i18n-title="roll_loc">{{roll_loc_btn}}</span>{{/roll_loc_btn}} {{roll}} {{#damage_type}}<span class="sheet-dmgicon {{damage_type}}"></span>{{/damage_type}}</div>{{/roll}} {{#desc}}<div class="desc">{{desc}}</div>{{/desc}} {{#notes}}<div class="notes">{{notes}}</div>{{/notes}}</div></rolltemplate>
<script type="text/worker">on("sheet:opened", (e) => {stalker.checkVersion();stalker.updateGender();stalker.updateCharacterType();stalker.setupTranslations();});on("change:ask_rollmodifier", (e) => {let v = e.newValue == "0" ? "" : "?{@{modifier_tra}|0}";setAttrs({"rollmodifier" : v}, {silent: true});});on("change:rollmodifier", (e) => {let b = e.newValue == "0" ? "0" : "1";setAttrs({"ask_rollmodifier" : b}, {silent: true});});on("change:ask_rollwhisper", (e) => {let v = e.newValue == "0" ? "" : "/w gm";setAttrs({"rollwhisper" : v}, {silent: true});});on("change:rollwhisper", (e) => {let b = e.previousValue == "/w gm" && e.newValue != "?{@{whisper_to_gm}|@{dialog_yes},/w gm |@{dialog_no},}" ? "0" : "1";setAttrs({"ask_rollwhisper" : b}, {silent: true});});on("change:leadership", (e) => {stalker.clampAttribute(e.sourceAttribute, e.newValue);});on("clicked:leadership_reset", () => {setAttrs({"leadership": 0}, {silent: true});});on("change:char_gender", () => {stalker.updateGender();});on("change:xp change:xp_spent", () => {stalker.updateExperience();});on("change:strength_base change:endurance_base change:agility_base change:accuracy_base change:reflexes_base change:knowledge_base change:perception_base change:will_base change:empathy_base change:persuasion_base change:psychology_base change:health_base change:strength_aug change:endurance_aug change:agility_aug change:accuracy_aug change:reflexes_aug change:knowledge_aug change:perception_aug change:will_aug change:empathy_aug change:persuasion_aug change:psychology_aug change:selfcontrol_aug change:health_aug change:strength_mod change:endurance_mod change:agility_mod change:accuracy_mod change:reflexes_mod change:knowledge_mod change:perception_mod change:will_mod change:empathy_mod change:persuasion_mod change:psychology_mod change:selfcontrol_mod change:health_mod", (e) => {let s = e.sourceAttribute.split("_");stalker.updateAbilities(false, s[0], s[1], e.previousValue);});on("change:strength_use change:endurance_use change:agility_use change:accuracy_use change:reflexes_use change:knowledge_use change:perception_use change:will_use change:empathy_use change:persuasion_use change:psychology_use change:selfcontrol_use change:health_use", (e) => {stalker.checkAbilities(e.sourceAttribute.split("_")[0]);});on("change:selfcontrol_strl", (e) => {stalker.checkAbilities("selfcontrol");});on("clicked:use_strength clicked:use_endurance clicked:use_agility clicked:use_accuracy clicked:use_reflexes clicked:use_knowledge clicked:use_perception clicked:use_will clicked:use_empathy clicked:use_persuasion clicked:use_psychology clicked:use_selfcontrol clicked:use_health", (e) => {let k = e.triggerName.substr(12);stalker.checkAbilities(k, true);});on("change:hp change:hp_aug change:hp_aug change:hp_mod", () => {let k = "hp";let a = ["health", k, k + "_base", k + "_aug", k + "_mod", k + "_max"];getAttrs(a, (v) => {setAttrs(stalker.updateHitPoints(v), {silent: true});});});on("change:hydration change:repletion change:exhaustion change:radiation", (e) => {stalker.clampAttribute(e.sourceAttribute, stalker.evalFormula(e.newValue), 0, 100);});on("change:weighing_load_mod", () => {let k = "weighing_load";let a = ["strength", k, k + "_base", k + "_mod", k + "_max"];getAttrs(a, (v) => {setAttrs(stalker.updateWeighingLoad(v), {silent: true});});});on("change:bleeding_number change:bleeding_duration change:stunned_number change:stunned_duration change:deafened_number change:deafened_duration change:blinded_number change:blinded_duration change:repeating_conditions:cond_number change:repeating_conditions:cond_duration", (e) => {let s = e.sourceAttribute.endsWith("number") ? "num" : "dur";stalker.clampAttribute(e.sourceAttribute, e.newValue, null, null, "cond_" + s);});on("change:repeating_specialities:spec_ability change:spec_ability_wpn1 change:spec_ability_wpn2 change:spec_ability_wpn3 change:spec_ability_wpn4 change:spec_ability_wpn5 change:spec_ability_wpn6 change:spec_ability_wpn7 change:spec_ability_wpn8 change:spec_ability_wpn9", (e) => {stalker.updateSpeciality(e.sourceAttribute, e.newValue);});on("change:spec_name_wpn1 change:spec_ability_wpn1 change:spec_rank_wpn1 change:spec_name_wpn2 change:spec_ability_wpn2 change:spec_rank_wpn2 change:spec_name_wpn3 change:spec_ability_wpn3 change:spec_rank_wpn3 change:spec_name_wpn4 change:spec_ability_wpn4 change:spec_rank_wpn4 change:spec_name_wpn5 change:spec_ability_wpn5 change:spec_rank_wpn5 change:spec_name_wpn6 change:spec_ability_wpn6 change:spec_rank_wpn6 change:spec_name_wpn7 change:spec_ability_wpn7 change:spec_rank_wpn7 change:spec_name_wpn8 change:spec_ability_wpn8 change:spec_rank_wpn8 change:spec_name_wpn9 change:spec_ability_wpn9 change:spec_rank_wpn9", (e) => {stalker.updateWeapons(null, null, e.sourceAttribute.slice(-1));});on("change:repeating_weapons:weapon_weight change:repeating_weapons:weapon_weight_2 change:repeating_weapons:weapon_weight_3 change:repeating_weapons:weapon_weight_4 change:repeating_weapons:weapon_weight_5 change:repeating_weapons:weapon_weight_level change:repeating_suits:suit_weight change:repeating_suits:suit_weight_2 change:repeating_suits:suit_weight_3 change:repeating_suits:suit_weight_4 change:repeating_suits:suit_weight_5 change:repeating_suits:suit_weight_level", (e) => {stalker.updateArmamentWeight(e.sourceAttribute.split("_")[1], e.sourceAttribute);});on("remove:repeating_weapons remove:repeating_suits", (e) => {stalker.recalcWeight();});on("change:repeating_weapons:weapon_name change:repeating_weapons:weapon_spec change:repeating_weapons:weapon_accuracy change:repeating_weapons:weapon_accuracy_2 change:repeating_weapons:weapon_accuracy_3 change:repeating_weapons:weapon_accuracy_4 change:repeating_weapons:weapon_accuracy_5 change:repeating_weapons:weapon_accuracy_level change:repeating_weapons:weapon_damage change:repeating_weapons:weapon_damage_2 change:repeating_weapons:weapon_damage_3 change:repeating_weapons:weapon_damage_4 change:repeating_weapons:weapon_damage_5 change:repeating_weapons:weapon_damage_level change:repeating_weapons:weapon_status change:repeating_weapons:weapon_status_2 change:repeating_weapons:weapon_status_3 change:repeating_weapons:weapon_status_4 change:repeating_weapons:weapon_status_5 change:repeating_weapons:weapon_status_level change:repeating_weapons:weapon_type change:repeating_weapons:weapon_rate_1 change:repeating_weapons:weapon_rate_2 change:repeating_weapons:weapon_rate_2_val change:repeating_weapons:weapon_rate_3 change:repeating_weapons:weapon_rate_3_val", (e) => {let s = undefined;let k = e.sourceAttribute.substr(46).replace(/_(\d+|level)$/, "");if (k == "accuracy" || k == "damage") s = typeof e.newValue !== "undefined" ? stalker.formatFormula(e.newValue) : "0";if (k != "damage" && k != "damage_level") stalker.updateWeapons(e.sourceAttribute, s, null, (k == "status" ? e.sourceAttribute : false));else stalker.updateWeaponDamage(e.sourceAttribute, s, e.newValue);});on("change:repeating_weapons:weapon_range change:repeating_weapons:weapon_range_2 change:repeating_weapons:weapon_range_3 change:repeating_weapons:weapon_range_4 change:repeating_weapons:weapon_range_5 change:repeating_weapons:weapon_range_level change:repeating_weapons:weapon_thrown change:repeating_weapons:weapon_thrown_2 change:repeating_weapons:weapon_thrown_3 change:repeating_weapons:weapon_thrown_4 change:repeating_weapons:weapon_thrown_5 change:repeating_weapons:weapon_thrown_level change:repeating_weapons:weapon_type", (e) => {let s = e.sourceAttribute;let q = s.substr(46).split("_")[0];let k = s.substr(18,20);if (q == "range") {stalker.checkWeaponRange(s, k, e.previousValue);} else if (q == "thrown") {stalker.updateWeaponRange(k, s, e.newValue);} else if (q == "type") {if (["thrown", "explosive"].includes(e.newValue)) {let u = {};u[`repeating_weapons_${k}_weapon_range_level`] = "1";setAttrs(u, {silent: true}, () => {stalker.updateWeaponRange(k, s, null, true);});} else if (e.newValue == "firearm") {stalker.updateWeaponRange(k, s, null, true);}}});on("change:repeating_weapons:weapon_ammo_type change:repeating_weapons:weapon_ammo_type_2 change:repeating_weapons:weapon_ammo_type_3 change:repeating_weapons:weapon_ammo_type_4 change:repeating_weapons:weapon_ammo_type_5 change:repeating_weapons:weapon_ammo_type_level", (e) => {stalker.updateWeaponAmmoType(e.sourceAttribute, e.newValue);});on("change:repeating_weapons:weapon_ammo_max change:repeating_weapons:weapon_ammo_max_2 change:repeating_weapons:weapon_ammo_max_3 change:repeating_weapons:weapon_ammo_max_4 change:repeating_weapons:weapon_ammo_max_5 change:repeating_weapons:weapon_ammo_max_level", (e) => {let s = e.sourceAttribute;stalker.updateWeaponAmmo(s, s.endsWith("level"));});on("change:repeating_weapons:weapon_ammo_val change:repeating_weapons:weapon_type", (e) => {stalker.checkWeaponAmmo(e.sourceAttribute.substr(18,20));});on("change:repeating_weapons:weapon_type", (e) => {let k = e.sourceAttribute.substr(0,38);let a = [k + "_weapon_type"];getAttrs(a, (v) => {let u = {};u[k + "_weapon_roll_button"] = ["explosive", "trap"].includes(v[k + "_weapon_type"]) ? "@{weapon_roll_dmg}" : "@{weapon_roll}";setAttrs(u, {silent: true});});});on("change:repeating_weapons:weapon_mag change:repeating_weapons:weapon_penetration change:repeating_weapons:weapon_penetration_2 change:repeating_weapons:weapon_penetration_3 change:repeating_weapons:weapon_penetration_4 change:repeating_weapons:weapon_penetration_5 change:repeating_weapons:weapon_penetration_level", (e) => {stalker.checkWeaponField(e.sourceAttribute.substr(18,20), e.sourceAttribute.substr(46), e.newValue);});on("change:repeating_suits:suit_dmg", (e) => {let k = e.sourceAttribute.substr(0,36);let q = e.newValue;stalker.updateSuitDamage(k, q);});on("change:repeating_suits:suit_blow change:repeating_suits:suit_blow_2 change:repeating_suits:suit_blow_3 change:repeating_suits:suit_blow_4 change:repeating_suits:suit_blow_5 change:repeating_suits:suit_blow_level change:repeating_suits:suit_cut change:repeating_suits:suit_cut_2 change:repeating_suits:suit_cut_3 change:repeating_suits:suit_cut_4 change:repeating_suits:suit_cut_5 change:repeating_suits:suit_cut_level change:repeating_suits:suit_bullet change:repeating_suits:suit_bullet_2 change:repeating_suits:suit_bullet_3 change:repeating_suits:suit_bullet_4 change:repeating_suits:suit_bullet_5 change:repeating_suits:suit_bullet_level change:repeating_suits:suit_burn change:repeating_suits:suit_burn_2 change:repeating_suits:suit_burn_3 change:repeating_suits:suit_burn_4 change:repeating_suits:suit_burn_5 change:repeating_suits:suit_burn_level change:repeating_suits:suit_shock change:repeating_suits:suit_shock_2 change:repeating_suits:suit_shock_3 change:repeating_suits:suit_shock_4 change:repeating_suits:suit_shock_5 change:repeating_suits:suit_shock_level change:repeating_suits:suit_chemical change:repeating_suits:suit_chemical_2 change:repeating_suits:suit_chemical_3 change:repeating_suits:suit_chemical_4 change:repeating_suits:suit_chemical_5 change:repeating_suits:suit_chemical_level change:repeating_suits:suit_blast change:repeating_suits:suit_blast_2 change:repeating_suits:suit_blast_3 change:repeating_suits:suit_blast_4 change:repeating_suits:suit_blast_5 change:repeating_suits:suit_blast_level change:repeating_suits:suit_radiation change:repeating_suits:suit_radiation_2 change:repeating_suits:suit_radiation_3 change:repeating_suits:suit_radiation_4 change:repeating_suits:suit_radiation_5 change:repeating_suits:suit_radiation_level change:repeating_suits:suit_head change:repeating_suits:suit_head_2 change:repeating_suits:suit_head_3 change:repeating_suits:suit_head_4 change:repeating_suits:suit_head_5 change:repeating_suits:suit_head_level change:repeating_suits:suit_torso change:repeating_suits:suit_torso_2 change:repeating_suits:suit_torso_3 change:repeating_suits:suit_torso_4 change:repeating_suits:suit_torso_5 change:repeating_suits:suit_torso_level change:repeating_suits:suit_arms change:repeating_suits:suit_arms_2 change:repeating_suits:suit_arms_3 change:repeating_suits:suit_arms_4 change:repeating_suits:suit_arms_5 change:repeating_suits:suit_arms_level change:repeating_suits:suit_legs change:repeating_suits:suit_legs_2 change:repeating_suits:suit_legs_3 change:repeating_suits:suit_legs_4 change:repeating_suits:suit_legs_5 change:repeating_suits:suit_legs_level", (e) => {let u = {};let b = e.sourceAttribute.endsWith("level");let p = e.sourceAttribute.replace(/_\d$/, "").replace(/_level/, "");let q = p.substr(42);let k = e.sourceAttribute.substr(0,36);let c = ["head", "arms", "torso", "legs"].includes(q);let a, s;if (b) {a = [`${k}_suit_${q}`, `${k}_suit_${q}_2`, `${k}_suit_${q}_3`, `${k}_suit_${q}_4`, `${k}_suit_${q}_5`, `${k}_suit_${q}_level`];if (c) {getAttrs(a, (v) => {s = stalker.getArmamentLevelValue(v, `${k}_suit_${q}`);u[`${k}_suit_${q}_str`] = s;u[`${k}_suit_${q}_val`] = stalker.parseFormula(s);setAttrs(u, {silent: true});});} else {getAttrs(a, (v) => {u[`${k}_suit_${q}_val`] = stalker.getArmamentLevelValue(v, `${k}_suit_${q}`);setAttrs(u, {silent: true}, () => {stalker.updateSuitDamage(k, q, true);});});}} else {s = typeof e.newValue !== "undefined" ? stalker.formatFormula(e.newValue) : "0";u[e.sourceAttribute] = s;getAttrs([`${k}_suit_${q}_level`], (v) => {if (c) {let t = v[`${k}_suit_${q}_level`] == "1" ? "" : "_" + v[`${k}_suit_${q}_level`];if (e.sourceAttribute == `${k}_suit_${q}` + t) {u[p + "_str"] = s;u[p + "_val"] = stalker.parseFormula(s);}} else stalker.updateSuitDamage(k, q, true, true);setAttrs(u, {silent: true});});}});on("change:repeating_suits:suit_psi change:repeating_suits:suit_psi_2 change:repeating_suits:suit_psi_3 change:repeating_suits:suit_psi_4 change:repeating_suits:suit_psi_5 change:repeating_suits:suit_psi_level change:repeating_suits:suit_pocket change:repeating_suits:suit_pocket_2 change:repeating_suits:suit_pocket_3 change:repeating_suits:suit_pocket_4 change:repeating_suits:suit_pocket_5 change:repeating_suits:suit_pocket_level change:repeating_suits:suit_status change:repeating_suits:suit_status_2 change:repeating_suits:suit_status_3 change:repeating_suits:suit_status_4 change:repeating_suits:suit_status_5 change:repeating_suits:suit_status_level", (e) => {stalker.checkSuitField(e.sourceAttribute, e.newValue);});on("clicked:gain_money clicked:lose_money", (e) => {let k = e.triggerName.substr(8).slice(0, -6);stalker.updateMoney(k);});on("change:repeating_equipment:item_number change:repeating_equipment:item_weight change:repeating_backpack:item_number change:repeating_backpack:item_weight change:repeating_vehicle:item_number change:repeating_vehicle:item_weight change:repeating_den:item_number change:repeating_den:item_weight", (e) => {let s = e.sourceAttribute.split("_")[1];let k = e.sourceAttribute.substr(0, 37 + s.length);stalker.updateInventoryWeight(s, k);});on("clicked:repeating_equipment:backpack clicked:repeating_equipment:vehicle clicked:repeating_equipment:den", (e) => {let s = e.sourceAttribute.substr(41);let k = e.sourceAttribute.substr(0,40);stalker.transferItem(s, k);});on("clicked:repeating_backpack:equipment clicked:repeating_backpack:vehicle clicked:repeating_backpack:den", (e) => {let s = e.sourceAttribute.substr(40);let k = e.sourceAttribute.substr(0,39);stalker.transferItem(s, k);});on("clicked:repeating_vehicle:equipment clicked:repeating_vehicle:backpack clicked:repeating_vehicle:den", (e) => {let s = e.sourceAttribute.substr(39);let k = e.sourceAttribute.substr(0,38);stalker.transferItem(s, k);});on("clicked:repeating_den:equipment clicked:repeating_den:backpack clicked:repeating_den:vehicle", (e) => {let s = e.sourceAttribute.substr(35);let k = e.sourceAttribute.substr(0,34);stalker.transferItem(s, k);});on("remove:repeating_equipment remove:repeating_backpack remove:repeating_vehicle remove:repeating_den", (e) => {let k = e.sourceAttribute;let s = k.split("_")[1];let w = e.removedInfo[k + "_item_weight_total"];stalker.refreshInventoryWeight(s, k, w);});on("clicked:collapse", () => {let a = ["antecedents", "titles", "specialities", "weapons", "suits", "artefacts", "equipment", "backpack", "vehicle", "den"];let b = stalker.Stat.abilities, i, u = {};for (k in b) u["options_flag_" + b[k]] = "0";for (i = 1; i < 10; i++) u["options_flag_specswpn" + i] = "0";u["options_toggle_abilities"] = 0;u["options_counter_abilities"] = 0;u["options_toggle_specswpn"] = 0;u["options_counter_specswpn"] = 0;u["options_flag_xp"] = 0;u["options_flag_hp"] = 0;u["options_flag_weighing_load"] = 0;setAttrs(u, {silent: true});for (k in a) stalker.resetOptionsToggles(a[k]);});on("clicked:rest", () => {stalker.restCharacter();});on("clicked:recalc", () => {stalker.recalcCharacterSheet();});on("change:sheet_type", (e) => {stalker.updateCharacterType(e.newValue);});on("change:opt_strelok", (e) => {stalker.updateSpecialities();stalker.checkAbilities();});on("change:opt_iron_skin", (e) => {let a = ["opt_iron_skin", "health", ... stalker.Stat.resistances];getAttrs(a, (v) => {setAttrs(stalker.updateResistances(v, e.newValue), {silent: true}, () => {stalker.updateSuitDamages();});});});on("change:options_toggle_abilities", (e) => {let a = stalker.Stat.abilities, b = false, k, u = {};if (e.newValue == "1") b = true;for (k in a) u["options_flag_" + a[k]] = b ? "1" : "0";u["options_counter_abilities"] = b ? 13 : 0;setAttrs(u, {silent: true});});on("change:options_flag_strength change:options_flag_endurance change:options_flag_agility change:options_flag_accuracy change:options_flag_reflexes change:options_flag_knowledge change:options_flag_perception change:options_flag_will change:options_flag_empathy change:options_flag_persuasion change:options_flag_psychology change:options_flag_selfcontrol change:options_flag_health", (e) => {getAttrs(["options_counter_abilities"], (v) => {let u = {};let n = parseInt(v["options_counter_abilities"]) + (e.newValue == "0" ? -1 : 1);u["options_counter_abilities"] = n;if (e.newValue == "1") u["options_toggle_abilities"] = "1";else if (n == 0) u["options_toggle_abilities"] = "0";setAttrs(u, {silent: true});});});on("change:options_toggle_specswpn", (e) => {let b = false, u = {};if (e.newValue == "1") b = true;for (i = 1; i < 10; i++) u["options_flag_specswpn" + i] = b ? "1" : "0";u["options_counter_specswpn"] = b ? 9 : 0;setAttrs(u, {silent: true});});on("change:options_flag_specswpn1 change:options_flag_specswpn2 change:options_flag_specswpn3 change:options_flag_specswpn4 change:options_flag_specswpn5 change:options_flag_specswpn6 change:options_flag_specswpn7 change:options_flag_specswpn8 change:options_flag_specswpn9", (e) => {getAttrs(["options_counter_specswpn"], (v) => {let u = {};let n = parseInt(v["options_counter_specswpn"]) + (e.newValue == "0" ? -1 : 1);u["options_counter_specswpn"] = n;if (e.newValue == "1") u["options_toggle_specswpn"] = "1";else if (n == 0) u["options_toggle_specswpn"] = "0";setAttrs(u, {silent: true});});});on("change:options_toggle_antecedents change:options_toggle_titles change:options_toggle_specialities change:options_toggle_weapons change:options_toggle_suits change:options_toggle_artefacts change:options_toggle_equipment change:options_toggle_backpack change:options_toggle_vehicle change:options_toggle_den", (e) => {let k = e.sourceAttribute.split("_")[2];let s = "repeating_" + k;let b = false;if (e.newValue == "1") b = true;getSectionIDs(s, (sec) => {let a = [];_.each(sec, (id) => {a.push(`${s}_${id}_options_flag_${k}`)});getAttrs(a, (v) => {let u = {};_.each(sec, (id) => {u[`${s}_${id}_options_flag_${k}`] = b ? "1" : "0"});u["options_counter_" + k] = b ? a.length : 0;setAttrs(u, {silent: true});});});});on("change:repeating_antecedents:options_flag_antecedents change:repeating_titles:options_flag_titles change:repeating_specialities:options_flag_specialities change:repeating_weapons:options_flag_weapons change:repeating_suits:options_flag_suits change:repeating_artefacts:options_flag_artefacts change:repeating_equipment:options_flag_equipment change:repeating_backpack:options_flag_backpack change:repeating_vehicle:options_flag_vehicle change:repeating_den:options_flag_den", (e) => {let k = e.sourceAttribute.split("_")[1];getAttrs(["options_counter_" + k], (v) => {let u = {};let n = parseInt(v["options_counter_" + k]) + (e.newValue == "0" ? -1 : 1);u["options_counter_" + k] = n;if (e.newValue == "1") u["options_toggle_" + k] = "1";else if (n == 0) u["options_toggle_" + k] = "0";setAttrs(u, {silent: true});});});var stalker = (function() {const Glob = {"version" : 2.1};const Stat = {"abilities" : ["strength", "endurance", "agility", "accuracy", "reflexes", "knowledge", "perception", "will", "empathy", "persuasion", "psychology", "selfcontrol", "health"],"resistances" : ["resistance_burn", "resistance_shock", "resistance_blow", "resistance_cut", "resistance_radiation", "resistance_chemical"],"weighing_load" : ["weighing_load", "weighing_load_base", "weighing_load_mod", "weighing_load_max", "strength"]};const Roll = {"rollbase" : {"pc" : "@{rollwhisper} &{template:stalker} {{pc_name=@{character_name}}}","mutant" : "@{rollwhisper} &{template:stalker} {{mutant_name=@{character_name}}}","tainted" : "@{rollwhisper} &{template:stalker} {{tainted_name=@{character_name}}}"},"speciality" : `@{rollbase} {{header=@{spec_name_____}}} {{showability=[[1]]}} {{r_ability=^{@{spec_ability_____}}}} {{r_ability_name=}} {{draw_ability=}} {{showrank=[[@{spec_rank_____}]]}} {{r_rank=+@{spec_rank_____}}} {{showleadership=[[@{leadership}]]}} {{r_leadership=+@{leadership}}} {{showselfcontrol=[[@{selfcontrol_ctrl}]]}} {{r_selfcontrol=+@{selfcontrol_die}d10}} {{draw_selfcontrol=[}](@{draw_selfcontrol})}} {{showmodifier=[[@{rollmodifier}]]}} {{r_modifier=+@{rollmodifier}}} {{roll=[[0d10 [@{ability_tra}] + @{spec_rank_____} [@{rank_tra}] + @{leadership} [@{leadership_tra}] + [[@{selfcontrol_ctrl} * @{selfcontrol_die}]]d10 [@{selfcontrol_tra}] + @{rollmodifier} [@{modifier_tra}]]]}}`,"weapon" : `@{rollbase} {{header=@{weapon_name}}} {{no_weapon_speciality=[[1]]}}`};const MinMax = {"attr" : [0, 10],"abi_base" : [0, 10],"abi_val" : [0, 10],"abi_aug" : [0, 10],"abi_mod" : [-10, 10],"hp_mod" : [-25, 50],"cond_num" : [0, 99],"cond_dur" : [0, 999],"wgt_load_mod" : [-120, 240],"wpn_thrown" : [1, 100],"wpn_range" : [0, 9999],"wpn_ammo" : [0, 9999],"wpn_mag" : [0, 50],"wpn_penetration" : [0, 25],"wpn_rate_2" : [1, 9],"wpn_rate_3" : [1, 99],"wpn_status" : [-25, 25],"wpn_weight" : [0, 100],"sui_psi" : [0, 50],"sui_pocket" : [0, 10],"sui_status" : [-50, 50],"sui_weight" : [0, 250],"money" : [0, 999999],"xp" : [0, 999]};const getMin = function(k) {return MinMax[k][0];};const getMax = function(k) {return MinMax[k][1];};const formatNumber = function(n, b) {let s = b ? ",0" : "";if (Number.isNaN(n) || n === undefined) n = 0;if (Number.isSafeInteger(n)) return n + s;else {let r = n.toString().split(".");if (r[1] !== undefined) return r[0] + "," + r[1].substr(0, 2);else return r[0] + s;}};const parseNumber = function(s) {if (Number.isNaN(s) || s === undefined) s = 0;else if (typeof s === "string") return parseFloat(s.replace(",", "."));return s;};const clampInt = function(n, min, max) {n = parseInt(n) || 0;if (min != null && max != null) {n = Math.min(Math.max(n, min), max);} else if (min != null) {n = Math.max(n, min)} else if (max != null) {n = Math.min(n, max);} return n;};const evalFormula = function(s) {let reg = /^([\+\-]?\d+)\s*([\+\-]?\d+)?\s*([\+\-]?\d+)?\s*([\+\-]?\d+)?$/i;return reg.test(s) ? eval(s) : "0";};const parseFormula = function(s) {return (typeof s !== "undefined" ? s.replaceAll("", "*") : "0");};const formatFormula = function(s) {let reg = /^([\+\-]?\d+)?\(?([\+\-]?\d+|[\+\-]?\d+d\d+|[\+\-]?\d+[\+\-]\d+|[\+\-]?\d+d\d+[\+\-]\d+)\)?([x\*][\+\-]?\d+)?([\+\-]?\d+)?$/i;s = s.trim();return reg.test(s) ? s.replace(/[Xx\*]/, "") : "0";};const clampAttribute = function(k, n, min, max, s) {if (s == null) s = "attr";if (min == null) min = getMin(s);if (max == null) max = getMax(s);let u = {};u[k] = clampInt(n, min, max);setAttrs(u, {silent: true});};const updateGender = function() {getAttrs(["char_gender"], (v) => {let u = {};let k = v["char_gender"];u["overburdened"] = getTranslationByKey("overburdened_" + k);u["bleeding_name"] = getTranslationByKey("bleeding_" + k);u["stunned_name"] = getTranslationByKey("stunned_" + k);u["deafened_name"] = getTranslationByKey("deafened_" + k);u["blinded_name"] = getTranslationByKey("blinded_" + k);u["hit_head_str"] = getTranslationByKey("hit_head_" + k);u["hit_arms_str"] = getTranslationByKey("hit_arms_" + k);u["hit_torso_str"] = getTranslationByKey("hit_torso_" + k);u["hit_legs_str"] = getTranslationByKey("hit_legs_" + k);u["opt_strelok_hint"] = getTranslationByKey("opt_strelok_hint_" + k);setAttrs(u, {silent: true});});};const checkExperience = function(n) {let k = "rookie";if (n >= 450) k = "master";else if (n >= 150) k = "veteran";else if (n >= 50) k = "stalker";setAttrs({"char_rank" : getTranslationByKey(k)}, {silent: true});};const updateExperience = function() {getAttrs(["xp", "xp_spent", "xp_rest"], (v) => {let u = {};u["xp"] = clampInt(v["xp"], getMin("xp"), getMax("xp"));u["xp_spent"] = clampInt(v["xp_spent"], 0, u["xp"]);u["xp_rest"] = u["xp"] - u["xp_spent"];setAttrs(u, {silent: true});checkExperience(u["xp"]);});};const updateSelfControl = function(v, renew) {let u = {}, k = "selfcontrol";let n = Math.floor((parseInt(v["endurance"]) + parseInt(v["will"])) / 2);let m = Math.min(n + parseInt(v[k + "_mod"]) + parseInt(v[k + "_aug"]), 10);u[k + "_base"] = n;u[k] = m;if (renew || parseInt(v[k + "_use"]) > m) u[k + "_use"] = m;return u;};const updateHitPoints = function(v) {let u = {}, k = "hp";let c = typeof v[k] === "string" ? evalFormula(v[k].trim()) : v[k];let n = parseInt(v["health"]) * 5;let d = clampInt(v[k + "_mod"], getMin(k + "_mod"), getMax(k + "_mod"));let m = Math.max(n + d, 0);u[k] = c > m ? m : Math.max(c, 0);u[k + "_base"] = n;u[k + "_mod"] = d;u[k + "_max"] = m;u[k + "_percent"] = Math.max(Math.min(Math.floor(u[k] / m * 100), 100), 0);u[k + "_warning"] = u[k + "_percent"] == 0 ? "2" : u[k + "_percent"] <= 10 ? "1" : "0";return u;};const updateWeighingLoad = function(v, w) {let u = {}, k = "weighing_load";let n = parseInt(v["strength"]) * 12;let d = clampInt(v[k + "_mod"], getMin("wgt_load_mod"), getMax("wgt_load_mod"));let m = Math.max(n + d, 0);if (w === undefined) w = parseInt(v[k]);u[k + "_base"] = n;u[k + "_mod"] = d;u[k + "_max"] = m;u[k + "_percent"] = Math.max(Math.min(Math.floor(parseNumber(w) / m * 100), 100), 0);u[k + "_warning"] = u[k + "_percent"] == 100 ? "2" : u[k + "_percent"] >= 90 ? "1" : "0";return u;};const updateResistances = function(v) {let u = {};let i = parseInt(v["health"]);let n = Math.floor(i / 2);let m = Math.floor(i / 4);let x = v["opt_iron_skin"] == "1" ? 5 : 0;u["resistance_burn"] = m + x;u["resistance_shock"] = m + x;u["resistance_blow"] = n + x;u["resistance_cut"] = n + x;u["resistance_radiation"] = m + x;u["resistance_chemical"] = m + x;return u;};const updateAbilities = function(renew, key, suf, prv, recalc, callback) {let l = ["hp", "weighing_load"];let f = key == undefined;let a = f ? Stat.abilities.concat(l) : [key];let b = ["abilities_total"], k, i, s;prv = prv != undefined ? parseInt(prv) : 0;if (key == "strength") a = a.concat(["weighing_load"]);else if (key == "endurance") a = a.concat(["will", "selfcontrol"]);else if (key == "will") a = a.concat(["endurance", "selfcontrol"]);else if (key == "health") a = a.concat(["hp", "opt_iron_skin"]);for (k in a) {s = l.includes(a[k]) ? "_max" : "_use";b.push(a[k]);b.push(a[k] + "_base");b.push(a[k] + "_aug");b.push(a[k] + "_mod");b.push(a[k] + s);}getAttrs(b, (v) => {let u = {}, base, aug, mod, val;let m = f ? 0 : parseInt(v["abilities_total"]);for (k in a) {if (l.includes(a[k])) continue;i = a[k] == "selfcontrol" ? 1 : 2;base = clampInt(v[a[k] + "_base"], getMin("abi_base"), getMax("abi_base"));aug = clampInt(v[a[k] + "_aug"], getMin("abi_aug"), getMax("abi_aug"));mod = clampInt(v[a[k] + "_mod"], getMin("abi_mod"), getMax("abi_mod"));val = clampInt(base + aug + mod, getMin("abi_val"), getMax("abi_val"));u[a[k]] = val;u[a[k] + "_base"] = base;u[a[k] + "_aug"] = aug;u[a[k] + "_mod"] = mod;if (renew || parseInt(v[a[k] + "_use"]) > val * i) u[a[k] + "_use"] = val * i;if (f && a[k] != "selfcontrol") m += a[k] == "selfcontrol" ? aug : base + aug;else if (a[k] == key) {if (suf == "base") m += (base - prv);else if (suf == "aug") m += (aug - prv);}}if (a.includes("strength") && !recalc) u = Object.assign(u, updateWeighingLoad(Object.assign(v, u)));if (a.includes("endurance") || a.includes("will")) u = Object.assign(u, updateSelfControl(u, renew));if (a.includes("health")) u = Object.assign(u, updateHitPoints(Object.assign(v, u)));if (a.includes("health")) u = Object.assign(u, updateResistances(Object.assign(u)));if (renew) u["selfcontrol_toggle"] = "1";u["abilities_total"] = m;setAttrs(u, {silent: true}, function() {if (a.includes("strength")) updateWeaponRange();if (typeof callback == "function") callback();});});};const checkAbilities = function(k, f, callback) {let l = ["opt_strelok"];let a = l.concat(k == undefined ? Stat.abilities : [k]);let b = [];for (k in a) {b.push(a[k]);b.push(a[k] + "_use");}getAttrs(b, (v) => {let u = {};let c = v["opt_strelok"] == "1" ? true : false;let n;for (k in a) {if (Stat.abilities.includes(a[k])) {n = parseInt(v[a[k] + "_use"]);if (f) {n = Math.max(n - (c ? 2 : 1), 0);u[a[k] + "_use"] = n;}if (n == 0) {if (a[k] == "selfcontrol") {u["selfcontrol_toggle"] = 0;u["selfcontrol_ctrl"] = 0;}u[a[k] + "_die"] = 0;} else {if (a[k] == "selfcontrol") u["selfcontrol_toggle"] = 1;u[a[k] + "_die"] = Math.min((c ? 2 : 1), (f ? u[a[k] + "_use"] : parseInt(v[a[k] + "_use"])));}}}setAttrs(u, {silent: true}, () => {if (typeof callback == "function") callback();});});};const resetVitals = function(callback) {let a = ["hp", "hp_base", "hp_mod", "hp_max", "health"];getAttrs(a, (v) => {let u = {};let n = parseInt(v["hp"]) + parseInt(v["health"]);let m = parseInt(v["hp_max"]);u["hp"] = clampInt(n, 0, m);u = Object.assign(u, updateHitPoints(Object.assign(v, u)));setAttrs(u, {silent: true}, () => {if (callback) callback();});});};const updateSpeciality = function(key, abi, a, b, raz) {if (key != null) {key = key.startsWith("repeating_") ? key.slice(0, -7) + "roll" : key.replace("ability", "roll");a = [key];b = [key];}getAttrs(["opt_strelok", ...b], (v) => {let u = {};let c = v["opt_strelok"] == "1" ? true : false;let n = c ? 2 : 1;let r1 = r2 = r3 = r4 = r5 = "";let k, s, q, p, r;_.each(a, (o) => {if (key == null) {k = o.startsWith("repeating_") ? o + "_spec_ability" : "spec_ability_" + o;s = o.startsWith("repeating_") ? o + "_spec_roll" : "spec_roll_" + o;q = v[k];} else {s = key;q = abi;}if (q !== "null") {r1 = "[[@{" + q + "_use}]]";r2 = "[}](@{draw_" + q + "})";r3 = "[+@{" + q + "_die}d10](@{show_" + q + "})";r4 = q;r5 = "@{" + q + "_die}d10";} else {r1 = "";r2 = "";r3 = "";r4 = "";r5 = "0d10";}if (raz) {p = o.startsWith("repeating_") ? "" : "_" + o;r = Roll.speciality.replaceAll("_____", p);} else r = v[s];u[s] = r.replace(/\{\{showability=[^ ]+/, "{{showability=" + r1 + "}}");u[s] = u[s].replace(/\{\{draw_ability=[^ ]+/, "{{draw_ability=" + r2 + "}}");u[s] = u[s].replace(/\{\{r_ability=[^ ]+/, "{{r_ability=" + r3 + "}}");u[s] = u[s].replace(/\{\{r_ability_name=[^ ]+/, "{{r_ability_name=" + r4 + "}}");u[s] = u[s].replace(/\{\{roll=\[\[(\d+|@\{\w+\})d10/, "{{roll=[[" + r5);});setAttrs(u, {silent: true}, function() {if (key == null) updateWeapons();});});};const updateSpecialities = function(raz) {let a = [], b = [];let r = "repeating_specialities";let i = 1;getSectionIDs(r, (sec) => {_.each(sec, (id) => {a.push(`${r}_${id}`);b.push(`${r}_${id}_spec_ability`);b.push(`${r}_${id}_spec_roll`);});for (i; i <= 9; i++) {a.push(`wpn${i}`);b.push(`spec_ability_wpn${i}`);b.push(`spec_roll_wpn${i}`);}updateSpeciality(null, null, a, b, raz);});};const getArmamentLevelIndex = function(v, k) {let n = v[k + "_level"];return (n != "1" ? n : "");};const getArmamentLevelString = function(v, k) {let n = getArmamentLevelIndex(v, k);return (n != "" ? k + "_" + n : k);};const getArmamentLevelValue = function(v, k) {let n = getArmamentLevelIndex(v, k);return (n != "" ? v[k + "_" + n] : v[k]);};const updateArmamentWeight = function(s, k, c) {let r = "repeating_" + s;let a = [s + "_weight", ...Stat.weighing_load];let t = s.substr(0, s.length-1);let b = k.endsWith("level");let i = s == "weapons" ? k.substr(18,20) : k.substr(16,20);let id = i + "_" + t;a = a.concat([`${r}_${id}_weight_val`, `${r}_${id}_weight`, `${r}_${id}_weight_2`, `${r}_${id}_weight_3`, `${r}_${id}_weight_4`, `${r}_${id}_weight_5`, `${r}_${id}_weight_level`]);getAttrs(a, (v) => {let u = {};let n, m, w;n = b ? getArmamentLevelValue(v, `${r}_${id}_weight`) : formatNumber(v[k]);n = Math.min(Math.max(parseNumber(n), 0), (t == "weapon" ? getMax("wpn_weight") : getMax("sui_weight")));if (b || (k.endsWith("weight") ? "1" : k.slice(-1)) == v[`${r}_${id}_weight_level`]) {m = parseNumber(v[`${r}_${id}_weight_val`]);w = formatNumber(Math.max(parseNumber(v["weighing_load"]) + n - m), 0);u[`${r}_${id}_weight_val`] = n;u[s + "_weight"] = formatNumber(Math.max(parseNumber(v[s + "_weight"]) + n - m, 0));u["weighing_load"] = w;u = Object.assign(u, updateWeighingLoad(v, w));}if (!b) u[k] = formatNumber(n);setAttrs(u, {silent: true});});};const updateWeapon = function(k, n, v, q, id, us) {let r = "repeating_weapons";getAttrs([v[`${r}_${id}_weapon_spec`], q], (w) => {let t, s, o, c, i, u = {};if (k != null && !k.endsWith("level") && k.substr(46).split("_")[0] == "accuracy") u[k] = n;if (k == null || n == undefined || k.endsWith("level") || k != getArmamentLevelString(v, `${r}_${id}_weapon_accuracy`)) n = getArmamentLevelValue(v, `${r}_${id}_weapon_accuracy`);t = clampInt(getArmamentLevelValue(v, `${r}_${id}_weapon_status`), getMin("wpn_status"), getMax("wpn_status"));s = "[[" + parseFormula(n) + " [" + getTranslationByKey("weapon_accuracy") + "]" + (t < 0 ? " " + t + " [" + getTranslationByKey("weapon_status") + "]": "");o = v[`${r}_${id}_weapon_spec`] == "null" ? s + "]]" : w[v[`${r}_${id}_weapon_spec`]].replace(/\{\{roll=\[\[/, "{{roll=" + s + " + ");s = w[q] !== undefined ? " {{r_speciality=" + w[q] + "}}" : "";o = o.replace(/\{\{header=[^ ]+/, "{{header=" + v[`${r}_${id}_weapon_name`] + "}}" + s);o += " {{wpn_acc=+" + n + "}}";if (v[`${r}_${id}_weapon_range_val`] != "0") o += " {{wpn_rng=" + v[`${r}_${id}_weapon_range_val`] + "}}";if (t != 0) o += " {{wpn_stt=" + (t > 0 ? "+" + t : t) + "}} {{wpn_stt_r=[[" + t + "]]}}";if (v[`${r}_${id}_weapon_type`] != "melee") u[`${r}_${id}_weapon_bleed`] = "0";if (v[`${r}_${id}_weapon_type`] == "firearm") {c = "";if (v[`${r}_${id}_weapon_rate_1`] == "1") c = getTranslationByKey("weapon_rate_1");if (v[`${r}_${id}_weapon_rate_2`] == "1") {c += (c != "" ? "\n" : "") + getTranslationByKey("weapon_rate_2");i = clampInt(v[`${r}_${id}_weapon_rate_2_val`], getMin("wpn_rate_2"), getMax("wpn_rate_2"));if (i > 1) c += " (" + i + ")";u[`${r}_${id}_weapon_rate_2_val`] = i;}if (v[`${r}_${id}_weapon_rate_3`] == "1") {c += (c != "" ? "\n" : "") + getTranslationByKey("weapon_rate_3");i = clampInt(v[`${r}_${id}_weapon_rate_3_val`], getMin("wpn_rate_3"), getMax("wpn_rate_3"));if (i > 1) c += " (" + i + ")";u[`${r}_${id}_weapon_rate_3_val`] = i;}if (c != "") o += " {{wpn_rate=" + c + "}}";}o += " {{roll_dmg_btn=[t](~_x_weapon_roll_dmg)}}";o += " {{roll_loc_btn=[[](~@{character_id}|location)}}";if (us) u[us] = clampInt(v[us], getMin("wpn_status"), getMax("wpn_status"));u[`${r}_${id}_weapon_spec_str`] = w[q] !== undefined && w[q] !== "" ? w[q] : "";u[`${r}_${id}_weapon_roll`] = o;setAttrs(u, {silent: true});});};const updateWeapons = function(k, n, i, us) {let r = "repeating_weapons";let a = [], u = {};let b, m, q;getSectionIDs(r, (sec) => {_.each(sec, (id) => {a.push(`${r}_${id}_weapon_spec`);a.push(`${r}_${id}_weapon_name`);a.push(`${r}_${id}_weapon_accuracy`);a.push(`${r}_${id}_weapon_accuracy_2`);a.push(`${r}_${id}_weapon_accuracy_3`);a.push(`${r}_${id}_weapon_accuracy_4`);a.push(`${r}_${id}_weapon_accuracy_5`);a.push(`${r}_${id}_weapon_accuracy_level`);a.push(`${r}_${id}_weapon_range_val`);a.push(`${r}_${id}_weapon_status`);a.push(`${r}_${id}_weapon_status_2`);a.push(`${r}_${id}_weapon_status_3`);a.push(`${r}_${id}_weapon_status_4`);a.push(`${r}_${id}_weapon_status_5`);a.push(`${r}_${id}_weapon_status_level`);a.push(`${r}_${id}_weapon_type`);a.push(`${r}_${id}_weapon_rate_1`);a.push(`${r}_${id}_weapon_rate_2`);a.push(`${r}_${id}_weapon_rate_2_val`);a.push(`${r}_${id}_weapon_rate_3`);a.push(`${r}_${id}_weapon_rate_3_val`);});getAttrs(a, (v) => {_.each(sec, (id) => {b = k != null && k.substr(18,20) == id;if (b || k == null) {if (v[`${r}_${id}_weapon_spec`] != "null") {m = parseInt(v[`${r}_${id}_weapon_spec`].slice(-1));if (i == null || i == m) {q = "spec_name_wpn" + m;updateWeapon(k, n, v, q, id, us);} else {}} else {u[`${r}_${id}_weapon_roll`] = Roll.weapon;u[`${r}_${id}_weapon_spec_str`] = "";}} else {}});setAttrs(u, {silent: true});});});};const updateWeaponDamage = function(k, f, n) {let u = {};let t = k.substr(0,52);if (k.endsWith("level")) {n = n == "1" ? "" : "_" + n;k = k.replace("_level", n);getAttrs([k], (v) => {u[t + "_val"] = "[[" + stalker.parseFormula(v[k]) + "]]";setAttrs(u, {silent: true});});} else {u[k] = f;getAttrs([t + "_level"], (v) => {if (t + "_" + v[t + "_level"] == k) {u[t + "_val"] = "[[" + stalker.parseFormula(f) + "]]";setAttrs(u, {silent: true});}});setAttrs(u, {silent: true});}};const resetWeaponDamage = function() {let r = "repeating_weapons";let a = [], u = {};getSectionIDs(r, (sec) => {_.each(sec, (id) => {a.push(`${r}_${id}_weapon_damage`);a.push(`${r}_${id}_weapon_damage_2`);a.push(`${r}_${id}_weapon_damage_3`);a.push(`${r}_${id}_weapon_damage_4`);a.push(`${r}_${id}_weapon_damage_5`);a.push(`${r}_${id}_weapon_damage_level`);});getAttrs(a, (v) => {_.each(sec, (id) => {u[`${r}_${id}_weapon_damage_val`] = "[[" + parseFormula(v[getArmamentLevelString(v, `${r}_${id}_weapon_damage`)]) + "]]";});setAttrs(u, {silent: true});});});};const updateWeaponRange = function(k, s, i, z) {let r = "repeating_weapons";let a = ["strength"], u = {};let b, c, n, m, j, g;getSectionIDs(r, (sec) => {_.each(sec, (id) => {a.push(`${r}_${id}_weapon_type`);a.push(`${r}_${id}_weapon_range`);a.push(`${r}_${id}_weapon_range_old`);a.push(`${r}_${id}_weapon_thrown`);a.push(`${r}_${id}_weapon_thrown_2`);a.push(`${r}_${id}_weapon_thrown_3`);a.push(`${r}_${id}_weapon_thrown_4`);a.push(`${r}_${id}_weapon_thrown_5`);a.push(`${r}_${id}_weapon_thrown_level`);});getAttrs(a, (v) => {_.each(sec, (id) => {s = s === undefined ? `${r}_${id}_weapon_thrown_level` : s;b = k != null && k == id;c = s.endsWith("level");if (b || k == null) {g = ["thrown", "explosive"].includes(v[`${r}_${id}_weapon_type`]);if (g) {n = c || s.endsWith("type") ? getArmamentLevelValue(v, `${r}_${id}_weapon_thrown`) : i;n = clampInt(n, getMin("wpn_thrown"), getMax("wpn_thrown"));m = (parseInt(v[`strength`]) || 0) * n;if (!c && !s.endsWith("type")) u[s] = n;if (z) u[`${r}_${id}_weapon_range_old`] = v[`${r}_${id}_weapon_range`];} else if (z) u[`${r}_${id}_weapon_range`] = v[`${r}_${id}_weapon_range_old`];let w = v[`${r}_${id}_weapon_thrown_level`] == "1" ? "" : "_" + v[`${r}_${id}_weapon_thrown_level`];if (c || s == `${r}_${id}_weapon_thrown` + w || (s.endsWith("type") && g)) {u[`${r}_${id}_weapon_range_val`] = m;u[`${r}_${id}_weapon_range`] = m;}}});setAttrs(u, {silent: true}, () => {updateWeapons(s);});});});};const checkWeaponRange = function(s, k, p) {let r = "repeating_weapons";let a = [`${r}_${k}_weapon_type`, `${r}_${k}_weapon_range`, `${r}_${k}_weapon_range_1`, `${r}_${k}_weapon_range_2`, `${r}_${k}_weapon_range_3`, `${r}_${k}_weapon_range_4`, `${r}_${k}_weapon_range_5`, `${r}_${k}_weapon_range_level`], u = {};let b, t, n, i;getAttrs(a, (v) => {b = ["thrown", "explosive"].includes(v[`${r}_${k}_weapon_type`]);t = v[`${r}_${k}_weapon_range_level`];t = t == "1" ? "" : "_" + t;n = v[`${r}_${k}_weapon_range${t}`];if (!s.endsWith("level")) {i = b ? p : clampInt(v[s], getMin("wpn_range"), getMax("wpn_range"));u[s] = i;if (!b && `${r}_${k}_weapon_range${t}` == s) n = i;}u[`${r}_${k}_weapon_range_val`] = n;setAttrs(u, {silent: true}, () => {updateWeapons(s);});});};const updateWeaponAmmoType = function(s, n) {let r = "repeating_weapons";let k = s.substr(18,20);let b = s.endsWith("level");let a = [`${r}_${k}_weapon_ammo_type`, `${r}_${k}_weapon_ammo_type_2`, `${r}_${k}_weapon_ammo_type_3`, `${r}_${k}_weapon_ammo_type_4`, `${r}_${k}_weapon_ammo_type_5`, `${r}_${k}_weapon_ammo_type_level`], u = {};getAttrs(a, (v) => {if (b) n = v[`${r}_${k}_weapon_ammo_type${n == "1" ? "" : "_" + n}`];if (b || s == `${r}_${k}_weapon_ammo_type_` + v[`${r}_${k}_weapon_ammo_type_level`]) u[`${r}_${k}_weapon_ammo_type_val`] = n;setAttrs(u, {silent: true});});};const updateWeaponAmmo = function(s, b, n) {let k = s.substr(18,20);let r = "repeating_weapons";let a = [`${r}_${k}_weapon_ammo_max`, `${r}_${k}_weapon_ammo_max_2`, `${r}_${k}_weapon_ammo_max_3`, `${r}_${k}_weapon_ammo_max_4`, `${r}_${k}_weapon_ammo_max_5`, `${r}_${k}_weapon_ammo_max_level`], u = {};getAttrs(a, (v) => {let t = getArmamentLevelString(v, `${r}_${k}_weapon_ammo_max`);n = b ? parseInt(v[t]) : clampInt(v[s], getMin("wpn_ammo"), getMax("wpn_ammo"));if (!b) u[s] = n;if (b || s == t) u[`${r}_${k}_weapon_ammo_max_val`] = n;setAttrs(u, {silent: true}, () => {checkWeaponAmmo(k);});});};const checkWeaponAmmo = function(k) {let r = "repeating_weapons";let a = [`${r}_${k}_weapon_ammo_val`, `${r}_${k}_weapon_ammo_max_val`, `${r}_${k}_weapon_type`], u = {};let n;getAttrs(a, (v) => {n = v[`${r}_${k}_weapon_type`] == "firearm" ? parseInt(v[`${r}_${k}_weapon_ammo_max_val`]) : getMax("wpn_ammo");u[`${r}_${k}_weapon_ammo_val`] = clampInt(v[`${r}_${k}_weapon_ammo_val`], getMin("wpn_ammo"), n);setAttrs(u, {silent: true});});};const checkWeaponField = function(k, s, n) {let u = {};let p = s.split("_")[0], i;if (s.endsWith("level")) {i = n == "1" ? "" : "_" + n;getAttrs([`repeating_weapons_${k}_weapon_${p}${i}`], v => {u[`repeating_weapons_${k}_weapon_${p}_val`] = v[`repeating_weapons_${k}_weapon_${p}${i}`];setAttrs(u, {silent: true});});} else {n = clampInt(n, getMin("wpn_" + p), getMax("wpn_" + p));u[`repeating_weapons_${k}_weapon_${s}`] = n;if (p != "mag") {let t = `repeating_weapons_${k}_weapon_${p}_level`;getAttrs([t], v => {i = v[t] == "1" ? "" : "_" + v[t];if (s == p + i) u[`repeating_weapons_${k}_weapon_${p}_val`] = n;setAttrs(u, {silent: true});});} else setAttrs(u, {silent: true});}};const updateSuitDamage = function(k, q, b, z) {getAttrs([`${k}_suit_dmg`, `${k}_suit_${q}`, `${k}_suit_${q}_2`, `${k}_suit_${q}_3`, `${k}_suit_${q}_4`, `${k}_suit_${q}_5`, `${k}_suit_${q}_level`, `resistance_${q}`], (v) => {if (!b || v[`${k}_suit_dmg`] == q) {let u = {}, n, m;n = getArmamentLevelValue(v, `${k}_suit_${q}`);if (z) n = formatFormula(n);if (getArmamentLevelIndex(v, `${k}_suit_${q}`) != "") {m = v[`${k}_suit_${q}`];if (z) m = formatFormula(m);n = m + "+" + n;}u[`${k}_suit_dmg_str`] = n;u[`${k}_suit_dmg_val`] = parseFormula(n) + " [" + getTranslationByKey("suit_protection") + "]";if (v[`resistance_${q}`] !== undefined) u[`${k}_suit_dmg_val`] += " + " + v[`resistance_${q}`] + " [" + getTranslationByKey("resistance") + "]";setAttrs(u, {silent: true});}});};const updateSuitDamages = function() {let s = "repeating_suits";getSectionIDs(s, (sec) => {_.each(sec, (id) => {getAttrs([`${s}_${id}_suit_dmg`], (v) => {updateSuitDamage(`${s}_${id}`, v[`${s}_${id}_suit_dmg`]);});});});};const checkSuitField = function(s, n) {let k = s.substr(16,20);let t = s.substr(42).split("_")[0];let r = "repeating_suits", i, u = {};let a = [`${r}_${k}_suit_${t}`, `${r}_${k}_suit_${t}_2`, `${r}_${k}_suit_${t}_3`, `${r}_${k}_suit_${t}_4`, `${r}_${k}_suit_${t}_5`, `${r}_${k}_suit_${t}_level`];getAttrs(a, (v) => {n = clampInt(n, getMin("sui_" + t), getMax("sui_" + t));i = s.endsWith("level") ? getArmamentLevelValue(v, `${r}_${k}_suit_${t}`) : n;if (s.endsWith("level") || s == getArmamentLevelString(v, `${r}_${k}_suit_${t}`)) u[`${r}_${k}_suit_${t}_val`] = i;if (!s.endsWith("level")) u[s] = n;setAttrs(u, {silent: true});});};const updateInventoryWeight = function(s, k) {let a = [k + "number", k + "weight", k + "weight_total", s + "_weight"];let b = s == "equipment" || s == "backpack";if (b) a = a.concat(Stat.weighing_load);getAttrs(a, (v) => {let u = {};let n = parseNumber(v[k + "number"]) * parseNumber(v[k + "weight"]);let m = parseNumber(v[k + "weight_total"]);if (b) {let w = formatNumber(Math.max(parseNumber(v["weighing_load"]) + (n - m), 0));u["weighing_load"] = w;u = Object.assign(u, updateWeighingLoad(v, w));}u[k + "weight_total"] = formatNumber(n);u[s + "_weight"] = formatNumber(Math.max(parseNumber(v[s + "_weight"]) + (n - m), 0));setAttrs(u, {silent: true});});};const refreshInventoryWeight = function(s, k, w) {w = parseNumber(w);let a = [s + "_weight"];let b = s == "equipment" || s == "backpack";if (b) a = a.concat(Stat.weighing_load);getAttrs(a, (v) => {let u = {};if (b) {let n = formatNumber(Math.max(parseNumber(v["weighing_load"]) - w, 0));u["weighing_load"] = n;u = Object.assign(u, updateWeighingLoad(v, n));}u[s + "_weight"] = formatNumber(Math.max(parseNumber(v[s + "_weight"]) - w, 0));setAttrs(u, {silent: true});});};const transferWeight = function(s1, s2, w) {let a = [s1 + "_weight", s2 + "_weight"];let b1 = (s1 == "vehicle" || s1 == "den") && (s2 == "equipment" || s2 == "backpack" );let b2 = (s1 == "equipment" || s1 == "backpack" ) && (s2 == "vehicle" || s2 == "den");let b = b1 || b2;if (b) a = a.concat(Stat.weighing_load);getAttrs(a, (v) => {let u = {};if (b) {let n = formatNumber(Math.max(parseNumber(v["weighing_load"]) + (w * (b2 ? -1 : 1))), 0);u["weighing_load"] = n;u = Object.assign(u, updateWeighingLoad(v, n));}u[s1 + "_weight"] = formatNumber(Math.max(parseNumber(v[s1 + "_weight"]) - w), 0);u[s2 + "_weight"] = formatNumber(Math.max(parseNumber(v[s2 + "_weight"]) + w), 0);setAttrs(u, {silent: true});});};const transferItem = function(s, k) {let a = [`${k}_item_name`, `${k}_item_number`, `${k}_item_weight`, `${k}_item_weight_total`, `${k}_item_desc`];getAttrs(a, (v) => {let u = {};let n = generateRowID();let w = parseNumber(v[`${k}_item_weight_total`]);u[`repeating_${s}_${n}_item_name`] = v[`${k}_item_name`];u[`repeating_${s}_${n}_item_number`] = v[`${k}_item_number`];u[`repeating_${s}_${n}_item_weight`] = v[`${k}_item_weight`];u[`repeating_${s}_${n}_item_weight_total`] = v[`${k}_item_weight_total`];u[`repeating_${s}_${n}_item_desc`] = v[`${k}_item_desc`];removeRepeatingRow(`${k}`);setAttrs(u, {silent: true}, () => {transferWeight(k.split("_")[1], s, w);});});};const recalcWeight = function(callback) {let a = "repeating_weapons";let b = "repeating_suits";let c = "repeating_equipment";let d = "repeating_backpack";getSectionIDs(a, (sec_a) => {getSectionIDs(b, (sec_b) => {getSectionIDs(c, (sec_c) => {getSectionIDs(d, (sec_d) => {let o = [...Stat.weighing_load];_.each(sec_a, (id) => {o.push(`${a}_${id}_weapon_weight_val`);});_.each(sec_b, (id) => {o.push(`${b}_${id}_suit_weight_val`);});_.each(sec_c, (id) => {o.push(`${c}_${id}_item_number`,`${c}_${id}_item_weight`);});_.each(sec_d, (id) => {o.push(`${d}_${id}_item_number`,`${d}_${id}_item_weight`);});getAttrs(o, (v) => {let u = {};let n = tot_a = tot_b = tot_c = tot_d = 0;_.each(sec_a, (id) => {tot_a += Math.max(parseNumber(v[`${a}_${id}_weapon_weight_val`]), 0);});_.each(sec_b, (id) => {tot_b += Math.max(parseNumber(v[`${b}_${id}_suit_weight_val`]), 0);});_.each(sec_c, (id) => {n = Math.max(parseNumber(v[`${c}_${id}_item_number`]) * parseNumber(v[`${c}_${id}_item_weight`]), 0);tot_c += n;u[`${c}_${id}_item_weight_total`] = formatNumber(n, true);});_.each(sec_d, (id) => {n = Math.max(parseNumber(v[`${d}_${id}_item_number`]) * parseNumber(v[`${d}_${id}_item_weight`]), 0);tot_d += n;u[`${d}_${id}_item_weight_total`] = formatNumber(n, true);});u["weapons_weight"] = formatNumber(tot_a);u["suits_weight"] = formatNumber(tot_b);u["equipment_weight"] = formatNumber(tot_c);u["backpack_weight"] = formatNumber(tot_d);u["weighing_load"] = formatNumber(tot_a + tot_b + tot_c + tot_d);u = Object.assign(u, updateWeighingLoad(v, u["weighing_load"]));setAttrs(u, {silent: true}, () => {if (callback) callback();});});});});});});};const recalcStashWeight = function() {let a = "repeating_vehicle";let b = "repeating_den";getSectionIDs(a, (sec_a) => {getSectionIDs(b, (sec_b) => {let o = [];_.each(sec_a, (id) => {o.push(`${a}_${id}_item_number`,`${a}_${id}_item_weight`);});_.each(sec_b, (id) => {o.push(`${b}_${id}_item_number`,`${b}_${id}_item_weight`);});getAttrs(o, (v) => {let u = {};let n = tot_a = tot_b = 0;_.each(sec_a, (id) => {n = Math.max(parseNumber(v[`${a}_${id}_item_number`]) * parseNumber(v[`${a}_${id}_item_weight`]), 0);tot_a += n;u[`${a}_${id}_item_weight_total`] = formatNumber(n, true);});_.each(sec_b, (id) => {n = Math.max(parseNumber(v[`${b}_${id}_item_number`]) * parseNumber(v[`${b}_${id}_item_weight`]), 0);tot_b += n;u[`${b}_${id}_item_weight_total`] = formatNumber(n, true);});u["vehicle_weight"] = formatNumber(tot_a);u["den_weight"] = formatNumber(tot_b);setAttrs(u, {silent: true});});});});};const updateMoney = function(k) {let i = k == "lose" ? -1 : 1;getAttrs(["money", "money_" + k], (v) => {let u = {};u["money"] = clampInt(parseInt(v["money"]) + (parseInt(v["money_" + k]) * i), getMin("money"), getMax("money"));u["money_" + k] = "0";setAttrs(u, {silent: true});});};const restCharacter = function() {console.log("Resting...");resetVitals(() => {updateAbilities(true, null, null, null, false, () => {checkAbilities(null, null, () => {console.log("Resting finished!");});});});};const recalcCharacterSheet = function(callback) {console.log("Recalculating...");updateAbilities(false, null, null, null, true);updateSpecialities(true);updateWeapons();resetWeaponDamage();updateSuitDamages();recalcStashWeight();recalcWeight(() => {if (callback) callback();console.log("Recalculating finished!");});};const updateCharacterSheet = function() {console.log("Checking updates...");recalcCharacterSheet(checkVersion);};const updateCharacterType = function(n) {let u = {};getAttrs(["sheet_type"], (v) => {n = n === undefined ? v["sheet_type"] : n;u["rollbase"] = Roll.rollbase[n];u["antecedents_str"] = getTranslationByKey(n == "pc" ? "antecedents" : "traits");setAttrs(u, {silent: true});});};const resetOptionsToggles = function(k) {getSectionIDs(k, sec => {let a = [];_.each(sec, id => {a.push(`repeating_${k}_${id}_options_flag_${k}`)});getAttrs(a, (v) => {let u = {};_.each(sec, id => {u[`repeating_${k}_${id}_options_flag_${k}`] = "0"});u["options_toggle_" + k] = 0;u["options_counter_" + k] = 0;setAttrs(u, {silent: true});});});};const setupTranslations = function() {let u = {};u["whisper_to_gm_tra"] = getTranslationByKey("whisper_to_gm");u["dialog_yes_tra"] = getTranslationByKey("yes");u["dialog_no_tra"] = getTranslationByKey("no");u["rank_tra"] = getTranslationByKey("rank");u["ability_tra"] = getTranslationByKey("ability");u["leadership_tra"] = getTranslationByKey("leadership");u["selfcontrol_tra"] = getTranslationByKey("selfcontrol");u["modifier_tra"] = getTranslationByKey("modifier");u["suit_location_tra"] = getTranslationByKey("suit_location");u["suit_status_tra"] = getTranslationByKey("suit_status");setAttrs(u, {silent: true});};const dumpAttributes = function(callback) {let a = ["Surnom", "Age", "Taille", "Cheveux", "Yeux", "Faction", "Antecedent", "Titre", "historique", "PV", "PVmax", "fatigue", "nourriture", "soif", "Poids", "poidsMax"];let b = ["char_fname", "char_age", "char_size", "char_hair", "char_eyes", "char_faction", "antecedent", "title", "biography", "hp", "hp_max", "hydration", "repletion", "exhaustion", "weighing_load", "weighing_load_max"];getAttrs(a, (v) => {let u = {}, i, n;for (i = 0; i < a.length; i++) {if (v[a[i]] !== undefined) {if (["Antecedent", "Titre"].includes(a[i])) {n = generateRowID();u[`repeating_${b[i]}s_${n}_${b[i]}`] = v[a[i]];} else {u[b[i]] = v[a[i]];}}}setAttrs(u, {silent: true}, () => {if (callback) callback();});});};const dumpAbilities = function(callback) {let a = [];let b = ["force", "endurance", "agilite", "precision", "reflexe", "connassance", "perception", "volonte", "empathie", "persuasion", "psychologie", "sandfroid", "sante"];let c = ["strength", "endurance", "agility", "accuracy", "reflexes", "knowledge", "perception", "will", "empathy", "persuasion", "psychology", "selfcontrol", "health"];let i, j = 0;for (j = 0; j < b.length; j++) {for (i = 1; i <= 10; i++) {a.push(b[j] + "-" + i);a.push(b[j] + "-" + i + "-1");}}getAttrs(a, (v) => {let n = m = 0;let k, p, q = c[0], s, u = {};for (k in v) {p = k.split("-");s = c[b.indexOf(p[0])];if (q != s) {u[q] = m;u[q + "_base"] = m;u[q + "_use"] = n;n = 0;m = 0;}if (!Number.isNaN(parseInt(v[k]))) {if (p[2] === undefined) {n += parseInt(v[k]);} else {m += parseInt(v[k]);}}q = s;}setAttrs(u, {silent: true}, () => {if (callback) callback();});});};const dumpRepeatingItems = function(callback) {let s = "repeating_Specialite";getSectionIDs(s, (sec) => {let a = [];_.each(sec, (id) => {a.push(`${s}_${id}_Nom`,`${s}_${id}_Rang`,`${s}_${id}_D`,`${s}_${id}_NomArme`,`${s}_${id}_Degats`,`${s}_${id}_Precition`,`${s}_${id}_NomObjet`,`${s}_${id}_Nombre`,`${s}_${id}_Poids`);});getAttrs(a, (v) => {let u = {};_.each(sec, (id) => {let n = [];n[0] = generateRowID();n[1] = generateRowID();n[2] = generateRowID();if (v[`${s}_{id}_Nom`] != "") u[`repeating_specialities_${n[0]}_spec_name`] = v[`${s}_${id}_Nom`];if (v[`${s}_${id}_Rang`] != "") u[`repeating_specialities_${n[0]}_spec_rank`] = v[`${s}_${id}_Rang`];if (v[`${s}_${id}_D`] != "") u[`repeating_specialities_${n[0]}_spec_die`] = v[`${s}_${id}_D`];if (v[`${s}_${id}_NomArme`] !== undefined) u[`repeating_weapons_${n[1]}_weapon_name`] = v[`${s}_${id}_NomArme`];if (v[`${s}_${id}_Degats`] !== undefined) u[`repeating_weapons_${n[1]}_weapon_damage`] = v[`${s}_${id}_Degats`];if (v[`${s}_${id}_Precition`] !== undefined) u[`repeating_weapons_${n[1]}_weapon_accuracy`] = v[`${s}_${id}_Precition`];if (v[`${s}_${id}_NomObjet`] !== undefined) u[`repeating_equipment_${n[2]}_item_name`] = v[`${s}_${id}_NomObjet`];if (v[`${s}_${id}_Nombre`] !== undefined) u[`repeating_equipment_${n[2]}_item_number`] = parseNumber(v[`${s}_${id}_Nombre`]);if (v[`${s}_${id}_Poids`] !== undefined) u[`repeating_equipment_${n[2]}_item_weight`] = parseNumber(v[`${s}_${id}_Poids`]);removeRepeatingRow(`${s}_${id}`);});setAttrs(u, {silent: true}, () => {if (callback) callback();});});});};const dumpRepeatingSection = function(h, callback) {getSectionIDs(`repeating_${h.old.sec}`, (sec) => {let a = [];_.each(sec, (id) => {h.old.fld.forEach(function(o) {a.push(`repeating_${h.old.sec}_${id}_${o}`);});});getAttrs(a, (v) => {let u = {};_.each(sec, (id) => {let n = generateRowID(), q;h.old.fld.forEach(function(o, i) {q = v[`repeating_${h.old.sec}_${id}_${o}`];if (q !== undefined) u[`repeating_${h.new.sec}_${n}_${h.new.fld[i]}`] = ["Nombre", "Dure", "Poids"].indexOf(o) >= 0 ? formatNumber(parseNumber(q)) : q;});removeRepeatingRow(`repeating_${h.old.sec}_${id}`);});setAttrs(u, {silent: true}, () => {if (callback) callback();});});});};const dumpCharacterSheet = function(callback) {let a = {"old" : {"sec" : "Objet", "fld" : ["Nom", "Nombre", "Dure"]}, "new" : {"sec" : "conditions", "fld" : ["cond_name", "cond_number", "cond_duration"]}};let b = {"old" : {"sec" : "sacados", "fld" : ["NomObjet", "Nombre", "Poids"]}, "new" : {"sec" : "backpack", "fld" : ["item_name", "item_number", "item_weight"]}};dumpRepeatingItems(() => {dumpRepeatingSection(a, () => {dumpRepeatingSection(b, () => {dumpAttributes(() => {dumpAbilities(checkVersion);});});});});};const checkVersion = function() {getAttrs(["version", "char_rank"], (v) => {if (v["version"] === undefined) {console.info("S.T.A.L.K.E.R. Sheet's Is Now Being Initialized...");dumpCharacterSheet();setAttrs({"version" : 0.0}, {silent: true});} else if (parseFloat(v["version"]) < Glob.version) {console.info("S.T.A.L.K.E.R. Sheet Is Now Updated to v" + Glob.version);if (typeof v["char_rank"] === undefined) stalker.checkExperience(v["xp"]);updateCharacterSheet();setAttrs({"version" : Glob.version}, {silent: true});} else {console.info("S.T.A.L.K.E.R. Sheet v" + Glob.version + " Loaded!");}});};return {Glob: Glob,Stat: Stat,Roll: Roll,MinMax: MinMax,evalFormula: evalFormula,parseFormula: parseFormula,formatFormula: formatFormula,clampAttribute: clampAttribute,updateGender: updateGender,checkExperience: checkExperience,updateExperience: updateExperience,updateResistances: updateResistances,updateAbilities: updateAbilities,checkAbilities: checkAbilities,updateHitPoints: updateHitPoints,updateWeighingLoad: updateWeighingLoad,updateSpeciality: updateSpeciality,updateSpecialities: updateSpecialities,getArmamentLevelString: getArmamentLevelString,getArmamentLevelValue: getArmamentLevelValue,updateArmamentWeight: updateArmamentWeight,updateWeapons: updateWeapons,updateWeaponDamage: updateWeaponDamage,updateWeaponRange: updateWeaponRange,checkWeaponRange: checkWeaponRange,updateWeaponAmmoType: updateWeaponAmmoType,updateWeaponAmmo: updateWeaponAmmo,checkWeaponAmmo: checkWeaponAmmo,checkWeaponField: checkWeaponField,updateSuitDamage: updateSuitDamage,updateSuitDamages: updateSuitDamages,checkSuitField: checkSuitField,updateInventoryWeight: updateInventoryWeight,refreshInventoryWeight: refreshInventoryWeight,transferItem: transferItem,recalcWeight: recalcWeight,updateMoney: updateMoney,restCharacter: restCharacter,recalcCharacterSheet: recalcCharacterSheet,updateCharacterSheet: updateCharacterSheet,updateCharacterType: updateCharacterType,resetOptionsToggles: resetOptionsToggles,setupTranslations: setupTranslations,checkVersion: checkVersion};})();</script>

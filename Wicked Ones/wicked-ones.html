<input type="hidden" name="attr_calling-settings" class="calling-settings" value="show"/>
<input type="hidden" name="attr_tab" class="sheet-tab" value="wicked-one"/>
<div class="sheet-main">
  <div class="sheet-calling">
    <input type="hidden" class="toggle complex settings" name="attr_calling-settings" value="show"/>
    <button type="action" name="act_toggle-calling-settings" class="toggle symbol settings">
      <span>y</span>
    </button>
    <div class="tabs complex">
      <button type="action" name="act_tab-wicked-one" class="tab-button wicked-one">
        <span data-i18n="wicked-one">Wicked One</span>
      </button>
      <button type="action" name="act_tab-dungeon" class="tab-button dungeon">
        <span data-i18n="dungeon">Dungeon</span>
      </button>
      <button type="action" name="act_tab-gm" class="tab-button gm">
        <span data-i18n="gm">GM</span>
      </button>
    </div>
    <input type="text" name="attr_calling" class="complex"/>
    <!-- <input type="text" name="attr_calling-desc" class="complex"/> -->
    <div class="auto-expand complex"><span name="attr_calling-desc"></span>
      <textarea spellcheck="false" name="attr_calling-desc"></textarea>
    </div>
    <div class="complex suggestions tab-wicked-one">
      <input type="hidden" name="attr_calling" class="suggested" value=""/>
      <button type="action" name="act_calling-brute" class="suggestion" data-i18n="brute" data-i18n-list-item="brute">Brute</button>
      <button type="action" name="act_calling-conniver" class="suggestion" data-i18n="conniver" data-i18n-list-item="conniver">Conniver</button>
      <button type="action" name="act_calling-crafter" class="suggestion" data-i18n="crafter" data-i18n-list-item="crafter">Crafter</button>
      <button type="action" name="act_calling-hunter" class="suggestion" data-i18n="hunter" data-i18n-list-item="hunter">Hunter</button>
      <button type="action" name="act_calling-marauder" class="suggestion" data-i18n="marauder" data-i18n-list-item="marauder">Marauder</button>
      <button type="action" name="act_calling-shadow" class="suggestion" data-i18n="shadow" data-i18n-list-item="shadow">Shadow</button>
      <button type="action" name="act_calling-shaman" class="suggestion" data-i18n="shaman" data-i18n-list-item="shaman">Shaman</button>
      <button type="action" name="act_calling-warlock" class="suggestion" data-i18n="warlock" data-i18n-list-item="warlock">Warlock</button>
      <button type="action" name="act_calling-zealot" class="suggestion" data-i18n="zealot" data-i18n-list-item="zealot">Zealot</button>
    </div>
    <div class="complex suggestions tab-dungeon">
      <input type="hidden" name="attr_calling" class="suggested" value=""/>
      <button type="action" name="act_calling-enclave" class="suggestion" data-i18n="enclave" data-i18n-list-item="enclave">Enclave</button>
      <button type="action" name="act_calling-forge" class="suggestion" data-i18n="forge" data-i18n-list-item="forge">Forge</button>
      <button type="action" name="act_calling-hideout" class="suggestion" data-i18n="hideout" data-i18n-list-item="hideout">Hideout</button>
      <button type="action" name="act_calling-stronghold" class="suggestion" data-i18n="stronghold" data-i18n-list-item="stronghold">Stronghold</button>
      <button type="action" name="act_calling-temple" class="suggestion" data-i18n="temple" data-i18n-list-item="temple">Temple</button>
    </div>
    <span name="attr_calling" class="simple"></span>
    <span name="attr_calling-desc" class="simple right pre"></span>
    <span data-i18n="game-master" class="gm-calling tab-gm simple">Game Master</span>
    <div class="config complex">
      <input type="hidden" name="attr_dice-type" value=""/>
      <span class="sheet-header" data-i18n="sheet-settings">Sheet Settings</span>
      <div>
        <label>
          <input type="hidden" name="attr_dice-images" class="toggle" value="marked"/>
          <button type="action" name="act_toggle-dice-images" class="toggle square"></button>
          <span data-i18n="dice-images">Dice Images</span>
        </label>
      </div>
    </div>
  </div>
  <div class="sheet-left tab-wicked-one">
    <div class="sheet-details">
      <div class="labeled-line">
        <span data-i18n="name" class="namelabel">Name</span>
        <input type="text" name="attr_character_name" class="name" size="12"/>
      </div>
      <div class="labeled-line">
        <span data-i18n="race-look" class="looklabel">Race & Look</span>
        <input type="text" name="attr_look" class="look" size="12"/>
      </div>
      <div class="labeled-line">
        <span data-i18n="dark-impulse" class="impulselabel">Dark Impulse</span>
        <input type="text" name="attr_impulse" class="impulse" size="12"/>
      </div>
      <div class="labeled-line">
        <span data-i18n="revelry" class="revelrylabel">Revelry</span>
        <input type="text" name="attr_revelry" class="revelry" size="12"/>
      </div>
      <span data-i18n-list="impulse-list" class="suggestions">
        <input type="hidden" name="attr_impulse" class="suggested" value=""/>
        <button type="action" name="act_impulse-bigmouth" class="suggestion" data-i18n="bigmouth" data-i18n-list-item="bigmouth">Bigmouth</button>
        <button type="action" name="act_impulse-cruel" class="suggestion" data-i18n="cruel" data-i18n-list-item="cruel">Cruel</button>
        <button type="action" name="act_impulse-deranged" class="suggestion" data-i18n="deranged" data-i18n-list-item="deranged">Deranged</button>
        <button type="action" name="act_impulse-fickle" class="suggestion" data-i18n="fickle" data-i18n-list-item="fickle">Fickle</button>
        <button type="action" name="act_impulse-obsessed" class="suggestion" data-i18n="obsessed" data-i18n-list-item="obsessed">Obsessed</button>
        <button type="action" name="act_impulse-paranoid" class="suggestion" data-i18n="paranoid" data-i18n-list-item="paranoid">Paranoid</button>
        <button type="action" name="act_impulse-reckless" class="suggestion" data-i18n="reckless" data-i18n-list-item="reckless">Reckless</button>
        <button type="action" name="act_impulse-vengeful" class="suggestion" data-i18n="vengeful" data-i18n-list-item="vengeful">Vengeful</button>
      </span>
      <span data-i18n-list="revelry-list" class="suggestions">
        <input type="hidden" name="attr_revelry" class="suggested" value=""/>
        <button type="action" name="act_revelry-craving" class="suggestion" data-i18n="craving" data-i18n-list-item="craving">Craving</button>
        <button type="action" name="act_revelry-drinking" class="suggestion" data-i18n="drinking" data-i18n-list-item="drinking">Drinking</button>
        <button type="action" name="act_revelry-gambling" class="suggestion" data-i18n="gambling" data-i18n-list-item="gambling">Gambling</button>
        <button type="action" name="act_revelry-occult" class="suggestion" data-i18n="occult" data-i18n-list-item="occult">Occult</button>
        <button type="action" name="act_revelry-violence" class="suggestion" data-i18n="violence" data-i18n-list-item="violence">Violence</button>
        <button type="action" name="act_revelry-worship" class="suggestion" data-i18n="worship" data-i18n-list-item="worship">Worship</button>
      </span>
    </div>
    <div class="sheet-gear">
      <div class="header small box" data-i18n="gear">Gear</div>
      <fieldset class="repeating_gear">
        <input type="text" name="attr_gear"/>
      </fieldset>
      <div class="header small box">
        <span data-i18n="supply">Supply</span>
        <input type="hidden" class="toggle complex settings" name="attr_supply-settings"/>
        <button type="action" name="act_toggle-supply-settings" class="toggle symbol settings">
          <span>y</span>
        </button>
        <span class="complex normal" data-i18n="slots"> Slots</span>
        <input type="number" name="attr_supply-slots" min="2" max="5" class="complex" />
        <input type="hidden" name="attr_supply-slots" class="extra"/>
        <span class="spacer"></span>
        <input type="hidden" class="toggle" name="attr_supply1" />
        <button type="action" name="act_toggle-supply1" class="toggle square extra1">
          <span></span>
        </button>
        <input type="hidden" class="toggle" name="attr_supply2" />
        <button type="action" name="act_toggle-supply2" class="toggle square extra2">
          <span></span>
        </button>
        <input type="hidden" class="toggle" name="attr_supply3" />
        <button type="action" name="act_toggle-supply3" class="toggle square extra3">
          <span></span>
        </button>
        <input type="hidden" class="toggle" name="attr_supply4" />
        <button type="action" name="act_toggle-supply4" class="toggle square extra4">
          <span></span>
        </button>
        <input type="hidden" class="toggle" name="attr_supply5" />
        <button type="action" name="act_toggle-supply5" class="toggle square extra5">
          <span></span>
        </button>
      </div>
      <div>
        <input type="hidden" class="toggle complex settings" name="attr_supply-settings" />
        <fieldset class="repeating_supply">
          <span class="textplus">
            <input type="text" name="attr_supply" size="10" class="textplus" />
            <input type="hidden" name="attr_extra-supply-item" class="extra"/>
            <input type="hidden" class="toggle" name="attr_extra-supply1" />
            <button type="action" name="act_toggle-extra-supply1" class="toggle square extra1">
              <span></span>
            </button>
            <input type="hidden" class="toggle" name="attr_extra-supply2" />
            <button type="action" name="act_toggle-extra-supply2" class="toggle square extra2">
              <span></span>
            </button>
            <input type="hidden" class="toggle" name="attr_extra-supply3" />
            <button type="action" name="act_toggle-extra-supply3" class="toggle square extra3">
              <span></span>
            </button>
          </span>
          <span class="complex">
            <span data-i18n="extra-slots">Extra Slots</span>
            <input type="number" name="attr_extra-supply-item" min="0" max="3"/>
          </span>
          
        </fieldset>
      </div>
    </div>
    <div class="sheet-stress">
      <div class="header small box">
        <span data-i18n="stress">Stress</span>
      </div>
      <div class="feral-back"></div>
      <div class="feral" data-i18n="go-feral-stress">When the Clock is full, you Go Feral.</div>
      <div class="stress-clock">
        <!-- <div class="clock-container">
          <button class="broadcast-button" type="roll" name="roll_Show" value="" data-i18n-title="send_details_to_chat" title="Send details to chat"></button> 
          <div class="spoke-0 all"></div>
          <div class="spoke-30 sheet-12clock"></div>
          <div class="spoke-45 sheet-8clock"></div>
          <div class="spoke-36 sheet-10clock"></div>
          <div class="spoke-60 sheet-6clock sheet-12clock"></div>
          <div class="spoke-72 sheet-10clock"></div>
          <div class="spoke-90 sheet-4clock sheet-8clock sheet-12clock"></div>
          <div class="spoke-108 sheet-10clock"></div>
          <div class="spoke-120 sheet-6clock sheet-12clock"></div>
          <div class="spoke-135 sheet-8clock"></div>
          <div class="spoke-144 sheet-10clock"></div>
          <div class="spoke-150 sheet-12clock"></div>
          <input class="zero input-progress" type="radio" name="attr_stress" value="0" checked="checked"/><span></span>
          <input class="input-progress all" type="radio" name="attr_stress" value="1"/>
          <input class="input-progress all" type="radio" name="attr_stress" value="2"/>
          <input class="input-progress all" type="radio" name="attr_stress" value="3"/>
          <input class="input-progress all" type="radio" name="attr_stress" value="4"/>
          <input class="input-progress sheet-6clock sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_stress" value="5"/>
          <input class="input-progress sheet-6clock sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_stress" value="6"/>
          <input class="input-progress sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_stress" value="7"/>
          <input class="input-progress sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_stress" value="8"/>
          <input class="input-progress sheet-10clock sheet-12clock" type="radio" name="attr_stress" value="9"/>
          <input class="input-progress sheet-10clock sheet-12clock" type="radio" name="attr_stress" value="10"/>
          <input class="input-progress sheet-12clock" type="radio" name="attr_stress" value="11"/>
          <input class="input-progress sheet-12clock" type="radio" name="attr_stress" value="12"/>
          <div class="clock"></div>
        </div> -->
        <div class="clock-container">
          <button class="zero" type="action" name="act_stress0"></button>
          <input class="size" type="hidden" name="attr_stress-size" value="6"/>
          <input type="hidden" name="attr_stress" class="clock"/>
          <div class="clock">
            <button class="segment 1" type="action" name="act_stress1"></button>
            <button class="segment 2" type="action" name="act_stress2"></button>
            <button class="segment 3" type="action" name="act_stress3"></button>
            <button class="segment 4" type="action" name="act_stress4"></button>
            <button class="segment 5" type="action" name="act_stress5"></button>
            <button class="segment 6" type="action" name="act_stress6"></button>
            <button class="segment 7" type="action" name="act_stress7"></button>
            <button class="segment 8" type="action" name="act_stress8"></button>
          </div>
        </div>
      </div>
      <ul class="resist no-bullets">
        <li data-i18n="resistance-rolls" class="subheader">Resistance Rolls</li>
        <li>
          <strong data-i18n="failure">Failure</strong>: <span data-i18n="resist-failure">Partial Resist, take 3 Stress.</span>
        </li>
        <li>
          <strong data-i18n="mixed">Mixed</strong>: <span data-i18n="resist-mixed">Partial Resist, take 2 Stress.</span>
        </li>
        <li>
          <strong data-i18n="success">Success</strong>: <span data-i18n="resist-success">Full Resist, take 1 Stress</span>
        </li>
        <li>
          <strong data-i18n="critical">Critical</strong>: <span data-i18n="resist-critical">Full Resist, clear 1 Stress</span>
        </li>
        <li data-i18n="resisting-death" class="subheader">Resisting Death</li>
        <li>
          <strong data-i18n="failure">Failure</strong>: <span data-i18n="resist-death-failure">You die.</span>
        </li>
        <li>
          <strong data-i18n="mixed">Mixed</strong>: <span data-i18n="resist-death-mixed">Knocked out of the scene.</span>
        </li>
      </ul>
      <div class="defense" >
        <div class="header small box" data-i18n="defenses">Defenses</div>
        <fieldset class="repeating_defense">
          <span class="textplus">
            <input type="hidden" class="toggle" name="attr_defense-used" />
            <button type="action" name="act_toggle-defense-used" class="toggle square extra3">
              <span></span>
            </button>
            <input type="text" class="textplus" name="attr_defense" size="10"/>
          </span>
        </fieldset>
      </div>
    </div>
    <div class="sheet-abilities">
      <div class="ability">
        <input type="hidden" name="attr_core-ability-settings" class="toggle complex settings" value="show"/>
        <button type="action" name="act_toggle-core-ability-settings" class="toggle symbol settings ability-settings">
          <span>y</span>
        </button>
        <input type="hidden" name="attr_core-ability-marked" class="toggle"/>
        <button type="action" name="act_toggle-core-ability-marked" class="toggle diamond"></button>
        <span class="ability-name complex">
          <span data-i18n="core-ability">Core Ability</span>
          <input type="text" size="10" name="attr_core-ability-name"/>
        </span>
        <div class="auto-expand ability-desc complex"><span name="attr_core-ability-desc"></span>
          <textarea spellcheck="false" name="attr_core-ability-desc"></textarea>
        </div>
        <div class="ability-text simple">
          <span name="attr_core-ability-name" class="ability-text-name"></span>: <span name="attr_core-ability-desc"></span>
        </div>
      </div>
      <fieldset class="repeating_ability">
        <input type="hidden" name="attr_ability-settings" class="toggle complex settings" value="show"/>
        <button type="action" name="act_toggle-ability-settings" class="toggle symbol settings ability-settings">
          <span>y</span>
        </button>
        <input type="hidden" name="attr_ability-marked" class="toggle"/>
        <button type="action" name="act_toggle-ability-marked" class="toggle circle"></button>
        <span class="ability-name complex">
          <span data-i18n="ability">Ability</span>
          <input type="text" size="10" name="attr_ability-name"/>
        </span>
        <div class="auto-expand ability-desc complex"><span name="attr_ability-desc"></span>
          <textarea spellcheck="false" name="attr_ability-desc"></textarea>
        </div>
        <div class="ability-text simple">
          <span name="attr_ability-name" class="ability-text-name"></span>: <span name="attr_ability-desc"></span>
        </div>
      </fieldset>
      <div class="auto-expand"><span name="attr_flashback"></span>
        <textarea spellcheck="false" name="attr_flashback"></textarea>
      </div>
    </div>
    <div class="sheet-notes">
      <div class="header" data-i18n="notes">Notes</div>
      <div class="auto-expand"><span name="attr_notes"></span>
        <textarea spellcheck="false" name="attr_notes"></textarea>
      </div>
    </div>
  </div>
  <div class="sheet-middle column tab-wicked-one">
    <div class="sheet-actions">
      <div class="attribute">
        <div class="header">
          <input type="hidden" name="attr_brains-shock" class="toggle"/>
          <button type="action" name="act_toggle-brains-shock" class="toggle diamond"></button>
          <span data-i18n="brains">Brains</span> &nbsp;
          <span class="subheader" data-i18n="brains-desc">Smarts, Awareness, Insight</span>
        </div>
        <div class="header">
          <input type="hidden" name="attr_scan" value="0" class="action"/>
          <button type="action" name="act_scan1" class="practice square toggle action1"></button>
          <button type="action" name="act_scan2" class="square toggle action2"></button>
          <button type="action" name="act_scan3" class="square toggle action3"></button>
          <input type="hidden" name="attr_scan-roll"/>
          <button type="roll" class="text-button" name="roll_scan" value="&{template:basic} {{character=@{character_name}}} {{action=^{scan}}} @{scan-roll} @{dice-type}">
            <span data-i18n="scan">Scan</span>
          </button> &nbsp; <em class="normal" data-i18n="perceptively"> / perceptively</em>
        </div>
        <div class="header">
          <input type="hidden" name="attr_tinker" value="0" class="action"/>
          <button type="action" name="act_tinker1" class="practice square toggle action1"></button>
          <button type="action" name="act_tinker2" class="square toggle action2"></button>
          <button type="action" name="act_tinker3" class="square toggle action3"></button>
          <input type="hidden" name="attr_tinker-roll"/>
          <button type="roll" class="text-button" name="roll_tinker" value="&{template:basic} {{character=@{character_name}}} {{action=^{tinker}}} @{tinker-roll} @{dice-type}">
            <span data-i18n="tinker">Tinker</span>
          </button> &nbsp; <em class="normal" data-i18n="cleverly"> / cleverly</em>
        </div>
        <div class="header">
          <input type="hidden" name="attr_trick" value="0" class="action"/>
          <button type="action" name="act_trick1" class="practice square toggle action1"></button>
          <button type="action" name="act_trick2" class="square toggle action2"></button>
          <button type="action" name="act_trick3" class="square toggle action3"></button>
          <input type="hidden" name="attr_trick-roll"/>
          <button type="roll" class="text-button" name="roll_trick" value="&{template:basic} {{character=@{character_name}}} {{action=^{trick}}} @{trick-roll} @{dice-type}">
            <span data-i18n="trick">Trick</span>
          </button> &nbsp; <em class="normal" data-i18n="slyly"> / slyly</em>
        </div>
      </div>
      <div class="attribute">
        <div class="header">
          <input type="hidden" name="attr_muscles-shock" class="toggle"/>
          <button type="action" name="act_toggle-muscles-shock" class="toggle diamond"></button>
          <span data-i18n="muscles">Muscles</span> &nbsp;
          <span class="subheader" data-i18n="muscles-desc">Strength, Agility, Speed</span>
        </div>
        <div class="header">
          <input type="hidden" name="attr_finesse" value="0" class="action"/>
          <button type="action" name="act_finesse1" class="practice square toggle action1"></button>
          <button type="action" name="act_finesse2" class="square toggle action2"></button>
          <button type="action" name="act_finesse3" class="square toggle action3"></button>
          <input type="hidden" name="attr_finesse-roll"/>
          <button type="roll" class="text-button" name="roll_finesse" value="&{template:basic} {{character=@{character_name}}} {{action=^{finesse}}} @{finesse-roll} @{dice-type}">
            <span data-i18n="finesse">Finesse</span>
          </button> &nbsp; <em class="normal" data-i18n="precisely"> / precisely</em>
        </div>
        <div class="header">
          <input type="hidden" name="attr_skulk" value="0" class="action"/>
          <button type="action" name="act_skulk1" class="practice square toggle action1"></button>
          <button type="action" name="act_skulk2" class="square toggle action2"></button>
          <button type="action" name="act_skulk3" class="square toggle action3"></button>
          <input type="hidden" name="attr_skulk-roll"/>
          <button type="roll" class="text-button" name="roll_skulk" value="&{template:basic} {{character=@{character_name}}} {{action=^{skulk}}} @{skulk-roll} @{dice-type}">
            <span data-i18n="skulk">Skulk</span>
          </button> &nbsp; <em class="normal" data-i18n="sneakily"> / sneakily</em>
        </div>
        <div class="header">
          <input type="hidden" name="attr_smash" value="0" class="action"/>
          <button type="action" name="act_smash1" class="practice square toggle action1"></button>
          <button type="action" name="act_smash2" class="square toggle action2"></button>
          <button type="action" name="act_smash3" class="square toggle action3"></button>
          <input type="hidden" name="attr_smash-roll"/>
          <button type="roll" class="text-button" name="roll_smash" value="&{template:basic} {{character=@{character_name}}} {{action=^{smash}}} @{smash-roll} @{dice-type}">
            <span data-i18n="smash">Smash</span>
          </button> &nbsp; <em class="normal" data-i18n="powerfully"> / powerfully</em>
        </div>
      </div>
      <div class="attribute">
        <div class="header">
          <input type="hidden" name="attr_guts-shock" class="toggle"/>
          <button type="action" name="act_toggle-guts-shock" class="toggle diamond"></button>
          <span data-i18n="guts">Guts</span> &nbsp;
          <span class="subheader" data-i18n="guts-desc">Personality, Mettle, Magic</span>
        </div>
        <div class="header">
          <input type="hidden" name="attr_banter" value="0" class="action"/>
          <button type="action" name="act_banter1" class="practice square toggle action1"></button>
          <button type="action" name="act_banter2" class="square toggle action2"></button>
          <button type="action" name="act_banter3" class="square toggle action3"></button>
          <input type="hidden" name="attr_banter-roll"/>
          <button type="roll" class="text-button" name="roll_banter" value="&{template:basic} {{character=@{character_name}}} {{action=^{banter}}} @{banter-roll} @{dice-type}">
            <span data-i18n="banter">Banter</span>
          </button> &nbsp; <em class="normal" data-i18n="affably"> / affably</em>
        </div>
        <div class="header">
          <input type="hidden" name="attr_invoke" value="0" class="action"/>
          <button type="action" name="act_invoke1" class="practice square toggle action1"></button>
          <button type="action" name="act_invoke2" class="square toggle action2"></button>
          <button type="action" name="act_invoke3" class="square toggle action3"></button>
          <input type="hidden" name="attr_invoke-roll"/>
          <button type="roll" class="text-button" name="roll_invoke" value="&{template:basic} {{character=@{character_name}}} {{action=^{invoke}}} @{invoke-roll} @{dice-type}">
            <span data-i18n="invoke">Invoke</span>
          </button> &nbsp; <em class="normal" data-i18n="magically"> / magically</em>
        </div>
        <div class="header">
          <input type="hidden" name="attr_threaten" value="0" class="action"/>
          <button type="action" name="act_threaten1" class="practice square toggle action1"></button>
          <button type="action" name="act_threaten2" class="square toggle action2"></button>
          <button type="action" name="act_threaten3" class="square toggle action3"></button>
          <input type="hidden" name="attr_threaten-roll"/>
          <button type="roll" class="text-button" name="roll_threaten" value="&{template:basic} {{character=@{character_name}}} {{action=^{threaten}}} @{threaten-roll} @{dice-type}">
            <span data-i18n="threaten">Threaten</span>
          </button> &nbsp; <em class="normal" data-i18n="forcefully"> / forcefully</em>
        </div>
      </div>
      <div class="small header box split">
        <input type="hidden" name="attr_bloodied" class="toggle"/>
        <button type="action" name="act_toggle-bloodied" class="toggle diamond"></button>
        <span data-i18n="bloodied">Bloodied</span>
      </div>
      <div class="small header box split">
        <span data-i18n="dark-hearts">Dark Hearts</span>
        <input type="hidden" name="attr_dark-heart1" class="toggle"/>
        <button type="action" name="act_toggle-dark-heart1" class="toggle diamond"></button>
        <input type="hidden" name="attr_dark-heart2" class="toggle"/>
        <button type="action" name="act_toggle-dark-heart2" class="toggle diamond"></button>
      </div>
      <div>
        <ul>
          <li><strong data-i18n="assist">Assist</strong>: <span data-i18n="assist-desc">Give +Effect, but open to consequence.</span></li>
          <li><strong data-i18n="go-hard">Go Hard</strong>: <span data-i18n="go-hard-desc">Trade +Effect for &#8209;Position.</span></li>
          <li><strong data-i18n="team-up">Team Up</strong>: <span data-i18n="team-up-desc">Take the highest result, but each PC with a Mixed or Failure takes stress.</span></li>
          <li><strong data-i18n="dark-bargain">Dark Bargain</strong>: <span data-i18n="dark-bargain-desc">Trade +1D for a Consequence.</span></li>
          <li><strong data-i18n="dark-heart">Dark Heart</strong>: <span data-i18n="dark-heart-desc">Take +1D on a roll.</span></li>
        </ul>
      </div>
      <div>
        <hr/>
      </div>
      <div>
        <ul>
          <li><strong data-i18n="shock">Shock</strong>: <span data-i18n="shock-desc">Take &#8209;1D on next roll, then clears.</span></li>
          <li><strong data-i18n="bloodied">Bloodied</strong>: <span data-i18n="bloodied-desc">Take Shock to all Attributes, and clears when all Shock is clear.</span></li>
          <li><strong data-i18n="death-knell">Death Knell</strong>: <span data-i18n="death-knell-desc">Take a Final Action if you have a Dark Heart left when you die.</span></li>
          <li><strong data-i18n="go-feral">Go Feral</strong>: <span data-i18n="go-feral-desc">Immediately Compelled; Abilities used during this Action cost no Stress.</span></li>
        </ul>
      </div>
      <div class="sheet-fortune">
        <button type="roll" name="roll_fortune" class="text-button" value="&{template:basic} {{character=@{character_name}}} {{action=^{fortune-roll}}} @{fortune-roll} @{dice-type}">
          <span data-i18n="fortune-roll">Fortune Roll</span>
        </button>
      </div>
    </div>
    <div class="sheet-friend">
      <span data-i18n="vile-friend" class="header small box">Vile Friend</span>
      <input type="text" name="attr_friend" size="10"/>
    </div>
    <div class="sheet-raid">
      <div class="header small box">
        <span data-i18n="raid-plans">Raid Plans</span>
        <input type="hidden" class="toggle" name="attr_hide-raid" value="show"/>
        <button type="action" name="act_toggle-raid" class="toggle arrow">
          <span class="show">▼</span>
          <span class="hide">◄</span>
        </button>
      </div>
      <input type="hidden" class="hider" name="attr_hide-raid" value="show"/>
      <ul data-i18n-list="raid-list" class="hider">
        <li data-i18n-list-item="ambush"><strong data-i18n="ambush">Ambush</strong>: <span data-i18n="ambush-desc">Hit them when they least expect it, making sure they don't take any of you down.</span></li>
        <li data-i18n-list-item="assault"><strong data-i18n="assault">Assault</strong>: <span data-i18n="assault-desc">Bring full force to bear, driving off or killing all those who stand against you.</span></li>
        <li data-i18n-list-item="negotiation"><strong data-i18n="negotiation">Negotiation</strong>: <span data-i18n="negotiation-desc">Talk it out, tell lies, or offer something to get what you want, spilling as little blood as possible.</span></li>
        <li data-i18n-list-item="stealth"><strong data-i18n="stealth">Stealth</strong>: <span data-i18n="stealth-desc">Get in, get what you want, and get out as quietly, escaping notice as much as possible.</span></li>
        <li data-i18n-list-item="strike"><strong data-i18n="strike">Strike</strong>: <span data-i18n="strike-desc">Bust in, get what you want, and run out quickly, without deviating from your goal.</span></li>
        <li data-i18n-list-item="trickery"><strong data-i18n="trickery">Trickery</strong>: <span data-i18n="trickery-desc">Confuse, lure, or trick them into doing what you want, without them knowing why.</span></li>
      </ul>
    </div>
  </div>
  <div class="sheet-right column tab-wicked-one">
    <div class="sheet-minions">
      <div class="header">
        <span data-i18n="minion-pack" class="minion-pack-header">Minion Pack</span>
        <input type="hidden" name="attr_hide-minions" class="toggle hider" value="show"/>
        <button type="action" name="act_toggle-minions" class="toggle arrow">
          <span class="show">▼</span>
          <span class="hide">◄</span>
        </button>
        <span class="spacer"></span>
        <span class="normal hider minion-status">
          <span>
            <span data-i18n="bloodied">Bloodied</span>
            <input type="hidden" name="attr_minion-bloodied" class="toggle"/>
            <button type="action" name="act_toggle-minion-bloodied" class="toggle diamond"></button>
          </span>
          <span>
            <span data-i18n="morale">Morale</span>
            <input type="hidden" name="attr_morale" class="toggle"/>
            <button type="action" name="act_toggle-morale" class="toggle square"></button>
          </span>
        </span>
      </div>
      <input type="hidden" name="attr_hide-minions" class="hider" value="show"/>
      <div class="hider minion-pack">
        <span class="minion-countlabel" >#</span>
        <input type="text" name="attr_minion-count" class="minion-count" size="1"/>
        <span class="minion-racelabel" data-i18n="minion-race">Race</span>
        <input type="text" name="attr_minion-race" class="minion-race" size="10"/>
        <span class="minion-typelabel" data-i18n="minion-type">Type</span>
        <input type="text" name="attr_minion-type" class="minion-type" size="8"/>
        <div class="minion-actions">
          <span data-i18n="actions">Actions</span>
          <!-- <span>
            <input type="hidden" name="attr_minion-scan" value="0" class="action"/>
            <button type="action" name="act_minion-scan1" class="square toggle action1"></button>
            <button type="action" name="act_minion-scan2" class="square toggle action2"></button>
            <span data-i18n="scan">Scan</span>
          </span>
          <span>
            <input type="hidden" name="attr_minion-tinker" value="0" class="action"/>
            <button type="action" name="act_minion-tinker1" class="square toggle action1"></button>
            <button type="action" name="act_minion-tinker2" class="square toggle action2"></button>
            <span data-i18n="tinker">Tinker</span>
          </span>
          <span>
            <input type="hidden" name="attr_minion-trick" value="0" class="action"/>
            <button type="action" name="act_minion-trick1" class="square toggle action1"></button>
            <button type="action" name="act_minion-trick2" class="square toggle action2"></button>
            <span data-i18n="trick">Trick</span>
          </span>
          <span>
            <input type="hidden" name="attr_minion-finesse" value="0" class="action"/>
            <button type="action" name="act_minion-finesse1" class="square toggle action1"></button>
            <button type="action" name="act_minion-finesse2" class="square toggle action2"></button>
            <span data-i18n="finesse">Finesse</span>
          </span>
          <span>
            <input type="hidden" name="attr_minion-skulk" value="0" class="action"/>
            <button type="action" name="act_minion-skulk1" class="square toggle action1"></button>
            <button type="action" name="act_minion-skulk2" class="square toggle action2"></button>
            <span data-i18n="skulk">Skulk</span>
          </span>
          <span>
            <input type="hidden" name="attr_minion-smash" value="0" class="action"/>
            <button type="action" name="act_minion-smash1" class="square toggle action1"></button>
            <button type="action" name="act_minion-smash2" class="square toggle action2"></button>
            <span data-i18n="smash">Smash</span>
          </span>
          <span>
            <input type="hidden" name="attr_minion-banter" value="0" class="action"/>
            <button type="action" name="act_minion-banter1" class="square toggle action1"></button>
            <button type="action" name="act_minion-banter2" class="square toggle action2"></button>
            <span data-i18n="banter">Banter</span>
          </span>
          <span>
            <input type="hidden" name="attr_minion-invoke" value="0" class="action"/>
            <button type="action" name="act_minion-invoke1" class="square toggle action1"></button>
            <button type="action" name="act_minion-invoke2" class="square toggle action2"></button>
            <span data-i18n="invoke">Invoke</span>
          </span>
          <span>
            <input type="hidden" name="attr_minion-threaten" value="0" class="action"/>
            <button type="action" name="act_minion-threaten1" class="square toggle action1"></button>
            <button type="action" name="act_minion-threaten2" class="square toggle action2"></button>
            <span data-i18n="threaten">Threaten</span>
          </span> -->
          <fieldset class="repeating_minion-actions">
            <input type="hidden" name="attr_minion-action" value="0" class="action"/>
            <button type="action" name="act_minion-action1" class="square toggle action1"></button>
            <button type="action" name="act_minion-action2" class="square toggle action2"></button>
            <!-- <select name="attr_minion-action-name">
              <option value="Scan" data-i18n="scan">Scan</option>
              <option value="Tinker" data-i18n="tinker">Tinker</option>
              <option value="Trick" data-i18n="trick">Trick</option>
              <option value="Finesse" data-i18n="finesse">Finesse</option>
              <option value="Skulk" data-i18n="skulk">Skulk</option>
              <option value="Smash" data-i18n="smash">Smash</option>
              <option value="Banter" data-i18n="banter">Banter</option>
              <option value="Invoke" data-i18n="invoke">Invoke</option>
              <option value="Threaten" data-i18n="threaten">Threaten</option>
            </select> -->
            <span class="dropdown">
              <input type="hidden" name="attr_minion-action-roll"/>
              <input type="hidden" name="attr_minion-action-name"/>
              <button type="roll" class="text-button" name="roll_minion-action" value="&{template:basic} {{character=@{character_name}}} {{action=@{minion-count} @{minion-race} @{minion-type}}} {{subaction=^{@{minion-action-name}}}} @{minion-action-roll} @{dice-type}">
                <span name="attr_minion-action-name" data-i18n-dynamic></span>
              </button>
              <input type="hidden" name="attr_minion-action-drop" class="dropdown" value="up">
              <button type="action" class="toggle dropdown" name="act_toggle-minion-action-drop" >
                <span class="chevron bottom"></span>
                <!-- <span>▼</span> -->
                <!-- <span>˅</span> -->
              </button>
              <div class="dropdown">
                <button type="action" class="text-button" name="act_minion-action-scan"> <span data-i18n="scan">Scan</span></button>
                <button type="action" class="text-button" name="act_minion-action-tinker"> <span data-i18n="tinker">Tinker</span></button>
                <button type="action" class="text-button" name="act_minion-action-trick"> <span data-i18n="trick">Trick</span></button>
                <button type="action" class="text-button" name="act_minion-action-finesse"> <span data-i18n="finesse">Finesse</span></button>
                <button type="action" class="text-button" name="act_minion-action-skulk"> <span data-i18n="skulk">Skulk</span></button>
                <button type="action" class="text-button" name="act_minion-action-smash"> <span data-i18n="smash">Smash</span></button>
                <button type="action" class="text-button" name="act_minion-action-banter"> <span data-i18n="banter">Banter</span></button>
                <button type="action" class="text-button" name="act_minion-action-invoke"> <span data-i18n="invoke">Invoke</span></button>
                <button type="action" class="text-button" name="act_minion-action-threaten"> <span data-i18n="threaten">Threaten</span></button>
              </div>
            </span>
          </fieldset>
        </div>
        <div class="minion-upgrades" data-i18n-list="minion-upgrade-list">
          <span><span data-i18n="upgrades">Upgrades</span> <span data-i18n="upgrades-cost">(1 Gold each)</span></span>
          <span data-i18n-list-item="adept">
            <input type="hidden" name="attr_adept" type="toggle"/>
            <button type="action" name="act_toggle-adept" class="toggle circle"></button>
            <span data-i18n="adept">Adept</span>
            <input type="hidden" name="attr_adept-used" type="toggle"/>
            <button type="action" name="act_toggle-adept-used" class="toggle square"></button>
          </span>
          <span data-i18n-list-item="companion">
            <input type="hidden" name="attr_companion" type="toggle"/>
            <button type="action" name="act_toggle-companion" class="toggle circle"></button>
            <span data-i18n="companion">Companion</span>
          </span>
          <span data-i18n-list-item="equipped" class="textplus">
            <input type="hidden" name="attr_equipped" type="toggle"/>
            <button type="action" name="act_toggle-equipped" class="toggle circle"></button>
            <span data-i18n="equipped">Equipped</span>
            <input type="text" name="attr_equipped-detail" size="10" class="textplus"/>
            <input type="hidden" name="attr_equipped-used" type="toggle"/>
            <button type="action" name="act_toggle-equipped-used" class="toggle square"></button>
          </span>
          <span data-i18n-list-item="expendable">
            <input type="hidden" name="attr_expendable" type="toggle"/>
            <button type="action" name="act_toggle-expendable" class="toggle circle"></button>
            <span data-i18n="expendable">Expendable</span>
          </span>
          <span data-i18n-list-item="fluent">
            <input type="hidden" name="attr_fluent" type="toggle"/>
            <button type="action" name="act_toggle-fluent" class="toggle circle"></button>
            <span data-i18n="fluent">Fluent</span>
          </span>
          <span data-i18n-list-item="mindset" class="textplus">
            <input type="hidden" name="attr_mindset" type="toggle"/>
            <button type="action" name="act_toggle-mindset" class="toggle circle"></button>
            <span data-i18n="mindset">Mindset</span>
            <input type="text" name="attr_mindset-detail" size="10" class="textplus"/>
          </span>
          <span data-i18n-list-item="strapped">
            <input type="hidden" name="attr_strapped" type="toggle"/>
            <button type="action" name="act_toggle-strapped" class="toggle circle"></button>
            <span data-i18n="strapped">Strapped</span>
            <input type="hidden" name="attr_strapped-used" type="toggle"/>
            <button type="action" name="act_toggle-strapped-used" class="toggle square"></button>
          </span>
          <span data-i18n-list-item="trained" class="textplus">
            <input type="hidden" name="attr_trained" type="toggle"/>
            <button type="action" name="act_toggle-trained" class="toggle circle"></button>
            <span data-i18n="trained">Trained</span>
            <input type="text" name="attr_trained-detail" size="10" class="textplus"/>
          </span>
          <span data-i18n-list-item="versatile">
            <input type="hidden" name="attr_versatile" type="toggle"/>
            <button type="action" name="act_toggle-versatile" class="toggle circle"></button>
            <span data-i18n="versatile">Versatile</span>
          </span>
        </div>
        <div class="minion-impulse">
          <span class="minion-impulse">
            <strong data-i18n="dark-impulse">Dark Impulse</strong>
            <input type="text" name="attr_minion-impulse" size="10"/>
          </span>
          <span data-i18n-list="minion-impulse-list" class="suggestions">
            <input type="hidden" name="attr_minion-impulse" class="suggested" value=""/>
            <button type="action" name="act_minion-impulse-addicted" class="suggestion" data-i18n="addicted" data-i18n-list-item="addicted">Addicted</button>
            <button type="action" name="act_minion-impulse-aggressive" class="suggestion" data-i18n="aggressive" data-i18n-list-item="aggressive">Aggressive</button>
            <button type="action" name="act_minion-impulse-disloyal" class="suggestion" data-i18n="disloyal" data-i18n-list-item="disloyal">Disloyal</button>
            <button type="action" name="act_minion-impulse-greedy" class="suggestion" data-i18n="greedy" data-i18n-list-item="greedy">Greedy</button>
            <button type="action" name="act_minion-impulse-impatient" class="suggestion" data-i18n="impatient" data-i18n-list-item="impatient">Impatient</button>
            <button type="action" name="act_minion-impulse-lazy" class="suggestion" data-i18n="lazy" data-i18n-list-item="lazy">Lazy</button>
            <button type="action" name="act_minion-impulse-moody" class="suggestion" data-i18n="moody" data-i18n-list-item="moody">Moody</button>
            <button type="action" name="act_minion-impulse-superstitious" class="suggestion" data-i18n="superstitious" data-i18n-list-item="superstitious">Superstitious</button>
          </span> 
        </div>
        <div class="auto-expand minion-notes"><span name="attr_notes"></span>
          <textarea spellcheck="false" name="attr_notes"></textarea>
        </div>
      </div>
    </div>
    <div class="sheet-duties">
      <div class="header small box"> 
        <span data-i18n="dungeon-duties">Dungeon Duties</span>
        <input type="hidden" class="toggle" name="attr_hide-duties" value="show"/>
        <button type="action" name="act_toggle-duties" class="toggle arrow">
          <span class="show">▼</span>
          <span class="hide">◄</span>
        </button>
      </div>
      <input type="hidden" class="hider" name="attr_hide-duties"/>
      <div class="hider">
        <div class="duties-header">
          <div data-i18n="tier">Tier</div>
          <div data-i18n="type">Type</div>
          <div data-i18n="description">Description</div>
        </div>
        <fieldset class="repeating_duties">
          <input type="text" name="attr_duty-tier" class="duty-tier"/>
          <input type="text" name="attr_duty-type"/>
          <div class="auto-expand"><span name="attr_duty-desc"></span>
            <textarea spellcheck="false" name="attr_duty-desc"></textarea>
          </div>
          <input type="hidden" name="attr_duty-roll"/>
          <button type="roll" name="roll_duty" class="text-button" value="&{template:basic} {{character=@{character_name}}} {{action=^{tier} @{duty-tier} - @{duty-type}}} {{subaction=@{duty-desc}}} @{duty-roll} @{dice-type}">
            <span>Roll</span>
          </button>
        </fieldset>
      </div>
    </div>
    <div class="sheet-downtime clocks">
      <div class="header small box">
        <span data-i18n="downtime-projects">Downtime Projects</span>
        <input type="hidden" class="toggle arrow" name="attr_hide-downtime-list" value="show"/>
        <button type="action" name="act_toggle-downtime-list" class="toggle arrow">
          <span class="show">▼</span>
          <span class="hide">◄</span>
        </button>
      </div>
      <input type="hidden" name="attr_hide-downtime-list" class="hider"/>
      <div class="hider">
        <ul data-i18n-list="projects-list">
          <li data-i18n="brew-project" data-i18n-list-item="brew"><strong>Brew</strong> Potions and Alchemicals</li>
          <li data-i18n="build-project" data-i18n-list-item="build"><strong>Build</strong> Locks, Traps, Tricks, and Rooms.</li>
          <li data-i18n="contact-project" data-i18n-list-item="contact"><strong>Contact</strong> Vile Friends, NPCs, or Factions.</li>
          <li data-i18n="craft-project" data-i18n-list-item="craft"><strong>Craft</strong> an Item, Edge, or Contraption</li>
          <li data-i18n="incant-project" data-i18n-list-item="incant"><strong>Incant</strong> a Ritual.</li>
          <li data-i18n="recruit-project" data-i18n-list-item="recruit"><strong>Recruit</strong> a Pack of Minions</li>
          <li data-i18n="torture-project" data-i18n-list-item="torture"><strong>Torture</strong> a Prisoner</li>
        </ul>
      </div>
      <fieldset class="repeating_projects grid">
        <div>
          <input class="size" type="hidden" name="attr_size" value=""/>
          <div class="size-choice">
            <label class="text-button clock-label">
              <input type="radio" name="attr_size" value="4"/><span>4</span>
            </label>
            <label class="text-button clock-label">
              <input type="radio" name="attr_size" value="6"/><span>6</span>
            </label>
            <label class="text-button clock-label">
              <input type="radio" name="attr_size" value="8"/><span>8</span>
            </label>
            <!--
            <label class="text-button clock-label">
              <input type="radio" name="attr_size" value="10"/><span>10</span>
            </label>
            <label class="text-button clock-label">
              <input type="radio" name="attr_size" value="12"/><span>12</span>
            </label>
            -->
          </div>
          <div class="clock-container">
            <button class="zero" type="action" name="act_project-clock0"></button>
            <input class="size" type="hidden" name="attr_size" value="6"/>
            <input type="hidden" name="attr_project-clock" class="clock"/>
            <div class="clock">
              <button class="segment 1" type="action" name="act_project-clock1"></button>
              <button class="segment 2" type="action" name="act_project-clock2"></button>
              <button class="segment 3" type="action" name="act_project-clock3"></button>
              <button class="segment 4" type="action" name="act_project-clock4"></button>
              <button class="segment 5" type="action" name="act_project-clock5"></button>
              <button class="segment 6" type="action" name="act_project-clock6"></button>
              <button class="segment 7" type="action" name="act_project-clock7"></button>
              <button class="segment 8" type="action" name="act_project-clock8"></button>
            </div>
          </div>
        </div>
        <div class="auto-expand"><span name="attr_project"></span>
          <textarea spellcheck="false" name="attr_project" data-i18n-placeholder="project" placeholder="Project"></textarea>
        </div>
      </fieldset>
      <div>
        <ul>
          <li data-i18n="risk-it-downtime"><strong>Risk it:</strong> Re-roll a Downtime Action but lose its Dominant Position.</li>
        </ul>
      </div>
    </div>
    <div class="sheet-gold">
      <div class="header small box">
        <span data-i18n="gold">Gold</span>
        <input type="hidden" class="toggle complex settings" name="attr_gold-settings"/>
        <button type="action" name="act_toggle-gold-settings" class="toggle symbol settings">
          <span>y</span>
        </button>
        <span class="complex normal" data-i18n="slots"> Slots</span>
        <input type="number" name="attr_gold-slots" min="2" max="5" class="complex" />
        <input type="hidden" name="attr_gold-slots" class="extra"/>
        <span class="spacer"></span>
        <input type="hidden" class="toggle" name="attr_gold1" />
        <button type="action" name="act_toggle-gold1" class="toggle square extra1">
          <span></span>
        </button>
        <input type="hidden" class="toggle" name="attr_gold2" />
        <button type="action" name="act_toggle-gold2" class="toggle square extra2">
          <span></span>
        </button>
        <input type="hidden" class="toggle" name="attr_gold3" />
        <button type="action" name="act_toggle-gold3" class="toggle square extra3">
          <span></span>
        </button>
        <input type="hidden" class="toggle" name="attr_gold4" />
        <button type="action" name="act_toggle-gold4" class="toggle square extra4">
          <span></span>
        </button>
        <input type="hidden" class="toggle" name="attr_gold5" />
        <button type="action" name="act_toggle-gold5" class="toggle square extra5">
          <span></span>
        </button>
      </div>
      <div>
        <ul>
          <li class="no-bullets"><strong data-i18n="pay-gold">You can pay gold to:</strong></li>
          <li data-i18n="attract-a-creature">Attract a Creature</li>
          <li data-i18n="get-help">Get help from your Vile Friend</li>
          <li data-i18n="minion-downtime">Get a Minion Downtime Action</li>
          <li data-i18n="minion-raid">Get Minions to join a Raid</li>
          <li data-i18n="recruit-minion">Recruit a Minion</li>
          <li data-i18n="upgrade-minion">Upgrade a Minion</li>
        </ul>
      </div>
      <div class="loot">
        <ul class="no-bullets">
          <li class="subheader">
            <input type="hidden" name="attr_loot-roll"/>
            <button type="roll" name="roll_loot" class="text-button" value="&{template:basic} {{character=@{character_name}}} {{action=^{loot-roll}}} @{loot-roll} @{dice-type}">
              <span data-i18n="loot-rolls">Loot Rolls</span>
            </button>
          </li>
          <li>
            <strong data-i18n="failure">Failure</strong>: <span data-i18n="loot-failure">Dark Heart, but risk Overdoing It</span>
          </li>
          <li>
            <strong data-i18n="mixed">Mixed</strong>: <span data-i18n="loot-mixed">1 Gold</span>
          </li>
          <li>
            <strong data-i18n="success">Success</strong>: <span data-i18n="loot-success">Valuable Item</span>
          </li>
          <li>
            <span data-i18n="loot-critical">Combine 2 Successes for a Powerful Item (GM decides the Item)</span>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="sheet-xp tab-wicked-one">
    <div class="wicked">
      <div class="header small box">
        <span data-i18n="wicked-xp" class="nowrap">Wicked XP</span>
        <span class="spacer"></span>
        <input type="hidden" name="attr_wicked1" class="toggle"/>
        <button type="action" name="act_toggle-wicked1" class="toggle tall"></button>
        <input type="hidden" name="attr_wicked2" class="toggle"/>
        <button type="action" name="act_toggle-wicked2" class="toggle tall"></button>
        <input type="hidden" name="attr_wicked3" class="toggle"/>
        <button type="action" name="act_toggle-wicked3" class="toggle tall"></button>
        <input type="hidden" name="attr_wicked4" class="toggle"/>
        <button type="action" name="act_toggle-wicked4" class="toggle tall"></button>
        <input type="hidden" name="attr_wicked5" class="toggle"/>
        <button type="action" name="act_toggle-wicked5" class="toggle tall"></button>
        <input type="hidden" name="attr_wicked6" class="toggle"/>
        <button type="action" name="act_toggle-wicked6" class="toggle tall"></button>
        <input type="hidden" name="attr_wicked7" class="toggle"/>
        <button type="action" name="act_toggle-wicked7" class="toggle tall"></button>
        <input type="hidden" name="attr_wicked8" class="toggle"/>
        <button type="action" name="act_toggle-wicked8" class="toggle tall"></button>
        <input type="hidden" name="attr_wicked9" class="toggle"/>
        <button type="action" name="act_toggle-wicked9" class="toggle tall"></button>
      </div>
      <div data-i18n="wicked-xp-desc">Take an Ability when full. Mark 1 XP for each you did this session:</div>
      <ul>
        <li data-i18n="wicked-trigger-1">You made progress on you Master Plan.</li>
        <li data-i18n="wicked-trigger-2">You jumped into someone else's dungeon scene.</li>
        <li data-i18n="wicked-trigger-3">You acted like a monster.</li>
        <li data-i18n="wicked-trigger-4">You used your Gear or Supply in creative ways.</li>
      </ul>
    </div>
    <div>
      <div class="header small box">
        <span data-i18n="reckless-xp">Reckless XP</span>
        <span class="spacer"></span>
        <input type="hidden" name="attr_reckless1" class="toggle"/>
        <button type="action" name="act_toggle-reckless1" class="toggle tall"></button>
        <input type="hidden" name="attr_reckless2" class="toggle"/>
        <button type="action" name="act_toggle-reckless2" class="toggle tall"></button>
        <input type="hidden" name="attr_reckless3" class="toggle"/>
        <button type="action" name="act_toggle-reckless3" class="toggle tall"></button>
      </div>
      <div data-i18n="reckless-xp-desc">Take an Action dot when full.<br/>
        Mark 1 XP if you played into being Bloodied or Going Feral this session.</div>
    </div>
    <div class="light-words">
      <div class="header" data-i18n="light-tongue-words">Light Tongue Words</div>
      <span data-i18n="you">You</span>
      <span data-i18n="me">Me</span>
      <span data-i18n="us">Us</span>
      <span data-i18n="it">It</span>
      <span data-i18n="one">One</span>
      <span data-i18n="two">Two</span>
      <span data-i18n="three">Three</span>
      <span data-i18n="more">More</span>
      <span data-i18n="yes">Yes</span>
      <span data-i18n="no">No</span>
      <span data-i18n="maybe">Maybe</span>
      <span data-i18n="now">Now</span>
      <span data-i18n="go">Go</span>
      <span data-i18n="do">Do</span>
      <span data-i18n="stop">Stop</span>
      <span data-i18n="kill">Kill</span>
      <span data-i18n="eat">Eat</span>
      <span data-i18n="give">Give</span>
      <span data-i18n="get">Get</span>
      <span data-i18n="gold">Gold</span>
    </div>
  </div>
  <div class="sheet-rooms tab-dungeon">
    <div class="ability">
      <input type="hidden" name="attr_core-ability-settings" class="toggle complex settings" value="show"/>
      <button type="action" name="act_toggle-core-ability-settings" class="toggle symbol settings ability-settings">
        <span>y</span>
      </button>
      <input type="hidden" name="attr_core-ability-marked" class="toggle"/>
      <button type="action" name="act_toggle-core-ability-marked" class="toggle diamond"></button>
      <span class="ability-name complex">
        <span data-i18n="core-ability">Core Ability</span>
        <input type="text" size="10" name="attr_core-ability-name"/>
      </span>
      <div class="auto-expand ability-desc complex"><span name="attr_core-ability-desc"></span>
        <textarea spellcheck="false" name="attr_core-ability-desc"></textarea>
      </div>
      <div class="ability-text simple">
        <span name="attr_core-ability-name" class="ability-text-name"></span>: <span name="attr_core-ability-desc"></span>
      </div>
    </div>
    <fieldset class="repeating_ability">
      <input type="hidden" name="attr_ability-settings" class="toggle complex settings" value="show"/>
      <button type="action" name="act_toggle-ability-settings" class="toggle symbol settings ability-settings">
        <span>y</span>
      </button>
      <input type="hidden" name="attr_ability-marked" class="toggle"/>
      <button type="action" name="act_toggle-ability-marked" class="toggle circle"></button>
      <span class="ability-name complex">
        <span data-i18n="ability">Ability</span>
        <input type="text" size="10" name="attr_ability-name"/>
      </span>
      <div class="auto-expand ability-desc complex"><span name="attr_ability-desc"></span>
        <textarea spellcheck="false" name="attr_ability-desc"></textarea>
      </div>
      <div class="ability-text simple">
        <span name="attr_ability-name" class="ability-text-name"></span>: <span name="attr_ability-desc"></span>
      </div>
    </fieldset>
  </div>
  <div class="sheet-left column tab-dungeon">
    <div class="sheet-details">
      <div class="labeled-line name">
        <span data-i18n="dungeon-name" class="namelabel">Dungeon Name</span>
        <input type="text" name="attr_character_name" class="name" size="12"/>
      </div>
      <div class="tier tooltipper">
        <div class="header">
          <button type="roll" class="text-button" name="roll_tier" value="&{template:basic} {{character=@{character_name}}} {{action=^{tier}}} @{tier-roll} @{dice-type}">
            <span data-i18n="tier">Tier</span>
          </button>
          <span class="normal">0</span>
          <span class="normal">1</span>
          <span class="normal">2</span>
          <span class="normal">3</span>
          <span class="normal">4</span>
          <input type="hidden" name="attr_tier" value="0" class="action"/>
          <button type="action" name="act_tier0" class="square toggle action0"></button>
          <button type="action" name="act_tier1" class="square toggle action1"></button>
          <button type="action" name="act_tier2" class="square toggle action2"></button>
          <button type="action" name="act_tier3" class="square toggle action3"></button>
          <button type="action" name="act_tier4" class="square toggle action4"></button>
          <input type="hidden" name="attr_tier-roll"/>
        </div>
        <div data-i18n="tier-up" class="tooltip">
          When you gain a Tier, add a Creature Lair and the GM rolls a Discovery.
        </div>
      </div>
      <div class="labeled-line">
        <span data-i18n="imps" class="impslabel">Imps</span>
        <input type="text" name="attr_imps" class="imps" size="12"/>
      </div>
      <div class="labeled-line">
        <span data-i18n="entrance" class="entrancelabel">Entrance</span>
        <input type="text" name="attr_entrance" class="entrance" size="12"/>
      </div>
      <div class="labeled-line">
        <span data-i18n="structure" class="structurelabel">Structure</span>
        <input type="text" name="attr_structure" class="structure" size="12"/>
      </div>
      <div class="labeled-line">
        <span data-i18n="lighting" class="lightinglabel">Lighting</span>
        <input type="text" name="attr_lighting" class="lighting" size="12"/>
      </div>
      <div class="labeled-line">
        <span data-i18n="atmospherics" class="atmosphericslabel">Atmospherics</span>
        <input type="text" name="attr_atmospherics" class="atmospherics" size="12"/>
      </div>
      <div class="labeled-line">
        <span data-i18n="hoard" class="hoardlabel">Hoard</span>
        <input type="text" name="attr_hoard" class="hoard" size="12"/>
      </div>
    </div>
    <div class="master-plan">
      <div class="header" data-i18n="master-plan">
        Master Plan
      </div>
      <div class="labeled-line">
        <span data-i18n="step1">Step 1</span>
        <span class="textplus">
          <input type="hidden" name="attr_done-step1" class="toggle"/>
          <button type="action" name="act_toggle-done-step1" class="square toggle"></button>
          <input type="text" name="attr_step1" class="textplus"/>
        </span>
      </div>
      <div class="labeled-line">
        <span data-i18n="step2">Step 2</span>
        <span class="textplus">
          <input type="hidden" name="attr_done-step2" class="toggle"/>
          <button type="action" name="act_toggle-done-step2" class="square toggle"></button>
          <input type="text" name="attr_step2" class="textplus"/>
        </span>
      </div>
      <div class="labeled-line">
        <span data-i18n="step3">Step 3</span>
        <span class="textplus">
          <input type="hidden" name="attr_done-step3" class="toggle"/>
          <button type="action" name="act_toggle-done-step3" class="square toggle"></button>
          <input type="text" name="attr_step3" class="textplus"/>
        </span>
      </div>
      <div class="labeled-line">
        <span data-i18n="step4">Step 4</span>
        <span class="textplus">
          <input type="hidden" name="attr_done-step4" class="toggle"/>
          <button type="action" name="act_toggle-done-step4" class="square toggle"></button>
          <input type="text" name="attr_step4" class="textplus"/>
        </span>
      </div>
      <div class="labeled-line">
        <span data-i18n="step5">Step 5</span>
        <span class="textplus">
          <input type="hidden" name="attr_done-step5" class="toggle"/>
          <button type="action" name="act_toggle-done-step5" class="square toggle"></button>
          <input type="text" name="attr_step5" class="textplus"/>
        </span>
      </div>
      <div class="labeled-line">
        <span data-i18n="final-goal">Final Goal</span>
        <span class="textplus">
          <input type="hidden" name="attr_done-final-goal" class="toggle"/>
          <button type="action" name="act_toggle-done-final-goal" class="square toggle"></button>
          <input type="text" name="attr_final-goal" class="textplus"/>
        </span>
      </div>
    </div>
    <div class="sheet-notes">
      <div class="header" data-i18n="notes">Notes</div>
      <div class="auto-expand"><span name="attr_notes"></span>
        <textarea spellcheck="false" name="attr_notes"></textarea>
      </div>
    </div>
  </div>
  <div class="sheet-notes tab-gm">
    <div class="header small" data-i18n="notes">Notes</div>
    <div class="auto-expand"><span name="attr_notes"></span>
      <textarea spellcheck="false" name="attr_notes"></textarea>
    </div>
  </div>
  <div class="players tab-gm">
    <fieldset class="repeating_players">
      <div class="labeled-line 2col">
        <span data-i18n="player">Player</span>
        <input type="text" name="attr_player_name" size="8"/>
      </div>
      <div class="labeled-line 2col">
        <span data-i18n="character">Character</span>
        <input type="text" name="attr_player_character" size="8"/>
      </div>
      <div class="labeled-line">
        <span data-i18n="dark-impulse">Dark Impulse</span>
        <input type="text" name="attr_player_impulse" size="8"/>
      </div>
      <div class="labeled-line">
        <span data-i18n="revelry">Revelry</span>
        <input type="text" name="attr_player_revelry" size="8"/>
      </div>
    </fieldset>
  </div>
  <div class="gm-clocks tab-gm clocks">
    <div class="header box small">
      <span data-i18n="clocks">Clocks</span>
      <span  class="subheader">
        <span data-i18n="clock-reminder-success">Failure: 0; Mixed: 1; Success: 2; Critical: 3+;</span>
        <span class="spacer"></span>
        <span data-i18n="clock-reminder-effect">Strong: +1; Weak: -1</span>
      </span>
    </div>
    <fieldset class="repeating_gm-clocks grid">
      <div>
        <input class="size" type="hidden" name="attr_size" value=""/>
        <div class="size-choice">
          <label class="text-button clock-label">
            <input type="radio" name="attr_size" value="4"/><span>4</span>
          </label>
          <label class="text-button clock-label">
            <input type="radio" name="attr_size" value="6"/><span>6</span>
          </label>
          <label class="text-button clock-label">
            <input type="radio" name="attr_size" value="8"/><span>8</span>
          </label>
          <!--
          <label class="text-button clock-label">
            <input type="radio" name="attr_size" value="10"/><span>10</span>
          </label>
          <label class="text-button clock-label">
            <input type="radio" name="attr_size" value="12"/><span>12</span>
          </label>
          -->
        </div>
        <div class="clock-container">
          <button class="zero" type="action" name="act_gm-clock0"></button>
          <input class="size" type="hidden" name="attr_size" value="6"/>
          <input type="hidden" name="attr_gm-clock" class="clock"/>
          <div class="clock">
            <button class="segment 1" type="action" name="act_gm-clock1"></button>
            <button class="segment 2" type="action" name="act_gm-clock2"></button>
            <button class="segment 3" type="action" name="act_gm-clock3"></button>
            <button class="segment 4" type="action" name="act_gm-clock4"></button>
            <button class="segment 5" type="action" name="act_gm-clock5"></button>
            <button class="segment 6" type="action" name="act_gm-clock6"></button>
            <button class="segment 7" type="action" name="act_gm-clock7"></button>
            <button class="segment 8" type="action" name="act_gm-clock8"></button>
          </div>
        </div>
      </div>
      <div class="auto-expand"><span name="attr_gm-clock-desc"></span>
        <textarea spellcheck="false" name="attr_gm-clock-desc" data-i18n-placeholder="clock" placeholder="Clock"></textarea>
      </div>
    </fieldset>
  </div>
  <div class="invasions tab-gm">
    <div class="header box small">
      <span data-i18n="major-invasions">Major Invasions</span>
    </div>
    <div data-i18n="invasions-reminder" class="invasion-reminder">Mark down the number of Adventurers by Tier. 
      Each Major Invasion is tougher than the last.</div>
    <div class="table-header invasions-header">
      <span data-i18n="tier" class="header small box">Tier</span>
      <span data-i18n="invasion-number" class="header small box">Inv #</span>
      <span>0</span>
      <span>1</span>
      <span>2</span>
      <span>3</span>
      <span>4</span>
      <span data-i18n="hirelings">Hirelings</span>
    </div>
    <fieldset class="repeating_invasions table">
      <span>
        <span></span>
      </span>
      <input type="text" name="attr_invasion0" size="1"/>
      <input type="text" name="attr_invasion1" size="1"/>
      <input type="text" name="attr_invasion2" size="1"/>
      <input type="text" name="attr_invasion3" size="1"/>
      <input type="text" name="attr_invasion4" size="1"/>
      <input type="text" name="attr_invasion-hire" size="1"/>
    </fieldset>
  </div>
  <div class="adventurers tab-gm">
    <div class="header box small" data-i18n="adventurers">Adventurers</div>
    <div class="adventurers-header">
      <span>Class, Passive, Traits, & Motivation</span>
      <span>Tier</span>
      <span>Health</span>
      <span>Moves</span>
    </div>
    <fieldset class="repeating_adventurers ">
      <input type="hidden" name="attr_adventurer-name"/>
      <div class="auto-expand"><span name="attr_adventurer-desc"></span>
        <textarea spellcheck="false" name="attr_adventurer-desc"></textarea>
      </div>
      <input type="hidden" name="attr_adventurer-edit-tier" class="toggle complex settings" value="show"/>
      <input type="number" name="attr_adventurer-tier" min="0" max="4" class="complex"/>
      <button type="action" class="simple text-button" name="act_adv-edit-tier">
        <span name="attr_adventurer-tier"></span>
      </button>
      <div class="hearts">
        <input type="hidden" name="attr_adventurer-health" class="health"/>
        <input type="hidden" name="attr_adventurer-health_max" class="health-max"/>
        <button type="action" name="act_adventurer-health1" class="health health1">
          <input type="hidden" name="attr_adventurer-heart1" value="full" class="heart"/>
          <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Wicked%20Ones/assets/wo_icons/adv-heart-full.svg" class="full heart"/>
          <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Wicked%20Ones/assets/wo_icons/adv-heart-slashed.svg" class="slashed heart"/>
          <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Wicked%20Ones/assets/wo_icons/adv-heart-double-slashed.svg" class="double heart"/>
        </button>
        <button type="action" name="act_adventurer-health2" class="health health2">
          <input type="hidden" name="attr_adventurer-heart2" value="full" class="heart"/>
          <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Wicked%20Ones/assets/wo_icons/adv-heart-full.svg" class="full heart"/>
          <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Wicked%20Ones/assets/wo_icons/adv-heart-slashed.svg" class="slashed heart"/>
          <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Wicked%20Ones/assets/wo_icons/adv-heart-double-slashed.svg" class="double heart"/>
        </button>
        <button type="action" name="act_adventurer-health3" class="health health3">
          <input type="hidden" name="attr_adventurer-heart3" value="full" class="heart"/>
          <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Wicked%20Ones/assets/wo_icons/adv-heart-full.svg" class="full heart"/>
          <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Wicked%20Ones/assets/wo_icons/adv-heart-slashed.svg" class="slashed heart"/>
          <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Wicked%20Ones/assets/wo_icons/adv-heart-double-slashed.svg" class="double heart"/>
        </button>
        <button type="action" name="act_adventurer-health4" class="health health4">
          <input type="hidden" name="attr_adventurer-heart4" value="full" class="heart"/>
          <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Wicked%20Ones/assets/wo_icons/adv-heart-full.svg" class="full heart"/>
          <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Wicked%20Ones/assets/wo_icons/adv-heart-slashed.svg" class="slashed heart"/>
          <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Wicked%20Ones/assets/wo_icons/adv-heart-double-slashed.svg" class="double heart"/>
        </button>
        <button type="action" name="act_adventurer-health5" class="health health5">
          <input type="hidden" name="attr_adventurer-heart5" value="full" class="heart"/>
          <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Wicked%20Ones/assets/wo_icons/adv-heart-full.svg" class="full heart"/>
          <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Wicked%20Ones/assets/wo_icons/adv-heart-slashed.svg" class="slashed heart"/>
          <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Wicked%20Ones/assets/wo_icons/adv-heart-double-slashed.svg" class="double heart"/>
        </button>
      </div>
      <div class="moves">
        <input type="hidden" class="toggle" name="attr_adventurer-move1" />
        <button type="action" name="act_toggle-adventurer-move1" class="toggle square">
          <span></span>
        </button>
        <input type="hidden" class="toggle" name="attr_adventurer-move2" />
        <button type="action" name="act_toggle-adventurer-move2" class="toggle square">
          <span></span>
        </button>
        <input type="hidden" class="toggle" name="attr_adventurer-move3" />
        <button type="action" name="act_toggle-adventurer-move3" class="toggle square">
          <span></span>
        </button>
        <input type="hidden" name="attr_adventurer-tier-roll"/>
        <button type="roll" class="symbol-three text-button" name="roll_defensive_move" value="&{template:basic} {{character=@{adventurer-name}}} {{action=^{defensive-move}}} @{adventurer-tier-roll} @{dice-type}">
          <span>b</span>
        </button>
      </div>
    </fieldset>
  </div>
  <div class="gm-reminders tab-gm">
    <div>
      <div class="header box small" data-i18n="blowback">Blowback</div> 
      <div class="reminder-checks">
        <div>
          <span data-i18n="minor">Minor</span>
          <input type="hidden" class="toggle" name="attr_minor-blowback1" />
          <button type="action" name="act_toggle-minor-blowback1" class="toggle square">
            <span></span>
          </button>
          <input type="hidden" class="toggle" name="attr_minor-blowback2" />
          <button type="action" name="act_toggle-minor-blowback2" class="toggle square">
            <span></span>
          </button>
          <input type="hidden" class="toggle" name="attr_minor-blowback3" />
          <button type="action" name="act_toggle-minor-blowback3" class="toggle square">
            <span></span>
          </button>
        </div>
        <div>
          <span data-i18n="major">Major</span>
          <input type="hidden" class="toggle" name="attr_major-blowback1" />
          <button type="action" name="act_toggle-major-blowback1" class="toggle square">
            <span></span>
          </button>
          <input type="hidden" class="toggle" name="attr_major-blowback2" />
          <button type="action" name="act_toggle-major-blowback2" class="toggle square">
            <span></span>
          </button>
          <input type="hidden" class="toggle" name="attr_major-blowback3" />
          <button type="action" name="act_toggle-major-blowback3" class="toggle square">
            <span></span>
          </button>
        </div>
      </div>
    </div>
    <div>
      <div class="header box small" data-i18n="calamity">Calamity</div> 
      <div class="reminder-checks">
        <div>
          <span data-i18n="minor">Minor</span>
          <input type="hidden" class="toggle" name="attr_minor-calamity1" />
          <button type="action" name="act_toggle-minor-calamity1" class="toggle square">
            <span></span>
          </button>
          <input type="hidden" class="toggle" name="attr_minor-calamity2" />
          <button type="action" name="act_toggle-minor-calamity2" class="toggle square">
            <span></span>
          </button>
          <input type="hidden" class="toggle" name="attr_minor-calamity3" />
          <button type="action" name="act_toggle-minor-calamity3" class="toggle square">
            <span></span>
          </button>
        </div>
        <div>
          <span data-i18n="major">Major</span>
          <input type="hidden" class="toggle" name="attr_major-calamity1" />
          <button type="action" name="act_toggle-major-calamity1" class="toggle square">
            <span></span>
          </button>
          <input type="hidden" class="toggle" name="attr_major-calamity2" />
          <button type="action" name="act_toggle-major-calamity2" class="toggle square">
            <span></span>
          </button>
          <input type="hidden" class="toggle" name="attr_major-calamity3" />
          <button type="action" name="act_toggle-major-calamity3" class="toggle square">
            <span></span>
          </button>
        </div>
      </div>
    </div>
    <div class="sheet-fortune">
      <input type="hidden" name="attr_fortune-default"/>
      <button type="roll" name="roll_fortune" class="text-button" value="&{template:basic} {{character=@{character_name}}} @{fortune-roll} @{dice-type} {{action=?{Roll for|@{fortune-default}}}}">
        <span data-i18n="fortune-roll">Fortune Roll</span>
      </button>
    </div>
  </div>
</div>
<script type="text/worker">
  var callings = ["brute", "conniver", "crafter", "hunter", "marauder", "shadow", "shaman", "warlock", "zealot"]
  var actions = ["scan", "tinker", "trick", "finesse", "skulk", "smash", "banter", "invoke", "threaten"]
  var dungeons = ["enclave", "forge", "hideout", "stronghold", "temple"]

  on("sheet:opened", function(eventInfo) {
    getAttrs(["supply-slots", "gold-slots", "dice-images"], function(v){
      set = {};
      if (v["supply-slots"] === "") set["supply-slots"] = 2;
      if (v["gold-slots"] === "") set["gold-slots"] = 3;
      set["dice-type"] = getDiceType(v["dice-images"])
      set["fortune-default"] = getTranslationByKey("fortune-roll");
      setAttrs(set, {silent: true}, updateRolls);
    });
  });

  function updateRolls(){
    getSectionIDs("minion-actions", function(ids){
      var attrs = actions.concat(ids.map(i => `repeating_minion-actions_${i}_minion-action`))
      getSectionIDs("duties", function(ids){
        //console.log(ids)
        attrs = attrs.concat(ids.map(i => `repeating_duties_${i}_duty-tier`))
        getSectionIDs("adventurers", function(ids) {
          attrs = attrs.concat(ids.map(i => `repeating_adventurers_${i}_adventurer-tier`))
          attrs.push("dice-images")
          getAttrs(attrs, function(v) {
            var set = {}
            var images = v["dice-images"] == "marked"
            for (a in v) {
              if (a != "dice-images") {
                set[a.replace("duty-tier", "duty") + "-roll"] = getRoll(v[a], images)
              }
            }
    
            set["loot-roll"] = set["fortune-roll"] = getRoll(0, images, 0, 6)
    
            setAttrs(set);
          });
        });
      });
      
    });
    
  }

  function getRoll(dice, images = false, minBonus = -3, maxBonus = 6){
    dice = parseInt(dice) || 0;
    var bonuses = [...Array(maxBonus + 1).keys()]
    if (minBonus > 0) {
      bonuses = bonuses.slice(minBonus);
    } else if (minBonus < 0){
      bonuses = bonuses.concat(
        [...Array(Math.abs(minBonus)).keys()].map(n => -(n+1))
      )
    }
    var options = bonuses.map(n => `${n},${expandDice(n + dice, images)}`).join("|")
    var query = getTranslationByKey("modifier-query")
    if (dice == 0 && minBonus == 0)
    { query = getTranslationByKey("dice-query") }
    return `?{${query}|${options}}`
  }

  function expandDice(count, images = false){
    if (images) {
      return count <= 0 ? `{{roll1=[[d6cf<3]]&#125;&#125; {{roll2=[[d6cf<3]]&#125;&#125; {{zero=^{zero-dice&#125;&#125;&#125;`
           : [...Array(count).keys()].map(n => `{{roll${n+1}=[[d6cf<3]]&#125;&#125;`).join(" ")
    } 
    return count <= 0 ? "{{roll=[[d6cf<3]] [[d6cf<3]]&#125;&#125; {{zero=^{zero-dice&#125;&#125;&#125;"
           : "{{roll=" + [...Array(count).keys()].map(() => "[[d6cf<3]]").join(" ") + "&#125;&#125;"
  }

  function getClickAttr(eventInfo, prefix){
    return eventInfo.triggerName.replace(new RegExp(`clicked:(repeating_.+?_)?.*${prefix}-`), "$1")
  }

  on("clicked:toggle-downtime-list clicked:toggle-duties clicked:toggle-raid clicked:toggle-minions", function(eventInfo) {
    //get the right attribute for the button we clicked
    var attr = eventInfo.triggerName.replace("clicked:toggle", "hide")
    
    toggle(attr, "hide", "show")

    //console.log(eventInfo);
  });

  function toggle(attr, on, off){
    // Check the current value of the hidden attribute.
    //console.log(arguments)
    getAttrs([attr], function(v) {
      // Toggle the hidden attribute value between "hide" and "show"
      var set = {}
      set[attr] = v[attr] !== on ? on : off
      setAttrs(set);
      //console.log(set);
    });
  }

  function eventList(count, ...events) {
    if (isNaN(events[0])){
      var min = 1;
      var max = count;
    } else {
      min = count;
      max = events[0];
      events = events.slice(1);
    }
      var nums = [...Array((max - min) + 1).keys()];
    nums = nums.map(v => v + min);
    return events.flatMap( e => nums.map( v => e + v)).join(" ");
  }

  on(eventList(5, "clicked:toggle-supply", "clicked:repeating_supply:toggle-extra-supply", "clicked:toggle-dark-heart", "clicked:toggle-reckless", "clicked:toggle-gold", "clicked:toggle-done-step", "clicked:repeating_adventurers:toggle-adventurer-move", "clicked:toggle-minor-calamity", "clicked:toggle-minor-blowback", "clicked:toggle-major-calamity", "clicked:toggle-major-blowback"), function(eventInfo){
    var attr = eventInfo.triggerName.replace(/clicked:(repeating_.+?_)?.*toggle-/, "$1")
    toggle(attr, "marked", "0");
    //console.log(eventInfo);
  });

  //on("clicked:repeating_defense:toggle-defense-used", function(eventInfo){
  //  toggle("repeating_defense_defense-used", "marked", "0");
  //});
  
  on("clicked:repeating_defense:toggle-defense-used clicked:toggle-brains-shock clicked:toggle-muscles-shock clicked:toggle-guts-shock clicked:toggle-bloodied clicked:toggle-morale clicked:toggle-minion-bloodied clicked:toggle-adept clicked:toggle-adept-used clicked:toggle-companion clicked:toggle-equipped clicked:toggle-equipped-used clicked:toggle-expendable clicked:toggle-fluent clicked:toggle-mindset clicked:toggle-strapped clicked:toggle-strapped-used clicked:toggle-trained clicked:toggle-versatile clicked:toggle-core-ability-marked clicked:repeating_ability:toggle-ability-marked clicked:toggle-dice-images clicked:toggle-done-final-goal", function(eventInfo){
    //console.log(eventInfo)
    var attr = eventInfo.triggerName.replace(/clicked:(repeating_.+?_)?.*toggle-/, "$1")
    toggle(attr,"marked","0")
  });

  on("clicked:toggle-supply-settings clicked:toggle-calling-settings clicked:toggle-gold-settings clicked:toggle-core-ability-settings clicked:repeating_ability:toggle-ability-settings", function(eventInfo){
    var attr = getClickAttr(eventInfo, "toggle");
    //console.log(attr)
    //console.log(eventInfo)
    toggle(attr, "show", "hide")
  });

  on("clicked:repeating_minion-actions:toggle-minion-action-drop", function(eventInfo){
    var attr = getClickAttr(eventInfo, "toggle");
    toggle(attr, "down", "up")
  });

  on(actions.map(a => `clicked:repeating_minion-actions:minion-action-${a}`).join(" "), function(eventInfo) {
    var action = eventInfo.triggerName.match(/.*-(.+)/)[1]
    set = {}
    set["repeating_minion-actions_minion-action-name"] = action
    set["repeating_minion-actions_minion-action-drop"] = "up"
    /*
    getAttrs(["repeating_minion-actions_minion-action", "dice-images"], function(v){
      var images = v["dice-images"] == "marked"
      set["repeating_minion-actions_minion-action-roll"] = getRoll(v["repeating_minion-actions_minion-action"], images)
      
    }); 
    //*/
    setAttrs(set);
  });

  on("clicked:impulse-bigmouth clicked:impulse-cruel clicked:impulse-deranged clicked:impulse-fickle clicked:impulse-obsessed clicked:impulse-paranoid clicked:impulse-reckless clicked:impulse-vengeful", function(eventInfo) {
    var impulse = eventInfo.triggerName.replace("clicked:impulse-", "")
    impulse = getTranslationByKey(impulse)
    setAttrs({
      impulse: impulse
    });
  });

  on("clicked:revelry-craving clicked:revelry-drinking clicked:revelry-gambling clicked:revelry-occult  clicked:revelry-violence clicked:revelry-worship", function(eventInfo){
    var rev = eventInfo.triggerName.replace("clicked:revelry-", "")
    rev = getTranslationByKey(rev)
    setAttrs({
      revelry: rev
    });
  });

  on(eventList(4,"clicked:scan","clicked:tinker","clicked:trick"
                ,"clicked:finesse","clicked:skulk","clicked:smash"
                ,"clicked:banter","clicked:invoke","clicked:threaten"
                ,"clicked:minion-scan","clicked:minion-tinker","clicked:minion-trick"
                ,"clicked:minion-finesse","clicked:minion-skulk","clicked:minion-smash"
                ,"clicked:minion-banter","clicked:minion-invoke","clicked:minion-threaten"
                ,"clicked:repeating_minion-actions:minion-action"
                ,"clicked:tier") + " clicked:tier0"
     , function(eventInfo){
    var match = eventInfo.triggerName.match(/clicked:(.+)(\d)/)
    var attr = match[1]
    var set = {}
    var dice = 0;
    if (match[2] == "1" && !attr.includes("tier")){
      getAttrs([attr, "dice-images"], v => {
        var images = v["dice-images"] = "marked"
        switch(v[attr]){
          case "0": 
            if (attr.includes("minion")){
              set[attr] = "1";
              dice = 1;
            } else {
              set[attr] = "0.1"
              dice = 0;
            }
            break;
          case "0.1": 
            set[attr] = "0.2"; 
            dice = 0;
            break;
          case "0.2": 
            set[attr] = "1"; 
            dice = 1;
            break;
          case "1": 
            set[attr] = "0";
            dice = 0;
            break;
          default: 
            set[attr] = "1";
            dice = 1;
            break;
        }
        
        set[attr + "-roll"] = getRoll(dice, images)
        setAttrs(set);
      });
    } else {
      getAttrs(["dice-images"], function(v) {
        var images = v["dice-images"] == "marked"
        set[attr] = match[2];
        dice = match[2];
        set[attr + "-roll"] = getRoll(dice, images)
  
        setAttrs(set);
      });
    }
    //console.log(match)
  });

  on(eventList(9, "clicked:toggle-wicked"), function(eventInfo){
    var attr = eventInfo.triggerName.replace(/clicked:(repeating_.+?_)?.*toggle-/, "$1")
    toggle(attr, "marked", "0");
  });

  on("clicked:calling-brute clicked:calling-conniver clicked:calling-crafter clicked:calling-hunter clicked:calling-marauder clicked:calling-shadow clicked:calling-shaman clicked:calling-warlock clicked:calling-zealot"
  + " clicked:calling-enclave clicked:calling-forge clicked:calling-hideout clicked:calling-stronghold clicked:calling-temple", function(eventInfo){
    var key = getClickAttr(eventInfo, "calling")
    var calling = getTranslationByKey(key)
    var desc = _.unescape(getTranslationByKey(key + "-desc"));

    var set = {
      calling: calling, 
      "calling-desc": desc,
      "calling-settings": "hide"
    }

    var core = false;
    var other = false;
    if (callings.includes(key)) {
      core = other = "ability"
      set.flashback = getTranslationByKey(key + "-flashback")
    } else if (dungeons.includes(key)){
      core = "feature"
      other = "room"
      set["core-ability-marked"] = "marked";
    }

    if (core) {
      set["core-ability-name"] = getTranslationByKey(`${key}-core-${core}-name`)
      set["core-ability-desc"] = getTranslationByKey(`${key}-core-${core}-desc`)
      set["core-ability-settings"] = "hide";

      for (var i = 1; i <= 7; i++) {
        var id = "repeating_ability_" + generateRowID();
        set[id + "_ability-name"] = getTranslationByKey(`${key}-${other}-name${i}`)
        set[id + "_ability-desc"] = getTranslationByKey(`${key}-${other}-desc${i}`)
        set[id + "_ability-settings"] = "hide";
      }

      set["repeating_ability_" + generateRowID() + "_ability-name"] = "Flexibility: ";

      getSectionIDs("ability", function(ids) {
        for (i in ids) {
          removeRepeatingRow("repeating_ability_" + ids[i]);
        }
        setAttrs(set);
      });
    } else {
      setAttrs(set);
    }
  })

  on("clicked:minion-impulse-addicted clicked:minion-impulse-aggressive clicked:minion-impulse-disloyal clicked:minion-impulse-greedy clicked:minion-impulse-impatient clicked:minion-impulse-lazy clicked:minion-impulse-moody clicked:minion-impulse-superstitious", function(eventInfo){
    var key = getClickAttr(eventInfo, "minion-impulse")
    var impulse = getTranslationByKey(key)
    setAttrs({"minion-impulse": impulse})
  })
  
  function getDiceType(diceImages) {
    if (diceImages == "marked"){
      return "{{images=yes}}"
    } else {
      return "";
    }
  }

  on("change:dice-images", function(eventInfo){
    setAttrs({
      "dice-type": getDiceType(eventInfo.newValue)
    }, {silent:true}, updateRolls);
  });

  on("change:repeating_duties:duty-tier", function(eventInfo){
    getAttrs(["repeating_duties_duty-tier", "dice-images"], function(v){
      var images = v["dice-images"] = "marked"
      setAttrs({
        "repeating_duties_duty-roll": getRoll(v["repeating_duties_duty-tier"], images)
      })
    });
  });

  on("clicked:tab-wicked-one clicked:tab-dungeon clicked:tab-gm", function(eventInfo){
    var tab = getClickAttr(eventInfo, "tab");
    setAttrs({
      tab: tab
    });
  });

//console.log(eventList(0, 8, "clicked:stress", "clicked:repeating_projects:project-clock", "clicked:repeating_gm-clocks:gm-clock"));
  on(eventList(0, 8, "clicked:stress", "clicked:repeating_projects:project-clock", "clicked:repeating_gm-clocks:gm-clock"), function(eventInfo) {
    var match = eventInfo.triggerName.match(/clicked:(.+)(\d)/)
    var attr = match[1]
    var num = match[2]
    var set = {}
    set[attr] = num;
    setAttrs(set);
    //console.log(eventInfo)
  });

  on("change:repeating_adventurers:adventurer-tier", function(eventInfo) {
    var newHealth = parseInt(eventInfo.newValue) * 2 + 2;
    getAttrs(["dice-images"], function(v){
      var images = v["dice-images"] == "marked"
      setAttrs({
        "repeating_adventurers_adventurer-health_max": newHealth,
        "repeating_adventurers_adventurer-health": newHealth,
        "repeating_adventurers_adventurer-heart1": "full",
        "repeating_adventurers_adventurer-heart2": "full",
        "repeating_adventurers_adventurer-heart3": "full",
        "repeating_adventurers_adventurer-heart4": "full",
        "repeating_adventurers_adventurer-heart5": "full",
        "repeating_adventurers_adventurer-edit-tier": "hide",
        "repeating_adventurers_adventurer-tier-roll": getRoll(eventInfo.newValue, images)
      }, {silent: true})
    });
  });

  on("clicked:repeating_adventurers:adv-edit-tier", function(eventInfo) {
    //console.log("test");
    setAttrs({
      "repeating_adventurers_adventurer-edit-tier": "show"
    }, {silent: true});
  });

  function getHeartFull(heart, max) {
    var full = max;
    switch (parseInt(heart)) {
      case 1: full = max; break;
      case 2: full = max - 2; break;
      case 3: full = max - 4; break;
      case 4: full = max - 6; break;
      case 5: full = max - 8; break;
    }
    return full;
  }

  on(eventList(5, "clicked:repeating_adventurers:adventurer-health"), function(eventInfo) {
    //console.log("test");
    var heart = eventInfo.triggerName.match(/clicked:(.+)(\d)/)[2];
    getAttrs(["repeating_adventurers_adventurer-health", "repeating_adventurers_adventurer-health_max"], function (val) {
      var health = val["repeating_adventurers_adventurer-health"];
      var max = val["repeating_adventurers_adventurer-health_max"];
      var full = getHeartFull(heart, max);
      if (health >= full) {
          var health = full - 1;
        } else if (health == (full - 1)) {
          var health = full - 2;
        } else {
          var health = full;
        }

      var set = {
        "repeating_adventurers_adventurer-health": health
      }
      var hearts = [1,2,3,4,5];
      for (var i = 0; i < hearts.length; i++){
        var f = getHeartFull(hearts[i], max);
        if (health >= f) {
          var h = "full";
        } else if (health == (f - 1)) {
          var h = "slashed";
        } else {
          var h = "double"
        }
        set[`repeating_adventurers_adventurer-heart${hearts[i]}`] = h;
      }

      setAttrs(set, {silent: true});

    });
  });

  on("change:repeating_adventurers:adventurer-desc", function(eventInfo){
    //console.log(eventInfo)
    setAttrs({
      "repeating_adventurers_adventurer-name": (eventInfo.newValue || "").split('\n', 1)[0]
    });
  });
</script>
<div class="translation-holder">
  <span data-i18n="brute-desc">Powerful & Intimidating 
 Brawlers</span>
  <span data-i18n="conniver-desc">Manipulative & Controlling 
 Masterminds</span>
  <span data-i18n="crafter-desc">Clever & Curious 
 Tinkerers</span>
  <span data-i18n="hunter-desc">Ruthless & Tenacious 
 Trackers</span>
  <span data-i18n="marauder-desc">Cunning & Fearless 
 Warriors</span>
  <span data-i18n="shadow-desc">Sneaky & Elusive 
 Rogues</span>
  <span data-i18n="shaman-desc">Terrifying & Vengeful 
 Witches</span>
  <span data-i18n="warlock-desc">Daring & Ambitious 
 Mages</span>
  <span data-i18n="zealot-desc">Fervent & Mystical 
 Believers</span>
 <span data-i18n="brute-flashback">You can flashback to things a Brute would have thought to do, such as torturing a prisoner, threatening violence, or acquiring just the right weapon.</span>,
<span data-i18n="brute-core-ability-name">Rage</span>,
<span data-i18n="brute-core-ability-desc">You can spend stress to perform an incredible feat of strength, like throwing a large boulder, tackling a charging horse, or facing off against a much larger foe on equal footing.</span>,
<span data-i18n="brute-ability-name1">Assault</span>
<span data-i18n="brute-ability-desc1">You’re a force to be reckoned with. On a success in close combat, you can also (choose one): cleave into a nearby enemy - destroy their shield or armor - send them flying.</span>},
<span data-i18n="brute-ability-name2">Fury</span>
<span data-i18n="brute-ability-desc2">When you suffer injury or humiliation, you take +1d if you immediately lash out. On a critical, you clear 1 stress.</span>},
<span data-i18n="brute-ability-name3">Living Weapon</span>
<span data-i18n="brute-ability-desc3">Your body is a deadly weapon and has edges (choose two): concealed - longreach - grappling - ranged - pulverizing - terrifying. How did you end up this way?</span>},
<span data-i18n="brute-ability-name4">Menace</span>
<span data-i18n="brute-ability-desc4">You put the torment of others over your own safety. You take +1d when you go hard to intimidate or humiliate someone. On a critical, you clear 1 stress.</span>},
<span data-i18n="brute-ability-name5">Pack Mule</span>
<span data-i18n="brute-ability-desc5">You can carry an immense amount. You gain two gear slots, a defense based on them, and a supply slot. Where do you keep all of that extra stuff?</span>},
<span data-i18n="brute-ability-name6">Rawhide</span>
<span data-i18n="brute-ability-desc6">Your thick hide protects you from harm. You take +1d when resisting physical attacks and spend 1 less stress when you do so. What makes your hide so tough?</span>},
<span data-i18n="brute-ability-name7">Taskmaster</span>
<span data-i18n="brute-ability-desc7">You gain a downtime action which you can only use to recruit minions or sacrifice to have minions perform a downtime action without paying them gold.</span>}
<span data-i18n="conniver-flashback">You can flashback to things a Conniver would have thought to do, such as manipulating others, setting up contingency plans, or acquiring information.</span>,
<span data-i18n="conniver-core-ability-name">Strings</span>,
<span data-i18n="conniver-core-ability-desc">You can spend stress to have an ally remember your voice in their head, allowing them to reroll a failure. If they roll a success, you gain a dark heart. What criticism or advice did you previously impart on them?</span>,
<span data-i18n="conniver-ability-name1">Intuition</span>
<span data-i18n="conniver-ability-desc1">Others are an open book to you. You can spend stress to establish a target’s emotional state, though it must be a reasonable emotion for them to be feeling. You take +1d when you act on that knowledge.</span>},
<span data-i18n="conniver-ability-name2">Masterful Liar</span>
<span data-i18n="conniver-ability-desc2">You excel at lying when you go all in on a falsehood. You take +1d when you go hard to tell a lie. On a success, you gain a dark heart.</span>},
<span data-i18n="conniver-ability-name3">Missed a Spot</span>
<span data-i18n="conniver-ability-desc3">Each downtime, you get two ticks which can be distributed to any project clocks started by your allies. What errors do you point out in their work?</span>},
<span data-i18n="conniver-ability-name4">Opportunist</span>
<span data-i18n="conniver-ability-desc4">You take +1d on a roll when acting immediately after an ally fails a resistance roll. How do you leverage their failure to your own advantage?</span>},
<span data-i18n="conniver-ability-name5">Tongues</span>
<span data-i18n="conniver-ability-desc5">You can speak the Light Tongue, albeit with a strong, monstrous accent. How does a monster like you even learn to speak the language of civilization?</span>},
<span data-i18n="conniver-ability-name6">Weaving the Web</span>
<span data-i18n="conniver-ability-desc6">On a success during a flashback or downtime action to interact with contacts, you gain a dark heart. You also gain a downtime action which you can only use to contact a vile friend, faction, or other NPC.</span>},
<span data-i18n="conniver-ability-name7">Wordplay</span>
<span data-i18n="conniver-ability-desc7">On a success when resisting with Banter, Threaten, or Trick, you can also (choose one): deflect blame - plant a false idea - have the GM reveal a secret.</span>}
<span data-i18n="crafter-flashback">You can flashback to things a Crafter would have thought to do, such as sabotaging structures, grabbing materials, or brewing a concoction.</span>,
<span data-i18n="crafter-core-ability-name">Ingenuity</span>,
<span data-i18n="crafter-core-ability-desc">You can spend stress to perform an incredible feat of creation, like mixing concoctions on the fly to create a powerful combined effect, slapping together a temporary simple contraption, or ignoring volatility in monster science creations.</span>,
<span data-i18n="crafter-ability-name1">Brewmaster</span>
<span data-i18n="crafter-ability-desc1">When you make a concoction, you always make 1 extra dose, even on a failure. You gain a downtime action which you can only use to brew concoctions.</span>},
<span data-i18n="crafter-ability-name2">Creative Frenzy</span>
<span data-i18n="crafter-ability-desc2">On a success while working on a crafting downtime project, the downtime action isn’t consumed. You also gain a downtime action which you can only use to craft.</span>},
<span data-i18n="crafter-ability-name3">Monster Science</span>
<span data-i18n="crafter-ability-desc3">You fully believe in your creations. You take +1d when you go hard with a concoction or contraption, but you can't resist any consequences from the roll. On a critical, you clear 1 stress.</span>},
<span data-i18n="crafter-ability-name4">Pride</span>
<span data-i18n="crafter-ability-desc4">You instill a deep sense of yourself into anything you create. When you or someone else rolls a critical using something you crafted, you gain a dark heart.</span>},
<span data-i18n="crafter-ability-name5">Prototype</span>
<span data-i18n="crafter-ability-desc5">Start a single tier 2 or 3 contraption crafting clock. You can use this unfinished contraption as normal. Any time you make a dire roll using it, it ticks the crafting clock once. When the clock is full, the contraption is made and you start a new clock.</span>},
<span data-i18n="crafter-ability-name6">Scrutiny</span>
<span data-i18n="crafter-ability-desc6">You can spend stress to establish a flaw in a structure or some machinery you can see. You take +1d when you act on that knowledge.</span>},
<span data-i18n="crafter-ability-name7">Signature Elixir</span>
<span data-i18n="crafter-ability-desc7">You have a steady supply of a single specific tier 2 concoction and you gain 2 supply slots which you can only use for it.</span>}
<span data-i18n="hunter-flashback">You can flashback to things a Hunter would have thought to do, such as setting a trap, scouting out a location, or hunting up some food.</span>,
<span data-i18n="hunter-core-ability-name">Thrill of the Hunt</span>,
<span data-i18n="hunter-core-ability-desc">You can spend stress to establish a small, momentary weakness in your prey. You gain +effect when you exploit this on your next roll to stalk, catch, or bring them down. On a success, you gain a dark heart.</span>,
<span data-i18n="hunter-ability-name1">Feral Senses</span>
<span data-i18n="hunter-ability-desc1">Animal blood runs through your veins, causing your senses to extend twice as far as normal. You take +1d when tracking or surveying an area. You also gain a defense against surprise.</span>},
<span data-i18n="hunter-ability-name2">Grit</span>
<span data-i18n="hunter-ability-desc2">You don't go down easy. On a failure when resisting, you can immediately roll an extra 1d that counts towards the roll. If the result is a success, it counts as a critical.</span>},
<span data-i18n="hunter-ability-name3">Hunting Pet</span>
<span data-i18n="hunter-ability-desc3">You have a hunting pet or pack instead of minions. It has the companion upgrade and knows tricks (choose two): cause confusion - fetch - herd prey - locate prey - surprise attack. Your pet takes +1d when performing known tricks.</span>},
<span data-i18n="hunter-ability-name4">Scavenger</span>
<span data-i18n="hunter-ability-desc4">On a success while surveying or traversing a risky area, you can (choose one): find a piece of mundane gear - tick an edge crafting clock - harvest a tier 2 concoction.</span>},
<span data-i18n="hunter-ability-name5">Scout</span>
<span data-i18n="hunter-ability-desc5">You make a habit of roaming the surface and scouting out targets. While choosing a raid plan, you can establish a weakness you know about in your target’s defenses. During the raid, you can also spend stress to establish a second fact.</span>},
<span data-i18n="hunter-ability-name6">Trick Shots</span>
<span data-i18n="hunter-ability-desc6">You can pull off improbable (but not impossible) shots with a ranged weapon, like ricocheting a projectile off a wall or shooting through one target and hitting another. You ignore any circumstances towards effect from the difficulty, but you must explain how you pulled off the shot.</span>},
<span data-i18n="hunter-ability-name7">Wild Knowledge</span>
<span data-i18n="hunter-ability-desc7">You can spend stress to establish a fact about plants, animals, or the weather. You take +1d when you act on that knowledge.</span>}
<span data-i18n="marauder-flashback">You can flashback to things a Marauder would have thought to do, such as giving orders to minions, surveying a target's strength, or disciplining subordinates.</span>,
<span data-i18n="marauder-core-ability-name">Battlemaster</span>,
<span data-i18n="marauder-core-ability-desc">You can spend stress to perform an incredible feat of athletics, like throwing an axe a great distance, maneuvering nearly anywhere on the field of battle, or facing off against a group of foes on equal footing.</span>,
<span data-i18n="marauder-ability-name1">Bulwark</span>
<span data-i18n="marauder-ability-desc1">You're the rock on which your allies lean. You take +1d when resisting consequences for an ally. On a success, the ally takes +1d on any follow-up action.</span>},
<span data-i18n="marauder-ability-name2">Cohort</span>
<span data-i18n="marauder-ability-desc2">Your minions are always elite, with the mindset (loyal) and companion upgrades. They also have an additional upgrade (choose one): equipped - mindset (fearless) - trained - versatile.</span>},
<span data-i18n="marauder-ability-name3">Commander</span>
<span data-i18n="marauder-ability-desc3">You exert your will to bolster your minions. You can spend stress or a dark heart to give a minion pack +1d on a roll. You also gain a defense against minion failure.</span>},
<span data-i18n="marauder-ability-name4">Control</span>
<span data-i18n="marauder-ability-desc4">You fluidly control a fight. On a success when resisting an attack in close combat, you can also (choose one): disarm them - redirect the attack - reposition them nearby.</span>},
<span data-i18n="marauder-ability-name5">Joy of Battle</span>
<span data-i18n="marauder-ability-desc5">You love nothing more than your own excellence in battle. On a critical while engaged in combat, you clear 1 stress and gain a dark heart.</span>},
<span data-i18n="marauder-ability-name6">Maniac</span>
<span data-i18n="marauder-ability-desc6">You think nothing of risking life and limb. You take +1d when you go hard and put your own body on the line, but you can't resist any consequences from the roll. On a critical, you clear 1 stress.</span>},
<span data-i18n="marauder-ability-name7">Tactician</span>
<span data-i18n="marauder-ability-desc7">Battle plans are the key to your success. You take +1d on your first action after an engagement roll. You also gain a defense against raid plans going off track.</span>}
<span data-i18n="shadow-flashback">You can flashback to things a Shadow would have thought to do, such as snatching something valuable, lying to create opportunity, or stashing some items.</span>,
<span data-i18n="shadow-core-ability-name">Prowler</span>,
<span data-i18n="shadow-core-ability-desc">You can spend stress to perform an incredible feat of agility, like slipping unimpeded through a mob, leaping safely from a high tower, or hiding in plain sight.</span>,
<span data-i18n="shadow-ability-name1">Dark Mind</span>
<span data-i18n="shadow-ability-desc1">You can compel other PCs to action just as if the GM had compelled them. If they accept, you gain a dark heart. If they decline, you take stress. The GM is still the final judge of what is an appropriate compel.</span>},
<span data-i18n="shadow-ability-name2">Poisoner</span>
<span data-i18n="shadow-ability-desc2">Making or procuring poisons is second nature for you. You have a steady supply of the following tier 1 concoction poisons: blinding - disorienting - slowing - nauseating. You also gain two supply slots which you can only use for them.</span>},
<span data-i18n="shadow-ability-name3">Pounce</span>
<span data-i18n="shadow-ability-desc3">You recognize the perfect timing to strike. You take +1d when you catch someone by surprise. On a critical, you clear 1 stress.</span>},
<span data-i18n="shadow-ability-name4">Slippery</span>
<span data-i18n="shadow-ability-desc4">You're tough to pin down. On a success when resisting an enemy attack, you can also (choose one): disappear from their sight - pick their pocket - reposition behind them.</span>},
<span data-i18n="shadow-ability-name5">Stalker</span>
<span data-i18n="shadow-ability-desc5">Your lurking presence forces foolish action. On a success while moving stealthily, NPCs near you (choose one): do something stupid due to paranoia - reveal a secret.</span>},
<span data-i18n="shadow-ability-name6">Sticky Fingers</span>
<span data-i18n="shadow-ability-desc6">You always manage to come away with something of value. You get 1 extra gold each loot roll and can control up to 4 gold without raising suspicion. Also, once during each raid, you can establish the location of some good loot nearby.</span>},
<span data-i18n="shadow-ability-name7">Unseen Hand</span>
<span data-i18n="shadow-ability-desc7">When you assist an ally, you only take consequences if they roll a failure. If they roll a critical, you clear 1 stress. Why do they not know you're helping them?</span>}
<span data-i18n="shaman-flashback">You can flashback to things a Shaman would have thought to do, such as interacting with spirits or animals, brewing a wild concoction, or sowing terror.</span>,
<span data-i18n="shaman-core-ability-name">Witchcraft</span>,
<span data-i18n="shaman-core-ability-desc">You can spend stress to Invoke tier 2 and tier 3 spells of a single witchcraft path (choose one): bloodreading - soothsaying - spiritcalling - stormstrike - wildheart.</span>,
<span data-i18n="shaman-ability-name1">Beastform</span>
<span data-i18n="shaman-ability-desc1">You can spend stress to assume the form of a beast. While in this form, one of your actions swaps ratings with another and you gain either Primal Ability or a calling ability from another calling. You also gain a second dark impulse while in this form. All of these are chosen when you first take this ability.</span>},
<span data-i18n="shaman-ability-name2">Bonded Spirit</span>
<span data-i18n="shaman-ability-desc2">You have a magically bonded spirit or pack instead of minions. It has the companion upgrade and once per cycle, it can (choose two): become invisible - manifest physically - possess the weak minded - reveal information about the past.</span>},
<span data-i18n="shaman-ability-name3">Spirit Whispers</span>
<span data-i18n="shaman-ability-desc3">Your control of chaotic situations pulls information from surrounding spirits. On a success when resisting, you can ask the GM a question or to reveal a secret related to the situation. You also gain a defense against lies, trickery, and stealth.</span>},
<span data-i18n="shaman-ability-name4">Terror</span>
<span data-i18n="shaman-ability-desc4">Others can't help but reveal their fears. You can spend stress to establish what someone’s worst fear is. You take +1d when you act on that knowledge.</span>},
<span data-i18n="shaman-ability-name5">Weaving</span>
<span data-i18n="shaman-ability-desc5">You effortlessly blend witchcraft with the material or mundane. On a success when casting a spell, you take +1d on any follow-up using a different action.</span>},
<span data-i18n="shaman-ability-name6">Wild Brews</span>
<span data-i18n="shaman-ability-desc6">You can brew potions of any tier from all witchcraft paths. You also gain a downtime action which you can only use to brew potions.</span>},
<span data-i18n="shaman-ability-name7">Wrath</span>
<span data-i18n="shaman-ability-desc7">Your desire for payback fuels your witchcraft. When you cast a spell immediately after a resistance roll, you take +1d and it costs no stress to cast.</span>}
<span data-i18n="warlock-flashback">You can flashback to things a Warlock would have thought to do, such as acquiring arcane knowledge, striking occult deals, or creating magic items.</span>,
<span data-i18n="warlock-core-ability-name">Sorcery</span>,
<span data-i18n="warlock-core-ability-desc">You can spend stress to Invoke tier 2 and tier 3 spells of a single sorcery path (choose one): enchantment - evocation - force mastery - illusion - necromancy - pyromancy.</span>,
<span data-i18n="warlock-ability-name1">Artificer</span>
<span data-i18n="warlock-ability-desc1">You gain a downtime action which you can only use to incant rituals to make magic items. These rituals also require one less special requirement than usual.</span>},
<span data-i18n="warlock-ability-name2">Counterspell</span>
<span data-i18n="warlock-ability-desc2">On a success when resisting magical effects, you also (choose one): absorb the spell and clear 1 stress - establish a quirk about the caster’s power - reflect the spell at the caster.</span>},
<span data-i18n="warlock-ability-name3">Familiar</span>
<span data-i18n="warlock-ability-desc3">You're magically bonded to a small critter, no bigger than a cat. You can speak telepathically while it's close by. Choose two actions that it excels at, which you roll your own Invoke for. You roll 0d on anything else. It's knocked out of a scene when bloodied and magically returns during recovery. You can spend stress to cast a tier 1 spell through it.</span>},
<span data-i18n="warlock-ability-name4">Grand Sorcery</span>
<span data-i18n="warlock-ability-desc4">You can choose a second path for your Sorcery core ability and only need a single magic focus to cast any tier 1 sorcery spell.</span>},
<span data-i18n="warlock-ability-name5">Overload</span>
<span data-i18n="warlock-ability-desc5">You open yourself to a torrent of power. You take +1d when you go hard with a spell, but you can't resist any consequences from the roll. On a critical, you clear 1 stress.</span>},
<span data-i18n="warlock-ability-name6">Reaper</span>
<span data-i18n="warlock-ability-desc6">When you deliver a killing blow with a weapon, you reap the soul of your victim. You can expend this soul later to cast a spell without spending stress, also taking +1d on the roll. You can only hold one reaped soul at a time.</span>},
<span data-i18n="warlock-ability-name7">Vile Form</span>
<span data-i18n="warlock-ability-desc7">You can spend stress to assume an amorphous form for a few moments, such as a swarm or a fog. You gain any strengths and weaknesses the form possesses and can roll Invoke to perform actions it would excel at. All of these are chosen when you first take this ability.</span>}
<span data-i18n="zealot-flashback">You can flashback to things a Zealot would have thought to do, such as interrogating nonbelievers, making sacrifices, or issuing commands to followers.</span>,
<span data-i18n="zealot-core-ability-name">Channeling</span>,
<span data-i18n="zealot-core-ability-desc">You can spend stress to Invoke tier 2 and tier 3 spells of your chosen deity’s domains. Each god has two domains which act as magic paths.</span>,
<span data-i18n="zealot-ability-name1">Acolytes</span>
<span data-i18n="zealot-ability-desc1">Your minions are fanatic devotees of your god. They have the mindset (zealous) and companion upgrades and will take a downtime action to incant a ritual each downtime without asking for gold.</span>},
<span data-i18n="zealot-ability-name2">Defiler</span>
<span data-i18n="zealot-ability-desc2">Draw a 4-segment clock on your sheet. Tick it once each time you defile something sacred or beautiful that is antithetical to your god’s domains. When the clock is full, a tier 2 ritual immediately manifests in that location and you start a new clock.</span>},
<span data-i18n="zealot-ability-name3">Fervent Aura</span>
<span data-i18n="zealot-ability-desc3">When you would become bloodied or be killed, you can designate a nearby minion to become bloodied or die instead. When a minion pack dies in this way, they can perform a final action and you gain a dark heart.</span>},
<span data-i18n="zealot-ability-name4">Inquisitor</span>
<span data-i18n="zealot-ability-desc4">You feel deep satisfaction in breaking the will of others. On a success when torturing prisoners, you gain a dark heart and learn twice as much information as normal. You also gain a downtime action which you can only use for this purpose.</span>},
<span data-i18n="zealot-ability-name5">Rebuke</span>
<span data-i18n="zealot-ability-desc5">You teach those who challenge you a harsh lesson. On a success when resisting, you take +1d if you immediately act against them. On a critical when resisting, you also (choose one): strike fear in their heart - make them doubt their path.</span>},
<span data-i18n="zealot-ability-name6">Smite</span>
<span data-i18n="zealot-ability-desc6">Designate a weapon as your unholy weapon. It's now your magic focus. On a success when attacking someone with it, you can spend stress to immediately affect the target with a tier 1 spell without rolling.</span>},
<span data-i18n="zealot-ability-name7">Unholy Rituals</span>
<span data-i18n="zealot-ability-desc7">You gain a downtime action which you can only use to incant rituals. On a success when incanting a ritual, you gain a dark heart.</span>}
<span data-i18n="zero-dice">0d, take worst result.</span>
<span data-i18n="loot-roll">Loot Roll</span>
<span data-i18n="dice-query">Number of Dice</span>
<span data-i18n="modifier-query">Bonus</span>
<span data-i18n="enclave">Enclave</span>
<span data-i18n="enclave-desc">Tapping into the Arcane</span>
<span data-i18n="enclave-core-feature-name">Twisted Landscape</span>
<span data-i18n="enclave-core-feature-desc">Arcane energy corrupts the area around the dungeon. Establish its range, increasing with tier, and how it manifests (choose 3): corrupted wildlife - dark whispers - illusions - inclement weather - living plants - wisps. These act as a trap and a trick equal to the dungeon tier against invaders.</span>
<span data-i18n="enclave-room-name1">Academy</span>
<span data-i18n="enclave-room-desc1">Young monsters come to study and learn arcane secrets. You can recruit minions from this room. They have Invoke as their primary action and the adept upgrade for free. This room also acts as a creature with a tier equal to the dungeon tier.
An academy might need crystal balls, mantles, or wands.</span>
<span data-i18n="enclave-room-name2">Crucible</span>
<span data-i18n="enclave-room-desc2">The mystical power of this room enchants items. Each downtime, it can either produce a single tier 1 magic item or tick a magic item creation clock twice. You must still provide the special requirements for tier 2 and 3 magic items.
A crucible might need an essence core, a mystical beast, or magical helpers.</span>
<span data-i18n="enclave-room-name3">Greenery</span>
<span data-i18n="enclave-room-desc3">This garden of voracious plants will devour living prey. Feed them to harvest (choose one): a plant-based shared supply - special ingredients for potions, a few doses of a concoction. The higher the tier, the better the harvest. This room is also a trap equal to your dungeon tier.
A greenery might need rare plants, fertilizer, or artificial sunlight.</span>
<span data-i18n="enclave-room-name4">Library</span>
<span data-i18n="enclave-room-desc4">Books are the key to knowledge of the world. Once per cycle, the dungeon can establish a fact about the history, cultures, or arcana of the world. You can also flashback to use this again while outside the dungeon.
A library might need a trove of books, large bookshelves, or a librarian.</span>
<span data-i18n="enclave-room-name5">Potion Lab</span>
<span data-i18n="enclave-room-desc5">Your imps have learned how to make potions. The dungeon chooses a single magic path of which you have a steady supply of all tier 1 potions and a single tier 2 potion.
A potion lab might need brewing equipment, special ingredients, or a giant cauldron.</span>
<span data-i18n="enclave-room-name6">Scrying Pool</span>
<span data-i18n="enclave-room-desc6">The pool reveals far away scenes. Once per cycle, the dungeon can establish a fact about an NPC’s recent activity. You can also flashback to use this again while outside the dungeon. What question or object do you present to the pool to guide its gaze?
A scrying pool might need cursed water, mosaic tiles, or a center figurine.</span>
<span data-i18n="enclave-room-name7">Spawning Chamber</span>
<span data-i18n="enclave-room-desc7">Minions are grown or summoned here, easily replacing your losses. Once per dungeon defense, a copy of a slain minion pack can burst forth from this spawning chamber. You can also add the expendable upgrade to minions for free.
A spawning chamber might need mystical goo, glass containers, or magic seeds.</span>
<span data-i18n="forge">Forge</span>
<span data-i18n="forge-desc">The Power of Industry</span>
<span data-i18n="forge-core-feature-name">Power Source</span>
<span data-i18n="forge-core-feature-desc">In a forge, your sanctum is a source of power fueling your dungeon, such as a volcano, a steamworks, or a waterwheel. During downtime, you can take +1d on a single downtime action. During dungeon defense, you can take +1d on a single lock, trap, or trick on your list of dungeon duties.</span>
<span data-i18n="forge-room-name1">Alchemist Lab</span>
<span data-i18n="forge-room-desc1">Your imps are always hard at work mixing reagents. You have a steady supply of all tier 1 concoctions.
An alchemist lab might need alchemy equipment, chests full of reagents, or recipes.</span>
<span data-i18n="forge-room-name2">Guild Hall</span>
<span data-i18n="forge-room-desc2">You let your minions organize to better their working and living conditions. In truth, you ignore their demands, but the illusion of having some control reduces grumbling. The dungeon takes +1d on calamity rolls.
A guild hall might need benches, a long table, or scribing tools.</span>
<span data-i18n="forge-room-name3">Factory</span>
<span data-i18n="forge-room-desc3">Your imps relentlessly sweat away in the factory. Each downtime, they can either produce a single tier 1 contraption or tick a contraption clock twice.
A factory might need metal casing for a boiler, piles of coal, or raw iron.</span>
<span data-i18n="forge-room-name4">Mineshaft</span>
<span data-i18n="forge-room-desc4">You dig out a mine, gaining a steady supply of a single non-precious material and make an immediate discovery leading away from the mine. You take +1d on this and all future discovery rolls.
A mineshaft might need mining gear, lots of railway, or several minecarts.</span>
<span data-i18n="forge-room-name5">Testing Chamber</span>
<span data-i18n="forge-room-desc5">You can empower your monster science, for a price. You can pay cost related to your testing to (choose one): remove an item's volatility - increase a concoction in size, scope, or duration - take +1d on your next use with a specific item.
A testing chamber might need a huge steel door, a pulley system, or gears.</span>
<span data-i18n="forge-room-name6">Vehicle Bay</span>
<span data-i18n="forge-room-desc6">The dungeon has an incredible vehicle, such as a submarine, dirigible, or steamcar. Detail the vehicle and give it edges (choose two): armored - camouflaged - dependable - fast - nimble. Give it a flaw (choose one): clumsy - distinct - noisy - rickety - slow. The vehicle is fully repaired or rebuilt by imps each recovery.
A vehicle bay might need parts for the vehicle, barrels of fuel, or awesome paint.</span>
<span data-i18n="forge-room-name7">Workshop</span>
<span data-i18n="forge-room-desc7">You have a well-furnished workshop where your imps and minions can toil away. They take +1d when working on crafting or building projects.
A workshop might need crafting tools, leather aprons, or barrels of nails.</span>
<span data-i18n="hideout">Hideout</span>
<span data-i18n="hideout-desc">Keeping Your Head Low</span>
<span data-i18n="hideout-core-feature-name">Agents of Chaos</span>
<span data-i18n="hideout-core-feature-desc">Your dungeon excels at placing blame on others or meddling with faction plans. On a success on blowback, your minions gain morale and you can finish or reset a faction clock. What happens in the aftermath of your raid to cause this?</span>
<span data-i18n="hideout-room-name1">Dojo</span>
<span data-i18n="hideout-room-desc1">The dojo master trains you relentlessly, forging you into a unified team. When you team up, you only take stress on a failure and 6s from different participants count towards rolling a critical. This room also acts as a creature with a tier equal to the dungeon tier.
A dojo only needs a master to train you, which you must either defeat or impress.</span>
<span data-i18n="hideout-room-name2">Gambling Den</span>
<span data-i18n="hideout-room-desc2">You set up a small gambling establishment, attracting monsters from outside your dungeon. You can recruit minions from this room. They always have Trick as their 2d action and start with the strapped upgrade for free. This room also acts as a creature with a tier equal to the dungeon tier.
A gambling den might need gambling tables, luxurious lighting, or cigars.</span>
<span data-i18n="hideout-room-name3">Gear Locker</span>
<span data-i18n="hideout-room-desc3">You always get geared up before leaving the dungeon. You gain a supply slot and have a steady supply of the following concoctions and gear: climbing gear - glowsticks - smoke bombs - tar bombs - throwing weapons - thunderstones - traps.
A gear locker might need a trove of concoctions, crates of gear, or matching outfits.</span>
<span data-i18n="hideout-room-name4">Obstacle Course</span>
<span data-i18n="hideout-room-desc4">Minions train hard here, honing their skills. When recruited, you can add an extra 2d action to minions, but only to Finesse, Scan, or Skulk. This room also acts as a trick equal to the dungeon tier, detailed when the room is built.
An obstacle course might need rolls of wire, large spikes, or barrels of tar.</span>
<span data-i18n="hideout-room-name5">Planning Room</span>
<span data-i18n="hideout-room-desc5">You plot out your raids in great detail. You take +1d on engagement rolls for negotiation, stealth, or trickery plans. On a success, you gain a dark heart.
A planning room might need maps, measuring tools, or refreshments.</span>
<span data-i18n="hideout-room-name6">Roost</span>
<span data-i18n="hideout-room-desc6">You have bats, ravens, or other small winged beasts at your service. Each time you plan a raid, the dungeon can establish a fact about the target that your beasts saw from the sky. You can also flashback to use this again while outside the dungeon.
A roost might need cages, winged beasts, or pet food.</span>
<span data-i18n="hideout-room-name7">Tavern</span>
<span data-i18n="hideout-room-desc7">You have a raucous tavern complete with a bar, shelves of alcohol, a roaring fire, and usually a scuffle. Your minions gain morale during recovery and take +1d when fighting invaders here. Wandering monsters also show up from time to time.
A tavern might need a bartender, lots of alcohol, or a bard.</span>
<span data-i18n="stronghold">Stronghold</span>
<span data-i18n="stronghold-desc">Through Strength of Arms</span>
<span data-i18n="stronghold-core-feature-name">Warband</span>
<span data-i18n="stronghold-core-feature-desc">The dungeon has a raiding party, a shared minion pack with greater scale than usual and the companion and expendable upgrades. It can be sent on its own raids. At the beginning of the raiding phase, each player allocates 1d towards a target, chooses a raid plan, then selects a goal (choose one): gather room materials - grab good loot - influence a faction - kidnap someone - setup for a pillaging raid. You can also choose the same plan and goal to combine rolls to determine effectiveness. Make a fortune roll for each target, rolling the number of dice allocated and narrate accordingly. If you forego these independent raids, the warband can accompany you on a raid instead.</span>
<span data-i18n="stronghold-room-name1">Barracks</span>
<span data-i18n="stronghold-room-desc1">Fresh recruits flock to your dungeon. You can recruit minions from this room. They have Smash as their primary action and the mindset (loyal) upgrade for free. This room also acts as a creature with a tier equal to the dungeon tier.
A barracks might need a cache of weapons, armor, or a large amount of rations.</span>
<span data-i18n="stronghold-room-name2">Bestiary</span>
<span data-i18n="stronghold-room-desc2">You have mounts and a secure area to keep them in. Detail them and give them edges (choose two): aquatic - armored - fast - flying - magical - terrifying. This room also acts as a creature with a tier equal to the dungeon tier.
A bestiary might need the mounts, something to feed them, or riding equipment.</span>
<span data-i18n="stronghold-room-name3">Fighting Pit</span>
<span data-i18n="stronghold-room-desc3">Place any two combatants in the pit, then each PC chooses the one they think willwin. Make fortune rolls for each fighter, with the loser dying and both living on atie. If your chosen fighter wins, you gain a dark heart.
A fighting pit might need exotic weapons, dangerous animals, or a pitmaster.</span>
<span data-i18n="stronghold-room-name4">Funeral Pyre</span>
<span data-i18n="stronghold-room-desc4">Your warrior culture honors the dead, burning their bodies as a sendoff to the afterlife. When minions die in combat, any minions that witness it gain morale and will perform a downtime action during the next downtime without asking for gold.
A funeral pyre might need incense, special wood, or the tabards of conquered enemies.</span>
<span data-i18n="stronghold-room-name5">Smithy</span>
<span data-i18n="stronghold-room-desc5">You have a steady supply of mundane weapons such as axes, bows, and hatchets. Your minions take +1d when crafting items or adding edges.
A smithy might need an anvil, metalworking tools, or a large pile of charcoal.</span>
<span data-i18n="stronghold-room-name6">War Drums</span>
<span data-i18n="stronghold-room-desc6">A steady beat emanates throughout your dungeon, keeping everyone focused on the task at hand. Each player can tick a project clock once per downtime, but each tick must go to a different clock. Your imps also take +1d on their downtime action.
War drums might need lots of leather, huge wooden drums, or massive horns.</span>
<span data-i18n="stronghold-room-name7">War Room</span>
<span data-i18n="stronghold-room-desc7">Proper strategy is the key to warfare. You take +1d on engagement rolls for ambush, assault, or strike raid plans. On a success, you gain a dark heart.
A war room might need maps, books on warfare, or intel on your enemies.</span>
<span data-i18n="temple">Temple</span>
<span data-i18n="temple-desc">Serving a Greater Power</span>
<span data-i18n="temple-core-feature-name">Unholy Intervention</span>
<span data-i18n="temple-core-feature-desc">Once per cycle, one member of the dungeon can beseech the dungeon’s deity to cast a tier 3 spell from their domains. You roll the dungeon tier as an action roll with no dice penalty and the GM determines who is open to any consequences.</span>
<span data-i18n="temple-room-name1">Altar</span>
<span data-i18n="temple-room-desc1">You can make a sacrifice at the altar, paying cost to gain a dark blessing (choose one): take +1d on a single roll with an item this cycle - take +1d on your next resistance roll - your next failure instead becomes a mixed. The sacrifice must be unique each time you ask for a blessing.
An altar might need incense, statues, or icons specific to your god's domains.</span>
<span data-i18n="temple-room-name2">Antechamber</span>
<span data-i18n="temple-room-desc2">Between the stairway and sanctum on the final level is an impressive room glorifying your deeds in the name of your dark god. Adventurers stop to take note of it, giving you a dark heart and +1d on the engagement roll before a sanctum fight.
An antechamber might need skulls, the banners of worthy foes, or an artist.</span>
<span data-i18n="temple-room-name3">Augury Circle</span>
<span data-i18n="temple-room-desc3">You can flashback to time spent in the circle, reading portents of future events. You can establish a fact in the present about an NPC's next likely action. What portent did the circle show you and how does it manifest in the present?
An augury circle might need mosaic tiles, a large mirror, or exotic incenses.</span>
<span data-i18n="temple-room-name4">Dormitory</span>
<span data-i18n="temple-room-desc4">Fresh cultists flock to serve your god. You can recruit minions from this room. They always have your god's favored action, chosen when this room is built, as their primary action and start with the mindset (zealous) upgrade for free. This room also acts as a creature with a tier equal to the dungeon tier.
A dormitory might need furniture, accoutrements, or the first batch of pupils.</span>
<span data-i18n="temple-room-name5">Reliquary</span>
<span data-i18n="temple-room-desc5">This room corrupts and amplifies the magic of up to three items of unholy impact placed within it. When an item is placed, it immediately incants a tier 2 ritual causing a persistent effect within your dungeon related to the specific item.
A reliquary does not require special materials beyond the items placed within it.</span>
<span data-i18n="temple-room-name6">Penance Chamber</span>
<span data-i18n="temple-room-desc6">Your minions fear punishment more than death and will never betray you. When they fight to the death, they ignore the dice penalty from being bloodied.
A penance chamber might need shackles, whips, or tar.</span>
<span data-i18n="temple-room-name7">Scriptorium</span>
<span data-i18n="temple-room-desc7">Your deeds are recorded in unholy scripture, immediately giving you wicked xp equal to your dungeon tier. You also gain a new wicked xp trigger: Were your actions worthy of your god’s notice? Each PC must prove their own worth to gain this xp.
A scriptorium might need desks, writing equipment, or leather for binding.</span>
<span data-i18n="defensive-move">Defensive Move</span>
</div>
<rolltemplate class="sheet-rolltemplate-basic">
  {{#character}}<div class="character">{{character}}</div>{{/character}}
  {{#action}}<div class="action">{{action}}</div>{{/action}}
  {{#subaction}}<div class="subaction">{{subaction}}</div>{{/subaction}}
  {{#roll}}<div class="roll">{{roll}}</div>{{/roll}}
  {{#images}}
    <div class="roll image-roll">
      {{#roll1}}
        {{#rollTotal() roll1 1}}
          <span class="roll1">{{roll1}}</span>
        {{/rollTotal() roll1 1}}
        {{#rollTotal() roll1 2}}
          <span class="roll2">{{roll1}}</span>
        {{/rollTotal() roll1 2}}
        {{#rollTotal() roll1 3}}
          <span class="roll3">{{roll1}}</span>
        {{/rollTotal() roll1 3}}
        {{#rollTotal() roll1 4}}
          <span class="roll4">{{roll1}}</span>
        {{/rollTotal() roll1 4}}
        {{#rollTotal() roll1 5}}
          <span class="roll5">{{roll1}}</span>
        {{/rollTotal() roll1 5}}
        {{#rollTotal() roll1 6}}
          <span class="roll6">{{roll1}}</span>
        {{/rollTotal() roll1 6}}
      {{/roll1}}
      {{#roll2}}
        {{#rollTotal() roll2 1}}
          <span class="roll1">{{roll2}}</span>
        {{/rollTotal() roll2 1}}
        {{#rollTotal() roll2 2}}
          <span class="roll2">{{roll2}}</span>
        {{/rollTotal() roll2 2}}
        {{#rollTotal() roll2 3}}
          <span class="roll3">{{roll2}}</span>
        {{/rollTotal() roll2 3}}
        {{#rollTotal() roll2 4}}
          <span class="roll4">{{roll2}}</span>
        {{/rollTotal() roll2 4}}
        {{#rollTotal() roll2 5}}
          <span class="roll5">{{roll2}}</span>
        {{/rollTotal() roll2 5}}
        {{#rollTotal() roll2 6}}
          <span class="roll6">{{roll2}}</span>
        {{/rollTotal() roll2 6}}
      {{/roll2}}
      {{#roll3}}
        {{#rollTotal() roll3 1}}
          <span class="roll1">{{roll3}}</span>
        {{/rollTotal() roll3 1}}
        {{#rollTotal() roll3 2}}
          <span class="roll2">{{roll3}}</span>
        {{/rollTotal() roll3 2}}
        {{#rollTotal() roll3 3}}
          <span class="roll3">{{roll3}}</span>
        {{/rollTotal() roll3 3}}
        {{#rollTotal() roll3 4}}
          <span class="roll4">{{roll3}}</span>
        {{/rollTotal() roll3 4}}
        {{#rollTotal() roll3 5}}
          <span class="roll5">{{roll3}}</span>
        {{/rollTotal() roll3 5}}
        {{#rollTotal() roll3 6}}
          <span class="roll6">{{roll3}}</span>
        {{/rollTotal() roll3 6}}
      {{/roll3}}
      {{#roll4}}
        {{#rollTotal() roll4 1}}
          <span class="roll1">{{roll4}}</span>
        {{/rollTotal() roll4 1}}
        {{#rollTotal() roll4 2}}
          <span class="roll2">{{roll4}}</span>
        {{/rollTotal() roll4 2}}
        {{#rollTotal() roll4 3}}
          <span class="roll3">{{roll4}}</span>
        {{/rollTotal() roll4 3}}
        {{#rollTotal() roll4 4}}
          <span class="roll4">{{roll4}}</span>
        {{/rollTotal() roll4 4}}
        {{#rollTotal() roll4 5}}
          <span class="roll5">{{roll4}}</span>
        {{/rollTotal() roll4 5}}
        {{#rollTotal() roll4 6}}
          <span class="roll6">{{roll4}}</span>
        {{/rollTotal() roll4 6}}
      {{/roll4}}
      {{#roll5}}
        {{#rollTotal() roll5 1}}
          <span class="roll1">{{roll5}}</span>
        {{/rollTotal() roll5 1}}
        {{#rollTotal() roll5 2}}
          <span class="roll2">{{roll5}}</span>
        {{/rollTotal() roll5 2}}
        {{#rollTotal() roll5 3}}
          <span class="roll3">{{roll5}}</span>
        {{/rollTotal() roll5 3}}
        {{#rollTotal() roll5 4}}
          <span class="roll4">{{roll5}}</span>
        {{/rollTotal() roll5 4}}
        {{#rollTotal() roll5 5}}
          <span class="roll5">{{roll5}}</span>
        {{/rollTotal() roll5 5}}
        {{#rollTotal() roll5 6}}
          <span class="roll6">{{roll5}}</span>
        {{/rollTotal() roll5 6}}
      {{/roll5}}
      {{#roll6}}
        {{#rollTotal() roll6 1}}
          <span class="roll1">{{roll6}}</span>
        {{/rollTotal() roll6 1}}
        {{#rollTotal() roll6 2}}
          <span class="roll2">{{roll6}}</span>
        {{/rollTotal() roll6 2}}
        {{#rollTotal() roll6 3}}
          <span class="roll3">{{roll6}}</span>
        {{/rollTotal() roll6 3}}
        {{#rollTotal() roll6 4}}
          <span class="roll4">{{roll6}}</span>
        {{/rollTotal() roll6 4}}
        {{#rollTotal() roll6 5}}
          <span class="roll5">{{roll6}}</span>
        {{/rollTotal() roll6 5}}
        {{#rollTotal() roll6 6}}
          <span class="roll6">{{roll6}}</span>
        {{/rollTotal() roll6 6}}
      {{/roll6}}
      {{#roll7}}
        {{#rollTotal() roll7 1}}
          <span class="roll1">{{roll7}}</span>
        {{/rollTotal() roll7 1}}
        {{#rollTotal() roll7 2}}
          <span class="roll2">{{roll7}}</span>
        {{/rollTotal() roll7 2}}
        {{#rollTotal() roll7 3}}
          <span class="roll3">{{roll7}}</span>
        {{/rollTotal() roll7 3}}
        {{#rollTotal() roll7 4}}
          <span class="roll4">{{roll7}}</span>
        {{/rollTotal() roll7 4}}
        {{#rollTotal() roll7 5}}
          <span class="roll5">{{roll7}}</span>
        {{/rollTotal() roll7 5}}
        {{#rollTotal() roll7 6}}
          <span class="roll6">{{roll7}}</span>
        {{/rollTotal() roll7 6}}
      {{/roll7}}
      {{#roll8}}
        {{#rollTotal() roll8 1}}
          <span class="roll1">{{roll8}}</span>
        {{/rollTotal() roll8 1}}
        {{#rollTotal() roll8 2}}
          <span class="roll2">{{roll8}}</span>
        {{/rollTotal() roll8 2}}
        {{#rollTotal() roll8 3}}
          <span class="roll3">{{roll8}}</span>
        {{/rollTotal() roll8 3}}
        {{#rollTotal() roll8 4}}
          <span class="roll4">{{roll8}}</span>
        {{/rollTotal() roll8 4}}
        {{#rollTotal() roll8 5}}
          <span class="roll5">{{roll8}}</span>
        {{/rollTotal() roll8 5}}
        {{#rollTotal() roll8 6}}
          <span class="roll6">{{roll8}}</span>
        {{/rollTotal() roll8 6}}
      {{/roll8}}
      {{#roll9}}
        {{#rollTotal() roll9 1}}
          <span class="roll1">{{roll9}}</span>
        {{/rollTotal() roll9 1}}
        {{#rollTotal() roll9 2}}
          <span class="roll2">{{roll9}}</span>
        {{/rollTotal() roll9 2}}
        {{#rollTotal() roll9 3}}
          <span class="roll3">{{roll9}}</span>
        {{/rollTotal() roll9 3}}
        {{#rollTotal() roll9 4}}
          <span class="roll4">{{roll9}}</span>
        {{/rollTotal() roll9 4}}
        {{#rollTotal() roll9 5}}
          <span class="roll5">{{roll9}}</span>
        {{/rollTotal() roll9 5}}
        {{#rollTotal() roll9 6}}
          <span class="roll6">{{roll9}}</span>
        {{/rollTotal() roll9 6}}
      {{/roll9}}
    </div>
    {{#allprops() character action subaction roll images zero roll1  roll2 roll3 roll4 roll5 roll6 roll7 roll8 roll9}}
    <div class="roll">{{value}}</div>
    {{/allprops() character action subaction roll images zero roll1  roll2 roll3 roll4 roll5 roll6 roll7 roll8 roll9}}
  {{/images}}
  {{#zero}}<div class="zero">{{zero}}</div>{{/zero}}
  
</rolltemplate>


<link rel="stylesheet" type="text/css" href="Cyberpunk%202k20.css"/>
<div class="sheet-body">
    <input class="sheet-pc" type="radio" value="pc" name="attr_pcToNpc" checked />
    <strong class="sheet-strong-pc">Player</strong>
    <input class="sheet-npc" type="radio" value="npc" name="attr_pcToNpc" />
    <strong class="sheet-strong-npc">NPC</strong>
    <input class="sheet-meta" type="radio" value="meta" name="attr_pcToNpc" />
    <strong class="sheet-strong-meta">Meta Characters</strong>


    <input type="radio" style="float:right; display:block;margin-right:5px;" name="attr_FFNtoFSN" class="sheet-show-FSN" value="1"/>
    <i class="sheet-strong-option">SNS:</i>
    <div class="sheet-strong-option-label sheet-strong-option-FSN" >Use Saturday Night Scuffle combat system (Cybergeneration combat system).</div>
    <input type="radio" style="float:right; display:block;margin-right:5px;" name="attr_FFNtoFSN" class="sheet-show-FFN" value="0" checked/>
    <i class="sheet-strong-option">FNFF:</i>
    <div class="sheet-strong-option-label sheet-strong-option-FFN" >Use Friday Night Fire Fight combat system (Cyberpunk 2020 combat system).</div>
    <input type="checkbox" style="float:right; display:block;margin-right:5px;" name="attr_show-repcontrol" class="sheet-show-repcontrol"/>
    <i class="sheet-strong-option">Edit Mode:</i>
    <div class="sheet-strong-option-label sheet-strong-option-repcontrol" >Edit mode: You can see add and delete option on fieldset.</div>

    <div class="sheet-sectionM">
        <h1 style="position:absolute;top:50px;left:150px;">Meta Characters</h1>
        <div class="sheet-metaBloc">
            <input type="checkbox" class="sheet-edit-meta" name="attr_edit-meta" />
            <div class="sheet-metaRow">
                <span style="Font-Weight: Bold;font-size:x-small;width:100%;display:block;" class="sheet-meta-span" name="attr_metaType"></span>
                <input type="text" style="font-size:x-small;width: 100%;" class="sheet-meta-input" name="attr_metaType" placeholder="Type" />
            </div>
            <div class="sheet-metaRow">
                <div class="sheet-metaCol">
                    <button class="sheet-button-attr" type="roll" name="roll_metaPers" value="&{template:skill}{{name=@{character_name}:@{metaType}}}{{skillname=Perception}}{{result=[[1d10!cf<1+@{metaPerc}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" style="font-size:x-small;">
                        <strong>Perc.</strong>
                    </button>
                </div>
                <div class="sheet-metaCol">
                    <button class="sheet-button-attr" type="roll" name="roll_metaCbt" value="&{template:skill}{{name=@{character_name}:@{metaType}}}{{skillname=Combat}}{{result=[[1d10!cf<1+@{metaCbt}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" style="font-size:x-small;">
                        <strong>Cbt.</strong>
                    </button>
                </div>
                <div class="sheet-metaCol">
                    <button class="sheet-button-attr" type="roll" name="roll_metaInit" value="&{template:skill}{{name=@{character_name}:@{metaType}}}{{skillname=Initiative}}{{result=[[1d10!cf<1+@{metaInit}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" style="font-size:x-small;">
                        <strong>Init.</strong>
                    </button>
                </div>
            </div>
            <div class="sheet-metaRow">
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPerc"></span>
                    <input type="number" class="sheet-meta-input" name="attr_metaPerc" min="0" value="0"/>
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaCbt"></span>
                    <input type="number" class="sheet-meta-input" name="attr_metaCbt" min="0" value="0"/>
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaInit"></span>
                    <input type="number" class="sheet-meta-input" name="attr_metaInit" min="0" value="0"/>
                </div>
            </div>
            <div class="sheet-metaRow">
                <div class="sheet-metaCol">
                    <button class="sheet-button-attr" type="roll" name="roll_metaSpe" value="&{template:skill}{{name=@{character_name}:@{metaType}}}{{skillname=@{metaSpeTxt} }}{{result=[[1d10!cf<1+@{metaSpe}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" style="font-size:x-small;">
                        <strong>Spe.</strong>
                    </button>
                </div>
                <div class="sheet-metaCol">
                    <button class="sheet-button-attr" type="roll" name="roll_metaSpe" value="&{template:skill}{{name=@{character_name}:@{metaType}}}{{skillname=Constitution}}{{result=[[1d10!cf<1+@{metaCon}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" style="font-size:x-small;">
                        <strong>Con.</strong>
                    </button>
                </div>
                <div class="sheet-metaCol">
                    <button class="sheet-button-attr" type="roll" name="roll_metaSpe" value="&{template:skill}{{name=@{character_name}:@{metaType}}}{{skillname=Athletisme}}{{result=[[1d10!cf<1+@{metaAthl}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" style="font-size:x-small;">
                        <strong>Athl.</strong>
                    </button>
                </div>
            </div>
            <div class="sheet-metaRow">
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaSpe"></span>
                    <input type="number" class="sheet-meta-input" name="attr_metaSpe" min="0" value="0"/>
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaCon"></span>
                    <input type="number" class="sheet-meta-input" name="attr_metaCon" min="0" value="0"/>
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaCon"></span>
                    <input type="number" class="sheet-meta-input" name="attr_metaAthl" min="0" value="0"/>
                </div>
            </div>
            <div class="sheet-metaRow">
                <span style="font-size:x-small;width:150px;display:block;" class="sheet-meta-span" name="attr_metaSpeTxt"></span>
                <input type="text" style="font-size:x-small;width: 100%;" class="sheet-meta-input" name="attr_metaSpeTxt" placeholder="specialty" />
            </div>
            <div class="sheet-metaRow">
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">Run</strong>
                </div>
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">BTM</strong>
                </div>
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">MC</strong>
                </div>
            </div>
            <div class="sheet-metaRow">
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaRun"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaRun" value="30" />
                </div>
                <div class="sheet-metaCol">
                    <span name="attr_metaBtm"></span>
                    <input type="hidden" name="attr_metaBtm" value="0" />
                </div>
                <div class="sheet-metaCol">
                    <span name="attr_metaMc"></span>
                    <input type="hidden" name="attr_metaMc" value="0" />
                </div>
            </div>
            <div class="sheet-metaRow" style="text-align: center;">
                <div style="width: 100%; color:white; background:#3c4e72;float:left;"><strong>PA</strong></div>
            </div>
            <div class="sheet-FFN sheet-metaRow">
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">Head</strong>
                </div>
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">L.Arm</strong>
                </div>
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">R.Arm</strong>
                </div>
            </div>
            <div class="sheet-FFN sheet-metaRow">
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPaHead"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaPaHead" value="0" />
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPaLArm"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaPaLArm" value="0" />
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPaRArm"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaPaRArm" value="0" />
                </div>
            </div>
            <div class="sheet-FFN sheet-metaRow">
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">Torso</strong>
                </div>
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">L.Leg</strong>
                </div>
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">R.Leg</strong>
                </div>
            </div>
            <div class="sheet-FFN sheet-metaRow">
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPaTorso"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaPaTorso" value="0" />
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPaLLeg"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaPaLLeg" value="0" />
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPaRLeg"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaPaRLeg" value="0" />
                </div>
            </div>
            <div class="sheet-FSN sheet-metaRow">
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" style="width:90px;" name="attr_metaFSN_Armor"></span>
                    <select class="sheet-meta-input" name="attr_metaFSN_armor">
                        <option value="SP:0 None">None</option>
                        <option value="SP:1 Leather">Leather</option>
                        <option value="SP:2 Soft">Soft</option>
                        <option value="SP:3 Light">light</option>
                        <option value="SP:4 Soft+Light">Soft+Light</option>
                        <option value="SP:5 Medium">Medium</option>
                        <option value="SP:6 Heavy">Heavy</option>
                        <option value="SP:7 Plated">Plated</option>
                        <option value="SP:8 Borg">Borg</option>
                    </select>
                </div>
            </div>
            <div class="sheet-metaRow" style="text-align: center;">
                <div style="width: 100%; color:white; background:#3c4e72;float:left;"><strong>Injury</strong></div>
            </div>
            <fieldset class="repeating_metaHealth">
                <div class="sheet-hpBlock">
                    <input type="number" value="" min="0" max="41" name="attr_metaHp"/>
                    <input type="hidden" value="0" name="attr_metaStun"/>
                    <input type="hidden" value="0" name="attr_metaDeath"/>
                    <button name="roll_metaSave" value="&{template:save}{{name=@{character_name}:@{metaType}}}{{saveS=[[1d10!cf<1]]}}{{rangeS=[[@{metaStun}+?{mod.|0}]]}}{{saveD=[[1d10!cf<1]]}}{{rangeD=[[@{metaDeath}+?{mod.|0}]]}}" type="roll">Save</button>
                </div>
            </fieldset>
        </div>
        <div class="sheet-metaBloc">
            <input type="checkbox" class="sheet-edit-meta" name="attr_edit-meta2" />
            <div class="sheet-metaRow">
                <span style="Font-Weight: Bold;font-size:x-small;width:100%;display:block;" class="sheet-meta-span" name="attr_metaType2"></span>
                <input type="text" style="font-size:x-small;width: 100%;" class="sheet-meta-input" name="attr_metaType2" placeholder="Type" />
            </div>
            <div class="sheet-metaRow">
                <div class="sheet-metaCol">
                    <button class="sheet-button-attr" type="roll" name="roll_metaPers2" value="&{template:skill}{{name=@{character_name}:@{metaType2}}}{{skillname=Perception}}{{result=[[1d10!cf<1+@{metaPerc2}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" style="font-size:x-small;">
                        <strong>Perc.</strong>
                    </button>
                </div>
                <div class="sheet-metaCol">
                    <button class="sheet-button-attr" type="roll" name="roll_metaCbt2" value="&{template:skill}{{name=@{character_name}:@{metaType2}}}{{skillname=Combat}}{{result=[[1d10!cf<1+@{metaCbt2}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" style="font-size:x-small;">
                        <strong>Cbt.</strong>
                    </button>
                </div>
                <div class="sheet-metaCol">
                    <button class="sheet-button-attr" type="roll" name="roll_metaInit2" value="&{template:skill}{{name=@{character_name}:@{metaType2}}}{{skillname=Initiative}}{{result=[[1d10!cf<1+@{metaInit2}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" style="font-size:x-small;">
                        <strong>Init.</strong>
                    </button>
                </div>
            </div>
            <div class="sheet-metaRow">
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPerc2"></span>
                    <input type="number" class="sheet-meta-input" name="attr_metaPerc2" min="0" value="0"/>
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaCbt2"></span>
                    <input type="number" class="sheet-meta-input" name="attr_metaCbt2" min="0" value="0"/>
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaInit2"></span>
                    <input type="number" class="sheet-meta-input" name="attr_metaInit2" min="0" value="0"/>
                </div>
            </div>
            <div class="sheet-metaRow">
                <div class="sheet-metaCol">
                    <button class="sheet-button-attr" type="roll" name="roll_metaSpe2" value="&{template:skill}{{name=@{character_name}:@{metaType2}}}{{skillname=@{metaSpeTxt} }}{{result=[[1d10!cf<1+@{metaSpe2}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" style="font-size:x-small;">
                        <strong>Spe.</strong>
                    </button>
                </div>
                <div class="sheet-metaCol">
                    <button class="sheet-button-attr" type="roll" name="roll_metaSpe2" value="&{template:skill}{{name=@{character_name}:@{metaType2}}}{{skillname=Constitution}}{{result=[[1d10!cf<1+@{metaCon2}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" style="font-size:x-small;">
                        <strong>Con.</strong>
                    </button>
                </div>
                <div class="sheet-metaCol">
                    <button class="sheet-button-attr" type="roll" name="roll_metaSpe2" value="&{template:skill}{{name=@{character_name}:@{metaType2}}}{{skillname=Athletisme}}{{result=[[1d10!cf<1+@{metaAthl2}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" style="font-size:x-small;">
                        <strong>Athl.</strong>
                    </button>
                </div>
            </div>
            <div class="sheet-metaRow">
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaSpe2"></span>
                    <input type="number" class="sheet-meta-input" name="attr_metaSpe2" min="0" value="0"/>
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaCon2"></span>
                    <input type="number" class="sheet-meta-input" name="attr_metaCon2" min="0" value="0"/>
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaAthl2"></span>
                    <input type="number" class="sheet-meta-input" name="attr_metaAthl2" min="0" value="0"/>
                </div>
            </div>
            <div class="sheet-metaRow">
                <span style="font-size:x-small;width:150px;display:block;" class="sheet-meta-span" name="attr_metaSpeTxt2"></span>
                <input type="text" style="font-size:x-small;width: 100%;" class="sheet-meta-input" name="attr_metaSpeTxt2" placeholder="specialty" />
            </div>
            <div class="sheet-metaRow">
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">Run</strong>
                </div>
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">BTM</strong>
                </div>
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">MC</strong>
                </div>
            </div>
            <div class="sheet-metaRow">
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaRun2"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaRun2" value="30" />
                </div>
                <div class="sheet-metaCol">
                    <span name="attr_metaBtm2"></span>
                    <input type="hidden" name="attr_metaBtm2" value="0" />
                </div>
                <div class="sheet-metaCol">
                    <span name="attr_metaMc2"></span>
                    <input type="hidden" name="attr_metaMc2" value="0" />
                </div>
            </div>
            <div class="sheet-metaRow" style="text-align: center;">
                <div style="width: 100%; color:white; background:#3c4e72;float:left;"><strong>PA</strong></div>
            </div>
            <div class="sheet-FFN sheet-metaRow">
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">Head</strong>
                </div>
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">L.Arm</strong>
                </div>
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">R.Arm</strong>
                </div>
            </div>
            <div class="sheet-FFN sheet-metaRow">
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPaHead2"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaPaHead2" value="0" />
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPaLArm2"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaPaLArm2" value="0" />
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPaRArm2"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaPaRArm2" value="0" />
                </div>
            </div>
            <div class="sheet-FFN sheet-metaRow">
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">Torso</strong>
                </div>
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">L.Leg</strong>
                </div>
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">R.Leg</strong>
                </div>
            </div>
            <div class="sheet-FFN sheet-metaRow">
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPaTorso2"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaPaTorso2" value="0" />
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPaLLeg2"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaPaLLeg2" value="0" />
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPaRLeg2"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaPaRLeg2" value="0" />
                </div>
            </div>
            <div class="sheet-FSN sheet-metaRow">
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" style="width:90px;" name="attr_metaFSN_Armor2"></span>
                    <select class="sheet-meta-input" name="attr_metaFSN_armor2">
                        <option value="SP:0 None">None</option>
                        <option value="SP:1 Leather">Leather</option>
                        <option value="SP:2 Soft">Soft</option>
                        <option value="SP:3 Light">light</option>
                        <option value="SP:4 Soft+Light">Soft+Light</option>
                        <option value="SP:5 Medium">Medium</option>
                        <option value="SP:6 Heavy">Heavy</option>
                        <option value="SP:7 Plated">Plated</option>
                        <option value="SP:8 Borg">Borg</option>
                    </select>
                </div>
            </div>
            <div class="sheet-metaRow" style="text-align: center;">
                <div style="width: 100%; color:white; background:#3c4e72;float:left;"><strong>Injury</strong></div>
            </div>
            <fieldset class="repeating_metaHealth2">
                <div class="sheet-hpBlock">
                    <input type="number" value="" min="0" max="41" name="attr_metaHp"/>
                    <input type="hidden" value="0" name="attr_metaStun"/>
                    <input type="hidden" value="0" name="attr_metaDeath"/>
                    <button name="roll_metaSave" value="&{template:save}{{name=@{character_name}:@{metaType}}}{{saveS=[[1d10!cf<1]]}}{{rangeS=[[@{metaStun}+?{mod.|0}]]}}{{saveD=[[1d10!cf<1]]}}{{rangeD=[[@{metaDeath}+?{mod.|0}]]}}" type="roll">Save</button>
                </div>
            </fieldset>
        </div>
        <div class="sheet-metaBloc">
            <input type="checkbox" class="sheet-edit-meta" name="attr_edit-meta3" />
            <div class="sheet-metaRow">
                <span style="Font-Weight: Bold;font-size:x-small;width:100%;display:block;" class="sheet-meta-span" name="attr_metaType3"></span>
                <input type="text" style="font-size:x-small;width: 100%;" class="sheet-meta-input" name="attr_metaType3" placeholder="Type" />
            </div>
            <div class="sheet-metaRow">
                <div class="sheet-metaCol">
                    <button class="sheet-button-attr" type="roll" name="roll_metaPers3" value="&{template:skill}{{name=@{character_name}:@{metaType3}}}{{skillname=Perception}}{{result=[[1d10!cf<1+@{metaPerc3}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" style="font-size:x-small;">
                        <strong>Perc.</strong>
                    </button>
                </div>
                <div class="sheet-metaCol">
                    <button class="sheet-button-attr" type="roll" name="roll_metaCbt3" value="&{template:skill}{{name=@{character_name}:@{metaType3}}}{{skillname=Combat}}{{result=[[1d10!cf<1+@{metaCbt3}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" style="font-size:x-small;">
                        <strong>Cbt.</strong>
                    </button>
                </div>
                <div class="sheet-metaCol">
                    <button class="sheet-button-attr" type="roll" name="roll_metaInit3" value="&{template:skill}{{name=@{character_name}:@{metaType3}}}{{skillname=Initiative}}{{result=[[1d10!cf<1+@{metaInit3}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" style="font-size:x-small;">
                        <strong>Init.</strong>
                    </button>
                </div>
            </div>
            <div class="sheet-metaRow">
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPerc3"></span>
                    <input type="number" class="sheet-meta-input" name="attr_metaPerc3" min="0" value="0"/>
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaCbt3"></span>
                    <input type="number" class="sheet-meta-input" name="attr_metaCbt3" min="0" value="0"/>
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaInit3"></span>
                    <input type="number" class="sheet-meta-input" name="attr_metaInit3" min="0" value="0"/>
                </div>
            </div>
            <div class="sheet-metaRow">
                <div class="sheet-metaCol">
                    <button class="sheet-button-attr" type="roll" name="roll_metaSpe3" value="&{template:skill}{{name=@{character_name}:@{metaType3}}}{{skillname=@{metaSpeTxt} }}{{result=[[1d10!cf<1+@{metaSpe3}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" style="font-size:x-small;">
                        <strong>Spe.</strong>
                    </button>
                </div>
                <div class="sheet-metaCol">
                    <button class="sheet-button-attr" type="roll" name="roll_metaCon3" value="&{template:skill}{{name=@{character_name}:@{metaType3}}}{{skillname=Constitution}}{{result=[[1d10!cf<1+@{metaCon3}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" style="font-size:x-small;">
                        <strong>Con.</strong>
                    </button>
                </div>
                <div class="sheet-metaCol">
                    <button class="sheet-button-attr" type="roll" name="roll_metaAthl3" value="&{template:skill}{{name=@{character_name}:@{metaType3}}}{{skillname=Athletisme}}{{result=[[1d10!cf<1+@{metaAthl3}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" style="font-size:x-small;">
                        <strong>Athl.</strong>
                    </button>
                </div>
            </div>
            <div class="sheet-metaRow">
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaSpe3"></span>
                    <input type="number" class="sheet-meta-input" name="attr_metaSpe3" min="0" value="0"/>
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaCon3"></span>
                    <input type="number" class="sheet-meta-input" name="attr_metaCon3" min="0" value="0"/>
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaAthl3"></span>
                    <input type="number" class="sheet-meta-input" name="attr_metaAthl3" min="0" value="0"/>
                </div>
            </div>
            <div class="sheet-metaRow">
                <span style="font-size:x-small;width:150px;display:block;" class="sheet-meta-span" name="attr_metaSpeTxt3"></span>
                <input type="text" style="font-size:x-small;width: 100%;" class="sheet-meta-input" name="attr_metaSpeTxt3" placeholder="specialty" />
            </div>
            <div class="sheet-metaRow">
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">Run</strong>
                </div>
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">BTM</strong>
                </div>
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">MC</strong>
                </div>
            </div>
            <div class="sheet-metaRow">
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaRun3"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaRun3" value="30" />
                </div>
                <div class="sheet-metaCol">
                    <span name="attr_metaBtm3"></span>
                    <input type="hidden" name="attr_metaBtm3" value="0" />
                </div>
                <div class="sheet-metaCol">
                    <span name="attr_metaMc3"></span>
                    <input type="hidden" name="attr_metaMc3" value="0" />
                </div>
            </div>
            <div class="sheet-metaRow" style="text-align: center;">
                <div style="width: 100%; color:white; background:#3c4e72;float:left;"><strong>PA</strong></div>
            </div>
            <div class="sheet-FFN sheet-metaRow">
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">Head</strong>
                </div>
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">L.Arm</strong>
                </div>
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">R.Arm</strong>
                </div>
            </div>
            <div class="sheet-FFN sheet-metaRow">
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPaHead3"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaPaHead3" value="0" />
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPaLArm3"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaPaLArm3" value="0" />
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPaRArm3"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaPaRArm3" value="0" />
                </div>
            </div>
            <div class="sheet-FFN sheet-metaRow">
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">Torso</strong>
                </div>
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">L.Leg</strong>
                </div>
                <div class="sheet-metaCol">
                    <strong style="font-size:x-small;">R.Leg</strong>
                </div>
            </div>
            <div class="sheet-FFN sheet-metaRow">
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPaTorso3"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaPaTorso3" value="0" />
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPaLLeg3"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaPaLLeg3" value="0" />
                </div>
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" name="attr_metaPaRLeg3"></span>
                    <input class="sheet-meta-input" type="number" min="0" name="attr_metaPaRLeg3" value="0" />
                </div>
            </div>
            <div class="sheet-FSN sheet-metaRow">
                <div class="sheet-metaCol">
                    <span class="sheet-meta-span" style="width:90px;" name="attr_metaFSN_Armor3"></span>
                    <select class="sheet-meta-input" name="attr_metaFSN_armor3">
                        <option value="SP:0 None">None</option>
                        <option value="SP:1 Leather">Leather</option>
                        <option value="SP:2 Soft">Soft</option>
                        <option value="SP:3 Light">light</option>
                        <option value="SP:4 Soft+Light">Soft+Light</option>
                        <option value="SP:5 Medium">Medium</option>
                        <option value="SP:6 Heavy">Heavy</option>
                        <option value="SP:7 Plated">Plated</option>
                        <option value="SP:8 Borg">Borg</option>
                    </select>
                </div>
            </div>
            <div class="sheet-metaRow" style="text-align: center;">
                <div style="width: 100%; color:white; background:#3c4e72;float:left;"><strong>Injury</strong></div>
            </div>
            <fieldset class="repeating_metaHealth3">
                <div class="sheet-hpBlock">
                    <input type="number" value="" min="0" max="41" name="attr_metaHp"/>
                    <input type="hidden" value="0" name="attr_metaStun"/>
                    <input type="hidden" value="0" name="attr_metaDeath"/>
                    <button name="roll_metaSave" value="&{template:save}{{name=@{character_name}:@{metaType}}}{{saveS=[[1d10!cf<1]]}}{{rangeS=[[@{metaStun}+?{mod.|0}]]}}{{saveD=[[1d10!cf<1]]}}{{rangeD=[[@{metaDeath}+?{mod.|0}]]}}" type="roll">Save</button>
                </div>
            </fieldset>
        </div>
        <div class="sheet-metaBloc" style="width:350px;">
            <div class="sheet-FFN">
                <div>
                    <i>Target :</i>
                    <input name="attr_loc" value="[[1d10]]" type="radio"/><i>All body</i>
                    <input name="attr_loc" value="[[1d6]]" type="radio" checked /><i>Upper body</i>
                    <input name="attr_loc" value="[[1]]" type="radio" /><i>Head</i>
                    <input name="attr_target" type="hidden" />
                    <input type="hidden" name="attr_dmgCrt" value="[[1d10]]" />
                </div>
            </div>
            <div class="sheet-FFN">
                <div class="sheet-brawl">
                    <div class="sheet-2colrow">
                        <div class="sheet-col" style="width:260px;">
                            <h6 style="margin-left:0;">Brawling Damage</h6>
                            <select name="attr_brawlWp" style="width:90px; margin-top:5px;">
                                <option value="{{weapon=Hand}}{{dmg=[[ceil(1d6/2)+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}">Hand</option>
                                <option value="{{weapon=Kick}}{{dmg=[[1d6+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}">Kick</option>
                                <option value="{{weapon=Throw}}{{dmg=[[1d6+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}">Throw</option>
                                <option value="{{weapon=Cyberarm}}{{dmg=[[(1*@{brawlcybertype})d6+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}">Cyberarm</option>
                                <option value="{{weapon=Cyberleg}}{{dmg=[[(2*@{brawlcybertype})d6+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}">Cyberleg</option>
                                <option value="{{weapon=Cyberarm}}{{dmg=[[(2*@{brawlcybertype})d6+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}">Crush(Cyberarm)</option>
                            </select>
                            <button type="roll" value="&{template:weaponAttack}{{name=@{character_name}}}@{brawlWp}{{loc=[[@{loc}]]}}{{target=@{target}}}{{dmgCrt=@{dmgCrt}}}" name="roll_brawlingAttackRoll"></button>
                        </div>
                        <div class="sheet-col" style="width:90px;float:right;margin-top:-60px;">
                            <h6>Cyberlimb</h6>
                            <div>
                                <input type="radio" name="attr_brawlcybertype" value="1" checked /><strong>Standard</strong>
                            </div>
                            <div>
                                <input type="radio" name="attr_brawlcybertype" value="2" /><strong>Myomar</strong>
                            </div>
                            <div>
                                <input type="radio" name="attr_brawlcybertype" value="3" /><strong>Hydraulic</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sheet-FSN">
                <div class="sheet-brawl">
                    <div class="sheet-2colrow">
                        <div class="sheet-col" style="width:260px;">
                            <h6 style="margin-left:0;">Brawling Damage</h6>
                            <select name="attr_brawlWp" style="width:90px; margin-top:5px;">
                                <option value="{{weapon=Hand}}{{cat=[[2]]}}">Hand</option>
                                <option value="{{weapon=Kick}}{{cat=[[3]]}}">Kick</option>
                                <option value="{{weapon=Choke Hold}}{{cat=[[5]]}}">Choke Hold</option>
                                <option value="{{weapon=Throw}}{{cat=[[3]]}}">Throw</option>
                                <option value="{{weapon=Cyberarm}}{{cat=[[3]]}}">Cyberarm</option>
                                <option value="{{weapon=Cyberleg}}{{cat=[[4]]}}">Cyberleg</option>
                                <option value="{{weapon=Cyberarm}}{{cat=[[4]]}}">Crush(Cyberarm)</option>
                            </select>
                            <button type="roll" value="&{template:weaponAttack-FSN}{{name=@{character_name}}}@{brawlWp}{{dmg=[[1d10+@{mc}+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}" name="roll_brawlingAttackRoll"></button>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <h6 style="margin:0;">Melee Weapons & Weapons with MC</h6>
                <select name="attr_metaMeleeWeapon">
                    <option class="sheet-color1" value="Switchblade">Switchblade</option>
                    <option class="sheet-color1" value="Knife">Knife</option>
                    <option class="sheet-color1" value="Combat Knife">Combat Knife</option>
                    <option class="sheet-color1" value="Mono Knife">Mono Knife</option>
                    <option class="sheet-color2" value="Club">Club</option>
                    <option class="sheet-color2" value="Baseball Club">Baseball Club</option>
                    <option class="sheet-color2" value="Maul">Maul</option>
                    <option class="sheet-color2" value="Tonfa">Tonfa</option>
                    <option class="sheet-color2" value="Excalibur Tonfa">Excalibur Tonfa</option>
                    <option class="sheet-color1" value="Sword">Sword</option>
                    <option class="sheet-color1" value="Katana">Katana</option>
                    <option class="sheet-color1" value="Mono Katana">Mono Katana</option>
                    <option class="sheet-color1" value="Power Sword">Power Sword</option>
                    <option class="sheet-color2" value="Chain">Chain</option>
                    <option class="sheet-color2" value="Nunchaku">Nunchaku</option>
                    <option class="sheet-color1" value="Axe">Axe</option>
                    <option class="sheet-color1" value="Chainsaw">Chainsaw</option>
                    <option class="sheet-color2" value="Slice & Dice">Slice & Dice</option>
                    <option class="sheet-color1" value="Shuriken">Shuriken</option>
                    <option class="sheet-color1" value="Bow">Bow</option>
                    <option class="sheet-color1" value="Combat Bow">Combat Bow</option>
                </select>
                <input type="hidden" name="attr_metaMeleeWeaponDmg"/>
                <input type="hidden" name="attr_metaMeleeWeaponDmgSNS"/>
                <strong>AP:</strong>
                <input type="radio" value="AP" name="attr_metaMeleeAP" /><i>Yes</i>
                <input type="radio" value=" " name="attr_metaMeleeAP" checked /><i>No</i>
                <button class="sheet-FFN" type="roll" value="&{template:weaponAttack}{{name=@{character_name}}}{{weapon=@{metaMeleeWeapon}}}{{AP=@{metaMeleeAP}}}{{target=@{target}}}{{dmg=[[ @{metaMeleeWeaponDmg}+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}{{loc=[[@{loc}]]}}{{dmgCrt=@{dmgCrt}}}" name="roll_MetaDamageRollMelee"></button>
                <button class="sheet-FSN" type="roll" value="&{template:weaponAttack-FSN}{{name=@{character_name}}}{{weapon=@{metaMeleeWeapon}}}{{AP=@{metaMeleeAP}}}{{cat=[[@{metaMeleeWeaponDmgSNS}]]}}{{dmg=[[ 1d10+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}" name="roll_MetaDamageRollMeleeSNS"></button>
            </div>
            <div>
                <h6 style="margin:0;">Ranged Weapons</h6>
                <select name="attr_metaRangedWeapon">
                    <option class="sheet-color1" value="Light Handgun">Light Handgun</option>
                    <option class="sheet-color1" value="Medium Handgun">Medium Handgun</option>
                    <option class="sheet-color1" value="Heavy Handgun">Heavy Handgun</option>
                    <option class="sheet-color1" value="Very Heavy Handgun">Very Heavy Handgun</option>
                    <option class="sheet-color1" value="Borg Handgun">Borg Handgun</option>
                    <option class="sheet-color2" value="Light SMG">Light SMG</option>
                    <option class="sheet-color2" value="Medium SMG">Medium SMG</option>
                    <option class="sheet-color2" value="Heavy SMG">Heavy SMG</option>
                    <option class="sheet-color2" value="Very Heavy SMG">Very Heavy SMG</option>
                    <option class="sheet-color2" value="Borg SMG">Borg SMG</option>
                    <option class="sheet-color1" value="Shotgun C20">Shotgun C20</option>
                    <option class="sheet-color1" value="Shotgun C12">Shotgun C12</option>
                    <option class="sheet-color1" value="Shotgun C10">Shotgun C10</option>
                    <option class="sheet-color2" value="Medium Rifle">Medium Rifle</option>
                    <option class="sheet-color2" value="Heavy Rifle">Heavy Rifle</option>
                    <option class="sheet-color2" value="Very Heavy Rifle">Very Heavy Rifle</option>
                    <option class="sheet-color2" value="20mm Rifle">20mm Riffle</option>
                    <option class="sheet-color1" value="Light LMG">Light LMG</option>
                    <option class="sheet-color1" value="Medium LMG">Medium LMG</option>
                    <option class="sheet-color1" value="Heavy LMG">Heavy LMG</option>
                    <option class="sheet-color2" value="Dart Handgun">Dart Handgun</option>
                    <option class="sheet-color2" value="Dart Rifle">Dart Rifle</option>
                    <option class="sheet-color1" value="Laser Rifle">Laser Rifle</option>
                    <option class="sheet-color1" value="Laser Cannon">Laser Cannon</option>
                    <option class="sheet-color2" value="25mm Cannon">25mm Cannon</option>
                    <option class="sheet-color2" value="30mm Cannon">30mm Cannon</option>
                    <option class="sheet-color1" value="Grenade 25mm">Grenade 25mm</option>
                    <option class="sheet-color1" value="Grenade 40mm">Grenade 40mm</option>
                    <option class="sheet-color1" value="Grenade Frag">Grenade Frag</option>
                    <option class="sheet-color2" value="Mini Missile Launcher">Mini Missile Launcher</option>
                    <option class="sheet-color2" value="Missile Launcher">Missile Launcher</option>
                    <option class="sheet-color2" value="Rocket Launcher">Rocket Launcher</option>
                    <option class="sheet-color1" value="Lance Flamme">Lance Flamme</option>
                    <option class="sheet-color2" value="Crossbow">Crossbow</option>
                </select>
                <input type="hidden" name="attr_metaRangedWeaponDmg"/>
                <input type="hidden" name="attr_metaRangedWeaponDmgSNS"/>
                <strong>AP:</strong>
                <input type="radio" value="AP" name="attr_metaRangedAP" /><i>Yes</i>
                <input type="radio" value=" " name="attr_metaRangedAP" checked /><i>No</i>
                <button class="sheet-FFN" type="roll" value="&{template:weaponAttack}{{name=@{character_name}}}{{weapon=@{metaRangedWeapon}}}{{AP=@{metaRangedAP}}}{{target=@{target}}}{{hit=[[?{Nb.Hit:|1|2|3|4|5|6|7|8|9|10}]]}}{{dmg=@{metaRangedWeaponDmg}}}{{dmgCrt=@{dmgCrt}}}{{loc=@{loc}}}{{dmgA=@{metaRangedWeaponDmg}}}{{dmgCrtA=@{dmgCrt}}}{{locA=@{loc}}}{{dmgB=@{metaRangedWeaponDmg}}}{{dmgCrtB=@{dmgCrt}}}{{locB=@{loc}}}{{dmgC=@{metaRangedWeaponDmg}}}{{dmgCrtC=@{dmgCrt}}}{{locC=@{loc}}}{{dmgD=@{metaRangedWeaponDmg}}}{{dmgCrtD=@{dmgCrt}}}{{locD=@{loc}}}{{dmgE=@{metaRangedWeaponDmg}}}{{dmgCrtE=@{dmgCrt}}}{{locE=@{loc}}}{{dmgF=@{metaRangedWeaponDmg}}}{{dmgCrtF=@{dmgCrt}}}{{locF=@{loc}}}{{dmgG=@{metaRangedWeaponDmg}}}{{dmgCrtG=@{dmgCrt}}}{{locG=@{loc}}}{{dmgH=@{metaRangedWeaponDmg}}}{{dmgCrtH=@{dmgCrt}}}{{locH=@{loc}}}{{dmgI=@{metaRangedWeaponDmg}}}{{dmgCrtI=@{dmgCrt}}}{{locI=@{loc}}}" name="roll_MetaDamageRoll"></button>
                <button class="sheet-FSN" type="roll" value="&{template:weaponAttack-FSN}{{name=@{character_name}}}{{weapon=@{metaRangedWeapon}}}{{AP=@{metaRangedAP}}}{{hit=[[?{Nb.Hit:|1|2|3|4|5|6|7|8|9|10}]]}}{{cat=[[@{metaRangedWeaponDmgSNS}]]}}{{dmg=[[1d10]]}}{{dmgA=[[1d10]]}}{{dmgB=[[1d10]]}}{{dmgC=[[1d10]]}}{{dmgD=[[1d10]]}}{{dmgE=[[1d10]]}}{{dmgF=[[1d10]]}}{{dmgG=[[1d10]]}}{{dmgH=[[1d10]]}}{{dmgI=[[1d10]]}}" name="roll_MetaDamageRollSNS"></button>
            </div>
        </div>
    </div>
    <div class="sheet-section0">
        <img style="display:block;margin-left: 30px;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Cyberpunk%202k20/cyberpunk-logo.png" />
        <h1>NPC Character Sheet</h1>
        <div class="sheet-block-attributs">
            <input type="checkbox" class="sheet-edit-attr" />
            <div class="sheet-3colrow">
                <div class='sheet-col' style="width:90px;">
                    <button class="sheet-button-attr" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=Ref}}{{result=[[1d10!cf<1+@{ref}-@{enc}-@{refpenality}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}' name='roll_ref'>REF</button>
                    <span class="sheet-attr-span" name="attr_ref"></span>
                    <input class="sheet-attr-input" type="number" value="0" maxlength="2" max="20" name="attr_ref" />
                    <input type="hidden" name="attr_refpenality" value="0" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <button class="sheet-button-attr" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=Int}}{{result=[[1d10!cf<1+@{int}-@{intpenality}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}' name='roll_int'>INT</button>
                    <span class="sheet-attr-span" name="attr_int"></span>
                    <input class="sheet-attr-input" type="number" value="0" maxlength="2" max="30" name="attr_int" />
                    <input type="hidden" name="attr_intpenality" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <button class="sheet-button-attr" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=Cool}}{{result=[[1d10!cf<1+@{cool}-@{coolpenality}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}' name='roll_cool'>COOL</button>
                    <span class="sheet-attr-span" name="attr_cool"></span>
                    <input class="sheet-attr-input" type="number" value="0" maxlength="2" max="15" name="attr_cool" />
                    <input type="hidden" name="attr_coolpenality" />
                </div>
            </div>
            <div class="sheet-3colrow">
                <div class='sheet-col' style="width:90px;">
                    <button class="sheet-button-attr" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=Body}}{{result=[[1d10!cf<1+@{body}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}' name='roll_body'>BODY</button>
                    <span class="sheet-attr-span" name="attr_body"></span>
                    <input class="sheet-attr-input" type="number" value="0" maxlength="2" max="20" name="attr_body" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    MA
                    <span class="sheet-attr-span" name="attr_ma"></span>
                    <input class="sheet-attr-input" type="number" value="0" maxlength="2" max="30" name="attr_ma" />
                </div>
            </div>
            <div class="sheet-3colrow">
                <div class='sheet-col' style="width:90px;">
                    <strong>Run</strong>
                    <span class="sheet-attr-span" name="attr_run"></span>
                    <input class="sheet-attr-input" type="number" style="font-size: small" size="2" name="attr_run" value="0" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <strong>Leap</strong>
                    <span class="sheet-attr-span" name="attr_leap"></span>
                    <input class="sheet-attr-input" type="number" style="font-size: small" size="2" name="attr_leap" value="0" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <strong>Lift</strong>
                    <span class="sheet-attr-span" name="attr_lift"></span>
                    <input class="sheet-attr-input" type="number" style="font-size: small" size="2" name="attr_lift" value="0" />
                </div>
            </div>
            <div class="sheet-3colrow">
                <div class='sheet-col' style="width:90px;">
                    <strong>BTM</strong>
                    <span class="sheet-attr-span" name="attr_btm"></span>
                    <input class="sheet-attr-input" type="number" style="font-size: small" size="2" name="attr_btm" value="0" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <strong>MC</strong>
                    <span class="sheet-attr-span" name="attr_mc"></span>
                    <input class="sheet-attr-input" type="number" style="font-size: small" size="2" name="attr_mc" value="0" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <button class="sheet-button-attr" type='roll' value='&{template:initiative}{{name=@{character_name}}}{{skillname=Initiative}}{{result=[[1d10!cf<1+@{ref}+@{init}-@{refpenality}-@{enc}+?{mod.|0}&{tracker}]]}}{{mod=?{mod.|0}}}' name='roll_init'>
                        <strong>Init.</strong>
                    </button>
                    <span class="sheet-attr-span" name="attr_init"></span>
                    <input class="sheet-attr-input" type="number" maxlength="2" max="30" name="attr_init" value="0" />
                </div>
            </div>
            <div class="sheet-3colrow sheet-hidden-bonus" >
                <div class='sheet-col' style="width:90px;">
                    <div class="sheet-attr-input" >Bonus dmg (close)</div>
                    <input type="number" name="attr_meleeDmgBonus" size="2" value="0" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <div class="sheet-attr-input" >Bonus Save Stun</div>
                    <input type="number" maxlength="2" max="30" name="attr_saveS" value="0" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <div class="sheet-attr-input" >Bonus Save Death</div>
                    <input type="number" maxlength="2" max="30" name="attr_saveD" value="0" />
                </div>
            </div>
            <div class="sheet-3colrow sheet-hidden-bonus" >
                <div class='sheet-col' style="width:90px;">
                    <div class="sheet-attr-input" >Bonus Run</div>
                    <input type="number" name="attr_runBonus" min="0" value="0" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <div class="sheet-attr-input" >Bonus Leap</div>
                    <input type="number" min="0" name="attr_leapBonus" value="0" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <div class="sheet-attr-input" >Bonus Lift</div>
                    <input type="number" min="0" name="attr_liftBonus" value="0" />
                </div>
            </div>
        </div>
        <hr>
        <div style="clear:both">
            <div style="margin-left:15px;">
                <h6 class="sheet-block-skills">Skills:</h6>
            </div>
            <input style="margin-top:-15px; float:left;" class="sheet-show-skill" type="checkbox"/>
            <input type="checkbox" name="attr_show-repcontrol" class="sheet-show-repcontrol"/>
            <fieldset class="repeating_SecondarySkills">
                    <span class="sheet-skill-short">
                        <button class="sheet-skill-button" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=@{skillName} }} {{result=[[1d10!cf<1 + @{skillVal} + @{skillAttr} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{skillVal}]]}}' name='roll_skillRoll'>
                            &nbsp;<span name="attr_skillName"></span>
                            <span name="attr_skillVal"></span>,
                        </button>
                    </span>
                <div class="sheet-skill-edit">
                    <input type="text" name="attr_skillName" />
                    <input type="number" name="attr_skillVal" max="10" value="0"/>
                    <select name="attr_skillAttr" class="sheet-skills-select">
                        <option value="@{ref} - @{enc} - @{refpenality}" selected>Ref</option>
                        <option value="@{int} - @{intpenality}">Int</option>
                        <option value="@{cool} - @{coolpenality}">Cool</option>
                        <option value="@{body}">Body</option>
                    </select>
                </div>
            </fieldset>
        </div>
    </div>
    <div class="sheet-section1">
        <img style="display:block;margin-left: 30px;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Cyberpunk%202k20/cyberpunk-logo.png" />
        <div class="sheet-col4row" style="text-align:center;">
            <div class="sheet-col">
                <div><strong>Attr.</strong></div>
                <div><span name="attr_attrPoints"></span></div>
            </div>
            <div class="sheet-col">
                <div><strong>Skill.P</strong></div>
                <div><span name="attr_totalPrimarySkillPoints"></span></div>
            </div>
            <div class="sheet-col">
                <div><strong>Skill.S</strong></div>
                <div>
                    <input type="hidden" name="attr_totalSecondarySkillPoints"/>
                    <span name="attr_totalSecondarySkillPoints"></span>
                </div>
            </div>
            <div class="sheet-col">
                <div><strong>XP</strong></div>
                <div>
                    <input type="number" name="attr_XP" min="0" max="99" style="width:40px; text-align:center;"/>
                </div>
            </div>
            <div class="sheet-col" style="width:90px">
                <div><strong>Luck</strong></div>
                <div>
                    <input class="sheet-number-input" type="number" name="attr_currentLuck" value="@{luck_max}" max="@{luck_max}" />&nbsp;/
                    <span name="attr_luckMax"></span>
                </div>
            </div>
        </div>
        <hr>
        <div>
            <div>
                <input type="checkbox" class="sheet-show-bio" />
                <h6 style="display: inline-block; margin-left: 5px;">Concept:</h6>
                <span class="sheet-bioView" name="attr_concept" style="width: 240px; display: inline-block;"></span>
                <input type="text" class="sheet-bioEdit" name="attr_concept" style="width:330px;" />
                <h6 style="margin-left: 23px;display: inline-block;">Sex:</h6>
                <span class="sheet-bioView" name="attr_sex" style="display: inline-block;"></span>
                <div class="sheet-bioEdit" style="width:330px">
                    Male:<input type="radio" name="attr_sex" value="M"/>
                    Female:<input type="radio" class="sheet-bioEdit" name="attr_sex" value="F"/>
                    Other:<input type="radio" class="sheet-bioEdit" name="attr_sex" value="ND"/>
                </div>
                <h6 style="margin-left: 23px; display: inline-block;">Class:</h6>
                <span class="sheet-bioView" name="attr_class" style="display: inline-block; width:130px;"></span>
                <select class="sheet-bioEdit" style="margin-top:0" name="attr_class">
                    <option value="Solo">Solo</option>
                    <option value="Cop">Cop</option>
                    <option value="Corp">Corp</option>
                    <option value="Fixer">Fixer</option>
                    <option value="Techie">Techie</option>
                    <option value="Rockerboy/girl">Rockerboy/girl</option>
                    <option value="Nomad">Nomad</option>
                    <option Value="Netrunner">Netrunner</option>
                    <option Value="Medtech">Medtech</option>
                    <option Value="Media">Media</option>
                    <option value="Covert Mission Spe">Covert Mission Spe</option>
                    <option value="Panzerboy">Panzerboy</option>
                    <option value="Dancer/Prostitute">Dancer/Prostitute</option>
                    <option value="Model/Actress">Model/Actress</option>
                    <option value="Con Man">Con Man</option>
                    <option value="Prowler">Prowler</option>
                    <option value="Aerojock">Aerojock</option>
                    <option value="Assassin">Assassin</option>
                    <option value="Nomad Warrior">Nomad Warrior</option>
                    <option value="Runner">Runner</option>
                    <option value="Politician">Politician</option>
                    <option value="Private Investigator">Private Investigator</option>
                </select>
            </div>
        </div>
        <div class="sheet-block-attributs">
            <input type="checkbox" class="sheet-edit-attr" />
            <div class="sheet-3colrow">
                <div class='sheet-col' style="width:90px;">
                    <button class="sheet-button-attr" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=Ref}}{{result=[[1d10!cf<1+@{ref}-@{enc}-@{refpenality}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}' name='roll_ref'>REF</button>
                    <span class="sheet-attr-span" name="attr_ref"></span>
                    <input class="sheet-attr-input" type="number" value="0" maxlength="2" max="20" name="attr_ref" />
                    <input type="hidden" name="attr_refpenality" value="0" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <button class="sheet-button-attr" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=Int}}{{result=[[1d10!cf<1+@{int}-@{intpenality}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}' name='roll_int'>INT</button>
                    <span class="sheet-attr-span" name="attr_int"></span>
                    <input class="sheet-attr-input" type="number" value="0" maxlength="2" max="30" name="attr_int" />
                    <input type="hidden" name="attr_intpenality" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <button class="sheet-button-attr" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=Tech}}{{result=[[1d10!cf<1+@{tech}-@{enc}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}' name='roll_tech'>TECH</button>
                    <span class="sheet-attr-span" name="attr_tech"></span>
                    <input class="sheet-attr-input" type="number" value="0" maxlength="2" max="10" name="attr_tech" />
                </div>
            </div>
            <div class="sheet-3colrow">
                <div class='sheet-col' style="width:90px;">
                    <button class="sheet-button-attr" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=Cool}}{{result=[[1d10!cf<1+@{cool}-@{coolpenality}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}' name='roll_cool'>COOL</button>
                    <span class="sheet-attr-span" name="attr_cool"></span>
                    <input class="sheet-attr-input" type="number" value="0" maxlength="2" max="15" name="attr_cool" />
                    <input type="hidden" name="attr_coolpenality" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <button class="sheet-button-attr" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=Body}}{{result=[[1d10!cf<1+@{body}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}' name='roll_body'>BODY</button>
                    <span class="sheet-attr-span" name="attr_body"></span>
                    <input class="sheet-attr-input" type="number" value="0" maxlength="2" max="20" name="attr_body" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <button class="sheet-button-attr" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=Attr}}{{result=[[1d10!cf<1+@{attr}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}' name='roll_attr'>ATTR</button>
                    <span class="sheet-attr-span" name="attr_attr"></span>
                    <input class="sheet-attr-input" type="number" value="0" maxlength="2" max="15" name="attr_attr" />
                </div>
            </div>
            <div class="sheet-3colrow">
                <div class='sheet-col' style="width:90px;">
                    <button class="sheet-button-attr" type='roll' value='&{template:luck}{{name=@{character_name}}}{{result=[[ {1d10}<@{currentLuck}]]}}' name='roll_luck'>LUCK</button>
                    <span class="sheet-attr-span" name="attr_luck"></span>
                    <input class="sheet-attr-input" type="number" value="0" maxlength="2" max="10" name="attr_luck" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    MA
                    <span class="sheet-attr-span" name="attr_ma"></span>
                    <input class="sheet-attr-input" type="number" value="0" maxlength="2" max="30" name="attr_ma" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <button class="sheet-button-attr" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=Emp}}{{result=[[1d10!cf<1+@{emp}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}' name='roll_emp'>EMP</button>
                    <span class="sheet-attr-span" name="attr_emp"></span>
                    <input type="hidden" value="0" name="attr_emp"/>
                    <input class="sheet-attr-input" type="number" style="font-size: small" size="2" name="attr_emp_max" value="0" />
                </div>
            </div>
            <div class="sheet-3colrow">
                <div class='sheet-col' style="width:90px;">
                    <strong>Run</strong>
                    <span class="sheet-attr-span" name="attr_run"></span>
                    <input class="sheet-attr-input" type="number" style="font-size: small" size="2" name="attr_run" value="0" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <strong>Leap</strong>
                    <span class="sheet-attr-span" name="attr_leap"></span>
                    <input class="sheet-attr-input" type="number" style="font-size: small" size="2" name="attr_leap" value="0" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <strong>Lift</strong>
                    <span class="sheet-attr-span" name="attr_lift"></span>
                    <input class="sheet-attr-input" type="number" style="font-size: small" size="2" name="attr_lift" value="0" />
                </div>
            </div>
            <div class="sheet-3colrow">
                <div class='sheet-col' style="width:90px;">
                    <strong>BTM</strong>
                    <span class="sheet-attr-span" name="attr_btm"></span>
                    <input class="sheet-attr-input" type="number" style="font-size: small" size="2" name="attr_btm" value="0" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <strong>MC</strong>
                    <span class="sheet-attr-span" name="attr_mc"></span>
                    <input class="sheet-attr-input" type="number" style="font-size: small" size="2" name="attr_mc" value="0" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <button class="sheet-button-attr" type='roll' value='&{template:initiative}{{name=@{character_name}}}{{skillname=Initiative}}{{result=[[1d10!cf<1+@{ref}+@{init}-@{refpenality}-@{enc}+?{mod.|0}&{tracker}]]}}{{mod=?{mod.|0}}}' name='roll_init'>
                        <strong>Init.</strong>
                    </button>
                    <span class="sheet-attr-span" name="attr_init"></span>
                    <input class="sheet-attr-input" type="number" maxlength="2" max="30" name="attr_init" value="0" />
                </div>
            </div>
            <div class="sheet-3colrow">
                <div class='sheet-col' style="width:90px;">
                    <span class="sheet-button-attr">BDC</span>
                    <span class="sheet-attr-span" name="attr_meleeDmgBonus"></span>
                </div>
                <div class='sheet-col' style="width:90px;">
                    <button class="sheet-button-attr" type='roll' value='&{template:humanity}{{name=@{character_name}}}{{type=Humanity}}{{save=[[{1d100}<@{hum}]]}}' name='roll_hum'>Hum.</button>
                    <span class="sheet-attr-span" name="attr_hum"></span>
                    <input class="sheet-attr-input" type="number" value="0" style="font-size: small" maxlength="3" max="100" name="attr_hum" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <button class="sheet-button-attr" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=Reputation }} {{result=[[ 1d10!cf<1+@{reputation}+@{cool}+?{mod.|0} ]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{reputation}]]}}' name='roll_reputation'>Reput.</button>
                    <span class="sheet-attr-span" name="attr_reputation"></span>
                    <input class="sheet-attr-input" type="number" name="attr_reputation" value="0" />
                </div>
            </div>
            <div class="sheet-3colrow sheet-hidden-bonus" >
                <div class='sheet-col' style="width:90px;">
                    <div class="sheet-attr-input" >Bonus dmg close (BDC)</div>
                    <input type="number" name="attr_meleeDmgBonus" size="2" value="0" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <div class="sheet-attr-input" >Bonus Save Stun</div>
                    <input type="number" maxlength="2" max="30" name="attr_saveS" value="0" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <div class="sheet-attr-input" >Bonus Save Death</div>
                    <input type="number" maxlength="2" max="30" name="attr_saveD" value="0" />
                </div>
            </div>
            <div class="sheet-3colrow sheet-hidden-bonus" >
                <div class='sheet-col' style="width:90px;">
                    <div class="sheet-attr-input" >Bonus Run</div>
                    <input type="number" name="attr_runBonus" min="0" value="0" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <div class="sheet-attr-input" >Bonus Leap</div>
                    <input type="number" min="0" name="attr_leapBonus" value="0" />
                </div>
                <div class='sheet-col' style="width:90px;">
                    <div class="sheet-attr-input" >Bonus Lift</div>
                    <input type="number" min="0" name="attr_liftBonus" value="0" />
                </div>
            </div>
        </div>
        <hr>
        <div style="margin-top:15px; ">
            <div style="margin-left:15px;">
                <h6 class="sheet-block-skills">Primary skills:</h6>
            </div>
            <div>
                <input style="margin-top:-15px; float:left;" type="checkbox" class="sheet-show-prim-skills" />
                <button class="sheet-skill-button" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=@{speciality} }} {{result=[[1d10!cf<1 + @{specialityVal} + @{specialityAttr} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{specialityVal}]]}}' name='roll_specialityRoll'>
                    <span name="attr_speciality" style="font-weight: bold; font-style: oblique;"></span>
                    <span class="sheet-skValSpan" name="attr_specialityVal" style="font-weight: bold; font-style: oblique;"></span>,
                    <input type="hidden" name="attr_specialityAttr" />
                </button>
                <input class="sheet-skValInput" type="number" name="attr_specialityVal" value="0" />
                <button class="sheet-skill-button" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=@{sk1} }} {{result=[[1d10!cf<1 + @{sk1Val} + @{sk1Attr} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{sk1Val}]]}}' name='roll_sk1Roll'>
                    <span name="attr_sk1"></span>
                    <span class="sheet-skValSpan" name="attr_sk1Val"></span>,
                    <input type="hidden" name="attr_sk1Attr" />
                </button>
                <input class="sheet-skValInput" type="number" name="attr_sk1Val" value="0" />
                <button class="sheet-skill-button" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=@{sk2} }} {{result=[[1d10!cf<1 + @{sk2Val} + @{sk2Attr} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{sk2Val}]]}}' name='roll_sk2Roll'>
                    <span name="attr_sk2"></span>
                    <span class="sheet-skValSpan" name="attr_sk2Val"></span>,
                    <input type="hidden" name="attr_sk2Attr" />
                </button>
                <input class="sheet-skValInput" type="number" name="attr_sk2Val" value="0" />
                <button class="sheet-skill-button" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=@{sk3} }} {{result=[[1d10!cf<1 + @{sk3Val} + @{sk3Attr} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{sk3Val}]]}}' name='roll_sk3Roll'>
                    <span name="attr_sk3"></span>
                    <span class="sheet-skValSpan" name="attr_sk3Val"></span>,
                    <input type="hidden" name="attr_sk3Attr" />
                </button>
                <input class="sheet-skValInput" type="number" name="attr_sk3Val" value="0" />
                <button class="sheet-skill-button" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=@{sk4} }} {{result=[[1d10!cf<1 + @{sk4Val} + @{sk4Attr} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{sk4Val}]]}}' name='roll_sk4Roll'>
                    <span name="attr_sk4"></span>
                    <span class="sheet-skValSpan" name="attr_sk4Val"></span>,
                    <input type="hidden" name="attr_sk4Attr" />
                </button>
                <input class="sheet-skValInput" type="number" name="attr_sk4Val" value="0" />
                <button class="sheet-skill-button" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=@{sk5} }} {{result=[[1d10!cf<1 + @{sk5Val} + @{sk5Attr} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{sk5Val}]]}}' name='roll_sk5Roll'>
                    <span name="attr_sk5"></span>
                    <span class="sheet-skValSpan" name="attr_sk5Val"></span>,
                    <input type="hidden" name="attr_sk5Attr" />
                </button>
                <input class="sheet-skValInput" type="number" name="attr_sk5Val" value="0" />
                <button class="sheet-skill-button" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=@{sk6} }} {{result=[[1d10!cf<1 + @{sk6Val} + @{sk6Attr} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{sk6Val}]]}}' name='roll_sk6Roll'>
                    <span name="attr_sk6"></span>
                    <span class="sheet-skValSpan" name="attr_sk6Val"></span>,
                    <input type="hidden" name="attr_sk6Attr" />
                </button>
                <input class="sheet-skValInput" type="number" name="attr_sk6Val" value="0" />
                <button class="sheet-skill-button" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=@{sk7} }} {{result=[[1d10!cf<1 + @{sk7Val} + @{sk7Attr} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{sk7Val}]]}}' name='roll_sk7Roll'>
                    <span name="attr_sk7"></span>
                    <span class="sheet-skValSpan" name="attr_sk7Val"></span>,
                    <input type="hidden" name="attr_sk7Attr" />
                </button>
                <input class="sheet-skValInput" type="number" name="attr_sk7Val" value="0" />
                <button class="sheet-skill-button" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=@{sk8} }} {{result=[[1d10!cf<1 + @{sk8Val} + @{sk8Attr} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{sk8Val}]]}}' name='roll_sk8Roll'>
                    <span name="attr_sk8"></span>
                    <span class="sheet-skValSpan" name="attr_sk8Val"></span>,
                    <input type="hidden" name="attr_sk8Attr" />
                </button>
                <input class="sheet-skValInput" type="number" name="attr_sk8Val" value="0" />
                <button class="sheet-skill-button" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=@{sk9} }} {{result=[[1d10!cf<1 + @{sk9Val} + @{sk9Attr} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{sk9Val}]]}}' name='roll_sk9Roll'>
                    <span name="attr_sk9"></span>
                    <span class="sheet-skValSpan" name="attr_sk9Val"></span>,
                    <input type="hidden" name="attr_sk9Attr" />
                </button>
                <input class="sheet-skValInput" type="number" name="attr_sk9Val" value="0" />
            </div>
            <div style="clear:both">
                <div style="margin-left:15px;">
                    <h6 class="sheet-block-skills">Secondary skills:</h6>
                </div>
                <input style="margin-top:-15px; float:left;" class="sheet-show-skill" type="checkbox"/>
                <input type="checkbox" name="attr_show-repcontrol" class="sheet-show-repcontrol"/>
                <fieldset class="repeating_SecondarySkills">
                    <span class="sheet-skill-short">
                        <button class="sheet-skill-button" type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=@{skillName} }} {{result=[[1d10!cf<1 + @{skillVal} + @{skillAttr} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{skillVal}]]}}' name='roll_skillRoll'>
                            &nbsp;<span name="attr_skillName"></span>
                            <span name="attr_skillVal"></span>,
                        </button>
                    </span>
                    <div class="sheet-skill-edit">
                        <input type="text" name="attr_skillName" />
                        <input type="number" name="attr_skillVal" max="10" value="0"/>
                        <select name="attr_skillAttr" class="sheet-skills-select">
                            <option value="@{ref} - @{enc} - @{refpenality}" selected>Ref</option>
                            <option value="@{int} - @{intpenality}">Int</option>
                            <option value="@{cool} - @{coolpenality}">Cool</option>
                            <option value="@{attr}">Attr</option>
                            <option value="@{body}">Body</option>
                            <option value="@{emp}">Emp</option>
                            <option value="@{tech}">Tech</option>
                        </select>
                    </div>
                </fieldset>
            </div>
            <div style="clear:both">
                <div style="margin-left:15px;">
                    <h6 class="sheet-block-skills">Chipware <i>(if chipware socket)</i>:</h6>
                </div>
                <input style="margin-top:-15px; float:left;" class="sheet-show-skill" type="checkbox"/>
                <input type="checkbox" name="attr_show-repcontrol" class="sheet-show-repcontrol"/>
                <fieldset class="repeating_puces">
                    <span class="sheet-skill-short">
                        <button class="sheet-skill-button" type="roll" value="&{template:skill}{{name=@{character_name}}}{{skillname=@{puceName} }} {{result=[[1d10!cf<1 +@{puceVal}+@{puceAttribut}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{puceVal}]]}}" name="roll_puceRoll">
                            &nbsp;<span name="attr_puceName"></span>
                            <span name="attr_puceVal"></span>,
                        </button>
                    </span>
                    <div class="sheet-skill-edit">
                        <input type="text" name="attr_puceName"/>
                        <select name="attr_puceVal" style="width:45px;">
                            <option value="1" selected>1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                        </select>
                        <select name="attr_puceAttribut" class="sheet-skills-select">
                            <option value="@{ref} - @{enc} - @{refpenality}" selected>Ref</option>
                            <option value="@{int} - @{intpenality}">Int</option>
                            <option value="@{attr}">Attr</option>
                            <option value="@{body}">Body</option>
                            <option value="@{tech}">Tech</option>
                        </select>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
    <div class="sheet-sectionN">
        <input class="sheet-show-section2" type="radio" name="attr_section-select" value="2" checked /><strong class="sheet-strong-section2">ITEMS</strong>
        <input class="sheet-show-section3" type="radio" name="attr_section-select" value="3" /><strong class="sheet-strong-section3">BIO</strong>
        <input class="sheet-show-section7" type="radio" name="attr_section-select" value="7" /><strong class="sheet-strong-section7">RELATIONS</strong>
        <input class="sheet-show-section4" type="radio" name="attr_section-select" value="4" /><strong class="sheet-strong-section4">LIFE PATH</strong>
        <input class="sheet-show-section6" type="radio" name="attr_section-select" value="6" /><strong class="sheet-strong-section6">HOMES</strong>
        <input class="sheet-show-section5" type="radio" name="attr_section-select" value="5" /><strong class="sheet-strong-section5">NOTES</strong>

        <div class="sheet-section2">
            <div class="sheet-FFN">
                <div class="sheet-hp-armor">
                    <div class="sheet-8colrow sheet-armor-bloc">
                        <div class="sheet-col">
                            <h6 style="margin-left:0">BTM</h6>
                        </div>
                        <div class="sheet-col">1</div>
                        <div class="sheet-col">2-4</div>
                        <div class="sheet-col">5</div>
                        <div class="sheet-col">6</div>
                        <div class="sheet-col">7-8</div>
                        <div class="sheet-col">9-10</div>
                        <div class="sheet-col">

                        </div>
                    </div>
                    <div class="sheet-8colrow sheet-armor-bloc">
                        <div class="sheet-col">
                            <span name="attr_btm2" style=""></span>
                        </div>
                        <div class="sheet-col">
                            <h6 style="margin-left:0">Head</h6>
                        </div>
                        <div class="sheet-col">
                            <h6 style="margin-left:0">Chest</h6>
                        </div>
                        <div class="sheet-col">
                            <h6 style="margin-left:0">R.Arm</h6>
                        </div>
                        <div class="sheet-col">
                            <h6 style="margin-left:0">L.Arm</h6>
                        </div>
                        <div class="sheet-col">
                            <h6 style="margin-left:0">R.Leg</h6>
                        </div>
                        <div class="sheet-col">
                            <h6 style="margin-left:0">L.Leg</h6>
                        </div>
                        <div class="sheet-col">
                            <h6 style="margin-left:0;">ENC</h6>
                        </div>
                    </div>
                    <div class="sheet-8colrow sheet-armor-bloc">
                        <div class="sheet-col">
                            <h6 style="margin:5px 0 13px;">SP</h6>
                        </div>
                        <div class="sheet-col">
                            <input type="number" size="2" name="attr_sp_head" min="0" value="0">
                        </div>
                        <div class="sheet-col">
                            <input type="number" size="2" name="attr_sp_chest" min="0" value="0">
                        </div>
                        <div class="sheet-col">
                            <input type="number" size="2" name="attr_sp_r_arm" min="0" value="0">
                        </div>
                        <div class="sheet-col">
                            <input type="number" size="2" name="attr_sp_l_arm" min="0" value="0">
                        </div>
                        <div class="sheet-col">
                            <input type="number" size="2" name="attr_sp_r_leg" min="0" value="0">
                        </div>
                        <div class="sheet-col">
                            <input type="number" size="2" name="attr_sp_l_leg" min="0" value="0">
                        </div>
                        <div class="sheet-col">
                            <input type="number" size="2" name="attr_enc" min="0" value="0" style="">
                        </div>
                    </div>
                    <h6 class="sheet-option-hp-bloc sheet-cyb-line">Full borg</h6>
                    <input type="checkbox" name="attr_cyborg" class="sheet-fullCyborg sheet-option-hp-bloc sheet-cyb-line" />
                    <h6 class="sheet-option-hp-bloc sheet-cyb-line"> CybLimbs</h6>
                    <div class="sheet-8colrow sheet-hp-bloc">
                        <div class="sheet-col">
                            <h6 class="sheet-injury" style="margin-left:0">Injuries</h6>
                            <input type="number" name="attr_injury" min="0" max="41" value="0" class="sheet-injury" style="margin-top:0" />
                        </div>
                        <div class="sheet-col">
                            <div class="sheet-injury">
                                <h6>Status</h6>
                                <span style="margin-left:18px" name="attr_status"></span>
                                <div style="margin-left:18px">
                                    Stun:<span name="attr_stunpenality"></span>
                                </div>
                            </div>
                            <input type="number" name="attr_cybHead" class="sheet-cybLimb" />
                        </div>
                        <div class="sheet-col">
                            <input type="number" name="attr_cybTorso" class="sheet-cybLimb" />
                        </div>
                        <div class="sheet-col">
                            <input type="checkbox" name="attr_rCybArmC" class="sheet-Cyborg sheet-cyb-line" />
                            <div class="sheet-limbCrushed">
                                <i>HS</i>
                                <input type="checkbox" name="attr_rArmCrushed" />
                            </div>
                            <input type="number" name="attr_rCybArm" class="sheet-cybLimb" />
                        </div>
                        <div class="sheet-col">
                            <input type="checkbox" name="attr_lCybArmC" class="sheet-Cyborg sheet-cyb-line" />
                            <div class="sheet-limbCrushed">
                                <i>HS</i>
                                <input type="checkbox" name="attr_lArmCrushed" />
                            </div>
                            <input type="number" name="attr_lCybArm" class="sheet-cybLimb" />
                        </div>
                        <div class="sheet-col">
                            <input type="checkbox" name="attr_rCybLegC" class="sheet-Cyborg sheet-cyb-line" />
                            <div class="sheet-limbCrushed">
                                <i>HS</i>
                                <input type="checkbox" name="attr_rLegCrushed" />
                            </div>
                            <input type="number" name="attr_rCybLeg" class="sheet-cybLimb" />
                        </div>
                        <div class="sheet-col">
                            <input type="checkbox" name="attr_lCybLegC" class="sheet-Cyborg sheet-cyb-line" />
                            <div class="sheet-limbCrushed">
                                <i>HS</i>
                                <input type="checkbox" name="attr_lLegCrushed" />
                            </div>
                            <input type="number" name="attr_lCybLeg" class="sheet-cybLimb" />
                        </div>
                        <div class="sheet-col">
                            <input type="hidden" name="attr_saveStun" />
                            <input type="hidden" name="attr_saveDeath" />
                            <button class="sheet-button-attr" type='roll' value='&{template:save}{{name=@{character_name}}}{{saveS=[[1d10!cf<1]]}}{{rangeS=[[@{saveStun}+?{mod.|0}]]}}{{saveD=[[1d10!cf<1]]}}{{rangeD=[[@{saveStun}+?{mod.|0}]]}}{{mod=?{mod.|0}}}' name='roll_save'>
                                <strong>SAVE</strong>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sheet-FSN">
                <div class="sheet-7colrow">
                    <div class="sheet-col" style="width:30px;">
                        <h6 style="margin:0;">BTM</h6>
                    </div>
                    <div class="sheet-col" style="width:30px;">
                        <h6 style="margin:0;">SP</h6>
                    </div>
                    <div class="sheet-col" style="width:90px;">
                        <h6 style="margin:0;">Armor</h6>
                    </div>
                    <div class="sheet-col" style="width:30px;">
                        <h6 style="margin:0;">ENC</h6>
                    </div>
                    <div class="sheet-col" style="width:80px;">
                        <h6 style="">Health</h6>
                    </div>
                    <div class="sheet-col" style="width:70px;">
                        <h6 style="margin:0;">Status</h6>
                    </div>
                    <div class="sheet-col" style="width:30px;">

                    </div>
                </div>
                <div class="sheet-7colrow">
                    <div class="sheet-col" style="width:30px;">
                        <span name="attr_btm2" style=""></span>
                    </div>
                    <div class="sheet-col" style="width:30px;">
                        <span name="attr_FSN_armor"></span>
                    </div>
                    <div class="sheet-col" style="width:90px;">
                        <select name="attr_FSN_armor" style="width:90px;margin-top:0;">
                            <option value="0">None</option>
                            <option value="1">Leather</option>
                            <option value="2">Soft</option>
                            <option value="3">light</option>
                            <option value="4">Soft+Light</option>
                            <option value="5">Medium</option>
                            <option value="6">Heavy</option>
                            <option value="7">Plated</option>
                            <option value="8">Cyborg</option>
                        </select>
                    </div>
                    <div class="sheet-col" style="width:30px;">
                        <span name="attr_enc"></span>
                    </div>
                    <div class="sheet-col" style="width:80px;">
                        <input class="sheet-number-input" name="attr_FSN_hp" type="number" min="-4" value="0"/>/ <span name="attr_FSN_hp_max"></span>
                    </div>
                    <div class="sheet-col" style="width:70px;">
                        <span name="attr_FSN_status"></span>
                        <input type="hidden" name="attr_FSN_status"/>
                    </div>
                    <div class="sheet-col" style="width:30px;">
                        <button class="sheet-button-attr" type='roll' value='&{template:save}{{name=@{character_name}}}{{saveS=[[1d10!cf<1]]}}{{rangeS=[[@{FSN_hp}+?{mod.|0}]]}}{{saveD=[[1d10!cf<1]]}}{{rangeD=[[@{FSN_hp}+?{mod.|0}]]}}{{mod=?{mod.|0}}}' name='roll_save_FSN'>
                            <strong>SAVE</strong>
                        </button>
                    </div>
                </div>
                <div>
                    <input type="hidden" name="attr_FSN_hp_max"/>
                    <strong>Cyborg: </strong><i>yes </i><input type="radio" name="attr_FSN_cyborg" value="1" /><i>no </i><input type="radio" name="attr_FSN_cyborg" value="0" checked />
                </div>
            </div>
            <div class="sheet-equipement">
                <h4>Equipments</h4>
                <div>
                    <div style="float:left">
                        <strong>Cash : </strong><input class="sheet-number-input" type="number" name="attr_cash" style="width:100px;" value="0" />
                        <strong> $. </strong>
                    </div>
                    <div style="float:right">
                        <strong>Equipments value : </strong>
                        <span name="attr_valueEquipment"></span>
                        <strong> $. </strong>
                        <input type="hidden" name="attr_valueEquipment" value="0" />
                    </div>
                </div>
                <div style="clear:both;">
                    <input class="sheet-page_weapons" name="attr_select_page" type="radio" value="1" checked /><strong class="sheet-items">&nbsp;Weapons</strong>
                    <input class="sheet-page_gears" name="attr_select_page" type="radio" value="2" /><strong class="sheet-items">&nbsp;Gear</strong>
                    <input class="sheet-page_cyber" name="attr_select_page" type="radio" value="3" /><strong class="sheet-items">&nbsp;Cyber</strong>
                    <input class="sheet-page_vehicle" name="attr_select_page" type="radio" value="4" /><strong class="sheet-items">&nbsp;Vehicles</strong>
                    <input class="sheet-page_deck" name="attr_select_page" type="radio" value="5" /><strong class="sheet-items">&nbsp;Deck</strong>
                    <input type="checkbox" name="attr_show-repcontrol" class="sheet-show-repcontrol"/>
                    <div class="sheet-weapons">
                        <div class="sheet-FFN">
                            <div>
                                <i>Target :</i>

                                <input name="attr_loc" value="[[1d10]]" type="radio"/><i>All body</i>
                                <input name="attr_loc" value="[[1d6]]" type="radio" checked /><i>Upper body</i>
                                <input name="attr_loc" value="[[1]]" type="radio" /><i>Head</i>
                                <input name="attr_target" type="hidden" />
                                <input type="hidden" name="attr_dmgCrt" value="[[1d10]]" />
                                <input type="hidden" name="attr_wpTotalPrice" value="0" />
                                <input type="hidden" name="attr_meleeTotalPrice" value="0" />
                                <input type="hidden" name="attr_rangedTotalPrice" value="0" />
                            </div>
                        </div>
                        <div class="sheet-FFN">
                            <div class="sheet-brawl">
                                <div class="sheet-2colrow">
                                    <div class="sheet-col" style="width:260px;">
                                        <h6 style="margin-left:0;">Brawling Damage</h6>
                                        <select name="attr_brawlWp" style="width:90px; margin-top:5px;">
                                            <option value="{{weapon=Hand}}{{dmg=[[ceil(1d6/2)+@{mc}+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}">Hand</option>
                                            <option value="{{weapon=Kick}}{{dmg=[[1d6+@{mc}+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}">Kick</option>
                                            <option value="{{weapon=Choke Hold}}{{dmg=[[3d6+@{mc}+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}">Choke Hold</option>
                                            <option value="{{weapon=Throw}}{{dmg=[[1d6+@{mc}+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}">Throw</option>
                                            <option value="{{weapon=Cyberarm}}{{dmg=[[(1*@{brawlcybertype})d6+@{mc}+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}">Cyberarm</option>
                                            <option value="{{weapon=Cyberleg}}{{dmg=[[(2*@{brawlcybertype})d6+@{mc}+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}">Cyberleg</option>
                                            <option value="{{weapon=Cyberarm}}{{dmg=[[(2*@{brawlcybertype})d6+@{mc}+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}">Crush(Cyberarm)</option>
                                        </select>
                                        <button type="roll" value="&{template:weaponAttack}{{name=@{character_name}}}@{brawlWp}{{loc=[[@{loc}]]}}{{target=@{target}}}{{dmgCrt=@{dmgCrt}}}" name="roll_brawlingAttackRoll"></button>
                                    </div>
                                    <div class="sheet-col" style="width:90px;">
                                        <h6>Cyberlimb</h6>
                                        <div>
                                            <input type="radio" name="attr_brawlcybertype" value="1" checked /><strong>Standard</strong>
                                        </div>
                                        <div>
                                            <input type="radio" name="attr_brawlcybertype" value="2" /><strong>Myomar</strong>
                                        </div>
                                        <div>
                                            <input type="radio" name="attr_brawlcybertype" value="3" /><strong>Hydraulic</strong>
                                        </div>
                                    </div>
                                </div>
                                <input type="checkbox" class="sheet-show-martial-art" name="attr_showMartialArtMenu" />
                                <h6>Martial art</h6>
                                <fieldset class="repeating_MartialArt">
                                    <input class="sheet-show-wp" name="attr_show-MartialArt" style="margin-top:15px;" type="checkbox"/>
                                    <div class="sheet-wp-short">&nbsp;
                                        <button class="sheet-wp-button" type="roll" value="&{template:weaponAttack}{{name=@{character_name}}}{{weapon=@{artMartialName}:@{brawlWpMa}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{brawlSkill}]]}}{{dmgCrt=@{dmgCrt}}}" name="roll_ArtMartialAttackRoll">
                                            <span name="attr_artMartialName"></span>
                                        </button>
                                        <select name="attr_brawlWpMa" style="width:120px; margin-top:5px;">
                                            <option value="Punch}}{{result=[[1d10!cf<1 +@{ref}-@{enc}-@{refpenality}+@{brawlSkill}+@{punch}]]}}{{dmg=[[ceil(1d6/2)+@{mc}+@{brawlSkill}+?{Bonus Damage:|0}]]}}{{loc=[[@{loc}]]}}{{target=@{target}}}{{dmgMod=?{Bonus Damage:|0}}}">Punch</option>
                                            <option value="Kick}}{{result=[[1d10!cf<1 +@{ref}-@{enc}-@{refpenality}+@{brawlSkill}+@{kick}+?{mod.|0}]]}}{{dmg=[[1d6+@{mc}+@{brawlSkill}+?{Bonus Damage:|0}]]}}{{loc=[[@{loc}]]}}{{target=@{target}}}{{dmgMod=?{Bonus Damage:|0}}}">Kick</option>
                                            <option value="Strike(cyber)}}{{result=[[1d10!cf<1 +@{ref}-@{enc}-@{refpenality}+@{brawlSkill}+@{strike}+?{mod.|0}]]}}{{dmg=[[(1*@{brawlcybertype})d6+@{mc}+@{brawlSkill}+?{Bonus Damage:|0}]]}}{{loc=[[@{loc}]]}}{{target=@{target}}}{{dmgMod=?{Bonus Damage:|0}}}">Cyber Punch</option>
                                            <option value="Kick(cyber)}}{{result=[[1d10!cf<1 +@{ref}-@{enc}-@{refpenality}+@{brawlSkill}+@{kick}+?{mod.|0}]]}}{{dmg=[[(2*@{brawlcybertype})d6+@{mc}+@{brawlSkill}+?{Bonus Damage:|0}]]}}{{loc=[[@{loc}]]}}{{target=@{target}}}{{dmgMod=?{Bonus Damage:|0}}}">Cyber Kick</option>
                                            <option value="Throw}}{{result=[[1d10!cf<1 +@{ref}-@{enc}-@{refpenality}+@{brawlSkill}+@{throw}+?{mod.|0}]]}}{{dmg=[[1d6+@{mc}+@{mc}+@{brawlSkill}+?{Bonus Damage:|0}]]}} {{loc=[[@{loc}]]}}{{target=@{target}}}{{dmgMod=?{Bonus Damage:|0}}}">Throw</option>
                                            <option value="Ram}}{{result=[[1d10!cf<1 +@{ref}-@{enc}-@{refpenality}+@{brawlSkill}+@{ram}+?{mod.|0}]]}}{{dmg=[[2d6+@{mc}+@{brawlSkill}+?{Bonus Damage:|0}]]}}{{loc=[[@{loc}]]}}{{target=@{target}}}{{dmgMod=?{Bonus Damage:|0}}}">Ram</option>
                                            <option value="Dodge}}{{result=[[1d10!cf<1 +@{ref}-@{enc}-@{refpenality}+@{brawlSkill}+@{dodge}+?{mod.|0}]]}}">Dodge</option>
                                            <option value="Bloc}}{{result=[[1d10!cf<1 +@{ref}-@{enc}-@{refpenality}+@{brawlSkill}+@{bloc}+?{mod.|0}]]}}">Bloc</option>
                                            <option value="Hold}}{{result=[[1d10!cf<1 +@{ref}-@{enc}-@{refpenality}+@{brawlSkill}+@{hold}+?{mod.|0}]]}}">Hold</option>
                                            <option value="Escape}}{{result=[[1d10!cf<1 +@{ref}-@{enc}-@{refpenality}+@{brawlSkill}+@{escape}+?{mod.|0}]]}}">Escape</option>
                                            <option value="Choke}}{{result=[[1d10!cf<1 +@{ref}-@{enc}-@{refpenality}+@{brawlSkill}+@{choke}+?{mod.|0}]]}}{{dmg=[[1d6+@{mc}+@{brawlSkill}+?{Bonus Damage:|0}]]}}{{loc=[[1]]}}{{dmgMod=?{Bonus Damage:|0}}}">Choke</option>
                                            <option value="Choke}}{{result=[[1d10!cf<1 +@{ref}-@{enc}-@{refpenality}+@{brawlSkill}+@{choke}+?{mod.|0}]]}}{{dmg=[[(2*@{brawlcybertype})d6+@{mc}+@{brawlSkill}+?{Bonus Damage:|0}]]}}{{loc=[[1]]}}{{dmgMod=?{Bonus Damage:|0}}}">Cyber Choke</option>
                                            <option value="Grapple}}{{result=[[1d10!cf<1 +@{ref}-@{enc}-@{refpenality}+@{brawlSkill}+@{grapple}+?{mod.|0}]]}}">Grapple</option>
                                            <option value="Bloc}}{{result=[[1d10!cf<1 +@{ref}-@{enc}-@{refpenality}+@{brawlSkill}+@{disarm}+?{mod.|0}]]}}">Disarm</option>
                                        </select>
                                    </div>
                                    <div class="sheet-wp-edit">&nbsp;
                                        <strong>Name:</strong>
                                        <input type="text" name="attr_artMartialName" />
                                        <strong>Skill:</strong>
                                        <input type="number" name="attr_brawlSkill" value="0" />
                                        <table>
                                            <tr>
                                                <td width="30px;text-align:center;"><i style="text-align:center;font-size:xx-small;">Strike</i></td>
                                                <td width="30px;text-align:center;"><i style="text-align:center;font-size:xx-small;">Punch</i></td>
                                                <td width="30px;text-align:center;"><i style="text-align:center;font-size:xx-small;">Kick</i></td>
                                                <td width="30px;text-align:center;"><i style="text-align:center;font-size:xx-small;">Disarm</i></td>
                                                <td width="30px;text-align:center;"><i style="text-align:center;font-size:xx-small;">Bloc</i></td>
                                                <td width="30px;text-align:center;"><i style="text-align:center;font-size:xx-small;">Dodge</i></td>
                                                <td width="30px;text-align:center;"><i style="text-align:center;font-size:xx-small;">Throw</i></td>
                                                <td width="30px;text-align:center;"><i style="text-align:center;font-size:xx-small;">Hold</i></td>
                                                <td width="30px;text-align:center;"><i style="text-align:center;font-size:xx-small;">Escape</i></td>
                                                <td width="30px;text-align:center;"><i style="text-align:center;font-size:xx-small;">Choke</i></td>
                                                <td width="30px;text-align:center;"><i style="text-align:center;font-size:xx-small;">Sweep</i></td>
                                                <td width="30px;text-align:center;"><i style="text-align:center;font-size:xx-small;">Grapple</i></td>
                                                <td width="30px;text-align:center;"><i style="text-align:center;font-size:xx-small;">Ram</i></td>
                                            </tr>
                                            <tr>
                                                <td style="width:30px;">
                                                    <input style="width:30px;" class="sheet-martial-art-input" name="attr_strike" type="number" min="0" max="5" />
                                                </td>
                                                <td style="width:30px;">
                                                    <input style="width:30px;" class="sheet-martial-art-input" name="attr_punch" type="number" min="0" max="5" />
                                                </td>
                                                <td style="width:30px;">
                                                    <input style="width:30px;" class="sheet-martial-art-input" name="attr_kick" type="number" min="0" max="5" />
                                                </td>
                                                <td style="width:30px;">
                                                    <input style="width:30px;" class="sheet-martial-art-input" name="attr_disarm" type="number" min="0" max="5" />
                                                </td>
                                                <td style="width:30px;">
                                                    <input style="width:30px;" class="sheet-martial-art-input" name="attr_bloc" type="number" min="0" max="5" />
                                                </td>
                                                <td style="width:30px;">
                                                    <input style="width:30px;" class="sheet-martial-art-input" name="attr_dodge" type="number" min="0" max="5" />
                                                </td>
                                                <td style="width:30px;">
                                                    <input style="width:30px;" class="sheet-martial-art-input" name="attr_throw" type="number" min="0" max="5" />
                                                </td>
                                                <td style="width:30px;">
                                                    <input style="width:30px;" class="sheet-martial-art-input" name="attr_hold" type="number" min="0" max="5" />
                                                </td>
                                                <td style="width:30px;">
                                                    <input style="width:30px;" class="sheet-martial-art-input" name="attr_escape" type="number" min="0" max="5" />
                                                </td>
                                                <td style="width:30px;">
                                                    <input style="width:30px;" class="sheet-martial-art-input" name="attr_choke" type="number" min="0" max="5" />
                                                </td>
                                                <td style="width:30px;">
                                                    <input style="width:30px;" class="sheet-martial-art-input" name="attr_sweep" type="number" min="0" max="5" />
                                                </td>
                                                <td style="width:30px;">
                                                    <input style="width:30px;" class="sheet-martial-art-input" name="attr_grapple" type="number" min="0" max="5" />
                                                </td>
                                                <td style="width:30px;">
                                                    <input style="width:30px;" class="sheet-martial-art-input" name="attr_ram" type="number" min="0" max="5" />
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </fieldset>
                                <div>

                                </div>
                            </div>
                        </div>
                        <div class="sheet-FSN">
                            <div class="sheet-brawl">
                                <div class="sheet-2colrow">
                                    <div class="sheet-col" style="width:260px;">
                                        <h6 style="margin-left:0;">Brawling Damage</h6>
                                        <select name="attr_brawlWp" style="width:90px; margin-top:5px;">
                                            <option value="{{weapon=Hand}}{{cat=[[2]]}}">Hand</option>
                                            <option value="{{weapon=Kick}}{{cat=[[3]]}}">Kick</option>
                                            <option value="{{weapon=Choke Hold}}{{cat=[[5]]}}">Choke Hold</option>
                                            <option value="{{weapon=Throw}}{{cat=[[3]]}}">Throw</option>
                                            <option value="{{weapon=Cyberarm}}{{cat=[[3]]}}">Cyberarm</option>
                                            <option value="{{weapon=Cyberleg}}{{cat=[[4]]}}">Cyberleg</option>
                                            <option value="{{weapon=Cyberarm}}{{cat=[[4]]}}">Crush(Cyberarm)</option>
                                        </select>
                                        <button type="roll" value="&{template:weaponAttack-FSN}{{name=@{character_name}}}@{brawlWp}{{dmg=[[1d10+@{mc}+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}" name="roll_brawlingAttackRoll"></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="sheet-FFN">
                            <div class="sheet-close">
                                <input type="checkbox" class="sheet-show-martial-art" name="attr_showWpMeleeMenu" />
                                <h6>Melee Weapons</h6>
                                <fieldset class="repeating_weapon-melee">
                                    <input class="sheet-show-wp" name="attr_showWpMelee" type="checkbox"/>
                                    <div class="sheet-wp-short">&nbsp;
                                        <button class="sheet-wp-button" type="roll" value="&{template:weaponAttack}{{name=@{character_name}}}{{weapon=@{wpNameMelee}}}{{AP=@{wpApMelee}}}{{target=@{target}}}{{dmg=[[ @{wpDmgMelee}+@{wpMc}+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}" name="roll_wpAttackRollMelee">
                                            MEL: <span name="attr_wpNameMelee"></span>
                                            (<span name="attr_wpAccMelee"></span>)&nbsp;
                                            <span name="attr_wpApMelee"></span> -
                                            <span name="attr_wpReliabilityMelee" ></span>
                                        </button>
                                        <span class="sheet-wpDescription" name="attr_wpDescriptionMelee"></span>
                                    </div>
                                    <div class="sheet-wp-edit">
                                        <div>&nbsp;
                                            <strong>Name:</strong>
                                            <input type="text" name="attr_wpNameMelee" placeholder="New melee weapon"/>
                                        </div>
                                        <div>
                                            <strong>Acc:</strong>
                                            <input type="number" name="attr_wpAccMelee" max="5" min="-5" value="0" size="1"/>
                                            <strong>Damage:</strong>
                                            <input type="text" name="attr_wpDmgMelee" style="width:90px;" />
                                            <strong>AP:</strong>
                                            <input type="radio" value="AP" name="attr_wpApMelee" /><i>Yes</i>
                                            <input type="radio" value=" " name="attr_wpApMelee" /><i>No</i>
                                            &nbsp;<strong>MC:</strong>
                                            <input type="checkbox" value="@{mc}" name="attr_wpMc" checked />
                                        </div>
                                        <div>
                                            <strong>Concealment:</strong>
                                            <select name="attr_dissMelee">
                                                <option value="N">Pocket</option>
                                                <option value="J">Jacket</option>
                                                <option value="L">Long coat</option>
                                                <option value="N">Can't be hidden</option>
                                            </select>
                                            <select name="attr_wpReliabilityMelee" style="display:inline-block;">
                                                <option value="VR">Very Reliable</option>
                                                <option value="ST">Standard</option>
                                                <option value="UR">Unreliable</option>
                                            </select>
                                        </div>
                                        <div>
                                            <strong>Description:</strong>
                                            <textarea rows="2" cols="50" name="attr_wpDescriptionMelee"></textarea>
                                        </div>
                                        <div>
                                            <strong>Price:</strong>
                                            <input type="number" value="0" min="0" style="width:120px;" name="attr_meleePrice"/>
                                        </div>
                                        <hr>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                        <div class="sheet-FSN">
                            <div class="sheet-close">
                                <input type="checkbox" class="sheet-show-martial-art" name="attr_showWpMeleeMenu" />
                                <h6>Melee Weapons</h6>
                                <fieldset class="repeating_weapon-melee">
                                    <input class="sheet-show-wp" name="attr_showWpMelee" type="checkbox"/>
                                    <div class="sheet-wp-short">&nbsp;
                                        <button class="sheet-wp-button" type="roll" value="&{template:weaponAttack-FSN}{{name=@{character_name}}}{{weapon=@{wpNameMelee}}}{{AP=@{wpApMelee}}}{{cat=[[@{dmgMeleeFSN}]]}}{{dmg=[[ 1d10+@{wpMc}+?{Bonus Damage:|0}]]}}{{dmgMod=?{Bonus Damage:|0}}}" name="roll_wpAttackRollMelee">
                                            MEL: <span name="attr_wpNameMelee"></span>
                                            (<span name="attr_wpAccMelee"></span>)&nbsp;
                                            <span name="attr_wpApMelee"></span> -
                                            <span name="attr_wpReliabilityMelee" ></span>
                                        </button>
                                        <span class="sheet-wpDescription" name="attr_wpDescriptionMelee"></span>
                                    </div>
                                    <div class="sheet-wp-edit">
                                        <div>&nbsp;
                                            <strong>Name:</strong>
                                            <input type="text" name="attr_wpNameMelee" />
                                        </div>
                                        <div>
                                            <strong>Acc:</strong>
                                            <input type="number" name="attr_wpAccMelee" max="5" min="-5" value="0" size="1"/>
                                            <strong>Damage:</strong>
                                            <input type="number" min="1" max="14" value="1" name="attr_dmgMeleeFSN"/>
                                            <strong>AP:</strong>
                                            <input type="radio" value="AP" name="attr_wpApMelee" /><i>Yes</i>
                                            <input type="radio" value=" " name="attr_wpApMelee" /><i>No</i>
                                            &nbsp;<strong>MC:</strong>
                                            <input type="checkbox" value="@{mc}" name="attr_wpMc" checked />
                                        </div>
                                        <div>
                                            <strong>Concealment:</strong>
                                            <select name="attr_dissMelee">
                                                <option value="N">Pocket</option>
                                                <option value="J">Jacket</option>
                                                <option value="L">Long coat</option>
                                                <option value="N">Can't be hidden</option>
                                            </select>
                                            <select name="attr_wpReliabilityMelee" style="display:inline-block;">
                                                <option value="VR">Very Reliable</option>
                                                <option value="ST">Standard</option>
                                                <option value="UR">Unreliable</option>
                                            </select>
                                        </div>
                                        <div>
                                            <strong>Description:</strong>
                                            <textarea rows="2" cols="50" name="attr_wpDescriptionMelee"></textarea>
                                        </div>
                                        <div>
                                            <strong>Price:</strong>
                                            <input type="number" value="0" min="0" style="width:120px;" name="attr_meleePrice"/>
                                        </div>
                                        <hr>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                        <div class="sheet-FFN">
                            <div class="sheet-ranged">
                                <input type="checkbox" class="sheet-show-martial-art" name="attr_showWpMenu" />
                                <h6>Ranged weapons</h6>
                                <fieldset class="repeating_weapon">
                                    <input class="sheet-show-wp" name="attr_showWp" type="checkbox"/>
                                    <div class="sheet-wp-short">&nbsp;
                                        <button class="sheet-wp-button" type="roll" value="&{template:weaponAttack}{{name=@{character_name}}}{{weapon=@{wpName}}}{{AP=@{wpAp}}}{{target=@{target}}}{{hit=[[?{Nb.Hit:|1|2|3|4|5|6|7|8|9|10}]]}}{{dmg=@{dmg}}}{{dmgCrt=@{dmgCrt}}}{{loc=@{loc}}}{{dmgA=@{dmg}}}{{dmgCrtA=@{dmgCrt}}}{{locA=@{loc}}}{{dmgB=@{dmg}}}{{dmgCrtB=@{dmgCrt}}}{{locB=@{loc}}}{{dmgC=@{dmg}}}{{dmgCrtC=@{dmgCrt}}}{{locC=@{loc}}}{{dmgD=@{dmg}}}{{dmgCrtD=@{dmgCrt}}}{{locD=@{loc}}}{{dmgE=@{dmg}}}{{dmgCrtE=@{dmgCrt}}}{{locE=@{loc}}}{{dmgF=@{dmg}}}{{dmgCrtF=@{dmgCrt}}}{{locF=@{loc}}}{{dmgG=@{dmg}}}{{dmgCrtG=@{dmgCrt}}}{{locG=@{loc}}}{{dmgH=@{dmg}}}{{dmgCrtH=@{dmgCrt}}}{{locH=@{loc}}}{{dmgI=@{dmg}}}{{dmgCrtI=@{dmgCrt}}}{{locI=@{loc}}}" name="roll_rangedAttack">
                                            <span name="attr_rangedweapon"></span>
                                        </button>
                                        <span class="sheet-wpDescription" name="attr_wpDescription"></span>
                                    </div>
                                    <div class="sheet-wp-edit">
                                        <div>&nbsp;
                                            <strong>Name:</strong>
                                            <input type="text" name="attr_wpName" />
                                            <input type="hidden" name="attr_dmg" />
                                        </div>
                                        <div>
                                            <strong>Type:</strong>
                                            <select name="attr_wpType">
                                                <option value="HND">Handgun</option>
                                                <option value="SMG">Submachinegun</option>
                                                <option value="SHG">Shotgun</option>
                                                <option value="RIF">Rifle</option>
                                                <option value="HVY">Heavy Weapon</option>
                                                <option value="EXO">Exotic</option>
                                            </select>
                                            <strong>Ammo type:</strong>
                                            <input type="text" name="attr_caliber" style="width:70px;" />
                                            <strong>AP:</strong>
                                            <input name="attr_wpAp" type="radio" value="AP" /><i>Yes</i>
                                            <input name="attr_wpAp" type="radio" value=" " /><i>No</i>
                                        </div>
                                        <div>
                                            <strong>Damage(s):</strong>
                                            <input type="text" name="attr_dmgEntry1" style="width:70px; border:1px solid black;" />
                                            <input type="text" name="attr_dmgEntry2" style="width:70px;" />
                                            <input type="text" name="attr_dmgEntry3" style="width:70px;" />
                                            <i style="display:block;">Some weapons deal multiple damage. If not write nothing.</i>
                                        </div>
                                        <div>
                                            <strong>Acc:</strong>
                                            <input type="number" name="attr_wpAcc" max="5" min="-5" value="0" size="1"/>
                                            <strong>ROF/Clips:</strong>
                                            <input type="number" name="attr_wpRof" value="0" size="2"/>/<input type="number" name="attr_wpClip" value="0" size="4"/>
                                            <select name="attr_wpReliability" style="display:inline-block;">
                                                <option value="VR">Very Reliable</option>
                                                <option value="ST">Standard</option>
                                                <option value="UR">Unreliable</option>
                                            </select>
                                        </div>
                                        <div>
                                            <strong>Range:</strong>/
                                            <input type="number" name="attr_wpRange" value="0" style="width:90px;" size="6"/>
                                            <strong>Concealment:</strong>
                                            <select name="attr_diss">
                                                <option value="N">Pocket</option>
                                                <option value="J">Jacket</option>
                                                <option value="L">Long coat</option>
                                                <option value="N">Can't be hidden</option>
                                            </select>
                                        </div>
                                        <div>
                                            <strong>Description:</strong>
                                            <textarea rows="2" cols="50" name="attr_wpDescription"></textarea>
                                        </div>
                                        <div>
                                            <strong>Price:</strong>
                                            <input type="number" value="0" min="0" style="width:120px;" name="attr_rangedPrice"/>
                                        </div>
                                        <hr>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                        <div class="sheet-FSN">
                            <div class="sheet-ranged">
                                <input type="checkbox" class="sheet-show-martial-art" name="attr_showWpMenu" />
                                <h6>Ranged weapons</h6>
                                <fieldset class="repeating_weapon">
                                    <input class="sheet-show-wp" name="attr_showWp" type="checkbox"/>
                                    <div class="sheet-wp-short">&nbsp;
                                        <button class="sheet-wp-button" type="roll" value="&{template:weaponAttack-FSN}{{name=@{character_name}}}{{weapon=@{wpName}}}{{AP=@{wpAp}}}{{target=@{target}}}{{hit=[[?{Nb.Hit:|1|2|3|4|5|6|7|8|9|10}]]}}{{cat=[[@{dmgFSN}]]}}{{dmg=[[1d10]]}}{{dmgA=[[1d10]]}}{{dmgB=[[1d10]]}}{{dmgC=[[1d10]]}}{{dmgD=[[1d10]]}}{{dmgE=[[1d10]]}}{{dmgF=[[1d10]]}}{{dmgG=[[1d10]]}}{{dmgH=[[1d10]]}}{{dmgI=[[1d10]]}}" name="roll_rangedAttack">
                                            <span name="attr_rangedweapon"></span>
                                        </button>
                                        <span class="sheet-wpDescription" name="attr_wpDescription"></span>
                                    </div>
                                    <div class="sheet-wp-edit">
                                        <div>&nbsp;
                                            <strong>Name:</strong>
                                            <input type="text" name="attr_wpName" />
                                            <input type="hidden" name="attr_dmg" />
                                        </div>
                                        <div>
                                            <strong>Type:</strong>
                                            <select name="attr_wpType">
                                                <option value="HND">Handgun</option>
                                                <option value="SMG">Submachinegun</option>
                                                <option value="SHG">Shotgun</option>
                                                <option value="RIF">Rifle</option>
                                                <option value="HVY">Heavy Weapon</option>
                                                <option value="EXO">Exotic</option>
                                            </select>
                                            <strong>Ammo type:</strong>
                                            <input type="text" select name="attr_caliber" style="width:70px;" />
                                            <strong>AP:</strong>
                                            <input name="attr_wpAp" type="radio" value="AP" /><i>Yes</i>
                                            <input name="attr_wpAp" type="radio" value=" " /><i>No</i>
                                        </div>
                                        <div>
                                            <strong>Damage(s):</strong>
                                            <input type="number" min="1" max="14" name="attr_dmgFSN"/>
                                        </div>
                                        <div>
                                            <strong>Acc:</strong>
                                            <input type="number" name="attr_wpAcc" max="5" min="-5" value="0" size="1"/>
                                            <strong>ROF/Clips:</strong>
                                            <input type="number" name="attr_wpRof" value="0" size="2"/>/<input type="number" name="attr_wpClip" value="0" size="4"/>
                                            <select name="attr_wpReliability" style="display:inline-block;">
                                                <option value="VR">Very Reliable</option>
                                                <option value="ST">Standard</option>
                                                <option value="UR">Unreliable</option>
                                            </select>
                                        </div>
                                        <div>
                                            <strong>Range:</strong>/
                                            <input type="number" name="attr_wpRange" value="0" style="width:90px;" size="6"/>
                                            <strong>Concealment:</strong>
                                            <select name="attr_diss">
                                                <option value="N">Pocket</option>
                                                <option value="J">Jacket</option>
                                                <option value="L">Long coat</option>
                                                <option value="N">Can't be hidden</option>
                                            </select>
                                        </div>
                                        <div>
                                            <strong>Description:</strong>
                                            <textarea rows="2" cols="50" name="attr_wpDescription"></textarea>
                                        </div>
                                        <div>
                                            <strong>Price:</strong>
                                            <input type="number" value="0" min="0" style="width:120px;" name="attr_rangedPrice"/>
                                        </div>
                                        <hr>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                    </div>
                    <div class="sheet-gears">
                        <input type="hidden" name="attr_gearTotalPrice" value="0" />
                        <fieldset class="repeating_gear">
                            <input class="sheet-show-gear" name="attr_showGears" type="checkbox" />
                            <div class="sheet-gear-short">
                                <div class="sheet-item">
                                    <span name="attr_gearName"></span>
                                    (<span name="attr_shortDescription"></span>) -
                                    <span name="attr_gearPrice"></span> $
                                </div>
                                <span class="sheet-wpDescription" name="attr_gearDescription"></span>
                            </div>
                            <div class="sheet-gear-edit">&nbsp;
                                <strong>Name:</strong>
                                <input type="text" name="attr_gearName" placeholder="Item name" class="sheet-cyb">
                                <div>
                                    <strong>Short description:</strong>
                                    <input type="text" maxlength="30" placeholder="Bonus given" name="attr_shortDescription"/>
                                    <strong>Description:</strong>
                                    <textarea rows="2" cols="50" placeholder="Full description" name="attr_gearDescription"></textarea>
                                    <strong>Price:</strong>
                                    <input type="number" value="0" min="0" style="width:120px;" name="attr_gearPrice"/>
                                </div>
                                <hr>
                            </div>
                        </fieldset>
                    </div>
                    <div class="sheet-cyber">
                        <input type="hidden" name="attr_cyberTotalPrice" value="0" />
                        <div style="float:right; margin-right: 16px;">
                            <strong>Humanity Lost: </strong><input type="hidden" name="attr_humanityLost" value="0" /><span name="attr_humanityLost"></span>
                        </div>
                        <fieldset class="repeating_cyber" style="margin-top:20px;">
                            <input class="sheet-show-cyber" name="attr_showCyber" type="checkbox"/>
                            <div class="sheet-cyber-short">
                                <div class="sheet-item">
                                    <span name="attr_cyberName"></span>:
                                    <span name="attr_shortDescription"></span>
                                    <div style="float:right">
                                        Hum cost
                                        (<span name="attr_cybHumLost"></span>)
                                    </div>
                                </div>
                                <span class="sheet-wpDescription" name="attr_cyberDescription"></span>
                            </div>
                            <div class="sheet-cyber-edit">&nbsp;
                                <div>
                                    <strong>Name:</strong>
                                    <input type="text" name="attr_cyberName" class="sheet-cyb">
                                </div>
                                <div>
                                    <strong>Short description:</strong>
                                    <input type="text" maxlength="30" name="attr_shortDescription" />
                                </div>
                                <div>
                                    <strong>Description:</strong>
                                    <textarea rows="2" cols="50" name="attr_cyberDescription"></textarea>
                                </div>
                                <div>
                                    <strong>Humanity lost:</strong>
                                    <input type="number" value="0" name="attr_cybHumLost"/>
                                </div>
                                <div>
                                    <strong>Price:</strong>
                                    <input type="number" value="0" min="0" style="width:120px;" name="attr_cyberPrice"/>
                                </div>
                                <hr>
                            </div>
                        </fieldset>
                    </div>
                    <div class="sheet-vehicle">
                        <input type="hidden" name="attr_vehicleTotalPrice" value="0" />
                        <fieldset class="repeating_vehicle">
                            <input class="sheet-show-vehicle" name="attr_showVehicle" type="checkbox"/>
                            <div class="sheet-vehicle-short">
                                <div class="sheet-item">
                                    <div>
                                        <span name="attr_vehicleName"></span>
                                        (<span name="attr_vehicleAcc"></span>)
                                        SP:<input type="number" class="sheet-number-input" name="attr_vehicleSPcurrent">/<span name="attr_vehicleSP"></span> -
                                        SPD:<input type="number" class="sheet-number-input" name="attr_vehicleSPDcurrent">/<span name="attr_vehicleSPD"></span>
                                    </div>
                                </div>
                                <div class="sheet-wpDescription">
                                    <span name="attr_vehicleArmed"></span>
                                    <span name="attr_vehicleType"></span>
                                    <div>
                                        <span name="attr_vehicleDescription"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="sheet-vehicle-edit">
                                <div>
                                    <strong>Name:</strong>
                                    <input type="text" name="attr_vehicleName" class="sheet-cyb">
                                </div>
                                <div>
                                    <strong>Type:</strong>
                                    <input type="text" style="width:180px" name="attr_vehicleType" />
                                </div>
                                <div>
                                    <strong>Acc:</strong>
                                    <input type="number" name="attr_vehicleAcc" max="5" min="-5" value="0" size="1" class="sheet-cyb">
                                    <strong>SP:</strong>
                                    <input type="number" name="attr_vehicleSP" />
                                    <strong>SPD:</strong>
                                    <input type="number" name="attr_vehicleSPD" />
                                </div>
                                <div>
                                    <strong>Description:</strong>
                                    <textarea rows="2" cols="50" name="attr_vehicleDescription"></textarea>
                                </div>
                                <div>
                                    <strong>Armed:</strong>
                                    <input type="radio" name="attr_vehicleArmed" value="Armed" />Yes
                                    <input type="radio" name="attr_vehicleArmed" value=" " />No&nbsp;&nbsp;
                                    <strong>Price:</strong>
                                    <input type="number" value="0" min="0" style="width:120px;" name="attr_vehiclePrice"/>
                                </div>
                                <hr>
                            </div>
                        </fieldset>
                    </div>
                    <div class="sheet-cyberdeck">
                        <input type="hidden" name="attr_progTotalPrice" value="0" />
                        <input class="sheet-show-deck" name="attr_showDeck" type="checkbox"/>
                        <div class="sheet-deck-short">
                            <div class="col6row">
                                <div class="sheet-col" style="width:100px">
                                    <h6 style="margin-left:0">Model Name</h6>
                                </div>
                                <div class="sheet-col" style="width:50px">
                                    <h6 style="margin-left:0">#CPU</h6>
                                </div>
                                <div class="sheet-col" style="width:90px">
                                    <h6 style="margin-left:0">Type</h6>
                                </div>
                                <div class="sheet-col" style="width:50px">
                                    <h6 style="margin-left:0">Speed</h6>
                                </div>
                                <div class="sheet-col" style="width:60px">
                                    <h6 style="margin-left:0">Price</h6>
                                </div>
                            </div>
                            <div class="col5row">
                                <div class="sheet-col" style="width:100px">
                                    <span name="attr_deckName"></span>
                                </div>
                                <div class="sheet-col" style="width:50px">
                                    <span name="attr_deckCpu"></span>
                                </div>
                                <div class="sheet-col" style="width:90px">
                                    <span name="attr_deckType"></span>
                                </div>
                                <div class="sheet-col" style="width:50px">
                                    <span name="attr_deckSpeed"></span>
                                </div>
                                <div class="sheet-col" style="width:60px">
                                    <span name="attr_deckPrice"></span>
                                </div>
                            </div>
                            <div >
                                <h6 style="margin-left:0">Options</h6>
                                <span name="attr_deckOptions"></span>
                                <h6 style="margin-left:0">Description</h6>
                                <span class="sheet-deckDescription" name="attr_deckDescription"></span>
                            </div>
                            <div class="col4row">
                                <div class="sheet-col" style="width:90px">
                                    <h6 style="margin-left:0">Wall</h6>
                                </div>
                                <div class="sheet-col" style="width:90px">
                                    <h6 style="margin-left:0">Gate</h6>
                                </div>
                                <div class="sheet-col" style="width:50px">
                                    <h6 style="margin-left:0">Memory</h6>
                                </div>
                                <div class="sheet-col" style="width:60px">
                                    <h6 style="margin-left:0">Init.</h6>
                                </div>
                            </div>
                            <div class="col4row">
                                <div class="sheet-col" style="width:90px">
                                    <input class="sheet-number-input" type="number" name="attr_deckWallCurrent" /> /
                                    <span name="attr_deckWall"></span>
                                </div>
                                <div class="sheet-col" style="width:90px">
                                    <input class="sheet-number-input" type="number" name="attr_deckGateCurrent" /> /
                                    <span name="attr_deckGate"></span>
                                </div>
                                <div class="sheet-col" style="width:50px">
                                    <span name="attr_deckMemoryCurrent"></span> /
                                    <span name="attr_deckMemory"></span>
                                    <input type="hidden" name="attr_deckMemoryCurrent" />
                                </div>
                                <div class="sheet-col" style="width:50px">
                                    <button type='roll' value='&{template:skill}{{name=@{character_name}}}{{skillname=Init.Net}}{{result=[[1d10!cf<1+@{int}+@{deckSpeed}-@{intpenality}+?{mod.|0}]]}}' name='roll_initDeck'></button>
                                </div>
                            </div>
                        </div>
                        <div class="sheet-deck-edit">
                            <div>
                                <strong>Name:</strong>
                                <input type="text" name="attr_deckName" class="sheet-cyb" />
                                <strong>CPU:</strong>
                                <input type="number" name="attr_deckCpu" value="0" size="3" class="sheet-cyb" />
                            </div>
                            <div>
                                <strong>Type</strong>
                                <select name="attr_deckType">
                                    <option value="Cellular">Cellular</option>
                                    <option value="Portable">Portable</option>
                                    <option value="Combat Deck">Combat Deck</option>
                                    <option value="Cyberlimb Deck">Cyberlimb Deck</option>
                                    <option value="Standard">Standard</option>
                                </select>
                            </div>
                            <div>
                                <strong>Options</strong>
                                <ul>
                                    <li><input type="checkbox" name="attr_deckOption1" value="Trodes" /><input type="hidden" name="attr_deckOption1" value=" " /> Trodes</li>
                                    <li><input type="checkbox" name="attr_deckOption2" value="Keyboard" /> Keyboard</li>
                                    <li><input type="checkbox" name="attr_deckOption3" value="Videoboard" /> Videoboard</li>
                                    <li><input type="checkbox" name="attr_deckOption4" value="Printer" /><input type="hidden" name="attr_deckOption4" value=" " /> Printer</li>
                                    <li><input type="checkbox" name="attr_deckOption5" value="Chipreader" /> Chipreader</li>
                                    <li><input type="checkbox" name="attr_deckOption6" value="Voxbox" /> Voxbox</li>
                                    <li><input type="checkbox" name="attr_deckOption7" value="Scanner" /> Scanner</li>
                                </ul>
                            </div>
                            <div>
                                <strong>Data Wall Str:</strong>
                                <input type="number" name="attr_deckWall" class="sheet-cyb" />
                                <strong>Code gate Str:</strong>
                                <input type="number" name="attr_deckGate" class="sheet-cyb" />
                            </div>
                            <div>
                                <strong>Speed:</strong>
                                <input type="number" name="attr_deckSpeed" class="sheet-cyb" />
                                <strong>Memory:</strong>
                                <input type="number" name="attr_deckMemory" class="sheet-cyb" />
                            </div>
                            <div>
                                <strong>Description:</strong>
                                <textarea rows="2" cols="50" name="attr_deckDescription"></textarea>
                            </div>
                            <div>
                                <strong>Price:</strong>
                                <input type="number" name="attr_deckPrice" style="width:120px;" value="0" min="0" class="sheet-cyb" />
                            </div>
                        </div>
                        <hr>
                        <h6 style="margin:0;">Programs</h6>
                        <fieldset class="repeating_prog" >
                            <input class="sheet-show-prog" name="attr_showProg" style="float:right; margin-top:3px;" type="checkbox"/>
                            <div class="sheet-prog-short"> &nbsp;
                                <button class="sheet-wp-button" type='roll' value='&{template:prog}{{name=@{character_name}:@{progName}}}{{roll= @{progRoll} }} {{effect=@{wpDescription} }} {{dmg= [[ @{progDmg} ]] }}' name='roll_prog'>
                                    <span name="attr_progName"></span> -
                                    <span name="attr_progType"></span> - MU
                                    (<span name="attr_progMu"></span>) - Str
                                    (<span name="attr_progStr"></span>).
                                    <input type="hidden" name="attr_progRoll" />
                                </button>
                                <span class="sheet-wpDescription" name="attr_progDescription"></span>
                            </div>
                            <div class="sheet-prog-edit">
                                <div>
                                    <strong>Name</strong>
                                    <input type="text" name="attr_progName" />
                                </div>
                                <div>
                                    <strong>Type</strong>
                                    <select name="attr_progType">
                                        <option value="Intrusion">Intrusion</option>
                                        <option value="Decryption">Decryption</option>
                                        <option value="Detection/Alarm">Detection/Alarm</option>
                                        <option value="Anti System">Anti System</option>
                                        <option value="Evasion/Stealth">Evasion/Stealth</option>
                                        <option value="Protection">Protection</option>
                                        <option value="Anti IC">Anti IC</option>
                                        <option value="Anti Personnel">Anti Personnel</option>
                                        <option value="Controllers">Controllers</option>
                                        <option value="Utilities">Utilities</option>
                                        <option value="Demon Series">Demon Series</option>
                                    </select>
                                    <strong>Memory Use</strong>
                                    <input type="number" name="attr_progMu" size="3" />
                                </div>
                                <div>
                                    <strong>Strengh</strong>
                                    <input type="number" name="attr_progStr" size="3" />
                                    <strong>Dmg</strong>
                                    <input type="text" name="attr_progDmg" style="width:90px;" value='0' placeholder="1d6" />
                                </div>
                                <div>
                                    <strong>Description:</strong>
                                    <textarea rows="2" cols="50" name="attr_progDescription"></textarea>
                                </div>
                                <div>
                                    <strong>Price</strong>
                                    <input type="number" name="attr_progPrice" value="0" min="0" style="width:120px;" />
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div>
        </div>
        <div class="sheet-section3">
            <input type="checkbox" name="attr_show-style" class="sheet-show-style"/>
            <div class="sheet-style-short">
                <h4>Bio</h4>
                <div>
                    <strong>Name : </strong>
                    <span name="attr_firstName"></span> <span name="attr_lastName"></span>
                </div>
                <div>
                    <strong>Age : </strong>
                    <span name="attr_age"></span>
                </div>
                <div>
                    <strong>Have a legal ID ? </strong>
                    <span name="attr_legalID"></span>
                </div>
                <div>
                    <strong>Ethnicity : </strong>
                    <span name="attr_ethnicity"></span>
                </div>
                <div>
                    <strong>Language : </strong>
                    <span name="attr_language"></span>
                </div>
                <div>
                    <strong>Style : </strong>
                    <span name="attr_styleDescription" placeholder="Describ past..."></span>
                </div>
                <h4>Motivations</h4>
                <div>
                    <strong>Traits : </strong>
                    <span name="attr_traits"></span>
                </div>
                <div>
                    <strong>Goal : </strong>
                    <span name="attr_goal"></span>
                </div>
                <div>
                    <strong>Value Person : </strong>
                    <span name="attr_vPerson"></span>
                </div>
                <div>
                    <strong>Value Most : </strong>
                    <span name="attr_vMust"></span>
                </div>
                <div>
                    <strong>Value Possession : </strong>
                    <span name="attr_vPossession"></span>
                </div>
            </div>
            <div class="sheet-style-edit">
                <h4>Bio</h4>
                <div>
                    <strong>First Name : </strong>
                    <input type="text" name="attr_firstName" />
                </div>
                <div>
                    <strong>Last Name : </strong>
                    <input type="text" name="attr_lastName" />
                </div>
                <div>
                    <strong>Age : </strong>
                    <input type="number" min="16" value="16" size="3" style="width: 40px;" name="attr_age"/>
                </div>
                <div>
                    <strong>Have a legal ID ?</strong>
                    <input type="radio" name="attr_legalID" value="Yes" /><i>Yes</i>
                    <input type="radio" name="attr_legalID" value="No" /><i>No</i>
                </div>
                <div>
                    <strong>Ethnicity : </strong>
                    <input type="text" name="attr_ethnicity" />
                </div>
                <div>
                    <strong>Language : </strong>
                    <input type="text" name="attr_language" />
                </div>
                <div>
                    <strong>Style : </strong>
                    <textarea rows="2" cols="50" name="attr_styleDescription" placeholder="Describ your character (style, clothes, ...)"></textarea>
                </div>
                <h4>Motivations</h4>
                <div>
                    <strong>Traits : </strong>
                    <input type="text" name="attr_traits"/>
                </div>
                <div>
                    <strong>Goal : </strong>
                    <input type="text" name="attr_goal"/>
                </div>
                <div>
                    <strong>Value Person : </strong>
                    <input type="text" name="attr_vPerson"/>
                </div>
                <div>
                    <strong>Value Must : </strong>
                    <input type="text" name="attr_vMust"/>
                </div>
                <div>
                    <strong>Value Possession : </strong>
                    <input type="text" name="attr_vPossession"/>
                </div>
                <div>
                    <strong>Feeling about most people : </strong>
                    <input type="text" name="attr_vPeople"/>
                </div>
            </div>
            <h4>False ID(s) : </h4>
            <input type="radio" name="attr_falseIDs" value="Yes" class="sheet-falseId-yes" /><i>Yes</i>
            <input type="radio" name="attr_falseIDs" value="No" class="sheet-falseId-no" checked /><i>No</i>
            <div class="sheet-block-falseID">
                <input type="checkbox" name="attr_show-repcontrol" class="sheet-show-repcontrol"/>
                <fieldset class="repeating_falseID">
                    <input name="attr_show-falseID" type="checkbox" class="sheet-show-falseID" />
                    <div class="sheet-falseID-short">
                        <div>
                            <div class="sheet-item">
                                <span name="attr_falseName"></span>:
                                <span name="attr_falseJob"></span>
                                (<span name="attr_falseNameStatus"></span>)
                            </div>
                            <span class="sheet-wpDescription" name="attr_falseIdDescription"></span>
                        </div>
                    </div>
                    <div class="sheet-falseID-edit">
                        <div>
                            <strong>Name : </strong>
                            <input type="text" name="attr_falseName"/>
                        </div>
                        <div>
                            <strong>Occupation : </strong>
                            <input type="text" name="attr_falseJob"/>
                        </div>
                        <div>
                            <strong>Notes :</strong>
                            <textarea rows="2" cols="50" name="attr_falseIdDescription" placeholder="May write some informations about this false ID..."></textarea>
                        </div>
                        <div>
                            <strong>Status : </strong>
                            <input type="radio" name="attr_falseNameStatus" value="Safe" /><i>Safe</i>
                            <input type="radio" name="attr_falseNameStatus" value="Limited" /><i>Limited</i>
                            <input type="radio" name="attr_falseNameStatus" value="Compromised" /><i>Compromised</i>
                        </div>
                        <hr>
                    </div>
                </fieldset>
            </div>
        </div>
        <div class="sheet-section4">
            <h4>Life Path</h4>
            <input type="radio" class="sheet-select-lifeEvent" name="attr_info-select" value="1" /><strong class="sheet-items">Life Events</strong>
            <input type="radio" class="sheet-select-journal" name="attr_info-select" value="4" /><strong class="sheet-items">Journal</strong>
            <div class="sheet-lifeEvent">
                <h4>History</h4>
                <input type="checkbox" name="attr_show-history" class="sheet-show-history" />
                <p class="sheet-history-short">
                    <span name="attr_historyDescription" placeholder="Describ past..."></span>
                </p>
                <textarea class="sheet-history-edit" rows="2" cols="50" name="attr_historyDescription" placeholder="Describ past, begin by childhood..."></textarea>
                <h4>Life event</h4>
                <input type="checkbox" name="attr_show-repcontrol" class="sheet-show-repcontrol"/>
                <fieldset class="repeating_lifeEvent">
                    <input type="checkbox" name="attr_show-lifeEvent" class="sheet-show-lifeEvent"/>
                    <div class="sheet-lifeEvent-short">
                        <div>
                            <strong><span name="attr_ageEvent"></span></strong> :
                            <span name="attr_eventText"></span>
                        </div>
                    </div>
                    <div class="sheet-lifeEvent-edit">
                        Age : <input type="number" min="16" value="16" size="3" style="width: 40px;" name="attr_ageEvent" />
                        Event : <input type="text" name="attr_eventText" />
                    </div>
                </fieldset>
            </div>
            <div class="sheet-journal">
                <h4>Journal</h4>
                <input type="checkbox" name="attr_show-journal" class="sheet-show-journal"/>
                <div class="sheet-journal-short">
                    <p><span name="attr_journalPersonnal"></span></p>
                </div>
                <div class="sheet-journal-edit">
                    <textarea cols="50" name="attr_journalPersonnal" placeholder="Some words about..."></textarea>
                </div>
            </div>
        </div>
        <div class="sheet-section7">
            <h4>Relations</h4>
            <h4>Family</h4>
            <input type="checkbox" name="attr_showBlockFamilly" class="sheet-showBlockFamilly"/>
            <div class="sheet-block-familly">
                <input type="checkbox" name="attr_show-repcontrol" class="sheet-show-repcontrol"/>
                <fieldset class="repeating_familly">
                    <input type="checkbox" name="attr_show-familly" class="sheet-show-familly" />
                    <div class="sheet-familly-short">
                        <div class="sheet-item">
                            <span name="attr_famillyType"></span>:
                            <span name="attr_famillyName"></span>
                            (<span name="attr_famillyAge"></span>) -
                            <span name="attr_famillyOccupation"></span>.
                        </div>
                        <div class="sheet-wpDescription">
                            <div>Location : <span name="attr_famillyLocation"></span></div>
                            <div>He/She : <span name="attr_famillyFeeling"></span>
                                You : <span name="attr_famillyFeelingYou"></span></div>
                            <p>
                                <span name="attr_famillyDescription"></span>
                            </p>
                        </div>
                    </div>
                    <div class="sheet-familly-edit">
                        <div>
                            <strong>Name : </strong>
                            <input type="text" name="attr_famillyName"/>
                        </div>
                        <div>
                            <strong>Is your...</strong>
                            <select name="attr_famillyType">
                                <option value="Mother">Mother</option>
                                <option value="Father">Father</option>
                                <option value="Sister">Sister</option>
                                <option value="Brother">Brother</option>
                            </select>
                        </div>
                        <div>
                            <strong>Age : </strong>
                            <input type="number" min="16" value="16" size="3" style="width: 40px;" name="attr_famillyAge" />
                        </div>
                        <div>
                            <strong>Occupation : </strong>
                            <input type="text" name="attr_famillyOccupation"/>
                        </div>
                        <div>
                            <strong>Main location : </strong>
                            <input type="text" name="attr_famillyLocation"/>
                        </div>
                        <div>
                            <strong>Feeling : </strong>
                            <select name="attr_famillyFeeling">
                                <option value="Like you.">Like you.</option>
                                <option value="Admire you.">Admire you.</option>
                                <option value="Love you !">Love you !</option>
                                <option value="Feels neutral.">Feels neutral.</option>
                                <option value="Ignore you.">Ignores you.</option>
                                <option value="Hate you.">Hates you.</option>
                                <option value="Want your death !">Wants your death !</option>
                            </select>
                        </div>
                        <div>
                            <strong>Your feeling : </strong>
                            <select name="attr_famillyFeelingYou">
                                <option value="Like her/him.">Like her/him.</option>
                                <option value="Admire her/him.">Admire her/him.</option>
                                <option value="Love her/him !">Love her/him !</option>
                                <option value="Feels neutral.">Feel neutral.</option>
                                <option value="Ignore her/him.">Ignore her/him.</option>
                                <option value="Hate her/him.">Hate her/him.</option>
                                <option value="Want his death !">Want his death !</option>
                            </select>
                        </div>
                        <div>
                            <strong>Description : </strong>
                            <textarea rows="2" cols="50" name="attr_famillyDescription" placeholder="Some words about..."></textarea>
                        </div>
                        <hr>
                    </div>
                </fieldset>
            </div>
            <h4>Friends/Lovers</h4>
            <input type="checkbox" name="attr_showBlockFriend" class="sheet-showBlockFriend"/>
            <div class="sheet-block-friend">
                <input type="checkbox" name="attr_show-repcontrol" class="sheet-show-repcontrol"/>
                <fieldset class="repeating_friend">
                    <input type="checkbox" name="attr_show-friend" class="sheet-show-friend" />
                    <div class="sheet-friend-short">
                        <div class="sheet-item">
                            <div>
                                <span name="attr_friendType"></span> <span name="attr_friendName"></span>
                                (<span name="attr_friendAge"></span>) -
                                <span name="attr_friendOccupation"></span>.
                            </div>
                        </div>
                        <div class="sheet-wpDescription">
                            <div>Location : <span name="attr_friendLocation"></span></div>
                            <div>He/She : <span name="attr_friendFeeling"></span>
                                You : <span name="attr_friendFeelingYou"></span></div>
                            <p>
                                <span name="attr_friendDescription"></span>
                            </p>
                        </div>
                    </div>
                    <div class="sheet-friend-edit">
                        <div>
                            <strong>Gender</strong>
                            <select name="attr_friendType">
                                <option value="Mr">Mr</option>
                                <option value="Mrs">Mrs</option>
                                <option value="Ms">Ms</option>
                            </select>
                        </div>
                        <div>
                            <strong>Name : </strong>
                            <input type="text" name="attr_friendName"/>
                        </div>

                        <div>
                            <strong>Age : </strong>
                            <input type="number" min="16" value="16" size="3" style="width: 40px;" name="attr_friendAge" />
                        </div>
                        <div>
                            <strong>Occupation : </strong>
                            <input type="text" name="attr_friendOccupation"/>
                        </div>
                        <div>
                            <strong>Main location : </strong>
                            <input type="text" name="attr_friendLocation"/>
                        </div>
                        <div>
                            <strong>Feeling : </strong>
                            <select name="attr_friendFeeling">
                                <option value="Like you.">Like you.</option>
                                <option value="Admire you.">Admire you.</option>
                                <option value="Love you !">Love you !</option>
                            </select>
                        </div>
                        <div>
                            <strong>Your feeling : </strong>
                            <select name="attr_friendFeelingYou">
                                <option value="Like her/him.">Like her/him.</option>
                                <option value="Admire her/him.">Admire her/him.</option>
                                <option value="Love her/him !">Love her/him !</option>
                                <option value="Feels neutral.">Feel neutral.</option>
                            </select>
                        </div>
                        <div>
                            <strong>Description : </strong>
                            <textarea rows="2" cols="50" name="attr_friendDescription" placeholder="Some words about..."></textarea>
                        </div>
                        <hr>
                    </div>
                </fieldset>
            </div>
            <h4>Foes</h4>
            <input type="checkbox" name="attr_showBlockFoe" class="sheet-showBlockFoe"/>
            <div class="sheet-block-foe">
                <input type="checkbox" name="attr_show-repcontrol" class="sheet-show-repcontrol"/>
                <fieldset class="repeating_foe">
                    <input type="checkbox" name="attr_show-foe" class="sheet-show-foe" />
                    <div class="sheet-foe-short">
                        <div class="sheet-item">
                            <div>
                                <span name="attr_foeType"></span> <span name="attr_foeName"></span>
                                (<span name="attr_foeAge"></span>) -
                                <span name="attr_foeOccupation"></span>.
                            </div>
                        </div>
                        <div class="sheet-wpDescription">
                            <div>Location : <span name="attr_foeLocation"></span></div>
                            <div>Cause : <span name="attr_foeCause"></span></div>
                            <div>He/She : <span name="attr_foeFeeling"></span>
                                You : <span name="attr_foeFeelingYou"></span>
                            </div>
                            <div>With : <span name="attr_foeResource"></span></div>
                            <p>
                                <span name="attr_foeDescription"></span>
                            </p>
                        </div>
                    </div>
                    <div class="sheet-foe-edit">
                        <div>
                            <strong>Gender</strong>
                            <select name="attr_foeType">
                                <option value="Mr">Mr</option>
                                <option value="Mrs">Mrs</option>
                                <option value="Ms">Ms</option>
                            </select>
                        </div>
                        <div>
                            <strong>Name : </strong>
                            <input type="text" name="attr_foeName"/>
                        </div>

                        <div>
                            <strong>Age : </strong>
                            <input type="number" min="16" value="16" size="3" style="width: 40px;" name="attr_foeAge" />
                        </div>
                        <div>
                            <strong>Occupation : </strong>
                            <input type="text" name="attr_foeOccupation"/>
                        </div>
                        <div>
                            <strong>Main location : </strong>
                            <input type="text" name="attr_foeLocation"/>
                        </div>
                        <div>
                            <strong>Cause : </strong>
                            <input type="text" name="attr_foeCause"/>
                        </div>
                        <div>
                            <strong>Feeling :</strong>
                            <select name="attr_foeFeeling">
                                <option value="Ignore you.">Ignore you.</option>
                                <option value="Hate you.">Hate you.</option>
                                <option value="Want your death !">Want your death !</option>
                            </select>
                        </div>
                        <div>
                            <strong>Resources : </strong>
                            <select name="attr_foeResource">
                                <option value="Alone.">Alone.</option>
                                <option value="Few friends.">Few friends.</option>
                                <option value="A entire Gang.">An entire Gang</option>
                                <option value="A large criminal organisation.">A large criminal organisation</option>
                                <option value="A military organisation.">A military organisation</option>
                                <option value="A corporation.">A corporation</option>
                                <option value="The gouvernement.">The government</option>
                            </select>
                        </div>
                        <div>
                            <strong>Your Feeling : </strong>
                            <select name="attr_foeFeelingYou">
                                <option value="Like her/him.">Like her/him.</option>
                                <option value="Admire her/him.">Admire her/him.</option>
                                <option value="Love her/him !">Love her/him !</option>
                                <option value="Feels neutral.">Feel neutral.</option>
                                <option value="Ignore her/him.">Ignore her/him.</option>
                                <option value="Hate her/him.">Hate her/him.</option>
                                <option value="Want his death !">Want his death !</option>
                            </select>
                        </div>
                        <div>
                            <strong>Description : </strong>
                            <textarea rows="2" cols="50" name="attr_foeDescription" placeholder="Why ? Foe power, Some words about your enemy..."></textarea>
                        </div>
                        <hr>
                    </div>
                </fieldset>
            </div>
            <h4>Contact</h4>
            <input type="checkbox" name="attr_showBlockContact" class="sheet-showBlockContact"/>
            <div class="sheet-block-contact">
                <input type="checkbox" name="attr_show-repcontrol" class="sheet-show-repcontrol"/>
                <fieldset class="repeating_contact">
                    <input type="checkbox" name="attr_show-contact" class="sheet-show-contact" />
                    <div class="sheet-contact-short">
                        <div class="sheet-item">
                            <div>
                                <span name="attr_contactType"></span> <span name="attr_contactName"></span>
                                (<span name="attr_contactAge"></span>) -
                                <span name="attr_contactOccupation"></span>.
                            </div>
                        </div>
                        <div class="sheet-wpDescription">
                            <div>Location : <span name="attr_contactLocation"></span></div>
                            <div>Can do for you : <span name="attr_canDo"></span></div>
                            <div>Ability : <span name="attr_contactAbility"></span></div>
                            <div>Connection : <span name="attr_contactConnexion"></span></div>
                            <p>
                                <span name="attr_contactDescription"></span>
                            </p>
                        </div>
                    </div>
                    <div class="sheet-contact-edit">
                        <div>
                            <strong>Gender</strong>
                            <select name="attr_contactType">
                                <option value="Mr">Mr</option>
                                <option value="Mrs">Mrs</option>
                                <option value="Ms">Ms</option>
                            </select>
                        </div>
                        <div>
                            <strong>Name : </strong>
                            <input type="text" name="attr_contactName"/>
                        </div>
                        <div>
                            <strong>Age : </strong>
                            <input type="number" min="16" value="16" size="3" style="width: 40px;" name="attr_contactAge" />
                        </div>
                        <div>
                            <strong>Occupation : </strong>
                            <input type="text" name="attr_contactOccupation"/>
                        </div>
                        <div>
                            <strong>Main location : </strong>
                            <input type="text" name="attr_contactLocation"/>
                        </div>
                        <div>
                            <strong>What can he/she do for you : </strong>
                            <input type="text" name="attr_canDo" placeholder="Get weapon, or drug, or info, ....."/>
                        </div>
                        <p>
                            <i>The average service price depend from NPC ability and NPC connection.</i>
                        </p>
                        <div>
                            <strong>Ability : </strong>
                            <select name="attr_contactAbility">
                                <option value="Bad: (6+1d10) - 100 $">Bad: (6+1d10) - 100 $</option>
                                <option value="Average: (10+1d10) - 1000 $">Average: (10+1d10) - 1000 $</option>
                                <option value="Pro: (14+1d10) - 2000 $">Pro: (14+1d10) - 2000 $</option>
                                <option value="Expert: (16+1d10) - 5000 $">Expert: (16+1d10) - 5000 $</option>
                                <option value="Master: (18+1d10) - 10000 $">Master: (18+1d10) - 10000 $</option>
                            </select>
                        </div>
                        <div>
                            <strong>Connection : </strong>
                            <select name="attr_contactConnexion">
                                <option value="Alone (+0) price x1.">Alone (+0) price x1.</option>
                                <option value="Few people (+1) price x1,5.">Few people (+1) price x1,5.</option>
                                <option value="A entire Gang (+2) price x2.">An entire Gang (+2) price x2.</option>
                                <option value="A large criminal organisation (+3) price x2,5).">A large criminal organisation (+3) price x2,5.</option>
                                <option value="A military organisation (+4) price x3.">A military organisation (+4) price x3.</option>
                                <option value="A small corporation (+5) price x4.">A corporation (+5) price x4</option>
                                <option value="The gouvernement (+6) price x5.">The government (+5) price x5</option>
                                <option value="A big corporation (+7) price x6.">A corporation (+7) price x6</option>
                            </select>
                        </div>
                        <div>
                            <strong>Description : </strong>
                            <textarea rows="2" cols="50" name="attr_contactDescription" placeholder="Some words about..."></textarea>
                        </div>
                        <hr>
                    </div>
                </fieldset>
            </div>
        </div>
        <div class="sheet-section6">
            <h4>Homes</h4>
            <input type="hidden" name="attr_homeTotalPrice" value="0"/>
            <input type="checkbox" name="attr_show-repcontrol" class="sheet-show-repcontrol"/>
            <fieldset class="repeating_home">
                <input type="checkbox" name="attr_show-home" class="sheet-show-home"/>
                <div class="sheet-home-short">
                    <div class="sheet-item">
                        <span name="attr_typeHome"></span>/<span name="attr_locationTypeHome"></span>:
                        <span name="attr_valueHome"></span> /
                        <span name="attr_statusHome"></span>
                    </div>
                    <span class="sheet-wpDescription" name="attr_adrsHome"></span>

                </div>
                <div class="sheet-home-edit">
                    <strong>Type house : </strong>
                    <div>
                        <input class="sheet-show-room2" type="radio" name="attr_typeHome" value="Apartment" /><i>Apartment</i>
                        <i>( 200$ per room / per month )</i>
                    </div>
                    <div>
                        <input class="sheet-show-room3" type="radio" name="attr_typeHome" value="House" /><i>House</i>
                        <i>( 150$ per room /per month )</i>
                    </div>
                    <div>
                        <input class="sheet-show-room4" type="radio" name="attr_typeHome" value="Utilities" /><i>Utilities</i>
                        <i>( 100$ per month )</i>
                    </div>

                    <div>
                        <strong>Nb. Room : </strong>
                        <input type="number" name="attr_roomHome" style="width: 40px;" min="1" />
                    </div>
                    <strong>Location type : </strong>
                    <select name="attr_locationTypeHome">
                        <option value="Combat Zone">Combat Zone ( price x1 )</option>
                        <option value="Moderate Zone">Moderate Zone ( price x2 )</option>
                        <option value="Corporate Zone">Corporate Zone ( price x4)</option>
                        <option value="Executive zone">Executive zone ( price x6)</option>
                    </select>
                    <div>
                        <strong>Address : </strong>
                        <input type="text" name="attr_adrsHome"/>
                    </div>
                    <strong>Rent ? </strong>
                    <input class="sheet-show-rent" type="radio" name="attr_rentHome" value="Yes" /><i>Yes</i>
                    <input class="sheet-show-price" type="radio" name="attr_rentHome" value="No" /><i>No</i>

                    <div class="sheet-price-home">
                        <strong>Price : </strong>
                        <span name="attr_valueHome"></span>
                        <input type="hidden" name="attr_priceHome" style="width:120px;" value="0" min="0" class="sheet-cyb" />
                    </div>
                    <div class="sheet-rent-home">
                        <strong>Rental price : </strong>
                        <span name="attr_valueHome"></span>
                        <input type="hidden" name="attr_valueHome" />
                        per month
                    </div>
                    <div>
                        <strong>Status : </strong>
                        <input type="radio" name="attr_statusHome" value="Safe" /><i>Safe</i>
                        <input type="radio" name="attr_statusHome" value="Compromised" /><i>Compromised</i>
                        <input type="radio" name="attr_statusHome" value="Limited" /><i>Danger !</i>
                    </div>
                    <hr>
                </div>
            </fieldset>
        </div>
        <div class="sheet-section5">
            <div class="sheet-note">
                <h4>Notes</h4>
                <input type="checkbox" name="attr_show-note" class="sheet-show-note"/>
                <div class="sheet-note-short">
                    <p><span name="attr_notePersonnal"></span></p>
                </div>
                <div class="sheet-note-edit">
                    <textarea cols="50" name="attr_notePersonnal" placeholder="Some words about..."></textarea>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- ROLLTEMPLATE SECTION -->

<rolltemplate class="sheet-rolltemplate-prog">
    <table>
        <tr>
            <th colspan="2">{{name}}:{{skillname}}</th>
        </tr>
        {{#rollGreater() roll 0 }}
        <tr>
            <td><strong>Result: </strong></td>
            <td>{{roll}}</td>
        </tr>
        {{/rollGreater() roll 0 }}
        <tr>
            <td colspan="2">
                <p>{{effect}}</p>
            </td>
        </tr>
        {{#rollGreater() dmg 0 }}
        <tr>
            <td><strong>Damage: </strong></td>
            <td>{{dmg}}</td>
        </tr>
        {{/rollGreater() dmg 0 }}
    </table>
    <hr>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-skill">
    <table>
        <tr>
            <th colspan="2">{{name}}</th>
        </tr>
        <tr>
            <td><strong>Skill/Attrs: </strong></td>
            <td>{{skillname}}</td>
        </tr>
        <tr>
            <td><strong>Modifier: </strong></td>
            <td>{{mod}}</td>
        </tr>
        <tr>
            <td><strong>Result: </strong></td>
            <td>{{result}}
                {{#rollWasFumble() result}}
                {{#^rollTotal() fumble 1}}
                <strong style="color:red">Fumble !!!</strong>
                {{/^rollTotal() fumble 1}}
                {{/rollWasFumble() result}}
            </td>
        </tr>
    </table>
    <hr>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-initiative">
    <table>
        <tr>
            <th colspan="2">{{name}}</th>
        </tr>
        <tr>
            <td><strong>Modifier: </strong></td>
            <td>{{mod}}</td>
        </tr>
        <tr>
            <td><strong>Initiative: </strong></td>
            <td>{{result}}</td>
        </tr>
    </table>
    <hr>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-luck">
    <table>
        <tr>
            <th colspan="2">{{name}}</th>
        </tr>
        <tr>
            <td><strong>Get lucky ?</strong></td>
            <td>
                {{#rollTotal() result 1 }}Yes !!!{{/rollTotal() result 1 }}
                {{#^rollTotal() result 1 }}No...{{/^rollTotal() result 1 }}
            </td>
        </tr>
    </table>
    <hr>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-save">
    <table>
        <tr>
            <th colspan="2">{{name}}:SAVE</th>
        </tr>
        <tr>
            <td><strong>Modifier: </strong></td>
            <td>{{mod}}</td>
        </tr>
        <tr>
            <td><strong>Stun : </strong></td>
            <td>
                {{#rollGreater() saveS rangeS }}
                <strong style="color:red">Failure !!!</strong>
                {{/rollGreater() saveS rangeS }}
                {{#^rollGreater() saveS rangeS }}
                <strong style="color:green">Success !!!</strong>
                {{/^rollGreater() saveS rangeS }}
            </td>
        </tr>
        <tr>
            <td><strong>Death : </strong></td>
            <td>
                {{#rollGreater() saveD rangeD }}
                <strong style="color:red">Failure !!!</strong>
                {{/rollGreater() saveD rangeD }}
                {{#^rollGreater() saveD rangeD }}
                <strong style="color:green">Success !!!</strong>
                {{/^rollGreater() saveD rangeD }}
            </td>
        </tr>
    </table>
    <hr>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-weaponAttack-FSN">
    <table>
        <tr>
            <th colspan="2">{{name}}</th>
        </tr>
        <tr>
            <th colspan="2">Weapon Damages</th>
        </tr>
        <tr>
            <td><strong>Weapon:</strong></td>
            <td>{{weapon}} <strong style="color:red">{{AP}}</strong></td>
        </tr>
        {{#target}}
        <tr>
            <td><strong>DC:</strong></td>
            <td>{{cat}}</td>
        </tr>
        {{/target}}
        {{#hit}}
        <tr>
            <td><strong>Hits:</strong></td>
            <td>{{hit}}</td>
        </tr>
        {{/hit}}
        {{#mod}}
        <tr>
            <td><strong>Modifier:</strong></td>
            <td>{{mod}}</td>
        </tr>
        {{/mod}}
        {{#dmgMod}}
        <tr>
            <td><strong>Dmg Mod:</strong></td>
            <td>{{dmgMod}}</td>
        </tr>
        {{/dmgMod}}
        {{#result}}
        <tr>
            <td><strong>Result:</strong></td>
            <td>{{result}}</td>
        </tr>
        {{/result}}
        <tr>
            <td><strong>Damage:</strong></td>
            <td>
                {{#rollTotal() dmg 1}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}2{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}3{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}4{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}5{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}6{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}7{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}8{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}10{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}15{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}20{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}25{{/rollTotal() cat 14}}
                {{/rollTotal() dmg 1}}
                {{#rollBetween() dmg 2 3}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}3{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}4{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}5{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}6{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}7{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}8{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}9{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}14{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}20{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}26{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}30{{/rollTotal() cat 14}}
                {{/rollBetween() dmg 2 3}}
                {{#rollBetween() dmg 4 5}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}2{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}4{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}5{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}6{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}7{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}8{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}9{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}10{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}18{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}25{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}32{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}40{{/rollTotal() cat 14}}
                {{/rollBetween() dmg 4 5}}
                {{#rollBetween() dmg 6 7}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}3{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}5{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}6{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}7{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}8{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}9{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}10{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}12{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}22{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}30{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}38{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}50{{/rollTotal() cat 14}}
                {{/rollBetween() dmg 6 7}}
                {{#rollBetween() dmg 8 9}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}4{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}6{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}7{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}8{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}9{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}10{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}12{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}16{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}26{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}35{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}44{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}60{{/rollTotal() cat 14}}
                {{/rollBetween() dmg 8 9}}
                {{#rollBetween() dmg 10 11}}
                {{#rollTotal() cat 1}}2{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}3{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}5{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}7{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}8{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}9{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}10{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}11{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}14{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}20{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}30{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}40{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}50{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}75{{/rollTotal() cat 14}}
                {{/rollBetween() dmg 10 11}}
                {{#rollBetween() dmg 12 14}}
                {{#rollTotal() cat 1}}3{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}4{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}6{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}8{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}9{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}10{{/rollTotal() cat 6}}
                {{/rollBetween() dmg 12 14}}
                {{#rollGreater() dmg 14}}
                {{#rollTotal() cat 1}}4{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}5{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}7{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}9{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}10{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}11{{/rollTotal() cat 6}}
                {{/rollGreater() dmg 14}}
            </td>
        </tr>
        {{#rollGreater() hit 1}}
        <tr>
            <td><strong>Damage:</strong></td>
            <td>
                {{#rollTotal() dmgA 1}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}2{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}3{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}4{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}5{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}6{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}7{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}8{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}10{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}15{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}20{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}25{{/rollTotal() cat 14}}
                {{/rollTotal() dmgA 1}}
                {{#rollBetween() dmgA 2 3}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}3{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}4{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}5{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}6{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}7{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}8{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}9{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}14{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}20{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}26{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}30{{/rollTotal() cat 14}}
                {{/rollBetween() dmgA 2 3}}
                {{#rollBetween() dmgA 4 5}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}2{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}4{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}5{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}6{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}7{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}8{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}9{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}10{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}18{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}25{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}32{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}40{{/rollTotal() cat 14}}
                {{/rollBetween() dmgA 4 5}}
                {{#rollBetween() dmgA 6 7}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}3{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}5{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}6{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}7{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}8{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}9{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}10{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}12{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}22{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}30{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}38{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}50{{/rollTotal() cat 14}}
                {{/rollBetween() dmgA 6 7}}
                {{#rollBetween() dmgA 8 9}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}4{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}6{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}7{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}8{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}9{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}10{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}12{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}16{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}26{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}35{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}44{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}60{{/rollTotal() cat 14}}
                {{/rollBetween() dmgA 8 9}}
                {{#rollBetween() dmgA 10 11}}
                {{#rollTotal() cat 1}}2{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}3{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}5{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}7{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}8{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}9{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}10{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}11{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}14{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}20{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}30{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}40{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}50{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}75{{/rollTotal() cat 14}}
                {{/rollBetween() dmgA 10 11}}
                {{#rollBetween() dmgA 12 14}}
                {{#rollTotal() cat 1}}3{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}4{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}6{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}8{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}9{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}10{{/rollTotal() cat 6}}
                {{/rollBetween() dmgA 12 14}}
                {{#rollGreater() dmgA 14}}
                {{#rollTotal() cat 1}}4{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}5{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}7{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}9{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}10{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}11{{/rollTotal() cat 6}}
                {{/rollGreater() dmgA 14}}
            </td>
        </tr>
        {{/rollGreater() hit 1}}
        {{#rollGreater() hit 2}}
        <tr>
            <td><strong>Damage:</strong></td>
            <td>
                {{#rollTotal() dmgB 1}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}2{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}3{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}4{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}5{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}6{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}7{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}8{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}10{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}15{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}20{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}25{{/rollTotal() cat 14}}
                {{/rollTotal() dmgB 1}}
                {{#rollBetween() dmgB 2 3}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}3{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}4{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}5{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}6{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}7{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}8{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}9{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}14{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}20{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}26{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}30{{/rollTotal() cat 14}}
                {{/rollBetween() dmgB 2 3}}
                {{#rollBetween() dmgB 4 5}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}2{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}4{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}5{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}6{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}7{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}8{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}9{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}10{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}18{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}25{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}32{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}40{{/rollTotal() cat 14}}
                {{/rollBetween() dmgB 4 5}}
                {{#rollBetween() dmgB 6 7}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}3{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}5{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}6{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}7{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}8{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}9{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}10{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}12{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}22{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}30{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}38{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}50{{/rollTotal() cat 14}}
                {{/rollBetween() dmgB 6 7}}
                {{#rollBetween() dmgB 8 9}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}4{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}6{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}7{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}8{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}9{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}10{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}12{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}16{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}26{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}35{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}44{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}60{{/rollTotal() cat 14}}
                {{/rollBetween() dmgB 8 9}}
                {{#rollBetween() dmgB 10 11}}
                {{#rollTotal() cat 1}}2{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}3{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}5{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}7{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}8{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}9{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}10{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}11{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}14{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}20{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}30{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}40{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}50{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}75{{/rollTotal() cat 14}}
                {{/rollBetween() dmgB 10 11}}
                {{#rollBetween() dmgB 12 14}}
                {{#rollTotal() cat 1}}3{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}4{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}6{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}8{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}9{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}10{{/rollTotal() cat 6}}
                {{/rollBetween() dmgB 12 14}}
                {{#rollGreater() dmgB 14}}
                {{#rollTotal() cat 1}}4{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}5{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}7{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}9{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}10{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}11{{/rollTotal() cat 6}}
                {{/rollGreater() dmgB 14}}
            </td>
        </tr>
        {{/rollGreater() hit 2}}
        {{#rollGreater() hit 3}}
        <tr>
            <td><strong>Damage:</strong></td>
            <td>
                {{#rollTotal() dmgC 1}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}2{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}3{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}4{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}5{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}6{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}7{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}8{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}10{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}15{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}20{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}25{{/rollTotal() cat 14}}
                {{/rollTotal() dmgC 1}}
                {{#rollBetween() dmgC 2 3}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}3{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}4{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}5{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}6{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}7{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}8{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}9{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}14{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}20{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}26{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}30{{/rollTotal() cat 14}}
                {{/rollBetween() dmgC 2 3}}
                {{#rollBetween() dmgC 4 5}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}2{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}4{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}5{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}6{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}7{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}8{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}9{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}10{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}18{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}25{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}32{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}40{{/rollTotal() cat 14}}
                {{/rollBetween() dmgC 4 5}}
                {{#rollBetween() dmgC 6 7}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}3{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}5{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}6{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}7{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}8{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}9{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}10{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}12{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}22{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}30{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}38{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}50{{/rollTotal() cat 14}}
                {{/rollBetween() dmgC 6 7}}
                {{#rollBetween() dmgC 8 9}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}4{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}6{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}7{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}8{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}9{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}10{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}12{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}16{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}26{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}35{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}44{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}60{{/rollTotal() cat 14}}
                {{/rollBetween() dmgC 8 9}}
                {{#rollBetween() dmgC 10 11}}
                {{#rollTotal() cat 1}}2{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}3{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}5{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}7{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}8{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}9{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}10{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}11{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}14{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}20{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}30{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}40{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}50{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}75{{/rollTotal() cat 14}}
                {{/rollBetween() dmgC 10 11}}
                {{#rollBetween() dmgC 12 14}}
                {{#rollTotal() cat 1}}3{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}4{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}6{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}8{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}9{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}10{{/rollTotal() cat 6}}
                {{/rollBetween() dmgC 12 14}}
                {{#rollGreater() dmgC 14}}
                {{#rollTotal() cat 1}}4{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}5{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}7{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}9{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}10{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}11{{/rollTotal() cat 6}}
                {{/rollGreater() dmgC 14}}
            </td>
        </tr>
        {{/rollGreater() hit 3}}
        {{#rollGreater() hit 4}}
        <tr>
            <td><strong>Damage:</strong></td>
            <td>
                {{#rollTotal() dmgD 1}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}2{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}3{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}4{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}5{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}6{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}7{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}8{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}10{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}15{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}20{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}25{{/rollTotal() cat 14}}
                {{/rollTotal() dmgD 1}}
                {{#rollBetween() dmgD 2 3}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}3{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}4{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}5{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}6{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}7{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}8{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}9{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}14{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}20{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}26{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}30{{/rollTotal() cat 14}}
                {{/rollBetween() dmgD 2 3}}
                {{#rollBetween() dmgD 4 5}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}2{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}4{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}5{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}6{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}7{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}8{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}9{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}10{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}18{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}25{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}32{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}40{{/rollTotal() cat 14}}
                {{/rollBetween() dmgD 4 5}}
                {{#rollBetween() dmgD 6 7}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}3{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}5{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}6{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}7{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}8{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}9{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}10{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}12{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}22{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}30{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}38{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}50{{/rollTotal() cat 14}}
                {{/rollBetween() dmgD 6 7}}
                {{#rollBetween() dmgD 8 9}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}4{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}6{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}7{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}8{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}9{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}10{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}12{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}16{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}26{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}35{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}44{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}60{{/rollTotal() cat 14}}
                {{/rollBetween() dmgD 8 9}}
                {{#rollBetween() dmgD 10 11}}
                {{#rollTotal() cat 1}}2{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}3{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}5{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}7{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}8{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}9{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}10{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}11{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}14{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}20{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}30{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}40{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}50{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}75{{/rollTotal() cat 14}}
                {{/rollBetween() dmgD 10 11}}
                {{#rollBetween() dmgD 12 14}}
                {{#rollTotal() cat 1}}3{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}4{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}6{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}8{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}9{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}10{{/rollTotal() cat 6}}
                {{/rollBetween() dmgD 12 14}}
                {{#rollGreater() dmgD 14}}
                {{#rollTotal() cat 1}}4{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}5{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}7{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}9{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}10{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}11{{/rollTotal() cat 6}}
                {{/rollGreater() dmgD 14}}
            </td>
        </tr>
        {{/rollGreater() hit 4}}
        {{#rollGreater() hit 5}}
        <tr>
            <td><strong>Damage:</strong></td>
            <td>
                {{#rollTotal() dmgE 1}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}2{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}3{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}4{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}5{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}6{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}7{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}8{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}10{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}15{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}20{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}25{{/rollTotal() cat 14}}
                {{/rollTotal() dmgE 1}}
                {{#rollBetween() dmgE 2 3}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}3{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}4{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}5{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}6{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}7{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}8{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}9{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}14{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}20{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}26{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}30{{/rollTotal() cat 14}}
                {{/rollBetween() dmgE 2 3}}
                {{#rollBetween() dmgE 4 5}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}2{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}4{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}5{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}6{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}7{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}8{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}9{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}10{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}18{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}25{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}32{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}40{{/rollTotal() cat 14}}
                {{/rollBetween() dmgE 4 5}}
                {{#rollBetween() dmgE 6 7}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}3{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}5{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}6{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}7{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}8{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}9{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}10{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}12{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}22{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}30{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}38{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}50{{/rollTotal() cat 14}}
                {{/rollBetween() dmgE 6 7}}
                {{#rollBetween() dmgE 8 9}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}4{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}6{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}7{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}8{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}9{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}10{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}12{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}16{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}26{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}35{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}44{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}60{{/rollTotal() cat 14}}
                {{/rollBetween() dmgE 8 9}}
                {{#rollBetween() dmgE 10 11}}
                {{#rollTotal() cat 1}}2{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}3{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}5{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}7{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}8{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}9{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}10{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}11{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}14{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}20{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}30{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}40{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}50{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}75{{/rollTotal() cat 14}}
                {{/rollBetween() dmgE 10 11}}
                {{#rollBetween() dmgE 12 14}}
                {{#rollTotal() cat 1}}3{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}4{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}6{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}8{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}9{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}10{{/rollTotal() cat 6}}
                {{/rollBetween() dmgE 12 14}}
                {{#rollGreater() dmgE 14}}
                {{#rollTotal() cat 1}}4{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}5{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}7{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}9{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}10{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}11{{/rollTotal() cat 6}}
                {{/rollGreater() dmgE 14}}
            </td>
        </tr>
        {{/rollGreater() hit 5}}
        {{#rollGreater() hit 6}}
        <tr>
            <td><strong>Damage:</strong></td>
            <td>
                {{#rollTotal() dmgF 1}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}2{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}3{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}4{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}5{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}6{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}7{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}8{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}10{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}15{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}20{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}25{{/rollTotal() cat 14}}
                {{/rollTotal() dmgF 1}}
                {{#rollBetween() dmgF 2 3}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}3{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}4{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}5{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}6{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}7{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}8{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}9{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}14{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}20{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}26{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}30{{/rollTotal() cat 14}}
                {{/rollBetween() dmgF 2 3}}
                {{#rollBetween() dmgF 4 5}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}2{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}4{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}5{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}6{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}7{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}8{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}9{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}10{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}18{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}25{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}32{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}40{{/rollTotal() cat 14}}
                {{/rollBetween() dmgF 4 5}}
                {{#rollBetween() dmgF 6 7}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}3{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}5{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}6{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}7{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}8{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}9{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}10{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}12{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}22{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}30{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}38{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}50{{/rollTotal() cat 14}}
                {{/rollBetween() dmgF 6 7}}
                {{#rollBetween() dmgF 8 9}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}4{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}6{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}7{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}8{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}9{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}10{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}12{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}16{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}26{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}35{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}44{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}60{{/rollTotal() cat 14}}
                {{/rollBetween() dmgF 8 9}}
                {{#rollBetween() dmgF 10 11}}
                {{#rollTotal() cat 1}}2{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}3{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}5{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}7{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}8{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}9{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}10{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}11{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}14{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}20{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}30{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}40{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}50{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}75{{/rollTotal() cat 14}}
                {{/rollBetween() dmgF 10 11}}
                {{#rollBetween() dmgF 12 14}}
                {{#rollTotal() cat 1}}3{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}4{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}6{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}8{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}9{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}10{{/rollTotal() cat 6}}
                {{/rollBetween() dmgF 12 14}}
                {{#rollGreater() dmgF 14}}
                {{#rollTotal() cat 1}}4{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}5{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}7{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}9{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}10{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}11{{/rollTotal() cat 6}}
                {{/rollGreater() dmgF 14}}
            </td>
        </tr>
        {{/rollGreater() hit 6}}
        {{#rollGreater() hit 7}}
        <tr>
            <td><strong>Damage:</strong></td>
            <td>
                {{#rollTotal() dmgG 1}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}2{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}3{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}4{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}5{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}6{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}7{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}8{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}10{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}15{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}20{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}25{{/rollTotal() cat 14}}
                {{/rollTotal() dmgG 1}}
                {{#rollBetween() dmgG 2 3}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}3{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}4{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}5{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}6{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}7{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}8{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}9{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}14{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}20{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}26{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}30{{/rollTotal() cat 14}}
                {{/rollBetween() dmgG 2 3}}
                {{#rollBetween() dmgG 4 5}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}2{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}4{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}5{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}6{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}7{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}8{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}9{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}10{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}18{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}25{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}32{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}40{{/rollTotal() cat 14}}
                {{/rollBetween() dmgG 4 5}}
                {{#rollBetween() dmgG 6 7}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}3{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}5{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}6{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}7{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}8{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}9{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}10{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}12{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}22{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}30{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}38{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}50{{/rollTotal() cat 14}}
                {{/rollBetween() dmgG 6 7}}
                {{#rollBetween() dmgG 8 9}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}4{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}6{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}7{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}8{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}9{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}10{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}12{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}16{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}26{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}35{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}44{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}60{{/rollTotal() cat 14}}
                {{/rollBetween() dmgG 8 9}}
                {{#rollBetween() dmgG 10 11}}
                {{#rollTotal() cat 1}}2{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}3{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}5{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}7{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}8{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}9{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}10{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}11{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}14{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}20{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}30{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}40{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}50{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}75{{/rollTotal() cat 14}}
                {{/rollBetween() dmgG 10 11}}
                {{#rollBetween() dmgG 12 14}}
                {{#rollTotal() cat 1}}3{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}4{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}6{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}8{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}9{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}10{{/rollTotal() cat 6}}
                {{/rollBetween() dmgG 12 14}}
                {{#rollGreater() dmgG 14}}
                {{#rollTotal() cat 1}}4{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}5{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}7{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}9{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}10{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}11{{/rollTotal() cat 6}}
                {{/rollGreater() dmgG 14}}
            </td>
        </tr>
        {{/rollGreater() hit 7}}
        {{#rollGreater() hit 8}}
        <tr>
            <td><strong>Damage:</strong></td>
            <td>
                {{#rollTotal() dmgH 1}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}2{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}3{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}4{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}5{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}6{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}7{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}8{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}10{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}15{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}20{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}25{{/rollTotal() cat 14}}
                {{/rollTotal() dmgH 1}}
                {{#rollBetween() dmgH 2 3}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}3{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}4{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}5{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}6{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}7{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}8{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}9{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}14{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}20{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}26{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}30{{/rollTotal() cat 14}}
                {{/rollBetween() dmgH 2 3}}
                {{#rollBetween() dmgH 4 5}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}2{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}4{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}5{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}6{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}7{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}8{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}9{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}10{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}18{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}25{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}32{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}40{{/rollTotal() cat 14}}
                {{/rollBetween() dmgH 4 5}}
                {{#rollBetween() dmgH 6 7}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}3{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}5{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}6{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}7{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}8{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}9{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}10{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}12{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}22{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}30{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}38{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}50{{/rollTotal() cat 14}}
                {{/rollBetween() dmgH 6 7}}
                {{#rollBetween() dmgH 8 9}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}4{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}6{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}7{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}8{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}9{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}10{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}12{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}16{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}26{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}35{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}44{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}60{{/rollTotal() cat 14}}
                {{/rollBetween() dmgH 8 9}}
                {{#rollBetween() dmgH 10 11}}
                {{#rollTotal() cat 1}}2{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}3{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}5{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}7{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}8{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}9{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}10{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}11{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}14{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}20{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}30{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}40{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}50{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}75{{/rollTotal() cat 14}}
                {{/rollBetween() dmgH 10 11}}
                {{#rollBetween() dmgH 12 14}}
                {{#rollTotal() cat 1}}3{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}4{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}6{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}8{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}9{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}10{{/rollTotal() cat 6}}
                {{/rollBetween() dmgH 12 14}}
                {{#rollGreater() dmgH 14}}
                {{#rollTotal() cat 1}}4{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}5{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}7{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}9{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}10{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}11{{/rollTotal() cat 6}}
                {{/rollGreater() dmgH 14}}
            </td>
        </tr>
        {{/rollGreater() hit 8}}
        {{#rollGreater() hit 9}}
        <tr>
            <td><strong>Damage:</strong></td>
            <td>
                {{#rollTotal() dmgI 1}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}2{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}3{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}4{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}5{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}6{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}7{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}8{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}10{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}15{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}20{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}25{{/rollTotal() cat 14}}
                {{/rollTotal() dmgI 1}}
                {{#rollBetween() dmgI 2 3}}
                {{#rollTotal() cat 1}}0{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}1{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}3{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}4{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}5{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}6{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}7{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}8{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}9{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}14{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}20{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}26{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}30{{/rollTotal() cat 14}}
                {{/rollBetween() dmgI 2 3}}
                {{#rollBetween() dmgI 4 5}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}1{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}2{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}4{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}5{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}6{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}7{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}8{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}9{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}10{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}18{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}25{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}32{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}40{{/rollTotal() cat 14}}
                {{/rollBetween() dmgI 4 5}}
                {{#rollBetween() dmgI 6 7}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}3{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}5{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}6{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}7{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}8{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}9{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}10{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}12{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}22{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}30{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}38{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}50{{/rollTotal() cat 14}}
                {{/rollBetween() dmgI 6 7}}
                {{#rollBetween() dmgI 8 9}}
                {{#rollTotal() cat 1}}1{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}2{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}4{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}6{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}7{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}8{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}9{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}10{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}12{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}16{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}26{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}35{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}44{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}60{{/rollTotal() cat 14}}
                {{/rollBetween() dmgI 8 9}}
                {{#rollBetween() dmgI 10 11}}
                {{#rollTotal() cat 1}}2{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}3{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}5{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}7{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}8{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}9{{/rollTotal() cat 6}}
                {{#rollTotal() cat 7}}10{{/rollTotal() cat 7}}
                {{#rollTotal() cat 8}}11{{/rollTotal() cat 8}}
                {{#rollTotal() cat 9}}14{{/rollTotal() cat 9}}
                {{#rollTotal() cat 10}}20{{/rollTotal() cat 10}}
                {{#rollTotal() cat 11}}30{{/rollTotal() cat 11}}
                {{#rollTotal() cat 12}}40{{/rollTotal() cat 12}}
                {{#rollTotal() cat 13}}50{{/rollTotal() cat 13}}
                {{#rollTotal() cat 14}}75{{/rollTotal() cat 14}}
                {{/rollBetween() dmgI 10 11}}
                {{#rollBetween() dmgI 12 14}}
                {{#rollTotal() cat 1}}3{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}4{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}6{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}8{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}9{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}10{{/rollTotal() cat 6}}
                {{/rollBetween() dmgI 12 14}}
                {{#rollGreater() dmgI 14}}
                {{#rollTotal() cat 1}}4{{/rollTotal() cat 1}}
                {{#rollTotal() cat 2}}5{{/rollTotal() cat 2}}
                {{#rollTotal() cat 3}}7{{/rollTotal() cat 3}}
                {{#rollTotal() cat 4}}9{{/rollTotal() cat 4}}
                {{#rollTotal() cat 5}}10{{/rollTotal() cat 5}}
                {{#rollTotal() cat 6}}11{{/rollTotal() cat 6}}
                {{/rollGreater() dmgI 14}}
            </td>
        </tr>
        {{/rollGreater() hit 9}}
    </table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-weaponAttack">
    <table>
        <tr>
            <th colspan="2">{{name}}</th>
        </tr>
        <tr>
            <th colspan="2">Weapon Damages</th>
        </tr>
        <tr>
            <td><strong>Weapon:</strong></td>
            <td>{{weapon}} <strong style="color:red">{{AP}}</strong></td>
        </tr>
        {{#target}}
        <tr>
            <td><strong>Target:</strong></td>
            <td>{{target}}</td>
        </tr>
        {{/target}}
        {{#hit}}
        <tr>
            <td><strong>Hits:</strong></td>
            <td>{{hit}}</td>
        </tr>
        {{/hit}}
        {{#mod}}
        <tr>
            <td><strong>Modifier:</strong></td>
            <td>{{mod}}</td>
        </tr>
        {{/mod}}
        {{#result}}
        <tr>
            <td><strong>Result:</strong></td>
            <td>{{result}}</td>
        </tr>
        {{/result}}
        {{#dmg}}
        <tr style="border-bottom:1px solid grey;">
            <td><strong>Dmg.</strong></td>
            <td><strong>Location</strong></td>
        </tr>
        <tr>
            <td>
                {{dmg}}
            </td>
            <td>
                {{#rollTotal() loc 1 }}
                <strong style="color:red">
                    {{#rollBetween() dmgCrt 5 10 }}Head{{/rollBetween() dmgCrt 5 10 }}
                    {{#rollBetween() dmgCrt 1 4 }}Face{{/rollBetween() dmgCrt 1 4 }}
                </strong>
                {{/rollTotal() loc 1 }}
                {{#rollBetween() loc 2 4 }}Chest{{/rollBetween() loc 2 4 }}
                {{#rollTotal() loc 5 }}Right Arm{{/rollTotal() loc 5 }}
                {{#rollTotal() loc 6 }}Left Arm{{/rollTotal() loc 6 }}
                {{#rollBetween() loc 7 8 }}Right Leg{{/rollBetween() loc 7 8 }}
                {{#rollBetween() loc 9 10 }}Left Leg{{/rollBetween() loc 9 10 }}
            </td>
        </tr>
        {{/dmg}}
        {{#hit}}
        {{#rollGreater() hit 1}}
        <tr>
            <td>
                {{dmgA}}
            </td>
            <td>
                {{#rollTotal() locA 1 }}
                <strong style="color:red">
                    {{#rollBetween() dmgCrtA 5 10 }}Head{{/rollBetween() dmgCrtA 5 10 }}
                    {{#rollBetween() dmgCrtA 1 4 }}Face{{/rollBetween() dmgCrtA 1 4 }}
                </strong>
                {{/rollTotal() locA 1 }}
                {{#rollBetween() locA 2 4 }}Chest{{/rollBetween() locA 2 4 }}
                {{#rollTotal() locA 5 }}Right Arm{{/rollTotal() locA 5 }}
                {{#rollTotal() locA 6 }}Left Arm{{/rollTotal() locA 6 }}
                {{#rollBetween() locA 7 8 }}Right Leg{{/rollBetween() locA 7 8 }}
                {{#rollBetween() locA 9 10 }}Left Leg{{/rollBetween() locA 9 10 }}
            </td>
        </tr>
        {{/rollGreater() hit 1}}
        {{#rollGreater() hit 2}}
        <tr>
            <td>
                {{dmgB}}
            </td>
            <td>
                {{#rollTotal() locB 1 }}
                <strong style="color:red">
                    {{#rollBetween() dmgCrtB 5 10 }}Head{{/rollBetween() dmgCrtB 5 10 }}
                    {{#rollBetween() dmgCrtB 1 4 }}Face{{/rollBetween() dmgCrtB 1 4 }}
                </strong>
                {{/rollTotal() locB 1 }}
                {{#rollBetween() locB 2 4 }}Chest{{/rollBetween() locB 2 4 }}
                {{#rollTotal() locB 5 }}Right Arm{{/rollTotal() locB 5 }}
                {{#rollTotal() locB 6 }}Left Arm{{/rollTotal() locB 6 }}
                {{#rollBetween() locB 7 8 }}Right Leg{{/rollBetween() locB 7 8 }}
                {{#rollBetween() locB 9 10 }}Left Leg{{/rollBetween() locB 9 10 }}
            </td>
        </tr>
        {{/rollGreater() hit 2}}
        {{#rollGreater() hit 3}}
        <tr>
            <td>
                {{dmgC}}
            </td>
            <td>
                {{#rollTotal() locC 1 }}
                <strong style="color:red">
                    {{#rollBetween() dmgCrtC 5 10 }}Head{{/rollBetween() dmgCrtC 5 10 }}
                    {{#rollBetween() dmgCrtC 1 4 }}Face{{/rollBetween() dmgCrtC 1 4 }}
                </strong>
                {{/rollTotal() locC 1 }}
                {{#rollBetween() locC 2 4 }}Chest{{/rollBetween() locC 2 4 }}
                {{#rollTotal() locC 5 }}Right Arm{{/rollTotal() locC 5 }}
                {{#rollTotal() locC 6 }}Left Arm{{/rollTotal() locC 6 }}
                {{#rollBetween() locC 7 8 }}Right Leg{{/rollBetween() locC 7 8 }}
                {{#rollBetween() locC 9 10 }}Left Leg{{/rollBetween() locC 9 10 }}
            </td>
        </tr>
        {{/rollGreater() hit 3}}
        {{#rollGreater() hit 4}}
        <tr>
            <td>
                {{dmgD}}
            </td>
            <td>
                {{#rollTotal() locD 1 }}
                <strong style="color:red">
                    {{#rollBetween() dmgCrtD 5 10 }}Head{{/rollBetween() dmgCrtD 5 10 }}
                    {{#rollBetween() dmgCrtD 1 4 }}Face{{/rollBetween() dmgCrtD 1 4 }}
                </strong>
                {{/rollTotal() locD 1 }}
                {{#rollBetween() locD 2 4 }}Chest{{/rollBetween() locD 2 4 }}
                {{#rollTotal() locD 5 }}Right Arm{{/rollTotal() locD 5 }}
                {{#rollTotal() locD 6 }}Left Arm{{/rollTotal() locD 6 }}
                {{#rollBetween() locD 7 8 }}Right Leg{{/rollBetween() locD 7 8 }}
                {{#rollBetween() locD 9 10 }}Left Leg{{/rollBetween() locD 9 10 }}
            </td>
        </tr>
        {{/rollGreater() hit 4}}
        {{#rollGreater() hit 5}}
        <tr>
            <td>
                {{dmgE}}
            </td>
            <td>
                {{#rollTotal() locE 1 }}
                <strong style="color:red">
                    {{#rollBetween() dmgCrtE 5 10 }}Head{{/rollBetween() dmgCrtE 5 10 }}
                    {{#rollBetween() dmgCrtE 1 4 }}Face{{/rollBetween() dmgCrtE 1 4 }}
                </strong>
                {{/rollTotal() locE 1 }}
                {{#rollBetween() locE 2 4 }}Chest{{/rollBetween() locE 2 4 }}
                {{#rollTotal() locE 5 }}Right Arm{{/rollTotal() locE 5 }}
                {{#rollTotal() locE 6 }}Left Arm{{/rollTotal() locE 6 }}
                {{#rollBetween() locE 7 8 }}Right Leg{{/rollBetween() locE 7 8 }}
                {{#rollBetween() locE 9 10 }}Left Leg{{/rollBetween() locE 9 10 }}
            </td>
        </tr>
        {{/rollGreater() hit 5}}
        {{#rollGreater() hit 6}}
        <tr>
            <td>
                {{dmgF}}
            </td>
            <td>
                {{#rollTotal() locF 1 }}
                <strong style="color:red">
                    {{#rollBetween() dmgCrtF 5 10 }}Head{{/rollBetween() dmgCrtF 5 10 }}
                    {{#rollBetween() dmgCrtF 1 4 }}Face{{/rollBetween() dmgCrtF 1 4 }}
                </strong>
                {{/rollTotal() locF 1 }}
                {{#rollBetween() locF 2 4 }}Chest{{/rollBetween() locF 2 4 }}
                {{#rollTotal() locF 5 }}Right Arm{{/rollTotal() locF 5 }}
                {{#rollTotal() locF 6 }}Left Arm{{/rollTotal() locF 6 }}
                {{#rollBetween() locF 7 8 }}Right Leg{{/rollBetween() locF 7 8 }}
                {{#rollBetween() locF 9 10 }}Left Leg{{/rollBetween() locF 9 10 }}
            </td>
        </tr>
        {{/rollGreater() hit 6}}
        {{#rollGreater() hit 7}}
        <tr>
            <td>
                {{dmgG}}
            </td>
            <td>
                {{#rollTotal() locG 1 }}
                <strong style="color:red">
                    {{#rollBetween() dmgCrtG 5 10 }}Head{{/rollBetween() dmgCrtG 5 10 }}
                    {{#rollBetween() dmgCrtG 1 4 }}Face{{/rollBetween() dmgCrtG 1 4 }}
                </strong>
                {{/rollTotal() locG 1 }}
                {{#rollBetween() locG 2 4 }}Chest{{/rollBetween() locG 2 4 }}
                {{#rollTotal() locG 5 }}Right Arm{{/rollTotal() locG 5 }}
                {{#rollTotal() locG 6 }}Left Arm{{/rollTotal() locG 6 }}
                {{#rollBetween() locG 7 8 }}Right Leg{{/rollBetween() locG 7 8 }}
                {{#rollBetween() locG 9 10 }}Left Leg{{/rollBetween() locG 9 10 }}
            </td>
        </tr>
        {{/rollGreater() hit 7}}
        {{#rollGreater() hit 8}}
        <tr>
            <td>
                {{dmgH}}
            </td>
            <td>
                {{#rollTotal() locH 1 }}
                <strong style="color:red">
                    {{#rollBetween() dmgCrtH 5 10 }}Head{{/rollBetween() dmgCrtH 5 10 }}
                    {{#rollBetween() dmgCrtH 1 4 }}Face{{/rollBetween() dmgCrtH 1 4 }}
                </strong>v
                {{/rollTotal() locH 1 }}
                {{#rollBetween() locH 2 4 }}Chest{{/rollBetween() locH 2 4 }}
                {{#rollTotal() locH 5 }}Right Arm{{/rollTotal() locH 5 }}
                {{#rollTotal() locH 6 }}Left Arm{{/rollTotal() locH 6 }}
                {{#rollBetween() locH 7 8 }}Right Leg{{/rollBetween() locH 7 8 }}
                {{#rollBetween() locH 9 10 }}Left Leg{{/rollBetween() locH 9 10 }}
            </td>
        </tr>
        {{/rollGreater() hit 8}}
        {{#rollGreater() hit 9}}
        <tr>
            <td>
                {{dmgI}}
            </td>
            <td>
                {{#rollTotal() locI 1 }}
                <strong style="color:red">
                    {{#rollBetween() dmgCrtI 5 10 }}Head{{/rollBetween() dmgCrtI 5 10 }}
                    {{#rollBetween() dmgCrtI 1 4 }}Face{{/rollBetween() dmgCrtI 1 4 }}
                </strong>
                {{/rollTotal() locI 1 }}
                {{#rollBetween() locI 2 4 }}Chest{{/rollBetween() locI 2 4 }}
                {{#rollTotal() locI 5 }}Right Arm{{/rollTotal() locI 5 }}
                {{#rollTotal() locI 6 }}Left Arm{{/rollTotal() locI 6 }}
                {{#rollBetween() locI 7 8 }}Right Leg{{/rollBetween() locI 7 8 }}
                {{#rollBetween() locI 9 10 }}Left Leg{{/rollBetween() locI 9 10 }}
            </td>
        </tr>
        {{/rollGreater() hit 9}}
        {{/hit }}
    </table>
    <hr>
</rolltemplate>


<!-- SCRIPT SECTION -->

<script type="text/worker">
    /* ---- BEGIN: TheAaronSheet.js ---- */
// Github:   https://github.com/shdwjk/TheAaronSheet/blob/master/TheAaronSheet.js
// By:       The Aaron, Arcane Scriptomancer
// Contact:  https://app.roll20.net/users/104025/the-aaron

var TAS = TAS || (function(){
    'use strict';

    var version = '0.2.4',
        lastUpdate = 1457098091,

        loggingSettings = {
            debug: {
                key:     'debug',
                title:   'DEBUG',
                color: {
                    bgLabel: '#7732A2',
                    label:   '#F2EF40',
                    bgText:  '#FFFEB7',
                    text:    '#7732A2'
                }
            },
            error: {
                key:     'error',
                title:   'Error',
                color: {
                    bgLabel: '#C11713',
                    label:   'white',
                    bgText:  '#C11713',
                    text:    'white'
                }
            },
            warn: {
                key:     'warn',
                title:   'Warning',
                color: {
                    bgLabel: '#F29140',
                    label:   'white',
                    bgText:  '#FFD8B7',
                    text:    'black'
                }
            },
            info: {
                key:     'info',
                title:   'Info',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#B3B2EB',
                    text:    'black'
                }
            },
            notice: {
                key:     'notice',
                title:   'Notice',
                color: {
                    bgLabel: '#33C133',
                    label:   'white',
                    bgText:  '#ADF1AD',
                    text:    'black'
                }
            },
            log: {
                key:     'log',
                title:   'Log',
                color: {
                    bgLabel: '#f2f240',
                    label:   'black',
                    bgText:  '#ffff90',
                    text:    'black'
                }
            },
            callstack: {
                key:     'TAS',
                title:   'function',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#B3B2EB',
                    text:    'black'
                }
            },
            callstack_async: {
                key:     'TAS',
                title:   'ASYNC CALL',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#413FA9',
                    text:    'white'
                }
            },
            TAS: {
                key:     'TAS',
                title:   'TAS',
                color: {
                    bgLabel: 'grey',
                    label:   'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)',
                    bgText:  'grey',
                    text:    'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)'
                }
            }
        },


        config = {
            debugMode: false,
            logging: {
                log: true,
                notice: true,
                info: true,
                warn: true,
                error: true,
                debug: false
            }
        },

        callstackRegistry = [],
		queuedUpdates = {}, //< Used for delaying saves till the last momment.

    complexType = function(o){
        switch(typeof o){
            case 'string':
                return 'string';
            case 'boolean':
                return 'boolean';
            case 'number':
                return (_.isNaN(o) ? 'NaN' : (o.toString().match(/\./) ? 'decimal' : 'integer'));
            case 'function':
                return 'function: '+(o.name ? o.name+'()' : '(anonymous)');
            case 'object':
                return (_.isArray(o) ? 'array' : (_.isArguments(o) ? 'arguments' : ( _.isNull(o) ? 'null' : 'object')));
            default:
                return typeof o;
        }
    },

	dataLogger = function(primaryLogger,secondaryLogger,data){
        _.each(data,function(m){
            var type = complexType(m);
            switch(type){
                case 'string':
                    primaryLogger(m);
                    break;
                case 'undefined':
                case 'null':
                case 'NaN':
                    primaryLogger('['+type+']');
                    break;
                case 'number':
                case 'not a number':
                case 'integer':
                case 'decimal':
                case 'boolean':
                    primaryLogger('['+type+']: '+m);
                    break;
                default:
                    primaryLogger('['+type+']:=========================================');
                    secondaryLogger(m);
                    primaryLogger('=========================================================');
                    break;
            }
        });
	},


    colorLog = function(options){
        var coloredLoggerFunction,
            key = options.key,
            label = options.title || 'TAS',
            lBGColor = (options.color && options.color.bgLabel) || 'blue',
            lTxtColor = (options.color && options.color.label) || 'white',
            mBGColor = (options.color && options.color.bgText) || 'blue',
            mTxtColor = (options.color && options.color.text) || 'white';

        coloredLoggerFunction = function(message){
            console.log(
                '%c '+label+': %c '+message + ' ',
                'background-color: '+lBGColor+';color: '+lTxtColor+'; font-weight:bold;',
                'background-color: '+mBGColor+';color: '+mTxtColor+';'
            );
        };
        return function(){
            if('TAS'===key || config.logging[key]){
               dataLogger(coloredLoggerFunction,function(m){console.log(m);},_.toArray(arguments));
            }
        };
    },

    logDebug  = colorLog(loggingSettings.debug),
    logError  = colorLog(loggingSettings.error),
    logWarn   = colorLog(loggingSettings.warn),
    logInfo   = colorLog(loggingSettings.info),
    logNotice = colorLog(loggingSettings.notice),
    logLog    = colorLog(loggingSettings.log),
    log       = colorLog(loggingSettings.TAS),
    logCS     = colorLog(loggingSettings.callstack),
    logCSA    = colorLog(loggingSettings.callstack_async),

    registerCallstack = function(callstack,label){
        var idx=_.findIndex(callstackRegistry,function(o){
            return (_.difference(o.stack,callstack).length === _.difference(callstack,o.stack).length) &&
                _.difference(o.stack,callstack).length === 0 &&
                o.label === label;
        });
        if(-1 === idx){
            idx=callstackRegistry.length;
            callstackRegistry.push({
                stack: callstack,
                label: label
            });
        }
        return idx;
    },

    setConfigOption = function(options){
        var newconf =_.defaults(options,config);
        newconf.logging=_.defaults(
            (options && options.logging)||{},
            config.logging
        );
        config=newconf;
    },

    debugMode = function(){
        config.logging.debug=true;
        config.debugMode = true;
    },

    getCallstack = function(){
        var e = new Error('dummy'),
            stack = _.map(_.rest(e.stack.replace(/^[^\(]+?[\n$]/gm, '')
            .replace(/^\s+at\s+/gm, '')
            .replace(/^Object.<anonymous>\s*\(/gm, '{anonymous}()@')
            .split('\n')),function(l){
                return l.replace(/\s+.*$/,'');
            });
        return stack;
    },
    logCallstackSub = function(cs){
        var matches, csa;
        _.find(cs,function(line){
            matches = line.match(/TAS_CALLSTACK_(\d+)/);
            if(matches){
               csa=callstackRegistry[matches[1]];
               logCSA( '===================='+(csa.label ? '> '+csa.label+' <' : '')+'====================');
               logCallstackSub(csa.stack);
               return true;
            }
            logCS(line);
            return false;
        });
    },
    logCallstack = function(){
        var cs;
        if(config.debugMode){
            cs = getCallstack();
            cs.shift();
            log('==============================> CALLSTACK <==============================');
            logCallstackSub(cs);
            log('=========================================================================');
        }
    },


    wrapCallback = function (label, callback, context){
        var callstack;
        if('function' === typeof label){
            context=callback;
            callback=label;
            label=undefined;
        }
        if(!config.debugMode){
            return (function(cb,ctx){
                return function(){
                    cb.apply(ctx||{},arguments);
                };
            }(callback,context));
        }

        callstack = getCallstack();
        callstack.shift();

        return (function(cb,ctx,cs,lbl){
            var ctxref=registerCallstack(cs,lbl);

            /*jshint -W054 */
            return new Function('cb','ctx','TASlog',
                "return function TAS_CALLSTACK_"+ctxref+"(){"+
                    "TASlog('Entering: '+(cb.name||'(anonymous function)'));"+
                    "cb.apply(ctx||{},arguments);"+
                    "TASlog('Exiting: '+(cb.name||'(anonymous function)'));"+
                "};")(cb,ctx,log);
            /*jshint +W054 */
        }(callback,context,callstack,label));
    },


    prepareUpdate = function( attribute, value ){
        queuedUpdates[attribute]=value;
    },

    applyQueuedUpdates = function() {
      setAttrs(queuedUpdates);
      queuedUpdates = {};
    },

	namesFromArgs = function(args,base){
        return _.chain(args)
            .reduce(function(memo,attr){
                if('string' === typeof attr) {
                    memo.push(attr);
                } else if(_.isArray(args) || _.isArguments(args)){
                    memo = namesFromArgs(attr,memo);
                }
                return memo;
            },(_.isArray(base) && base) || [])
            .uniq()
            .value();
	},

	addId = function(obj,value){
		Object.defineProperty(obj,'id',{
			value: value,
			writeable: false,
			enumerable: false
		});
	},

	addProp = function(obj,prop,value,fullname){
		(function(){
            var pname=(_.contains(['S','F','I','D'],prop) ? '_'+prop : prop),
			    full_pname = fullname || prop,
                pvalue=value;

            _.each(['S','I','F'],function(p){
                if( !_.has(obj,p)){
                    Object.defineProperty(obj, p, {
                        value: {},
                        enumerable: false,
                        readonly: true
                    });
                }
            });
            if( !_.has(obj,'D')){
                Object.defineProperty(obj, 'D', {
                    value: _.reduce(_.range(10),function(m,d){
                            Object.defineProperty(m, d, {
                                value: {},
                                enumerable: true,
                                readonly: true
                            });
                            return m;
                        },{}),
                    enumerable: false,
                    readonly: true
                });
            }


            // Raw value
			Object.defineProperty(obj, pname, {
                enumerable: true,
				set: function(v){
                    if(v!==pvalue) {
                        pvalue=v;
                        prepareUpdate(full_pname,v);
                    }
				},
				get: function(){
					return pvalue;
				}
			});

            // string value
			Object.defineProperty(obj.S, pname, {
                enumerable: true,
				set: function(v){
                    var val=v.toString();
                    if(val !== pvalue) {
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    }
				},
				get: function(){
					return pvalue.toString();
				}
			});

            // int value
			Object.defineProperty(obj.I, pname, {
                enumerable: true,
				set: function(v){
                    var val=parseInt(v,10) || 0;
                    if(val !== pvalue){
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    }
				},
				get: function(){
					return parseInt(pvalue,10) || 0;
				}
			});

            // float value
			Object.defineProperty(obj.F, pname, {
                enumerable: true,
				set: function(v){
                    var val=parseFloat(v) || 0;
                    if(val !== pvalue) {
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    }
				},
				get: function(){
					return parseFloat(pvalue) || 0;
				}
			});
            _.each(_.range(10),function(d){
                Object.defineProperty(obj.D[d], pname, {
                    enumerable: true,
                    set: function(v){
                        var val=(parseFloat(v) || 0).toFixed(d);
                        if(val !== pvalue){
                            pvalue=val;
                            prepareUpdate(full_pname,val);
                        }
                    },
                    get: function(){
                        return (parseFloat(pvalue) || 0).toFixed(d);
                    }
                });
            });

		}());
	},

	repeating = function( section ) {
		return (function(s){
			var sectionName = s,
				attrNames = [],
				fieldNames = [],
				operations = [],
                after = [],

			repAttrs = function TAS_Repeating_Attrs(){
				attrNames = namesFromArgs(arguments,attrNames);
				return this;
			},
			repFields = function TAS_Repeating_Fields(){
				fieldNames = namesFromArgs(arguments,fieldNames);
				return this;
			},
			repReduce = function TAS_Repeating_Reduce(func, initial, final, context) {
				operations.push({
                    type: 'reduce',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    memo: (_.isUndefined(initial) && 0) || initial,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
			},
			repMap = function TAS_Repeating_Map(func, final, context) {
				operations.push({
                    type: 'map',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
			},
            repEach = function TAS_Repeating_Each(func, final, context) {
				operations.push({
                    type: 'each',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
            },
            repTap = function TAS_Repeating_Tap(final, context) {
				operations.push({
                    type: 'tap',
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
            },
            repAfter = function TAS_Repeating_After(callback,context) {
				after.push({
                    callback: (callback && _.isFunction(callback) && callback) || _.noop,
                    context: context || {}
                });
				return this;
            },
			repExecute = function TAS_Repeating_Execute(callback,context){
				var rowSet = {},
					attrSet = {},
					fieldIds = [],
					fullFieldNames = [];

                repAfter(callback,context);

				// call each operation per row.
				// call each operation's final
				getSectionIDs("repeating_"+sectionName,function(ids){
					fieldIds = ids;
					fullFieldNames = _.reduce(fieldIds,function(memo,id){
						return memo.concat(_.map(fieldNames,function(name){
							return 'repeating_'+sectionName+'_'+id+'_'+name;
						}));
					},[]);
					getAttrs( _.uniq(attrNames.concat(fullFieldNames)), function(values){
						_.each(attrNames,function(aname){
							if(values.hasOwnProperty(aname)){
								addProp(attrSet,aname,values[aname]);
							}
						});

						rowSet = _.reduce(fieldIds,function(memo,id){
							var r={};
							addId(r,id);
							_.each(fieldNames,function(name){
								var fn = 'repeating_'+sectionName+'_'+id+'_'+name;
								addProp(r,name,values[fn],fn);
							});

							memo[id]=r;

							return memo;
						},{});

                        _.each(operations,function(op){
                            var res;
                            switch(op.type){
                                case 'tap':
                                    _.bind(op.final,op.context,rowSet,attrSet)();
                                    break;

                                case 'each':
                                    _.each(rowSet,function(r){
                                        _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,rowSet,attrSet)();
                                    break;

                                case 'map':
                                    res = _.map(rowSet,function(r){
                                        return _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,res,rowSet,attrSet)();
                                    break;

                                case 'reduce':
                                    res = op.memo;
                                    _.each(rowSet,function(r){
                                        res = _.bind(op.func,op.context,res,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,res,rowSet,attrSet)();
                                    break;
                            }
                        });

                        // finalize attrs
                        applyQueuedUpdates();
                        _.each(after,function(op){
                            _.bind(op.callback,op.context)();
                        });
					});
				});
			};

			return {
				attrs: repAttrs,
				attr: repAttrs,

				column: repFields,
				columns: repFields,
				field: repFields,
				fields: repFields,

				reduce: repReduce,
				inject: repReduce,
				foldl: repReduce,

				map: repMap,
				collect: repMap,

				each: repEach,
                forEach: repEach,

                tap: repTap,
                'do': repTap,

				after: repAfter,
				last: repAfter,
				done: repAfter,

				execute: repExecute,
				go: repExecute,
				run: repExecute
			};
		}(section));
	},


    repeatingSimpleSum = function(section, field, destination){
        repeating(section)
            .attr(destination)
            .field(field)
            .reduce(function(m,r){
                return m + (r.F[field]);
            },0,function(t,r,a){
                a.S[destination]=t;
            })
            .execute();
    };

	console.log('%c..*`*..*`*.  The Aaron Sheet  v'+version+'  .*`*..*`*..','background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
	console.log('%c..*`*..*`*.  Last update: '+(new Date(lastUpdate*1000))+'  .*`*..*`*..','background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');


    return {
        /* Repeating Sections */
        repeatingSimpleSum: repeatingSimpleSum,
		repeating: repeating,

        /* Configuration */
        config: setConfigOption,

        /* Debugging */
        callback: wrapCallback,
        callstack: logCallstack,
        debugMode: debugMode,
        _fn: wrapCallback,

        /* Logging */
        debug: logDebug,
        error: logError,
        warn: logWarn,
        info: logInfo,
        notice: logNotice,
        log: logLog
    };
}());

/* ---- END: TheAaronSheet.js ---- */

    on("change:deckOption1 change:deckOption2 change:deckOption3 change:deckOption4 change:deckOption5 change:deckOption6 change:deckOption7", function(){
        getAttrs([
            "deckOption1",
            "deckOption2",
            "deckOption3",
            "deckOption4",
            "deckOption5",
            "deckOption6",
            "deckOption7",
        ], function(v){
            var option = '';
            if (v.deckOption1 != 0){
                option = option + v.deckOption1 + ' ';
            } if (v.deckOption2 != 0){
                option = option + v.deckOption2 + ' ';
            } if (v.deckOption3 != 0){
                option = option + v.deckOption3 + ' ';
            } if (v.deckOption4 != 0){
                option = option + v.deckOption4 + ' ';
            } if (v.deckOption5 != 0){
                option = option + v.deckOption5 + ' ';
            } if (v.deckOption6 != 0){
                option = option + v.deckOption6 + ' ';
            } if (v.deckOption7 != 0){
                option = option + v.deckOption7 + ' ';
            }
            console.log('OPTIONS:'+option);
            setAttrs({
                deckOptions : option,
            });
        });
    });

    function metaSave(injury, con){
        var stun = con;
        var death = con;
        if ( 0 === injury ) {
        } else if ( 5 > injury ) {

        } else if ( 9 > injury ) {
            stun = con-1 ;
        } else if ( 13 > injury ) {
            stun = con-2 ;
        } else if ( 17 > injury ) {
            stun = con-3 ;
        } else if ( 21 > injury ) {
            stun = con-4 ;
            death = con-1;
        } else if ( 25 > injury ) {
            stun = con-5 ;
            death = con-2;
        } else if ( 29 > injury ) {
            stun = con-6;
            death = con-3;
        } else if ( 33 > injury ) {
            stun = con-7;
            death = con-4;
        } else if ( 37 > injury ) {
            stun = con-8;
            death = con-5;
        } else if ( 41 > injury ) {
            stun = con-9;
            death = con-6;
        } else {
            stun = 0;
            death = 0;
        }
        if (stun<0){
            stun =0;
        }
        if (death<0){
            death=0;
        }
        arr=[stun, death];
        return arr;
    }
    on("sheet:opened change:repeating_metaHealth:metaHp", function(){
        getAttrs([
            "metaCon",
            "repeating_metaHealth_metaHp",
        ], function(v){
            var con = parseInt(v.metaCon);
            var injury = parseInt(v.repeating_metaHealth_metaHp);
            var arr = metaSave(injury, con);
            setAttrs({
                repeating_metaHealth_metaStun : arr[0],
                repeating_metaHealth_metaDeath : arr[1],
            });
        });
    });
    on("sheet:opened change:repeating_metaHealth2:metaHp", function(){
        getAttrs([
            "metaCon2",
            "repeating_metaHealth2_metaHp",
        ], function(v){
            var con = parseInt(v.metaCon2);
            var injury = parseInt(v.repeating_metaHealth2_metaHp);
            var arr = metaSave(injury, con);
            setAttrs({
                repeating_metaHealth2_metaStun : arr[0],
                repeating_metaHealth2_metaDeath : arr[1],
            });
        });
    });
    on("sheet:opened change:repeating_metaHealth3:metaHp", function(){
        getAttrs([
            "metaCon3",
            "repeating_metaHealth3_metaHp",
        ], function(v){
            var con = parseInt(v.metaCon3);
            var injury = parseInt(v.repeating_metaHealth3_metaHp);
            var arr = metaSave(injury, con);
            setAttrs({
                repeating_metaHealth3_metaStun : arr[0],
                repeating_metaHealth3_metaDeath : arr[1],
            });
        });
    });

    function metaCon(body){
        var btm;
        var mc;
        if ( body < 3 ) {
            mc = -2;
            btm = 0;
        } else if ( body < 5 ) {
            mc = -1;
            btm = -1;
        } else if ( body < 8 ) {
            mc = 0;
            btm = -2;
        } else if ( body < 10 ) {
            mc = 1;
            btm = -3;
        } else if ( body < 11 ) {
            mc = 2;
            btm = -4;
        } else if ( body < 13 ) {
            mc = 4;
            btm = -5;
        } else if ( body < 15 ) {
            mc = 6;
            btm = -5;
        } else {
            mc = 8;
            btm = -5;
        }
        arr = [mc, btm];
        return arr;
    }
    on("change:FSN_cyborg", function(){
        getAttrs([
            "FSN_hp_max",
            "body",
            "FSN_cyborg"
        ], function(v){
            var cyb = parseInt(v.FSN_cyborg);
            if (cyb == 0) {
                hpMax = parseInt(v.body);
            }
            else {
                hpMax = 20;
            }
            setAttrs({
                FSN_hp_max : hpMax
            })
        });
    });
    on("change:FSN_armor", function(){
        getAttrs([
            "FSN_armor"
        ], function(v){
            var enc = 0;
            var armor = parseInt(v.FSN_armor);
            if (armor > 2) {
                enc = 1;
            }
            if (armor > 5) {
                enc = 2;
            }
            if (armor > 7) {
                enc = 0;
            }
            setAttrs({
                enc : enc
            })
        });
    });

    on("sheet:opened change:metaCon", function(){
       getAttrs([
           "metaCon",
        ], function(v){
            var body = parseInt(v.metaCon);
            arr = metaCon(body);
            setAttrs({
                metaMc : arr[0],
                metaBtm : arr[1],
            });
        });
    });
    on("sheet:opened change:metaCon2", function(){
       getAttrs([
           "metaCon2",
        ], function(v){
            var body = parseInt(v.metaCon2);
            arr = metaCon(body);
            setAttrs({
                metaMc2 : arr[0],
                metaBtm2 : arr[1],
            });
        });
    });
    on("sheet:opened change:metaCon3", function(){
       getAttrs([
           "metaCon3",
        ], function(v){
            var body = parseInt(v.metaCon3);
            arr = metaCon(body);
            setAttrs({
                metaMc3 : arr[0],
                metaBtm3 : arr[1],
            });
        });
    });
    on("change:FSN_hp", function() {
        getAttrs([
            "FSN_hp",
            "FSN_cyborg",
            "FSN_hp_max",
            "ref",
            "int",
            "cool"
        ], function(v){
            var currentHp = parseInt(v.FSN_hp);
            var maxHp = parseInt(v.FSN_hp_max);
            var s = parseInt(v.FSN_cyborg);
            var refpenality = 0;
            var intpenality = 0;
            var coolpenality = 0;
            var ref = parseInt(v.ref);
            var int = parseInt(v.int);
            var cool = parseInt(v.cool);
            var seuil1 = Math.ceil( (maxHp * 2) / 3 );
            var seuil2 = Math.ceil( maxHp / 3);
            if (s == 0) {
                if (currentHp > maxHp) {
                    status = "Cheater !";
                }
                if (currentHp == maxHp) {
                    status = "Healthy";
                }
                if (currentHp < maxHp) {
                    status = "Light wound";
                }
                if (currentHp < seuil1 + 1 ) {
                    status = "Serious Wound";
                    refpenality = 2;
                }
                if (currentHp < seuil2 + 1 ) {
                    status = "Critical Wound";
                    refpenality = Math.floor(ref/2);
                    intpenality = Math.floor(int/2);
                    coolpenality = Math.floor(cool/2);
                }
                if (currentHp < 1 ) {
                    status = "Mortal Wound";
                    refpenality = Math.floor((ref * 2)/3);
                    intpenality = Math.floor((int * 2)/3);
                    coolpenality = Math.floor((cool * 2)/3);

                }
                if (currentHp < -3 ) {
                    status = "Dead !";
                    refpenality = Math.floor((ref * 2)/3);
                    intpenality = Math.floor((int * 2)/3);
                    coolpenality = Math.floor((cool * 2)/3);
                }
            } else {
                if (currentHp < 1 ) {
                   status = "Destroy !";
                } else {
                   status = "Ok";
                }
            }
            setAttrs({
               FSN_status : status,
               refpenality : refpenality,
               intpenality : intpenality,
               coolpenality : coolpenality

            });
        });
    });

    on("change:injury change:saveS change:saveD change:body", function() {
        getAttrs([
            "injury",
            "saveS",
            "saveD",
            "body",
            "ref",
            "int",
            "cool"
        ], function(values) {
            injury = parseInt(values.injury);
            var stun = 0;
            var status = 0;
            var mortal = 0;
            var refpenality = 0;
            var intpenality = 0;
            var coolpenality = 0;
            var ref = parseInt(values.ref);
            var int = parseInt(values.int);
            var cool = parseInt(values.cool);
            var text = '';

            if ( 0 === injury ) {
                status = 'Healthy';
            } else if ( 5 > injury ) {
                status = 'Light';
            } else if ( 9 > injury ) {
                status = 'Serious';
                stun = -1 ;
                refpenality = 2;
                text = 'Ref -2';
            } else if ( 13 > injury ) {
                status = 'Critical';
                stun = -2 ;
                refpenality = Math.floor(ref/2);
                intpenality = Math.floor(int/2);
                coolpenality = Math.floor(cool/2);
                text = 'Ref, Int, Cool /2 (round up)'
            } else if ( 17 > injury ) {
                status = 'Mortal0';
                stun = -3 ;
                refpenality = Math.floor((ref * 2)/3);
                intpenality = Math.floor((int * 2)/3);
                coolpenality = Math.floor((cool * 2)/3);
            } else if ( 21 > injury ) {
                status = 'Mortal1';
                stun = -4 ;
                mortal = 1;
                refpenality = Math.floor((ref * 2)/3);
                intpenality = Math.floor((int * 2)/3);
                coolpenality = Math.floor((cool * 2)/3);
            } else if ( 25 > injury ) {
                status = 'Mortal2';
                stun = -5 ;
                mortal = 2;
                refpenality = Math.floor((ref * 2)/3);
                intpenality = Math.floor((int * 2)/3);
                coolpenality = Math.floor((cool * 2)/3);
            } else if ( 29 > injury ) {
                status = 'Mortal3';
                stun = -6 ;
                mortal = 3;
                refpenality = Math.floor((ref * 2)/3);
                intpenality = Math.floor((int * 2)/3);
                coolpenality = Math.floor((cool * 2)/3);
            } else if ( 33 > injury ) {
                status = 'Mortal4';
                stun = -7 ;
                mortal = 4;
                refpenality = Math.floor((ref * 2)/3);
                intpenality = Math.floor((int * 2)/3);
                coolpenality = Math.floor((cool * 2)/3);
            } else if ( 37 > injury ) {
                status = 'Mortal5';
                stun = -8 ;
                mortal = 5;
                refpenality = Math.floor((ref * 2)/3);
                intpenality = Math.floor((int * 2)/3);
                coolpenality = Math.floor((cool * 2)/3);
            } else if ( 41 > injury ) {
                status = 'Mortal6';
                stun = -9 ;
                mortal = 6;
                refpenality = Math.floor((ref * 2)/3);
                intpenality = Math.floor((int * 2)/3);
                coolpenality = Math.floor((cool * 2)/3);
            } else {
                status = 'Dead...';
            }
            var saveStunValue = parseInt(values.body) + parseInt(values.saveS) + stun;
            if (saveStunValue < 0 ){
                saveStunValue = 0;
            }
            var saveDeathValue = parseInt(values.body) + parseInt(values.saveD) - mortal;
            if (saveDeathValue < 0 ) {
                saveDeathValue = 0;
            }
           setAttrs({
              status : status,
              stunpenality : stun,
              saveStun: saveStunValue,
              saveDeath: saveDeathValue,
              refpenality : refpenality,
              intpenality : intpenality,
              coolpenality : coolpenality
           });
        });
    });

    on("sheet:opened change:body change:ref change:tech change:int change:emp change:cool change:attr change:ma change:luck change:runBonus change:leapBonus", function() {
        getAttrs([
            "luck", "ref", "tech", "int", "attr", "body", "emp", "ma", "cool", "runBonus", "leapBonus"
        ], function(values) {
            var total = parseInt(values.luck) + parseInt(values.ref) + parseInt(values.tech) + parseInt(values.int) + parseInt(values.attr) + parseInt(values.body) + parseInt(values.emp) + parseInt(values.ma) +  parseInt(values.cool);
            setAttrs({
                attrPoints : total,
                luckMax : values.luck,
                run : (parseInt(values.ma) * 3) + parseInt(values.runBonus),
                leap : Math.ceil(parseInt(values.ma) * 3 / 4) + parseInt(values.leapBonus),
            });
        });
    });

    on("sheet:opened change:body change:liftBonus", function() {
        getAttrs([
            "body", "liftBonus",
        ], function(values){
            var body = parseInt(values.body);
            var btm;
            var mc;
            if ( body < 3 ) {
                mc = -2;
                btm = 0;
            } else if ( body < 5 ) {
                mc = -1;
                btm = -1;
            } else if ( body < 8 ) {
                mc = 0;
                btm = -2;
            } else if ( body < 10 ) {
                mc = 1;
                btm = -3;
            } else if ( body < 11 ) {
                mc = 2;
                btm = -4;
            } else if ( body < 13 ) {
                mc = 4;
                btm = -5;
            } else if ( body < 15 ) {
                mc = 6;
                btm = -5;
            } else {
                mc = 8;
                btm = -5;
            }
            setAttrs({
                btm : btm,
                mc : mc,
                lift: (body * 40) + parseInt(values.liftBonus),
                btm2: btm,
            });
        });
    });

    on("sheet:opened change:emp_max change:humanityLost", function(){
       getAttrs([
           "emp_max",
           "humanityLost"
        ], function(v){
            var hum = (parseInt(v.emp_max) * 10) - parseInt(v.humanityLost);
            if (hum < 0 ){
                hum = 0;
            }
            setAttrs({
                hum : hum,
            });
        });
    });

    on("change:hum", function() {
        getAttrs([
            "hum"
        ], function(values) {
            var emp = Math.ceil(parseInt(values.hum) / 10);
            setAttrs({
                emp: emp,
            });
        });
    });
/*
    on("change:humanityLost", function() {
       getAttrs([
            "humanityLost",
            "hum",
        ], function (values) {
            var total = values.hum - values.humanityLost;
            if (0 > total) {
                total = 0;
            }
            setAttrs({
                hum: total
            });
       })
    });
*/
    on("change:class", function() {
        getAttrs([
            "class",
        ], function (values) {
            if ( values.class == 'Solo') {
                var skills = {
                    speciality : 'Combat Sense',
                    specialityAttr : "@{ref} - @{refpenality} - @{enc}",
                    sk1 : "Handgun",
                    sk1Attr : "@{ref} - @{refpenality} - @{enc}",
                    sk2 : "Melee",
                    sk2Attr : "@{ref} - @{refpenality} - @{enc}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Martial Art",
                    sk4Attr : "@{ref} - @{refpenality} - @{enc}",
                    sk5 : "Weapons Tech",
                    sk5Attr : "@{tech}",
                    sk6 : "Rifle",
                    sk6Attr : "@{ref} - @{refpenality} - @{enc}",
                    sk7 : "Athletics",
                    sk7Attr : "@{ref} - @{refpenality} - @{enc}",
                    sk8 : "Submachinegun",
                    sk8Attr : "@{ref} - @{refpenality} - @{enc}",
                    sk9 : "Stealth",
                    sk9Attr : "@{ref} - @{refpenality} - @{enc}",
                };
            } else if ( values.class == 'Cop') {
                var skills = {
                    speciality : 'Authority',
                    specialityAttr : "@{cool} - @{coolpenality}",
                    sk1 : "Handgun",
                    sk1Attr : "@{ref} - @{refpenality} - @{enc}",
                    sk2 : "Melee",
                    sk2Attr : "@{ref} - @{refpenality} - @{enc}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Brawling",
                    sk4Attr : "@{ref} - @{refpenality} - @{enc}",
                    sk5 : "Streetwise",
                    sk5Attr : "@{cool} - @{coolpenality}",
                    sk6 : "Interrogation",
                    sk6Attr : "@{cool} - @{coolpenality}",
                    sk7 : "Athletics",
                    sk7Attr : "@{ref} - @{refpenality} - @{enc}",
                    sk8 : "Human Perception",
                    sk8Attr : "@{emp}",
                    sk9 : "Education",
                    sk9Attr : "@{int} - @{intpenality}",
                };
            } else if ( values.class == 'Corp') {
                var skills = {
                    speciality : 'Resources',
                    specialityAttr : "@{int} - @{intpenality}",
                    sk1 : "Persuasion",
                    sk1Attr : "@{emp}",
                    sk2 : "Stock Market",
                    sk2Attr : "@{int} - @{intpenality}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Wardrobe & Style",
                    sk4Attr : "@{attr}",
                    sk5 : "Social",
                    sk5Attr : "@{emp}",
                    sk6 : "Personal Grooming",
                    sk6Attr : "@{attr}",
                    sk7 : "Library Search",
                    sk7Attr : "@{int} - @{intpenality}",
                    sk8 : "Human Perception",
                    sk8Attr : "@{emp}",
                    sk9 : "Education",
                    sk9Attr : "@{int} - @{intpenality}",
                };
            } else if ( values.class == 'Media') {
                var skills = {
                    speciality : 'Credibility',
                    specialityAttr : "@{int} - @{intpenality}",
                    sk1 : "Persuasion",
                    sk1Attr : "@{emp}",
                    sk2 : "interview",
                    sk2Attr : "@{emp}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Composition",
                    sk4Attr : "@{int} - @{intpenality}",
                    sk5 : "Social",
                    sk5Attr : "@{emp}",
                    sk6 : "Streetwise",
                    sk6Attr : "@{cool} - @{coolpenality}",
                    sk7 : "Human Perception",
                    sk7Attr : "@{emp}",
                    sk8 : "Photo & Film",
                    sk8Attr : "@{tech}",
                    sk9 : "Education",
                    sk9Attr : "@{int} - @{intpenality}",
                };
            } else if ( values.class == 'Fixer') {
                var skills = {
                    speciality : 'Streetdeal',
                    specialityAttr : "@{cool} - @{coolpenality}",
                    sk1 : "Persuasion",
                    sk1Attr : "@{emp}",
                    sk2 : "Forgery",
                    sk2Attr : "@{tech}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Handgun",
                    sk4Attr : "@{ref} - @{refpenality} - @{enc}",
                    sk5 : "Melee",
                    sk5Attr : "@{ref} - @{refpenality} - @{enc}",
                    sk6 : "Brawling",
                    sk6Attr : "@{ref} - @{refpenality} - @{enc}",
                    sk7 : "Pick Lock",
                    sk7Attr : "@{tech}",
                    sk8 : "Pick Pocket",
                    sk8Attr : "@{tech}",
                    sk9 : "Intimidate",
                    sk9Attr : "@{cool} - @{coolpenality}",
                };
            } else if ( values.class == 'Rockerboy/girl') {
                var skills = {
                    speciality : 'Charismatic Leadership',
                    specialityAttr : "@{emp}",
                    sk1 : "Persuasion",
                    sk1Attr : "@{emp}",
                    sk2 : "Composition",
                    sk2Attr : "@{int} - @{intpenality}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Seduction",
                    sk4Attr : "@{attr}",
                    sk5 : "Wardrobe & Style",
                    sk5Attr : "@{attr}",
                    sk6 : "Brawling",
                    sk6Attr : "@{ref} - @{refpenality} - @{enc}",
                    sk7 : "Play Instrument",
                    sk7Attr : "@{tech}",
                    sk8 : "Streewise",
                    sk8Attr : "@{cool} - @{coolpenality}",
                    sk9 : "Perform",
                    sk9Attr : "@{emp}",
                };
            } else if ( values.class == 'Techie') {
                var skills = {
                    speciality : 'Jury Rig',
                    specialityAttr : "@{tech}",
                    sk1 : "Basic Tech",
                    sk1Attr : "@{tech}",
                    sk2 : "Cybertech",
                    sk2Attr : "@{tech}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Education",
                    sk4Attr : "@{int} - @{intpenality}",
                    sk5 : "Teaching",
                    sk5Attr : "@{int} - @{intpenality}",
                    sk6 : "Electronics",
                    sk6Attr : "@{tech}",
                    sk7 : "Electronic Security",
                    sk7Attr : "@{tech}",
                    sk8 : "Weapon Tech",
                    sk8Attr : "@{tech}",
                    sk9 : "AV Tech",
                    sk9Attr : "@{tech}",
                };
            } else if ( values.class == 'Nomad') {
                var skills = {
                    speciality : 'Family',
                    specialityAttr : "@{int} - @{intpenality}",
                    sk1 : "Basic Tech",
                    sk1Attr : "@{tech}",
                    sk2 : "Endurance",
                    sk2Attr : "@{body}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Rifle",
                    sk4Attr : "@{ref} - @{refpenality} - @{enc}",
                    sk5 : "Drive",
                    sk5Attr : "@{ref} - @{refpenality} - @{enc}",
                    sk6 : "Wilderness Survival",
                    sk6Attr : "@{int} - @{intpenality}",
                    sk7 : "Brawling",
                    sk7Attr : "@{ref} - @{refpenality} - @{enc}",
                    sk8 : "Athletics",
                    sk8Attr : "@{ref} - @{refpenality} - @{enc}",
                    sk9 : "Melee",
                    sk9Attr : "@{ref} - @{refpenality} - @{enc}",
                };
            } else if ( values.class == 'Netrunner') {
                var skills = {
                    speciality : 'Interface',
                    specialityAttr : "@{int} - @{intpenality}",
                    sk1 : "Basic Tech",
                    sk1Attr : "@{tech}",
                    sk2 : "Education",
                    sk2Attr : "@{int} - @{intpenality}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "System Knowledge",
                    sk4Attr : "@{int} - @{intpenality}",
                    sk5 : "Cybertech",
                    sk5Attr : "@{tech}",
                    sk6 : "Cyberdeck Design",
                    sk6Attr : "@{int} - @{intpenality}",
                    sk7 : "Programming",
                    sk7Attr : "@{int} - @{intpenality}",
                    sk8 : "Electronics",
                    sk8Attr : "@{tech}",
                    sk9 : "Composition",
                    sk9Attr : "@{int} - @{intpenality}",
                };
            } else if ( values.class == 'Medtech') {
                var skills = {
                    speciality : 'Medical Tech',
                    specialityAttr : "@{int} - @{intpenality}",
                    sk1 : "Basic Tech",
                    sk1Attr : "@{tech}",
                    sk2 : "Education",
                    sk2Attr : "@{int} - @{intpenality}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Pharmaceuticals",
                    sk4Attr : "@{int} - @{intpenality}",
                    sk5 : "Zoology",
                    sk5Attr : "@{int} - @{intpenality}",
                    sk6 : "Cryotank Operation",
                    sk6Attr : "@{tech}",
                    sk7 : "Human Perception",
                    sk7Attr : "@{emp}",
                    sk8 : "Diagnose",
                    sk8Attr : "@{int} - @{intpenality}",
                    sk9 : "Library Search",
                    sk9Attr : "@{int} - @{intpenality}",
                };
            } else if ( values.class == 'Covert Mission Spe') {
                var skills = {
                    speciality : 'Combat Sneak',
                    specialityAttr : "@{ref} - @{refpenality}  - @{enc}",
                    sk1 : "Handgun",
                    sk1Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk2 : "Athelics",
                    sk2Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Stealth",
                    sk4Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk5 : "Personal Grooming",
                    sk5Attr : "@{attr}",
                    sk6 : "Martial Art",
                    sk6Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk7 : "Human Perception",
                    sk7Attr : "@{emp}",
                    sk8 : "Melee",
                    sk8Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk9 : "Persuasion/Fast talk",
                    sk9Attr : "@{emp}",
                };
            } else if ( values.class == 'Panzerboy') {
                var skills = {
                    speciality : 'Vehicle Zen',
                    specialityAttr : "@{ref} - @{refpenality}  - @{enc}",
                    sk1 : "Handgun",
                    sk1Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk2 : "Brawling",
                    sk2Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Driving",
                    sk4Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk5 : "Basic Tech",
                    sk5Attr : "@{tech}",
                    sk6 : "Motorcycle",
                    sk6Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk7 : "Operate Heavy Machinery",
                    sk7Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk8 : "Heavy Weapons",
                    sk8Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk9 : "Expert: Navigation",
                    sk9Attr : "@{int} - @{intpenality}",
                };
            } else if ( values.class == 'Aerojock') {
                var skills = {
                    speciality : 'Aircraft Sense',
                    specialityAttr : "@{ref} - @{refpenality}  - @{enc}",
                    sk1 : "Handgun",
                    sk1Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk2 : "Brawling",
                    sk2Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Gyro",
                    sk4Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk5 : "Basic Tech",
                    sk5Attr : "@{tech}",
                    sk6 : "Fixed Wing",
                    sk6Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk7 : "Vectored",
                    sk7Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk8 : "Heavy weapons",
                    sk8Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk9 : "Expert: Navigation",
                    sk9Attr : "@{int} - @{intpenality}",
                };
            } else if ( values.class == 'Prowler') {
                var skills = {
                    speciality : 'Sneak',
                    specialityAttr : "@{ref} - @{refpenality}  - @{enc}",
                    sk1 : "Handgun",
                    sk1Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk2 : "Brawling",
                    sk2Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Athletics",
                    sk4Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk5 : "Electronic Security",
                    sk5Attr : "@{tech}",
                    sk6 : "Stealth",
                    sk6Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk7 : "Disguise",
                    sk7Attr : "@{tech}",
                    sk8 : "Pick Lock",
                    sk8Attr : "@{tech}",
                    sk9 : "Hide/Evade",
                    sk9Attr : "@{int} - @{intpenality}",
                };
            }  else if ( values.class == 'Con Man') {
                var skills = {
                    speciality : 'Con',
                    specialityAttr : "@{cool} - @{coolpenality}",
                    sk1 : "Streetwise",
                    sk1Attr : "@{cool} - @{coolpenality}",
                    sk2 : "Gamble",
                    sk2Attr : "@{tech}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Seduction",
                    sk4Attr : "@{emp}",
                    sk5 : "Forgery",
                    sk5Attr : "@{tech}",
                    sk6 : "Human Perception",
                    sk6Attr : "@{emp}",
                    sk7 : "Disguise",
                    sk7Attr : "@{tech}",
                    sk8 : "Persuasion/Fast Talk",
                    sk8Attr : "@{emp}",
                    sk9 : "Hide/Evade",
                    sk9Attr : "@{int} - @{intpenality}",
                };
            } else if ( values.class == 'Dancer/Prostitute') {
                var skills = {
                    speciality : 'Vamp',
                    specialityAttr : "@{cool} - @{coolpenality}",
                    sk1 : "Streetwise",
                    sk1Attr : "@{cool} - @{coolpenality}",
                    sk2 : "Wardrobe & Style",
                    sk2Attr : "@{attr}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Seduction",
                    sk4Attr : "@{emp}",
                    sk5 : "Personal Grooming",
                    sk5Attr : "@{attr}",
                    sk6 : "Human Perception",
                    sk6Attr : "@{emp}",
                    sk7 : "Perform",
                    sk7Attr : "@{emp}",
                    sk8 : "Persuasion/Fast Talk",
                    sk8Attr : "@{emp}",
                    sk9 : "Endurance",
                    sk9Attr : "@{body}",
                };
            } else if ( values.class == 'Runner') {
                var skills = {
                    speciality : 'Vehicle Zen',
                    specialityAttr : "@{ref} - @{refpenality}  - @{enc}",
                    sk1 : "Handgun",
                    sk1Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk2 : "Brawling",
                    sk2Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Driving",
                    sk4Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk5 : "Basic Tech",
                    sk5Attr : "@{tech}",
                    sk6 : "Motorcycle",
                    sk6Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk7 : "Hide/Evade",
                    sk7Attr : "@{int} - @{intpenality}",
                    sk8 : "Athletics",
                    sk8Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk9 : "Streetwise",
                    sk9Attr : "@{cool} - @{coolpenality}",
                };
            } else if ( values.class == 'Nomad Warrior') {
                var skills = {
                    speciality : 'Warpath',
                    specialityAttr : "@{ref} - @{refpenality}  - @{enc}",
                    sk1 : "Handgun",
                    sk1Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk2 : "Brawling",
                    sk2Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Melee",
                    sk4Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk5 : "Endurance",
                    sk5Attr : "@{body}",
                    sk6 : "Motorcycle",
                    sk6Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk7 : "Wilderness Survival",
                    sk7Attr : "@{int} - @{intpenality}",
                    sk8 : "Athletics",
                    sk8Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk9 : "Basic Tech",
                    sk9Attr : "@{tech}",
                };
            } else if ( values.class == 'Assassin') {
                var skills = {
                    speciality : 'Combat Sneak',
                    specialityAttr : "@{ref} - @{refpenality}  - @{enc}",
                    sk1 : "Handgun",
                    sk1Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk2 : "Athelics",
                    sk2Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Stealth",
                    sk4Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk5 : "Hide/Evade",
                    sk5Attr : "@{int} - @{intpenality}",
                    sk6 : "Martial Art",
                    sk6Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk7 : "Rifle",
                    sk7Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk8 : "Melee",
                    sk8Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk9 : "Endurance",
                    sk9Attr : "@{body}",
                };
            } else if ( values.class == 'Model/Actress') {
                var skills = {
                    speciality : 'Pose',
                    specialityAttr : "@{attr}",
                    sk1 : "Education",
                    sk1Attr : "@{int} - @{intpenality}",
                    sk2 : "Wardrobe & Style",
                    sk2Attr : "@{attr}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Seduction",
                    sk4Attr : "@{emp}",
                    sk5 : "Personal Grooming",
                    sk5Attr : "@{attr}",
                    sk6 : "Human Perception",
                    sk6Attr : "@{emp}",
                    sk7 : "Perform",
                    sk7Attr : "@{emp}",
                    sk8 : "Social",
                    sk8Attr : "@{emp}",
                    sk9 : "Photo & Film",
                    sk9Attr : "@{tech}",
                };
            } else if ( values.class == 'Politician') {
                var skills = {
                    speciality : 'Charismatic Leadership',
                    specialityAttr : "@{emp}",
                    sk1 : "Persuasion",
                    sk1Attr : "@{emp}",
                    sk2 : "Composition",
                    sk2Attr : "@{int} - @{intpenality}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Library Search",
                    sk4Attr : "@{int} - @{intpenality}",
                    sk5 : "Wardrobe & Style",
                    sk5Attr : "@{attr}",
                    sk6 : "History",
                    sk6Attr : "@{int} - @{intpenality}",
                    sk7 : "Education",
                    sk7Attr : "@{int} - @{intpenality}",
                    sk8 : "Oratory",
                    sk8Attr : "@{cool} - @{coolpenality}",
                    sk9 : "Social",
                    sk9Attr : "@{emp}",
                };
            } else if ( values.class == 'Private Investigator') {
                var skills = {
                    speciality : 'Research',
                    specialityAttr : "@{int}",
                    sk1 : "Persuasion",
                    sk1Attr : "@{emp}",
                    sk2 : "Human perception",
                    sk2Attr : "@{emp}",
                    sk3 : "Awareness/Notice",
                    sk3Attr : "@{int} - @{intpenality}",
                    sk4 : "Library Search",
                    sk4Attr : "@{int} - @{intpenality}",
                    sk5 : "Shadow/Track",
                    sk5Attr : "@{int} - @{intpenality}",
                    sk6 : "Brawling",
                    sk6Attr : "@{ref} - @{refpenality}  - @{enc}",
                    sk7 : "Interview",
                    sk7Attr : "@{emp}",
                    sk8 : "Intimidation",
                    sk8Attr : "@{cool} - @{coolpenality}",
                    sk9 : "Streetwise",
                    sk9Attr : "@{cool} - @{coolpenality}",
                };
            } else {
                var skills = {
                    speciality : 'Undefined',
                    specialityAttr : "",
                    sk1 : "Undefined",
                    sk1Attr : "",
                    sk2 : "Undefined",
                    sk2Attr : "",
                    sk3 : "Undefined",
                    sk3Attr : "",
                    sk4 : "Undefined",
                    sk4Attr : "",
                    sk5 : "Undefined",
                    sk5Attr : "",
                    sk6 : "Undefined",
                    sk6Attr : "",
                    sk7 : "Undefined",
                    sk7Attr : "",
                    sk8 : "Undefined",
                    sk8Attr : "",
                    sk9 : "Undefined",
                    sk9Attr : "",
                };
            }
            setAttrs(skills);
       })
    });


    on("change:specialityVal change:sk1Val change:sk2Val change:sk3Val change:sk4Val change:sk5Val change:sk6Val change:sk7Val change:sk8Val change:sk9Val", function(){
        getAttrs([
            "specialityVal","sk1Val","sk2Val","sk3Val","sk4Val","sk5Val","sk6Val","sk7Val","sk8Val","sk9Val"
        ], function (values) {
            var total = parseInt(values.specialityVal) + parseInt(values.sk1Val) + parseInt(values.sk2Val) + parseInt(values.sk3Val) + parseInt(values.sk4Val) + parseInt(values.sk5Val) + parseInt(values.sk6Val) + parseInt(values.sk7Val) + parseInt(values.sk8Val) + parseInt(values.sk9Val);
            setAttrs({
                totalPrimarySkillPoints : total
            });
        });
    });

    on("change:repeating_weapon:dmgEntry1 change:repeating_weapon:dmgEntry3 change:repeating_weapon:dmgEntry2", function() {
        getAttrs([
            "repeating_weapon_dmgEntry1",
            "repeating_weapon_dmgEntry2",
            "repeating_weapon_dmgEntry3"
        ], function (values) {
            var dmg = '[['+values.repeating_weapon_dmgEntry1+']]';
            //var dmgCrt = '[['+values.repeating_weapon_dmgEntry1+'+'+values.repeating_weapon_dmgEntry1+']]';
            if (values.repeating_weapon_dmgEntry2 != ''){
                dmg = dmg+'[['+values.repeating_weapon_dmgEntry2+']]';
              //  dmgCrt = dmgCrit+'[['+values.repeating_weapon_dmgEntry2+'+'+values.repeating_weapon_dmgEntry2+']]';
            }
            if (values.repeating_weapon_dmgEntry3 != ''){
                dmg = dmg+'[['+values.repeating_weapon_dmgEntry3+']]';
                //dmgCrt = dmgCrit+'[['+values.repeating_weapon_dmgEntry3+'+'+values.repeating_weapon_dmgEntry3+']]';
            }
            console.log('DMG///'+dmg);
            var damages = {
                repeating_weapon_dmg : dmg,
                //repeating_weapon_dmgCrt : dmgCrt
            }
            setAttrs(damages);
        });

    });

    on("sheet:opened change:repeating_weapon:diss change:repeating_weapon:caliber change:repeating_weapon:wpName change:repeating_weapon:wpType change:repeating_weapon:wpAcc change:repeating_weapon:wpRof change:repeating_weapon:wpRange change:repeating_weapon:wpAp change:repeating_weapon:wpClip change:repeating_weapon:wpReliability", function() {
        getAttrs([
            "repeating_weapon_wpName",
            "repeating_weapon_wpType",
            "repeating_weapon_wpAcc",
            "repeating_weapon_caliber",
            "repeating_weapon_wpAp",
            "repeating_weapon_wpRof",
            "repeating_weapon_wpClip",
            "repeating_weapon_wpRange",
            'repeating_weapon_diss',
            "repeating_weapon_wpReliability"
        ], function(values) {
            var s = '';
            if (parseInt(values.repeating_weapon_wpAcc) > 0){
                s ='+';
            }
            var weapon = values.repeating_weapon_wpType+': '+values.repeating_weapon_wpName+' ('+s+values.repeating_weapon_wpAcc+') '+values.repeating_weapon_caliber+' '+values.repeating_weapon_wpAp+' [ '+values.repeating_weapon_wpRof+' / '+values.repeating_weapon_wpClip+' ] '+values.repeating_weapon_wpReliability+' '+values.repeating_weapon_wpRange+'m.';
            console.log(weapon);
            setAttrs({
                repeating_weapon_rangedweapon : weapon,
            });
        });
    });
    on("sheet:opened change:loc", function(){
       getAttrs([
            "loc"
        ], function(v){
            var target = 'All body';
            if (v.loc == '[[1d6]]') {
                target = 'Upper body';
            }
            if (v.loc =='[[1]]') {
                target = 'Head';
            }
            setAttrs({
               target : target
            });
        });
    });

    on('change:repeating_prog:progType', function() {
        getAttrs([
            "repeating_prog_progType",
            "repeating_prog_progStr",
            "specialty",
            "specialityVal",
            "specialityAttr",
        ], function(v) {
            var spe = '';
            var t = v.repeating_prog_progType;
            var str = v.repeating_prog_progStr;
            var roll = '';
            if (v.speciality == 'Interface'){
                spe = '+'+v.specialityVal+'+'+v.specialityAttr;
            }
            console.log(spe);

            if (t == 'Anti Personnel'){
                roll = '[[ 1d10!cf<1 +'+str+spe+']]';
            } else if (t == 'Demon Series') {
                roll = '[[0]]';
            } else if (t == 'Utilities' || t == 'Controllers') {
                roll =  '[[ {1d10}<'+str+']]';
            } else {
                roll = '[[ 1d10!cf<1+'+str+']]';
            }
            setAttrs({
                repeating_prog_progRoll : roll
            });
        });
    });

    on('change:repeating_SecondarySkills', function(){
        TAS.repeatingSimpleSum('SecondarySkills','skillVal','totalSecondarySkillPoints');
    });
    on('change:repeating_cyber', function(){
        TAS.repeatingSimpleSum('cyber','cybHumLost','humanityLost');
    });
    on('change:repeating_cyber', function(){
        TAS.repeatingSimpleSum('cyber','cyberPrice','cyberTotalPrice');
    });
    on('change:repeating_gear', function(){
        TAS.repeatingSimpleSum('gear','gearPrice','gearTotalPrice');
    });
    on('change:repeating_prog', function(){
        TAS.repeatingSimpleSum('prog','progMu','deckMemoryCurrent');
    });
    on('change:repeating_vehicle', function(){
        TAS.repeatingSimpleSum('vehicle','vehiclePrice','vehicleTotalPrice');
    });
    on('change:repeating_weapon-melee', function(){
        TAS.repeatingSimpleSum('weapon-melee','meleePrice','meleeTotalPrice');
    });
    on('change:repeating_weapon', function(){
        TAS.repeatingSimpleSum('weapon','rangedPrice','rangedTotalPrice');
    });
    on('change:repeating_prog', function(){
        TAS.repeatingSimpleSum('prog','progPrice','progTotalPrice');
    });
    on('change:repeating_home', function(){
        TAS.repeatingSimpleSum('home','priceHome','homeTotalPrice');
    });


    on('sheet:opened change:homeTotalPrice change:vehicleTotalPrice change:cyberTotalPrice change:gearTotalPrice change:rangedTotalPrice change:progTotalPrice change:deckPrice change:meleeTotalPrice', function(){
        getAttrs([
            "gearTotalPrice", "homeTotalPrice", "cyberTotalPrice","vehicleTotalPrice", "rangedTotalPrice", "meleeTotalPrice", "progTotalPrice", "deckPrice"
        ], function(v){
            var sum_wp = parseInt(v.rangedTotalPrice)+parseInt(v.meleeTotalPrice);
            var sum = parseInt(v.homeTotalPrice)+parseInt(v.gearTotalPrice)+parseInt(v.cyberTotalPrice)+parseInt(v.vehicleTotalPrice)+sum_wp+parseInt(v.deckPrice)+parseInt(v.progTotalPrice);
           setAttrs({
               valueEquipment : sum,
               wpTotalPrice : sum_wp
           });
        });
    });

    on('sheet:opened change:repeating_home:typeHome change:repeating_home:locationTypeHome change:repeating_home:roomHome change:repeating_home:rentHome', function(){
       getAttrs([
           "repeating_home_typeHome", "repeating_home_locationTypeHome", "repeating_home_rentHome", "repeating_home_roomHome"
        ], function(v){
            var price = 0;
            var room = parseInt(v.repeating_home_roomHome);
            if (v.repeating_home_typeHome == "Apartment"){
                price = 200 * room;
            } else if (v.repeating_home_typeHome =="House" ) {
                price = 150 * room;
            } else if (v.repeating_home_typeHome =="Utilities" ) {
                price = 100 * room;
            }

            if (v.repeating_home_locationTypeHome == "Moderate Zone"){
                price = price * 2;
            } else if (v.repeating_home_locationTypeHome == "Corporate Zone"){
                price = price * 4;
            } else if (v.repeating_home_locationTypeHome == "Executive zone"){
                price = price * 6;
            }

            if  (v.repeating_home_rentHome == 'Yes') {
                setAttrs({
                    repeating_home_valueHome : price+'$ per month',
                    repeating_home_priceHome : 0
                });
            } else {
                price = price * 500;
                setAttrs({
                    repeating_home_priceHome : price,
                    repeating_home_valueHome : price+ '$'
                });
            }
        });
    });

    on("change:metaMeleeWeapon", function(){
        getAttrs([
        "metaMeleeWeapon",
        ], function(v){
            var dmg = [];
            var wp = v.metaMeleeWeapon;
            if (wp == "Shuriken"){
                dmg = ["1d3", 1];
            }
            if (wp == "Knife"){
                dmg = ["1d6", 3];
            }
            if (wp == "Combat Knife"){
                dmg = ["1d6+3", 4];
            }
            if (wp == "Mono Knife"){
                dmg = ["2d6", 4];
            }
            if (wp == "Club"){
                dmg = ["1d6", 3];
            }
            if (wp == "Tonfa"){
                dmg = ["2d6", 4];
            }
            if (wp == "Excalibur Tonfa"){
                dmg = ["2d6+3", 4];
            }
            if (wp == "Baseball Club"){
                dmg = ["2d6-1", 4];
            }
            if (wp == "Maul"){
                dmg = ["4d6", 6];
            }
            if (wp == "Bow"){
                dmg = ["3d6", 5];
            }
            if (wp == "Combat Bow"){
                dmg = ["4d6", 6];
            }
            if (wp == "Sword") {
                dmg = ["2d6+2", 4];
            }
            if (wp == "Katana") {
                dmg = ["3d6", 5];
            }
            if (wp == "Mono Katana") {
                dmg = ["4d6", 6];
            }
            if (wp == "Power Sword") {
                dmg = ["4d6", 6];
            }
            if (wp == "Axe"){
                dmg = ["2d6+3", 4];
            }
            if (wp == "Chain"){
                dmg = ["1d6+1", 3];
            }
            if (wp == "Nunchaku"){
                dmg = ["2d6", 4];
            }
            if (wp == "Chainsaw") {
                dmg = ["4d6", 6];
            }
            if (wp == "Slice & Dice"){
                dmg = ["2d6", 4];
            }
            if (wp == "Switchblade"){
                dmg = ["1d3", 2];
            }
            setAttrs({
               metaMeleeWeaponDmg : dmg[0],
               metaMeleeWeaponDmgSNS : dmg[1]
            });
       });
    });
    on("change:metaRangedWeapon", function(){
        getAttrs([
        "metaRangedWeapon",
        ], function(v){
            var dmg = [];
            var wp = v.metaRangedWeapon;
            if (wp == "Dart Handgun"){
                dmg = ["1d3", 2];
            }
            if (wp == "Light Handgun"){
                dmg = ["1d6+3", 3];
            }
            if (wp == "Medium Handgun"){
                dmg = ["2d6+3", 4];
            }
            if (wp == "Heavy Handgun"){
                dmg = ["3d6+2", 5];
            }
            if (wp == "Very Heavy Handgun"){
                dmg = ["4d6+1", 6];
            }
            if (wp == "Borg Handgun"){
                dmg = ["6d6", 8];
            }
            if (wp == "Light SMG"){
                dmg = ["1d6+2", 3];
            }
            if (wp == "Medium SMG"){
                dmg = ["2d6+1", 4];
            }
            if (wp == "Heavy SMG"){
                dmg = ["3d6", 5];
            }
            if (wp == "Very Heavy SMG"){
                dmg = ["4d6+1", 6];
            }
            if (wp == "Borg SMG"){
                dmg = ["5d6", 7];
            }
            if (wp == "Shotgun C20"){
                dmg = ["3d6]][[1d6+3]][[1d6", 5];
            }
            if (wp == "Shotgun C12"){
                dmg = ["4d6]][[2d6]][[1d6+1", 6];
            }
            if (wp == "Shotgun C10"){
                dmg = ["5d6]][[2d6+2]][[1d6+2", 7];
            }
            if (wp == "Medium Rifle"){
                dmg = ["5d6", 7];
            }
            if (wp == "Heavy Rifle"){
                dmg = ["6d6+2", 8];
            }
            if (wp == "Very Heavy Rifle"){
                dmg = ["6d10", 9];
            }
            if (wp == "20mm Rifle"){
                dmg = ["8d10", 10];
            }
            if (wp == "Dart Rifle"){
                dmg = ["1d6", 3];
            }
            if (wp == "Laser Rifle"){
                dmg = ["3d6", 5];
            }
            if (wp == "Laser Cannon"){
                dmg = ["8d6", 10];
            }
            if (wp == "Light LMG"){
                dmg = ["4d10", 8];
            }
            if (wp == "Medium LMG"){
                dmg = ["6d10", 9];
            }
            if (wp == "Heavy LMG"){
                dmg = ["8d10", 10];
            }
            if (wp == "30mm Cannon"){
                dmg = ["9d10", 12];
            }
            if (wp == "Rocket Launcher"){
                dmg = ["11d10]][[4d6", 13];
            }
            if (wp == "Grenade 40mm"){
                dmg = ["7d6", 9];
            }
            if (wp == "Grenade 25mm"){
                dmg = ["5d6", 7];
            }
            if (wp == "Grenade Frag"){
                dmg = ["7d6", 9];
            }
            if (wp == "Mini Missile Launcher"){
                dmg = ["4d6", 6];
            }
            if (wp == "Missile Launcher"){
                dmg = ["9d10", 11];
            }
            if (wp == "25mm Cannon"){
                dmg = ["5d10+10", 9];
            }
            if (wp == "Lance Flamme"){
                dmg = ["5d6", 7];
            }
            if (wp == "Crossbow"){
                dmg = ["5d6", 7];
            }
            setAttrs({
               metaRangedWeaponDmg : '[['+dmg[0]+']]',
               metaRangedWeaponDmgSNS : dmg[1]
            });
       });
    });
</script>

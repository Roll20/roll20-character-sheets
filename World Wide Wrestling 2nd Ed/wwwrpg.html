<!-- Sheet version 1.0.4 -->

<input type="hidden" class="tabs-toggle" name="attr_sheetTab"  value="character" />
<input type="hidden" class="color-toggle" name="attr_sheetColor"  value="red" />

<div class="nav-buttons">
	<input type="hidden" class="tabs-toggle" name="attr_sheetTab"  value="character" />
	<button type="action" class="char-button" name="act_character">Character</button><button type="action" class="notes-button" name="act_notes">Notes</button><button type="action" class="settings-button" name="act_settings">Settings</button>
</div>

<div class="character-sheet">
	<div align="center">
		<input class="gimmick-input" type="text" name="attr_gimmick_name" placeholder="gimmick" data-lpignore="true"/>
		<h3>Now Making Their Way to the Ring</h3>
		<input class="char-name" type="text" name="attr_character_name" placeholder="wrestler name" data-lpignore="true"/>
		<div>
			<textarea class="char-desc" name="attr_character_description" placeholder="Enter character description..." />
		</div>
	</div>
	<div class="stat-and-role-grid">
		<div class="role-box1">
			<h4>Hailing From</h4>
			<textarea class="role-textarea" name="attr_hailing_from" id="hailing_from" />
		</div>
		<div class="role-box2">
			<h4>Entrance</h4>
			<textarea class="role-textarea" name="attr_entrance" id="entrance" />
		</div>
		<div class="stats-grid role-box3">
			<div>
				<input class="stat-input" type="number" step="1" min="-2" max="3" name="attr_body">
			</div>
			<div>
				<button class="stat-roll" type="roll" name="roll_body" value="&{template:rollstat} {{statName=Body}} {{charName=@{character_name} }} {{statValue=@{body} }}  {{statValueCheck=[[@{body}]]}} {{sheetColor=@{sheetColor} }} {{statResult=[[2d6+@{body}]]}}" /><span class="stat-label">Body</span>
			</div>
			<div>
				<p class="stat-desc">Athletic Feat / Wrestling</p>
			</div>
			
			<div>
				<input class="stat-input" type="number" step="1" min="-2" max="3" name="attr_look">
			</div>
			<div>
				<button class="stat-roll" type="roll" name="roll_look" value="&{template:rollstat} {{statName=Look}} {{charName=@{character_name} }} {{statValue=@{look} }} {{statValueCheck=[[@{look}]]}} {{sheetColor=@{sheetColor} }} {{statResult=[[2d6+@{look}]]}}" /><span class="stat-label">Look</span>
			</div>
			<div>
				<p class="stat-desc">Cut a Promo</p>
			</div>

			<div>
				<input class="stat-input" type="number" step="1" min="-2" max="3" name="attr_real">
			</div>
			<div>
				<button class="stat-roll" type="roll" name="roll_real" value="&{template:rollstat} {{statName=Real}} {{charName=@{character_name} }} {{statValue=@{real} }} {{statValueCheck=[[@{real}]]}} {{sheetColor=@{sheetColor} }} {{statResult=[[2d6+@{real}]]}}" /><span class="stat-label">Real</span>
			</div>
			<div>
				<p class="stat-desc">Break Kayfabe / Work Real Stiff</p>
			</div>
			
			<div>
				<input class="stat-input" type="number" step="1" min="-2" max="3" name="attr_work">
			</div>
			<div>
				<button class="stat-roll" type="roll" name="roll_work" value="&{template:rollstat} {{statName=Work}} {{charName=@{character_name} }} {{statValue=@{work} }} {{statValueCheck=[[@{work}]]}} {{sheetColor=@{sheetColor} }} {{statResult=[[2d6+@{Work}]]}}" /><span class="stat-label">Work</span>
			</div>
			<div>
				<p class="stat-desc">Wrestling</p>
			</div>
			
		</div>
		<div class="role-box role-box4">
			<h2>Choose Your Role</h2>
			<hr style="height:1px;width:90%;margin-top:1px;margin-bottom:1px;color:gray;background-color:gray">
			<div class="role-selector-grid">
				<div></div>
				<div>
					<input type="radio" class="role-radio" name="attr_role" id="babyface" value="babyface">
					<label class="role-label" for="babyface"><input type="hidden" class="lucha-toggle" name="attr_luchaType"  value="false" /><span class="lucha-false">Babyface</span><span class="lucha-true">Técnico</span></label><br />
					<p class="arsenal-italic" style="line-height:70%">You are a hero.</p>
				</div>
				<div><p class="kulim-bold">VS</p></div>
				<div>
					<input type="radio" class="role-radio" name="attr_role" id="heel" value="heel">
					<label class="role-label" for="heel"><input type="hidden" class="lucha-toggle" name="attr_luchaType"  value="false" /><span class="lucha-false">Heel</span><span class="lucha-true">Rudo</span></label><br>
					<p class="arsenal-italic" style="line-height:70%">You are a villain.</p>
				</div>
				<div></div>
			</div>
			<input type="hidden" class="adv-role-toggle" name="attr_adv_role_setting"  value="none" />
			<span class="advanced-celebrity">Advanced Role: Celebrity</span>
			<span class="advanced-icon">Advanced Role: Icon</span>
			<span class="advanced-legend">Advanced Role: Legend</span>
			<div style="padding: 6px 6px 6px 6px;">
				<p class="arsenal-normal">Start with +1 Heat with wrestlers of the opposite Role.</p>
				<p class="arsenal-normal">You can use the Move of the same name by spending 2 Momentum.</p>
				<p class="arsenal-normal">When you <strong>deliberately act against your role</strong>, it’s a Face Turn or a Heel Turn. Switch Roles, and gain +1 Heat with who you turn on (or away from).<p>
			</div>
		</div>
	</div>
	<div class="heat-grid">
		<div class="heat-box">
			<p class="stat-label">Heat</p>
			<p class="stat-desc">Roll +Heat for: Run-In, Wrestling</p>
			
			<fieldset class="repeating_wrestler-heat">
				<div class="wrestler-heat-grid">
					<div>
						<button class="heat-roll" type="roll" name="roll_heat" value="&{template:rollstat} {{statName=Heat with @{heat_wrestler_name}}} {{charName=@{character_name} }} {{statValueCheck=[[@{wrestler_heat}]]}} {{sheetColor=@{sheetColor} }} {{statValue=@{wrestler_heat} }} {{statResult=[[2d6+@{wrestler_heat}]]}}" />
					</div>
					<div>
						<input class="heat-input" type="number" step="1" min="0" max="4" name="attr_wrestler_heat">
					</div>
					<div>
						<input class="wrestler-input" type="text" name="attr_heat_wrestler_name" placeholder="wrestler name" data-lpignore="true"/>
					</div>
				</div>
			</fieldset>
			
			<p class="arsenal-normal" style="padding-top:4px">When you wrestle someone you have +4 Heat with, <strong>gain +1 Audience</strong>. If you don’t cross paths with someone in an Episode, <strong>lose -1 Heat</strong> with them.</p>
		</div>
		<div class="momentum-box">
			<div class="momentum-grid">
				<div class="momentum-subbox1">
					<input class="stat-input" type="number" step="1" min="0" name="attr_momentum">
				</div>
				<div class="momentum-subbox2">
					<span class="stat-label">Momentum</span>
				</div>
				<div class="momentum-subbox3">
					<p class="stat-desc">Spend to add to your<br/>result after any roll</p>
				</div>
			</div>
		</div>
		<div class="want-box"  style="padding: 6px 6px 6px 6px;">
			<p class="stat-label" style="text-align:center;">Want</p>
			<p class="arsenal-normal">Pick the desire that <em>most</em> drives you. When you have a match that satisfies your Want, take an Advance and pick a new Want.</p>
			<textarea class="want-textarea" name="attr_want"/>
			<p class="arsenal-normal">You can also change Wants anytime (without taking an Advance).</p>
		</div>
	</div>

	<div class="moves-and-audience-grid">
		<div class="main-moves-box">
			<p class="stat-label">Your Moves</p>
			<fieldset class="repeating_move">
				<div class="moves-grid">
					<div class="moves-roll-setting-box">
						<select class="move-dropdown" name="attr_move_attribute">
							<option value="0" selected="selected">Finisher</option>
							<option value="@{body}">Body</option>
							<option value="@{look}">Look</option>
							<option value="@{real}">Real</option>
							<option value="@{work}">Work</option>
							<option value="@{audience}">Audience</option>
							<option value="-100">None</option>
						</select>
					</div>
					<div class="moves-roll-box">
						<button class="stat-roll" type="roll" name="roll_move" value="&{template:rollstat} {{statName=@{move_name}}} {{charName=@{character_name} }}  {{moveDesc=@{move_desc} }} {{statValue=@{move_attribute} }} {{noRollCheck=[[@{move_attribute}]]}} {{statValueCheck=[[@{move_attribute}]]}}  {{sheetColor=@{sheetColor} }} {{statResult=[[2d6+@{move_attribute}]]}}" />
					</div>
					<div class="moves-name-box">
						<input class="movename-input" type="text" name="attr_move_name" placeholder="move name"/>
					</div>
					<div class="moves-desc-box">
						<textarea class="movedesc-textarea" name="attr_move_desc"/>
					</div>
				</div>
			</fieldset>
		</div>
		<div class="audience-box">
			<p style="margin-bottom:4px">
				<button class="audience-roll" type="roll" name="roll_audience" value="&{template:rollstat} {{statName=Audience}} {{charName=@{character_name} }} {{statValue=@{audience} }} {{statValueCheck=[[@{audience}]]}} {{sheetColor=@{sheetColor} }} {{statResult=[[2d6+@{audience}]]}}" /><span class="stat-label">Audience &nbsp;</span>
			</p>
			<p class="arsenal-normal">This is how popular you are with the crowd.</p>
			<p class="default-audience">You start and reset to audience: &nbsp;<input class="stat-input" type="number" step="1" min="0" name="attr_base_audience" style="position:relative;top:-1px;"></p>
			<div class="audience-grid">
				<input type="hidden" class="audience-toggle" name="attr_audienceType"  value="standard" />
				<div class="audience-input-top"><input type="checkbox" name="attr_topspot" id="topspot"></div>
				<div class="audience-label-top"><label class="audience-label" for="topspot">Top Spot</label></div>
				<div class="audience-text-top">Gain an Advance. Anyone you knock out of the Top Spot resets their Audience. Make the <span class="over-text">Over</span> Move at the top of each Episode!</div>
				
				<div class="audience-input-box"><input type="radio" name="attr_audience" id="audience4" value="4"></div>
				<div class="audience-label-box"><label class="audience-label" for="audience4">+4</label></div>
				<div class="audience-text-box">
					<input type="hidden" class="audience-toggle" name="attr_audienceType"  value="standard" />
					<div class="audience-standard2">Start each Episode with 2 Momentum.</div>
					<div class="audience-jobber2">Gain an Advance. If you end an Episode at +4, <strong>you can choose to <em>repackage</em></strong> to any other Gimmick. If you choose to stay a Jobber, reset to +1 at the beginning of the next Episode.</div>
				</div>
				
				<div class="audience-input-box"><input type="radio" name="attr_audience" id="audience3" value="3"></div>
				<div class="audience-label-box"><label class="audience-label" for="audience3">+3</label></div>
				<div class="audience-text-box">Start each Episode with 2 Momentum.</div>
				
				<div class="audience-input-box"><input type="radio" name="attr_audience" id="audience2" value="2"></div>
				<div class="audience-label-box"><label class="audience-label" for="audience2">+2</label></div>
				<div class="audience-text-box">Start each Episode with 1 Momentum.</div>
				
				<div class="audience-input-box"><input type="radio" name="attr_audience" id="audience1" value="1"></div>
				<div class="audience-label-box"><label class="audience-label" for="audience1">+1</label></div>
				<div class="audience-text-box">Start each Episode with 1 Momentum.</div>
				
				<div class="audience-input-box"><input type="radio" name="attr_audience" id="audience0" value="0"></div>
				<div class="audience-label-box"><label class="audience-label" for="audience0">0</label></div>
				<div class="audience-text-box">
					<input type="hidden" class="audience-toggle" name="attr_audienceType"  value="standard" />
					<div class="audience-standard2">Gain an Advance. If you have 0 at the end of an Episode, you’re fired!</div>
					<div class="audience-jobber2">Gain an Advance. If you have 0 at the end of an Episode, reset your Audience!</div>
				</div>
			</div>
			
			<p class="stat-desc">Roll +Audience for: Work the Audience, Play Politics</p>
		</div>
		<div class="advances-box">
			<p class="stat-label">Advancement</p>
			<p class="arsenal-normal" style="text-align:left;margin-left:9px;margin-bottom:4px">➠ Your Audience falls to 0 the first time in an Episode<br /><input type="hidden" class="audience-toggle" name="attr_audienceType"  value="standard" /><span class="audience-standard2">➠ You take the Top Spot</span><span class="audience-jobber2">➠ You get +4 Audience</span>➠ You satisfy your Want (and pick a new one)</p>
			<textarea class="special-advancement" name="attr_gimmick_advancement" placeholder="Enter advancement specific to your gimmick"/>
			<p class="arsenal-normal">You can spend Advances immediately, or bank them and spend them when you’d like.</p>
			<p class="stat-label">Banked Advances</p>
			<input class="stat-input" type="number" step="1" min="0" name="attr_banked_advances">
			<textarea class="injury-ability" name="attr_injury_ability" placeholder="Enter gimmick injury ability"/>
			<p class="stat-label">Injuries</p>
			<span class="arsenal-normal" style="margin-left:20px"><input class="stat-input" type="number" step="1" min="0" name="attr_injuries"> / <input class="stat-input" type="number" step="1" min="0" name="attr_injuries_max"> max</span>
		</div>
	</div>
</div>

<div class="notes-tab">
	<div class="notes-grid">
		<div class="notes-realname-box">
			<h4><strong>Real Name</strong></h4>
			<input class="realname-input" type="text" name="attr_realname" data-lpignore="true" />
			<div class="weight-height-grid">
				<div><label class="bio-label" for="height">Height</label></div>
				<div><label class="bio-label" for="weight">Weight</label></div>
				<div><input class="bio-input" type="text" id="height" name="attr_height"></div>
				<div><input class="bio-input" type="text" id="weight" name="attr_weight"></div>
				<div><label class="bio-label" for="age">Age</label></div>
				<div><label class="bio-label" for="gender">Gender</label></div>
				<div><input class="bio-input" type="text" id="age" name="attr_age"></div>
				<div><input class="bio-input" type="text" id="gender" name="attr_gender"></div>
			</div>
		</div>
		<div class="notes-text-box">
			<h4>Background / Notes</h4>
			<textarea class="other-notes" name="attr_other_notes" />
		</div>
		
		<div class="notes-relationships-box">
			<h4>Relationships</h4>
			<fieldset class="repeating_relationship">
				<div class="relationships-grid">
					<div class="relationship-name-box">
						<span>Talent Name</span>
						<input class="relationship-name-input" type="text" name="attr_relationship_name"  data-lpignore="true">
					</div>
					<div class="relationship-role-box">
						<span>Role</span>
						<select class="relationship-role-dropdown" name="attr_relationship-role">
							<option value="babyface" selected="selected">Babyface</option>
							<option value="heel">Heel</option>
							<option value="técnico">Técnico</option>
							<option value="rudo">Rudo</option>
							<option value="backstage">Backstage</option>
							<option value="other">Other</option>
						</select>
					</div>
					<div class="relationship-text-box">
						<textarea class="relationship-notes" name="attr_relationship_notes" />
					</div>
				</div>
			</fieldset>
		</div>
		
		<div class="notes-storylines-box">
			<h4>Storylines</h4>
			<fieldset class="repeating_storyline">
				<div class="storyline-grid">
					<div class="storyline-label-box"><span>Title</span></div>
					<div class="storyline-input-box"><input class="storyline-title-input" type="text" name="attr_storyline-title"></div>
					<div class="storyline-label-box"><span class="storyline-talent-label">Talent Involved</span></div>
					<div class="storyline-input-box"><textarea class="storyline-invovled" name="attr_storyline-involved"></div>
					<div class="storyline-text-box"><textarea class="storyline-notes" name="attr_storyline_notes" /></div>
				</div>
			</fieldset>
		</div>
		<div class="notes-event-match-log">
			<h4>Event/Match Log</h4>
			<fieldset class="repeating_match">
				<div class="match-grid">
					<div class="match-episode-box">
						<label>Episode</label>
						<input class="episode-input" type="number" step="1" min="0" name="attr_episode" />
					</div>
					<div class="match-vs-box">
						<select class="match-selector" name="attr_match_type">
							<option value="vs" selected="selected">VS.</option>
							<option value="tag">Tag</option>
						</select>
						<input type="hidden" class="match-type-toggle" name="attr_match_type"  value="vs" />
						<div class="vs-match-block">
							<input class="vs-input" type="text" name="attr_match_vs" />
						</div>
						<div class="tag-match-block">
							<input class="tag-team-input" type="text" name="attr_tag_team" /><label>VS.</label><input class="tag-vs-input" type="text" name="attr_match_vs" />
						</div>
					</div>
					<div class="match-stipulation-box">
						<label>Stipulation / Title Match</label>
						<input class="stipulation-input" type="text" name="attr_match_stipulation" />
					</div>
					<div class="match-results-box">
						<label>Results</label>
						<input class="match-results-input" type="text" name="attr_match_results" />
					</div>
					<div class="match-notes-box">
						<textarea class="match-notes" name="attr_match_notes" />
					</div>
				</div>
			</fieldset>
		</div>
	</div>
</div>

<div class="settings-tab">
	<div class="settings">
		<p class="stat-label">Audience Type</p>
		<input type="radio" class="audience-radio" name="attr_audience_setting" id="audience-standard" value="standard" checked>
		<label class="other-label" for="audience-standard">Standard</label>
		<input type="radio" class="audience-radio" name="attr_audience_setting" id="audience-jobber" value="jobber">
		<label class="other-label" for="audience-jobber">Jobber</label>
			
		<p class="stat-label">Lucha Libre Roles</p>
		<input type="radio" class="lucha-radio" name="attr_lucha_setting" id="lucha-libre-false" value="false" checked>
		<label class="other-label" for="lucha-libre-false">No</label>
		<input type="radio" class="lucha-radio" name="attr_lucha_setting" id="lucha-libre-true" value="true">
		<label class="other-label" for="lucha-libre-true">Yes</label>
		
		<p class="stat-label">Advanced Role</p>
		<input type="radio" class="advanced-radio" name="attr_adv_role_setting" id="advanced-none" value="none" checked>
		<label class="other-label" for="advanced-none">None</label>
		<input type="radio" class="advanced-radio" name="attr_adv_role_setting" id="advanced-celebrity" value="celebrity">
		<label class="other-label" for="advanced-none">Celebrity</label>
		<input type="radio" class="advanced-radio" name="attr_adv_role_setting" id="advanced-icon" value="icon">
		<label class="other-label" for="advanced-none">Icon</label>
		<input type="radio" class="advanced-radio" name="attr_adv_role_setting" id="advanced-legend" value="legend">
		<label class="other-label" for="advanced-none">Legend</label>
		
		<p class="stat-label">Sheet Color</p>
		<input type="radio" class="color-radio" name="attr_sheetcolor_setting" id="sheet-color-red" value="red" checked>
		<label class="other-label" for="sheet-color-red">Red</label>
		<input type="radio" class="color-radio" name="attr_sheetcolor_setting" id="sheet-color-blue" value="blue">
		<label class="other-label" for="sheet-color-blue">Blue</label>
		<input type="radio" class="color-radio" name="attr_sheetcolor_setting" id="sheet-color-green" value="green">
		<label class="other-label" for="sheet-color-green">Green</label>
		<input type="radio" class="color-radio" name="attr_sheetcolor_setting" id="sheet-color-yellow" value="yellow">
		<label class="other-label" for="sheet-color-yellow">Yellow</label>
		<input type="radio" class="color-radio" name="attr_sheetcolor_setting" id="sheet-color-purple" value="purple">
		<label class="other-label" for="sheet-color-purple">Purple</label>
		<input type="radio" class="color-radio" name="attr_sheetcolor_setting" id="sheet-color-orange" value="orange">
		<label class="other-label" for="sheet-color-orange">Orange</label>
		<input type="radio" class="color-radio" name="attr_sheetcolor_setting" id="sheet-color-black" value="black">
		<label class="other-label" for="sheet-color-black">Black</label>
	</div>
	<div><span class="version-info">WWWRPG 2nd Ed. Sheet: version 1.0.4</span></div>
</div>

<script type="text/worker">
    const buttonlist = ["character","notes","settings"];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                sheetTab: button
            });
        });
    });
	
	on("change:audience_setting", function() {
		getAttrs(["audience_setting"], function(values) {
			setAttrs({
				audienceType: values.audience_setting
			});
		});
    });
	
	on("change:lucha_setting", function() {
		getAttrs(["lucha_setting"], function(values) {
			setAttrs({
				luchaType: values.lucha_setting
			});
		});
    });
	
	on("change:adv_role_setting", function() {
		getAttrs(["adv_role_setting"], function(values) {
			setAttrs({
				advancedRole: values.adv_role_setting
			});
		});
    });
	
	on("change:sheetcolor_setting", function() {
		getAttrs(["sheetcolor_setting"], function(values) {
			setAttrs({
				sheetColor: values.sheetcolor_setting
			});
		});
    });
</script>

<rolltemplate class="sheet-rolltemplate-rollstat">
    <div class="sheet-roll-container-{{sheetColor}}">

		<div class="sheet-roll-header">
			<div class="sheet-roll-title">
				{{charName}}
			</div>
			{{^noRollCheck}}
				{{#statName}}
					<div class="sheet-roll-subtitle">
						{{statName}}: {{#rollGreater() statValueCheck 0}}+{{/rollGreater() statValueCheck 0}}{{statValue}}
					</div> 
				{{/statName}}
			{{/noRollCheck}}
			
			{{#noRollCheck}}
				{{#rollTotal() noRollCheck -100}}
					{{#statName}}
						<div class="sheet-roll-subtitle">
							{{statName}}
						</div> 
					{{/statName}}
				{{/rollTotal() noRollCheck -100}}
				
				{{#^rollTotal() noRollCheck -100}}
					{{#statName}}
						<div class="sheet-roll-subtitle">
							{{statName}}: {{#rollGreater() statValueCheck 0}}+{{/rollGreater() statValueCheck 0}}{{statValue}}
						</div> 
					{{/statName}}
				{{/^rollTotal() noRollCheck -100}}
			{{/noRollCheck}}
		</div>
		
		{{#statResult}}
			{{^noRollCheck}}
				<div class="sheet-roll-row">		
					{{#rollGreater() statResult 9}}
						{{statResult}}<br/>
						<span class="sheet-result-stronghit">10+</span>
					{{/rollGreater() statResult 9}}
					{{#rollBetween() statResult 7 9}}
						{{statResult}}<br/>
						<span class="sheet-result-weakhit">7-9</span>
					{{/rollBetween() statResult 7 9}}
					{{#rollLess() statResult 7}}
						{{statResult}}<br/>
						<span class="sheet-result-botch">Botch</span>
					{{/rollLess() statResult 7}}
				</div>
			{{/noRollCheck}}
			
			{{#noRollCheck}}
				{{#^rollTotal() noRollCheck -100}}
					<div class="sheet-roll-row">		
						{{#rollGreater() statResult 9}}
							{{statResult}}<br/>
							<span class="sheet-result-stronghit">10+</span>
						{{/rollGreater() statResult 9}}
						{{#rollBetween() statResult 7 9}}
							{{statResult}}<br/>
							<span class="sheet-result-weakhit">7-9</span>
						{{/rollBetween() statResult 7 9}}
						{{#rollLess() statResult 7}}
							{{statResult}}<br/>
							<span class="sheet-result-botch">Botch</span>
						{{/rollLess() statResult 7}}
					</div>
				{{/^rollTotal() noRollCheck -100}}
			{{/noRollCheck}}
		{{/statResult}}
		
		{{#moveDesc}}
			{{#noRollCheck}}
				{{#^rollTotal() noRollCheck -100}}
					<div class="sheet-movedesc-row">		
						{{moveDesc}}
					</div>
				{{/^rollTotal() noRollCheck -100}}
				{{#rollTotal() noRollCheck -100}}
					<div class="sheet-movedesc-row-noroll">		
						{{moveDesc}}
					</div>
				{{/rollTotal() noRollCheck -100}}
			{{/noRollCheck}}
			{{^noRollCheck}}
				<div class="sheet-movedesc-row">		
					{{moveDesc}}
				</div>
			{{/noRollCheck}}
		{{/moveDesc}}
	</div>
</rolltemplate>

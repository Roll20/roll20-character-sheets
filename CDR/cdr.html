<div class="main">
    <div class="sheet-container">
        <div class="sheet-header">
            <div>
                <img src="https://raw.githubusercontent.com/RoenMidnight/roll20-character-sheets/cdr-new-charactersheet/CDR/assets/cdr-logo.png" class="sheet-logo-cdr">
            </div>
            <div class="sheet-header-title">
                <label data-i18n="nome_logo" class="sheet-title">Complexo de Detenção e Ressocialização</label>
            </div>
        </div>
        <div class="sheet-body">
            <div class="sheet-label-detento">
                <label data-i18n="ficha_detento">FICHA DE DETENTO</label>
            </div>            
            <div class="sheet-vulgo-nome-evolucoes">
                <div class="sheet-vulgo-nome">
                    <div>
                        <label data-i18n="vulgo">Vulgo</label><input type="text" spellcheck="false" value="" class="sheet-input-vulgo-nome" name="attr_vulgo">
                    </div>
                    <div>
                        <label data-i18n="nome">Nome</label><input type="text" spellcheck="false" value="" class="sheet-input-vulgo-nome" name="attr_name">
                    </div>
                </div>                
                <div class="sheet-evolucoes-ludicos">
                    <div class="sheet-label-evolucoes">
                        <label data-i18n="evolucoes">Evoluções</label>
                    </div>
                    <div class="sheet-put-element-end sheet-margin-bottom">
                        <input type="checkbox" spellcheck="false" class="sheet-input-evolucao" name="attr_evolucoes_1">
                        <input type="checkbox" spellcheck="false" class="sheet-input-evolucao" name="attr_evolucoes_2">
                        <input type="checkbox" spellcheck="false" class="sheet-input-evolucao" name="attr_evolucoes_3">
                        <input type="checkbox" spellcheck="false" class="sheet-input-evolucao" name="attr_evolucoes_4">
                        <input type="checkbox" spellcheck="false" class="sheet-input-evolucao" name="attr_evolucoes_5">
                    </div>
                    <!---->
                    <div class="sheet-put-element-end">
                        <input type="checkbox" spellcheck="false" class="sheet-input-evolucao" name="attr_evolucoes_6">
                        <input type="checkbox" spellcheck="false" class="sheet-input-evolucao" name="attr_evolucoes_7">
                        <input type="checkbox" spellcheck="false" class="sheet-input-evolucao" name="attr_evolucoes_8">
                        <input type="checkbox" spellcheck="false" class="sheet-input-evolucao" name="attr_evolucoes_9">
                        <input type="checkbox" spellcheck="false" class="sheet-input-evolucao" name="attr_evolucoes_10">
                    </div>
                </div>
                <div class="sheet-evolucoes-ludicos">
                    <div class="sheet-pontos-ludicos sheet-margin-bottom"><label data-i18n="pontos_ludicos">Pontos Lúdicos</label></div>
                    <div class="sheet-put-element-end">
                        <input type="checkbox" spellcheck="false" class="sheet-input-evolucao" name="attr_ludicos_1">
                        <input type="checkbox" spellcheck="false" class="sheet-input-evolucao" name="attr_ludicos_2">
                        <input type="checkbox" spellcheck="false" class="sheet-input-evolucao" name="attr_ludicos_3">
                    </div>
                </div>
            </div>
            <div class="sheet-label-attribute">
                <label data-i18n="atributos">Atributos</label>
            </div>
            <div class="sheet-corpo-ficha">
                <div class="sheet-pena-vida">
                    <label class="sheet-pena-vida-title" data-i18n="pena">Pena</label>
                    <label class="sheet-pena-switch-1">
                        <input type="radio" spellcheck="false" name="attr_pena" value="1">
                        <span>1</span>
                    </label>
                    <label class="sheet-pena-switch-2">
                        <input type="radio" spellcheck="false" name="attr_pena" value="2">
                        <span>2</span>
                    </label>
                    <label class="sheet-pena-switch-3">
                        <input type="radio" spellcheck="false" name="attr_pena" value="3">
                        <span>3</span>
                    </label>
                    <label class="sheet-pena-switch-4">
                        <input type="radio" spellcheck="false" name="attr_pena" value="4">
                        <span>4</span>
                    </label>
                    <label class="sheet-pena-switch-5">
                        <input type="radio" spellcheck="false" name="attr_pena" value="5">
                        <span>5</span>
                    </label>
                <!--++++++++-->                    
                    <label class="sheet-vida-title" data-i18n="vida">Vida</label>
                    <label class="sheet-vida-switch-1">
                        <input type="radio" spellcheck="false" name="attr_vida" value="1">
                        <span>1</span>
                    </label>
                    <label class="sheet-vida-switch-2">
                        <input type="radio" spellcheck="false" name="attr_vida" value="2">
                        <span>2</span>
                    </label>
                    <label class="sheet-vida-switch-3">
                        <input type="radio" spellcheck="false" name="attr_vida" value="3">
                        <span>3</span>
                    </label>
                    <label class="sheet-vida-switch-4">
                        <input type="radio" spellcheck="false" name="attr_vida" value="4">
                        <span>4</span>
                    </label>
                    <label class="sheet-vida-switch-5">
                        <input type="radio" spellcheck="false" name="attr_vida" value="5">
                        <span>5</span>
                    </label>
                    <label class="sheet-vida-switch-6">
                        <input type="radio" spellcheck="false" name="attr_vida" value="6"> 
                        <span>6</span>
                    </label>                   
                </div>
                <div>
                    <div class="sheet-atributos">
                        <div><button type="roll" name="roll_body" value="&{template:default}{{name=@{vulgo} - Corpo}} {{Complicação=[[?{Complicação?|0}-?{Privilégios?|0}-@{corpo}]] }} {{Rolagem=[[2d6+?{Ponto Lúdico?|Não,0|Sim,1d6}]] }}"><label data-i18n="corpo">Corpo</label></button><input spellcheck="false" class="sheet-atributos-input" type="number" name="attr_corpo" value="0"></div>
                        <div><button type="roll" name="roll_body" value="&{template:default}{{name=@{vulgo} - Cabeça}} {{Complicação=[[?{Complicação?|0}-?{Privilégios?|0}-@{cabeca}]] }} {{Rolagem=[[2d6+?{Ponto Lúdico?|Não,0|Sim,1d6}]] }}"><label data-i18n="cabeca">Cabeça</label></button><input spellcheck="false" class="sheet-atributos-input" type="number" name="attr_cabeca" value="0"></div>
                        <div><button type="roll" name="roll_body" value="&{template:default}{{name=@{vulgo} - Dureza}} {{Complicação=[[?{Complicação?|0}-?{Privilégios?|0}-@{dureza}]] }} {{Rolagem=[[2d6+?{Ponto Lúdico?|Não,0|Sim,1d6}]] }}"><label data-i18n="dureza">Dureza</label></button><input  spellcheck="false" class="sheet-atributos-input" type="number" name="attr_dureza" value="0"></div>
                        <div><button type="roll" name="roll_body" value="&{template:default}{{name=@{vulgo} - Firmeza}} {{Complicação=[[?{Complicação?|0}-?{Privilégios?|0}-@{firmeza}]] }} {{Rolagem=[[2d6+?{Ponto Lúdico?|Não,0|Sim,1d6}]] }}"><label data-i18n="firmeza">Firmeza</label></button><input spellcheck="false" class="sheet-atributos-input" type="number" name="attr_firmeza" value="0"></div>
                    </div>
                    <div class="sheet-privilegios-posses">
                        <div>
                            <div class="sheet-description-title" data-i18n="privilegios">Privilégios</div> 
                            <textarea class="sheet-textarea-priv-pos" name="attr_privilegio"></textarea> 
                        </div>
                        <div>
                            <div class="sheet-description-title" data-i18n="posses">Posses</div>
                            <textarea class="sheet-textarea-priv-pos" name="attr_posses"></textarea>
                        </div>
                    </div>
                </div>
                <div class="sheet-moral">
                    <label class="sheet-moral-title" data-i18n="moral">Moral</label>
                    <label class="sheet-moral-switch-minus-3 sheet-moral-negative">
                        <input type="radio" spellcheck="false" name="attr_moral" value="-3">
                        <span>-3</span>
                    </label>
                    <label class="sheet-moral-switch-minus-2 sheet-moral-negative">
                        <input type="radio" spellcheck="false" name="attr_moral" value="-2">
                        <span>-2</span>
                    </label>
                    <label class="sheet-moral-switch-minus-1 sheet-moral-negative">
                        <input type="radio" spellcheck="false" name="attr_moral" value="-1">
                        <span>-1</span>
                    </label>
                    <label class="sheet-moral-switch-0">
                        <input type="radio" spellcheck="false" name="attr_moral" value="0">
                        <span>0</span>
                    </label>
                <!--++++++++-->
                    <label class="sheet-moral-switch-1">                    
                        <input type="radio" spellcheck="false" name="attr_moral" value="1">
                        <span>+1</span>
                    </label>
                    <label class="sheet-moral-switch-2">
                        <input type="radio" spellcheck="false" name="attr_moral" value="2">
                        <span>+2</span>
                    </label>
                    <label class="sheet-moral-switch-3">
                        <input type="radio" spellcheck="false" name="attr_moral" value="3">
                        <span>+3</span>
                    </label>
                    <label class="sheet-moral-switch-4">
                        <input type="radio" spellcheck="false" name="attr_moral" value="4">
                        <span>+4</span>
                    </label>
                    <label class="sheet-moral-switch-5">
                        <input type="radio" spellcheck="false" name="attr_moral" value="5">
                        <span>+5</span>
                    </label>
                    <label class="sheet-moral-switch-6">
                        <input type="radio" spellcheck="false" name="attr_moral" value="6">
                        <span>+6</span>
                    </label>
                    <label class="sheet-moral-switch-7">
                        <input type="radio" spellcheck="false" name="attr_moral" value="7">
                        <span>+7</span>
                    </label>
                    <label class="sheet-moral-switch-8">
                        <input type="radio" spellcheck="false" name="attr_moral" value="8">
                        <span>+8</span>
                    </label>
                    <label class="sheet-moral-switch-9">
                        <input type="radio" spellcheck="false" name="attr_moral" value="9">
                        <span>+9</span>
                    </label>
                    <label class="sheet-moral-switch-10">
                        <input type="radio" spellcheck="false" name="attr_moral" value="10">
                        <span>+10</span>
                    </label>
                </div>
            </div>
            <div class="sheet-description">
                <div>
                    <div class="sheet-description-title" data-i18n="qual_a_sua">Qual é a sua?</div>
                    <div><textarea class="sheet-textarea-description sheet-textarea-qualsua" name="attr_qualasua"></textarea></div>
                </div>
                <div>
                    <div class="sheet-description-gana-title" data-i18n="gana">Gana</div>
                    <div><textarea class="sheet-textarea-description" name="attr_gana"></textarea></div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/worker">
    on("sheet:opened change:pena", function(e){
        for (x = 1; x <= 5; x++){
            $20('.sheet-pena-switch-'+x).removeClass('sheet-pena-moral-selected');   
        }

        getAttrs(["pena"], function(v){
            $20('.sheet-pena-switch-'+v.pena).addClass('sheet-pena-moral-selected');
        });        
    });

    on("sheet:opened change:vida", function(e){
        for (x = 1; x <= 6; x++){
            $20('.sheet-vida-switch-'+x).removeClass('sheet-pena-moral-selected');   
        }

        getAttrs(["vida"], function(v){
            $20('.sheet-vida-switch-'+v.vida).addClass('sheet-pena-moral-selected');
        });        
    });

    on("sheet:opened change:moral", function(e){
        for (x = 1; x <= 3; x++){
            $20('.sheet-moral-switch-minus-'+x).removeClass('sheet-pena-moral-selected');   
        }
        for (x = 0; x <= 10; x++){
            $20('.sheet-moral-switch-'+x).removeClass('sheet-pena-moral-selected');   
        }

        getAttrs(["moral"], function(v){
            if(v.moral >= 0){
                $20('.sheet-moral-switch-'+v.moral).addClass('sheet-pena-moral-selected');
            } else {
                $20('.sheet-moral-switch-minus-'+(v.moral * -1)).addClass('sheet-pena-moral-selected');
            }
        });        
    });
</script>
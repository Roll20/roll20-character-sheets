<div class="top">
    <div class="sheet-doublerow">
        <div class="sheet-item sheet-14"></div>
        <div class="sheet-item sheet-395"><input type="text" class="name" name="attr_code_name" value="" placeholder="Code Name"/></div>
        <div class="sheet-item sheet-395 label"><span data-i18n="agent_record">Agent Record</span></div>
    </div>

    <div class="sheet-row"></div>

    <div class="grid">
        <div class="sheet-box">
            <div class="sheet-row">
                <div class="sheet-item sheet-5"></div>
                <div class="sheet-item sheet-90"><span data-i18n="player">Player</span></div>
                <div class="sheet-item sheet-195"><input type="text" class="data" name="attr_player_name" value=""/></div>
            </div>
            <div class="sheet-row">
                <div class="sheet-item sheet-5"></div>
                <div class="sheet-item sheet-90"><span data-i18n="service_history">Service History</span></div>
                <div class="sheet-item sheet-195"><input type="text" class="data" name="attr_service_history" value=""/></div>
            </div>
            <div class="sheet-row">
                <div class="sheet-item sheet-5"></div>
                <div class="sheet-item sheet-90"><span data-i18n="equipment">Equipment</span></div>
                <div class="sheet-item sheet-195"><input type="text" class="data" name="attr_equipment_1" value=""/></div>
            </div>
            <div class="sheet-row">
                <div class="sheet-item sheet-5"></div>
                <div class="sheet-item sheet-90"></div>
                <div class="sheet-item sheet-195"><input type="text" class="data" name="attr_equipment_2" value=""/></div>
            </div>
            <div class="sheet-row">
                <div class="sheet-item sheet-5"></div>
                <div class="sheet-item sheet-90"></div>
                <div class="sheet-item sheet-195"><input type="text" class="data" name="attr_equipment_3" value=""/></div>
            </div>
        </div>
        <div class="sheet-box">
            <div class="sheet-row">
                <div class="sheet-item sheet-5"></div>
                <div class="sheet-item sheet-80"><span data-i18n="weapons">Weapons</span></div>
                <div class="sheet-item sheet-200"><input type="text" class="data" name="attr_weapons_1" value=""/></div>
            </div>
            <div class="sheet-row">
                <div class="sheet-item sheet-5"></div>
                <div class="sheet-item sheet-80"></div>
                <div class="sheet-item sheet-200"><input type="text" class="data" name="attr_weapons_2" value=""/></div>
            </div>
            <div class="sheet-row">
                <div class="sheet-item sheet-5"></div>
                <div class="sheet-item sheet-80"></div>
                <div class="sheet-item sheet-200"><input type="text" class="data" name="attr_weapons_3" value=""/></div>
            </div>
            <div class="sheet-row">
                <div class="sheet-item sheet-5"></div>
                <div class="sheet-item sheet-80"></div>
                <div class="sheet-item sheet-200"><input type="text" class="data" name="attr_weapons_4" value=""/></div>
            </div>
            <div class="sheet-row">
                <div class="sheet-item sheet-5"></div>
                <div class="sheet-item sheet-80"></div>
                <div class="sheet-item sheet-200"><input type="text" class="data" name="attr_weapons_5" value=""/></div>
            </div>
        </div>
        <div class="sheet-box2">
            <div class="sheet-row"></div>
            <div class="sheet-doublerow">
                <div class="sheet-item sheet-20"></div>
                <div class="sheet-item sheet-50"><span data-i18n="noticed">Noticed</span></div>
                <div class="sheet-item sheet-50"><input type="checkbox" class="fancy_1" name="attr_noticed" value="Noticed"/><span></span></div>
            </div>
            <div class="sheet-row"></div>
            <div class="sheet-doublerow">
                <div class="sheet-item sheet-20"></div>
                <div class="sheet-item sheet-50"><span data-i18n="exposed">Exposed</span></div>
                <div class="sheet-item sheet-50"><input type="checkbox" class="fancy_2" name="attr_exposed" value="Exposed"/><span></span></div>
            </div>
        </div>
    </div>

    <div class="sheet-row"></div>

    <div class="grid2">
        <div class="label_2 underline"><span data-i18n="traits">Traits</span></div>
        <div class="label_2 underline"><span data-i18n="hits">Hits</span></div>
        <div class="label_2 underline"><span data-i18n="conditions">Conditions</span></div>
    </div>
    <div class="grid2">
        <div class="grid3">
            <div></div>
            <div class="center"><span data-i18n="infiltrate">Infiltrate</span></div>
            <div class="center"><span data-i18n="force">Force</span></div>
            <div class="center"><span data-i18n="mob">Mob</span></div>
            
            <div class="mid_range"><span data-i18n="body">Body</span></div>
            <div class="grid_box">
                <div class="sheet-row">
                    <div class="sheet-item sheet-80 justify"><button type='roll' class="btn" name='roll_sneak' value="&{template:b7} @{battered_condition} @{wrenched_condition} @{dazed_condition} @{scarred_condition} {{skill= Sneak}} {{character= @{code_name} }} {{roll= [[2d6 + @{sneak} + @{battered}[Battered] + ?{External Modifiers|0} ]] }}"><span data-i18n="sneak">Sneak</span></button></div>
                </div>
                <div class="sheet-doublerow">
                    <div class="sheet-item sheet-80 justify"><input type="text" class="number_1" name="attr_sneak" value="0"/></div>
                </div>
            </div>
            <div class="grid_box">
                <div class="sheet-row">
                    <div class="sheet-item sheet-80 justify"><button type='roll' class="btn" name='roll_fight' value="&{template:b7} @{battered_condition} @{wrenched_condition} @{dazed_condition} @{scarred_condition} {{skill= Fight}} {{character= @{code_name} }} {{roll= [[2d6 + @{fight} + @{battered}[Battered] + ?{External Modifiers|0} ]] }}"><span data-i18n="fight">Fight</span></button></div>
                </div>
                <div class="sheet-doublerow">
                    <div class="sheet-item sheet-80 justify"><input type="text" class="number_1" name="attr_fight" value="0"/></div>
                </div>
            </div>
            <div class="grid_box">
                <div class="sheet-row">
                    <div class="sheet-item sheet-80 justify"><button type='roll' class="btn" name='roll_ambush' value="&{template:b7} @{battered_condition} @{wrenched_condition} @{dazed_condition} @{scarred_condition} {{skill= Ambush}} {{character= @{code_name} }} {{roll= [[2d6 + @{ambush} + @{battered}[Battered] + ?{External Modifiers|0} ]] }}"><span data-i18n="ambush">Ambush</span></button></div>
                </div>
                <div class="sheet-doublerow">
                    <div class="sheet-item sheet-80 justify"><input type="text" class="number_1" name="attr_ambush" value="0"/></div>
                </div>
            </div>
            
            <div class="align_middle">Speed</div>
            <div class="grid_box">
                <div class="sheet-row">
                    <div class="sheet-item sheet-80 justify"><button type='roll' class="btn" name='roll_crack' value="&{template:b7} @{battered_condition} @{wrenched_condition} @{dazed_condition} @{scarred_condition} {{skill= Crack}} {{character= @{code_name} }} {{roll= [[2d6 + @{crack} + @{wrenched}[Wrenched] + ?{External Modifiers|0} ]] }}"><span data-i18n="crack">Crack</span></button></div>
                </div>
                <div class="sheet-doublerow">
                    <div class="sheet-item sheet-80 justify"><input type="text" class="number_1" name="attr_crack" value="0"/></div>
                </div>
            </div>
            <div class="grid_box">
                <div class="sheet-row">
                    <div class="sheet-item sheet-80 justify"><button type='roll' class="btn" name='roll_shoot' value="&{template:b7} @{battered_condition} @{wrenched_condition} @{dazed_condition} @{scarred_condition} {{skill= Shoot}} {{character= @{code_name} }} {{roll= [[2d6 + @{shoot} + @{wrenched}[Wrenched] + ?{External Modifiers|0} ]] }}"><span data-i18n="shoot">Shoot</span></button></div>
                </div>
                <div class="sheet-doublerow">
                    <div class="sheet-item sheet-80 justify"><input type="text" class="number_1" name="attr_shoot" value="0"/></div>
                </div>
            </div>
            <div class="grid_box">
                <div class="sheet-row">
                    <div class="sheet-item sheet-80 justify"><button type='roll' class="btn" name='roll_snipe' value="&{template:b7} @{battered_condition} @{wrenched_condition} @{dazed_condition} @{scarred_condition} {{skill= Snipe}} {{character= @{code_name} }} {{roll= [[2d6 + @{snipe} + @{wrenched}[Wrenched] + ?{External Modifiers|0} ]] }}"><span data-i18n="snipe">Snipe</span></button></div>
                </div>
                <div class="sheet-doublerow">
                    <div class="sheet-item sheet-80 justify"><input type="text" class="number_1" name="attr_snipe" value="0"/></div>
                </div>
            </div>
            
            <div><span data-i18n="mind">Mind</span></div>
            <div class="grid_box">
                <div class="sheet-row">
                    <div class="sheet-item sheet-80 justify"><button type='roll' class="btn" name='roll_retrieve' value="&{template:b7} @{battered_condition} @{wrenched_condition} @{dazed_condition} @{scarred_condition} {{skill= Retrieve}} {{character= @{code_name} }} {{roll= [[2d6 + @{retrieve} + @{dazed}[Dazed] + ?{External Modifiers|0} ]] }}"><span data-i18n="retrieve">Retrieve</span></button></div>
                </div>
                <div class="sheet-doublerow">
                    <div class="sheet-item sheet-80 justify"><input type="text" class="number_1" name="attr_retrieve" value="0"/></div>
                </div>
            </div>
            <div class="grid_box">
                <div class="sheet-row">
                    <div class="sheet-item sheet-80 justify"><button type='roll' class="btn" name='roll_throw' value="&{template:b7} @{battered_condition} @{wrenched_condition} @{dazed_condition} @{scarred_condition} {{skill= Throw}} {{character= @{code_name} }} {{roll= [[2d6 + @{throw} + @{dazed}[Dazed] + ?{External Modifiers|0} ]] }}"><span data-i18n="throw">Throw</span></button></div>
                </div>
                <div class="sheet-doublerow">
                    <div class="sheet-item sheet-80 justify"><input type="text" class="number_1" name="attr_throw" value="0"/></div>
                </div>
            </div>
            <div class="grid_box">
                <div class="sheet-row">
                    <div class="sheet-item sheet-80 justify"><button type='roll' class="btn" name='roll_trap' value="&{template:b7} @{battered_condition} @{wrenched_condition} @{dazed_condition} @{scarred_condition} {{skill= Trap}} {{character= @{code_name} }} {{roll= [[2d6 + @{trap} + @{dazed}[Dazed] + ?{External Modifiers|0} ]] }}"><span data-i18n="trap">Trap</span></button></div>
                </div>
                <div class="sheet-doublerow">
                    <div class="sheet-item sheet-80 justify"><input type="text" class="number_1" name="attr_trap" value="0"/></div>
                </div>
            </div>
            
            <div><span data-i18n="comminication">Comminication</span></div>
            <div class="grid_box">
                <div class="sheet-row">
                    <div class="sheet-item sheet-80 justify"><button type='roll' class="btn" name='roll_manipulation' value="&{template:b7} @{battered_condition} @{wrenched_condition} @{dazed_condition} @{scarred_condition} {{skill= Manipulation}} {{character= @{code_name} }} {{roll= [[2d6 + @{manipulation} + @{scarred}[Scarred] + ?{External Modifiers|0} ]] }}"><span data-i18n="manipulation">Manipulation</span></button></div>
                </div>
                <div class="sheet-doublerow">
                    <div class="sheet-item sheet-80 justify"><input type="text" class="number_1" name="attr_manipulation" value="0"/></div>
                </div>
            </div>
            <div class="grid_box">
                <div class="sheet-row">
                    <div class="sheet-item sheet-80 justify"><button type='roll' class="btn" name='roll_shout' value="&{template:b7} @{battered_condition} @{wrenched_condition} @{dazed_condition} @{scarred_condition} {{skill= Shout}} {{character= @{code_name} }} {{roll= [[2d6 + @{shout} + @{scarred}[Scarred] + ?{External Modifiers|0} ]] }}"><span data-i18n="shout">Shout</span></button></div>
                </div>
                <div class="sheet-doublerow">
                    <div class="sheet-item sheet-80 justify"><input type="text" class="number_1" name="attr_shout" value="0"/></div>
                </div>
            </div>
            <div class="grid_box">
                <div class="sheet-row">
                    <div class="sheet-item sheet-80 justify"><button type='roll' class="btn" name='roll_scare' value="&{template:b7} @{battered_condition} @{wrenched_condition} @{dazed_condition} @{scarred_condition} {{skill= Scare}} {{character= @{code_name} }} {{roll= [[2d6 + @{scare} + @{scarred}[Scarred] + ?{External Modifiers|0} ]] }}"><span data-i18n="scare">Scare</span></button></div>
                </div>
                <div class="sheet-doublerow">
                    <div class="sheet-item sheet-80 justify"><input type="text" class="number_1" name="attr_scare" value="0"/></div>
                </div>
            </div>
        </div>
        <div class="grid4">
            <div class="spacer"></div>
            <div class="spacer"></div>
            <div class="spacer"></div>
            
            <div class="grid_box_2 center">
                <div class="sheet-wounds">
                    <input type="radio" class="sheet-wounds sheet-no_wound" name="attr_wound_1" value="0" checked="checked" />
                    <input type="radio" class="sheet-wounds sheet-yes_wound" name="attr_wound_1" value="1" />
                    <span class="sheet-wounds sheet-yes_wound"></span>
                    <span class="sheet-wounds sheet-no_wound"></span>
                </div>
            </div>
            <div class="grid_box_2 center">
                <div class="sheet-wounds">
                    <input type="radio" class="sheet-wounds sheet-no_wound" name="attr_wound_2" value="0" checked="checked" />
                    <input type="radio" class="sheet-wounds sheet-yes_wound" name="attr_wound_2" value="1" />
                    <span class="sheet-wounds sheet-yes_wound"></span>
                    <span class="sheet-wounds sheet-no_wound"></span>
                </div>
            </div>
            <div class="grid_box_2 wound_2  center">
                <div class="sheet-wounds">
                    <input type="radio" class="sheet-wounds sheet-no_wound" name="attr_wound_3" value="0" checked="checked" />
                    <input type="radio" class="sheet-wounds sheet-yes_wound" name="attr_wound_3" value="1" />
                    <span class="sheet-wounds sheet-yes_wound wound_2"></span>
                    <span class="sheet-wounds sheet-no_wound wound_2"></span>
                </div>
            </div>
            
            <div class="grid_box_2 center">
                <div class="sheet-wounds">
                    <input type="radio" class="sheet-wounds sheet-no_wound" name="attr_wound_4" value="0" checked="checked" />
                    <input type="radio" class="sheet-wounds sheet-yes_wound" name="attr_wound_4" value="1" />
                    <span class="sheet-wounds sheet-yes_wound"></span>
                    <span class="sheet-wounds sheet-no_wound"></span>
                </div>
            </div>
            <div class="grid_box_2 center">
                <div class="sheet-wounds">
                    <input type="radio" class="sheet-wounds sheet-no_wound" name="attr_wound_5" value="0" checked="checked" />
                    <input type="radio" class="sheet-wounds sheet-yes_wound" name="attr_wound_5" value="1" />
                    <span class="sheet-wounds sheet-yes_wound"></span>
                    <span class="sheet-wounds sheet-no_wound"></span>
                </div>
            </div>
            <div class="grid_box_2 wound_2  center">
                <div class="sheet-wounds">
                    <input type="radio" class="sheet-wounds sheet-no_wound" name="attr_wound_6" value="0" checked="checked" />
                    <input type="radio" class="sheet-wounds sheet-yes_wound" name="attr_wound_6" value="1" />
                    <span class="sheet-wounds sheet-yes_wound wound_2"></span>
                    <span class="sheet-wounds sheet-no_wound wound_2"></span>
                </div>
            </div>
            
            <div class="grid_box_2 center">
                <div class="sheet-wounds">
                    <input type="radio" class="sheet-wounds sheet-no_wound" name="attr_wound_7" value="0" checked="checked" />
                    <input type="radio" class="sheet-wounds sheet-yes_wound" name="attr_wound_7" value="1" />
                    <span class="sheet-wounds sheet-yes_wound"></span>
                    <span class="sheet-wounds sheet-no_wound"></span>
                </div>
            </div>
            <div class="grid_box_2 center">
                <div class="sheet-wounds">
                    <input type="radio" class="sheet-wounds sheet-no_wound" name="attr_wound_8" value="0" checked="checked" />
                    <input type="radio" class="sheet-wounds sheet-yes_wound" name="attr_wound_8" value="1" />
                    <span class="sheet-wounds sheet-yes_wound"></span>
                    <span class="sheet-wounds sheet-no_wound"></span>
                </div>
            </div>
            <div class="grid_box_2 wound_2  center">
                <div class="sheet-wounds">
                    <input type="radio" class="sheet-wounds sheet-no_wound" name="attr_wound_9" value="0" checked="checked" />
                    <input type="radio" class="sheet-wounds sheet-yes_wound" name="attr_wound_9" value="1" />
                    <span class="sheet-wounds sheet-yes_wound wound_2"></span>
                    <span class="sheet-wounds sheet-no_wound wound_2"></span>
                </div>
            </div>
            
            <div class="grid_box_2 center">
                <div class="sheet-wounds">
                    <input type="radio" class="sheet-wounds sheet-no_wound" name="attr_wound_10" value="0" checked="checked" />
                    <input type="radio" class="sheet-wounds sheet-yes_wound" name="attr_wound_10" value="1" />
                    <span class="sheet-wounds sheet-yes_wound"></span>
                    <span class="sheet-wounds sheet-no_wound"></span>
                </div>
            </div>
            <div class="grid_box_2 center">
                <div class="sheet-wounds">
                    <input type="radio" class="sheet-wounds sheet-no_wound" name="attr_wound_11" value="0" checked="checked" />
                    <input type="radio" class="sheet-wounds sheet-yes_wound" name="attr_wound_11" value="1" />
                    <span class="sheet-wounds sheet-yes_wound"></span>
                    <span class="sheet-wounds sheet-no_wound"></span>
                </div>
            </div>
            <div class="grid_box_2 wound_2 center">
                <div class="sheet-wounds">
                    <input type="radio" class="sheet-wounds sheet-no_wound" name="attr_wound_12" value="0" checked="checked" />
                    <input type="radio" class="sheet-wounds sheet-yes_wound" name="attr_wound_12" value="1" />
                    <span class="sheet-wounds sheet-yes_wound wound_2"></span>
                    <span class="sheet-wounds sheet-no_wound wound_2"></span>
                </div>
            </div>
        </div>
        <div class="grid5">
            <div class="grid_box_3"></div>
            <div class="grid_box_3 center">
                <div class="sheet-condition">
                    <input type="radio" class="sheet-condition sheet-no" name="attr_battered" value="0" checked="checked" />
                    <input type="radio" class="sheet-condition sheet-yes" name="attr_battered" value="-2" />
                    <span class="sheet-condition sheet-yes"><span data-i18n="battered">Battered</span></span>
                    <span class="sheet-condition sheet-no"><span data-i18n="battered">Battered</span></span>
                </div>
            </div>
            <div class="grid_box_3 center">
                <div class="sheet-condition">
                    <input type="radio" class="sheet-condition sheet-no" name="attr_wrenched" value="0" checked="checked" />
                    <input type="radio" class="sheet-condition sheet-yes" name="attr_wrenched" value="-2" />
                    <span class="sheet-condition sheet-yes"><span data-i18n="wrenched">Wrenched</span></span>
                    <span class="sheet-condition sheet-no"><span data-i18n="wrenched">Wrenched</span></span>
                </div>
            </div>
            <div class="grid_box_3 center">
                <div class="sheet-condition">
                    <input type="radio" class="sheet-condition sheet-no" name="attr_dazed" value="0" checked="checked" />
                    <input type="radio" class="sheet-condition sheet-yes" name="attr_dazed" value="-2" />
                    <span class="sheet-condition sheet-yes"><span data-i18n="dazed">Dazed</span></span>
                    <span class="sheet-condition sheet-no"><span data-i18n="dazed">Dazed</span></span>
                </div>
            </div>
            <div class="grid_box_3 center">
                <div class="sheet-condition">
                    <input type="radio" class="sheet-condition sheet-no" name="attr_scarred" value="0" checked="checked" />
                    <input type="radio" class="sheet-condition sheet-yes" name="attr_scarred" value="-2" />
                    <span class="sheet-condition sheet-yes"><span data-i18n="scarred">Scarred</span></span>
                    <span class="sheet-condition sheet-no"><span data-i18n="scarred">Scarred</span></span>
                </div>
            </div>
            <div class="grid_box_3">
                <input type="hidden" name="attr_battered_condition" value=""/>
                <input type="hidden" name="attr_wrenched_condition" value=""/>
                <input type="hidden" name="attr_dazed_condition" value=""/>
                <input type="hidden" name="attr_scarred_condition" value=""/>
            </div>
        </div>
    </div>
    
    <div class="sheet-row"></div>
</div>
<div>
    <rolltemplate class="sheet-rolltemplate-b7">
        <div class="sheet-row">
            <div class="sheet-item sheet-180">
                <b class="2">{{skill}}</b>
            </div>
        </div>
        <div class="sheet-row">
            <div class="sheet-item sheet-180">
                <i>{{character}}</i>
            </div>
        </div>
        <div class="sheet-row">
            <div class="sheet-item sheet-180">
                <b>Roll</b>
                <span class="tcat">{{roll}}</span>
                {{#rollGreater() roll 10}}<span class="success">Success!</span>{{/rollGreater() roll 10}}
                {{#rollLess() roll 11}}<span class="failure">Failure!</span>{{/rollLess() roll 11}}
            </div>
        </div>
        <div>
            {{#battered}} <b class="1">{{battered}}</b> <br>{{/battered}}
            {{#wrenched}} <b class="1">{{wrenched}}</b> <br>{{/wrenched}}
            {{#dazed}} <b class="1">{{dazed}}</b> <br>{{/dazed}}
            {{#scarred}} <b class="1">{{scarred}}</b> {{/scarred}}
        </div>
    </rolltemplate>
</div>


<script type="text/worker">
on("change:battered sheet:opened", function() {
    getAttrs(["battered"], function(values) {

        if (values.battered == '0') {
            setAttrs({ 
                battered_condition: ''
            })
        }
        else if (values.battered == '-2') {
            setAttrs({ 
                battered_condition: '{{battered= Battered}}'
            })
        }
    });
});
on("change:wrenched sheet:opened", function() {
    getAttrs(["wrenched"], function(values) {

        if (values.wrenched == '0') {
            setAttrs({ 
                wrenched_condition: ''
            })
        }
        else if (values.wrenched == '-2') {
            setAttrs({ 
                wrenched_condition: '{{wrenched= Wrenched}}'
            })
        }
    });
});
on("change:dazed sheet:opened", function() {
    getAttrs(["dazed"], function(values) {

        if (values.dazed == '0') {
            setAttrs({ 
                dazed_condition: ''
            })
        }
        else if (values.dazed == '-2') {
            setAttrs({ 
                dazed_condition: '{{dazed= Dazed}}'
            })
        }
    });
});
on("change:scarred sheet:opened", function() {
    getAttrs(["scarred"], function(values) {

        if (values.scarred == '0') {
            setAttrs({ 
                scarred_condition: ''
            })
        }
        else if (values.scarred == '-2') {
            setAttrs({ 
                scarred_condition: '{{scarred= Scarred}}'
            })
        }
    });
});
</script>
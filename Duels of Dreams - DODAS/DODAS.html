<!-- TABS HTML only -->
<!--
<div class="ta<!-- TABS HTML only -->

<div class="tabbuttoncontainer">
  <input type='hidden' class='sheet-tabstoggle' name='attr_sheetTab'  value='allsection'  />
  <div class="tabbutton0">
    <button class="tabbutton" type="action" name="act_allsection">ALL</button>
    </div>
  <div class="tabbutton1">
    <button class="tabbutton" type="action" name="act_wepnstab">Weapons & Armor</button>
    </div>
  <div class="tabbutton2">
    <button class="tabbutton" type="action" name="act_skillsandpoints" >SKILLS</button>
    </div>
  <div class="tabbutton3">
    <button class="tabbutton" type="action" name="act_spellstab" >SPELLS</button>
    </div>
  <div class="tabbutton4">
    <button class="tabbutton" type="action" name="act_story" >STORY</button>
    </div>
  <div class="tabbutton5">
    <button class="tabbutton" type="action" name="act_pointstab" >POINTS SPENT</button>
    </div>
  <div class="tabbutton6">
    <button class="tabbutton" type="action" name="act_inventorytabsection" >INVENTORY</button>
    </div>

</div>

<input type='hidden' class='sheet-tabstoggle' name='attr_sheetTab'  value='allsection'  />


<div class="allsection">


<div class="dodaslayout">

<!-- ATTRIBUTE TABLE instance 1 -->

  <div class="ATRTable">
    <div class="ATRTableHeader">
      <span class="emptycellTopLeft"></span>


                <div class="box">
           <a class="button" href="#popup-attributes"><span class="ATRTablePhysical">Attributes</span></a>
                </div>
          <div id="popup-attributes" class="overlay">
           <div class="popup">
             <h2>What are Attributes?</h2>
             <a class="close" href="#">×</a>
             <div class="content">
                 <p>
                   Attributes represent the fundemental building blocks of your character. These are common characterestics most people share, and are your broadest
  defining traits.
  <br><br>
  Every skill adds the modifier of one or two Attributes to a roll, or sometimes a Derived Attribute instead. Attribute modifiers are used for other things as well, particularly in combat.
  <br><br>
  <ul>
    <li>An <strong>average</strong> person starts with <strong>+0</strong> in an Attribute.</li>
    <li>A character can go up to <strong>+4 for World Class</strong> or <strong>+5 for Best in History </strong> pushing superhuman.</li>
    <li>A character can go as low as <strong>-4 for Cripplingly Bad </strong>or <strong>-5 for Worst in History</strong> or near death.</li>
      <li>The other values represent the range between these. From above average, to gifted, exceptional, impaired, etc.</li>
    </ul>
    Click on the <strong>Icon image</strong> next to each Attribute name to learn more about what each one does, or click on the <strong>(?)</strong> at the top right of the Attribute table to read the PDF with full descriptions.
                  </p>
             </div> <!-- close content -->
           </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->

      <div class="attributeDivider"></div>


      <div class="box">
 <a class="button" href="#popup-derivedattributes"><span class="ATRTableDerived">Derived</span></a>
      </div>
<div id="popup-derivedattributes" class="overlay">
 <div class="popup">
   <h2>Derived Attributes</h2>
   <a class="close" href="#">×</a>
   <div class="content">
       <p>
         Derived Attributes are attributes which are a combination of modifiers from your core primary Attributes. They work like regular Attributes, but you don’t have to spend points on them directly (though you can if you want to!).
         <br><br>
         The colored dots on the left next to each Attribute add up together, matching their colored derived attribute on the right to form a total. For example, <strong>Strength + Size = Power</strong> (the red dots).
         <br><br>
         Click on the <strong>image icon</strong> next to each derived attribute for more information on each.
        </p>
   </div> <!-- close content -->
 </div> <!-- close popup -->
</div> <!-- close id/overlay -->


      <div class="ATRTableQuestion">
      <button class="attributerollbutton" type="roll" value="[Click For Attribute Information](https://www.dropbox.com/s/llcy4cu0awgfskf/3.%20Attributes.pdf?dl=0)" name="attributeInfo">
          <span title="click for info">?</span></button>
      </div>

    </div>
 <!-- STR top row -->
    <div class="ATRTableRow">
      <div class="ATRIcon">

        <div class="box">
  	<a class="button" href="#popup-st"><img title="Strength" class="STRImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/ST%20icon.png?raw=true" width="23" height="23"></img></a>
        </div>
  <div id="popup-st" class="overlay">
  	<div class="popup">
  		<h2>Strength (ST)</h2>
  		<a class="close" href="#">×</a>
  		<div class="content">
  			<span>Strength represents your physical muscle mass and density, relative to your size.
          <br><br>
          <strong>Derived Attributes:</strong>
          <ul>
            <li><strong>Strength + Size = Power</strong> (The red dots)</li>
            <li><strong>Strength + Agility + Size = Knockdown</strong> (The brown dots)</li>
            </ul>
          <br>
          <strong>Modifiers:</strong> <i>Melee base damage, Grappling Combat Points, and various adventuring skills like Mobility, Climbing, and 'Strength Skills'.</i>
          </span>
  		</div> <!-- close content -->
  	</div> <!-- close popup -->
  </div> <!-- close popup1 id overlay -->



      </div> <!-- close ATRIcon -->




      <div class="ATRLetter">
        <button class="attributerollbutton" type="roll" value='&{template:dodasattributerolls} {{strengthattribute=Strength}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{strength}}} {{adventurerolltotal=[[2d6 + @{strength}]]}}' name="roll_Strength">
          <span title="Roll Strength">Strength</span></button>
      </div>

      <div class="ATRNumber">
        <input type="number" name="attr_strength" placeholder="0">
      </div>

    <div class="attributesDivider">
      <img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/dotsLeft.png?raw=true" style="position:relative; left:-2px; top: 1px; height: 116px; width: 5px;"></div>


      <div class="derivedATRLetter">
            <button class="derivedattributerollbutton" type="roll" value='&{template:dodasattributerolls} {{powerattribute=Power}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{power}}} {{adventurerolltotal=[[2d6 + @{power}]]}}' name="roll_Power">
              <span title="Power">Power</span></button>
          </div>
<div class="derivedATRNumber">
            <input type="number" name="attr_power" style="font-weight: bold;" placeholder="0">
          </div>

    <div class="ATRIcon">
      <div class="box">
        <a class="button" href="#popup-power"><img title="Power" class="PWImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/power%20icon%20white%20border.png?raw=true" width="23" height="23"></img></a>
      </div> <!-- close box -->
      <div id="popup-power" class="overlay">
        <div class="popup">
          <h2>Power</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>Effective “strength” including size.
              <br><br>
              <ul>
              <li><strong>Size + Strength</strong></li>
              <li><strong>Modifiers:</strong> <i>same as Strength: melee combat base damage, overpower, grapple, lift capacity, intimidate</i></li>
                </ul>
            </p>
          </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->


      </div> <!-- close ATRIcon -->

    </div> <!-- close ATRTableRow -->


    <div class="ATRTableRow">

      <div class="ATRIcon">

        <div class="box">
  	<a class="button" href="#popup-agility"><img title="Agility" class="AGIImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/AGI%20Icon.png?raw=true" width="23" height="23"></img></a>
        </div>
  <div id="popup-agility" class="overlay">
  	<div class="popup">
  		<h2>Agility (AGI)</h2>
  		<a class="close" href="#">×</a>
  		<div class="content">
  			<span>Agility represents how fast, agile, mobile, quick on your feet, and dexterous you are.
          <br><br>
          <strong>Derived Attributes:</strong>
          <ul>
            <li><strong>5 + Agility + Size = Move</strong> (The blue dots)</li>
            <li><strong>Strength + Agility + Size = Knockdown</strong> (The brown dots)</li>
            <li><strong>Agility + Wit = Reflex</strong> (The green dots)</li>
            <li>Your starting Combat Points are based on your <strong>Action Points</strong> (AP) modifier, which is <strong>4 + Reflex</strong>. Thus, Agility adds directly to your attack and defense.</li>
            </ul>
          <br>
          <strong>Modifiers:</strong> <i>Move, Reflex, Action Points, Weapons skills, Mobility, Knockdown</i>
          </span>
  		</div> <!-- close content -->
  	</div> <!-- close popup -->
  </div> <!-- close popup1 id overlay -->



      </div>

      <div class="ATRLetter">
        <button class="attributerollbutton" type="roll" value='&{template:dodasattributerolls} {{agilityattribute=Agility}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{agility}}} {{adventurerolltotal=[[2d6 + @{agility}]]}}' name="roll_agilitybutton">

          <span title="Roll Agility">Agility</span></button>
      </div>
      <div class="ATRNumber">
        <input type="number" name="attr_agility" value="0">
      </div>

   <div class="attributeDivider"></div>

       <div class="derivedATRLetter">
          <button class="derivedattributerollbutton" type="roll" value='&{template:dodasattributerolls} {{moveattribute=Move}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{movement}}} {{adventurerolltotal=[[2d6 + @{movement}]]}}' name="roll_movebutton">
            <span title="Movement speed in 5ft spaces">Move</span></button>
          </div>
          <div>
            <input type="number" name="attr_movement" style=" font-weight: bold;" placeholder="5">
          </div>

<div class="ATRIcon">

  <div class="box">
    <a class="button" href="#popup-move"><img class="MoveImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/Move%20Icon%20whit%20border.png?raw=true" width="23" height="23"></img></a>
  </div> <!-- close box -->
  <div id="popup-move" class="overlay">
    <div class="popup">
      <h2>Movement (Move)</h2>
      <a class="close" href="#">×</a>
      <div class="content">
        <p>How quickly you move. How fast you are.
          <br><br>
          <ul>
          <li><strong>5 + Agility + Size</strong></li>
          <li><strong>Modifiers:</strong> <i>How many <strong>spaces</strong> you can move in a round of combat. The 'chase' skill specialization of 'Mobility'</i></li>
            </ul>
        </p>
      </div> <!-- close content -->
    </div> <!-- close popup -->
  </div> <!-- close popup1 id overlay -->


      </div>


    </div>

    <div class="ATRTableRow"> <!-- Toughness and Body row -->

      <div class="ATRIcon">

              <div class="box">
        	<a class="button" href="#popup-toughness"><img title="Toughness" class="TGHImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/TH%20Icon.png?raw=true" width="23" height="23"></img></a>
              </div>
        <div id="popup-toughness" class="overlay">
        	<div class="popup">
        		<h2>Toughness (TGH)</h2>
        		<a class="close" href="#">×</a>
        		<div class="content">
        			<span>Your endurance, grit, resilience, and possibly muscle mass to resist damage.
                <br><br>
                <strong>Derived Attributes:</strong>
                <ul>
                  <li><strong>Toughness + Size = Body</strong> (The light blue dots)</li>
                  <li><strong>Toughness + Willpower = Knockout</strong> (The purple dots)</li>
                  </ul>
                <strong>Modifiers:</strong> <i>Damage Reduction, Knockout, Endurance rolls, saving throws</i>
                </span>
        		</div> <!-- close content -->
        	</div> <!-- close popup -->
        </div> <!-- close popup1 id overlay -->


      </div>

      <div class="ATRLetter">
        <button class="attributerollbutton" type="roll" value='&{template:dodasattributerolls} {{toughnessattribute=Toughness}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{toughness}}} {{adventurerolltotal=[[2d6 + @{toughness}]]}}' name="roll_toughnessbutton">
          <span title="Roll Toughness">Toughness</span></button>
      </div>

      <div class="ATRNumber">
        <input type="number" name="attr_toughness" style=" font-weight: bold;" placeholder="0">
      </div>

 <div class="attributeDivider"></div>

      <div class="derivedATRLetter">
            <button class="derivedattributerollbutton" type="roll" value='&{template:dodasattributerolls} {{bodyattribute=Body}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{body}}} {{adventurerolltotal=[[2d6 + @{body}]]}}' name="roll_bodybutton">
              <span title="Roll Body">Body</span></button>
            </div>
          <div class="derivedATRNumber">
            <input type="number" name="attr_body" style=" font-weight: bold;" placeholder="0">
          </div>

  <div class="ATRIcon">

    <div class="box">
      <a class="button" href="#popup-body"><img title="Body" class="BDImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/BD%20Icon%20white%20border.png?raw=true" width="23" height="23"></img></a>
    </div> <!-- close box -->
    <div id="popup-body" class="overlay">
      <div class="popup">
        <h2>Body</h2>
        <a class="close" href="#">×</a>
        <div class="content">
          <p>How big and tough you are, and how difficult to wound
            <br><br>
            <ul>
            <li><strong>Toughness + Size</strong></li>
            <li><strong>Modifiers:</strong> <i><strong>Damage reduction</strong>, and sometimes poison or magic resistance</li>
              </ul>
          </p>
        </div> <!-- close content -->
      </div> <!-- close popup -->
    </div> <!-- close popup1 id overlay -->


      </div>

    </div>

        <div class="ATRTableRow">

          <div class="ATRIcon">

            <div class="box">
        <a class="button" href="#popup-size"><img title="Size" class="SZImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/SZ%20Icon.png?raw=true" width="23" height="23"></img></a>
            </div>
      <div id="popup-size" class="overlay">
        <div class="popup">
          <h2>Size (SZ)</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <span>How big, tall, wide, etc. you are. An average ~6ft tall adult male human is +0 Size.
              <br><br>
              <p><strong>Size modifier</strong> increases or decreases at increments of approximately 1 foot, rounded to the closest foot, per +/-1. Thus, a 7 foot tall, or 6”8’ person is size +1, a 4”10’ to 5”4’ is size -1, etc. If your character is exceptionally bulky, wide, muscular, fat, etc., or exceptionally thin or lanky, their size might reflect this as well.</p>
              <br><br>
              <strong>Derived Attributes:</strong>
              <ul>
                <li><strong>Strength + Size = Power</strong> (The red dots)</li>
                <li><strong>Agility + Size = Move</strong> (The blue dots)</li>
                <li><strong>Toughness + Size = Body</strong> (The light blue/gray dots)</li>
                <li><strong>Strength + Size + Agility = Knockdown</strong> (The brown dots)</li>

                </ul>
              <br>
              <strong>Modifiers:</strong> <i>Power, Body, and move. Negative to range TN and stealth</i>
              <br><br>
              Size costs 2x the points of other attributes, since it adds to so many things, and is about as cost effective as +1 in both Strength and Toughness.
              </span>
          </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->


      </div>

          <div class="ATRLetter">
              <button class="attributerollbutton" type="roll" value='&{template:dodasattributerolls} {{sizeattribute=Size}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{size}}} {{adventurerolltotal=[[2d6 + @{size}]]}}' name="roll_sizebutton">
            <span title="Size">Size</span></button>
          </div>
          <div class="ATRNumber">
            <input type="number" name="attr_size" style=" font-weight: bold;" placeholder="0" min="-6">
          </div>

 <div class="attributeDivider"></div>

           <div class="derivedATRLetter">
        <button class="derivedattributerollbutton" type="roll" value='&{template:dodasattributerolls} {{knockdownattribute=Knockdown}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{knockdown}}} {{adventurerolltotal=[[2d6 + @{knockdown}]]}}' name="roll_knockdownbutton">
          <span title="Roll Knockdown">Knockdown</span></button>
        </div>
      <div class="derivedATRNumber">
        <input type="number" name="attr_knockdown" style=" font-weight: bold;" placeholder="0">
      </div>

      <div class="ATRIcon">

                <div class="box">
        <a class="button" href="#popup-knockdown"><img title="Knockdown" class="KNDImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/KN%20Icon%20white%20border.png?raw=true" width="23" height="23"></img></a>
        </div>
        <div id="popup-knockdown" class="overlay">
          <div class="popup">
            <h2>Knockdown (KN)</h2>
            <a class="close" href="#">×</a>
            <div class="content">
              <span>Your overall stability, mobility, and balance. How hard you are to knockdown!
                <br>
                <br>
                <strong>Modifiers:</strong> <i>Knockdown rolls in combat, jumping, climbing, chase rolls</i>
              </span>
            </div> <!-- close content -->
          </div> <!-- close popup -->
        </div> <!-- close popup1 id overlay -->


      </div>

        </div>

<!-- WP ROW -->
        <div class="ATRTableRow">

           <div class="ATRIcon">

             <div class="box">
         <a class="button" href="#popup-willpower"><img title="Willpower" class="WPImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/WP%20Icon.png?raw=true" width="23" height="23"></img></a>
             </div>
       <div id="popup-willpower" class="overlay">
         <div class="popup">
           <h2>Willpower (WP)</h2>
           <a class="close" href="#">×</a>
           <div class="content">
             <span>Your mental resolve, drive, discipline, and will.
               <br><br>
               <p>Willpower's primary use is to increase your starting <strong>Resolve</strong> points, which can be used to dramatically change the outcome of a roll and potentially an entire fight.
                 </p>
                 <br>
               <strong>Derived Attributes:</strong>
               <ul>
                 <li><strong>Starting Resolve</strong> (See the resolve table for more info)</li>
                 <li><strong>Willpower + Toughness = Knockout</strong> (The purple dots)</li>

                 </ul>
               <br>
               <strong>Modifiers:</strong> <i>Pain resistance, KO, Resolve points, saves, Social: Resist fear/intimidate/taunt, Social: Presence, optional casting modifier</i>
                              </span>
           </div> <!-- close content -->
         </div> <!-- close popup -->
       </div> <!-- close popup1 id overlay -->


      </div>


          <div class="ATRLetter">
        <button class="attributerollbutton" type="roll" value='&{template:dodasattributerolls} {{willpowerattribute=Willpower}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{willpower}}} {{adventurerolltotal=[[2d6 + @{willpower}]]}}' name="roll_willpowerbutton">
          <span title="Roll Willpower">Willpower</span></button>
      </div>

      <div class="ATRNumber">
        <input type="number" name="attr_willpower" placeholder="0">
      </div>

 <div class="attributeDivider"></div>

          <div class="derivedATRLetter">
            <button class="derivedattributerollbutton" type="roll" value='&{template:dodasattributerolls} {{knockoutattribute=Knockout}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{knockout}}} {{adventurerolltotal=[[2d6 + @{knockout}]]}}' name="roll_knockoutbutton">
              <span title="Roll Knockout">Knockout</span></button>
          </div>
          <div class="derivedATRNumber">
            <input class="" type="number" name="attr_knockout" style=" font-weight: bold;" placeholder="0">
          </div>

      <div class="ATRIcon">

                <div class="box">
        <a class="button" href="#popup-knockout"><img title="Knockout" class="KOImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/KO%20Icon%20white%20border.png?raw=true" width="23" height="23"></img></a>
        </div>
        <div id="popup-knockout" class="overlay">
          <div class="popup">
            <h2>Knockout (KO)</h2>
            <a class="close" href="#">×</a>
            <div class="content">
              <span>Your persistance, durability, and ability to stay conscious.
                <br>
                <br>
                <strong>Modifiers:</strong> <i>Knockout rolls (primarily blows to the head), saving throws</i>
              </span>
            </div> <!-- close content -->
          </div> <!-- close popup -->
        </div> <!-- close popup1 id overlay -->


      </div>

        </div>


  <!-- WT Row -->
  <div class="ATRTableRow">

     <div class="ATRIcon">

               <div class="box">
          <a class="button" href="#popup-wit"><img title="Wit" class="WITImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/WT%20Icon.png?raw=true" width="23" height="23"></img></a>
        </div>
        <div id="popup-wit" class="overlay">
          <div class="popup">
            <h2>Wit</h2>
            <a class="close" href="#">×</a>
            <div class="content">
              <span>Your mental quickness, reaction time, awareness, and social cunning
                <br><br>
                <strong>Derived Attributes:</strong>
                <ul>
                  <li><strong>Agility + Wit = Reflex</strong> (The green dots)</li>
                  <li><strong>4 + Reflex = Action Points</strong> (Your starting base Combat Points)</li>
                </ul>
                <br>
                <strong>Modifiers:</strong> <i>Reflex, Perception, Social: Wit, Survival</i>
              </span>
            </div> <!-- close content -->
          </div> <!-- close popup -->
        </div> <!-- close popup1 id overlay -->


      </div>

      <div class="ATRLetter">
        <button class="attributerollbutton" type="roll" value='&{template:dodasattributerolls} {{witattribute=Wit}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{wit}}} {{adventurerolltotal=[[2d6 + @{wit}]]}}' name="roll_witbutton">
          <span title="Roll Wit">Wit</span></button>
      </div>
      <div class="ATRNumber">
        <input type="number" name="attr_wit" style=" font-weight: bold;" value="0" min="-5" max="5">
      </div>

 <div class="attributeDivider"></div>

        <div class="derivedATRLetter">
        <button class="derivedattributerollbutton" type="roll" value='&{template:dodasattributerolls} {{reflexattribute=Reflex}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{reflex}}} {{adventurerolltotal=[[2d6 + @{reflex}]]}}' name="roll_reflexbutton">
          <span title="Roll Reflex">Reflex</span></button>
      </div>
      <div class="derivedATRNumber">
        <input type="number" name="attr_reflex" value="0">
      </div>

      <div class="ATRIcon">

                <div class="box">
          <a class="button" href="#popup-reflex"><img title="Reflex" class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/AP%20Icon%20white%20border.png?raw=true" width="23" height="23"></img></a>
        </div>
        <div id="popup-reflex" class="overlay">
          <div class="popup">
            <h2>Reflex (REF)</h2>
            <a class="close" href="#">×</a>
            <div class="content">
              <span>Your reaction time, reflexes, speed and acuity.
                <br>
                <br>
                <strong>Reflex + 4 = Action Points</strong>
                <br>
                <br>
                <strong>Modifiers:</strong> <i>Initiative (Turn Order), Action Points, Reflex Rolls</i>
              </span>
            </div> <!-- close content -->
          </div> <!-- close popup -->
        </div> <!-- close popup1 id overlay -->


      </div>

        </div>
  <!-- IN Row -->

    <div class="ATRTableRow">

      <div class="ATRIcon">

                    <div class="box">
            <a class="button" href="#popup-intelligence"><img title="Intelligence" class="INTImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/INT%20Icon.png?raw=true" width="23" height="23"></img></a>
            </div>
            <div id="popup-intelligence" class="overlay">
              <div class="popup">
                <h2>Intelligence (Int)</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <span>Your book smarts, memory, knowledge retention, and learning ability
                    <br><br>
                    <strong>Derived Attributes:</strong>
                    <ul>
                      <li><strong>None</strong></li>
                    </ul>
                    <br>
                    <strong>Modifiers:</strong> <i>Knowledge, Medicine, Mechanical Devices, Survival, a few maneuvers, optioncal casting stat.</i>
                    <br><br>
                    Intelligence is primarily an Adventuring Skills stat. You can spend your Adventuring Skill points to increase your Intelligence.
                  </span>
                </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->


      </div>

          <div class="ATRLetter">
            <button class="attributerollbutton" type="roll" value='&{template:dodasattributerolls} {{intelligenceattribute=Intelligence}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{intelligence}}} {{adventurerolltotal=[[2d6 + @{intelligence}]]}}' name="roll_intelligencebutton"
>
              <span title="Roll Intelligence">Intelligence</span></button>
          </div>
          <div class="ATRNumber">
            <input type="number" name="attr_intelligence" style=" font-weight: bold;" placeholder="0">
          </div>

 <div class="attributeDivider"></div>

          <div class="derivedATRLetter">
<button class="derivedattributerollbutton" type="roll" value='&{template:dodas} {{name=@{character_name} ActionPoints}} {{info=4+REF, or Reflex. Action points are your base Combat Points or CP, used for attack and defense rolls. Final CP is calculated by adding your skill modifier of whatever weapon is equipped, to your AP, and then adding any AP modifiers from the weapon equipped. Fill in in the CP column of the Weapon Table.}}' name="roll_actionpointsbutton">

        <span title="Action Points (Base CP)">Action Points</span>


      </div>
      <div class="derivedATRNumber">
        <input type="number" name="attr_actionpoints" style=" font-weight: bold;" placeholder="4">
      </div>

      <div class="ATRIcon">

                  <div class="box">
            <a class="button" href="#popup-actionpoints"><img title="Action Points (BaseCP)" class="APImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/CP%20Icon%20white%20border.png?raw=true" width="23" height="23"></img></a>
          </div>
          <div id="popup-actionpoints" class="overlay">
            <div class="popup">
              <h2>Action Points (AP)</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <span>Your base Combat Points, and thus how much you can attack, defend, and take actions during combat.
                  <br>
                  <br>
                  <strong>Reflex + 4 = Action Points</strong>
                </span>
              </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->


      </div>

        </div>

  <!-- final table div? -->
        </div>



  <!-- move stuff temporary -->



<!-- flex container resolve and initiative -->
<div class="resolve_initiative_flexcontainer">

<!-- RESOLVE Fatigue table -->
 <div class="resolvetable">
     <div class="resolvetabletoprow">
         <span class="resolveemptycell"><img class="WPImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/WP%20Icon.png?raw=true" width="23" height="23"></img></span>
         <span class="resolveemptycell"><img class="WPImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/TH%20Icon.png?raw=true" width="23" height="23"></img></span>
         <span title="Relevant Attribute" class="resolvewp">ATR</span>
         <span title="Free starting Resolve" class="resolvestart">Free</span>
         <span title="Maximum starting Resolve" class="resolvemax">Max</span>
         <span title="spendable resolve left" class="resolvecurrent">Current</span>
         <span title="temporary Resolve" class="resolvetemporary">Temp</span>
     </div>

     <div class="resolvetablesecondrow">

         <span title="spend for rerolls or to add 1d6" class="resolveword">

           <div class="box">
             <a class="button" href="#popup-resolve">Resolve (WP)</a>
           </div> <!-- close box -->
           <div id="popup-resolve" class="overlay">
             <div class="popup">
               <h2>Resolve</h2>
               <a class="close" href="#">×</a>
               <div class="content">
                 <p>Resolve represents the extra drive, determination, and willpower to succeed at something against all odds. It is a mechanical point pool used to improve rolls. Resolve ebbs and flows, and in some ways represents your character’s emotional core and morale.
                 </p>
                 <br><p>
                 Each character starts with 1 point of resolve <strong>per +1 in Willpower</strong>. Resolve is also <strong>awarded during gameplay</strong> by the GM, for a variety of reasons. You also get <strong>1 resolve for free</strong>, for being main characters. <i>The amount of free starting resolve sometimes varies depending on how heroic or gritty the game setting is.</i>
                 </p><br>
                 You can <strong>spend</strong> resolve, only <strong>after a roll is made</strong> to...
                 <ul>
                   <li><strong>Re-roll any roll</strong> and take the higher of the two results. This includes standard 2d6 rolls, or rolls that only use 1d6, such as damage rolls.</li>
                   <li><strong>add a d6 to a roll total</strong>. You can stack this multiple times, sometimes for very dramatic results. </li>
                   <ul>
                     You <strong>regain all resolve points</strong> after a full night's sleep, at the start of each adventuring day.
               </div> <!-- close content -->
             </div> <!-- close popup -->
           </div> <!-- close popup1 id overlay -->
           </span>

         <input type="number" name="attr_resolvewillpowernumber" placeholder="0">
         <input type="number" name="attr_resolvestartnumber" value="1">
         <input type="number" name="attr_resolvemaxnumber" value="1">
         <input type="number" name="attr_resolvecurrentnumber" placeholder="1">
         <input type="number" name="attr_resolvetemporarynumber" placeholder="0">
     </div>

 <div class="resolvetablethirdrow">
         <span title="experimental tracking fatigue, stamina, and exhaustion" class="fatigueword">

           <div class="box">
             <a class="button" href="#popup-stamina">Stamina (TH)</a>
           </div> <!-- close box -->
           <div id="popup-stamina" class="overlay">
             <div class="popup">
               <h2>Stamina</h2>
               <a class="close" href="#">×</a>
               <div class="content">
                 <p>Your physical endurance and stamina.
                   </p><br>
                   Losing Stamina points represents instances of significant physical exertion, bangs and bruises and stress on your body, and sometimes mental wear and tear. Mechanically speaking speaking this might represent a <strong>strenuous activity</strong> like a long hike or climb, a <strong>failed adventuring skill roll</strong> from wasted effort or complications, or miscellaneous instances determined by your GM.
                   <br><br>
                   <ul>
                     <li>Max <strong>starting Stamina = 2 + Toughness</strong> Attribute</li>
                     <li>If you ever lose Stamina, you can <strong>choose to lose a resolve instead</strong> (if you have any left).</li>
                  </ul>
                     <strong>Negative Stamina</strong> is called <strong>Fatigue</strong>. Each fatigue point incurs a <strong>-1 to all derived attributes.</strong>
                     <ul>
                       <li>This includes Move, as well as Intelligence, and any singular attribute rolls (such as a WP roll). This doesn't apply to Derived Attributes more than once (so a -1 to REF is still only -1 to AP as well).
                         </li>
                         </ul>
                    You <strong>regain Stamina</strong> (or lose fatigue), by resting. Usually, a full night's sleep restores your Stamina. Your GM has more information on Stamina loss and recovery.
               </div> <!-- close content -->
             </div> <!-- close popup -->
           </div> <!-- close popup1 id overlay -->
           </span>

         <input type="number" name="attr_fatiguetoughnessnumber" placeholder="0">
         <input type="number" name="attr_fatiguestartnumber" value="2">
         <input type="number" name="attr_fatiguemaxnumber" value="2">
         <input type="number" name="attr_fatiguecurrentnumber" placeholder="2">
         <input type="number" name="attr_fatiguetemporarynumber" placeholder="0">
     </div>

 </div>


 <!-- Initiative Table -->
 <div class="initiativetable">
     <div class="initiativetabletoprow">
         <span class="initiativeemptycell"><img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/AP%20Icon%20white%20border.png?raw=true" width="23" height="23"></img></span>
         <span title="Reflex starting attribute" class="initiativeref">REF</span>
         <span title="Skill modifier to initiative" class="initiativeskill">Skill</span>
         <span class="initiativetotal">Total</span>
         <span class="initiativeroll">Roll</span>
</div>

     <div class="initiativetablesecondrow">
<span title="Determines combat order" class="initiativeword">
           <div class="box">
             <a class="button" href="#popup-Initiative">Initiative</a>
           </div> <!-- close box -->
           <div id="popup-Initiative" class="overlay">
             <div class="popup">
               <h2>Initiative</h2>
               <a class="close" href="#">×</a>
               <div class="content">
                 <p>Initiative is rolled to determine the <strong>turn order</strong> each combatant takes in combat, with high rolls going first. It is usually rolled at the start of combat, or used as part of an <strong>interrupt</strong> maneuver.
                   <br><br>
                   Your Reflex modifier is your starting Initiative. You can directly increase your Initiative skill during character creation for <strong>3 points per +1</strong>.
                 </p>
               </div> <!-- close content -->
             </div> <!-- close popup -->
           </div> <!-- close popup1 id overlay -->
</span>
         <input type="number" name="attr_initiativereflexnumber" placeholder="0">
         <input type="number" name="attr_initiativeskillnumber" value="0">
         <input type="number" name="attr_initiativetotalnumber" value="1">
         <span>
             <button class="sheet-d6-dice" type="roll" value='&{template:dodasattributerolls} {{reflexattribute=Initiative}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{initiativetotalnumber}}} {{adventurerolltotal=[[2d6 + @{initiativetotalnumber}]]}}' name="roll_initiativebutton">
             </button>
                      </span>

     </div>
    </div>

<!-- SPECIAL ROLL TABLE -->
    <div class="specialrollstable">
      <div class="specialrollsrow">
        <span class="specialrollstitle">

          <div class="box">
            <a class="button" href="#popup-1d6specialrolls">1d6 Rolls</a>
          </div> <!-- close box -->
          <div id="popup-1d6specialrolls" class="overlay">
            <div class="popup">
              <h2>Special Rolls (1d6)</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p><strong>Special Rolls</strong> are rolls that only use <strong>1d6</strong>, instead of the usual 2d6. There are only a handful of rolls in the game that make this exception. These are almost entirely rolls made during combat, used to resist some negative effect. Or a Resolve roll.
                  <br><br>
                  Special Roll types:
                  <ul>
                  <li><strong>Resolve:</strong> You can spend a resolve to add 1d6 to any roll (except damage).</li>
                  <li><strong>Blood Loss (BL):</strong>  Roll this at the beginning of your turn vs. your cumulative wound total, if you've taken any cutting or piercing wounds. The roll is at -2 if any of your wounds are from piercing damage.</li>
                  <li><strong>Power:</strong> Roll to resist disarm, and a few different maneuvers</li>
                  <li><strong>Knockdown:</strong> Roll to resist being tripped or knocked down, usually from the trip maneuver or from blows to the legs.</li>
                  <li><strong>Knockout:</strong> Use to stay conscious from blunt blows to the head, or during exhausting activities</li>
                    </ul>
                </p>
              </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

          <span class="specialimgicon"><!-- KO -->
            <button class="derivedattributerollbutton" type="roll" value='&{template:dodasbloodloss} {{resolveicon=Resolve}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{knockout}}} {{adventurerolltotal=[[1d6]]}}' name="roll_Resolveextrad6">
            <img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/resolve-purple-and-gradient.png?raw=true" width="23" height="21">
          </span>
        <span class="specialimgicon"><!--BL-->
          <button class="derivedattributerollbutton" type="roll" value='&{template:dodasbloodloss} {{bloodlossicon=Blood Loss}} {{subtags=@{character_name}}} {{adventurerolltotal=[[1d6]]}}' name="roll_Bloodlossspecial">
    <img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/BL_140.png?raw=true" width="23" height="21">
    </button>
        </span>
        <span class="specialimgicon">
          <button class="derivedattributerollbutton" type="roll" value='&{template:dodasspecialrolls} {{powerspecialicon=Power Special}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{power}}} {{adventurerolltotal=[[1d6 + @{power}]]}}' name="roll_Powerspecial">
          <img class="REFImg" src="https://imgsrv.roll20.net?src=https%3A//github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/power%2520icon%2520white%2520border.png%3Fraw%3Dtrue" width="23" height="21">
          </button>
        </span>
        <span class="specialimgicon"><!-- KN -->
          <button class="derivedattributerollbutton" type="roll" value='&{template:dodasspecialrolls} {{knockdownspecialicon=Knockdown Special}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{knockdown}}} {{adventurerolltotal=[[1d6 + @{knockdown}]]}}' name="roll_Knockdownspecial">
          <img class="REFImg" src="https://imgsrv.roll20.net?src=https%3A//github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/KN%2520Icon%2520white%2520border.png%3Fraw%3Dtrue" width="23" height="21">
        </span>
        <span class="specialimgicon"><!-- KO -->
          <button class="derivedattributerollbutton" type="roll" value='&{template:dodasspecialrolls} {{knockoutspecialicon=Knockout Special}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{knockout}}} {{adventurerolltotal=[[1d6 + @{knockout}]]}}' name="roll_Knockoutspecial">
          <img class="REFImg" src="https://imgsrv.roll20.net?src=https%3A//github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/KO%2520Icon%2520white%2520border.png%3Fraw%3Dtrue" width="23" height="21">
        </span>

        </div>
    </div>


</div> <!-- close flex container -->

<div class="passives_luck_flexcontainer">



<!-- LUCK SANITY TABLE -->
<div class="lucksanitytable">
     <div class="lucksanitytabletoprow">
         <span class="lucksanitycell"><img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/terror.png?raw=true" width="23" height="23"></span>
         <span class="lucksanityMax">Start</span>
         <span class="lucksanityLoss">Loss</span>
         <span class="lucksanityCurrent">Current</span>
         <span class="lucksanitycell">Roll</span>
     </div>

     <div class="lucksanitytablesecondrow">
         <span title="character luck outside of their control" class="luckword">
           <div class="box">
           <a class="button" href="#popup-luck">Luck</a>
         </div> <!-- close box -->
         <div id="popup-luck" class="overlay">
           <div class="popup">
             <h2>Luck</h2>
             <a class="close" href="#">×</a>
             <div class="content">
               <p>Luck represents your characters good fortune, a useful coincidence, etc. outside the scope of character choices and skill. It's something (usually) the GM rolls in secret, though they may ask you to roll. A luck roll is 2d6+ your 'current' luck modifier, against a TN of 8 usually.
                 <br><br>
                 At character creation, you can purchase <strong>+1 luck for 3 points</strong>. Otherwise, a character starts at +0 by default.
          <br><br>
           You can spend luck during a session in moments of importance. You can do so to…
          <ul>
            <li><strong>Add +1</strong> to any roll per 1 luck spent</li>
            <li>Avoid the consequences of a <strong>critical failure</strong> by turning it into a 3 (instead of 2 1’s).</li>
            <li>Automatically succeeding on a <strong>blood loss roll</strong> if already unconscious</li>
          </ul>

Once <strong>spent</strong>, your luck modifier is lowered by 1 for the rest of the game session. Luck resets with each new session.
               </p>
             </div> <!-- close content -->
           </div> <!-- close popup -->
         </div> <!-- close popup1 id overlay -->
       </span>

         <input type="number" name="attr_luckmax" placeholder="0">
         <input type="number" name="attr_luckloss" placeholder="0">
         <input type="number" name="attr_luckcurrent" placeholder="0">
         <span>
             <button class="sheet-d6-dice" type="roll" value='&{template:dodaslucksanityrolls} {{luckattribute=Luck}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{luckcurrent}}} {{adventurerolltotal=[[2d6 + @{luckcurrent}]]}}' name="roll_luckbutton"></button>
                      </span>
     </div>

     <div class="lucksanitytablethirdrow">
         <span title="sanity, mental welness, or insanity!" class="sanityword">
           <div class="box">
           <a class="button" href="#popup-sanity">Sanity</a>
         </div> <!-- close box -->
         <div id="popup-sanity" class="overlay">
           <div class="popup">
             <h2>Sanity</h2>
             <a class="close" href="#">×</a>
             <div class="content">
               <p>Sanity represents your mental ability to withstand witnessing horrors and experiencing trauma. It is an optional rule, usually used in a horror game setting.
                 <br><br>
                 Starting Sanity is equal to your <strong>Willpower Modifier</strong>.
          <br><br>
           The GM may ask you to make a sanity roll:
          <ul>
            <li>Roll <strong>2d6 + your sanity modifier</strong> vs. a target number set by the GM</li>
            <li>Resolve and luck can <strong>not</strong> be used to improve a sanity roll.</li>
            <li><strong>Success</strong> means you may continue acting normally</li>
            <li><strong>Failure</strong> means something else awful happens, likely involuntary. You also <strong>lose sanity points.</strong></li>
          </ul>
            The rest of the details on sanity and the consequences of failed rolls are best left up to your GM. They may vary by setting, in flavor description, and may be more potent if their results are unknown.
               </p>
             </div> <!-- close content -->
           </div> <!-- close popup -->
         </div> <!-- close popup1 id overlay -->
         </span>
         <input type="number" name="attr_sanitymax" placeholder="0">
         <input type="number" name="attr_sanityloss" placeholder="0">
         <input type="number" name="attr_sanitycurrent" placeholder="0">
         <span>
             <button class="sheet-d6-dice" type="roll" value='&{template:dodaslucksanityrolls} {{sanityattribute=Sanity}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{sanitycurrent}}} {{adventurerolltotal=[[2d6 + @{sanitycurrent}]]}}' name="roll_sanitybutton"></button>
                      </span>
     </div>

 </div>

 <!-- Passive Perception Table -->
 <div class="passiveperceptiontable">

   <div class="passiveperceptiontabletoprow">
     <div class="passiveperceptionsimage">

       <div class="box">
         <a class="button" href="#popup-passiveperceptiontable"><img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/WT%20Icon.png?raw=true" width="23" height="23"></img></a>
       </div>
         <div id="popup-passiveperceptiontable" class="overlay">
          <div class="popup">
            <h2>Passive Perception Table</h2>
            <a class="close" href="#">×</a>
            <div class="content">
                <p>
                Passive score totals are used passively, in that you as a player don't roll anything. They are compared against a DC of something in the environment, like a trap or hidden object, to determine if you notice something. Sometimes an opposed roll is made instead, which must beat your passive score to succeed.
                <br><br>
                Passive scores start with a <strong>base value of 7</strong> (equal to an average die roll), and then add your Wit + your skill modifier.
                <br><br>
                <ul>
                  <li><strong>Passive Perception</strong> is your general <i>Perception</i> skill. </li>
                    <li><strong>Enemy Detection</strong> is used against <i>Stealth</i> rolls. It's an optional <b><i>specialization</i></b> of <strong>Perception</strong>. </li>
                      <li><strong>Passive Insight</strong> is used to determine if someone is lying or hiding something. It's an optional <b><i>specialization</i></b> of <strong>Social: Wit</strong>.</li>
                 </p>
            </div> <!-- close content -->
          </div> <!-- close popup -->
         </div> <!-- close popup1 id overlay -->


       </div>
     <span class="passiveperceptiontotal">Total</span>
     <span class="passiveperceptionwit">WIT</span>
          <span class="passiveperceptionskill">Skill</span>
          <span class="passiveperceptionbase">Base</span>

 </div>

      <div class="passiveperceptiontableinputrow">
          <span title="used to notice hidden things, traps, etc." class="passiveperceptionword">

            <div class="box">
              <a class="button" href="#popup-passiveperception">Passive Perception</a>
            </div>
              <div id="popup-passiveperception" class="overlay">
               <div class="popup">
                 <h2>Passive Perception</h2>
                 <a class="close" href="#">×</a>
                 <div class="content">
                     <p>
                     Passive Perception is used to detect traps, secret doors, things hidden in the environment, etc.
                     <br><br>
                     Passive Perception starts with a <strong>base value of 7</strong>, and then adds your Wit + your skill modifier in the adventuring skill group <strong>Perception</strong>.

                      </p>
                 </div> <!-- close content -->
               </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->

              </span>
        <input type="number" name="attr_passiveperceptiontotalnumber" value="7">
        <input type="number" name="attr_passiveperceptionwitnumber" placeholder="0">
          <input type="number" name="attr_passiveperceptionskillnumber" placeholder="0">
          <input type="number" name="attr_passiveperceptionbasenumber" value="7">

         </div>

       <div class="passiveperceptiontableinputrow">
             <span title="number opponents roll stealth against" class="enemydetectionword">

               <div class="box">
                 <a class="button" href="#popup-enemydetection">Enemy Detection</a>
               </div>
                 <div id="popup-enemydetection" class="overlay">
                  <div class="popup">
                    <h2>Enemy Detection</h2>
                    <a class="close" href="#">×</a>
                    <div class="content">
                        <p>
                        Used to notice enemies using stealth, or who otherwise might not be seen or heard, etc. Primarily used as an opposed roll, where the "enemy" rolls <strong>Stealth</strong> and tries to beat your <strong>Enemy Detection</strong> score.
                        <br><br>
                        Enemy Detection starts with a <strong>base value of 7</strong>, and then adds your Wit + your skill modifier in the optional <strong>Enemy Detection</strong> <i>specialization</i> of <strong>Perception</strong>. If there is no specialization, this defaults to just using <strong>Passive Perception</strong> instead.
                         </p>
                    </div> <!-- close content -->
                  </div> <!-- close popup -->
                 </div> <!-- close popup1 id overlay -->
</span>
         <input type="number" name="attr_enemydetectiontotalnumber" value="7">
         <input type="number" name="attr_enemydetectionnwitnumber" placeholder="0">
             <input type="number" name="attr_enemydetectionskillnumber" placeholder="0">
             <input type="number" name="attr_enemydetectionbasenumber" value="7">

            </div>

       <div class="passiveperceptiontableinputrow">
            <span title="used to passively notice a lie or social cue" class="passiveinsightword">
              <div class="box">
                <a class="button" href="#popup-passiveinsight">Passive Insight</a>
              </div>
                <div id="popup-passiveinsight" class="overlay">
                 <div class="popup">
                   <h2>Passive Insight</h2>
                   <a class="close" href="#">×</a>
                   <div class="content">
                       <p>
                       Used socially to notice if someone is lying or when something is hidden, intentional or otherwise. It is primarily an opposed roll of <strong>Social: Wit</strong> or the 'Deception' <i>specialization</i> of Social: Wit, vs. your <strong>Passive Insight</strong> score.
                       <br><br>Sometimes, Passive Insight might instead be used to detect if someone is scared, in love, pretending to be someone else, or to get some insight into their mood or personality, etc. In this instance, they might not be trying to hide anything, and the GM might choose a number instead of rolling. However, usually actively rolling Social: Wit or Insight would be used in these instances instead.
                       <br><br>
                       Passive Insight starts with a <strong>base value of 7</strong>, and then adds your Wit + your skill modifier in the optional <strong>Insight</strong> <i>specialization</i> of <strong>Social: Wit</strong>. If there is no specialization, this defaults to just using <strong>Social: Wit</strong> modifier (or just Wit) instead.
                        </p>
                   </div> <!-- close content -->
                 </div> <!-- close popup -->
                </div> <!-- close popup1 id overlay -->
              </span>

         <input type="number" name="attr_passiveinsighttotalnumber" value="7">
         <input type="number" name="attr_passiveinsightnwitnumber" placeholder="0">
            <input type="number" name="attr_passiveinsightskillnumber" placeholder="0">
            <input type="number" name="attr_passiveinsightbasenumber" value="7">

               </div>




  </div>

</div> <!-- close flex column -->

<!-- Melee WEAPONs EQUIPPED TABLE -->

        <div class="weapontable">
          <div class="wptrow1">
            <span class="swordimage">
            <img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/exportSwordPNG.png?raw=true" style="position:relative; left:0px; top: 0px; height: 21px; width: 105px;">
            </span>

            <!--
            <span class="wptrangedc">Range DC</span>
            <span><input type="text" name="attr_rangedcstill" placeholder="9"> </span>
            <span><input type="text" name="attr_rangedcmoving" placeholder="12"> </span>
            -->
            <span title="Action Points" class="wpttoprowAP">


              <div class="box">
                <a class="button" href="#popup-apmod">AP</a>
              </div> <!-- close box -->
              <div id="popup-apmod" class="overlay">
                <div class="popup">
                  <h2>Action Point Modifier (AP Mod)</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>Some weapons, armor, or shields have an <strong>AP Mod</strong>.  Some weapons are fast and light, while some are bulkier and slow. This number is added (or subtracted) from your <strong>CP Total</strong> (Combat Points), to determine the actions and attack and defense you can make each round.
                      <br><br>
                      <ul>
                        <li>As a reminder, <strong>CP Total =</strong> Action Points (Derived Attribute) + AP Mod + Skill (or Skill Specialization) for the equipped weapon </li>
                      </p>
                  </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span title="Combat Points" class="cptoprow">

              <div class="box">
                <a class="button" href="#popup-cp">CP</a>
              </div> <!-- close box -->
              <div id="popup-cp" class="overlay">
                <div class="popup">
                  <h2>Combat Points (CP)</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>A characters speed and skill in combat with their <strong>equipped weapon</strong>. CP represents the <strong>maximum amount</strong> of attack, defense, or other actions one might make. You can think of this as an <strong>‘Action Point’ system</strong>, as seen in many games. You can take actions <strong>until you run out</strong> of Combat Points. <i>see <strong>Turn Order</strong> Handout or Rules for more.</i>
                      <br><br>
                      For each <strong>attack and defense</strong> roll you make, <strong>spending CP adds to your roll total</strong>. You must spend at least 1 CP! For example, spending 7 CP is a +7 attack.
                      <br><br>
                      <ul>
                        <li><strong>Combat points total = ‘AP’</strong> Derived Attribute (4 + Wit + AGI), <strong>+ skill (or specialization)</strong> with the <strong>equipped weapon</strong>, <strong>+ AP Mod</strong> from armor or heavy/light weapons.</li>
                        </ul>

                           Each combatant <strong>starts each round</strong> of combat with <strong>all</strong> of their Combat Points. Combat points refresh completely at the top of every round.

                        <ul>
                          <li>The maximum CP a combatant starts each round with <strong>might be modified</strong> by wounds, fatigue, encumbrance, or magic.</li>
                          </ul>
                      </p>
                  </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span class="wpttoprowcut">

            <div class="box">
              <a class="button" href="#popup-swingshoot">Swing</a>
            </div> <!-- close box -->
            <div id="popup-swingshoot" class="overlay">
              <div class="popup">
                <h2>Swing / Shoot</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p>Each Melee weapon has two primary options for attack. Either a <strong>Swing</strong> or a <strong>Thrust</strong>.
                    <br><br>
                    Some weapons do more damage with one over the other. In addition, some <strong>Maneuvers</strong> work better with a Swing vs. a Thrust, such as the following:
                    <ul>
                      <li><strong>Wild Swing</strong> Maneuver which does +2 Damage but has Disadvantage to attack. </li>
                        <li><strong>Quick Thrust</strong> Maneuver which does -2 Damage but has Advantage to attack. </li>
                        </ul>
                    </p>
                </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

            <span class="wpttoprowthrust">

              <div class="box">
                <a class="button" href="#popup-thrust">Thrust</a>
              </div> <!-- close box -->
              <div id="popup-thrust" class="overlay">
                <div class="popup">
                  <h2>Thrust</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>Each Melee weapon has two primary options for attack. Either a <strong>Swing</strong> or a <strong>Thrust</strong>.
                      <br><br>
                      Some weapons do more damage with one over the other. In addition, some <strong>Maneuvers</strong> work better with a Swing vs. a Thrust, such as the following:
                      <ul>
                        <li><strong>Wild Swing</strong> Maneuver which does +2 Damage but has Disadvantage to attack. </li>
                          <li><strong>Quick Thrust</strong> Maneuver which does -2 Damage but has Advantage to attack. </li>
                          </ul>
                  </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span class="wpttoprowparryorblock">

              <div class="box">
                <a class="button" href="#popup-defend">Defend</a>
              </div> <!-- close box -->
              <div id="popup-defend" class="overlay">
                <div class="popup">
                  <h2>Defend</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>In Duels of Dreams, you actively Roll for defense. You must spend CP equal to the amount you want to add to your defense roll. If you have no CP left, you <i>can't defend.</i>
                      <br><br>
                      Some weapons or shields give you modifiers to defend, in the form of Advantage or Disadvantage. Here are two examples:
                      <ul>
                        <li><strong>Shields</strong> Give Advantage on the 'Block' Maneuver </li>
                          <li><strong>Daggers</strong> Give Disadvantage to defend on a 'Parry' Maneuver. </li>
                          </ul>
                          Check the <strong>Weapons & Armor</strong> tables for the modifiers on your equipped weapon.
                  </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->

              </span>

            <!-- insert reach stuff -->
            <span class="Reach">

              <div class="box">
                <a class="button" href="#popup-reach">Reach</a>
              </div> <!-- close box -->
              <div id="popup-reach" class="overlay">
                <div class="popup">
                  <h2>Weapon Reach</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>Reach is how long a weapon is, relative to other weapons. Reach is listed by <strong>category</strong>. Each category has a numerical <strong>“level (LVL)”</strong> relative to other reach categories. A higher LVL means a longer reach.
                      <br><br>
                      During combat, your weapon reach is compared to an opponents. For each LVL or Category your weapon is longer, you gain defensive modifiers.
                      <ul>
                        <li><strong>1 Category:</strong> Advantage on Defense Rolls</li>
                        <li><strong>2 Categories:</strong> +1d6 on Defense Rolls</li>
                        <li><strong>3+ Categories:</strong> +1d6 on defense and with advantage (roll 3d6 with advantage)</li>
                        </ul>

                        If a <strong>shorter weapon lands a hit</strong> against the longer weapon, the longer weapon instead takes penalties. <strong>Advantage</strong> becomes <strong>Disadvantage</strong>, and <strong>+1d6 becomes rolling only 1d6</strong> (instead of 2d6).
                      <br><br>
                      <i>Reach is a relatively complex aspect of Duels of Dreams. It's best to reference the 'Reach' Handout, or section of the rules for all the situational rules, and full details. While reach is a very important part of historical accuracy, weapon balance, and immersion, we recognize it to have the most potential to be cumbersome for those new to the system. As a reminder, you can opt to play without Reach as a Rule Variant if it makes the game easier.</i>
                      </p>
                  </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>


            <span class="equipped_hand">Equipped Hand</span>
            <!-- <span class="placeholder_reach2"></span> -->

             <!-- REMOVE DODGE FOR NOW...
            <span class="wpttoprowdodge">Dodge</span>
            <span class="d4d6dodgereminder">d4d6</span>
            <span><input type="text" name="attr_dodgemodifier" placeholder="0"> </span>
            <span class="dodgerollbutton">
                <button class="sheet-d6-dice" type="roll" value=
                      '&{template:dodas1} {{name=@{character_name} @{weapon} }}{{Dodge=[[1d4 + 1d6 + @{dodgemodifier}]][[1d4 + 1d6 + @{dodgemodifier}]][[1d4 + 1d6 + @{dodgemodifier}]]}} '
                      name="roll_Dodge"></button>
            </span>
            -->
            <span class="d4d6dodgereminder"></span>
            <span class="d4d6dodgereminder"></span>
            <span class="d4d6dodgereminder"></span>
            <span class="d4d6dodgereminder"></span>
          </div>

          <div class="wptrow2">
            <span class="wtweapon">

              <div class="box">
                <a class="button" href="#popup-meleeweapons">Melee Weapons</a>
              </div> <!-- close box -->
              <div id="popup-meleeweapons" class="overlay">
                <div class="popup">
                  <h2>Melee Weapons</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>Melee Weapons use the stats of each weapon, found in the <strong>Weapons and Armor</strong> portion of the rules (or check the handouts to the right). Each weapon has distinct pros and cons, distinguished by their <strong>Reach, Damage Types, AP Mod, and Properties</strong>. Some weapons are better suited for cutting, some for thrusting. Some are better at parrying than others.
                      <br><br>
                      Check the handouts or game rules, or click on the column header on the table on this character sheet for more info on each weapon stat type.
                    </p>
                  </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->

              </span>

            <span title="Action Points Modifier" class="wtMod">


              <div class="box">
                <a class="button" href="#popup-apmod">Mod</a>
              </div> <!-- close box -->
              <div id="popup-apmod" class="overlay">
                <div class="popup">
                  <h2>Action Point Modifier (AP Mod)</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>Some weapons, armor, or shields have an <strong>AP Mod</strong>. Some weapons are fast and light, while some are bulkier and slow. This number is added (or subtracted) from your <strong>CP Total</strong> (Combat Points), to determine the actions, and attack and defense you can make each round.
                      <br><br>
                      <ul>
                        <li>As a reminder, <strong>CP Total =</strong> Action Points (Derived Attribute) + AP Mod + Skill (or Skill Specialization) for the equipped weapon </li>
                      </p>
                  </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
                </span>

            <span title="Combat Points (Attack and Defense)" class="wtTotal">

              <div class="box">
                <a class="button" href="#popup-cp">Total</a>
              </div> <!-- close box -->
              <div id="popup-cp" class="overlay">
                <div class="popup">
                  <h2>Combat Points (CP)</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>A characters speed and skill in combat with their <strong>equipped weapon</strong>. CP represents the <strong>maximum amount</strong> of attack, defense, or other actions one might make. You can think of this as an <strong>‘Action Point’ system</strong>, as seen in many games. You can take actions <strong>until you run out</strong> of Combat Points. <i>see <strong>Turn Order</strong> Handout or Rules for more.</i>
                      <br><br>
                      For each <strong>attack and defense</strong> roll you make, <strong>spending CP adds to your roll total</strong>. You must spend at least 1 CP! For example, spending 7 CP is a +7 attack.
                      <br><br>
                      <ul>
                        <li><strong>Combat points total = ‘AP’</strong> Derived Attribute (4 + Wit + AGI), <strong>+ skill (or specialization)</strong> with the <strong>equipped weapon</strong>, <strong>+ AP Mod</strong> from armor or heavy/light weapons.</li>
                        </ul>

                           Each combatant <strong>starts each round</strong> of combat with <strong>all</strong> of their Combat Points. Combat points refresh completely at the top of every round.

                        <ul>
                          <li>The maximum CP a combatant starts each round with <strong>might be modified</strong> by wounds, fatigue, encumbrance, or magic.</li>
                          </ul>
                      </p>
                  </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span title="Damage" class="wtA">

              <div class="box">
                <a class="button" href="#popup-dmg">Dmg</a>
              </div> <!-- close box -->
              <div id="popup-dmg" class="overlay">
                <div class="popup">
                  <h2>Weapon Damage</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>When an attack roll <strong>beats</strong> an opponent's defense roll, you <strong>deal damage</strong>. The value listed here is your <strong>base damage</strong> with the weapon. Character's <strong>don't have Hit Points</strong>. Instead, they take individual wounds, and fight until a killing blow is dealt (10 damage), or they succumb to their wounds.
                      <br><br>
                      Each weapon does one of three types of damage.
                      <ul>
                        <li><strong>Blunt (b), Cutting (c), Piercing (p)</strong></li>
                      Base Damage is...
                      <ul>
                        <li><strong>Power + Weapon Base Damage</strong> of the equipped weapon, for either swing or thrust.</li>
                        <li>For example: <i>A character 'swinging' with a Warhammer starts with base 2b (blunt) damage. They have 2 Power, for a total base damage of</i> <strong>4b</strong>.
                          </ul>
                      A high attack roll has the opportunity to do extra damage, based on the 'Margin of Success'. Every 5 over does additional damage. As long as your token is selected, the "roll template" sent to chat has clickable options to help with this process.
                      <br><br><i>See the 'Damage' Handout or section of the rules for more comprehensive Rules on Wounds, Blood Loss, Incapacitation, and Death.</i>
                      </p>
                  </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->

              </span>
            <span title="number added to attack roll button" class="wtA">

              <div class="box">
                <a class="button" href="#popup-attackplus">Att+</a>
              </div> <!-- close box -->
              <div id="popup-attackplus" class="overlay">
                <div class="popup">
                  <h2>Att+</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>This number is the amount of CP added when making a roll. It's meant to be used as part of a <strong>macro</strong> roll button with Roll20.
                      <br><br>
                      The button to the right (used to) use this number when clicked, as the number of CP spent. I've left it on the sheet for now, since macros can reference this number in quick buttons while a token is selected. But the button to the right, for now, asks for an input for how many CP you want to spend instead.
                            </p>
                                        </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span class="wtD">

              <div class="box">
                <a class="button" href="#popup-rollmeleeattack">Roll</a>
              </div> <!-- close box -->
              <div id="popup-rollmeleeattack" class="overlay">
                <div class="popup">
                  <h2>Roll Weapon Attack/Defense</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>When this button is clicked, a popup shows up, prompting you to input a number. This number is <strong>how much CP</strong> you want to spend on the <strong>Attack or Defense</strong> Roll.
                      <br><br>
                      Your Roll totals are then sent to chat. <strong>Three sets of attacks</strong> are rolled, in case you had Advantage or Disadvantage multiple times. (And in this way, you aren't required to click another button to tell the chat roll if you had Advantage/Disadvantage or not.) Relevant info from your weapon is included in the 'Roll Template' sent to chat, which includes buttons to roll extra damage based on your <strong>Margin of Success (MoS)</strong> (how much higher you rolled than your opponent).
                      <br><br>
                      If you have the <strong>'TokenMod' API Script</strong> <i>which we highly recommend</i>, this number is automatically subtracted from the <strong>green bar</strong> above your token. This green bar is used to keep track of Combat Points for Duels of Dreams, instead of 'Hit Points' like in D&D.
                            </p>
                                        </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

              </span>
            <span title="Damage" class="wtA">

              <div class="box">
                <a class="button" href="#popup-dmg">Dmg</a>
              </div>

              </span>
            <span title="number added to attack roll button" class="wtA">

              <div class="box">
                <a class="button" href="#popup-attackplus">Att+</a>
              </div> <!-- close box -->
              <div id="popup-attackplus" class="overlay">
                <div class="popup">
                  <h2>Att+</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>This number is the amount of CP added when making a roll. It's meant to be used as part of a <strong>macro</strong> roll button with Roll20.
                      <br><br>
                      The button to the right (used to) use this number when clicked, as the number of CP spent. I've left it on the sheet for now, since macros can reference this number in quick buttons while a token is selected. But the button to the right, for now, asks for an input for how many CP you want to spend instead.
                            </p>
                                        </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span class="wtD">

              <div class="box">
                <a class="button" href="#popup-rollmeleeattack">Roll</a>
              </div> <!-- close box -->
              <div id="popup-rollmeleeattack" class="overlay">
                <div class="popup">
                  <h2>Roll Weapon Attack/Defense</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>When this button is clicked, a popup shows up, prompting you to input a number. This number is <strong>how much CP</strong> you want to spend on the <strong>Attack or Defense</strong> Roll.
                      <br><br>
                      Your Roll totals are then sent to chat. <strong>Three sets of attacks</strong> are rolled, in case you had Advantage or Disadvantage multiple times. (And in this way, you aren't required to click another button to tell the chat roll if you had Advantage/Disadvantage or not.) Relevant info from your weapon is included in the 'Roll Template' sent to chat, which includes buttons to roll extra damage based on your <strong>Margin of Success (MoS)</strong> (how much higher you rolled than your opponent).
                      <br><br>
                      If you have the <strong>'TokenMod' API Script</strong> <i>which we highly recommend</i>, this number is automatically subtracted from the <strong>green bar</strong> above your token. This green bar is used to keep track of Combat Points for Duels of Dreams, instead of 'Hit Points' like in D&D.
                            </p>
                                        </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>


            <span title="Advantage or not?"class="wtAdvBlock">

              <div class="box">
                <a class="button" href="#popup-advquestion">Adv.?</a>
              </div> <!-- close box -->
              <div id="popup-advquestion" class="overlay">
                <div class="popup">
                  <h2>Advantage?</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>In Duels of Dreams, you actively Roll for defense. You must spend CP equal to the amount you want to add to your defense roll. If you have no CP left, you <i>can't defend.</i>
                      <br><br>
                      Some weapons or shields give you modifiers to defend, in the form of <strong>Advantage or Disadvantage</strong>. Here are two examples:
                      <ul>
                        <li><strong>Shields</strong> Give Advantage on the 'Block' Maneuver </li>
                          <li><strong>Daggers</strong> Give Disadvantage to defend on a 'Parry' Maneuver. </li>
                          </ul>
                          Check the <strong>Weapons & Armor</strong> tables for the modifiers on your equipped weapon. For <strong>this box</strong>, you can just fill in <strong>Yes or No</strong>, or <strong>Adv / Disadv. </strong>.
                  </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->

              </span>
            <span title="Number added to defense roll button"class="wtSkrmD">

              <div class="box">
                <a class="button" href="#popup-defendplus">Def+</a>
              </div> <!-- close box -->
              <div id="popup-defendplus" class="overlay">
                <div class="popup">
                  <h2>Def+</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>This number is the amount of CP added when making a roll. It's meant to be used as part of a <strong>macro</strong> roll button with Roll20.
                      <br><br>
                      The button to the right (used to) use this number when clicked, as the number of CP spent. I've left it on the sheet for now, since macros can reference this number in quick buttons while a token is selected. But the button to the right, for now, asks for an input for how many CP you want to spend instead.
                            </p>
                                        </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span class="wtD">

              <div class="box">
                <a class="button" href="#popup-rollmeleeattack">Roll</a>
              </div> <!-- close box -->
              <div id="popup-rollmeleeattack" class="overlay">
                <div class="popup">
                  <h2>Roll Weapon Attack/Defense</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>When this button is clicked, a popup shows up, prompting you to input a number. This number is <strong>how much CP</strong> you want to spend on the <strong>Attack or Defense</strong> Roll.
                      <br><br>
                      Your Roll totals are then sent to chat. <strong>Three sets of attacks</strong> are rolled, in case you had Advantage or Disadvantage multiple times. (And in this way, you aren't required to click another button to tell the chat roll if you had Advantage/Disadvantage or not.) Relevant info from your weapon is included in the 'Roll Template' sent to chat, which includes buttons to roll extra damage based on your <strong>Margin of Success (MoS)</strong> (how much higher you rolled than your opponent).
                      <br><br>
                      If you have the <strong>'TokenMod' API Script</strong> <i>which we highly recommend</i>, this number is automatically subtracted from the <strong>green bar</strong> above your token. This green bar is used to keep track of Combat Points for Duels of Dreams, instead of 'Hit Points' like in D&D.
                            </p>
                                        </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span class="wtReachCategory">Category</span>
            <span title="relative reach level" class="wtReachLevel">Lvl</span>
            <span title="spaces away the weapon can attack" class="wtReachSpaces">Spaces</span>

            <span title="left hand equipped" class="wtRange">Left</span> <!-- moved reach elsewhere -->
            <span title="Right hand equipped" class="wtHand">Right</span>

            <span class="wtOther">Other</span>
          </div>

          <fieldset class="repeating_weapons">
            <div class="wptfillrepeating">
              <input type="text" name="attr_weapon" value="">

              <input type="text" name="attr_weaponactionpointmodifier" value="">
              <input type="text" name="attr_cptotal" value="">
              <input type="text" name="attr_cutdamage" value="">
              <input type="text" name="attr_cutattack" value="">
              <span class="swingweaponbutton">

<button class="sheet-d6-dice" type="roll" value='&{template:dodas1} {{name=@{weapon} }} {{subtags=@{character_name} }} {{diceADroll=Swing Attack}} {{attackdatadodas1=[[2d6 + ?{Roll modifier|0}]] or [[2d6 + ?{Roll modifier|0}]] or [[2d6 + ?{Roll modifier|0}]], at +?{Roll modifier|0}}} {{reachdatadodas1=@{range} (@{reachlevel}), Spaces: @{reachspaces} }} {{mosorparryblock=Roll Dmg, MoS}} {{mosbuttonsdata= [<5](~repeating_weapons_underFiveMoS) [5](~repeating_weapons_fiveMoS) [10](~repeating_weapons_tenMoS) [15](~repeating_weapons_fifteenMoS) [20](~repeating_weapons_twentyMoS) [25](~repeating_weapons_twentyfiveMoS) [30](~repeating_weapons_thirtyMoS) }} {{notesdatadodas1=@{other}}}
!token-mod --set bar1_value|[[ @{selected|bar1} - ?{Roll modifier|0}]] '
 name="roll_weaponrepeatingbuttonswing"></button>
            <button type="roll" name="roll_underFiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg= @{cutdamage}}} {{MoSAmount=<5 MoS =}} {{MoSExplainer=Base Weapon Damage only}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
            <button type="roll" name="roll_fiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{cutdamage}}} {{MoSAmount=5 MoS =}} {{MoSExplainer=+1d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}} "></button>
            <button type="roll" name="roll_tenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{cutdamage}}} {{MoSAmount=10 MoS =}} {{MoSExplainer=+1d6 Damage, Reroll 1 damage die}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
            <button type="roll" name="roll_fifteenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{cutdamage}}} {{MoSAmount=15 MoS =}} {{MoSExplainer=+2d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
            <button type="roll" name="roll_twentyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{cutdamage}}} {{MoSAmount=20 MoS =}} {{MoSExplainer=+2d6 Damage, Reroll 2 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
            <button type="roll" name="roll_twentyfiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{cutdamage}}} {{MoSAmount=25 MoS =}} {{MoSExplainer=+3d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
            <button type="roll" name="roll_thirtyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{cutdamage}}} {{MoSAmount=30 MoS =}} {{MoSExplainer=+3d6 Damage, Reroll 3 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>

            <button type="roll" name="roll_headshotExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Headshot: +[[1d6]]}}"></button>
            <button type="roll" name="roll_CritExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Critical: +[[1d6]]}}"></button>
            <button type="roll" name="roll_RerollDmgDie" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Reroll 1d6: [[1d6]]}}"></button>
                      </span>


              <input type="text" name="attr_thrustdamage" value="">
              <input type="text" name="attr_thrustattack" value="">


              <span class="thrustweaponbutton">

<button class="sheet-d6-dice" type="roll" value='&{template:dodas1} {{name=@{weapon} }} {{subtags=@{character_name} }} {{diceADroll=Thrust Attack}} {{attackdatadodas1=[[2d6 + ?{Roll modifier|0}]] or [[2d6 + ?{Roll modifier|0}]] or [[2d6 + ?{Roll modifier|0}]], at +?{Roll modifier|0}}} {{reachdatadodas1=@{range} (@{reachlevel}), Spaces: @{reachspaces} }} {{mosorparryblock=Roll Dmg, MoS}} {{mosbuttonsdata= [<5](~repeating_weapons_underFiveMoS) [5](~repeating_weapons_fiveMoS) [10](~repeating_weapons_tenMoS) [15](~repeating_weapons_fifteenMoS) [20](~repeating_weapons_twentyMoS) [25](~repeating_weapons_twentyfiveMoS) [30](~repeating_weapons_thirtyMoS) }} {{notesdatadodas1=@{other}}}
!token-mod --set bar1_value|[[ @{selected|bar1} - ?{Roll modifier|0}]] '
name="roll_weaponrepeatingbuttonthrust"></button>
<button type="roll" name="roll_underFiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg= @{thrustdamage}}} {{MoSAmount=<5 MoS =}} {{MoSExplainer=Base Weapon Damage only}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_fiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{thrustdamage}}} {{MoSAmount=5 MoS =}} {{MoSExplainer=+1d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}} "></button>
<button type="roll" name="roll_tenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{thrustdamage}}} {{MoSAmount=10 MoS =}} {{MoSExplainer=+1d6 Damage, Reroll 1 damage die}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_fifteenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{thrustdamage}}} {{MoSAmount=15 MoS =}} {{MoSExplainer=+2d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_twentyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{thrustdamage}}} {{MoSAmount=20 MoS =}} {{MoSExplainer=+2d6 Damage, Reroll 2 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_twentyfiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{thrustdamage}}} {{MoSAmount=25 MoS =}} {{MoSExplainer=+3d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_thirtyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{thrustdamage}}} {{MoSAmount=30 MoS =}} {{MoSExplainer=+3d6 Damage, Reroll 3 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>

<button type="roll" name="roll_headshotExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Headshot: +[[1d6]]}}"></button>
<button type="roll" name="roll_CritExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Critical: +[[1d6]]}}"></button>
<button type="roll" name="roll_RerollDmgDie" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Reroll 1d6: [[1d6]]}}"></button>
        </span>

              <input type="text" name="attr_parryblock" value="">
              <input type="text" name="attr_blockdefendplus" value="">
              <span class="rolldefendbutton">
<button class="sheet-d6-dice" type="roll" value='&{template:dodasdefense} {{name=@{weapon} }} {{subtags=@{character_name} }} {{diceADroll=Defense Roll}} {{attackdatadodas1=[[2d6 + ?{Roll modifier|0}]] or [[2d6 + ?{Roll modifier|0}]] or [[2d6 + ?{Roll modifier|0}]], at +?{Roll modifier|0}}} {{reachdatadodas1=@{range} (@{reachlevel}), Spaces: @{reachspaces} }} {{mosorparryblock=Parry or Block:}} {{mosbuttonsdata=@{parryblock}}}  {{Notes=@{other}}}
!token-mod --set bar1_value|[[ @{selected|bar1} - ?{Roll modifier|0}]] '
                      name="roll_weaponrepeatingbuttondefend"></button>
                     </span>

            <input type="text" name="attr_range" value=""> <!-- should be attr_reachcategory -->
            <input type="text" name="attr_reachlevel" value="">
            <input type="text" name="attr_reachspaces" value="">

            <input type="text" name="attr_lefthand" value=""> <!-- changing to equipped hand left right with checkbox original name="attr_range" name="attr_hand"  -->
              <input type="text" name="attr_hand" value="">

              <!-- CHECKBOXES WON'T WORK, TROUBLESHOOT LATER
              <input type="checkbox" name="attr_lefthandbox" value="">
              <input type="checkbox" name="attr_righthandbox" value=""> -->

            <input type="text" name="attr_other" value="">


            </div>
          </fieldset>
        </div>


<!-- RANGED WEAPONS -->

<div class="rangedweapontable">
          <div class="rwptrow1">
            <span class="arrowimage">
            <img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/arrowPNGcolored.png?raw=true" style="justify-self: center; left:0px; top: -15px; height: 13px; width: 75%;">
            </span>

            <!--
            <span class="wptrangedc">Range DC</span>
            <span><input type="text" name="attr_rangedcstill" placeholder="9"> </span>
            <span><input type="text" name="attr_rangedcmoving" placeholder="12"> </span>
            -->
            <span class="rwpttoprowAP">

              <div class="box">
                <a class="button" href="#popup-apmod">AP</a>
              </div> <!-- close box -->
              <div id="popup-apmod" class="overlay">
                <div class="popup">
                  <h2>Action Point Modifier (AP Mod)</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>Some weapons, armor, or shields have an <strong>AP Mod</strong>.  Some weapons are fast and light, while some are bulkier and slow. This number is added (or subtracted) from your <strong>CP Total</strong> (Combat Points), to determine the actions and attack and defense you can make each round.
                      <br><br>
                      <ul>
                        <li>As a reminder, <strong>CP Total =</strong> Action Points (Derived Attribute) + AP Mod + Skill (or Skill Specialization) for the equipped weapon </li>
                      </p>
                  </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span title="Combat Points" class="rwptcptoprow">

              <div class="box">
                <a class="button" href="#popup-cp">CP</a>
              </div> <!-- close box -->
              <div id="popup-cp" class="overlay">
                <div class="popup">
                  <h2>Combat Points (CP)</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>A characters speed and skill in combat with their <strong>equipped weapon</strong>. CP represents the <strong>maximum amount</strong> of attack, defense, or other actions one might make. You can think of this as an <strong>‘Action Point’ system</strong>, as seen in many games. You can take actions <strong>until you run out</strong> of Combat Points. <i>see <strong>Turn Order</strong> Handout or Rules for more.</i>
                      <br><br>
                      For each <strong>attack and defense</strong> roll you make, <strong>spending CP adds to your roll total</strong>. You must spend at least 1 CP! For example, spending 7 CP is a +7 attack.
                      <br><br>
                      <ul>
                        <li><strong>Combat points total = ‘AP’</strong> Derived Attribute (4 + Wit + AGI), <strong>+ skill (or specialization)</strong> with the <strong>equipped weapon</strong>, <strong>+ AP Mod</strong> from armor or heavy/light weapons.</li>
                        </ul>

                           Each combatant <strong>starts each round</strong> of combat with <strong>all</strong> of their Combat Points. Combat points refresh completely at the top of every round.

                        <ul>
                          <li>The maximum CP a combatant starts each round with <strong>might be modified</strong> by wounds, fatigue, encumbrance, or magic.</li>
                          </ul>
                      </p>
                  </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span class="rwpttoprowshoot">Shoot / Throw</span>
            <span class="rwpttoprowrange">

              <div class="box">
                <a class="button" href="#popup-rangedpenalty">Range</a>
              </div> <!-- close box -->
              <div id="popup-rangedpenalty" class="overlay">
                <div class="popup">
                  <h2>Ranged Penalty</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>For every 5 or 10 spaces on a combat grid (5 feet per space), your attack takes a -1 or -2 penalty.
                      <br><br>
                      <ul>
                        <li><strong>For example</strong>, a Throwing Axe attacking 17 spaces away is at -6.</li>
                        </ul>

                                                </p>
                                        </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span class="rwptblank"></span>

            <span class="rwptreload">

              <div class="box">
                <a class="button" href="#popup-reloadtime">Reload</a>
              </div> <!-- close box -->
              <div id="popup-reloadtime" class="overlay">
                <div class="popup">
                  <h2>Reload Time</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>The amount of full rounds of combat it takes to reload the weapon.
                      <br><br>
                      As a variant rule, you can spend CP to reload instead. If the CP spent exceeds your remaining CP, then you must spend the remaining CP the following round.
                                                </p>
                                        </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span class="rwptequipped">Equipped Hand</span>
            </div>

          <div class="rwptrow2">
            <span class="rwtweapon">Ranged Weapons</span>

            <span title="modifier" class="rwtMod">Mod</span>
            <span title="Combat Points" class="rwtTotal">

              <div class="box">
                <a class="button" href="#popup-cp">Total</a>
              </div> <!-- close box -->
              <div id="popup-cp" class="overlay">
                <div class="popup">
                  <h2>Combat Points (CP)</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>A characters speed and skill in combat with their <strong>equipped weapon</strong>. CP represents the <strong>maximum amount</strong> of attack, defense, or other actions one might make. You can think of this as an <strong>‘Action Point’ system</strong>, as seen in many games. You can take actions <strong>until you run out</strong> of Combat Points. <i>see <strong>Turn Order</strong> Handout or Rules for more.</i>
                      <br><br>
                      For each <strong>attack and defense</strong> roll you make, <strong>spending CP adds to your roll total</strong>. You must spend at least 1 CP! For example, spending 7 CP is a +7 attack.
                      <br><br>
                      <ul>
                        <li><strong>Combat points total = ‘AP’</strong> Derived Attribute (4 + Wit + AGI), <strong>+ skill (or specialization)</strong> with the <strong>equipped weapon</strong>, <strong>+ AP Mod</strong> from armor or heavy/light weapons.</li>
                        </ul>

                           Each combatant <strong>starts each round</strong> of combat with <strong>all</strong> of their Combat Points. Combat points refresh completely at the top of every round.

                        <ul>
                          <li>The maximum CP a combatant starts each round with <strong>might be modified</strong> by wounds, fatigue, encumbrance, or magic.</li>
                          </ul>
                      </p>
                  </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span title="Damage" class="rwtA">

              <div class="box">
                <a class="button" href="#popup-dmg">Dmg</a>
              </div>

              </span>
            <span title="number added to Attack roll button" class="rwtA">

              <div class="box">
                <a class="button" href="#popup-attackplus">Att+</a>
              </div> <!-- close box -->
              <div id="popup-attackplus" class="overlay">
                <div class="popup">
                  <h2>Att+</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>This number is the amount of CP added when making a roll. It's meant to be used as part of a <strong>macro</strong> roll button with Roll20.
                      <br><br>
                      The button to the right (used to) use this number when clicked, as the number of CP spent. I've left it on the sheet for now, since macros can reference this number in quick buttons while a token is selected. But the button to the right, for now, asks for an input for how many CP you want to spend instead.
                            </p>
                                        </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span class="rwtroll">

              <div class="box">
                <a class="button" href="#popup-rollmeleeattack">Roll</a>
              </div> <!-- close box -->
              <div id="popup-rollmeleeattack" class="overlay">
                <div class="popup">
                  <h2>Roll Weapon Attack/Defense</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>When this button is clicked, a popup shows up, prompting you to input a number. This number is <strong>how much CP</strong> you want to spend on the <strong>Attack or Defense</strong> Roll.
                      <br><br>
                      Your Roll totals are then sent to chat. <strong>Three sets of attacks</strong> are rolled, in case you had Advantage or Disadvantage multiple times. (And in this way, you aren't required to click another button to tell the chat roll if you had Advantage/Disadvantage or not.) Relevant info from your weapon is included in the 'Roll Template' sent to chat, which includes buttons to roll extra damage based on your <strong>Margin of Success (MoS)</strong> (how much higher you rolled than your opponent).
                      <br><br>
                      If you have the <strong>'TokenMod' API Script</strong> <i>which we highly recommend</i>, this number is automatically subtracted from the <strong>green bar</strong> above your token. This green bar is used to keep track of Combat Points for Duels of Dreams, instead of 'Hit Points' like in D&D.
                            </p>
                                        </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span class="rwtincrement">

              <div class="box">
                <a class="button" href="#popup-rangedpenalty">Penalty</a>
              </div> <!-- close box -->
              <div id="popup-rangedpenalty" class="overlay">
                <div class="popup">
                  <h2>Ranged Penalty</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>For every 5 or 10 spaces on a combat grid (5 feet per space), your attack takes a -1 or -2 penalty.
                      <br><br>
                      <ul>
                        <li><strong>For example</strong>, a Throwing Axe attacking 17 spaces away is at -6.</li>
                        </ul>

                                                </p>
                                        </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span title="ignore this much range penalty" class="rwtAccuracy">

              <div class="box">
                <a class="button" href="#popup-rangedaccuracy">Accuracy</a>
              </div> <!-- close box -->
              <div id="popup-rangedaccuracy" class="overlay">
                <div class="popup">
                  <h2>Accuracy: Ranged</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>The amount of spaces away before range penalty starts accumulating.
                      <br><br>
                      <ul>
                        <li><strong>For example</strong>, a light crossbow takes no penalties up to 10 spaces away. At 15 it’s at -1, at 20: -2, etc. </li>
                          </ul>
                          If nothing is listed, use the <strong>Ranged Penalty</strong> increments as usual.

                                                </p>
                                        </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span title="ignores armor all or nothing" class="rwtPenetration">

              <div class="box">
                <a class="button" href="#popup-rangedpenetration">Penetration</a>
              </div> <!-- close box -->
              <div id="popup-rangedpenetration" class="overlay">
                <div class="popup">
                  <h2>Penetration</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>Effectiveness vs. Armor
                      <br><br>
                      If the penetration number meets or exceeds the opponents <strong>‘Armor Value’ vs. Piercing</strong>, then the damage from the attack ignores all <strong>Damage Reduction</strong> from Armor. Other forms of Damage Reduction (like from <strong>Body</strong>) still apply.
                      <br><br>
                      Otherwise, Penatration has no effect.

                                                </p>
                                        </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span title="shots before reloading" class="rwtSkrmD">

              <div class="box">
                <a class="button" href="#popup-rangedshots">Shots</a>
              </div> <!-- close box -->
              <div id="popup-rangedshots" class="overlay">
                <div class="popup">
                  <h2>Shots</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>The amount of times you can fire a weapon before you need to Reload.
                                                </p>
                                        </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span title="time to reload" class="rwttime">

              <div class="box">
                <a class="button" href="#popup-reloadtime">Time</a>
              </div> <!-- close box -->
              <div id="popup-reloadtime" class="overlay">
                <div class="popup">
                  <h2>Reload Time</h2>
                  <a class="close" href="#">×</a>
                  <div class="content">
                    <p>The amount of full rounds of combat it takes to reload the weapon.
                      <br><br>
                      As a variant rule, you can spend CP to reload instead. If the CP spent exceeds your remaining CP, then you must spend the remaining CP the following round.
                                                </p>
                                        </div> <!-- close content -->
                </div> <!-- close popup -->
              </div> <!-- close popup1 id overlay -->
              </span>

            <span class="rwtleftequipped">Left</span>
            <span class="rwtrightequipped">Right</span>
            <span class="rwtOther">Other</span>
          </div>

          <fieldset class="repeating_rangedweapons">
            <div class="rwptfillrepeating">
              <input type="text" name="attr_rangedweapon" value="">
              <input type="text" name="attr_rangedapmod" value="">
              <input type="text" name="attr_rangedCPTotal" value="">
              <input type="text" name="attr_rangeddmg" value="">
              <input type="text" name="attr_rangedattackplus" value="">

             <span class="rangedweaponbutton">

<button class="sheet-d6-dice" type="roll" value='&{template:dodasranged} {{name=@{rangedweapon}}} {{subtags=@{character_name}}} {{attackdatadodasranged=[[2d6 + ?{Roll modifier|0}]] or [[2d6 + ?{Roll modifier|0}]] or [[2d6 + ?{Roll modifier|0}]], at +?{Roll modifier|0}}} {{incrementdodasranged=@{rangedincrement}}} {{accuracyranged=@{rangedaccuracy}}} {{rangedmosbuttonsdata= [<5](~repeating_rangedweapons_underFiveMoS) [5](~repeating_rangedweapons_fiveMoS) [10](~repeating_rangedweapons_tenMoS) [15](~repeating_rangedweapons_fifteenMoS) [20](~repeating_rangedweapons_twentyMoS) [25](~repeating_rangedweapons_twentyfiveMoS) [30](~repeating_rangedweapons_thirtyMoS) }} {{Notes=@{rangedother}}}
!token-mod --set bar1_value|[[ @{selected|bar1} - ?{Roll modifier|0}]] '
 name="roll_rangedattackbutton"></button>
 <button type="roll" name="roll_underFiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{rangedweapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg= @{rangeddmg}}} {{MoSAmount=<5 MoS =}} {{MoSExplainer=Base Weapon Damage only}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_rangedweapons_RerollDmgDie)}}"></button>
 <button type="roll" name="roll_fiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{rangedweapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{rangeddmg}}} {{MoSAmount=5 MoS =}} {{MoSExplainer=+1d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_rangedweapons_RerollDmgDie)}} "></button>
 <button type="roll" name="roll_tenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{rangedweapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{rangeddmg}}} {{MoSAmount=10 MoS =}} {{MoSExplainer=+1d6 Damage, Reroll 1 damage die}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_rangedweapons_RerollDmgDie)}}"></button>
 <button type="roll" name="roll_fifteenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{rangedweapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{rangeddmg}}} {{MoSAmount=15 MoS =}} {{MoSExplainer=+2d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_rangedweapons_RerollDmgDie)}}"></button>
 <button type="roll" name="roll_twentyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{rangedweapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{rangeddmg}}} {{MoSAmount=20 MoS =}} {{MoSExplainer=+2d6 Damage, Reroll 2 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_rangedweapons_RerollDmgDie)}}"></button>
 <button type="roll" name="roll_twentyfiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{rangedweapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{rangeddmg}}} {{MoSAmount=25 MoS =}} {{MoSExplainer=+3d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_rangedweapons_RerollDmgDie)}}"></button>
 <button type="roll" name="roll_thirtyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{rangedweapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{rangeddmg}}} {{MoSAmount=30 MoS =}} {{MoSExplainer=+3d6 Damage, Reroll 3 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_rangedweapons_RerollDmgDie)}}"></button>

 <button type="roll" name="roll_headshotExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{rangedweapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Headshot: +[[1d6]]}}"></button>
 <button type="roll" name="roll_CritExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{rangedweapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Critical: +[[1d6]]}}"></button>
 <button type="roll" name="roll_RerollDmgDie" class="hidden" value="&{template:dodasdmgextra} {{name=@{rangedweapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Reroll 1d6: [[1d6]]}}"></button>

                      </span>

              <input type="text" name="attr_rangedincrement" value="">
              <input type="text" name="attr_rangedaccuracy" value="">
              <input type="text" name="attr_rangedpenetration" value="">
              <input type="text" name="attr_rangedshots" value="">
              <input type="text" name="attr_reloadtime" value="">

              <input type="text" name="attr_rangedequippedleft" value="">
              <input type="text" name="attr_rangedequippedright" value="">
              <input type="text" name="attr_rangedother" value="">



            </div>
          </fieldset>
        </div>



<!-- ARMOR TABLE -->

      <div class="armortable">
        <div class="armortbtoprow">
          <span class="atTopWeapon"></span>
          <span title="Armor Value of equipment" class="atTopAvEquip">

            <div class="box">
              <a class="button" href="#popup-avequip">AV Equip</a>
            </div> <!-- close box -->
            <div id="popup-avequip" class="overlay">
              <div class="popup">
                <h2>Armor Value Equipped</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p>The values listed here, are the <strong>Damage Reduction</strong> values against each type of damage, abbreviated by letter.
                    <br><br>
                    The Damage types are:
                    <ul>
                      <li><strong>c =</strong>cutting</li>
                      <li><strong>p =</strong>piercing</li>
                      <li><strong>b =</strong>blunt</li>
                      <li><strong>e =</strong>energy: fire, cold, magic, etc.</li>
                      </ul>
                    Your 'AV Equip' (Armor Value from Equipment) is then added to your <strong>Body</strong> Derived Attribute to form the final <strong>Damage Reduction Totals</strong> on the <i>right</i>.
                                              </p>
                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span class="atTopBD">
<img title="Body" class="ArmorBodyImg" src="https://imgsrv.roll20.net?src=https%3A//github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/BD%2520Icon%2520white%2520border.png%3Fraw%3Dtrue" width="23" height="23">
          </span>
          <span title="Damage Reduction Total" class="atDRTotal">

            <div class="box">
              <a class="button" href="#popup-drtotal">DR Total</a>
            </div> <!-- close box -->
            <div id="popup-drtotal" class="overlay">
              <div class="popup">
                <h2>Damage Reduction Totals</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p>The values listed here are your <strong>Damage Reduction Totals</strong> against each type of damage, abbreviated by letter.
                    <br><br>
                    The Damage types are:
                    <ul>
                      <li><strong>c =</strong>cutting</li>
                      <li><strong>p =</strong>piercing</li>
                      <li><strong>b =</strong>blunt</li>
                      <li><strong>e =</strong>energy: fire, cold, magic, etc.</li>
                      </ul>
                    Your 'AV Equip' (Armor Value from Equipment) from the <i>left</i> is added to your <strong>Body</strong> Derived Attribute to form the final <strong>Damage Reduction Totals</strong> on the <i>right</i>.
                                              </p>
                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

        </div>
        <div class="armorsecondrow">
          <span class="atArmor">

            <div class="box">
              <a class="button" href="#popup-armor">Armor</a>
            </div> <!-- close box -->
            <div id="popup-armor" class="overlay">
              <div class="popup">
                <h2>Armor</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p> Armor is used to mitigate damage from attacks. Whenever a melee weapon hits, you subtract your <strong>Damage Reduction</strong> from the Armor you're wearing from the Damage of the attack.
                    <br><br>
                    Wearing armor has some pros and cons though. Heavier armor has an <strong>AP MOD</strong> or Action Point modifier (penalty) that affects your Combat Point (CP) totals. It might also have a negative modifier to your <strong>Stealth</strong> and <strong>Mobility</strong> Adventuring Skill Rolls.
                                              </p>
                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>





          <span title="Cutting damage" class="atC">c</span>
          <span title="Piercing damage" class="atP">p</span>
          <span title="Blunt damage" class="atB">b</span>
          <span title="Energy or Magic damage" class="atE">e</span>
          <span title="Body attribute" class="atBD">


            <div class="box">
              <a class="button" href="#popup-bodyarmorpopup">Body</a>
            </div> <!-- close box -->
            <div id="popup-bodyarmorpopup" class="overlay">
              <div class="popup">
                <h2>Mobility Armor Modifier</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p>Your Body Derived Attribute is your base level of Damage Reduction. Is is added to your equipped Armor Values to the left, to form your Damage Reduction Totals on the right.
                  </p>
                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span title="Cutting damage reduction" class="attc">c</span>
          <span title="Piercing damage reduciton" class="attp">p</span>
          <span title="Blunt damage reduction" class="attb">b</span>
          <span title="Energy or Magic damage reduction" class="atte">e</span>

          <span title="Action Point Modifier" class="atAPM">

            <div class="box">
              <a class="button" href="#popup-apmod">AP Mod</a>
            </div> <!-- close box -->
            <div id="popup-apmod" class="overlay">
              <div class="popup">
                <h2>Damage Reduction Totals</h2>
                <a class="close" href="#">×</a>
                <div class="content">

                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span title="Modifier to Stealth" class="atStealth">

            <div class="box">
              <a class="button" href="#popup-stealtharmorpopup">Stealth</a>
            </div> <!-- close box -->
            <div id="popup-stealtharmorpopup" class="overlay">
              <div class="popup">
                <h2>Stealth Armor Modifier</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p>Some Armor gives you a negative modifier to your <strong>Stealth</strong> Adventuring skill roll (a Specialization of 'Mobility'). Check the Weapons and Armor tables for your specific equipped armor.
                  </p>
                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span title="Modifier to Mobility" class="atStealth">

            <div class="box">
              <a class="button" href="#popup-mobilityarmorpopup">Mobility</a>
            </div> <!-- close box -->
            <div id="popup-mobilityarmorpopup" class="overlay">
              <div class="popup">
                <h2>Mobility Armor Modifier</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p>Some Armor gives you a negative modifier to your <strong>Mobility</strong> Adventuring skill roll. Check the Weapons and Armor tables for your specific equipped armor.
                  </p>
                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>


          <span class="atLocation">Location / Other</span>
        </div>



        <fieldset class="repeating_armor">
          <div class="armor-fillinrepeating">
            <input type="text" name="attr_armor" value="">
            <input type="text" name="attr_armorvalue" value="">
            <input type="text" name="attr_atP" value="">
            <input type="text" name="attr_atB" value="">
            <input type="text" name="attr_atE" value="">
            <input type="text" name="attr_armortablebody">
            <input type="text" name="attr_damagereduction" value="">
            <input type="text" name="attr_attP" value="">
            <input type="text" name="attr_attB" value="">
            <input type="text" name="attr_attE" value="">
            <input type="text" name="attr_actionpointmodifier" value="">
            <input type="text" name="attr_stealtharmormodifier" value="">
            <input type="text" name="attr_mobilityarmormodifier" value="">
            <input type="text" name="attr_location" value="">


          </div>
        </fieldset>
      </div>


<!-- Ranged Defense table -->
<div class="rangedefensetable">

  <div class="rangedefensetabletoprow">
         <span class="rangedefensesimage"><img class="SIZEImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/SZ%20Icon.png?raw=true" width="23" height="23"></span>
    <span class="rangedefenseblank"></span>
         <span class="rangedefense9-SZ">(9-SZ)</span>
         <span class="rangedefense9-SZ">(12-SZ)</span>

</div>

     <div class="rangedefensetablesecondrow">
         <span class="rangeddefenseword">

           <div class="box">
             <a class="button" href="#popup-rangeddefensepopup">Ranged Defense</a>
           </div> <!-- close box -->
           <div id="popup-rangeddefensepopup" class="overlay">
             <div class="popup">
               <h2>Ranged Defense</h2>
               <a class="close" href="#">×</a>
               <div class="content">
                 <p>An attacker rolls against a passive defense TN (target number) called your <strong>Ranged Defense</strong>. Each combatant starts at <strong>TN 9</strong> while <strong>still</strong> or surprised, and <strong>TN 12</strong> if <strong>moving or in melee</strong>.
                   <br><br>
                   Characters Size and equipped shields can change your Ranged Defense TN.
                   <ul>
                     <li><strong>Size </strong>modifier <em><strong>subtracts</strong></em> from it (inverted or negative).</li>
                     <li><strong>Shields </strong><em><strong>increase</strong></em> your defense.</li>
                  A character may still choose to <strong>Dodge or Block</strong> instead of using their passive Ranged Defense value. If they do, they take the higher of the two between the roll and their passive score.
                  <br><br>
                  Standing, siting, or staying <strong>still</strong> while attacking (not moving for the round) gives advantage to any attacks.
                 </p>
                                     </div> <!-- close content -->
             </div> <!-- close popup -->
           </div> <!-- close popup1 id overlay -->
           </span>

         <span title="Modifier" class="rangedefensemodifier">Mod</span>
         <span title="Defense if standing still" class="rangedefensestill">



           Still</span>
              <span title="Defense if moving or in Melee" class="rangedefensemoving">Moving</span>

        </div>

      <div class="rangedefensetableinputrow">
            <span class="rangedefenseunarmedword">Size Modifier</span>
        <input type="number" name="attr_rangeddefensemodifier" placeholder="0">
        <input type="number" name="attr_rangeddefenseninenumber" placeholder="9">
            <input type="number" name="attr_rangeddefensetwelvenumber" placeholder="12">

           </div>

           <div class="rangedefensetableinputrow">
                 <span class="rangeddefenseshieldword">Shield</span>
             <input type="number" name="attr_rangeddefenseshieldmodifier" placeholder="0">
             <input type="number" name="attr_rangeddefenseshieldninenumber" placeholder="9">
                 <input type="number" name="attr_rangeddefenseshieldtwelvenumber" placeholder="12">

              </div>
 </div>


<!-- Spells -->
<div class="spelltable">
  <div class="strow">
    <span class="stspells">Spells & Abilities</span>
    <span title="Damage or Amount of Spell Effect" class="stDmg">Dmg</span>

    <span class="stOpp">Type</span>
    <span class="stArea">Area</span>
    <span class="stDuration">Duration</span>
    <span class="stRange">Range</span>
    <span title="Spell Level" class="stLVL">LVL</span>
    <span title="number added to spell roll" class="stRoll">Roll+</span>
    <span title="Combat Point cost to cast" class="stCP">CP</span>
    <span class="stRollbutton">Roll</span>
    <span class="stDescription">Description</span>
  </div>
  <fieldset class="repeating_spells">
    <div class="strepeating">
      <input type="text" name="attr_spellorability" value="">
      <input type="text" name="attr_spelldamage" value="">

      <input type="text" name="attr_spellopposed" value="">
      <input type="text" name="attr_spellarea" value="">
      <input type="text" name="attr_spellduration" value="">
      <input type="text" name="attr_spellrange" value="">

      <input type="text" name="attr_spelllevel" value="">
      <input type="text" name="attr_spellskill" value="">
      <input type="text" name="attr_strcp" value="">
      <span class="spellrollbutton">
        <button class="sheet-d6-dice" type="roll" value=
                '&{template:dodas} {{name=@{character_name} @{spellorability} }} {{attack=[[2d6 + @{spellskill}]][[2d6 + @{spellskill}]][[2d6 + @{spellskill}]]}} {{Damage=@{spelldamage} + [[1d6]][[1d6]][[1d6]]}} {{Type=@{spellopposed}}} {{Area=@{spellarea}}} {{Duration=@{spellduration}}} {{Range=@{spellrange}}} {{LVL=@{spelllevel}}} {{Description=@{spelldescription}}} '
                name="roll_spellreapeatingbutton"></button></span>
      <input type="text" name="attr_spelldescription" value="">


      <!--
      <span><button type="roll"
          value='&{template:dodas1} {{name=@{charcter_name} @{spellorability} }} {{attack=[[2d6 + @{strroll}]]}} {{Damage=@{spelldamage} + [[1d6]][[1d6]][[1d6]]}} {{Opposed=@{stropp}}} {{Spell Range=@{strrange}}} {{Spell Area=@{strarea}}} {{Spell Duration=@{strduration}}} {{Spell LVL=@{strlvl}}} {{Spell Description=@{strdescription}}} '
          name="roll_spellreapeatingbutton"></button></span>
          -->
    </div>
  </fieldset>
</div>



<!-- SKILLS AND ABILITIES -->

<!-- COMBAT SKILLS INITIAL TABLE -->
<input type="checkbox" class="sheet-combathidemathcheckbox" name="attr_combatskillshidemathcheckbox">

  <div class="sheet-block-combatfulltable">

    <div class="skilltable">
      <div class="skilltablerow">

        <span class="str1Skillsand">

          <div class="box">
            <a class="button" href="#popup-combatskillsskillpopup">Combat</a>
          </div> <!-- close box -->
          <div id="popup-combatskillsskillpopup" class="overlay">
            <div class="popup">
              <h2>Combat Skills table</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p>Your <strong>Combat Skills </strong>table is used to determine your starting CP for your equipped weapon, as well as track any <strong>maneuver specializations</strong> or other modifiers. It is <strong>NOT used to make rolls directly</strong>. This is something 'Duels of Dreams' does a little different, and it's important to keep in mind. When you're <strong>in combat</strong> use the <strong>Melee Weapons, Ranged Weapons, Armor, & Ranged Defense</strong> tables for making attack and defense rolls, etc.
                  <br><br>
                  The number in the <strong>total</strong> column is your CP Total for any weapon equipped. This is your base value, and includes your AP Attribute already. You can add this value, +/- any AP Mod from equipment, directly to the weapon tables.
                </p>
                                    </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <span><input type="checkbox" class="sheet-duplicatecheckbox" name="attr_combatskillshidemathcheckbox"></span>
        <span class="hidemathtext">


          <div class="box">
            <a class="button" href="#popup-hidemathskillpopup" style="font-style: italic;">Hide Math</a>
          </div> <!-- close box -->
          <div id="popup-hidemathskillpopup" class="overlay">
            <div class="popup">
            <h2>Hide Math</h2>
            <a class="close" href="#">×</a>
            <div class="content">
              <p>Clicking this checkbox shows two different version of this table. One is more complex, has more math, and shows all the different steps and variables that might factor into your skill totals, which is best used while building a character. During gameplay, a more compact table is much more useful for quick reference, and clicking roll buttons.
              </p>
                                  </div> <!-- close content -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <span></span>
        <span title="Which Tier is the Skill?" class="str1TiersbyCost">

          <div class="box">
            <a class="button" href="#popup-tiersbycostskillpopup">Tiers by Cost</a>
          </div> <!-- close box -->
          <div id="popup-tiersbycostskillpopup" class="overlay">
            <div class="popup">
              <h2>Tiers by Cost</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p>	The cost of a <strong>+1 modifier</strong> is divided into <strong>Tiers</strong>. The tier number is how many points it costs for a +1 modifier in that Skill, Attribute, Specialization, etc. See the <strong>Tier Table</strong> for costs of each <em><strong>Attribute</strong></em> or <em><strong>Skill</strong></em>, or check which input is highlighted on this sheet in the 'tiers by cost' column.
                  <br><br>
                  Skills and attributes start <strong>broad</strong> to the left, and get <strong>more specific</strong> and cheaper to the right. Skill Tiers are organized into <strong>Skill Groups</strong>. Any Skill to the right on the Tier table, is a <strong>specialization</strong> of the skill group to the left of it. You can have multiple skill groups within a skill group, and can specialize <strong>multiple times</strong>.
                  <ul>
                    <li><em><strong>For example: </strong></em> All Combat (Tier 5) > Melee Combat (Tier 4) > Specific Weapon (Tier 2) > Specific Weapon Maneuver (Tier 1). Each is a specialization of the Skill Group a Tier above it.
                      </li>
                      <ul>
              When you increase a skill specialization, the Skill Group the tier above it increases via <strong>synergy</strong>. Every +3 total in any number of specializations in that tier, gives +1 synergy bonus to the skill group above it.
              <br><br>
              <i>See the full Character Creation rules for a more comprehensive explanation.</i>
                </p>
                                    </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <span class="str1Synergy">

          <div class="box">
            <a class="button" href="#popup-synergyskillpopup">Synergy</a>
          </div> <!-- close box -->
          <div id="popup-synergyskillpopup" class="overlay">
            <div class="popup">
              <h2>Synergy</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p>When you increase a skill <strong>specialization</strong>, the Skill Group the tier above it increases via <strong>synergy</strong>. Every <strong>+3</strong> total in any number of specializations (within the same Skill Group and Tier), gives <strong>+1 Synergy Bonus</strong> to the skill group above it. This scales indefinitely.
                  <br>
                  <ul>
                    <li><strong>For example: </strong>If you specialize in 'Arming Sword & Shield' as a 'specific weapon' (at Tier 2) and put +2 in it, and also give +1 to your 'Grapple' weapon skill at Tier 2, then your 'Melee Combat' skill at Tier 4 gets a +1 Synergy Bonus. If you give +2 to three different weapons (+6 Total), then 'Melee Combat' gets +2 Synergy Bonus.
                      </li>
                      <ul>
                        <strong>Synergy Offset</strong> gives a -1 modifier to any skill specialization that increases to +3 on its own, and for every additional +3. This helps balance the game by preventing a free +1 for every +3 in a skill, especially for hyper specialized builds.
                </p>
                                    </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <span class="str1Above">

          <div class="box">
            <a class="button" href="#popup-abovesubskillpopup">Above</a>
          </div> <!-- close box -->
          <div id="popup-abovesubskillpopup" class="overlay">
            <div class="popup">
              <h2>Above Sub (Subtotal)</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p>Skills that share a skill group add up their modifiers to create a <strong>'subtotal'</strong>. This column is intended to help keep track of multiple modifiers adding together, and to separate this process from Synergy.
                  <br>
                  <ul>
                    <li><strong>For example: </strong> You have +1 in 'All Combat', +2 in 'Melee combat', and +2 in 'Grapple'. If in the 'Melee Combat' row, you would add your +1 from 'All Combat' and your +2 in 'Melee Combat' for a subtotal of +3. The +3 would then get filled into the 'Above Sub' column box. In the 'Grapple' row (a tier below), you would add the +3 from the 'Melee Combat' Above Sub column, to your +2 in 'Grapple', for a new 'Above sub' of +5. The modifiers are cumulative.
                      </li>
                      <ul>
                        <strong>Maneuver specializations</strong> do not add the subtotal from the skill group they are a part of. They act independently, as a separate modifier during combat.
                </p>
                                    </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <span class="str1Sub">

          <div class="box">
            <a class="button" href="#popup-subtotalskillpopup">Sub</a>
          </div> <!-- close box -->
          <div id="popup-subtotalskillpopup" class="overlay">
            <div class="popup">
              <h2>Subtotal</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p>	The <strong>subtotal</strong> column adds up the cumulative modifiers from your initial skill modifier + synergy + 'above sub', to give you a modifier total <strong>before adding Attribute modifiers</strong>. The final total is then tracked on the far left column of this table.
                </p>
                                    </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <span class="str1RelevantAttributes">

          <div class="box">
            <a class="button" href="#popup-relevantattributesskillpopup">Relevant Attributes</a>
          </div> <!-- close box -->
          <div id="popup-relevantattributesskillpopup" class="overlay">
            <div class="popup">
              <h2>Relevant Attributes</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p>Each skill or skill group has one or two Attribute (or Derived Attribute) modifiers that are added to the final total. See the 'Combat Skills' and 'Adventuring Skills' sections for more details. Otherwise, the relevant Attributes are included on the character sheet for each skill group.
                </p>
                                    </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <span class="str1OtherModifiersTop">Other</span>
      </div>

      <div class="skilltablerow2">
        <span class="str2Abilities">

          <div class="box">
            <a class="button" href="#popup-combatskillsskillpopup">Skills</a>
          </div> <!-- close box -->
          <div id="popup-combatskillsskillpopup" class="overlay">
            <div class="popup">
              <h2>Combat Skills table</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p>Your <strong>Combat Skills </strong>table is used to determine your starting CP for your equipped weapon, as well as track any <strong>maneuver specializations</strong> or other modifiers. It is <strong>NOT used to make rolls directly</strong>. This is something 'Duels of Dreams' does a little different, and it's important to keep in mind. When you're <strong>in combat</strong> use the <strong>Melee Weapons, Ranged Weapons, Armor, & Ranged Defense</strong> tables for making attack and defense rolls, etc.
                  <br><br>
                  The number in the <strong>total</strong> column is your CP Total for any weapon equipped. This is your base value, and includes your AP Attribute already. You can add this value, +/- any AP Mod from equipment, directly to the weapon tables.
                </p>
                                    </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <span class="str2Total">

          <div class="box">
            <a class="button" href="#popup-totalcombatcolumnskillpopup">Total</a>
          </div> <!-- close box -->
          <div id="popup-totalcombatcolumnskillpopup" class="overlay">
            <div class="popup">
              <h2>Total - Combat Skills</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p>This number is used to start calculating your <strong>CP Total</strong> for any weapons equipped. This is your base value, and includes your AP Attribute already. You can add this value, +/- any AP Mod from equipment, directly to the weapon tables.
                </p>
                                    </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <span class="str2Roll"></span>
        <span class="str2Tier">

          <div class="box">
            <a class="button" href="#popup-tiersbycostskillpopup">Tier</a>
          </div> <!-- close box -->
          <div id="popup-tiersbycostskillpopup" class="overlay">
            <div class="popup">

            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <span class="str2Cost">

          <div class="box">
            <a class="button" href="#popup-pointscolumncombatskillpopup">Points</a>
          </div> <!-- close box -->
          <div id="popup-pointscolumncombatskillpopup" class="overlay">
            <div class="popup">
              <h2>Points Spent column</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p>The modifier of each skill, times the tier cost, is entered here. This number is used to add up how many points you've spent.
                  <br>
                  <ul>
                    <li><strong>For example:</strong> Melee Combat is Tier 4. +2 in Melee Combat, x 4 at Tier 4, is 8 points. So you'd put 8 in this column.
                      </li>
                      </ul>
                </p>
                                    </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <span title="Tier 5" class="str27">5</span>
        <span title="Tier 4" class="str24">4</span>
        <span title="Tier 3 (Optional)" class="str22">

          <div class="box">
            <a class="button" href="#popup-3tiercombatskillpopup">3</a>
          </div> <!-- close box -->
          <div id="popup-3tiercombatskillpopup" class="overlay">
            <div class="popup">
              <h2>Optiona Tier 3</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p>This tier is optional. If it is not used, it is skipped over for purposes of determining synergy, and what is considered a specialization. Thus Tier 2 is considered a specialization of Tier 4. The optional Tier here is if you want a <strong>Weapon Group</strong> skill (such as swords, polearms, mass weapon & shield,  etc.).
                </p>
                                    </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
        </span>

        <span title="Tier 2" class="str21">2</span>
        <span title="Tier 1" class="str2star">1</span>
        <span class="str2Bonus">

          <div class="box">
            <a class="button" href="#popup-synergyskillpopup">Bonus</a>
          </div> <!-- close box -->
          <div id="popup-synergyskillpopup" class="overlay">
            <div class="popup">

            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <span class="str2Offset">

          <div class="box">
            <a class="button" href="#popup-synergyskillpopup">Offset</a>
          </div> <!-- close box -->
          <div id="popup-synergyskillpopup" class="overlay">
            <div class="popup">

            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <span class="str2AboveSub">

          <div class="box">
            <a class="button" href="#popup-abovesubskillpopup">Sub</a>
          </div> <!-- close box -->
          <div id="popup-abovesubskillpopup" class="overlay">
            <div class="popup">
              <h2>Above Sub (Subtotal)</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p>Skills that share a skill group add up their modifiers to create a <strong>'subtotal'</strong>. This column is intended to help keep track of multiple modifiers adding together, and to separate this process from Synergy.
                  <br>
                  <ul>
                    <li><strong>For example: </strong> You have +1 in 'All Combat', +2 in 'Melee combat', and +2 in 'Grapple'. If in the 'Melee Combat' row, Your 'above sub' (subtotal) would add your +1 from 'All Combat' and your +2 in 'Melee Combat' for a subtotal of +3. The +3 would then get filled into the above sub column box. In the 'Grapple' row, you would add the cumulative +3 from 'Melee Combat' above sub, to your +2 in 'Grapple', for a new 'Above sub' of +5.
                      </li>
                      <ul>
                        <strong>Maneuver specializations</strong> do not add the subtotal from the skill group they are a part of. They act independently, as a separate modifier during combat
                </p>
                                    </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <span class="str2Sub">

          <div class="box">
            <a class="button" href="#popup-subtotalskillpopup">Total</a>
          </div> <!-- close box -->
          <div id="popup-subtotalskillpopup" class="overlay">
            <div class="popup">

            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <span title="Attribute used for skill" class="str2ATR1">ATR</span>
        <span title="Attribute modifier" class="str2Mod1">Mod</span>
        <span title="Attribute two used for skill" class="str2ATR2">ATR</span>
        <span title="Attribute modifier" class="str2Mod2">Mod</span>
        <span class="OtherModifiersBottom">Modifiers</span>
      </div>

<!-- initial skill categories -->
    <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

      <span class="skillnamefieldprimary" name="attr_allcombat">All Combat<img src ="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/battle-gear.png?raw=true" style="left: -81pt;">
        </span>

      <input type="text" class="skilltotalfield" name="attr_allcombatskilltotal" value="">
      <span class="skillrollbutton"></span>
      <input type="text" class="tiercostcolumn" name="attr_allcombattiercost" value="5">
      <input type="text" class="costcolumn" name="attr_allcombatpoints" value="">
      <input type="number" class="tiersevenfield" name="attr_allcombattierfive" value="">
      <input type="number" class="tierfourfield" name="attr_allcombattierfour" value="">
      <input type="number" class="tiertwofield" name="attr_allcombattierthree" value="">
      <input type="number" class="tieronefield" name="attr_allcombattiertwo" value="">
      <input type="number" class="tierstarfield" name="attr_allcombattierone" value="">
      <input type="number" class="tierabovesubfield" name="attr_allcombattierabovesub" value="">
      <input type="number" class="synergybonusfield" name="attr_allcombatsynergybonus" value="">
      <input type="number" class="synergyoffsetfield" name="attr_allcombatsynergyoffset" value="">
      <input type="number" class="subtotalfield" name="attr_allcombatgroup" value="">
      <input type="text" class="firstskillATRfield" name="attr_allcombatattribute" value="AP">
      <input type="text" class="firstATRmodField" name="attr_allcombatattributemodifier" value=""> <!-- sheetworker -->
      <input type="text" class="secondATRField" name="attr_allcombatattributetwo" value="">
      <input type="text" class="secondATRmod" name="attr_allcombatattributemodifiertwo" value="">
      <input type="text" class="otherskillfield" name="attr_allcombatothermodifiersfill" value="">
      </div>


<!-- hidden attributes for repeating row calculations -->
      <input type="hidden" name="attr_total_allcombatspec" value="0">
      <input type="hidden" name="attr_total_meleespec" value="0">
      <input type="hidden" name="attr_total_rangedspec" value="0">

      <!-- all combat SPECIALIZATIONS -->
      <fieldset class="repeating_allcombatspec">
         <div class="skillsfillrepeatingsecondary">

           <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
           <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
           <span class="skillrollbutton"></span>
           <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
           <input type="text" class="costcolumn" name="attr_points" value="">
           <input type="number" class="tierfivefield" name="attr_tierfive" value="">
           <input type="number" class="tierfourfield" name="attr_tierfour" value="">
           <input type="number" class="tierthreefield" name="attr_tierthree" value="">
           <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
           <input type="number" class="tieronefield" name="attr_tierone" value="">
           <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
           <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
           <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
           <input type="number" class="subtotalfield" name="attr_group" value="">
           <input type="text" class="firstskillATRfield" name="attr_attribute" value="AP">
           <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
           <input type="text" class="secondATRField" name="attr_attributetwo" value="">
           <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
           <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
           </div>
       </fieldset>

       <!-- melee combat -->
       <div class="meleeandrangerow"> <!-- class is a misnomer leftover from before -->

          <span class="skillnamefield" name="attr_meleecombat">Melee Combat <img src ="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/crossed-sabres.png?raw=true" style="left: -112px;"></span>
          <input type="text" class="skilltotalfield" name="attr_meleecombatskilltotal" value="">
          <span class="skillrollbutton"></span>
          <input type="text" class="tiercostcolumn" name="attr_meleecombattiercost" value="4">
          <input type="text" class="costcolumn" name="attr_meleecombatpoints" value="">
          <input type="number" class="tierfivefield" name="attr_meleecombattierfive" value="">
          <input type="number" class="tierfourfield" name="attr_meleecombattierfour" value="">
          <input type="number" class="tierthreefield" name="attr_meleecombattierthree" value="">
          <input type="number" class="tiertwofield" name="attr_meleecombattiertwo" value="">
          <input type="number" class="tieronefield" name="attr_meleecombattierone" value="">
          <input type="number" class="tierabovesubfield" name="attr_meleecombattierabovesub" value="">
          <input type="number" class="synergybonusfield" name="attr_meleecombatsynergybonus" value="">
          <input type="number" class="synergyoffsetfield" name="attr_meleecombatsynergyoffset" value="">
          <input type="number" class="subtotalfield" name="attr_meleecombatgroup" value="">
          <input type="text" class="firstskillATRfield" name="attr_meleecombatattribute" value="AP">
          <input type="text" class="firstATRmodField" name="attr_meleecombatattributemodifier" value=""> <!-- pull sheetworker value -->
          <input type="text" class="secondATRField" name="attr_meleecombatattributetwo" value="">
          <input type="text" class="secondATRmod" name="attr_meleecombatattributemodifiertwo" value="">
          <input type="text" class="otherskillfield" name="attr_meleecombatothermodifiersfill" value="">
           </div>

       <!-- Melee Combat SPECIALIZATIONS -->
      <fieldset class="repeating_meleespec">
         <div class="skillsfillrepeatingtertiary">

           <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
           <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
           <span class="skillrollbutton"> </span>
           <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
           <input type="text" class="costcolumn" name="attr_points" value="">
           <input type="number" class="tierfivefield" name="attr_tierfive" value="">
           <input type="number" class="tierfourfield" name="attr_tierfour" value="">
           <input type="number" class="tierthreefield" name="attr_tierthree" value="">
           <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
           <input type="number" class="tieronefield" name="attr_tierone" value="">
           <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
           <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
           <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
           <input type="number" class="subtotalfield" name="attr_group" value="">
           <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
           <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
           <input type="text" class="secondATRField" name="attr_attributetwo" value="">
           <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
           <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
           </div>
       </fieldset>

        <!-- ranged combat skills -->
       <div class="meleeandrangerow"> <!-- class is a misnomer leftover from before -->

          <span class="skillnamefield" name="attr_rangedcombat">Ranged Combat<img src ="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/high-shot.png?raw=true" style="left: -116px;"></span>
          <input type="text" class="skilltotalfield" name="attr_rangedcombatskilltotal" value="">
          <span class="skillrollbutton"></span>
          <input type="text" class="tiercostcolumn" name="attr_rangedcombattiercost" value="4">
          <input type="text" class="costcolumn" name="attr_rangedcombatpoints" value="">
          <input type="number" class="tierfivefield" name="attr_rangedcombattierfive" value="">
          <input type="number" class="tierfourfield" name="attr_rangedcombattierfour" value="">
          <input type="number" class="tierthreefield" name="attr_rangedcombattierthree" value="">
          <input type="number" class="tiertwofield" name="attr_rangedcombattiertwo" value="">
          <input type="number" class="tieronefield" name="attr_rangedcombattierone" value="">
          <input type="number" class="tierabovesubfield" name="attr_rangedcombattierabovesub" value="">
          <input type="number" class="synergybonusfield" name="attr_rangedcombatsynergybonus" value="">
          <input type="number" class="synergyoffsetfield" name="attr_rangedcombatsynergyoffset" value="">
          <input type="number" class="subtotalfield" name="attr_rangedcombatgroup" value="">
          <input type="text" class="firstskillATRfield" name="attr_rangedcombatattribute" value="AP">
          <input type="text" class="firstATRmodField" name="attr_rangedcombatattributemodifier" value="">
          <input type="text" class="secondATRField" name="attr_rangedcombatattributetwo" value="">
          <input type="text" class="secondATRmod" name="attr_rangedcombatattributemodifiertwo" value="">
          <input type="text" class="otherskillfield" name="attr_rangedcombatothermodifiersfill" value="">
           </div>

       <!-- Ranged Combat SPECIALIZATIONS -->
      <fieldset class="repeating_rangedspec">
         <div class="skillsfillrepeatingtertiary">

           <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
           <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
           <span class="skillrollbutton"></span>
           <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
           <input type="text" class="costcolumn" name="attr_points" value="">
           <input type="number" class="tierfivefield" name="attr_tierfive" value="">
           <input type="number" class="tierfourfield" name="attr_tierfour" value="">
           <input type="number" class="tierthreefield" name="attr_tierthree" value="">
           <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
           <input type="number" class="tieronefield" name="attr_tierone" value="">
           <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
           <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
           <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
           <input type="number" class="subtotalfield" name="attr_group" value="">
           <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
           <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
           <input type="text" class="secondATRField" name="attr_attributetwo" value="">
           <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
           <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
           </div>
       </fieldset>
  </div> <!-- close sheet-block-fulltable -->
</div> <!-- fix 'skillsandpoints', 'spellstab', and 'story' tab -->


 <!-- COMPACT COMBAT table -->
 <div class="sheet-block-combatnomathtable">

     <div class="adventuringgridalttable"> <!-- change/keep name or check CSS? -->
       <div class="skilltablerow">

         <span class="str1Skillsand">

           <div class="box">
             <a class="button" href="#popup-combatskillscompactskillpopup">Combat</a>
           </div> <!-- close box -->
           <div id="popup-combatskillscompactskillpopup" class="overlay">
             <div class="popup">
               <h2>Combat Skills table</h2>
               <a class="close" href="#">×</a>
               <div class="content">
                 <p>Your <strong>Combat Skills </strong>table is used to determine your starting CP for your equipped weapon, as well as track any <strong>maneuver specializations</strong> or other modifiers. It is <strong>NOT used to make rolls directly</strong>. This is something 'Duels of Dreams' does a little different, and it's important to keep in mind. When you're <strong>in combat</strong> use the <strong>Melee Weapons, Ranged Weapons, Armor, & Ranged Defense</strong> tables for making attack and defense rolls, etc.
                   <br><br>
                   The number in the <strong>total</strong> column is your CP Total for any weapon equipped. This is your base value, and includes your AP Attribute already. You can add this value, +/- any AP Mod from equipment, directly to the weapon tables.
                 </p>
                                     </div> <!-- close content -->
             </div> <!-- close popup -->
           </div> <!-- close popup1 id overlay -->
           </span>

         <span><input type="checkbox" class="sheet-duplicatecheckbox" name="attr_combatskillshidemathcheckbox"></span>
         <span class="hidemathtext">

           <div class="box">
             <a class="button" href="#popup-hidemathcompactcombatskillpopup" style="font-style: italic;">Hide Math</a>
           </div> <!-- close box -->
           <div id="popup-hidemathcompactcombatskillpopup" class="overlay">
             <div class="popup">
             <h2>Hide Math</h2>
             <a class="close" href="#">×</a>
             <div class="content">
               <p>Clicking this checkbox shows two different version of this table. One is more complex, has more math, and shows all the different steps and variables that might factor into your skill totals, which is best used while building a character. During gameplay, a more compact table is much more useful for quick reference, and clicking roll buttons.
               </p>
                                   </div> <!-- close content -->
           </div> <!-- close popup1 id overlay -->
           </span>

         <span></span>

       </div>

       <div class="gridalttablecontainer">

         <div class="combatalttabletitlerow">

           <span class="str2Abilities">

             <div class="box">
               <a class="button" href="#popup-combatskillscompactskillpopup">Skills</a>
             </div> <!-- close box -->
             <div id="popup-combatskillscompactskillpopup" class="overlay">
               <div class="popup">
                 <h2>Combat Skills table</h2>
                 <a class="close" href="#">×</a>
                 <div class="content">
                   <p>Your <strong>Combat Skills </strong>table is used to determine your starting CP for your equipped weapon, as well as track any <strong>maneuver specializations</strong> or other modifiers. It is <strong>NOT used to make rolls directly</strong>. This is something 'Duels of Dreams' does a little different, and it's important to keep in mind. When you're <strong>in combat</strong> use the <strong>Melee Weapons, Ranged Weapons, Armor, & Ranged Defense</strong> tables for making attack and defense rolls, etc.
                     <br><br>
                     The number in the <strong>total</strong> column is your CP Total for any weapon equipped. This is your base value, and includes your AP Attribute already. You can add this value, +/- any AP Mod from equipment, directly to the weapon tables.
                   </p>
                                       </div> <!-- close content -->
               </div> <!-- close popup -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span class="str2Total">

             <div class="box">
               <a class="button" href="#popup-totalcombatcolumncompactskillpopup">Total</a>
             </div> <!-- close box -->
             <div id="popup-totalcombatcolumncompactskillpopup" class="overlay">
               <div class="popup">
                 <h2>Total - Combat Skills</h2>
                 <a class="close" href="#">×</a>
                 <div class="content">
                   <p>This number is used to start calculating your <strong>CP Total</strong> for any weapons equipped. This is your base value, and includes your AP Attribute already. You can add this value, +/- any AP Mod from equipment, directly to the weapon tables.
                   </p>
                                       </div> <!-- close content -->
               </div> <!-- close popup -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span></span>


         </div>

       <div class="combatcompactcolumn1">
     <!-- initial skill categories -->
         <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->
           <!-- maybe change below to div, or back to span which it was originally and see what happens -->



             <!-- ORIGINAL STUFF  -->
             <span class="skillnamefieldprimary" name="attr_allcombat">All Combat<img src ="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/battle-gear.png?raw=true" style="left: -81pt;">
               </span>



           <input type="text" class="skilltotalfield" name="attr_allcombatskilltotal" value="">
           <span class="skillrollbutton"></span>
           </div>


           <!-- all combat SPECIALIZATIONS -->
           <fieldset class="repeating_allcombatspec">
              <div class="skillsfillrepeatingsecondary">

                <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                <span class="skillrollbutton"></span>
                </div>
            </fieldset>

            <!-- melee combat -->
            <div class="meleeandrangerow"> <!-- class is a misnomer leftover from before -->

               <span class="skillnamefield" name="attr_meleecombat">Melee Combat <img src ="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/crossed-sabres.png?raw=true" style="left: -112px;"></span>
               <input type="text" class="skilltotalfield" name="attr_meleecombatskilltotal" value="">
               <span class="skillrollbutton"></span>
                </div>

            <!-- Melee Combat SPECIALIZATIONS -->
           <fieldset class="repeating_meleespec">
              <div class="skillsfillrepeatingtertiary">

                <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                <span class="skillrollbutton"> </span>
                </div>
            </fieldset>

             <!-- ranged combat skills -->
            <div class="meleeandrangerow"> <!-- class is a misnomer leftover from before -->

               <span class="skillnamefield" name="attr_rangedcombat">Ranged Combat<img src ="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/high-shot.png?raw=true" style="left: -116px;"></span>
               <input type="text" class="skilltotalfield" name="attr_rangedcombatskilltotal" value="">
               <span class="skillrollbutton"></span>
                </div>

            <!-- Ranged Combat SPECIALIZATIONS -->
           <fieldset class="repeating_rangedspec">
              <div class="skillsfillrepeatingtertiary">

                <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                <span class="skillrollbutton"></span>

              </div>
            </fieldset>
        </div>
        </div> <!-- close combat column? -->
</div> <!-- close nomathtable -->
</div>


<input type="checkbox" class="sheet-hidemathcheckbox" name="attr_skillshidemathcheckbox">
      <!-- ADVENTURING SKILLS REPEAT -->
<div class="sheet-block-fulltable">

         <div class="skilltable">
         <div class="skilltablerow">

           <span class="str1Skillsand">

             <div class="box">
               <a class="button" href="#popup-adventuringskillsskillpopup">Adventuring</a>
             </div> <!-- close box -->
             <div id="popup-adventuringskillsskillpopup" class="overlay">
               <div class="popup">
                 <h2>Adventuring Skills</h2>
                 <a class="close" href="#">×</a>
                 <div class="content">
                   <p>The <strong>Adventuring Skills </strong>table is used to keep track of Adventuring Skill points spent, and skill modifiers. Unlike the 'Combat Skills' table, you'll be making rolls directly from this table. It has a larger more complex view for adding up modifiers (when the 'hide math' checkbox is unchecked), and a more compact view (when the 'hide math button is checked') useful during gameplay.
                     <br><br>
                     The number in the <strong>total</strong> column is added to 2d6, when clicking on the roll button to the right of it.
                   </p>
                                       </div> <!-- close content -->
               </div> <!-- close popup -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span><input type="checkbox" class="sheet-duplicatecheckbox" name="attr_skillshidemathcheckbox"></span>
           <span class="hidemathtext">

             <div class="box">
               <a class="button" href="#popup-hidemathadventuringskillpopup" style="font-style: italic;">Hide Math</a>
             </div> <!-- close box -->
             <div id="popup-hidemathadventuringskillpopup" class="overlay">
               <div class="popup">
               <h2>Hide Math</h2>
               <a class="close" href="#">×</a>
               <div class="content">
                 <p>Clicking this checkbox shows two different version of this table. One is more complex, has more math, and shows all the different steps and variables that might factor into your skill totals, which is best used while building a character. During gameplay, a more compact table is much more useful for quick reference, and clicking roll buttons.
                 </p>
                                     </div> <!-- close content -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span></span>
           <span title="Which Tier is the Skill?" class="str1TiersbyCost">

             <div class="box">
               <a class="button" href="#popup-tiersbycostadventuringskillpopup">Tiers by Cost</a>
             </div> <!-- close box -->
             <div id="popup-tiersbycostadventuringskillpopup" class="overlay">
               <div class="popup">
                 <h2>Tiers by Cost</h2>
                 <a class="close" href="#">×</a>
                 <div class="content">
                   <p>	The cost of a <strong>+1 modifier</strong> is divided into <strong>Tiers</strong>. The tier number is how many points it costs for a +1 modifier in that Skill, Attribute, Specialization, etc. See the <strong>Tier Table</strong> for costs of each <em><strong>Attribute</strong></em> or <em><strong>Skill</strong></em>, or check which input is highlighted on this sheet in the 'tiers by cost' column.
                     <br><br>
                     Skills and attributes start <strong>broad</strong> to the left, and get <strong>more specific</strong> and cheaper to the right. Skill Tiers are organized into <strong>Skill Groups</strong>. Any Skill to the right on the Tier table, is a <strong>specialization</strong> of the skill group to the left of it. You can have multiple skill groups within a skill group, and can specialize <strong>multiple times</strong>.
                     <ul>
                       <li><em><strong>For example: </strong></em> Mobility (Tier 4) > Stealth (Tier 2) > Stealth at Night (Tier 1, custom specialization). Each is a specialization of the Skill Group a Tier above it.
                         </li>
                         <ul>
                 When you increase a skill specialization, the Skill Group the tier above it increases via <strong>synergy</strong>. Every +3 total in any number of specializations in that tier, gives +1 synergy bonus to the skill group above it.
                 <br><br>
                 <i>See the full Character Creation rules for a more comprehensive explanation.</i>
                   </p>
                                       </div> <!-- close content -->
               </div> <!-- close popup -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span class="str1Synergy">

             <div class="box">
               <a class="button" href="#popup-synergyadventuringskillpopup">Synergy</a>
             </div> <!-- close box -->
             <div id="popup-synergyadventuringskillpopup" class="overlay">
               <div class="popup">
                 <h2>Synergy</h2>
                 <a class="close" href="#">×</a>
                 <div class="content">
                   <p>When you increase a skill <strong>specialization</strong>, the Skill Group the tier above it increases via <strong>synergy</strong>. Every <strong>+3</strong> total in any number of specializations (within the same Skill Group and Tier), gives <strong>+1 Synergy Bonus</strong> to the skill group above it. This scales indefinitely.
                     <br>
                     <ul>
                       <li><strong>For example: </strong>You choose to specialize in the 'Perception' skill group (Tier 4). You put +2 in 'Enemy Detection' (at Tier 2), and also give +1 to your 'Search' skill at Tier 2. Your 'Percpetion' Skill Group at Tier 4 gets a +1 Synergy Bonus. If you give +2 to three different Perception specializations (+6 Total), then 'Perception' gets +2 Synergy Bonus.
                         </li>
                         <ul>
                           <strong>Synergy Offset</strong> gives a -1 modifier to any skill specialization that increases to +3 on its own, and for every additional +3. This helps balance the game by preventing a free +1 for every +3 in a skill, especially for hyper specialized builds.
                   </p>
                                       </div> <!-- close content -->
               </div> <!-- close popup -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span class="str1Above">

             <div class="box">
               <a class="button" href="#popup-abovesubadventuringskillpopup">Above</a>
             </div> <!-- close box -->
             <div id="popup-abovesubadventuringskillpopup" class="overlay">
               <div class="popup">
                 <h2>Above Sub (Subtotal)</h2>
                 <a class="close" href="#">×</a>
                 <div class="content">
                   <p>Skills that share a skill group add up their modifiers to create a <strong>'subtotal'</strong>. This column is intended to help keep track of multiple modifiers adding together, and to separate this process from Synergy.
                     <br>
                     <ul>
                       <li><strong>For example: </strong> You have +1 in 'Mechanical Devices' (Tier 4), +2 in 'Lockpicking' (Tier 2 specialization), and +2 in 'Lockpicking: Doors' (Tier 1 custom specialization). In the 'Lockpicking' row, you would add your +1 from 'Mechanical Devices' and your +2 in 'Melee Lockpicking' for a subtotal of +3. The +3 would then get filled into the 'Above Sub' column box. In the 'Lockpicking: Doors' row (a tier below), you would add the +3 from the 'Lockpicking' Above Sub column, to your +2 in 'Lockpicking: Doors', for a new 'Above sub' of +5. The modifiers are cumulative.
                         </li>
                         <ul>
                   </p>
                                       </div> <!-- close content -->
               </div> <!-- close popup -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span class="str1Sub">

             <div class="box">
               <a class="button" href="#popup-subtotaladventuringskillpopup">Sub</a>
             </div> <!-- close box -->
             <div id="popup-subtotaladventuringskillpopup" class="overlay">
               <div class="popup">
                 <h2>Subtotal</h2>
                 <a class="close" href="#">×</a>
                 <div class="content">
                   <p>	The <strong>subtotal</strong> column adds up the cumulative modifiers from your initial skill modifier + synergy + 'above sub', to give you a modifier total <strong>before adding Attribute modifiers</strong>. The final total is then tracked on the far left column of this table.
                   </p>
                                       </div> <!-- close content -->
               </div> <!-- close popup -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span class="str1RelevantAttributes">

             <div class="box">
               <a class="button" href="#popup-relevantattributesadventuringskillpopup">Relevant Attributes</a>
             </div> <!-- close box -->
             <div id="popup-relevantattributesadventuringskillpopup" class="overlay">
               <div class="popup">
                 <h2>Relevant Attributes</h2>
                 <a class="close" href="#">×</a>
                 <div class="content">
                   <p>Each skill or skill group has one or two Attribute (or Derived Attribute) modifiers that are added to the final total. See the 'Combat Skills' and 'Adventuring Skills' sections for more details. Otherwise, the relevant Attributes are included on the character sheet for each skill group.
                   </p>
                                       </div> <!-- close content -->
               </div> <!-- close popup -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span class="str1OtherModifiersTop">Other</span>
         </div>
         <div class="skilltablerow2">

           <span class="str2Abilities">

             <div class="box">
               <a class="button" href="#popup-adventuringskillsskillpopup">Skills</a>
             </div> <!-- close box -->
             <div id="popup-adventuringskillsskillpopup" class="overlay">
               <div class="popup">
                 <h2>Adventuring Skills</h2>
                 <a class="close" href="#">×</a>
                 <div class="content">
                   <p>The <strong>Adventuring Skills </strong>table is used to keep track of Adventuring Skill points spent, and skill modifiers. Unlike the 'Combat Skills' table, you'll be making rolls directly from this table. It has a larger more complex view for adding up modifiers (when the 'hide math' checkbox is unchecked), and a more compact view (when the 'hide math button is checked') useful during gameplay.
                     <br><br>
                     The number in the <strong>total</strong> column is added to 2d6, when clicking on the roll button to the right of it.
                   </p>
                                       </div> <!-- close content -->
               </div> <!-- close popup -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span class="str2Total">

             <div class="box">
               <a class="button" href="#popup-totaladventuringskillsskillpopup">Total</a>
             </div> <!-- close box -->
             <div id="popup-totaladventuringskillsskillpopup" class="overlay">
               <div class="popup">
                 <h2>Total - Adventuring Skills</h2>
                 <a class="close" href="#">×</a>
                 <div class="content">
                   <p>This number is used to make <strong>Adventuring Skill Rolls</strong>. The number is added to 2d6 to determine your total. Click the d6 looking button to the right to make the roll.
                   </p>
                                       </div> <!-- close content -->
               </div> <!-- close popup -->
             </div> <!-- close popup1 id overlay -->
             </span>


           <span class="str2Roll">

             <div class="box">
               <a class="button" href="#popup-rolladventuringskillskillpopup">Roll</a>
             </div> <!-- close box -->
             <div id="popup-rolladventuringskillskillpopup" class="overlay">
               <div class="popup">
                 <h2>Roll - Adventuring Skill</h2>
                 <a class="close" href="#">×</a>
                 <div class="content">
                   <p>Click on this Roll button to make an adventuring skill roll. The modifier to the left in the <strong>Total</strong> column is added to the Roll.
                   </p>
                                       </div> <!-- close content -->
               </div> <!-- close popup -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span class="str2Tier">

             <div class="box">
               <a class="button" href="#popup-tiersbycostpopupadventuringskillpopup">Tiers</a>
             </div> <!-- close box -->
             <div id="popup-tiersbycostpopupadventuringskillpopup" class="overlay">
               <div class="popup">
                 <h2>Tiers by Cost</h2>
                 <a class="close" href="#">×</a>
                 <div class="content">
                   <p>	The cost of a <strong>+1 modifier</strong> is divided into <strong>Tiers</strong>. The tier number is how many points it costs for a +1 modifier in that Skill, Attribute, Specialization, etc. See the <strong>Tier Table</strong> for costs of each <em><strong>Attribute</strong></em> or <em><strong>Skill</strong></em>, or check which input is highlighted on this sheet in the 'tiers by cost' column.
                     <br><br>
                     Skills and attributes start <strong>broad</strong> to the left, and get <strong>more specific</strong> and cheaper to the right. Skill Tiers are organized into <strong>Skill Groups</strong>. Any Skill to the right on the Tier table, is a <strong>specialization</strong> of the skill group to the left of it. You can have multiple skill groups within a skill group, and can specialize <strong>multiple times</strong>.
                     <ul>
                       <li><em><strong>For example: </strong></em> Mobility (Tier 4) > Stealth (Tier 2) > Stealth at Night (Tier 1, custom specialization). Each is a specialization of the Skill Group a Tier above it.
                         </li>
                         <ul>
                 When you increase a skill specialization, the Skill Group the tier above it increases via <strong>synergy</strong>. Every +3 total in any number of specializations in that tier, gives +1 synergy bonus to the skill group above it.
                 <br><br>
                 <i>See the full Character Creation rules for a more comprehensive explanation.</i>
                   </p>
                                       </div> <!-- close content -->
               </div> <!-- close popup -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span class="str2Cost">

             <div class="box">
               <a class="button" href="#popup-pointscolumnpopupadventuringskillpopup">Points</a>
             </div> <!-- close box -->
             <div id="popup-pointscolumnpopupadventuringskillpopup" class="overlay">
               <div class="popup">
                 <h2>Points Spent column</h2>
                 <a class="close" href="#">×</a>
                 <div class="content">
                   <p>The modifier of each skill, times the tier cost, is entered here. This number is used to add up how many points you've spent.
                     <br>
                     <ul>
                       <li><strong>For example:</strong> Perception is Tier 4. +2 in Perception, x 4 at Tier 4, is 8 points. So you'd put 8 in this column.
                         </li>
                         </ul>
                   </p>
                                       </div> <!-- close content -->
               </div> <!-- close popup -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span title="Tier 5" class="str27">5</span>
           <span title="Tier 4" class="str24">4</span>
           <span title="Tier 3 (Optional)" class="str22">3</span>
           <span title="Tier 2" class="str21">2</span>
           <span title="Tier 1" class="str2star">1</span>
           <span class="str2Bonus">

             <div class="box">
               <a class="button" href="#popup-synergyadventuringskillpopup">Bonus</a>
             </div> <!-- close box -->
             <div id="popup-synergyadventuringskillpopup" class="overlay">
               <div class="popup">

               </div> <!-- close popup -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span class="str2Offset">

             <div class="box">
               <a class="button" href="#popup-synergyadventuringskillpopup">Offset</a>
             </div> <!-- close box -->
             <div id="popup-synergyadventuringskillpopup" class="overlay">
               <div class="popup">

               </div> <!-- close popup -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span class="str2AboveSub">

             <div class="box">
               <a class="button" href="#popup-abovesubadventuringskillpopup">Sub</a>
             </div> <!-- close box -->
             <div id="popup-abovesubadventuringskillpopup" class="overlay">
               <div class="popup">

               </div> <!-- close popup -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span class="str2Sub">

             <div class="box">
               <a class="button" href="#popup-subtotaladventuringskillpopup">Total</a>
             </div> <!-- close box -->
             <div id="popup-subtotaladventuringskillpopup" class="overlay">
               <div class="popup">
                 <h2>Subtotal</h2>
                 <a class="close" href="#">×</a>
                 <div class="content">
                   <p>	The <strong>subtotal</strong> column adds up the cumulative modifiers from your initial skill modifier + synergy + 'above sub', to give you a modifier total <strong>before adding Attribute modifiers</strong>. The final total is then tracked on the far left column of this table.
                   </p>
                                       </div> <!-- close content -->
               </div> <!-- close popup -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span title="Attribute used for skill" class="str2ATR1">ATR</span>
           <span title="Attribute modifier" class="str2Mod1">Mod</span>
           <span title="Attribute two used for skill" class="str2ATR2">ATR</span>
           <span title="Attribute modifier" class="str2Mod2">Mod</span>
           <span class="OtherModifiersBottom">Modifiers</span>

         </div>

         <!-- ADVENTURING SKILLS REPEATING hidden values -->
               <!-- hidden attributes for repeating row calculations -->
               <input type="hidden" name="attr_total_knowledgespec" value="0">
               <input type="hidden" name="attr_total_mobilityspec" value="0">
               <input type="hidden" name="attr_total_mechanicaldevicesspec" value="0">
               <input type="hidden" name="attr_total_medicinespec" value="0">
               <input type="hidden" name="attr_total_perceptionspec" value="0">
               <input type="hidden" name="attr_total_professionspec" value="0">
               <input type="hidden" name="attr_total_socialwitspec" value="0">
               <input type="hidden" name="attr_total_socialpersonalityspec" value="0">
               <input type="hidden" name="attr_total_strengthskillsspec" value="0">
               <input type="hidden" name="attr_total_survivaloutdoorsspec" value="0">
               <input type="hidden" name="attr_total_survivalurbanspec" value="0">

       <!-- KNOWLEDGE, start of skills -->
           <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_knowledge">Knowledge<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/bookmarklet.png?raw=true" style="left: -81pt;"></span>
             <input type="text" class="skilltotalfield" name="attr_knowledgeskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{knowledgeskill=Knowledge}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{knowledgeskilltotal}}} {{adventurerolltotal=[[2d6 + @{knowledgeskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_knowledgetiercost" value="4">
             <input type="text" class="costcolumn" name="attr_knowledgepoints" value="">
             <input type="number" class="tierfivefield" name="attr_knowledgetierfive" value="">
             <input type="number" class="tierfourfield" name="attr_knowledgetierfour" value="">
             <input type="number" class="tierthreefield" name="attr_knowledgetierthree" value="">
             <input type="number" class="tiertwofield" name="attr_knowledgetiertwo" value="">
             <input type="number" class="tieronefield" name="attr_knowledgetierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_knowledgetierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_knowledgesynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_knowledgesynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_knowledgegroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_knowledgeattribute" value="INT">
             <input type="text" class="firstATRmodField" name="attr_knowledgeattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_knowledgeattributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_knowledgeattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_knowledgeothermodifiersfill" value="">
             </div>

 <!-- Knowledge Repeating -->
           <fieldset class="repeating_knowledgespec">
           <div class="skillsfillrepeatingsecondary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{knowledgeskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
         </fieldset>

       <!-- mobility, start of skills -->
           <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_mobility">Mobility<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/run.png?raw=true" style="left: -101px;"></span>
             <input type="text" class="skilltotalfield" name="attr_mobilityskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{mobilityskill=Mobility}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{mobilityskilltotal}}} {{adventurerolltotal=[[2d6 + @{mobilityskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_mobilitytiercost" value="4">
             <input type="text" class="costcolumn" name="attr_mobilitypoints" value="">
             <input type="number" class="tierfivefield" name="attr_mobilitytierfive" value="">
             <input type="number" class="tierfourfield" name="attr_mobilitytierfour" value="">
             <input type="number" class="tierthreefield" name="attr_mobilitytierthree" value="">
             <input type="number" class="tiertwofield" name="attr_mobilitytiertwo" value="">
             <input type="number" class="tieronefield" name="attr_mobilitytierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_mobilitytierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_mobilitysynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_mobilitysynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_mobilitygroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_mobilityattribute" value="KND">
             <input type="text" class="firstATRmodField" name="attr_mobilityattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_mobilityattributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_mobilityattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_mobilityothermodifiersfill" value="">
             </div>

           <!-- mobility Repeating -->
           <fieldset class="repeating_mobilityspec">
           <div class="skillsfillrepeatingsecondary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{mobilityskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
         </fieldset>

           <!-- mechanicaldevices, start of skills -->
           <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_mechanicaldevices">Mechanical Devices<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/key-lock.png?raw=true" style="left: -131px;"></span>
             <input type="text" class="skilltotalfield" name="attr_mechanicaldevicesskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{mechanicaldevicesskill=Mechanical Devices}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{mechanicaldevicesskilltotal}}} {{adventurerolltotal=[[2d6 + @{mechanicaldevicesskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_mechanicaldevicestiercost" value="4">
             <input type="text" class="costcolumn" name="attr_mechanicaldevicespoints" value="">
             <input type="number" class="tierfivefield" name="attr_mechanicaldevicestierfive" value="">
             <input type="number" class="tierfourfield" name="attr_mechanicaldevicestierfour" value="">
             <input type="number" class="tierthreefield" name="attr_mechanicaldevicestierthree" value="">
             <input type="number" class="tiertwofield" name="attr_mechanicaldevicestiertwo" value="">
             <input type="number" class="tieronefield" name="attr_mechanicaldevicestierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_mechanicaldevicestierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_mechanicaldevicessynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_mechanicaldevicessynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_mechanicaldevicesgroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_mechanicaldevicesattribute" value="REF">
             <input type="text" class="firstATRmodField" name="attr_mechanicaldevicesattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_mechanicaldevicesattributetwo" value="INT">
             <input type="text" class="secondATRmod" name="attr_mechanicaldevicesattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_mechanicaldevicesothermodifiersfill" value="">
             </div>

           <!-- mechanicaldevices Repeating -->
           <fieldset class="repeating_mechanicaldevicesspec">
           <div class="skillsfillrepeatingsecondary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{mechanicaldevicesskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
         </fieldset>


       <!-- medicine, start of skills -->
           <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_medicine">Medicine<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/caduceus.png?raw=true" style="left: -103px;"></span>
             <input type="text" class="skilltotalfield" name="attr_medicineskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{medicineskill=Medicine}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{medicineskilltotal}}} {{adventurerolltotal=[[2d6 + @{medicineskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_medicinetiercost" value="4">
             <input type="text" class="costcolumn" name="attr_medicinepoints" value="">
             <input type="number" class="tierfivefield" name="attr_medicinetierfive" value="">
             <input type="number" class="tierfourfield" name="attr_medicinetierfour" value="">
             <input type="number" class="tierthreefield" name="attr_medicinetierthree" value="">
             <input type="number" class="tiertwofield" name="attr_medicinetiertwo" value="">
             <input type="number" class="tieronefield" name="attr_medicinetierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_medicinetierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_medicinesynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_medicinesynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_medicinegroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_medicineattribute" value="INT">
             <input type="text" class="firstATRmodField" name="attr_medicineattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_medicineattributetwo" value="REF">
             <input type="text" class="secondATRmod" name="attr_medicineattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_medicineothermodifiersfill" value="">
             </div>

           <!-- medicine Repeating -->
           <fieldset class="repeating_medicinespec">
           <div class="skillsfillrepeatingsecondary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{medicineskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
         </fieldset>

           <!-- perception, start of skills -->
           <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_perception">Perception<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/magnifying-glass.png?raw=true" style="left: -104px;"></span>
             <input type="text" class="skilltotalfield" name="attr_perceptionskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{perceptionskill=Perception}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{perceptionskilltotal}}} {{adventurerolltotal=[[2d6 + @{perceptionskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_perceptiontiercost" value="4">
             <input type="text" class="costcolumn" name="attr_perceptionpoints" value="">
             <input type="number" class="tierfivefield" name="attr_perceptiontierfive" value="">
             <input type="number" class="tierfourfield" name="attr_perceptiontierfour" value="">
             <input type="number" class="tierthreefield" name="attr_perceptiontierthree" value="">
             <input type="number" class="tiertwofield" name="attr_perceptiontiertwo" value="">
             <input type="number" class="tieronefield" name="attr_perceptiontierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_perceptiontierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_perceptionsynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_perceptionsynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_perceptiongroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_perceptionattribute" value="WIT">
             <input type="text" class="firstATRmodField" name="attr_perceptionattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_perceptionattributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_perceptionattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_perceptionothermodifiersfill" value="">
             </div>

           <!-- perception Repeating -->
           <fieldset class="repeating_perceptionspec">
           <div class="skillsfillrepeatingsecondary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{perceptionskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
         </fieldset>

           <!-- profession, start of skills -->
           <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

             <span style="padding-left: 19pt;" class="skillnamefieldprimary" name="attr_profession">Profession (Non-Adventuring)<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/village.png?raw=true" style="left: -169px;"></span>
             <input type="text" class="skilltotalfield" name="attr_professionskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{professionskill=Profession}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{professionskilltotal}}} {{adventurerolltotal=[[2d6 + @{professionskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_professiontiercost" value="1">
             <input type="text" class="costcolumn" name="attr_professionpoints" value="">
             <input type="number" class="tierfivefield" name="attr_professiontierfive" value="">
             <input type="number" class="tierfourfield" name="attr_professiontierfour" value="">
             <input type="number" class="tierthreefield" name="attr_professiontierthree" value="">
             <input type="number" class="tiertwofield" name="attr_professiontiertwo" value="">
             <input type="number" class="tieronefield" name="attr_professiontierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_professiontierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_professionsynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_professionsynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_professiongroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_professionattribute" value="">
             <input type="text" class="firstATRmodField" name="attr_professionattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_professionattributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_professionattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_professionothermodifiersfill" value="">
             </div>

           <!-- profession Repeating -->
           <fieldset class="repeating_professionspec">
           <div class="skillsfillrepeatingsecondary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{professionskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
         </fieldset>



        <!-- SOCIAL SKILLS -->
           <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_social">Social<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/shaking-hands.png?raw=true" style="left: -94px;"></span>
             <input type="text" class="skilltotalfield" name="attr_socialskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{socialskill=Social}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{socialskilltotal}}} {{adventurerolltotal=[[2d6 + @{socialskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_socialtiercost" value="5">
             <input type="text" class="costcolumn" name="attr_socialpoints" value="">
             <input type="number" class="tierfivefield" name="attr_socialtierfive" value="">
             <input type="number" class="tierfourfield" name="attr_socialtierfour" value="">
             <input type="number" class="tierthreefield" name="attr_socialtierthree" value="">
             <input type="number" class="tiertwofield" name="attr_socialtiertwo" value="">
             <input type="number" class="tieronefield" name="attr_socialtierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_socialtierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_socialsynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_socialsynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_socialgroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_socialattribute" value="WIT">
             <input type="text" class="firstATRmodField" name="attr_socialattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_socialattributetwo" value="WP">
             <input type="text" class="secondATRmod" name="attr_socialattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_socialothermodifiersfill" value="">
             </div>

       <!-- Social WIT -->
       <div class="meleeandrangerow"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefield" name="attr_socialwits">Social: Wits<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/think.png?raw=true" style="left: -78pt"></span>
             <input type="text" class="skilltotalfield" name="attr_socialwitskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{socialwitsskill=Social Wits}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{socialwitskilltotal}}} {{adventurerolltotal=[[2d6 + @{socialwitskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_socialwittiercost" value="4">
             <input type="text" class="costcolumn" name="attr_socialwitpoints" value="">
             <input type="number" class="tierfivefield" name="attr_socialwittierfive" value="">
             <input type="number" class="tierfourfield" name="attr_socialwittierfour" value="">
             <input type="number" class="tierthreefield" name="attr_socialwittierthree" value="">
             <input type="number" class="tiertwofield" name="attr_socialwittiertwo" value="">
             <input type="number" class="tieronefield" name="attr_socialwittierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_socialwittierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_socialwitsynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_socialwitsynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_socialwitgroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_socialwitattribute" value="">
             <input type="text" class="firstATRmodField" name="attr_socialwitattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_socialwitattributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_socialwitattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_socialwitothermodifiersfill" value="">
             </div>

           <!-- social wits Repeating -->
           <fieldset class="repeating_socialwitspec">
           <div class="skillsfillrepeatingtertiary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{socialwitsskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
           </fieldset>

           <!-- Social Personality -->
           <div class="meleeandrangerow"> <!-- class is a misnomer leftover from before -->

                 <span class="skillnamefield" name="attr_socialpersonality">Social: Presence<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/confrontation.png?raw=true" style="left: -121px;"></span>
                 <input type="text" class="skilltotalfield" name="attr_socialpersonalityskilltotal" value="">
                 <span class="skillrollbutton">
                   <button class="sheet-d6-dice" type="roll" value=
                   '&{template:dodasadventureskills} {{socialpersonalityskill=Social Personality}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{socialpersonalityskilltotal}}} {{adventurerolltotal=[[2d6 + @{socialpersonalityskilltotal}]]}}'
                   name="roll_skilltotalcolumn"></button> </span>
                 <input type="text" class="tiercostcolumn" name="attr_socialpersonalitytiercost" value="4">
                 <input type="text" class="costcolumn" name="attr_socialpersonalitypoints" value="">
                 <input type="number" class="tierfivefield" name="attr_socialpersonalitytierfive" value="">
                 <input type="number" class="tierfourfield" name="attr_socialpersonalitytierfour" value="">
                 <input type="number" class="tierthreefield" name="attr_socialpersonalitytierthree" value="">
                 <input type="number" class="tiertwofield" name="attr_socialpersonalitytiertwo" value="">
                 <input type="number" class="tieronefield" name="attr_socialpersonalitytierone" value="">
                 <input type="number" class="tierabovesubfield" name="attr_socialpersonalitytierabovesub" value="">
                 <input type="number" class="synergybonusfield" name="attr_socialpersonalitysynergybonus" value="">
                 <input type="number" class="synergyoffsetfield" name="attr_socialpersonalitysynergyoffset" value="">
                 <input type="number" class="subtotalfield" name="attr_socialpersonalitygroup" value="">
                 <input type="text" class="firstskillATRfield" name="attr_socialpersonalityattribute" value="WP">
                 <input type="text" class="firstATRmodField" name="attr_socialpersonalityattributemodifier" value="">
                 <input type="text" class="secondATRField" name="attr_socialpersonalityattributetwo" value="">
                 <input type="text" class="secondATRmod" name="attr_socialpersonalityattributemodifiertwo" value="">
                 <input type="text" class="otherskillfield" name="attr_socialpersonalityothermodifiersfill" value="">
                 </div>

               <!-- social Personality Repeating -->
               <fieldset class="repeating_socialpersonalityspec">
               <div class="skillsfillrepeatingtertiary">

                 <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                 <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                 <span class="skillrollbutton">
                   <button class="sheet-d6-dice" type="roll" value=
                   '&{template:dodasadventureskills} {{socialpersonalityskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                   name="roll_skilltotalcolumn"></button> </span>
                 <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
                 <input type="text" class="costcolumn" name="attr_points" value="">
                 <input type="number" class="tierfivefield" name="attr_tierfive" value="">
                 <input type="number" class="tierfourfield" name="attr_tierfour" value="">
                 <input type="number" class="tierthreefield" name="attr_tierthree" value="">
                 <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
                 <input type="number" class="tieronefield" name="attr_tierone" value="">
                 <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
                 <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
                 <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
                 <input type="number" class="subtotalfield" name="attr_group" value="">
                 <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
                 <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
                 <input type="text" class="secondATRField" name="attr_attributetwo" value="">
                 <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
                 <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
                 </div>
               </fieldset>


           <!-- strengthskills, start of skills -->
           <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_strengthskills">Strength Skills<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/muscle-up.png?raw=true" style="left: -117px;"></span>
             <input type="text" class="skilltotalfield" name="attr_strengthskillsskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{strengthskill=Strength Skills}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{strengthskillsskilltotal}}} {{adventurerolltotal=[[2d6 + @{strengthskillsskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_strengthskillstiercost" value="4">
             <input type="text" class="costcolumn" name="attr_strengthskillspoints" value="">
             <input type="number" class="tierfivefield" name="attr_strengthskillstierfive" value="">
             <input type="number" class="tierfourfield" name="attr_strengthskillstierfour" value="">
             <input type="number" class="tierthreefield" name="attr_strengthskillstierthree" value="">
             <input type="number" class="tiertwofield" name="attr_strengthskillstiertwo" value="">
             <input type="number" class="tieronefield" name="attr_strengthskillstierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_strengthskillstierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_strengthskillssynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_strengthskillssynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_strengthskillsgroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_strengthskillsattribute" value="PW">
             <input type="text" class="firstATRmodField" name="attr_strengthskillsattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_strengthskillsattributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_strengthskillsattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_strengthskillsothermodifiersfill" value="">
             </div>

           <!-- strengthskills Repeating -->
           <fieldset class="repeating_strengthskillsspec">
           <div class="skillsfillrepeatingsecondary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{strengthskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
         </fieldset>

       <!-- SURVIVAL -->
       <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefieldprimary" name="attr_survival">Survival<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/hiking.png?raw=true" style="left: -100px;"></span>
             <input type="text" class="skilltotalfield" name="attr_survivalskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{survivalskill=Survival}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{survivalskilltotal}}} {{adventurerolltotal=[[2d6 + @{survivalskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_survivaltiercost" value="5">
             <input type="text" class="costcolumn" name="attr_survivalpoints" value="">
             <input type="number" class="tierfivefield" name="attr_survivaltierfive" value="">
             <input type="number" class="tierfourfield" name="attr_survivaltierfour" value="">
             <input type="number" class="tierthreefield" name="attr_survivaltierthree" value="">
             <input type="number" class="tiertwofield" name="attr_survivaltiertwo" value="">
             <input type="number" class="tieronefield" name="attr_survivaltierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_survivaltierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_survivalsynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_survivalsynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_survivalgroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_survivalattribute" value="WIT">
             <input type="text" class="firstATRmodField" name="attr_survivalattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_survivalattributetwo" value="INT">
             <input type="text" class="secondATRmod" name="attr_survivalattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_survivalothermodifiersfill" value="">
             </div>

       <!-- Survival Outdoors -->
       <div class="meleeandrangerow"> <!-- class is a misnomer leftover from before -->

             <span class="skillnamefield" name="attr_survivaloutdoors">Survival: Outdoors<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/forest-camp.png?raw=true" style="left: -122px;"></span>
             <input type="text" class="skilltotalfield" name="attr_survivaloutdoorsskilltotal" value="">
             <span class="skillrollbutton">
               <button class="sheet-d6-dice" type="roll" value=
               '&{template:dodasadventureskills} {{survivaloutdoorsskill=Survival Outdoors}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{survivaloutdoorsskilltotal}}} {{adventurerolltotal=[[2d6 + @{survivaloutdoorsskilltotal}]]}}'
               name="roll_skilltotalcolumn"></button> </span>
             <input type="text" class="tiercostcolumn" name="attr_survivaloutdoorstiercost" value="4">
             <input type="text" class="costcolumn" name="attr_survivaloutdoorspoints" value="">
             <input type="number" class="tierfivefield" name="attr_survivaloutdoorstierfive" value="">
             <input type="number" class="tierfourfield" name="attr_survivaloutdoorstierfour" value="">
             <input type="number" class="tierthreefield" name="attr_survivaloutdoorstierthree" value="">
             <input type="number" class="tiertwofield" name="attr_survivaloutdoorstiertwo" value="">
             <input type="number" class="tieronefield" name="attr_survivaloutdoorstierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_survivaloutdoorstierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_survivaloutdoorssynergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_survivaloutdoorssynergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_survivaloutdoorsgroup" value="">
             <input type="text" class="firstskillATRfield" name="attr_survivaloutdoorsattribute" value="WIT">
             <input type="text" class="firstATRmodField" name="attr_survivaloutdoorsattributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_survivaloutdoorsattributetwo" value="INT">
             <input type="text" class="secondATRmod" name="attr_survivaloutdoorsattributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_survivaloutdoorsothermodifiersfill" value="">
             </div>

             <!-- Survival Outdoors Repeating -->
             <fieldset class="repeating_survivaloutdoorsspec">
             <div class="skillsfillrepeatingtertiary">

               <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
               <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{survivaloutdoorsskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
               <input type="text" class="costcolumn" name="attr_points" value="">
               <input type="number" class="tierfivefield" name="attr_tierfive" value="">
               <input type="number" class="tierfourfield" name="attr_tierfour" value="">
               <input type="number" class="tierthreefield" name="attr_tierthree" value="">
               <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
               <input type="number" class="tieronefield" name="attr_tierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_group" value="">
               <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
               <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_attributetwo" value="">
               <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
               </div>
             </fieldset>

             <!-- Survival Urban -->
             <div class="meleeandrangerow"> <!-- class is a misnomer leftover from before -->

                   <span class="skillnamefield" name="attr_survivalurban">Survival: Urban<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/medieval-gate.png?raw=true" style="left: -114px;"></span>
                   <input type="text" class="skilltotalfield" name="attr_survivalurbanskilltotal" value="">
                   <span class="skillrollbutton">
                     <button class="sheet-d6-dice" type="roll" value=
                     '&{template:dodasadventureskills} {{survivalurbanskill=Survival Urban}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{survivalurbanskilltotal}}} {{adventurerolltotal=[[2d6 + @{survivalurbanskilltotal}]]}}'
                     name="roll_skilltotalcolumn"></button> </span>
                   <input type="text" class="tiercostcolumn" name="attr_survivalurbantiercost" value="4">
                   <input type="text" class="costcolumn" name="attr_survivalurbanpoints" value="">
                   <input type="number" class="tierfivefield" name="attr_survivalurbantierfive" value="">
                   <input type="number" class="tierfourfield" name="attr_survivalurbantierfour" value="">
                   <input type="number" class="tierthreefield" name="attr_survivalurbantierthree" value="">
                   <input type="number" class="tiertwofield" name="attr_survivalurbantiertwo" value="">
                   <input type="number" class="tieronefield" name="attr_survivalurbantierone" value="">
                   <input type="number" class="tierabovesubfield" name="attr_survivalurbantierabovesub" value="">
                   <input type="number" class="synergybonusfield" name="attr_survivalurbansynergybonus" value="">
                   <input type="number" class="synergyoffsetfield" name="attr_survivalurbansynergyoffset" value="">
                   <input type="number" class="subtotalfield" name="attr_survivalurbangroup" value="">
                   <input type="text" class="firstskillATRfield" name="attr_survivalurbanattribute" value="WIT">
                   <input type="text" class="firstATRmodField" name="attr_survivalurbanattributemodifier" value="">
                   <input type="text" class="secondATRField" name="attr_survivalurbanattributetwo" value="INT">
                   <input type="text" class="secondATRmod" name="attr_survivalurbanattributemodifiertwo" value="">
                   <input type="text" class="otherskillfield" name="attr_survivalurbanothermodifiersfill" value="">
                   </div>

                   <!-- Survival Urban Repeating -->
                   <fieldset class="repeating_survivalurbanspec">
                   <div class="skillsfillrepeatingtertiary">

                     <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                     <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                     <span class="skillrollbutton">
                       <button class="sheet-d6-dice" type="roll" value=
                       '&{template:dodasadventureskills} {{survivalurbanskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                       name="roll_skilltotalcolumn"></button> </span>
                     <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
                     <input type="text" class="costcolumn" name="attr_points" value="">
                     <input type="number" class="tierfivefield" name="attr_tierfive" value="">
                     <input type="number" class="tierfourfield" name="attr_tierfour" value="">
                     <input type="number" class="tierthreefield" name="attr_tierthree" value="">
                     <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
                     <input type="number" class="tieronefield" name="attr_tierone" value="">
                     <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
                     <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
                     <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
                     <input type="number" class="subtotalfield" name="attr_group" value="">
                     <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
                     <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
                     <input type="text" class="secondATRField" name="attr_attributetwo" value="">
                     <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
                     <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
                     </div>
                   </fieldset>


</div> <!-- close FULL TABLE no button -->
</div> <!-- close for real? -->

  <!-- smaller skill table check tab <div class="sheet-block-nomathtable"> -->

  <!-- OG Compact adventuring table -->
<div class="sheet-block-nomathtable">

  <div class="adventuringgridalttable">
  <div class="skilltablerow">

    <span class="str1Skillsand">

      <div class="box">
        <a class="button" href="#popup-adventuringskillscompactskillpopup">Adventuring</a>
      </div> <!-- close box -->
      <div id="popup-adventuringskillscompactskillpopup" class="overlay">
        <div class="popup">
          <h2>Adventuring Skills</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>The <strong>Adventuring Skills </strong>table is used to keep track of Adventuring Skill points spent, and skill modifiers. Unlike the 'Combat Skills' table, you'll be making rolls directly from this table. It has a larger more complex view for adding up modifiers (when the 'hide math' checkbox is unchecked), and a more compact view (when the 'hide math button is checked') useful during gameplay.
              <br><br>
              The number in the <strong>total</strong> column is added to 2d6, when clicking on the roll button to the right of it.
            </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span><input type="checkbox" class="sheet-duplicatecheckbox" name="attr_skillshidemathcheckbox"></span>
    <span class="hidemathtext">

      <div class="box">
        <a class="button" href="#popup-hidemathadventuringcompactskillpopup" style="font-style: italic;">Hide Math</a>
      </div> <!-- close box -->
      <div id="popup-hidemathadventuringcompactskillpopup" class="overlay">
        <div class="popup">
        <h2>Hide Math</h2>
        <a class="close" href="#">×</a>
        <div class="content">
          <p>Clicking this checkbox shows two different version of this table. One is more complex, has more math, and shows all the different steps and variables that might factor into your skill totals, which is best used while building a character. During gameplay, a more compact table is much more useful for quick reference, and clicking roll buttons.
          </p>
                              </div> <!-- close content -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span></span>

  </div>

<div class="gridalttablecontainer">

  <div class="adventuringgridalttabletitlerow">

    <span class="str2Abilities">

      <div class="box">
        <a class="button" href="#popup-adventuringskillscompactskillpopup">Skills</a>
      </div> <!-- close box -->
      <div id="popup-adventuringskillscompactskillpopup" class="overlay">
        <div class="popup">
          <h2>Adventuring Skills</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>The <strong>Adventuring Skills </strong>table is used to keep track of Adventuring Skill points spent, and skill modifiers. Unlike the 'Combat Skills' table, you'll be making rolls directly from this table. It has a larger more complex view for adding up modifiers (when the 'hide math' checkbox is unchecked), and a more compact view (when the 'hide math button is checked') useful during gameplay.
              <br><br>
              The number in the <strong>total</strong> column is added to 2d6, when clicking on the roll button to the right of it.
            </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span class="str2Total">

      <div class="box">
        <a class="button" href="#popup-totaladventuringskillscompactskillpopup">Total</a>
      </div> <!-- close box -->
      <div id="popup-totaladventuringskillsskillpopup" class="overlay">
        <div class="popup">
          <h2>Total - Adventuring Skills</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>This number is used to make <strong>Adventuring Skill Rolls</strong>. The number is added to 2d6 to determine your total. Click the d6 looking button to the right to make the roll.
            </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span class="str2Roll">Roll</span>
    <span></span>
    <span class="str2Abilities">Skills</span>
    <span class="str2Total">

      <div class="box">
        <a class="button" href="#popup-totaladventuringskillscompactskillpopup">Total</a>
      </div> <!-- close box -->
      <div id="popup-totaladventuringskillscompactskillpopup" class="overlay">
        <div class="popup">
          <h2>Total - Adventuring Skills</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>This number is used to make <strong>Adventuring Skill Rolls</strong>. The number is added to 2d6 to determine your total. Click the d6 looking button to the right to make the roll.
            </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span class="str2Roll">Roll</span>
    <span></span>
    <span class="str2Abilities">Skills</span>
    <span class="str2Total">

      <div class="box">
        <a class="button" href="#popup-totaladventuringskillscompactskillpopup">Total</a>
      </div> <!-- close box -->
      <div id="popup-totaladventuringskillsskillpopup" class="overlay">
        <div class="popup">
          <h2>Total - Adventuring Skills</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>This number is used to make <strong>Adventuring Skill Rolls</strong>. The number is added to 2d6 to determine your total. Click the d6 looking button to the right to make the roll.
            </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span class="str2Roll">Roll</span>


  </div>



<!-- KNOWLEDGE row, start of skills -->
    <div class="adventurecompactcolumn1">
            <div class="adventurecompactskillrowgroup"> <!-- class is a misnomer leftover from before -->

              <span class="skillnamefieldprimary" name="attr_knowledge">Knowledge<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/bookmarklet.png?raw=true" style="left: -107px;"></span>
              <input type="text" class="skilltotalfield" name="attr_knowledgeskilltotal" value="">
              <span class="skillrollbutton">
                <button class="sheet-d6-dice" type="roll" value=
                '&{template:dodasadventureskills} {{knowledgeskill=Knowledge}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{knowledgeskilltotal}}} {{adventurerolltotal=[[2d6 + @{knowledgeskilltotal}]]}}'
                name="roll_skilltotalcolumn"></button> </span>

                <span></span>
                </div>

                <fieldset class="repeating_knowledgespec">
                <div class="adventurecompactskillrowspec">

                  <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                  <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                  <span class="skillrollbutton">
                    <button class="sheet-d6-dice" type="roll" value=
                    '&{template:dodasadventureskills} {{knowledgeskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                    name="roll_skilltotalcolumn"></button> </span>

                  </div>
              </fieldset>


              <div class="adventurecompactskillrowgroup"> <!-- class is a misnomer leftover from before -->

                <span class="skillnamefieldprimary" name="attr_mobility">Mobility<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/run.png?raw=true" style="left: -101px;"></span>
                <input type="text" class="skilltotalfield" name="attr_mobilityskilltotal" value="">
                <span class="skillrollbutton">
                  <button class="sheet-d6-dice" type="roll" value=
                  '&{template:dodasadventureskills} {{mobilityskill=Mobility}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{mobilityskilltotal}}} {{adventurerolltotal=[[2d6 + @{mobilityskilltotal}]]}}'
                  name="roll_skilltotalcolumn"></button> </span>
               <span></span>
               </div>

               <!-- mobility Repeating -->
               <fieldset class="repeating_mobilityspec">
               <div class="adventurecompactskillrowspec">

                 <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                 <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                 <span class="skillrollbutton">
                   <button class="sheet-d6-dice" type="roll" value=
                   '&{template:dodasadventureskills} {{mobilityskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                   name="roll_skilltotalcolumn"></button> </span>

                 </div>
               </fieldset>

               <!-- mechanicaldevices, start of skills -->
               <div class="adventurecompactskillrowgroup">
                 <span class="skillnamefieldprimary" name="attr_mechanicaldevices">Mechanical Devices<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/key-lock.png?raw=true" style="left: -97pt;"></span>
                 <input type="text" class="skilltotalfield" name="attr_mechanicaldevicesskilltotal" value="">
                 <span class="skillrollbutton">
                   <button class="sheet-d6-dice" type="roll" value=
                   '&{template:dodasadventureskills} {{mechanicaldevicesskill=Mechanical Devices}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{mechanicaldevicesskilltotal}}} {{adventurerolltotal=[[2d6 + @{mechanicaldevicesskilltotal}]]}}'
                   name="roll_skilltotalcolumn"></button> </span>


                </div>

                <!-- mechanicaldevices Repeating -->
                <fieldset class="repeating_mechanicaldevicesspec">
                <div class="adventurecompactskillrowspec">

                  <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                  <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                  <span class="skillrollbutton">
                    <button class="sheet-d6-dice" type="roll" value=
                    '&{template:dodasadventureskills} {{mechanicaldevicesskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                    name="roll_skilltotalcolumn"></button> </span>

                  </div>
                </fieldset>

              <!-- medicine, start of skills -->
                  <div class="adventurecompactskillrowgroup"> <!-- class is a misnomer leftover from before -->

                    <span class="skillnamefieldprimary" name="attr_medicine">Medicine<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/caduceus.png?raw=true" style="left: -77pt;"></span>
                    <input type="text" class="skilltotalfield" name="attr_medicineskilltotal" value="">
                    <span class="skillrollbutton">
                      <button class="sheet-d6-dice" type="roll" value=
                      '&{template:dodasadventureskills} {{medicineskill=Medicine}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{medicineskilltotal}}} {{adventurerolltotal=[[2d6 + @{medicineskilltotal}]]}}'
                      name="roll_skilltotalcolumn"></button> </span>

                    </div>

                    <!-- medicine Repeating -->
                    <fieldset class="repeating_medicinespec">
                    <div class="adventurecompactskillrowspec">

                      <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                      <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                      <span class="skillrollbutton">
                        <button class="sheet-d6-dice" type="roll" value=
                        '&{template:dodasadventureskills} {{medicineskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                        name="roll_skilltotalcolumn"></button> </span>

                      </div>
                  </fieldset>





      </div> <!-- close column 1 flex adventure compact -->


  <!-- Adventure compact column 2-->
  <div class="adventurecompactcolumn2">

                      <div class="adventurecompactskillrowgroup">

                        <span class="skillnamefieldprimary" name="attr_perception">Perception<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/eye-target.png?raw=true" style="left: -80pt;"></span>
                        <input type="text" class="skilltotalfield" name="attr_perceptionskilltotal" value="">
                        <span class="skillrollbutton">
                          <button class="sheet-d6-dice" type="roll" value=
                          '&{template:dodasadventureskills} {{perceptionskill=Perception}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{perceptionskilltotal}}} {{adventurerolltotal=[[2d6 + @{perceptionskilltotal}]]}}'
                          name="roll_skilltotalcolumn"></button> </span>

                        </div>

                      <!-- perception Repeating -->
                      <fieldset class="repeating_perceptionspec">
                      <div class="adventurecompactskillrowspec">

                        <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                        <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                        <span class="skillrollbutton">
                          <button class="sheet-d6-dice" type="roll" value=
                          '&{template:dodasadventureskills} {{perceptionskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                          name="roll_skilltotalcolumn"></button> </span>

                        </div>
                    </fieldset>


                  <div class="adventurecompactskillrowgroup">
                     <span class="skillnamefieldprimary" name="attr_profession" style="padding-left: 19pt;">Profession (Non-Adventuring)<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/village.png?raw=true" style="left: -170px;"></span>
                     <input type="text" class="skilltotalfield" name="attr_professionskilltotal" value="">
                     <span class="skillrollbutton">
                       <button class="sheet-d6-dice" type="roll" value=
                       '&{template:dodasadventureskills} {{professionskill=Profession}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{professionskilltotal}}} {{adventurerolltotal=[[2d6 + @{professionskilltotal}]]}}'
                       name="roll_skilltotalcolumn"></button> </span>

                       <span></span>
                       </div>

                      <fieldset class="repeating_professionspec">
                      <div class="adventurecompactskillrowspec">

                        <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                        <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                        <span class="skillrollbutton">
                          <button class="sheet-d6-dice" type="roll" value=
                          '&{template:dodasadventureskills} {{professionskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                          name="roll_skilltotalcolumn"></button> </span>

                        </div>
                      </fieldset>

                <!-- SOCIAL SKILLS -->
                   <div class="adventurecompactskillrowgroup"> <!-- class is a misnomer leftover from before -->

                     <span class="skillnamefieldprimary" name="attr_social">Social<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/shaking-hands.png?raw=true" style="left: -95px;"></span>
                     <input type="text" class="skilltotalfield" name="attr_socialskilltotal" value="">
                     <span class="skillrollbutton">
                       <button class="sheet-d6-dice" type="roll" value=
                       '&{template:dodasadventureskills} {{socialskill=Social}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{socialskilltotal}}} {{adventurerolltotal=[[2d6 + @{socialskilltotal}]]}}'
                       name="roll_skilltotalcolumn"></button> </span>

                     </div>

                 <!-- Social WIT -->
                 <div class="adventurecompactssindent"> <!-- was meleerange class before -->

                       <span class="skillnamefield" name="attr_socialwits">Social: Wits<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/think.png?raw=true" style="left: -104px;"></span>
                       <input type="text" class="skilltotalfield" name="attr_socialwitskilltotal" value="">
                       <span class="skillrollbutton">
                         <button class="sheet-d6-dice" type="roll" value=
                         '&{template:dodasadventureskills} {{socialwitsskill=Social Wits}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{socialwitskilltotal}}} {{adventurerolltotal=[[2d6 + @{socialwitskilltotal}]]}}'
                         name="roll_skilltotalcolumn"></button> </span>

                   </div>

                 <!-- social wits Repeating -->
                 <fieldset class="repeating_socialwitspec">
                 <div class="adventurecompactskillrowsecondspec">

                   <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                   <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                   <span class="skillrollbutton">
                     <button class="sheet-d6-dice" type="roll" value=
                     '&{template:dodasadventureskills} {{socialwitsskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                     name="roll_skilltotalcolumn"></button> </span>

                   </div>
                 </fieldset>


                 <div class="adventurecompactssindent"> <!-- class is a misnomer leftover from before -->

                       <span class="skillnamefield" name="attr_socialpersonality">Social: Presence<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/confrontation.png?raw=true" style="left: -90pt;"></span>
                       <input type="text" class="skilltotalfield" name="attr_socialpersonalityskilltotal" value="">
                       <span class="skillrollbutton">
                         <button class="sheet-d6-dice" type="roll" value=
                         '&{template:dodasadventureskills} {{socialpersonalityskill=Social Personality}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{socialpersonalityskilltotal}}} {{adventurerolltotal=[[2d6 + @{socialpersonalityskilltotal}]]}}'
                         name="roll_skilltotalcolumn"></button> </span>

                       </div>

                   <!-- social Personality Repeating -->
                   <fieldset class="repeating_socialpersonalityspec">
                   <div class="adventurecompactskillrowsecondspec">

                     <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                     <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                     <span class="skillrollbutton">
                       <button class="sheet-d6-dice" type="roll" value=
                       '&{template:dodasadventureskills} {{socialpersonalityskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                       name="roll_skilltotalcolumn"></button> </span>

                     </div>
                   </fieldset>




          </div> <!-- close column 2 flex -->

  <!-- Adventure compact column 3 flex-->
  <div class="adventurecompactcolumn3">

        <div class="adventurecompactskillrowgroup">
            <span class="skillnamefieldprimary" name="attr_strengthskills">Strength Skills<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/muscle-up.png?raw=true" style="left: -116px;"></span>
            <input type="text" class="skilltotalfield" name="attr_strengthskillsskilltotal" value="">
            <span class="skillrollbutton">
              <button class="sheet-d6-dice" type="roll" value=
              '&{template:dodasadventureskills} {{strengthskill=Strength Skills}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{strengthskillsskilltotal}}} {{adventurerolltotal=[[2d6 + @{strengthskillsskilltotal}]]}}'
              name="roll_skilltotalcolumn"></button> </span>
          </div>

          <!-- strengthskills Repeating -->
          <fieldset class="repeating_strengthskillsspec">
          <div class="adventurecompactskillrowspec">

            <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
            <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
            <span class="skillrollbutton">
              <button class="sheet-d6-dice" type="roll" value=
              '&{template:dodasadventureskills} {{strengthskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
              name="roll_skilltotalcolumn"></button> </span>
          </div>
          </fieldset>

          <!-- SURVIVAL -->
          <div class="adventurecompactskillrowgroup"> <!-- class is a misnomer leftover from before -->

                <span class="skillnamefieldprimary" name="attr_survival">Survival<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/hiking.png?raw=true" style="left: -101px;"></span>
                <input type="text" class="skilltotalfield" name="attr_survivalskilltotal" value="">
                <span class="skillrollbutton">
                  <button class="sheet-d6-dice" type="roll" value=
                  '&{template:dodasadventureskills} {{survivalskill=Survival}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{survivalskilltotalskilltotal}}} {{adventurerolltotal=[[2d6 + @{survivalskilltotalskilltotal}]]}}'
                  name="roll_skilltotalcolumn"></button> </span>

                </div>

                <!-- Survival Outdoors -->
                <div class="adventurecompactssindent">

                      <span class="skillnamefield" name="attr_survivaloutdoors">Survival: Outdoors<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/forest-camp.png?raw=true" style="left: -92pt;"></span>
                      <input type="text" class="skilltotalfield" name="attr_survivaloutdoorsskilltotal" value="">
                      <span class="skillrollbutton">
                        <button class="sheet-d6-dice" type="roll" value=
                        '&{template:dodasadventureskills} {{survivaloutdoorsskill=Survival Outdoors}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{survivaloutdoorsskilltotal}}} {{adventurerolltotal=[[2d6 + @{survivaloutdoorsskilltotal}]]}}'
                        name="roll_skilltotalcolumn"></button> </span>

                      </div>

                <!-- Survival Outdoors Repeating -->
                <fieldset class="repeating_survivaloutdoorsspec">
                <div class="adventurecompactskillrowsecondspec">

                  <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                  <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                  <span class="skillrollbutton">
                    <button class="sheet-d6-dice" type="roll" value=
                    '&{template:dodasadventureskills} {{survivaloutdoorsskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                    name="roll_skilltotalcolumn"></button> </span>

                  </div>
                </fieldset>

                <!-- Survival Urban -->
                <div class="adventurecompactssindent"> <!-- adventuringmeleeandrangerow -->

                      <span class="skillnamefield" name="attr_survivalurban">Survival: Urban<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/medieval-gate.png?raw=true" style="left: -85pt;"></span>
                      <input type="text" class="skilltotalfield" name="attr_survivalurbanskilltotal" value="">
                      <span class="skillrollbutton">
                        <button class="sheet-d6-dice" type="roll" value=
                        '&{template:dodasadventureskills} {{survivalurbanskill=Survival Urban}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{survivalurbanskilltotal}}} {{adventurerolltotal=[[2d6 + @{survivalurbanskilltotal}]]}}'
                        name="roll_skilltotalcolumn"></button> </span>
                      </div>

                      <!-- Survival Urban Repeating -->
                      <fieldset class="repeating_survivalurbanspec">
                      <div class="adventurecompactskillrowsecondspec"> <!--skillsfillrepeatingtertiary-->

                        <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                        <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                        <span class="skillrollbutton">
                          <button class="sheet-d6-dice" type="roll" value=
                          '&{template:dodasadventureskills} {{survivalurbanskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                          name="roll_skilltotalcolumn"></button> </span>

                        </div>
                      </fieldset>


   </div>



</div> <!-- ? -->
</div> <!-- close grid container -->
</div> <!-- close grid container -->


  <!-- OLD repeating specializations, indented -->
      <!-- custom skills -->
      <div class="skilltable">
      <div class="skilltablerow">

        <span class="str1Skillsand">

          <div class="box">
            <a class="button" href="#popup-customskillsskillpopup">Custom</a>
          </div> <!-- close box -->
          <div id="popup-customskillsskillpopup" class="overlay">
            <div class="popup">
              <h2>Custom Skills</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p>This table is used to track custom skills or skill groups, or something not already present as a specialization of an existing skill. Duels of Dreams allows for custom skills and skill groups, depending on the setting.
                  <br><br>It's also here as part of playtesting, as this was the <strong>inititial</strong> skills table used for a lot of characters, and allows their stats to be preserved.
                  <br><br>
                  You might also, for whatever reason, prefer to track your skills one at a time here, if for example, you're only putting points in a few things. It's here as an optional extra space to track things.
                </p>
                                    </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <span></span>
        <!-- <input type="checkbox" class="sheet-hidemathcheckbox" name="skillshidemathcheckbox">  -->
        <span class="hidemathtext"></span>
        <span></span>
        <span title="Which Tier is the Skill?" class="str1TiersbyCost">Tiers by Cost</span>
        <span class="str1Synergy">Synergy</span>
        <span class="str1Above">Above</span>
        <span class="str1Sub">Sub</span>
        <span class="str1RelevantAttributes">Relevant Attributes</span>
        <span class="str1OtherModifiersTop">Other</span>
      </div>
      <div class="skilltablerow2">

        <span class="str2Abilities">

          <div class="box">
            <a class="button" href="#popup-customskillsskillpopup">Skills</a>
          </div> <!-- close box -->
          <div id="popup-customskillsskillpopup" class="overlay">
            <div class="popup">

            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <span class="str2Total">Total</span>
        <span class="str2Roll">Roll</span>
        <span class="str2Tier">Tier</span>
        <span class="str2Cost">Points</span>
        <span title="Tier 5" class="str27">5</span>
        <span title="Tier 4" class="str24">4</span>
        <span title="Tier 3 (Optional)" class="str22">3</span>
        <span title="Tier 2" class="str21">2</span>
        <span title="Tier 1" class="str2star">1</span>
        <span class="str2Bonus">Bonus</span>
        <span class="str2Offset">Offset</span>
        <span class="str2AboveSub">Sub</span>
        <span class="str2Sub">Total</span>
        <span title="Attribute used for skill" class="str2ATR1">ATR</span>
        <span title="Attribute modifier" class="str2Mod1">Mod</span>
        <span title="Attribute two used for skill" class="str2ATR2">ATR</span>
        <span title="Attribute modifier" class="str2Mod2">Mod</span>
        <span class="OtherModifiersBottom">Modifiers</span>

      </div>

<!-- class is a misnomer leftover from before. OOPS don't need this section
      <div class="skillsfillrepeating">

        <span class="skillnamefieldprimary" name="attr_customskills">Custom Skills</span>
        <input type="text" class="skilltotalfield" name="attr_customskillsskilltotal" value="">
        <span class="skillrollbutton">
          <button class="sheet-d6-dice" type="roll" value=
          '&{template:dodas} {{name=@{character_name} @{customskills} }} {{roll +@{customskillsskilltotal} = =[[2d6 + @{customskillsskilltotal}]]}}'
          name="roll_skilltotalcolumn"></button> </span>
        <input type="text" class="tiercostcolumn" name="attr_customskillstiercost" value="">
        <input type="text" class="costcolumn" name="attr_customskillscost" value="">
        <input type="text" class="tiersevenfield" name="attr_customskillstierseven" value="">
        <input type="text" class="tierfourfield" name="attr_customskillstierfour" value="">
        <input type="text" class="tiertwofield" name="attr_customskillstiertwo" value="">
        <input type="text" class="tieronefield" name="attr_customskillstierone" value="">
        <input type="text" class="tierstarfield" name="attr_customskillstierstar" value="">
        <input type="text" class="tierabovesubfield" name="attr_customskillstierabovesub" value="">
        <input type="text" class="synergybonusfield" name="attr_customskillssynergybonus" value="">
        <input type="text" class="synergyoffsetfield" name="attr_customskillssynergyoffset" value="">
        <input type="text" class="subtotalfield" name="attr_customskillsgroup" value="">
        <input type="text" class="firstskillATRfield" name="attr_customskillsattribute" value="">
        <input type="text" class="firstATRmodField" name="attr_customskillsattributemodifier" value="">
        <input type="text" class="secondATRField" name="attr_customskillsattributetwo" value="">
        <input type="text" class="secondATRmod" name="attr_customskillsattributemodifiertwo" value="">
        <input type="text" class="otherskillfield" name="attr_customskillsothermodifiersfill" value="">
        </div>
-->
    <fieldset class="repeating_skills">
      <div class="skillsfillrepeating">

        <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
        <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
        <span class="skillrollbutton">
          <button class="sheet-d6-dice" type="roll" value=
          '&{template:dodas} {{name=@{character_name} @{skillsandabilities} }} {{roll +@{skilltotal} = =[[2d6 + @{skilltotal}]]}}'
          name="roll_skilltotalcolumn"></button> </span>
        <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
        <input type="text" class="costcolumn" name="attr_cost" value="">
        <input type="text" class="tiersevenfield" name="attr_tierseven" value="">
        <input type="text" class="tierfourfield" name="attr_tierfour" value="">
        <input type="text" class="tiertwofield" name="attr_tiertwo" value="">
        <input type="text" class="tieronefield" name="attr_tierone" value="">
        <input type="text" class="tierstarfield" name="attr_tierstar" value="">
        <input type="text" class="tierabovesubfield" name="attr_tierabovesub" value="">
        <input type="text" class="synergybonusfield" name="attr_synergybonus" value="">
        <input type="text" class="synergyoffsetfield" name="attr_synergyoffset" value="">
        <input type="text" class="subtotalfield" name="attr_group" value="">



        <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
          <!-- try a datalist instead
        <input type="text" list="abilityScores" name="attr_abilityScore">
        <datalist id="abilityScores">
            <option value="@{power}">PW</option>
            <option value="@{movement}">Move</option>
            <option value="@{willpower}">WP</option>
            <option value="@{wit}">WIT</option>
            <option value="@{intelligence}">INT</option>
            <option value="@{knockdown}">KN</option>
            <option value="@{reflex}">REF</option>
            <option value="@{actionpoints}">AP</option>
        </datalist>
            -->
        <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
        <input type="text" class="secondATRField" name="attr_attributetwo" value="">
        <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
        <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
        </div>
        </fieldset>

  </div>




<!-- POINT BUY TOTALS TABLE -->

<div class="pointbuytable">
  <div class="pointbuytabletitlerow">
    <span class="pbtpointsspent">

      <div class="box">
        <a class="button" href="#popup-pointbuytotalsskillpopup">Point Buy Totals</a>
      </div> <!-- close box -->
      <div id="popup-pointbuytotalsskillpopup" class="overlay">
        <div class="popup">
          <h2>Point Buy Totals</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>This table is used to keep track of your characters points spent, as well as the <strong>Total Value</strong> of your character, from miscellaneous other factors, like extra equipment or magic gear.
                        </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span class="pbtpoints">Total</span>
    <span class="pbtUnspent">Unspent</span>
    <span class="pbtSpent">Spent</span>
    <span class="pbtNegative">Negative</span>
    <span class="pbtnotes">Notes</span>
  </div>
  <div class="pointbuytablerow">
    <span class="pbtAttributes">Attributes</span>
    <input type="text" name="attr_pbattributestotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbattributesspent" value="">
    <input type="text" name="attr_pbattributesunspent" value="">
    <input type="text" name="attr_pbattributesnegative" value="">
    <input type="text" name="attr_pbattributesnotes" value="">
  </div>
  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Combat Skills</span> <!-- COMBAT SKILLS -->
    <input type="text" name="attr_pbcombatskillstotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbCombatSkillsUnspent" value="">
    <input type="text" name="attr_pbCombatSkillsSpent" value="">
    <input type="text" name="attr_pbCombatSkillsNegative" value="">
    <input type="text" name="attr_pbSkillTableNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Adventuring Skills</span>
    <input type="text" name="attr_pbadventuringskillstotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbNonCombatSkillsUnspent" value="">
    <input type="text" name="attr_pbNonCombatSkillsSpent" value="">
    <input type="text" name="attr_pbNonCombatSkillsNegative" value="">
    <input type="text" name="attr_pbNonCombatSkillsNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Equipment</span>
    <input type="text" name="attr_pbequipmenttotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbEquipmentUnspent" value="">
    <input type="text" name="attr_pbEquipmentSpent" value="">
    <input type="text" name="attr_pbEquipmentNegative" value="">
    <input type="text" name="attr_pbEquipmentNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtPowersandAbilities">Magic Skills</span> <!-- Magic Skills -->
    <input type="text" name="attr_pbpowersandabilitiestotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbMagicSkillsTotal" value="">
    <input type="text" name="attr_pbMagicSkillsUnspent" value="">
    <input type="text" name="attr_pbMagicSkillsSpent" value="">
    <input type="text" name="attr_pbMagicSkillsNegative" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Spells Learned</span>
    <input type="text" name="attr_pbspellslearnedtotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbSpellsLearnedUnspent" value="">
    <input type="text" name="attr_pbSpellsLearnedSpent" value="">
    <input type="text" name="attr_pbSpellsLearnedNegative" value="">
    <input type="text" name="attr_pbSpellsLearnedNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">Adv./Disadvantages</span>
    <input type="text" name="attr_pbadvdisadvantagestotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbAdvDisadvantagesUnspent" value="">
    <input type="text" name="attr_pbAdvDisadvantagesSpent" value="">
    <input type="text" name="attr_pbAdvDisadvantagesNegative" value="">
    <input type="text" name="attr_pbAdvDisadvantagesNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtOther">Other</span>
    <input type="text" name="attr_pbothertotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbOtherUnspent" value="">
    <input type="text" name="attr_pbOtherSpent" value="">
    <input type="text" name="attr_pbOtherNegative" value="">
    <input type="text" name="attr_pbOtherNotes" value="">
  </div>

  <div class="pointbuytabletotalrow">
    <span class="pbtTotal">TOTAL Character Points</span>
    <input type="text" class="pbtbold" name="attr_pbtotaloverall" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbTotalUnspent" value="">
    <input type="text" name="attr_pbTotalSpent" value="">
    <input type="text" name="attr_pbTotalNegative" value="">
    <input type="text" name="attr_pbTotalNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">

      <div class="box">
        <a class="button" href="#popup-combatantbasevalueskillpopup">Combatant Base Value</a>
      </div> <!-- close box -->
      <div id="popup-combatantbasevalueskillpopup" class="overlay">
        <div class="popup">
          <h2>Combatant Base Value</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>Each combatant in a fight, including enemy combatants, has a <strong>Base Value of 30 points</strong>. This is factored into the total, to help balance encounters on both sides. Each combatant gets 4 Action Points (AP) for "free", as well as some starting armor and equipment. The base value factors this in. Even a perfectly average person can deal damage and contribute in combat.
              <br><br>
              The <strong>Combatants and Monster</strong> Rules have a full explanation on balancing encounters.
                        </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>


    <input type="text" name="attr_pbcombatbasevalue" value="30"> <!-- TOTALS -->
    <input type="text" name="attr_pbcombatbasevalueUnspent" value="">
    <input type="text" name="attr_pbcombatbasevalueSpent" value="">
    <input type="text" name="attr_pbcombatbasevalueNegative" value="">
    <input type="text" name="attr_pbcombatbasevalueNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">

      <div class="box">
        <a class="button" href="#popup-halfadventuringskillsskillpopup">-1/2 Adventuring Skills</a>
      </div> <!-- close box -->
      <div id="popup-halfadventuringskillsskillpopup" class="overlay">
        <div class="popup">
          <h2>-1/2 Adventuring Skills</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>Adventuring Rolls <strong>can</strong> play a roll in combat, but not as often or directly as <strong>Combat Skills</strong>, Attributes, and Combat Points. Particularly skills like Stealth, Perception, Enemy Detection, Mobility, Climb, Intimidate, Taunt, and even Medicine.
              <br><br>
              Half the point value total spent in adventuring skills is a very abstract representation of their usefulness in combat. Sometimes it will be more balanced than others, but it's important to factor in. As a GM, you'll have to use some common sense and understanding of tactics for final balance considerations.
                        </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <input type="text" name="attr_pbhalfnoncombatskillstotal" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbHalfNonCombatSkillsUnspent" value="">
    <input type="text" name="attr_pbHalfNonCombatSkillsSpent" value="">
    <input type="text" name="attr_pbHalfNonCombatSkillsNegative" value="">
    <input type="text" name="attr_pbHalfNonCombatSkillsNotes" value="">
  </div>

  <div class="pointbuytablerow">
    <span class="pbtSkillTable">

      <div class="box">
        <a class="button" href="#popup-miscellaneousmodifierspointsskillpopup">Misc. Modifiers</a>
      </div> <!-- close box -->
      <div id="popup-miscellaneousmodifierspointsskillpopup" class="overlay">
        <div class="popup">
          <h2>Miscellaneous Modifiers</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>Track anything else that might add value to the combat. Most categories are covered above, but perhaps things like: favorable terrain, group synergy in numbers, effectiveness vs. the party, etc. Usually, these will be more abstract, but the input field is here in case you need it.
                                    </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <input type="text" name="attr_pbmiscmodtotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbMiscModUnspent" value="">
    <input type="text" name="attr_pbMiscModSpent" value="">
    <input type="text" name="attr_pbMiscModNegative" value="">
    <input type="text" name="attr_pbMiscModNotes" value="">
  </div>

  <div class="pointbuytabletotalrow">
    <span class="pbtTotal">

      <div class="box">
        <a class="button" href="#popup-combatencountervalueskillpopup">Combat Encounter Value</a>
      </div> <!-- close box -->
      <div id="popup-combatencountervalueskillpopup" class="overlay">
        <div class="popup">
          <h2>Combat Encounter Value</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>This is the final value each combatant adds to the encounter difficulty level. Add up all combatants on each side, and compare their totals.
              <br><br>
              The <strong>Enemy 'Combat Encounter Value' Total</strong> vs. the parties, is approximately the following challenge level:
              <ul>
                <li><strong>1/4 or less: Trivial</strong></li>
                <li><strong>1/3: Easy</strong></li>
                <li><strong>1/2: Mild</strong></li>
                <li><strong>2/3 to 3/4: Moderate to Hard</strong></li>
                <li><strong>Equal to Party: Deadly</strong></li>
                <li><strong>Above Party: Overwhelming!</strong></li>
                                    </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <input type="text" class="pbtbold" name="attr_pbcombatencountervaluetotals" value=""> <!-- TOTALS -->
    <input type="text" name="attr_pbCombatEncounterValueUnspent" value="">
    <input type="text" name="attr_pbCombatEncounterValueSpent" value="">
    <input type="text" name="attr_pbCombatEncounterValueNegative" value="">
    <input type="text" name="attr_pbCombatEncounterValueNotes" value="">
  </div>

</div>




<!-- SPELL BUILDER -->

<div class="spellbuilder">
  <div class="sbtitlerow">
    <span class="sbnameandlevel">Spell Name & LVL:</span>
    <input type="text" name="attr_spellbuildername1" placeholder="Spell builder spell" value="">
    <input type="text" name="attr_spellbuilderlvl1" placeholder="LVL" value="">
    <input type="text" name="attr_spellbuildername2" placeholder="Spell builder spell" value="">
    <input type="text" name="attr_spellbuilderlvl2" placeholder="LVL" value="">
    <input type="text" name="attr_spellbuildername3" placeholder="Spell builder spell" value="">
    <input type="text" name="attr_spellbuilderlvl3" placeholder="LVL" value="">
    <input type="text" name="attr_spellbuildername4" placeholder="Spell builder spell" value="">
    <input type="text" name="attr_spellbuilderlvl4" placeholder="LVL" value="">
  </div>



  <div class="sbrowcorespell">
    <span class="sbcorespell">Core Spell</span>
    <input type="text" name="attr_sbcorespell1" value="">
    <input type="text" name="attr_sbcorelvl1" value="">
    <input type="text" name="attr_sbcorespell2" value="">
    <input type="text" name="attr_sbcorelvl2" value="">
    <input type="text" name="attr_sbcorespell3" value="">
    <input type="text" name="attr_sbcorelvl3" value="">
    <input type="text" name="attr_sbcorespell4" value="">
    <input type="text" name="attr_sbcorelvl4" value="">
  </div>

  <div class="sbrowdamage">
    <span class="sbdamage">Damage</span>
    <input type="text" name="attr_sbdamagespell1" value="">
    <input type="text" name="attr_sbdamagelvl1" value="">
    <input type="text" name="attr_sbdamagespell2" value="">
    <input type="text" name="attr_sbdamagelvl2" value="">
    <input type="text" name="attr_sbdamagespell3" value="">
    <input type="text" name="attr_sbdamagelvl3" value="">
    <input type="text" name="attr_sbdamagespell4" value="">
    <input type="text" name="attr_sbdamagelvl4" value="">
  </div>

  <div class="sbrowspelltype">
    <span class="sbspelltype">Spell Type</span>
    <input type="text" name="attr_sbspelltypespell1" value="">
    <input type="text" name="attr_sbspelltypelvl1" value="">
    <input type="text" name="attr_sbspelltypespell2" value="">
    <input type="text" name="attr_sbspelltypelvl2" value="">
    <input type="text" name="attr_sbspelltypespell3" value="">
    <input type="text" name="attr_sbspelltypelvl3" value="">
    <input type="text" name="attr_sbspelltypespell4" value="">
    <input type="text" name="attr_sbspelltypelvl4" value="">
  </div>

  <div class="sbrowarea">
    <span class="sbarea">Area</span>
    <input type="text" name="attr_sbareaspell1" value="">
    <input type="text" name="attr_sbarealvl1" value="">
    <input type="text" name="attr_sbareaspell2" value="">
    <input type="text" name="attr_sbarealvl2" value="">
    <input type="text" name="attr_sbareaspell3" value="">
    <input type="text" name="attr_sbarealvl3" value="">
    <input type="text" name="attr_sbareaspell4" value="">
    <input type="text" name="attr_sbarealvl4" value="">
  </div>

  <div class="sbrowduration">
    <span class="sbduration">Duration</span>
    <input type="text" name="attr_sbduration1" value="">
    <input type="text" name="attr_sbdurationlvl1" value="">
    <input type="text" name="attr_sbduration2" value="">
    <input type="text" name="attr_sbdurationlvl2" value="">
    <input type="text" name="attr_sbduration3" value="">
    <input type="text" name="attr_sbdurationlvl3" value="">
    <input type="text" name="attr_sbduration4" value="">
    <input type="text" name="attr_sbdurationlvl4" value="">
  </div>

  <div class="sbrowrange">
    <span class="sbrange">Range</span>
    <input type="text" name="attr_sbrange1" value="">
    <input type="text" name="attr_sbrangelvl1" value="">
    <input type="text" name="attr_sbrange2" value="">
    <input type="text" name="attr_sbrangelvl2" value="">
    <input type="text" name="attr_sbrange3" value="">
    <input type="text" name="attr_sbrangelvl3" value="">
    <input type="text" name="attr_sbrange4" value="">
    <input type="text" name="attr_sbrangelvl4" value="">
  </div>

  <div class="sbrowmodifiers">
    <span class="sbmodifiers">Modifiers</span>
    <input type="text" name="attr_sbmodifiers1" value="">
    <input type="text" name="attr_sbmodifierslvl1" value="">
    <input type="text" name="attr_sbmodifiers2" value="">
    <input type="text" name="attr_sbmodifierslvl2" value="">
    <input type="text" name="attr_sbmodifiers3" value="">
    <input type="text" name="attr_sbmodifierslvl3" value="">
    <input type="text" name="attr_sbmodifiers4" value="">
    <input type="text" name="attr_sbmodifierslvl4" value="">
  </div>

    <fieldset class="repeating_spellbuildermodifiers">
        <div class="sbmodifiersfill">
          <input type="text" name="attr_sbmodifierleft" value="">
          <input type="text" name="attr_sbmodifiertext1" value="">
          <input type="text" name="attr_sbmodifier1" value="">
          <input type="text" name="attr_sbmodifiertext2" value="">
          <input type="text" name="attr_sbmodifier2" value="">
          <input type="text" name="attr_sbmodifiertext3" value="">
          <input type="text" name="attr_sbmodifier3" value="">
          <input type="text" name="attr_sbmodifiertext4" value="">
          <input type="text" name="attr_sbmodifier4" value="">
        </div>
    </fieldset>


</div> <!-- close spell builder table??? -->




</div> <!-- close section? -->



<!-- INVENTORY -->

<div class="inventorytable">
    <div class="inventorytabletoprow">
         <span class="inventorytableinventoryword">

           <div class="box">
             <a class="button" href="#popup-inventorytabletitlepopup">Inventory</a>
           </div> <!-- close box -->
           <div id="popup-inventorytabletitlepopup" class="overlay">
             <div class="popup">
               <h2>Inventory</h2>
               <a class="close" href="#">×</a>
               <div class="content">
                 <p>Used to track belongings, gold, ammunition, equipment, extra loot, etc.
                   <br><br>
                   Exact mechanics on how weight, bulk, mobility, AP Mod, etc. factor into gameplay and encumbrance are still being worked, typed up, and still need playtesting. For now, more values than potentially are necessary are present on the table, in case they're helpful.
                             </p>
                                     </div> <!-- close content -->
             </div> <!-- close popup -->
           </div> <!-- close popup1 id overlay -->
           </span>

         <span class="inventorytableamount">Amount</span>
         <span class="inventorytableweightword">Weight</span>
         <span class="inventorytablebulkword">Bulk</span>
         <span class="inventorytablemobilityword">Mobility</span>
         <span title="Action Points Modifier" class="inventorytableapmodword">AP Mod</span>
         <span class="inventoryequippedword">Equipped</span>
         <span class="inventorynotesword">Notes</span>
    </div>
    <fieldset class="repeating_inventorytableitemrepeats">
    <div class="inventorytablerepeatinginputsrow">
    <input type="text" class="inventorytitlestyle" name="attr_inventorytableitem" value="">
    <input type="number" name="attr_inventorytableamount" value="">
    <input type="text" name="attr_inventorytableweight" value="">
    <input type="text" name="attr_inventorytablebulk" value="">
    <input type="text" name="attr_inventorytablemobiliy" value="">
    <input type="text" name="attr_inventorytableapmod" value="">
    <input type="checkbox" name="attr_inventoryequippedcheck" value="inventoryequipped">
    <input type="text" name="attr_inventorynotes" value="">
        </div>
        </fieldset>
    <div class="inventorytotalsrow">
        <span class="inventorytabletotalsword">Totals</span>
        <input type="text" name="attr_inventorytotalsamount" value="">
        <input type="text" name="attr_inventorytableweighttotal" value="">
        <input type="text" name="attr_inventorytablebulktotal" value="">
        <input type="text" name="attr_inventorytablemobilitytotal" value="">
        <input type="text" name="attr_inventorytableapmodtotal" value="">
        <input type="text" name="attr_inventorytableequippedtotal" value="">
        <input type="text" name="attr_inventorytotalsnotes" value="">
    </div>
</div>


<!-- story first? -->
<div class="storychunk">
    <span class="storyHeader">Personality</span>
    <div class="personalityrow">
  <span class="storyDescriptorHeader">Appearance</span>
  <span class="storyDescriptorHeader">Demeanor</span>
  <span class="storyDescriptorHeader">Personality</span>
  <span class="storyDescriptorHeader">Quirks & Flaws</span>
    </div>
    <div class="personalityrow">
      <textarea type="text" name="attr_appearance" value=""></textarea>
    <textarea type="text" name="attr_demeanor" value=""></textarea>
    <textarea type="text" name="attr_personality" value=""></textarea>
    <textarea type="text" name="attr_quirksandflaws" value=""></textarea>
    </div>
  </div>

  <div class="storychunk">
  <span class="storyHeader">Motivations and Drive</span>
     <div class="personalityrow">
  <span class="storyDescriptorHeader">Motivation</span>
  <span class="storyDescriptorHeader">Connections & Tie-ins</span>
  <span class="storyDescriptorHeader">Reason to Adventure</span>
  <span class="storyDescriptorHeader">Ideals & Values</span>
    <textarea type="text" name="attr_motivation" value=""></textarea>
    <textarea type="text" name="attr_connections" value=""></textarea>
    <textarea type="text" name="attr_reasontoadventure" value=""></textarea>
    <textarea type="text" name="attr_ideals" value=""></textarea>
    </div>
  </div>

  <div class="storychunk">
<span class="storyHeader">Training & Skills</span>
     <div class="personalityrow">
  <span class="storyDescriptorHeader">Background Profession</span>
  <span title="School? Mentor? Self-Taught?" class="storyDescriptorHeader">Learned From?</span>
  <span class="storyDescriptorHeader">Social Status</span>
  <span class="storyDescriptorHeader">Deeds or Achievements</span>
   <textarea type="text" name="attr_backgroundprofession" value=""></textarea>
   <textarea type="text" name="attr_trainingsource" value=""></textarea>
   <textarea type="text" name="attr_socialstatus" value=""></textarea>
   <textarea type="text" name="attr_deeds" value=""></textarea>
    </div>
  </div>

  <div class="storychunk">
<span class="storyHeader">Horror (Optional)</span>
    <div class="personalityrow">
  <span class="storyDescriptorHeader">Phobias</span>
  <span class="storyDescriptorHeader">Injuries and Scars</span>
  <span class="storyDescriptorHeader">Strange Encounters</span>
  <span class="storyDescriptorHeader">Treasured Possession</span>
  <textarea type="text" name="attr_Phobias" value=""></textarea>
  <textarea type="text" name="attr_injuriesandscars" value=""></textarea>
  <textarea type="text" name="attr_strangeencounters" value=""></textarea>
  <textarea type="text" name="attr_treasuredpossession" value=""></textarea>
  </div>
  </div>




</div> <!-- close everything? -->









<!--TABS SHENANIGANS -->






<!-- COMBAT TAB, was line ~1113 -->
<div class="wepnstab">

<!-- WEAPON TABLE COMBAT TAB -->
<div class="dodaslayout">

<div class="weapontable">
  <div class="wptrow1">
    <span class="swordimage">
    <img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/exportSwordPNG.png?raw=true" style="position:relative; left:0px; top: 0px; height: 21px; width: 105px;">
    </span>

    <!--
    <span class="wptrangedc">Range DC</span>
    <span><input type="text" name="attr_rangedcstill" placeholder="9"> </span>
    <span><input type="text" name="attr_rangedcmoving" placeholder="12"> </span>
    -->
    <span title="Action Points" class="wpttoprowAP">


      <div class="box">
        <a class="button" href="#popup-apmodweapontab">AP</a>
      </div> <!-- close box -->
      <div id="popup-apmodweapontab" class="overlay">
        <div class="popup">
          <h2>Action Point Modifier (AP Mod)</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>Some weapons, armor, or shields have an <strong>AP Mod</strong>.  Some weapons are fast and light, while some are bulkier and slow. This number is added (or subtracted) from your <strong>CP Total</strong> (Combat Points), to determine the actions and attack and defense you can make each round.
              <br><br>
              <ul>
                <li>As a reminder, <strong>CP Total =</strong> Action Points (Derived Attribute) + AP Mod + Skill (or Skill Specialization) for the equipped weapon </li>
              </p>
          </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span title="Combat Points" class="cptoprow">

      <div class="box">
        <a class="button" href="#popup-cpweapontab">CP</a>
      </div> <!-- close box -->
      <div id="popup-cpweapontab" class="overlay">
        <div class="popup">
          <h2>Combat Points (CP)</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>A characters speed and skill in combat with their <strong>equipped weapon</strong>. CP represents the <strong>maximum amount</strong> of attack, defense, or other actions one might make. You can think of this as an <strong>‘Action Point’ system</strong>, as seen in many games. You can take actions <strong>until you run out</strong> of Combat Points. <i>see <strong>Turn Order</strong> Handout or Rules for more.</i>
              <br><br>
              For each <strong>attack and defense</strong> roll you make, <strong>spending CP adds to your roll total</strong>. You must spend at least 1 CP! For example, spending 7 CP is a +7 attack.
              <br><br>
              <ul>
                <li><strong>Combat points total = ‘AP’</strong> Derived Attribute (4 + Wit + AGI), <strong>+ skill (or specialization)</strong> with the <strong>equipped weapon</strong>, <strong>+ AP Mod</strong> from armor or heavy/light weapons.</li>
                </ul>

                   Each combatant <strong>starts each round</strong> of combat with <strong>all</strong> of their Combat Points. Combat points refresh completely at the top of every round.

                <ul>
                  <li>The maximum CP a combatant starts each round with <strong>might be modified</strong> by wounds, fatigue, encumbrance, or magic.</li>
                  </ul>
              </p>
          </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span class="wpttoprowcut">

    <div class="box">
      <a class="button" href="#popup-swingshootweapontab">Swing</a>
    </div> <!-- close box -->
    <div id="popup-swingshootweapontab" class="overlay">
      <div class="popup">
        <h2>Swing / Shoot</h2>
        <a class="close" href="#">×</a>
        <div class="content">
          <p>Each Melee weapon has two primary options for attack. Either a <strong>Swing</strong> or a <strong>Thrust</strong>.
            <br><br>
            Some weapons do more damage with one over the other. In addition, some <strong>Maneuvers</strong> work better with a Swing vs. a Thrust, such as the following:
            <ul>
              <li><strong>Wild Swing</strong> Maneuver which does +2 Damage but has Disadvantage to attack. </li>
                <li><strong>Quick Thrust</strong> Maneuver which does -2 Damage but has Advantage to attack. </li>
                </ul>
            </p>
        </div> <!-- close content -->
      </div> <!-- close popup -->
    </div> <!-- close popup1 id overlay -->
    </span>

    <span class="wpttoprowthrust">

      <div class="box">
        <a class="button" href="#popup-thrustweapontab">Thrust</a>
      </div> <!-- close box -->
      <div id="popup-thrustweapontab" class="overlay">
        <div class="popup">
          <h2>Thrust</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>Each Melee weapon has two primary options for attack. Either a <strong>Swing</strong> or a <strong>Thrust</strong>.
              <br><br>
              Some weapons do more damage with one over the other. In addition, some <strong>Maneuvers</strong> work better with a Swing vs. a Thrust, such as the following:
              <ul>
                <li><strong>Wild Swing</strong> Maneuver which does +2 Damage but has Disadvantage to attack. </li>
                  <li><strong>Quick Thrust</strong> Maneuver which does -2 Damage but has Advantage to attack. </li>
                  </ul>
          </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span class="wpttoprowparryorblock">

      <div class="box">
        <a class="button" href="#popup-defendweapontab">Defend</a>
      </div> <!-- close box -->
      <div id="popup-defendweapontab" class="overlay">
        <div class="popup">
          <h2>Defend</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>In Duels of Dreams, you actively Roll for defense. You must spend CP equal to the amount you want to add to your defense roll. If you have no CP left, you <i>can't defend.</i>
              <br><br>
              Some weapons or shields give you modifiers to defend, in the form of Advantage or Disadvantage. Here are two examples:
              <ul>
                <li><strong>Shields</strong> Give Advantage on the 'Block' Maneuver </li>
                  <li><strong>Daggers</strong> Give Disadvantage to defend on a 'Parry' Maneuver. </li>
                  </ul>
                  Check the <strong>Weapons & Armor</strong> tables for the modifiers on your equipped weapon.
          </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->

      </span>

    <!-- insert reach stuff -->
    <span class="Reach">

      <div class="box">
        <a class="button" href="#popup-reachweapontab">Reach</a>
      </div> <!-- close box -->
      <div id="popup-reachweapontab" class="overlay">
        <div class="popup">
          <h2>Weapon Reach</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>Reach is how long a weapon is, relative to other weapons. Reach is listed by <strong>category</strong>. Each category has a numerical <strong>“level (LVL)”</strong> relative to other reach categories. A higher LVL means a longer reach.
              <br><br>
              During combat, your weapon reach is compared to an opponents. For each LVL or Category your weapon is longer, you gain defensive modifiers.
              <ul>
                <li><strong>1 Category:</strong> Advantage on Defense Rolls</li>
                <li><strong>2 Categories:</strong> +1d6 on Defense Rolls</li>
                <li><strong>3+ Categories:</strong> +1d6 on defense and with advantage (roll 3d6 with advantage)</li>
                </ul>

                If a <strong>shorter weapon lands a hit</strong> against the longer weapon, the longer weapon instead takes penalties. <strong>Advantage</strong> becomes <strong>Disadvantage</strong>, and <strong>+1d6 becomes rolling only 1d6</strong> (instead of 2d6).
              <br><br>
              <i>Reach is a relatively complex aspect of Duels of Dreams. It's best to reference the 'Reach' Handout, or section of the rules for all the situational rules, and full details. While reach is a very important part of historical accuracy, weapon balance, and immersion, we recognize it to have the most potential to be cumbersome for those new to the system. As a reminder, you can opt to play without Reach as a Rule Variant if it makes the game easier.</i>
              </p>
          </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>


    <span class="equipped_hand">Equipped Hand</span>
    <!-- <span class="placeholder_reach2"></span> -->

     <!-- REMOVE DODGE FOR NOW...
    <span class="wpttoprowdodge">Dodge</span>
    <span class="d4d6dodgereminder">d4d6</span>
    <span><input type="text" name="attr_dodgemodifier" placeholder="0"> </span>
    <span class="dodgerollbutton">
        <button class="sheet-d6-dice" type="roll" value=
              '&{template:dodas1} {{name=@{character_name} @{weapon} }}{{Dodge=[[1d4 + 1d6 + @{dodgemodifier}]][[1d4 + 1d6 + @{dodgemodifier}]][[1d4 + 1d6 + @{dodgemodifier}]]}} '
              name="roll_Dodge"></button>
    </span>
    -->
    <span class="d4d6dodgereminder"></span>
    <span class="d4d6dodgereminder"></span>
    <span class="d4d6dodgereminder"></span>
    <span class="d4d6dodgereminder"></span>
  </div>

  <div class="wptrow2">
    <span class="wtweapon">

      <div class="box">
        <a class="button" href="#popup-meleeweaponsweapontab">Melee Weapons</a>
      </div> <!-- close box -->
      <div id="popup-meleeweaponsweapontab" class="overlay">
        <div class="popup">
          <h2>Melee Weapons</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>Melee Weapons use the stats of each weapon, found in the <strong>Weapons and Armor</strong> portion of the rules (or check the handouts to the right). Each weapon has distinct pros and cons, distinguished by their <strong>Reach, Damage Types, AP Mod, and Properties</strong>. Some weapons are better suited for cutting, some for thrusting. Some are better at parrying than others.
              <br><br>
              Check the handouts or game rules, or click on the column header on the table on this character sheet for more info on each weapon stat type.
            </p>
          </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->

      </span>

    <span title="Action Points Modifier" class="wtMod">


      <div class="box">
        <a class="button" href="#popup-apmodweapontab">Mod</a>
      </div> <!-- close box -->
      <div id="popup-apmodweapontab" class="overlay">
        <div class="popup">
          <h2>Action Point Modifier (AP Mod)</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>Some weapons, armor, or shields have an <strong>AP Mod</strong>. Some weapons are fast and light, while some are bulkier and slow. This number is added (or subtracted) from your <strong>CP Total</strong> (Combat Points), to determine the actions, and attack and defense you can make each round.
              <br><br>
              <ul>
                <li>As a reminder, <strong>CP Total =</strong> Action Points (Derived Attribute) + AP Mod + Skill (or Skill Specialization) for the equipped weapon </li>
              </p>
          </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
        </span>

    <span title="Combat Points (Attack and Defense)" class="wtTotal">

      <div class="box">
        <a class="button" href="#popup-cpweapontab">Total</a>
      </div> <!-- close box -->
      <div id="popup-cpweapontab" class="overlay">
        <div class="popup">
          <h2>Combat Points (CP)</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>A characters speed and skill in combat with their <strong>equipped weapon</strong>. CP represents the <strong>maximum amount</strong> of attack, defense, or other actions one might make. You can think of this as an <strong>‘Action Point’ system</strong>, as seen in many games. You can take actions <strong>until you run out</strong> of Combat Points. <i>see <strong>Turn Order</strong> Handout or Rules for more.</i>
              <br><br>
              For each <strong>attack and defense</strong> roll you make, <strong>spending CP adds to your roll total</strong>. You must spend at least 1 CP! For example, spending 7 CP is a +7 attack.
              <br><br>
              <ul>
                <li><strong>Combat points total = ‘AP’</strong> Derived Attribute (4 + Wit + AGI), <strong>+ skill (or specialization)</strong> with the <strong>equipped weapon</strong>, <strong>+ AP Mod</strong> from armor or heavy/light weapons.</li>
                </ul>

                   Each combatant <strong>starts each round</strong> of combat with <strong>all</strong> of their Combat Points. Combat points refresh completely at the top of every round.

                <ul>
                  <li>The maximum CP a combatant starts each round with <strong>might be modified</strong> by wounds, fatigue, encumbrance, or magic.</li>
                  </ul>
              </p>
          </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span title="Damage" class="wtA">

      <div class="box">
        <a class="button" href="#popup-dmgweapontab">Dmg</a>
      </div> <!-- close box -->
      <div id="popup-dmgweapontab" class="overlay">
        <div class="popup">
          <h2>Weapon Damage</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>When an attack roll <strong>beats</strong> an opponent's defense roll, you <strong>deal damage</strong>. The value listed here is your <strong>base damage</strong> with the weapon. Character's <strong>don't have Hit Points</strong>. Instead, they take individual wounds, and fight until a killing blow is dealt (10 damage), or they succumb to their wounds.
              <br><br>
              Each weapon does one of three types of damage.
              <ul>
                <li><strong>Blunt (b), Cutting (c), Piercing (p)</strong></li>
              Base Damage is...
              <ul>
                <li><strong>Power + Weapon Base Damage</strong> of the equipped weapon, for either swing or thrust.</li>
                <li>For example: <i>A character 'swinging' with a Warhammer starts with base 2b (blunt) damage. They have 2 Power, for a total base damage of</i> <strong>4b</strong>.
                  </ul>
              A high attack roll has the opportunity to do extra damage, based on the 'Margin of Success'. Every 5 over does additional damage. As long as your token is selected, the "roll template" sent to chat has clickable options to help with this process.
              <br><br><i>See the 'Damage' Handout or section of the rules for more comprehensive Rules on Wounds, Blood Loss, Incapacitation, and Death.</i>
              </p>
          </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->

      </span>
    <span title="number added to attack roll button" class="wtA">

      <div class="box">
        <a class="button" href="#popup-attackplusweapontab">Att+</a>
      </div> <!-- close box -->
      <div id="popup-attackplusweapontab" class="overlay">
        <div class="popup">
          <h2>Att+</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>This number is the amount of CP added when making a roll. It's meant to be used as part of a <strong>macro</strong> roll button with Roll20.
              <br><br>
              The button to the right (used to) use this number when clicked, as the number of CP spent. I've left it on the sheet for now, since macros can reference this number in quick buttons while a token is selected. But the button to the right, for now, asks for an input for how many CP you want to spend instead.
                    </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span class="wtD">

      <div class="box">
        <a class="button" href="#popup-rollmeleeattackweapontab">Roll</a>
      </div> <!-- close box -->
      <div id="popup-rollmeleeattackweapontab" class="overlay">
        <div class="popup">
          <h2>Roll Weapon Attack/Defense</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>When this button is clicked, a popup shows up, prompting you to input a number. This number is <strong>how much CP</strong> you want to spend on the <strong>Attack or Defense</strong> Roll.
              <br><br>
              Your Roll totals are then sent to chat. <strong>Three sets of attacks</strong> are rolled, in case you had Advantage or Disadvantage multiple times. (And in this way, you aren't required to click another button to tell the chat roll if you had Advantage/Disadvantage or not.) Relevant info from your weapon is included in the 'Roll Template' sent to chat, which includes buttons to roll extra damage based on your <strong>Margin of Success (MoS)</strong> (how much higher you rolled than your opponent).
              <br><br>
              If you have the <strong>'TokenMod' API Script</strong> <i>which we highly recommend</i>, this number is automatically subtracted from the <strong>green bar</strong> above your token. This green bar is used to keep track of Combat Points for Duels of Dreams, instead of 'Hit Points' like in D&D.
                    </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

      </span>
    <span title="Damage" class="wtA">

      <div class="box">
        <a class="button" href="#popup-dmgweapontab">Dmg</a>
      </div>

      </span>
    <span title="number added to attack roll button" class="wtA">

      <div class="box">
        <a class="button" href="#popup-attackplusweapontab">Att+</a>
      </div> <!-- close box -->
      <div id="popup-attackplusweapontab" class="overlay">
        <div class="popup">
          <h2>Att+</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>This number is the amount of CP added when making a roll. It's meant to be used as part of a <strong>macro</strong> roll button with Roll20.
              <br><br>
              The button to the right (used to) use this number when clicked, as the number of CP spent. I've left it on the sheet for now, since macros can reference this number in quick buttons while a token is selected. But the button to the right, for now, asks for an input for how many CP you want to spend instead.
                    </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span class="wtD">

      <div class="box">
        <a class="button" href="#popup-rollmeleeattackweapontab">Roll</a>
      </div> <!-- close box -->
      <div id="popup-rollmeleeattackweapontab" class="overlay">
        <div class="popup">
          <h2>Roll Weapon Attack/Defense</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>When this button is clicked, a popup shows up, prompting you to input a number. This number is <strong>how much CP</strong> you want to spend on the <strong>Attack or Defense</strong> Roll.
              <br><br>
              Your Roll totals are then sent to chat. <strong>Three sets of attacks</strong> are rolled, in case you had Advantage or Disadvantage multiple times. (And in this way, you aren't required to click another button to tell the chat roll if you had Advantage/Disadvantage or not.) Relevant info from your weapon is included in the 'Roll Template' sent to chat, which includes buttons to roll extra damage based on your <strong>Margin of Success (MoS)</strong> (how much higher you rolled than your opponent).
              <br><br>
              If you have the <strong>'TokenMod' API Script</strong> <i>which we highly recommend</i>, this number is automatically subtracted from the <strong>green bar</strong> above your token. This green bar is used to keep track of Combat Points for Duels of Dreams, instead of 'Hit Points' like in D&D.
                    </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>


    <span title="Advantage or not?"class="wtAdvBlock">

      <div class="box">
        <a class="button" href="#popup-advquestionweapontab">Adv.?</a>
      </div> <!-- close box -->
      <div id="popup-advquestionweapontab" class="overlay">
        <div class="popup">
          <h2>Advantage?</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>In Duels of Dreams, you actively Roll for defense. You must spend CP equal to the amount you want to add to your defense roll. If you have no CP left, you <i>can't defend.</i>
              <br><br>
              Some weapons or shields give you modifiers to defend, in the form of <strong>Advantage or Disadvantage</strong>. Here are two examples:
              <ul>
                <li><strong>Shields</strong> Give Advantage on the 'Block' Maneuver </li>
                  <li><strong>Daggers</strong> Give Disadvantage to defend on a 'Parry' Maneuver. </li>
                  </ul>
                  Check the <strong>Weapons & Armor</strong> tables for the modifiers on your equipped weapon. For <strong>this box</strong>, you can just fill in <strong>Yes or No</strong>, or <strong>Adv / Disadv. </strong>.
          </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->

      </span>
    <span title="Number added to defense roll button"class="wtSkrmD">

      <div class="box">
        <a class="button" href="#popup-defendplusweapontab">Def+</a>
      </div> <!-- close box -->
      <div id="popup-defendplusweapontab" class="overlay">
        <div class="popup">
          <h2>Def+</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>This number is the amount of CP added when making a roll. It's meant to be used as part of a <strong>macro</strong> roll button with Roll20.
              <br><br>
              The button to the right (used to) use this number when clicked, as the number of CP spent. I've left it on the sheet for now, since macros can reference this number in quick buttons while a token is selected. But the button to the right, for now, asks for an input for how many CP you want to spend instead.
                    </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span class="wtD">

      <div class="box">
        <a class="button" href="#popup-rollmeleeattackweapontab">Roll</a>
      </div> <!-- close box -->
      <div id="popup-rollmeleeattackweapontab" class="overlay">
        <div class="popup">
          <h2>Roll Weapon Attack/Defense</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>When this button is clicked, a popup shows up, prompting you to input a number. This number is <strong>how much CP</strong> you want to spend on the <strong>Attack or Defense</strong> Roll.
              <br><br>
              Your Roll totals are then sent to chat. <strong>Three sets of attacks</strong> are rolled, in case you had Advantage or Disadvantage multiple times. (And in this way, you aren't required to click another button to tell the chat roll if you had Advantage/Disadvantage or not.) Relevant info from your weapon is included in the 'Roll Template' sent to chat, which includes buttons to roll extra damage based on your <strong>Margin of Success (MoS)</strong> (how much higher you rolled than your opponent).
              <br><br>
              If you have the <strong>'TokenMod' API Script</strong> <i>which we highly recommend</i>, this number is automatically subtracted from the <strong>green bar</strong> above your token. This green bar is used to keep track of Combat Points for Duels of Dreams, instead of 'Hit Points' like in D&D.
                    </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span class="wtReachCategory">Category</span>
    <span title="relative reach level" class="wtReachLevel">Lvl</span>
    <span title="spaces away the weapon can attack" class="wtReachSpaces">Spaces</span>

    <span title="left hand equipped" class="wtRange">Left</span> <!-- moved reach elsewhere -->
    <span title="Right hand equipped" class="wtHand">Right</span>

    <span class="wtOther">Other</span>
  </div>

  <fieldset class="repeating_weapons">
    <div class="wptfillrepeating">
      <input type="text" name="attr_weapon" value="">

      <input type="text" name="attr_weaponactionpointmodifier" value="">
      <input type="text" name="attr_cptotal" value="">
      <input type="text" name="attr_cutdamage" value="">
      <input type="text" name="attr_cutattack" value="">
      <span class="swingweaponbutton">

<button class="sheet-d6-dice" type="roll" value='&{template:dodas1} {{name=@{weapon} }} {{subtags=@{character_name} }} {{diceADroll=Swing Attack}} {{attackdatadodas1=[[2d6 + ?{Roll modifier|0}]] or [[2d6 + ?{Roll modifier|0}]] or [[2d6 + ?{Roll modifier|0}]], at +?{Roll modifier|0}}} {{reachdatadodas1=@{range} (@{reachlevel}), Spaces: @{reachspaces} }} {{mosorparryblock=Roll Dmg, MoS}} {{mosbuttonsdata= [<5](~repeating_weapons_underFiveMoS) [5](~repeating_weapons_fiveMoS) [10](~repeating_weapons_tenMoS) [15](~repeating_weapons_fifteenMoS) [20](~repeating_weapons_twentyMoS) [25](~repeating_weapons_twentyfiveMoS) [30](~repeating_weapons_thirtyMoS) }} {{notesdatadodas1=@{other}}}
!token-mod --set bar1_value|[[ @{selected|bar1} - ?{Roll modifier|0}]] '
name="roll_weaponrepeatingbuttonswing"></button>
    <button type="roll" name="roll_underFiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg= @{cutdamage}}} {{MoSAmount=<5 MoS =}} {{MoSExplainer=Base Weapon Damage only}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
    <button type="roll" name="roll_fiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{cutdamage}}} {{MoSAmount=5 MoS =}} {{MoSExplainer=+1d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}} "></button>
    <button type="roll" name="roll_tenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{cutdamage}}} {{MoSAmount=10 MoS =}} {{MoSExplainer=+1d6 Damage, Reroll 1 damage die}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
    <button type="roll" name="roll_fifteenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{cutdamage}}} {{MoSAmount=15 MoS =}} {{MoSExplainer=+2d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
    <button type="roll" name="roll_twentyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{cutdamage}}} {{MoSAmount=20 MoS =}} {{MoSExplainer=+2d6 Damage, Reroll 2 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
    <button type="roll" name="roll_twentyfiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{cutdamage}}} {{MoSAmount=25 MoS =}} {{MoSExplainer=+3d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
    <button type="roll" name="roll_thirtyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{cutdamage}}} {{MoSAmount=30 MoS =}} {{MoSExplainer=+3d6 Damage, Reroll 3 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>

    <button type="roll" name="roll_headshotExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Headshot: +[[1d6]]}}"></button>
    <button type="roll" name="roll_CritExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Critical: +[[1d6]]}}"></button>
    <button type="roll" name="roll_RerollDmgDie" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Reroll 1d6: [[1d6]]}}"></button>
              </span>


      <input type="text" name="attr_thrustdamage" value="">
      <input type="text" name="attr_thrustattack" value="">


      <span class="thrustweaponbutton">

<button class="sheet-d6-dice" type="roll" value='&{template:dodas1} {{name=@{weapon} }} {{subtags=@{character_name} }} {{diceADroll=Thrust Attack}} {{attackdatadodas1=[[2d6 + ?{Roll modifier|0}]] or [[2d6 + ?{Roll modifier|0}]] or [[2d6 + ?{Roll modifier|0}]], at +?{Roll modifier|0}}} {{reachdatadodas1=@{range} (@{reachlevel}), Spaces: @{reachspaces} }} {{mosorparryblock=Roll Dmg, MoS}} {{mosbuttonsdata= [<5](~repeating_weapons_underFiveMoS) [5](~repeating_weapons_fiveMoS) [10](~repeating_weapons_tenMoS) [15](~repeating_weapons_fifteenMoS) [20](~repeating_weapons_twentyMoS) [25](~repeating_weapons_twentyfiveMoS) [30](~repeating_weapons_thirtyMoS) }} {{notesdatadodas1=@{other}}}
!token-mod --set bar1_value|[[ @{selected|bar1} - ?{Roll modifier|0}]] '
name="roll_weaponrepeatingbuttonthrust"></button>
<button type="roll" name="roll_underFiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg= @{thrustdamage}}} {{MoSAmount=<5 MoS =}} {{MoSExplainer=Base Weapon Damage only}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_fiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{thrustdamage}}} {{MoSAmount=5 MoS =}} {{MoSExplainer=+1d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}} "></button>
<button type="roll" name="roll_tenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{thrustdamage}}} {{MoSAmount=10 MoS =}} {{MoSExplainer=+1d6 Damage, Reroll 1 damage die}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_fifteenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{thrustdamage}}} {{MoSAmount=15 MoS =}} {{MoSExplainer=+2d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_twentyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{thrustdamage}}} {{MoSAmount=20 MoS =}} {{MoSExplainer=+2d6 Damage, Reroll 2 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_twentyfiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{thrustdamage}}} {{MoSAmount=25 MoS =}} {{MoSExplainer=+3d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_thirtyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{weapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{thrustdamage}}} {{MoSAmount=30 MoS =}} {{MoSExplainer=+3d6 Damage, Reroll 3 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_weapons_RerollDmgDie)}}"></button>

<button type="roll" name="roll_headshotExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Headshot: +[[1d6]]}}"></button>
<button type="roll" name="roll_CritExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Critical: +[[1d6]]}}"></button>
<button type="roll" name="roll_RerollDmgDie" class="hidden" value="&{template:dodasdmgextra} {{name=@{weapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Reroll 1d6: [[1d6]]}}"></button>
</span>

      <input type="text" name="attr_parryblock" value="">
      <input type="text" name="attr_blockdefendplus" value="">
      <span class="rolldefendbutton">
<button class="sheet-d6-dice" type="roll" value='&{template:dodasdefense} {{name=@{weapon} }} {{subtags=@{character_name} }} {{diceADroll=Defense Roll}} {{attackdatadodas1=[[2d6 + ?{Roll modifier|0}]] or [[2d6 + ?{Roll modifier|0}]] or [[2d6 + ?{Roll modifier|0}]], at +?{Roll modifier|0}}} {{reachdatadodas1=@{range} (@{reachlevel}), Spaces: @{reachspaces} }} {{mosorparryblock=Parry or Block:}} {{mosbuttonsdata=@{parryblock}}}  {{Notes=@{other}}}
!token-mod --set bar1_value|[[ @{selected|bar1} - ?{Roll modifier|0}]] '
              name="roll_weaponrepeatingbuttondefend"></button>
             </span>

    <input type="text" name="attr_range" value=""> <!-- should be attr_reachcategory -->
    <input type="text" name="attr_reachlevel" value="">
    <input type="text" name="attr_reachspaces" value="">

    <input type="text" name="attr_lefthand" value=""> <!-- changing to equipped hand left right with checkbox original name="attr_range" name="attr_hand"  -->
      <input type="text" name="attr_hand" value="">

      <!-- CHECKBOXES WON'T WORK, TROUBLESHOOT LATER
      <input type="checkbox" name="attr_lefthandbox" value="">
      <input type="checkbox" name="attr_righthandbox" value=""> -->

    <input type="text" name="attr_other" value="">


    </div>
  </fieldset>
</div>


<!-- RANGED WEAPONS -->

<div class="rangedweapontable">
  <div class="rwptrow1">
    <span class="arrowimage">
    <img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/arrowPNGcolored.png?raw=true" style="justify-self: center; left:0px; top: -15px; height: 13px; width: 75%;">
    </span>

    <!--
    <span class="wptrangedc">Range DC</span>
    <span><input type="text" name="attr_rangedcstill" placeholder="9"> </span>
    <span><input type="text" name="attr_rangedcmoving" placeholder="12"> </span>
    -->
    <span class="rwpttoprowAP">

      <div class="box">
        <a class="button" href="#popup-apmodweapontab">AP</a>
      </div> <!-- close box -->
      <div id="popup-apmodweapontab" class="overlay">
        <div class="popup">
          <h2>Action Point Modifier (AP Mod)</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>Some weapons, armor, or shields have an <strong>AP Mod</strong>.  Some weapons are fast and light, while some are bulkier and slow. This number is added (or subtracted) from your <strong>CP Total</strong> (Combat Points), to determine the actions and attack and defense you can make each round.
              <br><br>
              <ul>
                <li>As a reminder, <strong>CP Total =</strong> Action Points (Derived Attribute) + AP Mod + Skill (or Skill Specialization) for the equipped weapon </li>
              </p>
          </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span title="Combat Points" class="rwptcptoprow">

      <div class="box">
        <a class="button" href="#popup-cpweapontab">CP</a>
      </div> <!-- close box -->
      <div id="popup-cpweapontab" class="overlay">
        <div class="popup">
          <h2>Combat Points (CP)</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>A characters speed and skill in combat with their <strong>equipped weapon</strong>. CP represents the <strong>maximum amount</strong> of attack, defense, or other actions one might make. You can think of this as an <strong>‘Action Point’ system</strong>, as seen in many games. You can take actions <strong>until you run out</strong> of Combat Points. <i>see <strong>Turn Order</strong> Handout or Rules for more.</i>
              <br><br>
              For each <strong>attack and defense</strong> roll you make, <strong>spending CP adds to your roll total</strong>. You must spend at least 1 CP! For example, spending 7 CP is a +7 attack.
              <br><br>
              <ul>
                <li><strong>Combat points total = ‘AP’</strong> Derived Attribute (4 + Wit + AGI), <strong>+ skill (or specialization)</strong> with the <strong>equipped weapon</strong>, <strong>+ AP Mod</strong> from armor or heavy/light weapons.</li>
                </ul>

                   Each combatant <strong>starts each round</strong> of combat with <strong>all</strong> of their Combat Points. Combat points refresh completely at the top of every round.

                <ul>
                  <li>The maximum CP a combatant starts each round with <strong>might be modified</strong> by wounds, fatigue, encumbrance, or magic.</li>
                  </ul>
              </p>
          </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span class="rwpttoprowshoot">Shoot / Throw</span>
    <span class="rwpttoprowrange">

      <div class="box">
        <a class="button" href="#popup-rangedpenaltyweapontab">Range</a>
      </div> <!-- close box -->
      <div id="popup-rangedpenaltyweapontab" class="overlay">
        <div class="popup">
          <h2>Ranged Penalty</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>For every 5 or 10 spaces on a combat grid (5 feet per space), your attack takes a -1 or -2 penalty.
              <br><br>
              <ul>
                <li><strong>For example</strong>, a Throwing Axe attacking 17 spaces away is at -6.</li>
                </ul>

                                        </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span class="rwptblank"></span>

    <span class="rwptreload">

      <div class="box">
        <a class="button" href="#popup-reloadtimeweapontab">Reload</a>
      </div> <!-- close box -->
      <div id="popup-reloadtimeweapontab" class="overlay">
        <div class="popup">
          <h2>Reload Time</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>The amount of full rounds of combat it takes to reload the weapon.
              <br><br>
              As a variant rule, you can spend CP to reload instead. If the CP spent exceeds your remaining CP, then you must spend the remaining CP the following round.
                                        </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span class="rwptequipped">Equipped Hand</span>
    </div>

  <div class="rwptrow2">
    <span class="rwtweapon">Ranged Weapons</span>

    <span title="modifier" class="rwtMod">Mod</span>
    <span title="Combat Points" class="rwtTotal">

      <div class="box">
        <a class="button" href="#popup-cpweapontab">Total</a>
      </div> <!-- close box -->
      <div id="popup-cpweapontab" class="overlay">
        <div class="popup">
          <h2>Combat Points (CP)</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>A characters speed and skill in combat with their <strong>equipped weapon</strong>. CP represents the <strong>maximum amount</strong> of attack, defense, or other actions one might make. You can think of this as an <strong>‘Action Point’ system</strong>, as seen in many games. You can take actions <strong>until you run out</strong> of Combat Points. <i>see <strong>Turn Order</strong> Handout or Rules for more.</i>
              <br><br>
              For each <strong>attack and defense</strong> roll you make, <strong>spending CP adds to your roll total</strong>. You must spend at least 1 CP! For example, spending 7 CP is a +7 attack.
              <br><br>
              <ul>
                <li><strong>Combat points total = ‘AP’</strong> Derived Attribute (4 + Wit + AGI), <strong>+ skill (or specialization)</strong> with the <strong>equipped weapon</strong>, <strong>+ AP Mod</strong> from armor or heavy/light weapons.</li>
                </ul>

                   Each combatant <strong>starts each round</strong> of combat with <strong>all</strong> of their Combat Points. Combat points refresh completely at the top of every round.

                <ul>
                  <li>The maximum CP a combatant starts each round with <strong>might be modified</strong> by wounds, fatigue, encumbrance, or magic.</li>
                  </ul>
              </p>
          </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span title="Damage" class="rwtA">

      <div class="box">
        <a class="button" href="#popup-dmgweapontab">Dmg</a>
      </div>

      </span>
    <span title="number added to Attack roll button" class="rwtA">

      <div class="box">
        <a class="button" href="#popup-attackplusweapontab">Att+</a>
      </div> <!-- close box -->
      <div id="popup-attackplusweapontab" class="overlay">
        <div class="popup">
          <h2>Att+</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>This number is the amount of CP added when making a roll. It's meant to be used as part of a <strong>macro</strong> roll button with Roll20.
              <br><br>
              The button to the right (used to) use this number when clicked, as the number of CP spent. I've left it on the sheet for now, since macros can reference this number in quick buttons while a token is selected. But the button to the right, for now, asks for an input for how many CP you want to spend instead.
                    </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span class="rwtroll">

      <div class="box">
        <a class="button" href="#popup-rollmeleeattackweapontab">Roll</a>
      </div> <!-- close box -->
      <div id="popup-rollmeleeattackweapontab" class="overlay">
        <div class="popup">
          <h2>Roll Weapon Attack/Defense</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>When this button is clicked, a popup shows up, prompting you to input a number. This number is <strong>how much CP</strong> you want to spend on the <strong>Attack or Defense</strong> Roll.
              <br><br>
              Your Roll totals are then sent to chat. <strong>Three sets of attacks</strong> are rolled, in case you had Advantage or Disadvantage multiple times. (And in this way, you aren't required to click another button to tell the chat roll if you had Advantage/Disadvantage or not.) Relevant info from your weapon is included in the 'Roll Template' sent to chat, which includes buttons to roll extra damage based on your <strong>Margin of Success (MoS)</strong> (how much higher you rolled than your opponent).
              <br><br>
              If you have the <strong>'TokenMod' API Script</strong> <i>which we highly recommend</i>, this number is automatically subtracted from the <strong>green bar</strong> above your token. This green bar is used to keep track of Combat Points for Duels of Dreams, instead of 'Hit Points' like in D&D.
                    </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span class="rwtincrement">

      <div class="box">
        <a class="button" href="#popup-rangedpenaltyweapontab">Penalty</a>
      </div> <!-- close box -->
      <div id="popup-rangedpenaltyweapontab" class="overlay">
        <div class="popup">
          <h2>Ranged Penalty</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>For every 5 or 10 spaces on a combat grid (5 feet per space), your attack takes a -1 or -2 penalty.
              <br><br>
              <ul>
                <li><strong>For example</strong>, a Throwing Axe attacking 17 spaces away is at -6.</li>
                </ul>

                                        </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span title="ignore this much range penalty" class="rwtAccuracy">

      <div class="box">
        <a class="button" href="#popup-rangedaccuracyweapontab">Accuracy</a>
      </div> <!-- close box -->
      <div id="popup-rangedaccuracyweapontab" class="overlay">
        <div class="popup">
          <h2>Accuracy: Ranged</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>The amount of spaces away before range penalty starts accumulating.
              <br><br>
              <ul>
                <li><strong>For example</strong>, a light crossbow takes no penalties up to 10 spaces away. At 15 it’s at -1, at 20: -2, etc. </li>
                  </ul>
                  If nothing is listed, use the <strong>Ranged Penalty</strong> increments as usual.

                                        </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span title="ignores armor all or nothing" class="rwtPenetration">

      <div class="box">
        <a class="button" href="#popup-rangedpenetrationweapontab">Penetration</a>
      </div> <!-- close box -->
      <div id="popup-rangedpenetrationweapontab" class="overlay">
        <div class="popup">
          <h2>Penetration</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>Effectiveness vs. Armor
              <br><br>
              If the penetration number meets or exceeds the opponents <strong>‘Armor Value’ vs. Piercing</strong>, then the damage from the attack ignores all <strong>Damage Reduction</strong> from Armor. Other forms of Damage Reduction (like from <strong>Body</strong>) still apply.
              <br><br>
              Otherwise, Penatration has no effect.

                                        </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span title="shots before reloading" class="rwtSkrmD">

      <div class="box">
        <a class="button" href="#popup-rangedshotsweapontab">Shots</a>
      </div> <!-- close box -->
      <div id="popup-rangedshotsweapontab" class="overlay">
        <div class="popup">
          <h2>Shots</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>The amount of times you can fire a weapon before you need to Reload.
                                        </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span title="time to reload" class="rwttime">

      <div class="box">
        <a class="button" href="#popup-reloadtimeweapontab">Time</a>
      </div> <!-- close box -->
      <div id="popup-reloadtimeweapontab" class="overlay">
        <div class="popup">
          <h2>Reload Time</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>The amount of full rounds of combat it takes to reload the weapon.
              <br><br>
              As a variant rule, you can spend CP to reload instead. If the CP spent exceeds your remaining CP, then you must spend the remaining CP the following round.
                                        </p>
                                </div> <!-- close content -->
        </div> <!-- close popup -->
      </div> <!-- close popup1 id overlay -->
      </span>

    <span class="rwtleftequipped">Left</span>
    <span class="rwtrightequipped">Right</span>
    <span class="rwtOther">Other</span>
  </div>

  <fieldset class="repeating_rangedweapons">
    <div class="rwptfillrepeating">
      <input type="text" name="attr_rangedweapon" value="">
      <input type="text" name="attr_rangedapmod" value="">
      <input type="text" name="attr_rangedCPTotal" value="">
      <input type="text" name="attr_rangeddmg" value="">
      <input type="text" name="attr_rangedattackplus" value="">

     <span class="rangedweaponbutton">

<button class="sheet-d6-dice" type="roll" value='&{template:dodasranged} {{name=@{rangedweapon}}} {{subtags=@{character_name}}} {{attackdatadodasranged=[[2d6 + ?{Roll modifier|0}]] or [[2d6 + ?{Roll modifier|0}]] or [[2d6 + ?{Roll modifier|0}]], at +?{Roll modifier|0}}} {{incrementdodasranged=@{rangedincrement}}} {{accuracyranged=@{rangedaccuracy}}} {{rangedmosbuttonsdata= [<5](~repeating_rangedweapons_underFiveMoS) [5](~repeating_rangedweapons_fiveMoS) [10](~repeating_rangedweapons_tenMoS) [15](~repeating_rangedweapons_fifteenMoS) [20](~repeating_rangedweapons_twentyMoS) [25](~repeating_rangedweapons_twentyfiveMoS) [30](~repeating_rangedweapons_thirtyMoS) }} {{Notes=@{rangedother}}}
!token-mod --set bar1_value|[[ @{selected|bar1} - ?{Roll modifier|0}]] '
name="roll_rangedattackbutton"></button>
<button type="roll" name="roll_underFiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{rangedweapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg= @{rangeddmg}}} {{MoSAmount=<5 MoS =}} {{MoSExplainer=Base Weapon Damage only}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_rangedweapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_fiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{rangedweapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{rangeddmg}}} {{MoSAmount=5 MoS =}} {{MoSExplainer=+1d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_rangedweapons_RerollDmgDie)}} "></button>
<button type="roll" name="roll_tenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{rangedweapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + @{rangeddmg}}} {{MoSAmount=10 MoS =}} {{MoSExplainer=+1d6 Damage, Reroll 1 damage die}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_rangedweapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_fifteenMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{rangedweapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{rangeddmg}}} {{MoSAmount=15 MoS =}} {{MoSExplainer=+2d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_rangedweapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_twentyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{rangedweapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + @{rangeddmg}}} {{MoSAmount=20 MoS =}} {{MoSExplainer=+2d6 Damage, Reroll 2 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_rangedweapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_twentyfiveMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{rangedweapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{rangeddmg}}} {{MoSAmount=25 MoS =}} {{MoSExplainer=+3d6 Damage}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_rangedweapons_RerollDmgDie)}}"></button>
<button type="roll" name="roll_thirtyMoS" class="hidden" value="&{template:dodasmosdmg} {{name=@{rangedweapon}}} {{subtags=@{character_name} }} {{damageMoStotalsdodasdmg=[[1d6]] + [[1d6]] + [[1d6]] + @{rangeddmg}}} {{MoSAmount=30 MoS =}} {{MoSExplainer=+3d6 Damage, Reroll 3 damage dice}} {{headshotdmgbutton=[+1d6](~repeating_weapons_headshotExtraDmg)}} {{criticialhitdmgbutton=[+1d6](~repeating_weapons_CritExtraDmg)}} {{rerolldiedmgbutton=[1d6](~repeating_rangedweapons_RerollDmgDie)}}"></button>

<button type="roll" name="roll_headshotExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{rangedweapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Headshot: +[[1d6]]}}"></button>
<button type="roll" name="roll_CritExtraDmg" class="hidden" value="&{template:dodasdmgextra} {{name=@{rangedweapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Critical: +[[1d6]]}}"></button>
<button type="roll" name="roll_RerollDmgDie" class="hidden" value="&{template:dodasdmgextra} {{name=@{rangedweapon} (Extra Damage)}} {{subtags=@{character_name} }} {{extradmgdodasdmg= Reroll 1d6: [[1d6]]}}"></button>

              </span>

      <input type="text" name="attr_rangedincrement" value="">
      <input type="text" name="attr_rangedaccuracy" value="">
      <input type="text" name="attr_rangedpenetration" value="">
      <input type="text" name="attr_rangedshots" value="">
      <input type="text" name="attr_reloadtime" value="">

      <input type="text" name="attr_rangedequippedleft" value="">
      <input type="text" name="attr_rangedequippedright" value="">
      <input type="text" name="attr_rangedother" value="">



    </div>
  </fieldset>
</div>



<!-- ARMOR TABLE -->

<div class="armortable">
<div class="armortbtoprow">
  <span class="atTopWeapon"></span>
  <span title="Armor Value of equipment" class="atTopAvEquip">

    <div class="box">
      <a class="button" href="#popup-avequipweapontab">AV Equip</a>
    </div> <!-- close box -->
    <div id="popup-avequipweapontab" class="overlay">
      <div class="popup">
        <h2>Armor Value Equipped</h2>
        <a class="close" href="#">×</a>
        <div class="content">
          <p>The values listed here, are the <strong>Damage Reduction</strong> values against each type of damage, abbreviated by letter.
            <br><br>
            The Damage types are:
            <ul>
              <li><strong>c =</strong>cutting</li>
              <li><strong>p =</strong>piercing</li>
              <li><strong>b =</strong>blunt</li>
              <li><strong>e =</strong>energy: fire, cold, magic, etc.</li>
              </ul>
            Your 'AV Equip' (Armor Value from Equipment) is then added to your <strong>Body</strong> Derived Attribute to form the final <strong>Damage Reduction Totals</strong> on the <i>right</i>.
                                      </p>
                              </div> <!-- close content -->
      </div> <!-- close popup -->
    </div> <!-- close popup1 id overlay -->
    </span>

  <span class="atTopBD">
<img title="Body" class="ArmorBodyImg" src="https://imgsrv.roll20.net?src=https%3A//github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/BD%2520Icon%2520white%2520border.png%3Fraw%3Dtrue" width="23" height="23">
  </span>
  <span title="Damage Reduction Total" class="atDRTotal">

    <div class="box">
      <a class="button" href="#popup-drtotalweapontab">DR Total</a>
    </div> <!-- close box -->
    <div id="popup-drtotalweapontab" class="overlay">
      <div class="popup">
        <h2>Damage Reduction Totals</h2>
        <a class="close" href="#">×</a>
        <div class="content">
          <p>The values listed here are your <strong>Damage Reduction Totals</strong> against each type of damage, abbreviated by letter.
            <br><br>
            The Damage types are:
            <ul>
              <li><strong>c =</strong>cutting</li>
              <li><strong>p =</strong>piercing</li>
              <li><strong>b =</strong>blunt</li>
              <li><strong>e =</strong>energy: fire, cold, magic, etc.</li>
              </ul>
            Your 'AV Equip' (Armor Value from Equipment) from the <i>left</i> is added to your <strong>Body</strong> Derived Attribute to form the final <strong>Damage Reduction Totals</strong> on the <i>right</i>.
                                      </p>
                              </div> <!-- close content -->
      </div> <!-- close popup -->
    </div> <!-- close popup1 id overlay -->
    </span>

</div>
<div class="armorsecondrow">
  <span class="atArmor">

    <div class="box">
      <a class="button" href="#popup-armorweapontab">Armor</a>
    </div> <!-- close box -->
    <div id="popup-armorweapontab" class="overlay">
      <div class="popup">
        <h2>Armor</h2>
        <a class="close" href="#">×</a>
        <div class="content">
          <p> Armor is used to mitigate damage from attacks. Whenever a melee weapon hits, you subtract your <strong>Damage Reduction</strong> from the Armor you're wearing from the Damage of the attack.
            <br><br>
            Wearing armor has some pros and cons though. Heavier armor has an <strong>AP MOD</strong> or Action Point modifier (penalty) that affects your Combat Point (CP) totals. It might also have a negative modifier to your <strong>Stealth</strong> and <strong>Mobility</strong> Adventuring Skill Rolls.
                                      </p>
                              </div> <!-- close content -->
      </div> <!-- close popup -->
    </div> <!-- close popup1 id overlay -->
    </span>





  <span title="Cutting damage" class="atC">c</span>
  <span title="Piercing damage" class="atP">p</span>
  <span title="Blunt damage" class="atB">b</span>
  <span title="Energy or Magic damage" class="atE">e</span>
  <span title="Body attribute" class="atBD">


    <div class="box">
      <a class="button" href="#popup-bodyarmorpopupweapontab">Body</a>
    </div> <!-- close box -->
    <div id="popup-bodyarmorpopupweapontab" class="overlay">
      <div class="popup">
        <h2>Mobility Armor Modifier</h2>
        <a class="close" href="#">×</a>
        <div class="content">
          <p>Your Body Derived Attribute is your base level of Damage Reduction. Is is added to your equipped Armor Values to the left, to form your Damage Reduction Totals on the right.
          </p>
                              </div> <!-- close content -->
      </div> <!-- close popup -->
    </div> <!-- close popup1 id overlay -->
    </span>

  <span title="Cutting damage reduction" class="attc">c</span>
  <span title="Piercing damage reduciton" class="attp">p</span>
  <span title="Blunt damage reduction" class="attb">b</span>
  <span title="Energy or Magic damage reduction" class="atte">e</span>

  <span title="Action Point Modifier" class="atAPM">

    <div class="box">
      <a class="button" href="#popup-apmodweapontab">AP Mod</a>
    </div> <!-- close box -->
    <div id="popup-apmodweapontab" class="overlay">
      <div class="popup">
        <h2>Damage Reduction Totals</h2>
        <a class="close" href="#">×</a>
        <div class="content">

                              </div> <!-- close content -->
      </div> <!-- close popup -->
    </div> <!-- close popup1 id overlay -->
    </span>

  <span title="Modifier to Stealth" class="atStealth">

    <div class="box">
      <a class="button" href="#popup-stealtharmorpopupweapontab">Stealth</a>
    </div> <!-- close box -->
    <div id="popup-stealtharmorpopupweapontab" class="overlay">
      <div class="popup">
        <h2>Stealth Armor Modifier</h2>
        <a class="close" href="#">×</a>
        <div class="content">
          <p>Some Armor gives you a negative modifier to your <strong>Stealth</strong> Adventuring skill roll (a Specialization of 'Mobility'). Check the Weapons and Armor tables for your specific equipped armor.
          </p>
                              </div> <!-- close content -->
      </div> <!-- close popup -->
    </div> <!-- close popup1 id overlay -->
    </span>

  <span title="Modifier to Mobility" class="atStealth">

    <div class="box">
      <a class="button" href="#popup-mobilityarmorpopupweapontab">Mobility</a>
    </div> <!-- close box -->
    <div id="popup-mobilityarmorpopupweapontab" class="overlay">
      <div class="popup">
        <h2>Mobility Armor Modifier</h2>
        <a class="close" href="#">×</a>
        <div class="content">
          <p>Some Armor gives you a negative modifier to your <strong>Mobility</strong> Adventuring skill roll. Check the Weapons and Armor tables for your specific equipped armor.
          </p>
                              </div> <!-- close content -->
      </div> <!-- close popup -->
    </div> <!-- close popup1 id overlay -->
    </span>


  <span class="atLocation">Location / Other</span>
</div>



<fieldset class="repeating_armor">
  <div class="armor-fillinrepeating">
    <input type="text" name="attr_armor" value="">
    <input type="text" name="attr_armorvalue" value="">
    <input type="text" name="attr_atP" value="">
    <input type="text" name="attr_atB" value="">
    <input type="text" name="attr_atE" value="">
    <input type="text" name="attr_armortablebody">
    <input type="text" name="attr_damagereduction" value="">
    <input type="text" name="attr_attP" value="">
    <input type="text" name="attr_attB" value="">
    <input type="text" name="attr_attE" value="">
    <input type="text" name="attr_actionpointmodifier" value="">
    <input type="text" name="attr_stealtharmormodifier" value="">
    <input type="text" name="attr_mobilityarmormodifier" value="">
    <input type="text" name="attr_location" value="">


  </div>
</fieldset>
</div>


<!-- Ranged Defense table -->
<div class="rangedefensetable">

<div class="rangedefensetabletoprow">
 <span class="rangedefensesimage"><img class="SIZEImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/SZ%20Icon.png?raw=true" width="23" height="23"></span>
<span class="rangedefenseblank"></span>
 <span class="rangedefense9-SZ">(9-SZ)</span>
 <span class="rangedefense9-SZ">(12-SZ)</span>

</div>

<div class="rangedefensetablesecondrow">
 <span class="rangeddefenseword">

   <div class="box">
     <a class="button" href="#popup-rangeddefensepopupweapontab">Ranged Defense</a>
   </div> <!-- close box -->
   <div id="popup-rangeddefensepopupweapontab" class="overlay">
     <div class="popup">
       <h2>Ranged Defense</h2>
       <a class="close" href="#">×</a>
       <div class="content">
         <p>An attacker rolls against a passive defense TN (target number) called your <strong>Ranged Defense</strong>. Each combatant starts at <strong>TN 9</strong> while <strong>still</strong> or surprised, and <strong>TN 12</strong> if <strong>moving or in melee</strong>.
           <br><br>
           Characters Size and equipped shields can change your Ranged Defense TN.
           <ul>
             <li><strong>Size </strong>modifier <em><strong>subtracts</strong></em> from it (inverted or negative).</li>
             <li><strong>Shields </strong><em><strong>increase</strong></em> your defense.</li>
          A character may still choose to <strong>Dodge or Block</strong> instead of using their passive Ranged Defense value. If they do, they take the higher of the two between the roll and their passive score.
          <br><br>
          Standing, siting, or staying <strong>still</strong> while attacking (not moving for the round) gives advantage to any attacks.
         </p>
                             </div> <!-- close content -->
     </div> <!-- close popup -->
   </div> <!-- close popup1 id overlay -->
   </span>

 <span title="Modifier" class="rangedefensemodifier">Mod</span>
 <span title="Defense if standing still" class="rangedefensestill">



   Still</span>
      <span title="Defense if moving or in Melee" class="rangedefensemoving">Moving</span>

</div>

<div class="rangedefensetableinputrow">
    <span class="rangedefenseunarmedword">Size Modifier</span>
<input type="number" name="attr_rangeddefensemodifier" placeholder="0">
<input type="number" name="attr_rangeddefenseninenumber" placeholder="9">
    <input type="number" name="attr_rangeddefensetwelvenumber" placeholder="12">

   </div>

   <div class="rangedefensetableinputrow">
         <span class="rangeddefenseshieldword">Shield</span>
     <input type="number" name="attr_rangeddefenseshieldmodifier" placeholder="0">
     <input type="number" name="attr_rangeddefenseshieldninenumber" placeholder="9">
         <input type="number" name="attr_rangeddefenseshieldtwelvenumber" placeholder="12">

      </div>
</div>


<!-- Spells -->
<div class="spelltable">
<div class="strow">
<span class="stspells">Spells & Abilities</span>
<span title="Damage or Amount of Spell Effect" class="stDmg">Dmg</span>

<span class="stOpp">Type</span>
<span class="stArea">Area</span>
<span class="stDuration">Duration</span>
<span class="stRange">Range</span>
<span title="Spell Level" class="stLVL">LVL</span>
<span title="number added to spell roll" class="stRoll">Roll+</span>
<span title="Combat Point cost to cast" class="stCP">CP</span>
<span class="stRollbutton">Roll</span>
<span class="stDescription">Description</span>
</div>
<fieldset class="repeating_spells">
<div class="strepeating">
<input type="text" name="attr_spellorability" value="">
<input type="text" name="attr_spelldamage" value="">

<input type="text" name="attr_spellopposed" value="">
<input type="text" name="attr_spellarea" value="">
<input type="text" name="attr_spellduration" value="">
<input type="text" name="attr_spellrange" value="">

<input type="text" name="attr_spelllevel" value="">
<input type="text" name="attr_spellskill" value="">
<input type="text" name="attr_strcp" value="">
<span class="spellrollbutton">
<button class="sheet-d6-dice" type="roll" value=
        '&{template:dodas} {{name=@{character_name} @{spellorability} }} {{attack=[[2d6 + @{spellskill}]][[2d6 + @{spellskill}]][[2d6 + @{spellskill}]]}} {{Damage=@{spelldamage} + [[1d6]][[1d6]][[1d6]]}} {{Type=@{spellopposed}}} {{Area=@{spellarea}}} {{Duration=@{spellduration}}} {{Range=@{spellrange}}} {{LVL=@{spelllevel}}} {{Description=@{spelldescription}}} '
        name="roll_spellreapeatingbutton"></button></span>
<input type="text" name="attr_spelldescription" value="">


<!--
<span><button type="roll"
  value='&{template:dodas1} {{name=@{charcter_name} @{spellorability} }} {{attack=[[2d6 + @{strroll}]]}} {{Damage=@{spelldamage} + [[1d6]][[1d6]][[1d6]]}} {{Opposed=@{stropp}}} {{Spell Range=@{strrange}}} {{Spell Area=@{strarea}}} {{Spell Duration=@{strduration}}} {{Spell LVL=@{strlvl}}} {{Spell Description=@{strdescription}}} '
  name="roll_spellreapeatingbutton"></button></span>
  -->
</div>
</fieldset>
</div>
</div>

</div> <!-- <div class="dodaslayout"> close -->

<!-- END OF COMBAT TAB -->


<!-- SKILLS TAB -->

<!-- SKILLS & ABILITIES TABLE Skills Tab -->

<div class="skillsandpoints">

<div class="dodaslayout">

  <!-- COMBAT SKILLS INITIAL TABLE -->
  <input type="checkbox" class="sheet-combathidemathcheckbox" name="attr_combatskillshidemathcheckbox">

    <div class="sheet-block-combatfulltable">

      <div class="skilltable">
        <div class="skilltablerow">

          <span class="str1Skillsand">

            <div class="box">
              <a class="button" href="#popup-combatskillsskillpopuptab">Combat</a>
            </div> <!-- close box -->
            <div id="popup-combatskillsskillpopuptab" class="overlay">
              <div class="popup">
                <h2>Combat Skills table</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p>Your <strong>Combat Skills </strong>table is used to determine your starting CP for your equipped weapon, as well as track any <strong>maneuver specializations</strong> or other modifiers. It is <strong>NOT used to make rolls directly</strong>. This is something 'Duels of Dreams' does a little different, and it's important to keep in mind. When you're <strong>in combat</strong> use the <strong>Melee Weapons, Ranged Weapons, Armor, & Ranged Defense</strong> tables for making attack and defense rolls, etc.
                    <br><br>
                    The number in the <strong>total</strong> column is your CP Total for any weapon equipped. This is your base value, and includes your AP Attribute already. You can add this value, +/- any AP Mod from equipment, directly to the weapon tables.
                  </p>
                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span><input type="checkbox" class="sheet-duplicatecheckbox" name="attr_combatskillshidemathcheckbox"></span>
          <span class="hidemathtext">


            <div class="box">
              <a class="button" href="#popup-hidemathskillpopuptab" style="font-style: italic;">Hide Math</a>
            </div> <!-- close box -->
            <div id="popup-hidemathskillpopuptab" class="overlay">
              <div class="popup">
              <h2>Hide Math</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p>Clicking this checkbox shows two different version of this table. One is more complex, has more math, and shows all the different steps and variables that might factor into your skill totals, which is best used while building a character. During gameplay, a more compact table is much more useful for quick reference, and clicking roll buttons.
                </p>
                                    </div> <!-- close content -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span></span>
          <span title="Which Tier is the Skill?" class="str1TiersbyCost">

            <div class="box">
              <a class="button" href="#popup-tiersbycostskillpopuptab">Tiers by Cost</a>
            </div> <!-- close box -->
            <div id="popup-tiersbycostskillpopuptab" class="overlay">
              <div class="popup">
                <h2>Tiers by Cost</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p>	The cost of a <strong>+1 modifier</strong> is divided into <strong>Tiers</strong>. The tier number is how many points it costs for a +1 modifier in that Skill, Attribute, Specialization, etc. See the <strong>Tier Table</strong> for costs of each <em><strong>Attribute</strong></em> or <em><strong>Skill</strong></em>, or check which input is highlighted on this sheet in the 'tiers by cost' column.
                    <br><br>
                    Skills and attributes start <strong>broad</strong> to the left, and get <strong>more specific</strong> and cheaper to the right. Skill Tiers are organized into <strong>Skill Groups</strong>. Any Skill to the right on the Tier table, is a <strong>specialization</strong> of the skill group to the left of it. You can have multiple skill groups within a skill group, and can specialize <strong>multiple times</strong>.
                    <ul>
                      <li><em><strong>For example: </strong></em> All Combat (Tier 5) > Melee Combat (Tier 4) > Specific Weapon (Tier 2) > Specific Weapon Maneuver (Tier 1). Each is a specialization of the Skill Group a Tier above it.
                        </li>
                        <ul>
                When you increase a skill specialization, the Skill Group the tier above it increases via <strong>synergy</strong>. Every +3 total in any number of specializations in that tier, gives +1 synergy bonus to the skill group above it.
                <br><br>
                <i>See the full Character Creation rules for a more comprehensive explanation.</i>
                  </p>
                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span class="str1Synergy">

            <div class="box">
              <a class="button" href="#popup-synergyskillpopuptab">Synergy</a>
            </div> <!-- close box -->
            <div id="popup-synergyskillpopuptab" class="overlay">
              <div class="popup">
                <h2>Synergy</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p>When you increase a skill <strong>specialization</strong>, the Skill Group the tier above it increases via <strong>synergy</strong>. Every <strong>+3</strong> total in any number of specializations (within the same Skill Group and Tier), gives <strong>+1 Synergy Bonus</strong> to the skill group above it. This scales indefinitely.
                    <br>
                    <ul>
                      <li><strong>For example: </strong>If you specialize in 'Arming Sword & Shield' as a 'specific weapon' (at Tier 2) and put +2 in it, and also give +1 to your 'Grapple' weapon skill at Tier 2, then your 'Melee Combat' skill at Tier 4 gets a +1 Synergy Bonus. If you give +2 to three different weapons (+6 Total), then 'Melee Combat' gets +2 Synergy Bonus.
                        </li>
                        <ul>
                          <strong>Synergy Offset</strong> gives a -1 modifier to any skill specialization that increases to +3 on its own, and for every additional +3. This helps balance the game by preventing a free +1 for every +3 in a skill, especially for hyper specialized builds.
                  </p>
                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span class="str1Above">

            <div class="box">
              <a class="button" href="#popup-abovesubskillpopuptab">Above</a>
            </div> <!-- close box -->
            <div id="popup-abovesubskillpopuptab" class="overlay">
              <div class="popup">
                <h2>Above Sub (Subtotal)</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p>Skills that share a skill group add up their modifiers to create a <strong>'subtotal'</strong>. This column is intended to help keep track of multiple modifiers adding together, and to separate this process from Synergy.
                    <br>
                    <ul>
                      <li><strong>For example: </strong> You have +1 in 'All Combat', +2 in 'Melee combat', and +2 in 'Grapple'. If in the 'Melee Combat' row, you would add your +1 from 'All Combat' and your +2 in 'Melee Combat' for a subtotal of +3. The +3 would then get filled into the 'Above Sub' column box. In the 'Grapple' row (a tier below), you would add the +3 from the 'Melee Combat' Above Sub column, to your +2 in 'Grapple', for a new 'Above sub' of +5. The modifiers are cumulative.
                        </li>
                        <ul>
                          <strong>Maneuver specializations</strong> do not add the subtotal from the skill group they are a part of. They act independently, as a separate modifier during combat.
                  </p>
                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span class="str1Sub">

            <div class="box">
              <a class="button" href="#popup-subtotalskillpopuptab">Sub</a>
            </div> <!-- close box -->
            <div id="popup-subtotalskillpopuptab" class="overlay">
              <div class="popup">
                <h2>Subtotal</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p>	The <strong>subtotal</strong> column adds up the cumulative modifiers from your initial skill modifier + synergy + 'above sub', to give you a modifier total <strong>before adding Attribute modifiers</strong>. The final total is then tracked on the far left column of this table.
                  </p>
                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span class="str1RelevantAttributes">

            <div class="box">
              <a class="button" href="#popup-relevantattributesskillpopuptab">Relevant Attributes</a>
            </div> <!-- close box -->
            <div id="popup-relevantattributesskillpopuptab" class="overlay">
              <div class="popup">
                <h2>Relevant Attributes</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p>Each skill or skill group has one or two Attribute (or Derived Attribute) modifiers that are added to the final total. See the 'Combat Skills' and 'Adventuring Skills' sections for more details. Otherwise, the relevant Attributes are included on the character sheet for each skill group.
                  </p>
                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span class="str1OtherModifiersTop">Other</span>
        </div>

        <div class="skilltablerow2">
          <span class="str2Abilities">

            <div class="box">
              <a class="button" href="#popup-combatskillsskillpopuptab">Skills</a>
            </div> <!-- close box -->
            <div id="popup-combatskillsskillpopuptab" class="overlay">
              <div class="popup">
                <h2>Combat Skills table</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p>Your <strong>Combat Skills </strong>table is used to determine your starting CP for your equipped weapon, as well as track any <strong>maneuver specializations</strong> or other modifiers. It is <strong>NOT used to make rolls directly</strong>. This is something 'Duels of Dreams' does a little different, and it's important to keep in mind. When you're <strong>in combat</strong> use the <strong>Melee Weapons, Ranged Weapons, Armor, & Ranged Defense</strong> tables for making attack and defense rolls, etc.
                    <br><br>
                    The number in the <strong>total</strong> column is your CP Total for any weapon equipped. This is your base value, and includes your AP Attribute already. You can add this value, +/- any AP Mod from equipment, directly to the weapon tables.
                  </p>
                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span class="str2Total">

            <div class="box">
              <a class="button" href="#popup-totalcombatcolumnskillpopuptab">Total</a>
            </div> <!-- close box -->
            <div id="popup-totalcombatcolumnskillpopuptab" class="overlay">
              <div class="popup">
                <h2>Total - Combat Skills</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p>This number is used to start calculating your <strong>CP Total</strong> for any weapons equipped. This is your base value, and includes your AP Attribute already. You can add this value, +/- any AP Mod from equipment, directly to the weapon tables.
                  </p>
                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span class="str2Roll"></span>
          <span class="str2Tier">

            <div class="box">
              <a class="button" href="#popup-tiersbycostskillpopuptab">Tier</a>
            </div> <!-- close box -->
            <div id="popup-tiersbycostskillpopuptab" class="overlay">
              <div class="popup">

              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span class="str2Cost">

            <div class="box">
              <a class="button" href="#popup-pointscolumncombatskillpopuptab">Points</a>
            </div> <!-- close box -->
            <div id="popup-pointscolumncombatskillpopuptab" class="overlay">
              <div class="popup">
                <h2>Points Spent column</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p>The modifier of each skill, times the tier cost, is entered here. This number is used to add up how many points you've spent.
                    <br>
                    <ul>
                      <li><strong>For example:</strong> Melee Combat is Tier 4. +2 in Melee Combat, x 4 at Tier 4, is 8 points. So you'd put 8 in this column.
                        </li>
                        </ul>
                  </p>
                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span title="Tier 5" class="str27">5</span>
          <span title="Tier 4" class="str24">4</span>
          <span title="Tier 3 (Optional)" class="str22">

            <div class="box">
              <a class="button" href="#popup-3tiercombatskillpopuptab">3</a>
            </div> <!-- close box -->
            <div id="popup-3tiercombatskillpopuptab" class="overlay">
              <div class="popup">
                <h2>Optiona Tier 3</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p>This tier is optional. If it is not used, it is skipped over for purposes of determining synergy, and what is considered a specialization. Thus Tier 2 is considered a specialization of Tier 4. The optional Tier here is if you want a <strong>Weapon Group</strong> skill (such as swords, polearms, mass weapon & shield,  etc.).
                  </p>
                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
          </span>

          <span title="Tier 2" class="str21">2</span>
          <span title="Tier 1" class="str2star">1</span>
          <span class="str2Bonus">

            <div class="box">
              <a class="button" href="#popup-synergyskillpopuptab">Bonus</a>
            </div> <!-- close box -->
            <div id="popup-synergyskillpopuptab" class="overlay">
              <div class="popup">

              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span class="str2Offset">

            <div class="box">
              <a class="button" href="#popup-synergyskillpopuptab">Offset</a>
            </div> <!-- close box -->
            <div id="popup-synergyskillpopuptab" class="overlay">
              <div class="popup">

              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span class="str2AboveSub">

            <div class="box">
              <a class="button" href="#popup-abovesubskillpopuptab">Sub</a>
            </div> <!-- close box -->
            <div id="popup-abovesubskillpopuptab" class="overlay">
              <div class="popup">
                <h2>Above Sub (Subtotal)</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p>Skills that share a skill group add up their modifiers to create a <strong>'subtotal'</strong>. This column is intended to help keep track of multiple modifiers adding together, and to separate this process from Synergy.
                    <br>
                    <ul>
                      <li><strong>For example: </strong> You have +1 in 'All Combat', +2 in 'Melee combat', and +2 in 'Grapple'. If in the 'Melee Combat' row, Your 'above sub' (subtotal) would add your +1 from 'All Combat' and your +2 in 'Melee Combat' for a subtotal of +3. The +3 would then get filled into the above sub column box. In the 'Grapple' row, you would add the cumulative +3 from 'Melee Combat' above sub, to your +2 in 'Grapple', for a new 'Above sub' of +5.
                        </li>
                        <ul>
                          <strong>Maneuver specializations</strong> do not add the subtotal from the skill group they are a part of. They act independently, as a separate modifier during combat
                  </p>
                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span class="str2Sub">

            <div class="box">
              <a class="button" href="#popup-subtotalskillpopuptab">Total</a>
            </div> <!-- close box -->
            <div id="popup-subtotalskillpopuptab" class="overlay">
              <div class="popup">

              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span title="Attribute used for skill" class="str2ATR1">ATR</span>
          <span title="Attribute modifier" class="str2Mod1">Mod</span>
          <span title="Attribute two used for skill" class="str2ATR2">ATR</span>
          <span title="Attribute modifier" class="str2Mod2">Mod</span>
          <span class="OtherModifiersBottom">Modifiers</span>
        </div>

  <!-- initial skill categories -->
      <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

        <span class="skillnamefieldprimary" name="attr_allcombat">All Combat<img src ="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/battle-gear.png?raw=true" style="left: -81pt;">
          </span>

        <input type="text" class="skilltotalfield" name="attr_allcombatskilltotal" value="">
        <span class="skillrollbutton"></span>
        <input type="text" class="tiercostcolumn" name="attr_allcombattiercost" value="5">
        <input type="text" class="costcolumn" name="attr_allcombatpoints" value="">
        <input type="number" class="tiersevenfield" name="attr_allcombattierfive" value="">
        <input type="number" class="tierfourfield" name="attr_allcombattierfour" value="">
        <input type="number" class="tiertwofield" name="attr_allcombattierthree" value="">
        <input type="number" class="tieronefield" name="attr_allcombattiertwo" value="">
        <input type="number" class="tierstarfield" name="attr_allcombattierone" value="">
        <input type="number" class="tierabovesubfield" name="attr_allcombattierabovesub" value="">
        <input type="number" class="synergybonusfield" name="attr_allcombatsynergybonus" value="">
        <input type="number" class="synergyoffsetfield" name="attr_allcombatsynergyoffset" value="">
        <input type="number" class="subtotalfield" name="attr_allcombatgroup" value="">
        <input type="text" class="firstskillATRfield" name="attr_allcombatattribute" value="AP">
        <input type="text" class="firstATRmodField" name="attr_allcombatattributemodifier" value=""> <!-- sheetworker -->
        <input type="text" class="secondATRField" name="attr_allcombatattributetwo" value="">
        <input type="text" class="secondATRmod" name="attr_allcombatattributemodifiertwo" value="">
        <input type="text" class="otherskillfield" name="attr_allcombatothermodifiersfill" value="">
        </div>


  <!-- hidden attributes for repeating row calculations -->
        <input type="hidden" name="attr_total_allcombatspec" value="0">
        <input type="hidden" name="attr_total_meleespec" value="0">
        <input type="hidden" name="attr_total_rangedspec" value="0">

        <!-- all combat SPECIALIZATIONS -->
        <fieldset class="repeating_allcombatspec">
           <div class="skillsfillrepeatingsecondary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton"></span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="AP">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
         </fieldset>

         <!-- melee combat -->
         <div class="meleeandrangerow"> <!-- class is a misnomer leftover from before -->

            <span class="skillnamefield" name="attr_meleecombat">Melee Combat <img src ="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/crossed-sabres.png?raw=true" style="left: -112px;"></span>
            <input type="text" class="skilltotalfield" name="attr_meleecombatskilltotal" value="">
            <span class="skillrollbutton"></span>
            <input type="text" class="tiercostcolumn" name="attr_meleecombattiercost" value="4">
            <input type="text" class="costcolumn" name="attr_meleecombatpoints" value="">
            <input type="number" class="tierfivefield" name="attr_meleecombattierfive" value="">
            <input type="number" class="tierfourfield" name="attr_meleecombattierfour" value="">
            <input type="number" class="tierthreefield" name="attr_meleecombattierthree" value="">
            <input type="number" class="tiertwofield" name="attr_meleecombattiertwo" value="">
            <input type="number" class="tieronefield" name="attr_meleecombattierone" value="">
            <input type="number" class="tierabovesubfield" name="attr_meleecombattierabovesub" value="">
            <input type="number" class="synergybonusfield" name="attr_meleecombatsynergybonus" value="">
            <input type="number" class="synergyoffsetfield" name="attr_meleecombatsynergyoffset" value="">
            <input type="number" class="subtotalfield" name="attr_meleecombatgroup" value="">
            <input type="text" class="firstskillATRfield" name="attr_meleecombatattribute" value="AP">
            <input type="text" class="firstATRmodField" name="attr_meleecombatattributemodifier" value=""> <!-- pull sheetworker value -->
            <input type="text" class="secondATRField" name="attr_meleecombatattributetwo" value="">
            <input type="text" class="secondATRmod" name="attr_meleecombatattributemodifiertwo" value="">
            <input type="text" class="otherskillfield" name="attr_meleecombatothermodifiersfill" value="">
             </div>

         <!-- Melee Combat SPECIALIZATIONS -->
        <fieldset class="repeating_meleespec">
           <div class="skillsfillrepeatingtertiary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton"> </span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
         </fieldset>

          <!-- ranged combat skills -->
         <div class="meleeandrangerow"> <!-- class is a misnomer leftover from before -->

            <span class="skillnamefield" name="attr_rangedcombat">Ranged Combat<img src ="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/high-shot.png?raw=true" style="left: -116px;"></span>
            <input type="text" class="skilltotalfield" name="attr_rangedcombatskilltotal" value="">
            <span class="skillrollbutton"></span>
            <input type="text" class="tiercostcolumn" name="attr_rangedcombattiercost" value="4">
            <input type="text" class="costcolumn" name="attr_rangedcombatpoints" value="">
            <input type="number" class="tierfivefield" name="attr_rangedcombattierfive" value="">
            <input type="number" class="tierfourfield" name="attr_rangedcombattierfour" value="">
            <input type="number" class="tierthreefield" name="attr_rangedcombattierthree" value="">
            <input type="number" class="tiertwofield" name="attr_rangedcombattiertwo" value="">
            <input type="number" class="tieronefield" name="attr_rangedcombattierone" value="">
            <input type="number" class="tierabovesubfield" name="attr_rangedcombattierabovesub" value="">
            <input type="number" class="synergybonusfield" name="attr_rangedcombatsynergybonus" value="">
            <input type="number" class="synergyoffsetfield" name="attr_rangedcombatsynergyoffset" value="">
            <input type="number" class="subtotalfield" name="attr_rangedcombatgroup" value="">
            <input type="text" class="firstskillATRfield" name="attr_rangedcombatattribute" value="AP">
            <input type="text" class="firstATRmodField" name="attr_rangedcombatattributemodifier" value="">
            <input type="text" class="secondATRField" name="attr_rangedcombatattributetwo" value="">
            <input type="text" class="secondATRmod" name="attr_rangedcombatattributemodifiertwo" value="">
            <input type="text" class="otherskillfield" name="attr_rangedcombatothermodifiersfill" value="">
             </div>

         <!-- Ranged Combat SPECIALIZATIONS -->
        <fieldset class="repeating_rangedspec">
           <div class="skillsfillrepeatingtertiary">

             <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
             <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
             <span class="skillrollbutton"></span>
             <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
             <input type="text" class="costcolumn" name="attr_points" value="">
             <input type="number" class="tierfivefield" name="attr_tierfive" value="">
             <input type="number" class="tierfourfield" name="attr_tierfour" value="">
             <input type="number" class="tierthreefield" name="attr_tierthree" value="">
             <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
             <input type="number" class="tieronefield" name="attr_tierone" value="">
             <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
             <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
             <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
             <input type="number" class="subtotalfield" name="attr_group" value="">
             <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
             <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
             <input type="text" class="secondATRField" name="attr_attributetwo" value="">
             <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
             <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
             </div>
         </fieldset>
    </div> <!-- close sheet-block-fulltable -->
  </div> <!-- fix 'skillsandpoints', 'spellstab', and 'story' tab -->


   <!-- COMPACT COMBAT table -->
   <div class="sheet-block-combatnomathtable">

       <div class="adventuringgridalttable"> <!-- change/keep name or check CSS? -->
         <div class="skilltablerow">

           <span class="str1Skillsand">

             <div class="box">
               <a class="button" href="#popup-combatskillscompactskillpopuptab">Combat</a>
             </div> <!-- close box -->
             <div id="popup-combatskillscompactskillpopuptab" class="overlay">
               <div class="popup">
                 <h2>Combat Skills table</h2>
                 <a class="close" href="#">×</a>
                 <div class="content">
                   <p>Your <strong>Combat Skills </strong>table is used to determine your starting CP for your equipped weapon, as well as track any <strong>maneuver specializations</strong> or other modifiers. It is <strong>NOT used to make rolls directly</strong>. This is something 'Duels of Dreams' does a little different, and it's important to keep in mind. When you're <strong>in combat</strong> use the <strong>Melee Weapons, Ranged Weapons, Armor, & Ranged Defense</strong> tables for making attack and defense rolls, etc.
                     <br><br>
                     The number in the <strong>total</strong> column is your CP Total for any weapon equipped. This is your base value, and includes your AP Attribute already. You can add this value, +/- any AP Mod from equipment, directly to the weapon tables.
                   </p>
                                       </div> <!-- close content -->
               </div> <!-- close popup -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span><input type="checkbox" class="sheet-duplicatecheckbox" name="attr_combatskillshidemathcheckbox"></span>
           <span class="hidemathtext">

             <div class="box">
               <a class="button" href="#popup-hidemathcompactcombatskillpopuptab" style="font-style: italic;">Hide Math</a>
             </div> <!-- close box -->
             <div id="popup-hidemathcompactcombatskillpopuptab" class="overlay">
               <div class="popup">
               <h2>Hide Math</h2>
               <a class="close" href="#">×</a>
               <div class="content">
                 <p>Clicking this checkbox shows two different version of this table. One is more complex, has more math, and shows all the different steps and variables that might factor into your skill totals, which is best used while building a character. During gameplay, a more compact table is much more useful for quick reference, and clicking roll buttons.
                 </p>
                                     </div> <!-- close content -->
             </div> <!-- close popup1 id overlay -->
             </span>

           <span></span>

         </div>

         <div class="gridalttablecontainer">

           <div class="combatalttabletitlerow">

             <span class="str2Abilities">

               <div class="box">
                 <a class="button" href="#popup-combatskillscompactskillpopuptab">Skills</a>
               </div> <!-- close box -->
               <div id="popup-combatskillscompactskillpopuptab" class="overlay">
                 <div class="popup">
                   <h2>Combat Skills table</h2>
                   <a class="close" href="#">×</a>
                   <div class="content">
                     <p>Your <strong>Combat Skills </strong>table is used to determine your starting CP for your equipped weapon, as well as track any <strong>maneuver specializations</strong> or other modifiers. It is <strong>NOT used to make rolls directly</strong>. This is something 'Duels of Dreams' does a little different, and it's important to keep in mind. When you're <strong>in combat</strong> use the <strong>Melee Weapons, Ranged Weapons, Armor, & Ranged Defense</strong> tables for making attack and defense rolls, etc.
                       <br><br>
                       The number in the <strong>total</strong> column is your CP Total for any weapon equipped. This is your base value, and includes your AP Attribute already. You can add this value, +/- any AP Mod from equipment, directly to the weapon tables.
                     </p>
                                         </div> <!-- close content -->
                 </div> <!-- close popup -->
               </div> <!-- close popup1 id overlay -->
               </span>

             <span class="str2Total">

               <div class="box">
                 <a class="button" href="#popup-totalcombatcolumncompactskillpopuptab">Total</a>
               </div> <!-- close box -->
               <div id="popup-totalcombatcolumncompactskillpopuptab" class="overlay">
                 <div class="popup">
                   <h2>Total - Combat Skills</h2>
                   <a class="close" href="#">×</a>
                   <div class="content">
                     <p>This number is used to start calculating your <strong>CP Total</strong> for any weapons equipped. This is your base value, and includes your AP Attribute already. You can add this value, +/- any AP Mod from equipment, directly to the weapon tables.
                     </p>
                                         </div> <!-- close content -->
                 </div> <!-- close popup -->
               </div> <!-- close popup1 id overlay -->
               </span>

             <span></span>


           </div>

         <div class="combatcompactcolumn1">
       <!-- initial skill categories -->
           <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->
             <!-- maybe change below to div, or back to span which it was originally and see what happens -->



               <!-- ORIGINAL STUFF  -->
               <span class="skillnamefieldprimary" name="attr_allcombat">All Combat<img src ="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/battle-gear.png?raw=true" style="left: -81pt;">
                 </span>



             <input type="text" class="skilltotalfield" name="attr_allcombatskilltotal" value="">
             <span class="skillrollbutton"></span>
             </div>


             <!-- all combat SPECIALIZATIONS -->
             <fieldset class="repeating_allcombatspec">
                <div class="skillsfillrepeatingsecondary">

                  <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                  <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                  <span class="skillrollbutton"></span>
                  </div>
              </fieldset>

              <!-- melee combat -->
              <div class="meleeandrangerow"> <!-- class is a misnomer leftover from before -->

                 <span class="skillnamefield" name="attr_meleecombat">Melee Combat <img src ="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/crossed-sabres.png?raw=true" style="left: -112px;"></span>
                 <input type="text" class="skilltotalfield" name="attr_meleecombatskilltotal" value="">
                 <span class="skillrollbutton"></span>
                  </div>

              <!-- Melee Combat SPECIALIZATIONS -->
             <fieldset class="repeating_meleespec">
                <div class="skillsfillrepeatingtertiary">

                  <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                  <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                  <span class="skillrollbutton"> </span>
                  </div>
              </fieldset>

               <!-- ranged combat skills -->
              <div class="meleeandrangerow"> <!-- class is a misnomer leftover from before -->

                 <span class="skillnamefield" name="attr_rangedcombat">Ranged Combat<img src ="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/high-shot.png?raw=true" style="left: -116px;"></span>
                 <input type="text" class="skilltotalfield" name="attr_rangedcombatskilltotal" value="">
                 <span class="skillrollbutton"></span>
                  </div>

              <!-- Ranged Combat SPECIALIZATIONS -->
             <fieldset class="repeating_rangedspec">
                <div class="skillsfillrepeatingtertiary">

                  <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                  <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                  <span class="skillrollbutton"></span>

                </div>
              </fieldset>
          </div>
          </div> <!-- close combat column? -->
  </div> <!-- close nomathtable -->
  </div>


  <input type="checkbox" class="sheet-hidemathcheckbox" name="attr_skillshidemathcheckbox">
        <!-- ADVENTURING SKILLS REPEAT -->
  <div class="sheet-block-fulltable">

           <div class="skilltable">
           <div class="skilltablerow">

             <span class="str1Skillsand">

               <div class="box">
                 <a class="button" href="#popup-adventuringskillsskillpopuptab">Adventuring</a>
               </div> <!-- close box -->
               <div id="popup-adventuringskillsskillpopuptab" class="overlay">
                 <div class="popup">
                   <h2>Adventuring Skills</h2>
                   <a class="close" href="#">×</a>
                   <div class="content">
                     <p>The <strong>Adventuring Skills </strong>table is used to keep track of Adventuring Skill points spent, and skill modifiers. Unlike the 'Combat Skills' table, you'll be making rolls directly from this table. It has a larger more complex view for adding up modifiers (when the 'hide math' checkbox is unchecked), and a more compact view (when the 'hide math button is checked') useful during gameplay.
                       <br><br>
                       The number in the <strong>total</strong> column is added to 2d6, when clicking on the roll button to the right of it.
                     </p>
                                         </div> <!-- close content -->
                 </div> <!-- close popup -->
               </div> <!-- close popup1 id overlay -->
               </span>

             <span><input type="checkbox" class="sheet-duplicatecheckbox" name="attr_skillshidemathcheckbox"></span>
             <span class="hidemathtext">

               <div class="box">
                 <a class="button" href="#popup-hidemathadventuringskillpopuptab" style="font-style: italic;">Hide Math</a>
               </div> <!-- close box -->
               <div id="popup-hidemathadventuringskillpopuptab" class="overlay">
                 <div class="popup">
                 <h2>Hide Math</h2>
                 <a class="close" href="#">×</a>
                 <div class="content">
                   <p>Clicking this checkbox shows two different version of this table. One is more complex, has more math, and shows all the different steps and variables that might factor into your skill totals, which is best used while building a character. During gameplay, a more compact table is much more useful for quick reference, and clicking roll buttons.
                   </p>
                                       </div> <!-- close content -->
               </div> <!-- close popup1 id overlay -->
               </span>

             <span></span>
             <span title="Which Tier is the Skill?" class="str1TiersbyCost">

               <div class="box">
                 <a class="button" href="#popup-tiersbycostadventuringskillpopuptab">Tiers by Cost</a>
               </div> <!-- close box -->
               <div id="popup-tiersbycostadventuringskillpopuptab" class="overlay">
                 <div class="popup">
                   <h2>Tiers by Cost</h2>
                   <a class="close" href="#">×</a>
                   <div class="content">
                     <p>	The cost of a <strong>+1 modifier</strong> is divided into <strong>Tiers</strong>. The tier number is how many points it costs for a +1 modifier in that Skill, Attribute, Specialization, etc. See the <strong>Tier Table</strong> for costs of each <em><strong>Attribute</strong></em> or <em><strong>Skill</strong></em>, or check which input is highlighted on this sheet in the 'tiers by cost' column.
                       <br><br>
                       Skills and attributes start <strong>broad</strong> to the left, and get <strong>more specific</strong> and cheaper to the right. Skill Tiers are organized into <strong>Skill Groups</strong>. Any Skill to the right on the Tier table, is a <strong>specialization</strong> of the skill group to the left of it. You can have multiple skill groups within a skill group, and can specialize <strong>multiple times</strong>.
                       <ul>
                         <li><em><strong>For example: </strong></em> Mobility (Tier 4) > Stealth (Tier 2) > Stealth at Night (Tier 1, custom specialization). Each is a specialization of the Skill Group a Tier above it.
                           </li>
                           <ul>
                   When you increase a skill specialization, the Skill Group the tier above it increases via <strong>synergy</strong>. Every +3 total in any number of specializations in that tier, gives +1 synergy bonus to the skill group above it.
                   <br><br>
                   <i>See the full Character Creation rules for a more comprehensive explanation.</i>
                     </p>
                                         </div> <!-- close content -->
                 </div> <!-- close popup -->
               </div> <!-- close popup1 id overlay -->
               </span>

             <span class="str1Synergy">

               <div class="box">
                 <a class="button" href="#popup-synergyadventuringskillpopuptab">Synergy</a>
               </div> <!-- close box -->
               <div id="popup-synergyadventuringskillpopuptab" class="overlay">
                 <div class="popup">
                   <h2>Synergy</h2>
                   <a class="close" href="#">×</a>
                   <div class="content">
                     <p>When you increase a skill <strong>specialization</strong>, the Skill Group the tier above it increases via <strong>synergy</strong>. Every <strong>+3</strong> total in any number of specializations (within the same Skill Group and Tier), gives <strong>+1 Synergy Bonus</strong> to the skill group above it. This scales indefinitely.
                       <br>
                       <ul>
                         <li><strong>For example: </strong>You choose to specialize in the 'Perception' skill group (Tier 4). You put +2 in 'Enemy Detection' (at Tier 2), and also give +1 to your 'Search' skill at Tier 2. Your 'Percpetion' Skill Group at Tier 4 gets a +1 Synergy Bonus. If you give +2 to three different Perception specializations (+6 Total), then 'Perception' gets +2 Synergy Bonus.
                           </li>
                           <ul>
                             <strong>Synergy Offset</strong> gives a -1 modifier to any skill specialization that increases to +3 on its own, and for every additional +3. This helps balance the game by preventing a free +1 for every +3 in a skill, especially for hyper specialized builds.
                     </p>
                                         </div> <!-- close content -->
                 </div> <!-- close popup -->
               </div> <!-- close popup1 id overlay -->
               </span>

             <span class="str1Above">

               <div class="box">
                 <a class="button" href="#popup-abovesubadventuringskillpopuptab">Above</a>
               </div> <!-- close box -->
               <div id="popup-abovesubadventuringskillpopuptab" class="overlay">
                 <div class="popup">
                   <h2>Above Sub (Subtotal)</h2>
                   <a class="close" href="#">×</a>
                   <div class="content">
                     <p>Skills that share a skill group add up their modifiers to create a <strong>'subtotal'</strong>. This column is intended to help keep track of multiple modifiers adding together, and to separate this process from Synergy.
                       <br>
                       <ul>
                         <li><strong>For example: </strong> You have +1 in 'Mechanical Devices' (Tier 4), +2 in 'Lockpicking' (Tier 2 specialization), and +2 in 'Lockpicking: Doors' (Tier 1 custom specialization). In the 'Lockpicking' row, you would add your +1 from 'Mechanical Devices' and your +2 in 'Melee Lockpicking' for a subtotal of +3. The +3 would then get filled into the 'Above Sub' column box. In the 'Lockpicking: Doors' row (a tier below), you would add the +3 from the 'Lockpicking' Above Sub column, to your +2 in 'Lockpicking: Doors', for a new 'Above sub' of +5. The modifiers are cumulative.
                           </li>
                           <ul>
                     </p>
                                         </div> <!-- close content -->
                 </div> <!-- close popup -->
               </div> <!-- close popup1 id overlay -->
               </span>

             <span class="str1Sub">

               <div class="box">
                 <a class="button" href="#popup-subtotaladventuringskillpopuptab">Sub</a>
               </div> <!-- close box -->
               <div id="popup-subtotaladventuringskillpopuptab" class="overlay">
                 <div class="popup">
                   <h2>Subtotal</h2>
                   <a class="close" href="#">×</a>
                   <div class="content">
                     <p>	The <strong>subtotal</strong> column adds up the cumulative modifiers from your initial skill modifier + synergy + 'above sub', to give you a modifier total <strong>before adding Attribute modifiers</strong>. The final total is then tracked on the far left column of this table.
                     </p>
                                         </div> <!-- close content -->
                 </div> <!-- close popup -->
               </div> <!-- close popup1 id overlay -->
               </span>

             <span class="str1RelevantAttributes">

               <div class="box">
                 <a class="button" href="#popup-relevantattributesadventuringskillpopuptab">Relevant Attributes</a>
               </div> <!-- close box -->
               <div id="popup-relevantattributesadventuringskillpopuptab" class="overlay">
                 <div class="popup">
                   <h2>Relevant Attributes</h2>
                   <a class="close" href="#">×</a>
                   <div class="content">
                     <p>Each skill or skill group has one or two Attribute (or Derived Attribute) modifiers that are added to the final total. See the 'Combat Skills' and 'Adventuring Skills' sections for more details. Otherwise, the relevant Attributes are included on the character sheet for each skill group.
                     </p>
                                         </div> <!-- close content -->
                 </div> <!-- close popup -->
               </div> <!-- close popup1 id overlay -->
               </span>

             <span class="str1OtherModifiersTop">Other</span>
           </div>
           <div class="skilltablerow2">

             <span class="str2Abilities">

               <div class="box">
                 <a class="button" href="#popup-adventuringskillsskillpopuptab">Skills</a>
               </div> <!-- close box -->
               <div id="popup-adventuringskillsskillpopuptab" class="overlay">
                 <div class="popup">
                   <h2>Adventuring Skills</h2>
                   <a class="close" href="#">×</a>
                   <div class="content">
                     <p>The <strong>Adventuring Skills </strong>table is used to keep track of Adventuring Skill points spent, and skill modifiers. Unlike the 'Combat Skills' table, you'll be making rolls directly from this table. It has a larger more complex view for adding up modifiers (when the 'hide math' checkbox is unchecked), and a more compact view (when the 'hide math button is checked') useful during gameplay.
                       <br><br>
                       The number in the <strong>total</strong> column is added to 2d6, when clicking on the roll button to the right of it.
                     </p>
                                         </div> <!-- close content -->
                 </div> <!-- close popup -->
               </div> <!-- close popup1 id overlay -->
               </span>

             <span class="str2Total">

               <div class="box">
                 <a class="button" href="#popup-totaladventuringskillsskillpopuptab">Total</a>
               </div> <!-- close box -->
               <div id="popup-totaladventuringskillsskillpopuptab" class="overlay">
                 <div class="popup">
                   <h2>Total - Adventuring Skills</h2>
                   <a class="close" href="#">×</a>
                   <div class="content">
                     <p>This number is used to make <strong>Adventuring Skill Rolls</strong>. The number is added to 2d6 to determine your total. Click the d6 looking button to the right to make the roll.
                     </p>
                                         </div> <!-- close content -->
                 </div> <!-- close popup -->
               </div> <!-- close popup1 id overlay -->
               </span>


             <span class="str2Roll">

               <div class="box">
                 <a class="button" href="#popup-rolladventuringskillskillpopuptab">Roll</a>
               </div> <!-- close box -->
               <div id="popup-rolladventuringskillskillpopuptab" class="overlay">
                 <div class="popup">
                   <h2>Roll - Adventuring Skill</h2>
                   <a class="close" href="#">×</a>
                   <div class="content">
                     <p>Click on this Roll button to make an adventuring skill roll. The modifier to the left in the <strong>Total</strong> column is added to the Roll.
                     </p>
                                         </div> <!-- close content -->
                 </div> <!-- close popup -->
               </div> <!-- close popup1 id overlay -->
               </span>

             <span class="str2Tier">

               <div class="box">
                 <a class="button" href="#popup-tiersbycostpopupadventuringskillpopuptab">Tiers</a>
               </div> <!-- close box -->
               <div id="popup-tiersbycostpopupadventuringskillpopuptab" class="overlay">
                 <div class="popup">
                   <h2>Tiers by Cost</h2>
                   <a class="close" href="#">×</a>
                   <div class="content">
                     <p>	The cost of a <strong>+1 modifier</strong> is divided into <strong>Tiers</strong>. The tier number is how many points it costs for a +1 modifier in that Skill, Attribute, Specialization, etc. See the <strong>Tier Table</strong> for costs of each <em><strong>Attribute</strong></em> or <em><strong>Skill</strong></em>, or check which input is highlighted on this sheet in the 'tiers by cost' column.
                       <br><br>
                       Skills and attributes start <strong>broad</strong> to the left, and get <strong>more specific</strong> and cheaper to the right. Skill Tiers are organized into <strong>Skill Groups</strong>. Any Skill to the right on the Tier table, is a <strong>specialization</strong> of the skill group to the left of it. You can have multiple skill groups within a skill group, and can specialize <strong>multiple times</strong>.
                       <ul>
                         <li><em><strong>For example: </strong></em> Mobility (Tier 4) > Stealth (Tier 2) > Stealth at Night (Tier 1, custom specialization). Each is a specialization of the Skill Group a Tier above it.
                           </li>
                           <ul>
                   When you increase a skill specialization, the Skill Group the tier above it increases via <strong>synergy</strong>. Every +3 total in any number of specializations in that tier, gives +1 synergy bonus to the skill group above it.
                   <br><br>
                   <i>See the full Character Creation rules for a more comprehensive explanation.</i>
                     </p>
                                         </div> <!-- close content -->
                 </div> <!-- close popup -->
               </div> <!-- close popup1 id overlay -->
               </span>

             <span class="str2Cost">

               <div class="box">
                 <a class="button" href="#popup-pointscolumnpopupadventuringskillpopuptab">Points</a>
               </div> <!-- close box -->
               <div id="popup-pointscolumnpopupadventuringskillpopuptab" class="overlay">
                 <div class="popup">
                   <h2>Points Spent column</h2>
                   <a class="close" href="#">×</a>
                   <div class="content">
                     <p>The modifier of each skill, times the tier cost, is entered here. This number is used to add up how many points you've spent.
                       <br>
                       <ul>
                         <li><strong>For example:</strong> Perception is Tier 4. +2 in Perception, x 4 at Tier 4, is 8 points. So you'd put 8 in this column.
                           </li>
                           </ul>
                     </p>
                                         </div> <!-- close content -->
                 </div> <!-- close popup -->
               </div> <!-- close popup1 id overlay -->
               </span>

             <span title="Tier 5" class="str27">5</span>
             <span title="Tier 4" class="str24">4</span>
             <span title="Tier 3 (Optional)" class="str22">3</span>
             <span title="Tier 2" class="str21">2</span>
             <span title="Tier 1" class="str2star">1</span>
             <span class="str2Bonus">

               <div class="box">
                 <a class="button" href="#popup-synergyadventuringskillpopuptab">Bonus</a>
               </div> <!-- close box -->
               <div id="popup-synergyadventuringskillpopuptab" class="overlay">
                 <div class="popup">

                 </div> <!-- close popup -->
               </div> <!-- close popup1 id overlay -->
               </span>

             <span class="str2Offset">

               <div class="box">
                 <a class="button" href="#popup-synergyadventuringskillpopuptab">Offset</a>
               </div> <!-- close box -->
               <div id="popup-synergyadventuringskillpopuptab" class="overlay">
                 <div class="popup">

                 </div> <!-- close popup -->
               </div> <!-- close popup1 id overlay -->
               </span>

             <span class="str2AboveSub">

               <div class="box">
                 <a class="button" href="#popup-abovesubadventuringskillpopuptab">Sub</a>
               </div> <!-- close box -->
               <div id="popup-abovesubadventuringskillpopuptab" class="overlay">
                 <div class="popup">

                 </div> <!-- close popup -->
               </div> <!-- close popup1 id overlay -->
               </span>

             <span class="str2Sub">

               <div class="box">
                 <a class="button" href="#popup-subtotaladventuringskillpopuptab">Total</a>
               </div> <!-- close box -->
               <div id="popup-subtotaladventuringskillpopuptab" class="overlay">
                 <div class="popup">
                   <h2>Subtotal</h2>
                   <a class="close" href="#">×</a>
                   <div class="content">
                     <p>	The <strong>subtotal</strong> column adds up the cumulative modifiers from your initial skill modifier + synergy + 'above sub', to give you a modifier total <strong>before adding Attribute modifiers</strong>. The final total is then tracked on the far left column of this table.
                     </p>
                                         </div> <!-- close content -->
                 </div> <!-- close popup -->
               </div> <!-- close popup1 id overlay -->
               </span>

             <span title="Attribute used for skill" class="str2ATR1">ATR</span>
             <span title="Attribute modifier" class="str2Mod1">Mod</span>
             <span title="Attribute two used for skill" class="str2ATR2">ATR</span>
             <span title="Attribute modifier" class="str2Mod2">Mod</span>
             <span class="OtherModifiersBottom">Modifiers</span>

           </div>

           <!-- ADVENTURING SKILLS REPEATING hidden values -->
                 <!-- hidden attributes for repeating row calculations -->
                 <input type="hidden" name="attr_total_knowledgespec" value="0">
                 <input type="hidden" name="attr_total_mobilityspec" value="0">
                 <input type="hidden" name="attr_total_mechanicaldevicesspec" value="0">
                 <input type="hidden" name="attr_total_medicinespec" value="0">
                 <input type="hidden" name="attr_total_perceptionspec" value="0">
                 <input type="hidden" name="attr_total_professionspec" value="0">
                 <input type="hidden" name="attr_total_socialwitspec" value="0">
                 <input type="hidden" name="attr_total_socialpersonalityspec" value="0">
                 <input type="hidden" name="attr_total_strengthskillsspec" value="0">
                 <input type="hidden" name="attr_total_survivaloutdoorsspec" value="0">
                 <input type="hidden" name="attr_total_survivalurbanspec" value="0">

         <!-- KNOWLEDGE, start of skills -->
             <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

               <span class="skillnamefieldprimary" name="attr_knowledge">Knowledge<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/bookmarklet.png?raw=true" style="left: -81pt;"></span>
               <input type="text" class="skilltotalfield" name="attr_knowledgeskilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{knowledgeskill=Knowledge}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{knowledgeskilltotal}}} {{adventurerolltotal=[[2d6 + @{knowledgeskilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_knowledgetiercost" value="4">
               <input type="text" class="costcolumn" name="attr_knowledgepoints" value="">
               <input type="number" class="tierfivefield" name="attr_knowledgetierfive" value="">
               <input type="number" class="tierfourfield" name="attr_knowledgetierfour" value="">
               <input type="number" class="tierthreefield" name="attr_knowledgetierthree" value="">
               <input type="number" class="tiertwofield" name="attr_knowledgetiertwo" value="">
               <input type="number" class="tieronefield" name="attr_knowledgetierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_knowledgetierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_knowledgesynergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_knowledgesynergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_knowledgegroup" value="">
               <input type="text" class="firstskillATRfield" name="attr_knowledgeattribute" value="INT">
               <input type="text" class="firstATRmodField" name="attr_knowledgeattributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_knowledgeattributetwo" value="">
               <input type="text" class="secondATRmod" name="attr_knowledgeattributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_knowledgeothermodifiersfill" value="">
               </div>

   <!-- Knowledge Repeating -->
             <fieldset class="repeating_knowledgespec">
             <div class="skillsfillrepeatingsecondary">

               <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
               <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{knowledgeskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
               <input type="text" class="costcolumn" name="attr_points" value="">
               <input type="number" class="tierfivefield" name="attr_tierfive" value="">
               <input type="number" class="tierfourfield" name="attr_tierfour" value="">
               <input type="number" class="tierthreefield" name="attr_tierthree" value="">
               <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
               <input type="number" class="tieronefield" name="attr_tierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_group" value="">
               <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
               <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_attributetwo" value="">
               <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
               </div>
           </fieldset>

         <!-- mobility, start of skills -->
             <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

               <span class="skillnamefieldprimary" name="attr_mobility">Mobility<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/run.png?raw=true" style="left: -101px;"></span>
               <input type="text" class="skilltotalfield" name="attr_mobilityskilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{mobilityskill=Mobility}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{mobilityskilltotal}}} {{adventurerolltotal=[[2d6 + @{mobilityskilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_mobilitytiercost" value="4">
               <input type="text" class="costcolumn" name="attr_mobilitypoints" value="">
               <input type="number" class="tierfivefield" name="attr_mobilitytierfive" value="">
               <input type="number" class="tierfourfield" name="attr_mobilitytierfour" value="">
               <input type="number" class="tierthreefield" name="attr_mobilitytierthree" value="">
               <input type="number" class="tiertwofield" name="attr_mobilitytiertwo" value="">
               <input type="number" class="tieronefield" name="attr_mobilitytierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_mobilitytierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_mobilitysynergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_mobilitysynergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_mobilitygroup" value="">
               <input type="text" class="firstskillATRfield" name="attr_mobilityattribute" value="KND">
               <input type="text" class="firstATRmodField" name="attr_mobilityattributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_mobilityattributetwo" value="">
               <input type="text" class="secondATRmod" name="attr_mobilityattributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_mobilityothermodifiersfill" value="">
               </div>

             <!-- mobility Repeating -->
             <fieldset class="repeating_mobilityspec">
             <div class="skillsfillrepeatingsecondary">

               <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
               <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{mobilityskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
               <input type="text" class="costcolumn" name="attr_points" value="">
               <input type="number" class="tierfivefield" name="attr_tierfive" value="">
               <input type="number" class="tierfourfield" name="attr_tierfour" value="">
               <input type="number" class="tierthreefield" name="attr_tierthree" value="">
               <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
               <input type="number" class="tieronefield" name="attr_tierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_group" value="">
               <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
               <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_attributetwo" value="">
               <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
               </div>
           </fieldset>

             <!-- mechanicaldevices, start of skills -->
             <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

               <span class="skillnamefieldprimary" name="attr_mechanicaldevices">Mechanical Devices<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/key-lock.png?raw=true" style="left: -131px;"></span>
               <input type="text" class="skilltotalfield" name="attr_mechanicaldevicesskilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{mechanicaldevicesskill=Mechanical Devices}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{mechanicaldevicesskilltotal}}} {{adventurerolltotal=[[2d6 + @{mechanicaldevicesskilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_mechanicaldevicestiercost" value="4">
               <input type="text" class="costcolumn" name="attr_mechanicaldevicespoints" value="">
               <input type="number" class="tierfivefield" name="attr_mechanicaldevicestierfive" value="">
               <input type="number" class="tierfourfield" name="attr_mechanicaldevicestierfour" value="">
               <input type="number" class="tierthreefield" name="attr_mechanicaldevicestierthree" value="">
               <input type="number" class="tiertwofield" name="attr_mechanicaldevicestiertwo" value="">
               <input type="number" class="tieronefield" name="attr_mechanicaldevicestierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_mechanicaldevicestierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_mechanicaldevicessynergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_mechanicaldevicessynergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_mechanicaldevicesgroup" value="">
               <input type="text" class="firstskillATRfield" name="attr_mechanicaldevicesattribute" value="REF">
               <input type="text" class="firstATRmodField" name="attr_mechanicaldevicesattributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_mechanicaldevicesattributetwo" value="INT">
               <input type="text" class="secondATRmod" name="attr_mechanicaldevicesattributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_mechanicaldevicesothermodifiersfill" value="">
               </div>

             <!-- mechanicaldevices Repeating -->
             <fieldset class="repeating_mechanicaldevicesspec">
             <div class="skillsfillrepeatingsecondary">

               <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
               <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{mechanicaldevicesskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
               <input type="text" class="costcolumn" name="attr_points" value="">
               <input type="number" class="tierfivefield" name="attr_tierfive" value="">
               <input type="number" class="tierfourfield" name="attr_tierfour" value="">
               <input type="number" class="tierthreefield" name="attr_tierthree" value="">
               <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
               <input type="number" class="tieronefield" name="attr_tierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_group" value="">
               <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
               <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_attributetwo" value="">
               <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
               </div>
           </fieldset>


         <!-- medicine, start of skills -->
             <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

               <span class="skillnamefieldprimary" name="attr_medicine">Medicine<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/caduceus.png?raw=true" style="left: -103px;"></span>
               <input type="text" class="skilltotalfield" name="attr_medicineskilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{medicineskill=Medicine}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{medicineskilltotal}}} {{adventurerolltotal=[[2d6 + @{medicineskilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_medicinetiercost" value="4">
               <input type="text" class="costcolumn" name="attr_medicinepoints" value="">
               <input type="number" class="tierfivefield" name="attr_medicinetierfive" value="">
               <input type="number" class="tierfourfield" name="attr_medicinetierfour" value="">
               <input type="number" class="tierthreefield" name="attr_medicinetierthree" value="">
               <input type="number" class="tiertwofield" name="attr_medicinetiertwo" value="">
               <input type="number" class="tieronefield" name="attr_medicinetierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_medicinetierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_medicinesynergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_medicinesynergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_medicinegroup" value="">
               <input type="text" class="firstskillATRfield" name="attr_medicineattribute" value="INT">
               <input type="text" class="firstATRmodField" name="attr_medicineattributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_medicineattributetwo" value="REF">
               <input type="text" class="secondATRmod" name="attr_medicineattributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_medicineothermodifiersfill" value="">
               </div>

             <!-- medicine Repeating -->
             <fieldset class="repeating_medicinespec">
             <div class="skillsfillrepeatingsecondary">

               <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
               <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{medicineskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
               <input type="text" class="costcolumn" name="attr_points" value="">
               <input type="number" class="tierfivefield" name="attr_tierfive" value="">
               <input type="number" class="tierfourfield" name="attr_tierfour" value="">
               <input type="number" class="tierthreefield" name="attr_tierthree" value="">
               <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
               <input type="number" class="tieronefield" name="attr_tierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_group" value="">
               <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
               <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_attributetwo" value="">
               <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
               </div>
           </fieldset>

             <!-- perception, start of skills -->
             <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

               <span class="skillnamefieldprimary" name="attr_perception">Perception<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/magnifying-glass.png?raw=true" style="left: -104px;"></span>
               <input type="text" class="skilltotalfield" name="attr_perceptionskilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{perceptionskill=Perception}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{perceptionskilltotal}}} {{adventurerolltotal=[[2d6 + @{perceptionskilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_perceptiontiercost" value="4">
               <input type="text" class="costcolumn" name="attr_perceptionpoints" value="">
               <input type="number" class="tierfivefield" name="attr_perceptiontierfive" value="">
               <input type="number" class="tierfourfield" name="attr_perceptiontierfour" value="">
               <input type="number" class="tierthreefield" name="attr_perceptiontierthree" value="">
               <input type="number" class="tiertwofield" name="attr_perceptiontiertwo" value="">
               <input type="number" class="tieronefield" name="attr_perceptiontierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_perceptiontierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_perceptionsynergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_perceptionsynergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_perceptiongroup" value="">
               <input type="text" class="firstskillATRfield" name="attr_perceptionattribute" value="WIT">
               <input type="text" class="firstATRmodField" name="attr_perceptionattributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_perceptionattributetwo" value="">
               <input type="text" class="secondATRmod" name="attr_perceptionattributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_perceptionothermodifiersfill" value="">
               </div>

             <!-- perception Repeating -->
             <fieldset class="repeating_perceptionspec">
             <div class="skillsfillrepeatingsecondary">

               <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
               <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{perceptionskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
               <input type="text" class="costcolumn" name="attr_points" value="">
               <input type="number" class="tierfivefield" name="attr_tierfive" value="">
               <input type="number" class="tierfourfield" name="attr_tierfour" value="">
               <input type="number" class="tierthreefield" name="attr_tierthree" value="">
               <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
               <input type="number" class="tieronefield" name="attr_tierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_group" value="">
               <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
               <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_attributetwo" value="">
               <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
               </div>
           </fieldset>

             <!-- profession, start of skills -->
             <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

               <span style="padding-left: 19pt;" class="skillnamefieldprimary" name="attr_profession">Profession (Non-Adventuring)<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/village.png?raw=true" style="left: -169px;"></span>
               <input type="text" class="skilltotalfield" name="attr_professionskilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{professionskill=Profession}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{professionskilltotal}}} {{adventurerolltotal=[[2d6 + @{professionskilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_professiontiercost" value="1">
               <input type="text" class="costcolumn" name="attr_professionpoints" value="">
               <input type="number" class="tierfivefield" name="attr_professiontierfive" value="">
               <input type="number" class="tierfourfield" name="attr_professiontierfour" value="">
               <input type="number" class="tierthreefield" name="attr_professiontierthree" value="">
               <input type="number" class="tiertwofield" name="attr_professiontiertwo" value="">
               <input type="number" class="tieronefield" name="attr_professiontierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_professiontierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_professionsynergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_professionsynergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_professiongroup" value="">
               <input type="text" class="firstskillATRfield" name="attr_professionattribute" value="">
               <input type="text" class="firstATRmodField" name="attr_professionattributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_professionattributetwo" value="">
               <input type="text" class="secondATRmod" name="attr_professionattributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_professionothermodifiersfill" value="">
               </div>

             <!-- profession Repeating -->
             <fieldset class="repeating_professionspec">
             <div class="skillsfillrepeatingsecondary">

               <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
               <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{professionskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
               <input type="text" class="costcolumn" name="attr_points" value="">
               <input type="number" class="tierfivefield" name="attr_tierfive" value="">
               <input type="number" class="tierfourfield" name="attr_tierfour" value="">
               <input type="number" class="tierthreefield" name="attr_tierthree" value="">
               <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
               <input type="number" class="tieronefield" name="attr_tierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_group" value="">
               <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
               <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_attributetwo" value="">
               <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
               </div>
           </fieldset>



          <!-- SOCIAL SKILLS -->
             <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

               <span class="skillnamefieldprimary" name="attr_social">Social<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/shaking-hands.png?raw=true" style="left: -94px;"></span>
               <input type="text" class="skilltotalfield" name="attr_socialskilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{socialskill=Social}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{socialskilltotal}}} {{adventurerolltotal=[[2d6 + @{socialskilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_socialtiercost" value="5">
               <input type="text" class="costcolumn" name="attr_socialpoints" value="">
               <input type="number" class="tierfivefield" name="attr_socialtierfive" value="">
               <input type="number" class="tierfourfield" name="attr_socialtierfour" value="">
               <input type="number" class="tierthreefield" name="attr_socialtierthree" value="">
               <input type="number" class="tiertwofield" name="attr_socialtiertwo" value="">
               <input type="number" class="tieronefield" name="attr_socialtierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_socialtierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_socialsynergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_socialsynergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_socialgroup" value="">
               <input type="text" class="firstskillATRfield" name="attr_socialattribute" value="WIT">
               <input type="text" class="firstATRmodField" name="attr_socialattributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_socialattributetwo" value="WP">
               <input type="text" class="secondATRmod" name="attr_socialattributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_socialothermodifiersfill" value="">
               </div>

         <!-- Social WIT -->
         <div class="meleeandrangerow"> <!-- class is a misnomer leftover from before -->

               <span class="skillnamefield" name="attr_socialwits">Social: Wits<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/think.png?raw=true" style="left: -78pt"></span>
               <input type="text" class="skilltotalfield" name="attr_socialwitskilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{socialwitsskill=Social Wits}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{socialwitskilltotal}}} {{adventurerolltotal=[[2d6 + @{socialwitskilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_socialwittiercost" value="4">
               <input type="text" class="costcolumn" name="attr_socialwitpoints" value="">
               <input type="number" class="tierfivefield" name="attr_socialwittierfive" value="">
               <input type="number" class="tierfourfield" name="attr_socialwittierfour" value="">
               <input type="number" class="tierthreefield" name="attr_socialwittierthree" value="">
               <input type="number" class="tiertwofield" name="attr_socialwittiertwo" value="">
               <input type="number" class="tieronefield" name="attr_socialwittierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_socialwittierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_socialwitsynergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_socialwitsynergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_socialwitgroup" value="">
               <input type="text" class="firstskillATRfield" name="attr_socialwitattribute" value="">
               <input type="text" class="firstATRmodField" name="attr_socialwitattributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_socialwitattributetwo" value="">
               <input type="text" class="secondATRmod" name="attr_socialwitattributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_socialwitothermodifiersfill" value="">
               </div>

             <!-- social wits Repeating -->
             <fieldset class="repeating_socialwitspec">
             <div class="skillsfillrepeatingtertiary">

               <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
               <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{socialwitsskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
               <input type="text" class="costcolumn" name="attr_points" value="">
               <input type="number" class="tierfivefield" name="attr_tierfive" value="">
               <input type="number" class="tierfourfield" name="attr_tierfour" value="">
               <input type="number" class="tierthreefield" name="attr_tierthree" value="">
               <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
               <input type="number" class="tieronefield" name="attr_tierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_group" value="">
               <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
               <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_attributetwo" value="">
               <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
               </div>
             </fieldset>

             <!-- Social Personality -->
             <div class="meleeandrangerow"> <!-- class is a misnomer leftover from before -->

                   <span class="skillnamefield" name="attr_socialpersonality">Social: Presence<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/confrontation.png?raw=true" style="left: -121px;"></span>
                   <input type="text" class="skilltotalfield" name="attr_socialpersonalityskilltotal" value="">
                   <span class="skillrollbutton">
                     <button class="sheet-d6-dice" type="roll" value=
                     '&{template:dodasadventureskills} {{socialpersonalityskill=Social Personality}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{socialpersonalityskilltotal}}} {{adventurerolltotal=[[2d6 + @{socialpersonalityskilltotal}]]}}'
                     name="roll_skilltotalcolumn"></button> </span>
                   <input type="text" class="tiercostcolumn" name="attr_socialpersonalitytiercost" value="4">
                   <input type="text" class="costcolumn" name="attr_socialpersonalitypoints" value="">
                   <input type="number" class="tierfivefield" name="attr_socialpersonalitytierfive" value="">
                   <input type="number" class="tierfourfield" name="attr_socialpersonalitytierfour" value="">
                   <input type="number" class="tierthreefield" name="attr_socialpersonalitytierthree" value="">
                   <input type="number" class="tiertwofield" name="attr_socialpersonalitytiertwo" value="">
                   <input type="number" class="tieronefield" name="attr_socialpersonalitytierone" value="">
                   <input type="number" class="tierabovesubfield" name="attr_socialpersonalitytierabovesub" value="">
                   <input type="number" class="synergybonusfield" name="attr_socialpersonalitysynergybonus" value="">
                   <input type="number" class="synergyoffsetfield" name="attr_socialpersonalitysynergyoffset" value="">
                   <input type="number" class="subtotalfield" name="attr_socialpersonalitygroup" value="">
                   <input type="text" class="firstskillATRfield" name="attr_socialpersonalityattribute" value="WP">
                   <input type="text" class="firstATRmodField" name="attr_socialpersonalityattributemodifier" value="">
                   <input type="text" class="secondATRField" name="attr_socialpersonalityattributetwo" value="">
                   <input type="text" class="secondATRmod" name="attr_socialpersonalityattributemodifiertwo" value="">
                   <input type="text" class="otherskillfield" name="attr_socialpersonalityothermodifiersfill" value="">
                   </div>

                 <!-- social Personality Repeating -->
                 <fieldset class="repeating_socialpersonalityspec">
                 <div class="skillsfillrepeatingtertiary">

                   <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                   <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                   <span class="skillrollbutton">
                     <button class="sheet-d6-dice" type="roll" value=
                     '&{template:dodasadventureskills} {{socialpersonalityskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                     name="roll_skilltotalcolumn"></button> </span>
                   <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
                   <input type="text" class="costcolumn" name="attr_points" value="">
                   <input type="number" class="tierfivefield" name="attr_tierfive" value="">
                   <input type="number" class="tierfourfield" name="attr_tierfour" value="">
                   <input type="number" class="tierthreefield" name="attr_tierthree" value="">
                   <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
                   <input type="number" class="tieronefield" name="attr_tierone" value="">
                   <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
                   <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
                   <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
                   <input type="number" class="subtotalfield" name="attr_group" value="">
                   <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
                   <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
                   <input type="text" class="secondATRField" name="attr_attributetwo" value="">
                   <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
                   <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
                   </div>
                 </fieldset>


             <!-- strengthskills, start of skills -->
             <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

               <span class="skillnamefieldprimary" name="attr_strengthskills">Strength Skills<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/muscle-up.png?raw=true" style="left: -117px;"></span>
               <input type="text" class="skilltotalfield" name="attr_strengthskillsskilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{strengthskill=Strength Skills}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{strengthskillsskilltotal}}} {{adventurerolltotal=[[2d6 + @{strengthskillsskilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_strengthskillstiercost" value="4">
               <input type="text" class="costcolumn" name="attr_strengthskillspoints" value="">
               <input type="number" class="tierfivefield" name="attr_strengthskillstierfive" value="">
               <input type="number" class="tierfourfield" name="attr_strengthskillstierfour" value="">
               <input type="number" class="tierthreefield" name="attr_strengthskillstierthree" value="">
               <input type="number" class="tiertwofield" name="attr_strengthskillstiertwo" value="">
               <input type="number" class="tieronefield" name="attr_strengthskillstierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_strengthskillstierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_strengthskillssynergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_strengthskillssynergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_strengthskillsgroup" value="">
               <input type="text" class="firstskillATRfield" name="attr_strengthskillsattribute" value="PW">
               <input type="text" class="firstATRmodField" name="attr_strengthskillsattributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_strengthskillsattributetwo" value="">
               <input type="text" class="secondATRmod" name="attr_strengthskillsattributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_strengthskillsothermodifiersfill" value="">
               </div>

             <!-- strengthskills Repeating -->
             <fieldset class="repeating_strengthskillsspec">
             <div class="skillsfillrepeatingsecondary">

               <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
               <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{strengthskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
               <input type="text" class="costcolumn" name="attr_points" value="">
               <input type="number" class="tierfivefield" name="attr_tierfive" value="">
               <input type="number" class="tierfourfield" name="attr_tierfour" value="">
               <input type="number" class="tierthreefield" name="attr_tierthree" value="">
               <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
               <input type="number" class="tieronefield" name="attr_tierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_group" value="">
               <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
               <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_attributetwo" value="">
               <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
               </div>
           </fieldset>

         <!-- SURVIVAL -->
         <div class="skillsfillrepeating"> <!-- class is a misnomer leftover from before -->

               <span class="skillnamefieldprimary" name="attr_survival">Survival<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/hiking.png?raw=true" style="left: -100px;"></span>
               <input type="text" class="skilltotalfield" name="attr_survivalskilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{survivalskill=Survival}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{survivalskilltotal}}} {{adventurerolltotal=[[2d6 + @{survivalskilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_survivaltiercost" value="5">
               <input type="text" class="costcolumn" name="attr_survivalpoints" value="">
               <input type="number" class="tierfivefield" name="attr_survivaltierfive" value="">
               <input type="number" class="tierfourfield" name="attr_survivaltierfour" value="">
               <input type="number" class="tierthreefield" name="attr_survivaltierthree" value="">
               <input type="number" class="tiertwofield" name="attr_survivaltiertwo" value="">
               <input type="number" class="tieronefield" name="attr_survivaltierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_survivaltierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_survivalsynergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_survivalsynergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_survivalgroup" value="">
               <input type="text" class="firstskillATRfield" name="attr_survivalattribute" value="WIT">
               <input type="text" class="firstATRmodField" name="attr_survivalattributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_survivalattributetwo" value="INT">
               <input type="text" class="secondATRmod" name="attr_survivalattributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_survivalothermodifiersfill" value="">
               </div>

         <!-- Survival Outdoors -->
         <div class="meleeandrangerow"> <!-- class is a misnomer leftover from before -->

               <span class="skillnamefield" name="attr_survivaloutdoors">Survival: Outdoors<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/forest-camp.png?raw=true" style="left: -122px;"></span>
               <input type="text" class="skilltotalfield" name="attr_survivaloutdoorsskilltotal" value="">
               <span class="skillrollbutton">
                 <button class="sheet-d6-dice" type="roll" value=
                 '&{template:dodasadventureskills} {{survivaloutdoorsskill=Survival Outdoors}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{survivaloutdoorsskilltotal}}} {{adventurerolltotal=[[2d6 + @{survivaloutdoorsskilltotal}]]}}'
                 name="roll_skilltotalcolumn"></button> </span>
               <input type="text" class="tiercostcolumn" name="attr_survivaloutdoorstiercost" value="4">
               <input type="text" class="costcolumn" name="attr_survivaloutdoorspoints" value="">
               <input type="number" class="tierfivefield" name="attr_survivaloutdoorstierfive" value="">
               <input type="number" class="tierfourfield" name="attr_survivaloutdoorstierfour" value="">
               <input type="number" class="tierthreefield" name="attr_survivaloutdoorstierthree" value="">
               <input type="number" class="tiertwofield" name="attr_survivaloutdoorstiertwo" value="">
               <input type="number" class="tieronefield" name="attr_survivaloutdoorstierone" value="">
               <input type="number" class="tierabovesubfield" name="attr_survivaloutdoorstierabovesub" value="">
               <input type="number" class="synergybonusfield" name="attr_survivaloutdoorssynergybonus" value="">
               <input type="number" class="synergyoffsetfield" name="attr_survivaloutdoorssynergyoffset" value="">
               <input type="number" class="subtotalfield" name="attr_survivaloutdoorsgroup" value="">
               <input type="text" class="firstskillATRfield" name="attr_survivaloutdoorsattribute" value="WIT">
               <input type="text" class="firstATRmodField" name="attr_survivaloutdoorsattributemodifier" value="">
               <input type="text" class="secondATRField" name="attr_survivaloutdoorsattributetwo" value="INT">
               <input type="text" class="secondATRmod" name="attr_survivaloutdoorsattributemodifiertwo" value="">
               <input type="text" class="otherskillfield" name="attr_survivaloutdoorsothermodifiersfill" value="">
               </div>

               <!-- Survival Outdoors Repeating -->
               <fieldset class="repeating_survivaloutdoorsspec">
               <div class="skillsfillrepeatingtertiary">

                 <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                 <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                 <span class="skillrollbutton">
                   <button class="sheet-d6-dice" type="roll" value=
                   '&{template:dodasadventureskills} {{survivaloutdoorsskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                   name="roll_skilltotalcolumn"></button> </span>
                 <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
                 <input type="text" class="costcolumn" name="attr_points" value="">
                 <input type="number" class="tierfivefield" name="attr_tierfive" value="">
                 <input type="number" class="tierfourfield" name="attr_tierfour" value="">
                 <input type="number" class="tierthreefield" name="attr_tierthree" value="">
                 <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
                 <input type="number" class="tieronefield" name="attr_tierone" value="">
                 <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
                 <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
                 <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
                 <input type="number" class="subtotalfield" name="attr_group" value="">
                 <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
                 <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
                 <input type="text" class="secondATRField" name="attr_attributetwo" value="">
                 <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
                 <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
                 </div>
               </fieldset>

               <!-- Survival Urban -->
               <div class="meleeandrangerow"> <!-- class is a misnomer leftover from before -->

                     <span class="skillnamefield" name="attr_survivalurban">Survival: Urban<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/medieval-gate.png?raw=true" style="left: -114px;"></span>
                     <input type="text" class="skilltotalfield" name="attr_survivalurbanskilltotal" value="">
                     <span class="skillrollbutton">
                       <button class="sheet-d6-dice" type="roll" value=
                       '&{template:dodasadventureskills} {{survivalurbanskill=Survival Urban}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{survivalurbanskilltotal}}} {{adventurerolltotal=[[2d6 + @{survivalurbanskilltotal}]]}}'
                       name="roll_skilltotalcolumn"></button> </span>
                     <input type="text" class="tiercostcolumn" name="attr_survivalurbantiercost" value="4">
                     <input type="text" class="costcolumn" name="attr_survivalurbanpoints" value="">
                     <input type="number" class="tierfivefield" name="attr_survivalurbantierfive" value="">
                     <input type="number" class="tierfourfield" name="attr_survivalurbantierfour" value="">
                     <input type="number" class="tierthreefield" name="attr_survivalurbantierthree" value="">
                     <input type="number" class="tiertwofield" name="attr_survivalurbantiertwo" value="">
                     <input type="number" class="tieronefield" name="attr_survivalurbantierone" value="">
                     <input type="number" class="tierabovesubfield" name="attr_survivalurbantierabovesub" value="">
                     <input type="number" class="synergybonusfield" name="attr_survivalurbansynergybonus" value="">
                     <input type="number" class="synergyoffsetfield" name="attr_survivalurbansynergyoffset" value="">
                     <input type="number" class="subtotalfield" name="attr_survivalurbangroup" value="">
                     <input type="text" class="firstskillATRfield" name="attr_survivalurbanattribute" value="WIT">
                     <input type="text" class="firstATRmodField" name="attr_survivalurbanattributemodifier" value="">
                     <input type="text" class="secondATRField" name="attr_survivalurbanattributetwo" value="INT">
                     <input type="text" class="secondATRmod" name="attr_survivalurbanattributemodifiertwo" value="">
                     <input type="text" class="otherskillfield" name="attr_survivalurbanothermodifiersfill" value="">
                     </div>

                     <!-- Survival Urban Repeating -->
                     <fieldset class="repeating_survivalurbanspec">
                     <div class="skillsfillrepeatingtertiary">

                       <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                       <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                       <span class="skillrollbutton">
                         <button class="sheet-d6-dice" type="roll" value=
                         '&{template:dodasadventureskills} {{survivalurbanskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                         name="roll_skilltotalcolumn"></button> </span>
                       <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
                       <input type="text" class="costcolumn" name="attr_points" value="">
                       <input type="number" class="tierfivefield" name="attr_tierfive" value="">
                       <input type="number" class="tierfourfield" name="attr_tierfour" value="">
                       <input type="number" class="tierthreefield" name="attr_tierthree" value="">
                       <input type="number" class="tiertwofield" name="attr_tiertwo" value="">
                       <input type="number" class="tieronefield" name="attr_tierone" value="">
                       <input type="number" class="tierabovesubfield" name="attr_tierabovesub" value="">
                       <input type="number" class="synergybonusfield" name="attr_synergybonus" value="">
                       <input type="number" class="synergyoffsetfield" name="attr_synergyoffset" value="">
                       <input type="number" class="subtotalfield" name="attr_group" value="">
                       <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
                       <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
                       <input type="text" class="secondATRField" name="attr_attributetwo" value="">
                       <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
                       <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
                       </div>
                     </fieldset>


  </div> <!-- close FULL TABLE no button -->
  </div> <!-- close for real? -->

    <!-- smaller skill table check tab <div class="sheet-block-nomathtable"> -->

    <!-- OG Compact adventuring table -->
  <div class="sheet-block-nomathtable">

    <div class="adventuringgridalttable">
    <div class="skilltablerow">

      <span class="str1Skillsand">

        <div class="box">
          <a class="button" href="#popup-adventuringskillscompactskillpopuptab">Adventuring</a>
        </div> <!-- close box -->
        <div id="popup-adventuringskillscompactskillpopuptab" class="overlay">
          <div class="popup">
            <h2>Adventuring Skills</h2>
            <a class="close" href="#">×</a>
            <div class="content">
              <p>The <strong>Adventuring Skills </strong>table is used to keep track of Adventuring Skill points spent, and skill modifiers. Unlike the 'Combat Skills' table, you'll be making rolls directly from this table. It has a larger more complex view for adding up modifiers (when the 'hide math' checkbox is unchecked), and a more compact view (when the 'hide math button is checked') useful during gameplay.
                <br><br>
                The number in the <strong>total</strong> column is added to 2d6, when clicking on the roll button to the right of it.
              </p>
                                  </div> <!-- close content -->
          </div> <!-- close popup -->
        </div> <!-- close popup1 id overlay -->
        </span>

      <span><input type="checkbox" class="sheet-duplicatecheckbox" name="attr_skillshidemathcheckbox"></span>
      <span class="hidemathtext">

        <div class="box">
          <a class="button" href="#popup-hidemathadventuringcompactskillpopuptab" style="font-style: italic;">Hide Math</a>
        </div> <!-- close box -->
        <div id="popup-hidemathadventuringcompactskillpopuptab" class="overlay">
          <div class="popup">
          <h2>Hide Math</h2>
          <a class="close" href="#">×</a>
          <div class="content">
            <p>Clicking this checkbox shows two different version of this table. One is more complex, has more math, and shows all the different steps and variables that might factor into your skill totals, which is best used while building a character. During gameplay, a more compact table is much more useful for quick reference, and clicking roll buttons.
            </p>
                                </div> <!-- close content -->
        </div> <!-- close popup1 id overlay -->
        </span>

      <span></span>

    </div>

  <div class="gridalttablecontainer">

    <div class="adventuringgridalttabletitlerow">

      <span class="str2Abilities">

        <div class="box">
          <a class="button" href="#popup-adventuringskillscompactskillpopuptab">Skills</a>
        </div> <!-- close box -->
        <div id="popup-adventuringskillscompactskillpopuptab" class="overlay">
          <div class="popup">
            <h2>Adventuring Skills</h2>
            <a class="close" href="#">×</a>
            <div class="content">
              <p>The <strong>Adventuring Skills </strong>table is used to keep track of Adventuring Skill points spent, and skill modifiers. Unlike the 'Combat Skills' table, you'll be making rolls directly from this table. It has a larger more complex view for adding up modifiers (when the 'hide math' checkbox is unchecked), and a more compact view (when the 'hide math button is checked') useful during gameplay.
                <br><br>
                The number in the <strong>total</strong> column is added to 2d6, when clicking on the roll button to the right of it.
              </p>
                                  </div> <!-- close content -->
          </div> <!-- close popup -->
        </div> <!-- close popup1 id overlay -->
        </span>

      <span class="str2Total">

        <div class="box">
          <a class="button" href="#popup-totaladventuringskillscompactskillpopuptab">Total</a>
        </div> <!-- close box -->
        <div id="popup-totaladventuringskillsskillpopuptab" class="overlay">
          <div class="popup">
            <h2>Total - Adventuring Skills</h2>
            <a class="close" href="#">×</a>
            <div class="content">
              <p>This number is used to make <strong>Adventuring Skill Rolls</strong>. The number is added to 2d6 to determine your total. Click the d6 looking button to the right to make the roll.
              </p>
                                  </div> <!-- close content -->
          </div> <!-- close popup -->
        </div> <!-- close popup1 id overlay -->
        </span>

      <span class="str2Roll">Roll</span>
      <span></span>
      <span class="str2Abilities">Skills</span>
      <span class="str2Total">

        <div class="box">
          <a class="button" href="#popup-totaladventuringskillscompactskillpopuptab">Total</a>
        </div> <!-- close box -->
        <div id="popup-totaladventuringskillscompactskillpopuptab" class="overlay">
          <div class="popup">
            <h2>Total - Adventuring Skills</h2>
            <a class="close" href="#">×</a>
            <div class="content">
              <p>This number is used to make <strong>Adventuring Skill Rolls</strong>. The number is added to 2d6 to determine your total. Click the d6 looking button to the right to make the roll.
              </p>
                                  </div> <!-- close content -->
          </div> <!-- close popup -->
        </div> <!-- close popup1 id overlay -->
        </span>

      <span class="str2Roll">Roll</span>
      <span></span>
      <span class="str2Abilities">Skills</span>
      <span class="str2Total">

        <div class="box">
          <a class="button" href="#popup-totaladventuringskillscompactskillpopuptab">Total</a>
        </div> <!-- close box -->
        <div id="popup-totaladventuringskillsskillpopuptab" class="overlay">
          <div class="popup">
            <h2>Total - Adventuring Skills</h2>
            <a class="close" href="#">×</a>
            <div class="content">
              <p>This number is used to make <strong>Adventuring Skill Rolls</strong>. The number is added to 2d6 to determine your total. Click the d6 looking button to the right to make the roll.
              </p>
                                  </div> <!-- close content -->
          </div> <!-- close popup -->
        </div> <!-- close popup1 id overlay -->
        </span>

      <span class="str2Roll">Roll</span>


    </div>



  <!-- KNOWLEDGE row, start of skills -->
      <div class="adventurecompactcolumn1">
              <div class="adventurecompactskillrowgroup"> <!-- class is a misnomer leftover from before -->

                <span class="skillnamefieldprimary" name="attr_knowledge">Knowledge<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/bookmarklet.png?raw=true" style="left: -107px;"></span>
                <input type="text" class="skilltotalfield" name="attr_knowledgeskilltotal" value="">
                <span class="skillrollbutton">
                  <button class="sheet-d6-dice" type="roll" value=
                  '&{template:dodasadventureskills} {{knowledgeskill=Knowledge}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{knowledgeskilltotal}}} {{adventurerolltotal=[[2d6 + @{knowledgeskilltotal}]]}}'
                  name="roll_skilltotalcolumn"></button> </span>

                  <span></span>
                  </div>

                  <fieldset class="repeating_knowledgespec">
                  <div class="adventurecompactskillrowspec">

                    <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                    <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                    <span class="skillrollbutton">
                      <button class="sheet-d6-dice" type="roll" value=
                      '&{template:dodasadventureskills} {{knowledgeskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                      name="roll_skilltotalcolumn"></button> </span>

                    </div>
                </fieldset>


                <div class="adventurecompactskillrowgroup"> <!-- class is a misnomer leftover from before -->

                  <span class="skillnamefieldprimary" name="attr_mobility">Mobility<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/run.png?raw=true" style="left: -101px;"></span>
                  <input type="text" class="skilltotalfield" name="attr_mobilityskilltotal" value="">
                  <span class="skillrollbutton">
                    <button class="sheet-d6-dice" type="roll" value=
                    '&{template:dodasadventureskills} {{mobilityskill=Mobility}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{mobilityskilltotal}}} {{adventurerolltotal=[[2d6 + @{mobilityskilltotal}]]}}'
                    name="roll_skilltotalcolumn"></button> </span>
                 <span></span>
                 </div>

                 <!-- mobility Repeating -->
                 <fieldset class="repeating_mobilityspec">
                 <div class="adventurecompactskillrowspec">

                   <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                   <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                   <span class="skillrollbutton">
                     <button class="sheet-d6-dice" type="roll" value=
                     '&{template:dodasadventureskills} {{mobilityskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                     name="roll_skilltotalcolumn"></button> </span>

                   </div>
                 </fieldset>

                 <!-- mechanicaldevices, start of skills -->
                 <div class="adventurecompactskillrowgroup">
                   <span class="skillnamefieldprimary" name="attr_mechanicaldevices">Mechanical Devices<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/key-lock.png?raw=true" style="left: -97pt;"></span>
                   <input type="text" class="skilltotalfield" name="attr_mechanicaldevicesskilltotal" value="">
                   <span class="skillrollbutton">
                     <button class="sheet-d6-dice" type="roll" value=
                     '&{template:dodasadventureskills} {{mechanicaldevicesskill=Mechanical Devices}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{mechanicaldevicesskilltotal}}} {{adventurerolltotal=[[2d6 + @{mechanicaldevicesskilltotal}]]}}'
                     name="roll_skilltotalcolumn"></button> </span>


                  </div>

                  <!-- mechanicaldevices Repeating -->
                  <fieldset class="repeating_mechanicaldevicesspec">
                  <div class="adventurecompactskillrowspec">

                    <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                    <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                    <span class="skillrollbutton">
                      <button class="sheet-d6-dice" type="roll" value=
                      '&{template:dodasadventureskills} {{mechanicaldevicesskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                      name="roll_skilltotalcolumn"></button> </span>

                    </div>
                  </fieldset>

                <!-- medicine, start of skills -->
                    <div class="adventurecompactskillrowgroup"> <!-- class is a misnomer leftover from before -->

                      <span class="skillnamefieldprimary" name="attr_medicine">Medicine<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/caduceus.png?raw=true" style="left: -77pt;"></span>
                      <input type="text" class="skilltotalfield" name="attr_medicineskilltotal" value="">
                      <span class="skillrollbutton">
                        <button class="sheet-d6-dice" type="roll" value=
                        '&{template:dodasadventureskills} {{medicineskill=Medicine}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{medicineskilltotal}}} {{adventurerolltotal=[[2d6 + @{medicineskilltotal}]]}}'
                        name="roll_skilltotalcolumn"></button> </span>

                      </div>

                      <!-- medicine Repeating -->
                      <fieldset class="repeating_medicinespec">
                      <div class="adventurecompactskillrowspec">

                        <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                        <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                        <span class="skillrollbutton">
                          <button class="sheet-d6-dice" type="roll" value=
                          '&{template:dodasadventureskills} {{medicineskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                          name="roll_skilltotalcolumn"></button> </span>

                        </div>
                    </fieldset>





        </div> <!-- close column 1 flex adventure compact -->


    <!-- Adventure compact column 2-->
    <div class="adventurecompactcolumn2">

                        <div class="adventurecompactskillrowgroup">

                          <span class="skillnamefieldprimary" name="attr_perception">Perception<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/eye-target.png?raw=true" style="left: -80pt;"></span>
                          <input type="text" class="skilltotalfield" name="attr_perceptionskilltotal" value="">
                          <span class="skillrollbutton">
                            <button class="sheet-d6-dice" type="roll" value=
                            '&{template:dodasadventureskills} {{perceptionskill=Perception}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{perceptionskilltotal}}} {{adventurerolltotal=[[2d6 + @{perceptionskilltotal}]]}}'
                            name="roll_skilltotalcolumn"></button> </span>

                          </div>

                        <!-- perception Repeating -->
                        <fieldset class="repeating_perceptionspec">
                        <div class="adventurecompactskillrowspec">

                          <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                          <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                          <span class="skillrollbutton">
                            <button class="sheet-d6-dice" type="roll" value=
                            '&{template:dodasadventureskills} {{perceptionskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                            name="roll_skilltotalcolumn"></button> </span>

                          </div>
                      </fieldset>


                    <div class="adventurecompactskillrowgroup">
                       <span class="skillnamefieldprimary" name="attr_profession" style="padding-left: 19pt;">Profession (Non-Adventuring)<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/village.png?raw=true" style="left: -170px;"></span>
                       <input type="text" class="skilltotalfield" name="attr_professionskilltotal" value="">
                       <span class="skillrollbutton">
                         <button class="sheet-d6-dice" type="roll" value=
                         '&{template:dodasadventureskills} {{professionskill=Profession}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{professionskilltotal}}} {{adventurerolltotal=[[2d6 + @{professionskilltotal}]]}}'
                         name="roll_skilltotalcolumn"></button> </span>

                         <span></span>
                         </div>

                        <fieldset class="repeating_professionspec">
                        <div class="adventurecompactskillrowspec">

                          <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                          <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                          <span class="skillrollbutton">
                            <button class="sheet-d6-dice" type="roll" value=
                            '&{template:dodasadventureskills} {{professionskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                            name="roll_skilltotalcolumn"></button> </span>

                          </div>
                        </fieldset>

                  <!-- SOCIAL SKILLS -->
                     <div class="adventurecompactskillrowgroup"> <!-- class is a misnomer leftover from before -->

                       <span class="skillnamefieldprimary" name="attr_social">Social<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/shaking-hands.png?raw=true" style="left: -95px;"></span>
                       <input type="text" class="skilltotalfield" name="attr_socialskilltotal" value="">
                       <span class="skillrollbutton">
                         <button class="sheet-d6-dice" type="roll" value=
                         '&{template:dodasadventureskills} {{socialskill=Social}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{socialskilltotal}}} {{adventurerolltotal=[[2d6 + @{socialskilltotal}]]}}'
                         name="roll_skilltotalcolumn"></button> </span>

                       </div>

                   <!-- Social WIT -->
                   <div class="adventurecompactssindent"> <!-- was meleerange class before -->

                         <span class="skillnamefield" name="attr_socialwits">Social: Wits<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/think.png?raw=true" style="left: -104px;"></span>
                         <input type="text" class="skilltotalfield" name="attr_socialwitskilltotal" value="">
                         <span class="skillrollbutton">
                           <button class="sheet-d6-dice" type="roll" value=
                           '&{template:dodasadventureskills} {{socialwitsskill=Social Wits}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{socialwitskilltotal}}} {{adventurerolltotal=[[2d6 + @{socialwitskilltotal}]]}}'
                           name="roll_skilltotalcolumn"></button> </span>

                     </div>

                   <!-- social wits Repeating -->
                   <fieldset class="repeating_socialwitspec">
                   <div class="adventurecompactskillrowsecondspec">

                     <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                     <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                     <span class="skillrollbutton">
                       <button class="sheet-d6-dice" type="roll" value=
                       '&{template:dodasadventureskills} {{socialwitsskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                       name="roll_skilltotalcolumn"></button> </span>

                     </div>
                   </fieldset>


                   <div class="adventurecompactssindent"> <!-- class is a misnomer leftover from before -->

                         <span class="skillnamefield" name="attr_socialpersonality">Social: Presence<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/confrontation.png?raw=true" style="left: -90pt;"></span>
                         <input type="text" class="skilltotalfield" name="attr_socialpersonalityskilltotal" value="">
                         <span class="skillrollbutton">
                           <button class="sheet-d6-dice" type="roll" value=
                           '&{template:dodasadventureskills} {{socialpersonalityskill=Social Personality}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{socialpersonalityskilltotal}}} {{adventurerolltotal=[[2d6 + @{socialpersonalityskilltotal}]]}}'
                           name="roll_skilltotalcolumn"></button> </span>

                         </div>

                     <!-- social Personality Repeating -->
                     <fieldset class="repeating_socialpersonalityspec">
                     <div class="adventurecompactskillrowsecondspec">

                       <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                       <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                       <span class="skillrollbutton">
                         <button class="sheet-d6-dice" type="roll" value=
                         '&{template:dodasadventureskills} {{socialpersonalityskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                         name="roll_skilltotalcolumn"></button> </span>

                       </div>
                     </fieldset>




            </div> <!-- close column 2 flex -->

    <!-- Adventure compact column 3 flex-->
    <div class="adventurecompactcolumn3">

          <div class="adventurecompactskillrowgroup">
              <span class="skillnamefieldprimary" name="attr_strengthskills">Strength Skills<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/muscle-up.png?raw=true" style="left: -116px;"></span>
              <input type="text" class="skilltotalfield" name="attr_strengthskillsskilltotal" value="">
              <span class="skillrollbutton">
                <button class="sheet-d6-dice" type="roll" value=
                '&{template:dodasadventureskills} {{strengthskill=Strength Skills}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{strengthskillsskilltotal}}} {{adventurerolltotal=[[2d6 + @{strengthskillsskilltotal}]]}}'
                name="roll_skilltotalcolumn"></button> </span>
            </div>

            <!-- strengthskills Repeating -->
            <fieldset class="repeating_strengthskillsspec">
            <div class="adventurecompactskillrowspec">

              <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
              <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
              <span class="skillrollbutton">
                <button class="sheet-d6-dice" type="roll" value=
                '&{template:dodasadventureskills} {{strengthskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                name="roll_skilltotalcolumn"></button> </span>
            </div>
            </fieldset>

            <!-- SURVIVAL -->
            <div class="adventurecompactskillrowgroup"> <!-- class is a misnomer leftover from before -->

                  <span class="skillnamefieldprimary" name="attr_survival">Survival<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/hiking.png?raw=true" style="left: -101px;"></span>
                  <input type="text" class="skilltotalfield" name="attr_survivalskilltotal" value="">
                  <span class="skillrollbutton">
                    <button class="sheet-d6-dice" type="roll" value=
                    '&{template:dodasadventureskills} {{survivalskill=Survival}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{survivalskilltotalskilltotal}}} {{adventurerolltotal=[[2d6 + @{survivalskilltotalskilltotal}]]}}'
                    name="roll_skilltotalcolumn"></button> </span>

                  </div>

                  <!-- Survival Outdoors -->
                  <div class="adventurecompactssindent">

                        <span class="skillnamefield" name="attr_survivaloutdoors">Survival: Outdoors<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/forest-camp.png?raw=true" style="left: -92pt;"></span>
                        <input type="text" class="skilltotalfield" name="attr_survivaloutdoorsskilltotal" value="">
                        <span class="skillrollbutton">
                          <button class="sheet-d6-dice" type="roll" value=
                          '&{template:dodasadventureskills} {{survivaloutdoorsskill=Survival Outdoors}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{survivaloutdoorsskilltotal}}} {{adventurerolltotal=[[2d6 + @{survivaloutdoorsskilltotal}]]}}'
                          name="roll_skilltotalcolumn"></button> </span>

                        </div>

                  <!-- Survival Outdoors Repeating -->
                  <fieldset class="repeating_survivaloutdoorsspec">
                  <div class="adventurecompactskillrowsecondspec">

                    <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                    <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                    <span class="skillrollbutton">
                      <button class="sheet-d6-dice" type="roll" value=
                      '&{template:dodasadventureskills} {{survivaloutdoorsskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                      name="roll_skilltotalcolumn"></button> </span>

                    </div>
                  </fieldset>

                  <!-- Survival Urban -->
                  <div class="adventurecompactssindent"> <!-- adventuringmeleeandrangerow -->

                        <span class="skillnamefield" name="attr_survivalurban">Survival: Urban<img src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/medieval-gate.png?raw=true" style="left: -85pt;"></span>
                        <input type="text" class="skilltotalfield" name="attr_survivalurbanskilltotal" value="">
                        <span class="skillrollbutton">
                          <button class="sheet-d6-dice" type="roll" value=
                          '&{template:dodasadventureskills} {{survivalurbanskill=Survival Urban}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{survivalurbanskilltotal}}} {{adventurerolltotal=[[2d6 + @{survivalurbanskilltotal}]]}}'
                          name="roll_skilltotalcolumn"></button> </span>
                        </div>

                        <!-- Survival Urban Repeating -->
                        <fieldset class="repeating_survivalurbanspec">
                        <div class="adventurecompactskillrowsecondspec"> <!--skillsfillrepeatingtertiary-->

                          <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
                          <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
                          <span class="skillrollbutton">
                            <button class="sheet-d6-dice" type="roll" value=
                            '&{template:dodasadventureskills} {{survivalurbanskill=@{skillsandabilities}}} {{subtags=@{character_name}}} {{adventureskillmodifier=@{skilltotal}}} {{adventurerolltotal=[[2d6 + @{skilltotal}]]}}'
                            name="roll_skilltotalcolumn"></button> </span>

                          </div>
                        </fieldset>


     </div>



  </div> <!-- ? -->
  </div> <!-- close grid container -->
  </div> <!-- close grid container -->


    <!-- OLD repeating specializations, indented -->
        <!-- custom skills -->
        <div class="skilltable">
        <div class="skilltablerow">

          <span class="str1Skillsand">

            <div class="box">
              <a class="button" href="#popup-customskillsskillpopuptab">Custom</a>
            </div> <!-- close box -->
            <div id="popup-customskillsskillpopuptab" class="overlay">
              <div class="popup">
                <h2>Custom Skills</h2>
                <a class="close" href="#">×</a>
                <div class="content">
                  <p>This table is used to track custom skills or skill groups, or something not already present as a specialization of an existing skill. Duels of Dreams allows for custom skills and skill groups, depending on the setting.
                    <br><br>It's also here as part of playtesting, as this was the <strong>inititial</strong> skills table used for a lot of characters, and allows their stats to be preserved.
                    <br><br>
                    You might also, for whatever reason, prefer to track your skills one at a time here, if for example, you're only putting points in a few things. It's here as an optional extra space to track things.
                  </p>
                                      </div> <!-- close content -->
              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span></span>
          <!-- <input type="checkbox" class="sheet-hidemathcheckbox" name="skillshidemathcheckbox">  -->
          <span class="hidemathtext"></span>
          <span></span>
          <span title="Which Tier is the Skill?" class="str1TiersbyCost">Tiers by Cost</span>
          <span class="str1Synergy">Synergy</span>
          <span class="str1Above">Above</span>
          <span class="str1Sub">Sub</span>
          <span class="str1RelevantAttributes">Relevant Attributes</span>
          <span class="str1OtherModifiersTop">Other</span>
        </div>
        <div class="skilltablerow2">

          <span class="str2Abilities">

            <div class="box">
              <a class="button" href="#popup-customskillsskillpopuptab">Skills</a>
            </div> <!-- close box -->
            <div id="popup-customskillsskillpopuptab" class="overlay">
              <div class="popup">

              </div> <!-- close popup -->
            </div> <!-- close popup1 id overlay -->
            </span>

          <span class="str2Total">Total</span>
          <span class="str2Roll">Roll</span>
          <span class="str2Tier">Tier</span>
          <span class="str2Cost">Points</span>
          <span title="Tier 5" class="str27">5</span>
          <span title="Tier 4" class="str24">4</span>
          <span title="Tier 3 (Optional)" class="str22">3</span>
          <span title="Tier 2" class="str21">2</span>
          <span title="Tier 1" class="str2star">1</span>
          <span class="str2Bonus">Bonus</span>
          <span class="str2Offset">Offset</span>
          <span class="str2AboveSub">Sub</span>
          <span class="str2Sub">Total</span>
          <span title="Attribute used for skill" class="str2ATR1">ATR</span>
          <span title="Attribute modifier" class="str2Mod1">Mod</span>
          <span title="Attribute two used for skill" class="str2ATR2">ATR</span>
          <span title="Attribute modifier" class="str2Mod2">Mod</span>
          <span class="OtherModifiersBottom">Modifiers</span>

        </div>

  <!-- class is a misnomer leftover from before. OOPS don't need this section
        <div class="skillsfillrepeating">

          <span class="skillnamefieldprimary" name="attr_customskills">Custom Skills</span>
          <input type="text" class="skilltotalfield" name="attr_customskillsskilltotal" value="">
          <span class="skillrollbutton">
            <button class="sheet-d6-dice" type="roll" value=
            '&{template:dodas} {{name=@{character_name} @{customskills} }} {{roll +@{customskillsskilltotal} = =[[2d6 + @{customskillsskilltotal}]]}}'
            name="roll_skilltotalcolumn"></button> </span>
          <input type="text" class="tiercostcolumn" name="attr_customskillstiercost" value="">
          <input type="text" class="costcolumn" name="attr_customskillscost" value="">
          <input type="text" class="tiersevenfield" name="attr_customskillstierseven" value="">
          <input type="text" class="tierfourfield" name="attr_customskillstierfour" value="">
          <input type="text" class="tiertwofield" name="attr_customskillstiertwo" value="">
          <input type="text" class="tieronefield" name="attr_customskillstierone" value="">
          <input type="text" class="tierstarfield" name="attr_customskillstierstar" value="">
          <input type="text" class="tierabovesubfield" name="attr_customskillstierabovesub" value="">
          <input type="text" class="synergybonusfield" name="attr_customskillssynergybonus" value="">
          <input type="text" class="synergyoffsetfield" name="attr_customskillssynergyoffset" value="">
          <input type="text" class="subtotalfield" name="attr_customskillsgroup" value="">
          <input type="text" class="firstskillATRfield" name="attr_customskillsattribute" value="">
          <input type="text" class="firstATRmodField" name="attr_customskillsattributemodifier" value="">
          <input type="text" class="secondATRField" name="attr_customskillsattributetwo" value="">
          <input type="text" class="secondATRmod" name="attr_customskillsattributemodifiertwo" value="">
          <input type="text" class="otherskillfield" name="attr_customskillsothermodifiersfill" value="">
          </div>
  -->
      <fieldset class="repeating_skills">
        <div class="skillsfillrepeating">

          <input type="text" class="skillnamefield" name="attr_skillsandabilities" value="">
          <input type="text" class="skilltotalfield" name="attr_skilltotal" value="">
          <span class="skillrollbutton">
            <button class="sheet-d6-dice" type="roll" value=
            '&{template:dodas} {{name=@{character_name} @{skillsandabilities} }} {{roll +@{skilltotal} = =[[2d6 + @{skilltotal}]]}}'
            name="roll_skilltotalcolumn"></button> </span>
          <input type="text" class="tiercostcolumn" name="attr_tiercost" value="">
          <input type="text" class="costcolumn" name="attr_cost" value="">
          <input type="text" class="tiersevenfield" name="attr_tierseven" value="">
          <input type="text" class="tierfourfield" name="attr_tierfour" value="">
          <input type="text" class="tiertwofield" name="attr_tiertwo" value="">
          <input type="text" class="tieronefield" name="attr_tierone" value="">
          <input type="text" class="tierstarfield" name="attr_tierstar" value="">
          <input type="text" class="tierabovesubfield" name="attr_tierabovesub" value="">
          <input type="text" class="synergybonusfield" name="attr_synergybonus" value="">
          <input type="text" class="synergyoffsetfield" name="attr_synergyoffset" value="">
          <input type="text" class="subtotalfield" name="attr_group" value="">



          <input type="text" class="firstskillATRfield" name="attr_attribute" value="">
            <!-- try a datalist instead
          <input type="text" list="abilityScores" name="attr_abilityScore">
          <datalist id="abilityScores">
              <option value="@{power}">PW</option>
              <option value="@{movement}">Move</option>
              <option value="@{willpower}">WP</option>
              <option value="@{wit}">WIT</option>
              <option value="@{intelligence}">INT</option>
              <option value="@{knockdown}">KN</option>
              <option value="@{reflex}">REF</option>
              <option value="@{actionpoints}">AP</option>
          </datalist>
              -->
          <input type="text" class="firstATRmodField" name="attr_attributemodifier" value="">
          <input type="text" class="secondATRField" name="attr_attributetwo" value="">
          <input type="text" class="secondATRmod" name="attr_attributemodifiertwo" value="">
          <input type="text" class="otherskillfield" name="attr_othermodifiersfill" value="">
          </div>
          </fieldset>

    </div>




  <!-- POINT BUY TOTALS TABLE -->

  <div class="pointbuytable">
    <div class="pointbuytabletitlerow">
      <span class="pbtpointsspent">

        <div class="box">
          <a class="button" href="#popup-pointbuytotalsskillpopuptab">Point Buy Totals</a>
        </div> <!-- close box -->
        <div id="popup-pointbuytotalsskillpopuptab" class="overlay">
          <div class="popup">
            <h2>Point Buy Totals</h2>
            <a class="close" href="#">×</a>
            <div class="content">
              <p>This table is used to keep track of your characters points spent, as well as the <strong>Total Value</strong> of your character, from miscellaneous other factors, like extra equipment or magic gear.
                          </p>
                                  </div> <!-- close content -->
          </div> <!-- close popup -->
        </div> <!-- close popup1 id overlay -->
        </span>

      <span class="pbtpoints">Total</span>
      <span class="pbtUnspent">Unspent</span>
      <span class="pbtSpent">Spent</span>
      <span class="pbtNegative">Negative</span>
      <span class="pbtnotes">Notes</span>
    </div>
    <div class="pointbuytablerow">
      <span class="pbtAttributes">Attributes</span>
      <input type="text" name="attr_pbattributestotals" value=""> <!-- TOTALS -->
      <input type="text" name="attr_pbattributesspent" value="">
      <input type="text" name="attr_pbattributesunspent" value="">
      <input type="text" name="attr_pbattributesnegative" value="">
      <input type="text" name="attr_pbattributesnotes" value="">
    </div>
    <div class="pointbuytablerow">
      <span class="pbtSkillTable">Combat Skills</span> <!-- COMBAT SKILLS -->
      <input type="text" name="attr_pbcombatskillstotals" value=""> <!-- TOTALS -->
      <input type="text" name="attr_pbCombatSkillsUnspent" value="">
      <input type="text" name="attr_pbCombatSkillsSpent" value="">
      <input type="text" name="attr_pbCombatSkillsNegative" value="">
      <input type="text" name="attr_pbSkillTableNotes" value="">
    </div>

    <div class="pointbuytablerow">
      <span class="pbtSkillTable">Adventuring Skills</span>
      <input type="text" name="attr_pbadventuringskillstotals" value=""> <!-- TOTALS -->
      <input type="text" name="attr_pbNonCombatSkillsUnspent" value="">
      <input type="text" name="attr_pbNonCombatSkillsSpent" value="">
      <input type="text" name="attr_pbNonCombatSkillsNegative" value="">
      <input type="text" name="attr_pbNonCombatSkillsNotes" value="">
    </div>

    <div class="pointbuytablerow">
      <span class="pbtSkillTable">Equipment</span>
      <input type="text" name="attr_pbequipmenttotals" value=""> <!-- TOTALS -->
      <input type="text" name="attr_pbEquipmentUnspent" value="">
      <input type="text" name="attr_pbEquipmentSpent" value="">
      <input type="text" name="attr_pbEquipmentNegative" value="">
      <input type="text" name="attr_pbEquipmentNotes" value="">
    </div>

    <div class="pointbuytablerow">
      <span class="pbtPowersandAbilities">Magic Skills</span> <!-- Magic Skills -->
      <input type="text" name="attr_pbpowersandabilitiestotals" value=""> <!-- TOTALS -->
      <input type="text" name="attr_pbMagicSkillsTotal" value="">
      <input type="text" name="attr_pbMagicSkillsUnspent" value="">
      <input type="text" name="attr_pbMagicSkillsSpent" value="">
      <input type="text" name="attr_pbMagicSkillsNegative" value="">
    </div>

    <div class="pointbuytablerow">
      <span class="pbtSkillTable">Spells Learned</span>
      <input type="text" name="attr_pbspellslearnedtotals" value=""> <!-- TOTALS -->
      <input type="text" name="attr_pbSpellsLearnedUnspent" value="">
      <input type="text" name="attr_pbSpellsLearnedSpent" value="">
      <input type="text" name="attr_pbSpellsLearnedNegative" value="">
      <input type="text" name="attr_pbSpellsLearnedNotes" value="">
    </div>

    <div class="pointbuytablerow">
      <span class="pbtSkillTable">Adv./Disadvantages</span>
      <input type="text" name="attr_pbadvdisadvantagestotals" value=""> <!-- TOTALS -->
      <input type="text" name="attr_pbAdvDisadvantagesUnspent" value="">
      <input type="text" name="attr_pbAdvDisadvantagesSpent" value="">
      <input type="text" name="attr_pbAdvDisadvantagesNegative" value="">
      <input type="text" name="attr_pbAdvDisadvantagesNotes" value="">
    </div>

    <div class="pointbuytablerow">
      <span class="pbtOther">Other</span>
      <input type="text" name="attr_pbothertotals" value=""> <!-- TOTALS -->
      <input type="text" name="attr_pbOtherUnspent" value="">
      <input type="text" name="attr_pbOtherSpent" value="">
      <input type="text" name="attr_pbOtherNegative" value="">
      <input type="text" name="attr_pbOtherNotes" value="">
    </div>

    <div class="pointbuytabletotalrow">
      <span class="pbtTotal">TOTAL Character Points</span>
      <input type="text" class="pbtbold" name="attr_pbtotaloverall" value=""> <!-- TOTALS -->
      <input type="text" name="attr_pbTotalUnspent" value="">
      <input type="text" name="attr_pbTotalSpent" value="">
      <input type="text" name="attr_pbTotalNegative" value="">
      <input type="text" name="attr_pbTotalNotes" value="">
    </div>

    <div class="pointbuytablerow">
      <span class="pbtSkillTable">

        <div class="box">
          <a class="button" href="#popup-combatantbasevalueskillpopuptab">Combatant Base Value</a>
        </div> <!-- close box -->
        <div id="popup-combatantbasevalueskillpopuptab" class="overlay">
          <div class="popup">
            <h2>Combatant Base Value</h2>
            <a class="close" href="#">×</a>
            <div class="content">
              <p>Each combatant in a fight, including enemy combatants, has a <strong>Base Value of 30 points</strong>. This is factored into the total, to help balance encounters on both sides. Each combatant gets 4 Action Points (AP) for "free", as well as some starting armor and equipment. The base value factors this in. Even a perfectly average person can deal damage and contribute in combat.
                <br><br>
                The <strong>Combatants and Monster</strong> Rules have a full explanation on balancing encounters.
                          </p>
                                  </div> <!-- close content -->
          </div> <!-- close popup -->
        </div> <!-- close popup1 id overlay -->
        </span>


      <input type="text" name="attr_pbcombatbasevalue" value="30"> <!-- TOTALS -->
      <input type="text" name="attr_pbcombatbasevalueUnspent" value="">
      <input type="text" name="attr_pbcombatbasevalueSpent" value="">
      <input type="text" name="attr_pbcombatbasevalueNegative" value="">
      <input type="text" name="attr_pbcombatbasevalueNotes" value="">
    </div>

    <div class="pointbuytablerow">
      <span class="pbtSkillTable">

        <div class="box">
          <a class="button" href="#popup-halfadventuringskillsskillpopuptab">-1/2 Adventuring Skills</a>
        </div> <!-- close box -->
        <div id="popup-halfadventuringskillsskillpopuptab" class="overlay">
          <div class="popup">
            <h2>-1/2 Adventuring Skills</h2>
            <a class="close" href="#">×</a>
            <div class="content">
              <p>Adventuring Rolls <strong>can</strong> play a roll in combat, but not as often or directly as <strong>Combat Skills</strong>, Attributes, and Combat Points. Particularly skills like Stealth, Perception, Enemy Detection, Mobility, Climb, Intimidate, Taunt, and even Medicine.
                <br><br>
                Half the point value total spent in adventuring skills is a very abstract representation of their usefulness in combat. Sometimes it will be more balanced than others, but it's important to factor in. As a GM, you'll have to use some common sense and understanding of tactics for final balance considerations.
                          </p>
                                  </div> <!-- close content -->
          </div> <!-- close popup -->
        </div> <!-- close popup1 id overlay -->
        </span>

      <input type="text" name="attr_pbhalfnoncombatskillstotal" value=""> <!-- TOTALS -->
      <input type="text" name="attr_pbHalfNonCombatSkillsUnspent" value="">
      <input type="text" name="attr_pbHalfNonCombatSkillsSpent" value="">
      <input type="text" name="attr_pbHalfNonCombatSkillsNegative" value="">
      <input type="text" name="attr_pbHalfNonCombatSkillsNotes" value="">
    </div>

    <div class="pointbuytablerow">
      <span class="pbtSkillTable">

        <div class="box">
          <a class="button" href="#popup-miscellaneousmodifierspointsskillpopuptab">Misc. Modifiers</a>
        </div> <!-- close box -->
        <div id="popup-miscellaneousmodifierspointsskillpopuptab" class="overlay">
          <div class="popup">
            <h2>Miscellaneous Modifiers</h2>
            <a class="close" href="#">×</a>
            <div class="content">
              <p>Track anything else that might add value to the combat. Most categories are covered above, but perhaps things like: favorable terrain, group synergy in numbers, effectiveness vs. the party, etc. Usually, these will be more abstract, but the input field is here in case you need it.
                                      </p>
                                  </div> <!-- close content -->
          </div> <!-- close popup -->
        </div> <!-- close popup1 id overlay -->
        </span>

      <input type="text" name="attr_pbmiscmodtotals" value=""> <!-- TOTALS -->
      <input type="text" name="attr_pbMiscModUnspent" value="">
      <input type="text" name="attr_pbMiscModSpent" value="">
      <input type="text" name="attr_pbMiscModNegative" value="">
      <input type="text" name="attr_pbMiscModNotes" value="">
    </div>

    <div class="pointbuytabletotalrow">
      <span class="pbtTotal">

        <div class="box">
          <a class="button" href="#popup-combatencountervalueskillpopuptab">Combat Encounter Value</a>
        </div> <!-- close box -->
        <div id="popup-combatencountervalueskillpopuptab" class="overlay">
          <div class="popup">
            <h2>Combat Encounter Value</h2>
            <a class="close" href="#">×</a>
            <div class="content">
              <p>This is the final value each combatant adds to the encounter difficulty level. Add up all combatants on each side, and compare their totals.
                <br><br>
                The <strong>Enemy 'Combat Encounter Value' Total</strong> vs. the parties, is approximately the following challenge level:
                <ul>
                  <li><strong>1/4 or less: Trivial</strong></li>
                  <li><strong>1/3: Easy</strong></li>
                  <li><strong>1/2: Mild</strong></li>
                  <li><strong>2/3 to 3/4: Moderate to Hard</strong></li>
                  <li><strong>Equal to Party: Deadly</strong></li>
                  <li><strong>Above Party: Overwhelming!</strong></li>
                                      </p>
                                  </div> <!-- close content -->
          </div> <!-- close popup -->
        </div> <!-- close popup1 id overlay -->
        </span>

      <input type="text" class="pbtbold" name="attr_pbcombatencountervaluetotals" value=""> <!-- TOTALS -->
      <input type="text" name="attr_pbCombatEncounterValueUnspent" value="">
      <input type="text" name="attr_pbCombatEncounterValueSpent" value="">
      <input type="text" name="attr_pbCombatEncounterValueNegative" value="">
      <input type="text" name="attr_pbCombatEncounterValueNotes" value="">
    </div>

  </div>







<!-- fix weapon tab buttons? -->

            <!-- POINT BUY SPENT TABLE -->






</div> <!-- close dodaslayout -->
</div> <!-- close SKILLS AND POINTS tab -->



<!-- SPELL TABLE -->

<div class="spellstab">
<div class="dodaslayout">

  <div class="spelltable">
    <div class="strow">
      <span class="stspells">Spells & Abilities</span>
      <span class="stDmg">Dmg</span>

      <span class="stOpp">Type</span>
      <span class="stArea">Area</span>
      <span class="stDuration">Duration</span>
      <span class="stRange">Range</span>
      <span class="stLVL">LVL</span>
      <span class="stRoll">Roll+</span>
      <span class="stCP">CP</span>
      <span class="stRollbutton">Roll</span>
      <span class="stDescription">Description</span>
    </div>
    <fieldset class="repeating_spells">
      <div class="strepeating">
        <input type="text" name="attr_spellorability" value="">
        <input type="text" name="attr_spelldamage" value="">

        <input type="text" name="attr_spellopposed" value="">
        <input type="text" name="attr_spellarea" value="">
        <input type="text" name="attr_spellduration" value="">
        <input type="text" name="attr_spellrange" value="">

        <input type="text" name="attr_spelllevel" value="">
        <input type="text" name="attr_spellskill" value="">
        <input type="text" name="attr_strcp" value="">
        <span class="spellrollbutton">
          <button type="roll" value=
                  '&{template:dodas1} {{name=@{character_name} @{spellorability} }} {{attack=[[2d6 + @{spellskill}]][[2d6 + @{spellskill}]][[2d6 + @{spellskill}]]}} {{Damage=@{spelldamage} + [[1d6]][[1d6]][[1d6]]}} {{Type=@{spellopposed}}} {{Area=@{spellarea}}} {{Duration=@{spellduration}}} {{Range=@{spellrange}}} {{LVL=@{spelllevel}}} {{Description=@{spelldescription}}} '
                  name="roll_spellreapeatingbutton"></button></span>
        <input type="text" name="attr_spelldescription" value="">


        <!--
        <span><button type="roll"
            value='&{template:dodas1} {{name=@{charcter_name} @{spellorability} }} {{attack=[[2d6 + @{strroll}]]}} {{Damage=@{spelldamage} + [[1d6]][[1d6]][[1d6]]}} {{Opposed=@{stropp}}} {{Spell Range=@{strrange}}} {{Spell Area=@{strarea}}} {{Spell Duration=@{strduration}}} {{Spell LVL=@{strlvl}}} {{Spell Description=@{strdescription}}} '
            name="roll_spellreapeatingbutton"></button></span>
            -->
      </div>
    </fieldset>
  </div>

  <div class="spellbuilder">
    <div class="sbtitlerow">
      <span class="sbnameandlevel">Spell Name & LVL:</span>
      <input type="text" name="attr_spellbuildername1" placeholder="Spell builder spell" value="">
      <input type="text" name="attr_spellbuilderlvl1" placeholder="LVL" value="">
      <input type="text" name="attr_spellbuildername2" placeholder="Spell builder spell" value="">
      <input type="text" name="attr_spellbuilderlvl2" placeholder="LVL" value="">
      <input type="text" name="attr_spellbuildername3" placeholder="Spell builder spell" value="">
      <input type="text" name="attr_spellbuilderlvl3" placeholder="LVL" value="">
      <input type="text" name="attr_spellbuildername4" placeholder="Spell builder spell" value="">
      <input type="text" name="attr_spellbuilderlvl4" placeholder="LVL" value="">
    </div>



    <div class="sbrowcorespell">
      <span class="sbcorespell">Core Spell</span>
      <input type="text" name="attr_sbcorespell1" value="">
      <input type="text" name="attr_sbcorelvl1" value="">
      <input type="text" name="attr_sbcorespell2" value="">
      <input type="text" name="attr_sbcorelvl2" value="">
      <input type="text" name="attr_sbcorespell3" value="">
      <input type="text" name="attr_sbcorelvl3" value="">
      <input type="text" name="attr_sbcorespell4" value="">
      <input type="text" name="attr_sbcorelvl4" value="">
    </div>

    <div class="sbrowdamage">
      <span class="sbdamage">Damage</span>
      <input type="text" name="attr_sbdamagespell1" value="">
      <input type="text" name="attr_sbdamagelvl1" value="">
      <input type="text" name="attr_sbdamagespell2" value="">
      <input type="text" name="attr_sbdamagelvl2" value="">
      <input type="text" name="attr_sbdamagespell3" value="">
      <input type="text" name="attr_sbdamagelvl3" value="">
      <input type="text" name="attr_sbdamagespell4" value="">
      <input type="text" name="attr_sbdamagelvl4" value="">
    </div>

    <div class="sbrowspelltype">
      <span class="sbspelltype">Spell Type</span>
      <input type="text" name="attr_sbspelltypespell1" value="">
      <input type="text" name="attr_sbspelltypelvl1" value="">
      <input type="text" name="attr_sbspelltypespell2" value="">
      <input type="text" name="attr_sbspelltypelvl2" value="">
      <input type="text" name="attr_sbspelltypespell3" value="">
      <input type="text" name="attr_sbspelltypelvl3" value="">
      <input type="text" name="attr_sbspelltypespell4" value="">
      <input type="text" name="attr_sbspelltypelvl4" value="">
    </div>

    <div class="sbrowarea">
      <span class="sbarea">Area</span>
      <input type="text" name="attr_sbareaspell1" value="">
      <input type="text" name="attr_sbarealvl1" value="">
      <input type="text" name="attr_sbareaspell2" value="">
      <input type="text" name="attr_sbarealvl2" value="">
      <input type="text" name="attr_sbareaspell3" value="">
      <input type="text" name="attr_sbarealvl3" value="">
      <input type="text" name="attr_sbareaspell4" value="">
      <input type="text" name="attr_sbarealvl4" value="">
    </div>

    <div class="sbrowduration">
      <span class="sbduration">Duration</span>
      <input type="text" name="attr_sbduration1" value="">
      <input type="text" name="attr_sbdurationlvl1" value="">
      <input type="text" name="attr_sbduration2" value="">
      <input type="text" name="attr_sbdurationlvl2" value="">
      <input type="text" name="attr_sbduration3" value="">
      <input type="text" name="attr_sbdurationlvl3" value="">
      <input type="text" name="attr_sbduration4" value="">
      <input type="text" name="attr_sbdurationlvl4" value="">
    </div>

    <div class="sbrowrange">
      <span class="sbrange">Range</span>
      <input type="text" name="attr_sbrange1" value="">
      <input type="text" name="attr_sbrangelvl1" value="">
      <input type="text" name="attr_sbrange2" value="">
      <input type="text" name="attr_sbrangelvl2" value="">
      <input type="text" name="attr_sbrange3" value="">
      <input type="text" name="attr_sbrangelvl3" value="">
      <input type="text" name="attr_sbrange4" value="">
      <input type="text" name="attr_sbrangelvl4" value="">
    </div>

    <div class="sbrowmodifiers">
      <span class="sbmodifiers">Modifiers</span>
      <input type="text" name="attr_sbmodifiers1" value="">
      <input type="text" name="attr_sbmodifierslvl1" value="">
      <input type="text" name="attr_sbmodifiers2" value="">
      <input type="text" name="attr_sbmodifierslvl2" value="">
      <input type="text" name="attr_sbmodifiers3" value="">
      <input type="text" name="attr_sbmodifierslvl3" value="">
      <input type="text" name="attr_sbmodifiers4" value="">
      <input type="text" name="attr_sbmodifierslvl4" value="">
    </div>

      <fieldset class="repeating_spellbuildermodifiers">
          <div class="sbmodifiersfill">
            <input type="text" name="attr_sbmodifierleft" value="">
            <input type="text" name="attr_sbmodifiertext1" value="">
            <input type="text" name="attr_sbmodifier1" value="">
            <input type="text" name="attr_sbmodifiertext2" value="">
            <input type="text" name="attr_sbmodifier2" value="">
            <input type="text" name="attr_sbmodifiertext3" value="">
            <input type="text" name="attr_sbmodifier3" value="">
            <input type="text" name="attr_sbmodifiertext4" value="">
            <input type="text" name="attr_sbmodifier4" value="">
          </div>
      </fieldset>
  </div> <!-- close spell builder table? -->

</div> <!-- close dodaslayout tab, below close spells tab? -->
</div>

<!-- STORY FILL IN SECTION TAB -->

<div class="story">
<div class="dodaslayout">

  <div class="storychunk">
    <span class="storyHeader">Personality</span>
    <div class="personalityrow">
  <span class="storyDescriptorHeader">Appearance</span>
  <span class="storyDescriptorHeader">Demeanor</span>
  <span class="storyDescriptorHeader">Personality</span>
  <span class="storyDescriptorHeader">Quirks & Flaws</span>
    </div>
    <div class="personalityrow">
      <textarea type="text" name="attr_appearance" value=""></textarea>
    <textarea type="text" name="attr_demeanor" value=""></textarea>
    <textarea type="text" name="attr_personality" value=""></textarea>
    <textarea type="text" name="attr_quirksandflaws" value=""></textarea>
    </div>
  </div>

  <div class="storychunk">
  <span class="storyHeader">Motivations and Drive</span>
     <div class="personalityrow">
  <span class="storyDescriptorHeader">Motivation</span>
  <span class="storyDescriptorHeader">Connections & Tie-ins</span>
  <span class="storyDescriptorHeader">Reason to Adventure</span>
  <span class="storyDescriptorHeader">Ideals & Values</span>
    <textarea type="text" name="attr_motivation" value=""></textarea>
    <textarea type="text" name="attr_connections" value=""></textarea>
    <textarea type="text" name="attr_reasontoadventure" value=""></textarea>
    <textarea type="text" name="attr_ideals" value=""></textarea>
    </div>
  </div>

  <div class="storychunk">
<span class="storyHeader">Training & Skills</span>
     <div class="personalityrow">
  <span class="storyDescriptorHeader">Background Profession</span>
  <span class="storyDescriptorHeader">Learned From?</span>
  <span class="storyDescriptorHeader">Social Status</span>
  <span class="storyDescriptorHeader">Deeds or Achievements</span>
   <textarea type="text" name="attr_backgroundprofession" value=""></textarea>
   <textarea type="text" name="attr_trainingsource" value=""></textarea>
   <textarea type="text" name="attr_socialstatus" value=""></textarea>
   <textarea type="text" name="attr_deeds" value=""></textarea>
    </div>
  </div>

  <div class="storychunk">
<span class="storyHeader">Horror (Optional)</span>
    <div class="personalityrow">
  <span class="storyDescriptorHeader">Phobias</span>
  <span class="storyDescriptorHeader">Injuries and Scars</span>
  <span class="storyDescriptorHeader">Strange Encounters</span>
  <span class="storyDescriptorHeader">Treasured Possession</span>
  <textarea type="text" name="attr_Phobias" value=""></textarea>
  <textarea type="text" name="attr_injuriesandscars" value=""></textarea>
  <textarea type="text" name="attr_strangeencounters" value=""></textarea>
  <textarea type="text" name="attr_treasuredpossession" value=""></textarea>
  </div>
  </div>

</div> <!-- close dodaslayour -->
</div> <!-- end STORY section -->


<div class="pointstab">
  <div class="dodaslayout">

    <!-- POINT BUY SPENT TABLE -->

    <div class="pointbuytable">
      <div class="pointbuytabletitlerow">
        <span class="pbtpointsspent">

          <div class="box">
            <a class="button" href="#popup-pointbuytotalspopuppointstab">Point Buy Totals</a>
          </div> <!-- close box -->
          <div id="popup-pointbuytotalspopuppointstab" class="overlay">
            <div class="popup">
              <h2>Point Buy Totals</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p>This table is used to keep track of your characters points spent, as well as the <strong>Total Value</strong> of your character, from miscellaneous other factors, like extra equipment or magic gear.
                            </p>
                                    </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <span class="pbtpoints">Total</span>
        <span class="pbtUnspent">Unspent</span>
        <span class="pbtSpent">Spent</span>
        <span class="pbtNegative">Negative</span>
        <span class="pbtnotes">Notes</span>
      </div>
      <div class="pointbuytablerow">
        <span class="pbtAttributes">Attributes</span>
        <input type="text" name="attr_pbattributestotals" value=""> <!-- TOTALS -->
        <input type="text" name="attr_pbattributesspent" value="">
        <input type="text" name="attr_pbattributesunspent" value="">
        <input type="text" name="attr_pbattributesnegative" value="">
        <input type="text" name="attr_pbattributesnotes" value="">
      </div>
      <div class="pointbuytablerow">
        <span class="pbtSkillTable">Combat Skills</span> <!-- COMBAT SKILLS -->
        <input type="text" name="attr_pbcombatskillstotals" value=""> <!-- TOTALS -->
        <input type="text" name="attr_pbCombatSkillsUnspent" value="">
        <input type="text" name="attr_pbCombatSkillsSpent" value="">
        <input type="text" name="attr_pbCombatSkillsNegative" value="">
        <input type="text" name="attr_pbSkillTableNotes" value="">
      </div>

      <div class="pointbuytablerow">
        <span class="pbtSkillTable">Adventuring Skills</span>
        <input type="text" name="attr_pbadventuringskillstotals" value=""> <!-- TOTALS -->
        <input type="text" name="attr_pbNonCombatSkillsUnspent" value="">
        <input type="text" name="attr_pbNonCombatSkillsSpent" value="">
        <input type="text" name="attr_pbNonCombatSkillsNegative" value="">
        <input type="text" name="attr_pbNonCombatSkillsNotes" value="">
      </div>

      <div class="pointbuytablerow">
        <span class="pbtSkillTable">Equipment</span>
        <input type="text" name="attr_pbequipmenttotals" value=""> <!-- TOTALS -->
        <input type="text" name="attr_pbEquipmentUnspent" value="">
        <input type="text" name="attr_pbEquipmentSpent" value="">
        <input type="text" name="attr_pbEquipmentNegative" value="">
        <input type="text" name="attr_pbEquipmentNotes" value="">
      </div>

      <div class="pointbuytablerow">
        <span class="pbtPowersandAbilities">Magic Skills</span> <!-- Magic Skills -->
        <input type="text" name="attr_pbpowersandabilitiestotals" value=""> <!-- TOTALS -->
        <input type="text" name="attr_pbMagicSkillsTotal" value="">
        <input type="text" name="attr_pbMagicSkillsUnspent" value="">
        <input type="text" name="attr_pbMagicSkillsSpent" value="">
        <input type="text" name="attr_pbMagicSkillsNegative" value="">
      </div>

      <div class="pointbuytablerow">
        <span class="pbtSkillTable">Spells Learned</span>
        <input type="text" name="attr_pbspellslearnedtotals" value=""> <!-- TOTALS -->
        <input type="text" name="attr_pbSpellsLearnedUnspent" value="">
        <input type="text" name="attr_pbSpellsLearnedSpent" value="">
        <input type="text" name="attr_pbSpellsLearnedNegative" value="">
        <input type="text" name="attr_pbSpellsLearnedNotes" value="">
      </div>

      <div class="pointbuytablerow">
        <span class="pbtSkillTable">Adv./Disadvantages</span>
        <input type="text" name="attr_pbadvdisadvantagestotals" value=""> <!-- TOTALS -->
        <input type="text" name="attr_pbAdvDisadvantagesUnspent" value="">
        <input type="text" name="attr_pbAdvDisadvantagesSpent" value="">
        <input type="text" name="attr_pbAdvDisadvantagesNegative" value="">
        <input type="text" name="attr_pbAdvDisadvantagesNotes" value="">
      </div>

      <div class="pointbuytablerow">
        <span class="pbtOther">Other</span>
        <input type="text" name="attr_pbothertotals" value=""> <!-- TOTALS -->
        <input type="text" name="attr_pbOtherUnspent" value="">
        <input type="text" name="attr_pbOtherSpent" value="">
        <input type="text" name="attr_pbOtherNegative" value="">
        <input type="text" name="attr_pbOtherNotes" value="">
      </div>

      <div class="pointbuytabletotalrow">
        <span class="pbtTotal">TOTAL Character Points</span>
        <input type="text" class="pbtbold" name="attr_pbtotaloverall" value=""> <!-- TOTALS -->
        <input type="text" name="attr_pbTotalUnspent" value="">
        <input type="text" name="attr_pbTotalSpent" value="">
        <input type="text" name="attr_pbTotalNegative" value="">
        <input type="text" name="attr_pbTotalNotes" value="">
      </div>

      <div class="pointbuytablerow">
        <span class="pbtSkillTable">

          <div class="box">
            <a class="button" href="#popup-combatantbasevaluepopuppointstab">Combatant Base Value</a>
          </div> <!-- close box -->
          <div id="popup-combatantbasevaluepopuppointstab" class="overlay">
            <div class="popup">
              <h2>Combatant Base Value</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p>Each combatant in a fight, including enemy combatants, has a <strong>Base Value of 30 points</strong>. This is factored into the total, to help balance encounters on both sides. Each combatant gets 4 Action Points (AP) for "free", as well as some starting armor and equipment. The base value factors this in. Even a perfectly average person can deal damage and contribute in combat.
                  <br><br>
                  The <strong>Combatants and Monster</strong> Rules have a full explanation on balancing encounters.
                            </p>
                                    </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>


        <input type="text" name="attr_pbcombatbasevalue" value="30"> <!-- TOTALS -->
        <input type="text" name="attr_pbcombatbasevalueUnspent" value="">
        <input type="text" name="attr_pbcombatbasevalueSpent" value="">
        <input type="text" name="attr_pbcombatbasevalueNegative" value="">
        <input type="text" name="attr_pbcombatbasevalueNotes" value="">
      </div>

      <div class="pointbuytablerow">
        <span class="pbtSkillTable">

          <div class="box">
            <a class="button" href="#popup-halfadventuringskillspopuppointstab">-1/2 Adventuring Skills</a>
          </div> <!-- close box -->
          <div id="popup-halfadventuringskillspopuppointstab" class="overlay">
            <div class="popup">
              <h2>-1/2 Adventuring Skills</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p>Adventuring Rolls <strong>can</strong> play a roll in combat, but not as often or directly as <strong>Combat Skills</strong>, Attributes, and Combat Points. Particularly skills like Stealth, Perception, Enemy Detection, Mobility, Climb, Intimidate, Taunt, and even Medicine.
                  <br><br>
                  Half the point value total spent in adventuring skills is a very abstract representation of their usefulness in combat. Sometimes it will be more balanced than others, but it's important to factor in. As a GM, you'll have to use some common sense and understanding of tactics for final balance considerations.
                            </p>
                                    </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <input type="text" name="attr_pbhalfnoncombatskillstotal" value=""> <!-- TOTALS -->
        <input type="text" name="attr_pbHalfNonCombatSkillsUnspent" value="">
        <input type="text" name="attr_pbHalfNonCombatSkillsSpent" value="">
        <input type="text" name="attr_pbHalfNonCombatSkillsNegative" value="">
        <input type="text" name="attr_pbHalfNonCombatSkillsNotes" value="">
      </div>

      <div class="pointbuytablerow">
        <span class="pbtSkillTable">

          <div class="box">
            <a class="button" href="#popup-miscellaneousmodifierspopuppointspointstab">Misc. Modifiers</a>
          </div> <!-- close box -->
          <div id="popup-miscellaneousmodifierspopuppointspointstab" class="overlay">
            <div class="popup">
              <h2>Miscellaneous Modifiers</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p>Track anything else that might add value to the combat. Most categories are covered above, but perhaps things like: favorable terrain, group synergy in numbers, effectiveness vs. the party, etc. Usually, these will be more abstract, but the input field is here in case you need it.
                                        </p>
                                    </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <input type="text" name="attr_pbmiscmodtotals" value=""> <!-- TOTALS -->
        <input type="text" name="attr_pbMiscModUnspent" value="">
        <input type="text" name="attr_pbMiscModSpent" value="">
        <input type="text" name="attr_pbMiscModNegative" value="">
        <input type="text" name="attr_pbMiscModNotes" value="">
      </div>

      <div class="pointbuytabletotalrow">
        <span class="pbtTotal">

          <div class="box">
            <a class="button" href="#popup-combatencountervaluepopuppointstab">Combat Encounter Value</a>
          </div> <!-- close box -->
          <div id="popup-combatencountervaluepopuppointstab" class="overlay">
            <div class="popup">
              <h2>Combat Encounter Value</h2>
              <a class="close" href="#">×</a>
              <div class="content">
                <p>This is the final value each combatant adds to the encounter difficulty level. Add up all combatants on each side, and compare their totals.
                  <br><br>
                  The <strong>Enemy 'Combat Encounter Value' Total</strong> vs. the parties, is approximately the following challenge level:
                  <ul>
                    <li><strong>1/4 or less: Trivial</strong></li>
                    <li><strong>1/3: Easy</strong></li>
                    <li><strong>1/2: Mild</strong></li>
                    <li><strong>2/3 to 3/4: Moderate to Hard</strong></li>
                    <li><strong>Equal to Party: Deadly</strong></li>
                    <li><strong>Above Party: Overwhelming!</strong></li>
                                        </p>
                                    </div> <!-- close content -->
            </div> <!-- close popup -->
          </div> <!-- close popup1 id overlay -->
          </span>

        <input type="text" class="pbtbold" name="attr_pbcombatencountervaluetotals" value=""> <!-- TOTALS -->
        <input type="text" name="attr_pbCombatEncounterValueUnspent" value="">
        <input type="text" name="attr_pbCombatEncounterValueSpent" value="">
        <input type="text" name="attr_pbCombatEncounterValueNegative" value="">
        <input type="text" name="attr_pbCombatEncounterValueNotes" value="">
      </div>

    </div>




</div> <!-- close dodaslayout -->
</div> <!-- close pointstab ? -->



<!-- INVENTORY TAB -->

<div class="inventorytabsection">
  <div class="dodaslayout">

    <div class="inventorytable">
        <div class="inventorytabletoprow">
             <span class="inventorytableinventoryword">

               <div class="box">
                 <a class="button" href="#popup-inventorytabletitlepopuptab">Inventory</a>
               </div> <!-- close box -->
               <div id="popup-inventorytabletitlepopuptab" class="overlay">
                 <div class="popup">
                   <h2>Inventory</h2>
                   <a class="close" href="#">×</a>
                   <div class="content">
                     <p>Used to track belongings, gold, ammunition, equipment, extra loot, etc.
                       <br><br>
                       Exact mechanics on how weight, bulk, mobility, AP Mod, etc. factor into gameplay and encumbrance are still being worked, typed up, and still need playtesting. For now, more values than potentially are necessary are present on the table, in case they're helpful.
                                 </p>
                                         </div> <!-- close content -->
                 </div> <!-- close popup -->
               </div> <!-- close popup1 id overlay -->
               </span>

             <span class="inventorytableamount">Amount</span>
             <span class="inventorytableweightword">Weight</span>
             <span class="inventorytablebulkword">Bulk</span>
             <span class="inventorytablemobilityword">Mobility</span>
             <span title="Action Points Modifier" class="inventorytableapmodword">AP Mod</span>
             <span class="inventoryequippedword">Equipped</span>
             <span class="inventorynotesword">Notes</span>
        </div>
        <fieldset class="repeating_inventorytableitemrepeats">
        <div class="inventorytablerepeatinginputsrow">
        <input type="text" class="inventorytitlestyle" name="attr_inventorytableitem" value="">
        <input type="number" name="attr_inventorytableamount" value="">
        <input type="text" name="attr_inventorytableweight" value="">
        <input type="text" name="attr_inventorytablebulk" value="">
        <input type="text" name="attr_inventorytablemobiliy" value="">
        <input type="text" name="attr_inventorytableapmod" value="">
        <input type="checkbox" name="attr_inventoryequippedcheck" value="inventoryequipped">
        <input type="text" name="attr_inventorynotes" value="">
            </div>
            </fieldset>
        <div class="inventorytotalsrow">
            <span class="inventorytabletotalsword">Totals</span>
            <input type="text" name="attr_inventorytotalsamount" value="">
            <input type="text" name="attr_inventorytableweighttotal" value="">
            <input type="text" name="attr_inventorytablebulktotal" value="">
            <input type="text" name="attr_inventorytablemobilitytotal" value="">
            <input type="text" name="attr_inventorytableapmodtotal" value="">
            <input type="text" name="attr_inventorytableequippedtotal" value="">
            <input type="text" name="attr_inventorytotalsnotes" value="">
        </div>
    </div>

</div> <!-- close DODASLAYOUT -->
</div> <!-- close points tab -->



<!--
</div>   everything????? -->






<!--custom ROLL TEMPLATES -->
			<rolltemplate class="sheet-rolltemplate-dodas">
			<table>
			    <caption>{{name}}</caption>
			    {{#allprops() }}
			       <tr><td>{{key}}</td><td>{{value}}</td>
			    {{/allprops() }}
			</table>
</rolltemplate>


<rolltemplate class="sheet-rolltemplate-dodas1"> <!-- change to dodasattack -->
  <div class="container">
  <div class="fakeheader">
      <span class="titleweapon">{{name}}</span>
      <span class="subheader">{{subtags}}</span>
      </div>
  <div class="tableevenrow">
      <span class="attackdodas1">{{diceADroll}}</span>
      <span class="attackresultsdodas1">{{attackdatadodas1}}</span>
  </div>
  <div class="tableoddrow">
      <span label="opponent gets defensive bonuses if reach exceeds yours" class="reachdodas1">Weapon Reach</span>
      <span class="reachresultsdodas1">{{reachdatadodas1}}</span>
  </div>
  <div class="tableevenrow">
      <span class="mosdodas1">{{mosorparryblock}}</span>
      <span class="mosbuttonsdodas1">{{mosbuttonsdata}}</span>
  </div>
  <div class="tableoddrow">
      <span class="notesdodas1">Notes</span>
      <span class="notesresultsdodas1">{{notesdatadodas1}}</span>
  </div>
  </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-dodasdefense">
  <div class="container">
  <div class="fakeheader">
      <span class="titleweapon">{{name}}</span>
      <span class="subheader">{{subtags}}</span>
      </div>
  <div class="tableevenrow">
      <span class="attackdodas1">{{diceADroll}}</span>
      <span class="attackresultsdodas1">{{attackdatadodas1}}</span>
  </div>
  <div class="tableoddrow">
      <span label="gives defensive bonuses relative to reach of opponent" class="reachdodas1">Weapon Reach</span>
      <span class="reachresultsdodas1">{{reachdatadodas1}}</span>
  </div>
  <div class="tableevenrow">
      <span label="do you have advantage or not to block or parry?" class="mosdodas1">{{mosorparryblock}}</span>
      <span class="mosbuttonsdodas1">{{mosbuttonsdata}}</span>
  </div>
  <div class="tableoddrow">
      <span class="notesdodas1">Notes</span>
      <span class="notesresultsdodas1">{{notesdatadodas1}}</span>
  </div>
  </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-dodasranged">
  <div class="container">
  <div class="fakeheader">
      <span class="titleweapon">{{name}}</span>
      <span class="subheader">{{subtags}}</span>
      </div>
  <div class="tableevenrow">
      <span class="attackdodasranged">Attack Roll</span>
      <span class="attackresultsdodasranged">{{attackdatadodasranged}}</span>
  </div>
  <div class="tableoddrow">
      <span label="how many spaces per - modifier" class="incrementdodasranged">Range Penalty</span>
      <span class="incrementvaluedodasranged">{{incrementdodasranged}}</span>
  </div>
  <div class="tableevenrow">
      <span label="how much of the range penalty is ignored" class="accuracydodasranged">Accuracy</span>
      <span class="accuracydatadodasranged">{{accuracyranged}}</span>
  </div>
  <div class="tableoddrow">
      <span label="extra dmg from rolling higher than defender. click one" class="mosdodasranged">MoS Dmg</span>
      <span class="mosbuttonsdodasranged">{{rangedmosbuttonsdata}}</span>
  </div>
  <div class="tableevenrow">
      <span label="how much armor DR is ignored. All or nothing." class="pendodasranged">Penetration</span>
      <span class="penvaluedodasranged">{{pendodasranged}}</span>
  </div>
  <div class="tableoddrow">
      <span class="notesdodasranged">Notes</span>
      <span class="notesresultsdodasranged">{{notesdatadodasranged}}</span>
  </div>
  </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-dodasmosdmg">
<div class="container">
<div class="fakeheader">
    <span class="titleweapon">{{name}}</span>
    <span class="subheader">{{subtags}}</span>
    </div>
<div class="tableevenrow">
    <span label="damage rolled + base weapon damage" class="damagedodasdmg">Damage =</span>
    <span class="damageresultsdodasdmg">{{damageMoStotalsdodasdmg}}</span>
</div>
<div class="tableoddrow">
    <span class="mosamountspan">{{MoSAmount}}</span>
    <span class="MoSexplainerspan">{{MoSExplainer}}</span>
    </div>
<div class="tabledicerow">
    <span class="headshotdodasdmg">Headshot?{{headshotdmgbutton}}</span>
    <span label="was it a critical hit from 2 6's?" class="criticaldodasdmg">Critical?{{criticialhitdmgbutton}}</span>
    <span label="are you choosing to reroll 1 die?" class="rerolldiedodasdmg">Reroll?{{rerolldiedmgbutton}}</span>
</div>

</div>


</div>
</rolltemplate>

<!-- extra damage headshot, crit, or reroll -->
<rolltemplate class="sheet-rolltemplate-dodasdmgextra">
  <div class="container">
    <div class="tableevenrow">
        <span class="damageresultsMoSdodasdmg">{{extradmgdodasdmg}}</span>
        <span class="damageMoSdodasdmg">Extra Damage</span>
    </div>

  </div>
</rolltemplate>


<!-- ranged attack template -->


<!-- skill roll template(s) -->
<rolltemplate class="sheet-rolltemplate-dodasadventureskills">
  <div class="container">

    <div class="skilltemplateheaderrow">
      <div class="skilltemplateheader">
        {{#strengthattribute}}
          <span class="templateskillname">{{strengthattribute}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/ST%20icon.png?raw=true"></span>
        {{/strengthattribute}}

      {{#knowledgeskill}}
        <span class="templateskillname">{{knowledgeskill}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/bookmarklet.png?raw=true"></span>
      {{/knowledgeskill}}

      {{#mobilityskill}}
        <span class="templateskillname">{{mobilityskill}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/run.png?raw=true"></span>
      {{/mobilityskill}}

      {{#mechanicaldevicesskill}}
        <span class="templateskillname">{{mechanicaldevicesskill}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/key-lock.png?raw=true"></span>
      {{/mechanicaldevicesskill}}

      {{#medicineskill}}
        <span class="templateskillname">{{medicineskill}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/caduceus.png?raw=true"></span>
      {{/medicineskill}}

      {{#perceptionskill}}
        <span class="templateskillname">{{perceptionskill}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/eye-target.png?raw=true"></span>
      {{/perceptionskill}}

      {{#professionskill}}
        <span class="templateskillname">{{professionskill}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/village.png?raw=true"></span>
      {{/professionskill}}

      {{#socialskill}}
        <span class="templateskillname">{{socialskill}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/shaking-hands.png?raw=true"></span>
      {{/socialskill}}

      {{#socialwitsskill}}
        <span class="templateskillname">{{socialwitsskill}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/think.png?raw=true"></span>
      {{/socialwitsskill}}

      {{#socialpersonalityskill}}
        <span class="templateskillname">{{socialpersonalityskill}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/confrontation.png?raw=true"></span>
      {{/socialpersonalityskill}}

      {{#strengthskill}}
        <span class="templateskillname">{{strengthskill}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/muscle-up.png?raw=true"></span>
      {{/strengthskill}}

      {{#survivalskill}}
        <span class="templateskillname">{{survivalskill}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/hiking.png?raw=true"></span>
      {{/survivalskill}}

      {{#survivaloutdoorsskill}}
        <span class="templateskillname">{{survivaloutdoorsskill}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/forest-camp.png?raw=true"></span>
      {{/survivaloutdoorsskill}}

      {{#survivalurbanskill}}
        <span class="templateskillname">{{survivalurbanskill}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/medieval-gate.png?raw=true"></span>
      {{/survivalurbanskill}}

        <span class="templateskillcharactername">{{subtags}}</span>
      </div>
    </div> <!-- close 3 column grid thing -->

    <div class="skilltemplatebottomrow">
      <div class="skilltemplaterollplus">
          <span class="skilltemplaterollplusname">Roll + {{adventureskillmodifier}} =</span>
      </div>
          <div class="skilltemplatediceroll">
            <span class="bignumber">{{adventurerolltotal}}</span>
          </div>
    </div> <!-- close 2 columns -->

  </div><!-- rolltemplate -->
</rolltemplate><!-- actual rolltemplate -->

  <!-- ATTRIBUTES Roll Template -->
  <rolltemplate class="sheet-rolltemplate-dodasattributerolls">
    <div class="container">

      <div class="skilltemplateheaderrow">
        <div class="skilltemplateheader">
          {{#strengthattribute}}
            <span class="templateskillname">{{strengthattribute}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/ST%20icon.png?raw=true"></span>
          {{/strengthattribute}}

          {{#agilityattribute}}
            <span class="templateskillname">{{agilityattribute}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/AGI%20Icon.png?raw=true"></span>
          {{/agilityattribute}}

          {{#toughnessattribute}}
            <span class="templateskillname">{{toughnessattribute}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/TH%20Icon.png?raw=true"></span>
          {{/toughnessattribute}}

          {{#sizeattribute}}
            <span class="templateskillname">{{sizeattribute}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/SZ%20Icon.png?raw=true"></span>
          {{/sizeattribute}}

          {{#willpowerattribute}}
            <span class="templateskillname">{{willpowerattribute}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/WP%20Icon.png?raw=true"></span>
          {{/willpowerattribute}}

          {{#witattribute}}
            <span class="templateskillname">{{witattribute}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/WT%20Icon.png?raw=true"></span>
          {{/witattribute}}

          {{#intelligenceattribute}}
            <span class="templateskillname">{{intelligenceattribute}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/INT%20Icon.png?raw=true"></span>
          {{/intelligenceattribute}}

          {{#powerattribute}}
            <span class="templateskillname">{{powerattribute}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/power%20icon%20white%20border.png?raw=true"></span>
          {{/powerattribute}}

          {{#moveattribute}}
            <span class="templateskillname">{{moveattribute}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/Move%20Icon%20whit%20border.png?raw=true"></span>
          {{/moveattribute}}

          {{#bodyattribute}}
            <span class="templateskillname">{{bodyattribute}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/BD%20Icon%20white%20border.png?raw=true"></span>
          {{/bodyattribute}}

          {{#knockdownattribute}}
            <span class="templateskillname">{{knockdownattribute}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/KN%20Icon%20white%20border.png?raw=true"></span>
          {{/knockdownattribute}}

          {{#knockoutattribute}}
            <span class="templateskillname">{{knockoutattribute}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/KO%20Icon%20white%20border.png?raw=true"></span>
          {{/knockoutattribute}}

          {{#reflexattribute}}
            <span class="templateskillname">{{reflexattribute}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/AP%20Icon%20white%20border.png?raw=true"></span>
          {{/reflexattribute}}





          <span class="templateskillcharactername">{{subtags}}</span>
        </div>
      </div> <!-- close 3 column grid thing -->

      <div class="skilltemplatebottomrow">
        <div class="skilltemplaterollplus">
            <span class="skilltemplaterollplusname">Roll + {{adventureskillmodifier}} =</span>
        </div>
            <div class="skilltemplatediceroll">
              <span class="bignumber">{{adventurerolltotal}}</span>
            </div>
      </div> <!-- close 2 columns -->

    </div><!-- rolltemplate -->
  </rolltemplate><!-- actual rolltemplate -->


  <!-- LUCK SANITY Roll Template -->
  <rolltemplate class="sheet-rolltemplate-dodaslucksanityrolls">
    <div class="container">

      <div class="skilltemplateheaderrow">
        <div class="skilltemplateheader">


          {{#luckattribute}}
            <span class="templateskillname">{{luckattribute}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/clover-ps_d.png?raw=true"></span>
          {{/luckattribute}}

          {{#sanityattribute}}
            <span class="templateskillname">{{sanityattribute}}<img class="REFImg" src="https://imgsrv.roll20.net?src=https%3A//github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/terror.png%3Fraw%3Dtrue"></span>
          {{/sanityattribute}}



          <span class="templateskillcharactername">{{subtags}}</span>
        </div>
      </div> <!-- close 3 column grid thing -->

      <div class="skilltemplatebottomrow">
        <div class="skilltemplaterollplus">
            <span class="skilltemplaterollplusname">Roll + {{adventureskillmodifier}} =</span>
        </div>
            <div class="skilltemplatediceroll">
              <span class="bignumber">{{adventurerolltotal}}</span>
            </div>
      </div> <!-- close 2 columns -->

    </div><!-- rolltemplate -->
  </rolltemplate><!-- actual rolltemplate -->





  <!-- SPECIAL ROLLS Roll Template -->

  <rolltemplate class="sheet-rolltemplate-dodasspecialrolls">
    <div class="container">

      <div class="skilltemplateheaderrow">
        <div class="skilltemplateheader">
          {{#bloodlossicon}}
            <span class="templateskillname">{{bloodlossicon}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/BL_140.png?raw=true"></span>
          {{/bloodlossicon}}

          {{#powerspecialicon}}
            <span class="templateskillname">{{powerspecialicon}}<img class="REFImg" src="https://imgsrv.roll20.net?src=https%3A//github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/power%2520icon%2520white%2520border.png%3Fraw%3Dtrue"></span>
          {{/powerspecialicon}}

          {{#knockdownspecialicon}}
            <span class="templateskillname">{{knockdownspecialicon}}<img class="REFImg" src="https://imgsrv.roll20.net?src=https%3A//github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/KN%2520Icon%2520white%2520border.png%3Fraw%3Dtrue"></span>
          {{/knockdownspecialicon}}

          {{#knockoutspecialicon}}
            <span class="templateskillname">{{knockoutspecialicon}}<img class="REFImg" src="https://imgsrv.roll20.net?src=https%3A//github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/KO%2520Icon%2520white%2520border.png%3Fraw%3Dtrue"></span>
          {{/knockoutspecialicon}}

          <span class="templateskillcharactername">{{subtags}}</span>
        </div>
      </div> <!-- close 3 column grid thing -->

      <div class="skilltemplatebottomrow">
        <div class="skilltemplaterollplus">
            <span class="skilltemplaterollplusname">1d6 + {{adventureskillmodifier}} =</span>
        </div>
            <div class="skilltemplatediceroll">
              <span class="bignumber">{{adventurerolltotal}}</span>
            </div>
      </div> <!-- close 2 columns -->

    </div><!-- rolltemplate -->
  </rolltemplate><!-- actual rolltemplate -->

  <!-- BLOOD LOSS Roll Template -->

  <rolltemplate class="sheet-rolltemplate-dodasbloodloss">
    <div class="container">

      <div class="skilltemplateheaderrow">
        <div class="skilltemplateheader">
          {{#bloodlossicon}}
            <span class="templateskillname">{{bloodlossicon}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/BL_140.png?raw=true"></span>
          {{/bloodlossicon}}

          {{#resolveicon}}
            <span class="templateskillname">{{resolveicon}}<img class="REFImg" src="https://github.com/danimagaming/ForgeofSteelRoll20beta/blob/main/resolve-purple-and-gradient.png?raw=true"></span>
          {{/resolveicon}}

          <span class="templateskillcharactername">{{subtags}}</span>
        </div>
      </div> <!-- close 3 column grid thing -->

      <div class="skilltemplatebottomrow">
        <div class="skilltemplaterollplus">
            <span class="skilltemplaterollplusname">Roll 1d6:</span>
        </div>
            <div class="skilltemplatediceroll">
              <span class="bignumber">{{adventurerolltotal}}</span>
            </div>
      </div> <!-- close 2 columns -->

    </div><!-- rolltemplate -->
  </rolltemplate><!-- actual rolltemplate -->


<!-- sheetworkers -->

<script type="text/worker">

//GiG repeating sections thing
  /* ===== PARAMETERS ==========
  destinations = the name of the attribute that stores the total quantity
          can be a single attribute, or an array: ['total_cost', 'total_weight']
          If more than one, the matching fields must be in the same order.
      section = name of repeating fieldset, without the repeating_
      fields = the name of the attribute field to be summed
            destination and fields both can be a single attribute: 'weight'
            or an array of attributes: ['weight','number','equipped']
  */
  const repeatingSum = (destinations, section, fields) => {
      if (!Array.isArray(destinations)) destinations = [destinations.replace(/\s/g, '').split(',')];
      if (!Array.isArray(fields)) fields = [fields.replace(/\s/g, '').split(',')];
      getSectionIDs(`repeating_${section}`, idArray => {
          const attrArray = idArray.reduce((m, id) => [...m, ...(fields.map(field => `repeating_${section}_${id}_${field}`))], []);
          getAttrs([...attrArray], v => {
              const getValue = (section, id, field) => v[`repeating_${section}_${id}_${field}`] === 'on' ? 1 : parseFloat(v[`repeating_${section}_${id}_${field}`]) || 0;
              const commonMultipliers = (fields.length <= destinations.length) ? [] : fields.splice(destinations.length, fields.length - destinations.length);
              const output = {};
              destinations.forEach((destination, index) => {
                  output[destination] = idArray.reduce((total, id) => total + getValue(section, id, fields[index]) * commonMultipliers.reduce((subtotal, mult) => subtotal * getValue(section, id, mult), 1), 0);
              });
              setAttrs(output);
          });
      });
  };

//TAB BUTTONS
       const buttonlist = ["allsection","wepnstab","skillsandpoints","spellstab","story","pointstab","inventorytabsection"];
       buttonlist.forEach(button => {
           on(`clicked:${button}`, function() {
               setAttrs({
                   sheetTab: button
               });
           });

       });


    on("change:agility change:wit sheet:opened", function () {
        getAttrs([
            "agility", "wit"
        ], function (values) {
            // Reflex
            let ag = +values.agility || 0;
            let wt = +values.wit || 0;
            let total = ag + wt;
            setAttrs({reflex: total});
        });
    });

    on("change:agility change:wit sheet:opened", function () {
        getAttrs([
            "agility", "wit"
        ], function (values) {
            // Action Points
            let ag = +values.agility || 0;
            let wt = +values.wit || 0;
            let total = 4 + ag + wt;
            setAttrs({actionpoints: total});
        });
    });

    on("change:strength change:agility sheet:opened", function () {
        getAttrs([
            "strength", "agility"
        ], function (values) {
            // Knockdown
            let st = +values.strength || 0;
            let ag = +values.agility || 0;
            let total = st + ag;
            setAttrs({knockdown: total});
        });
    });

    on("change:toughness change:willpower sheet:opened", function () {
        getAttrs([
            "toughness", "willpower"
        ], function (values) {
            // Knockout
            let tg = +values.toughness || 0;
            let wp = +values.willpower || 0;
            let total = tg + wp;
            setAttrs({knockout: total});
        });
    });

    on("change:strength change:size sheet:opened", function () {
        getAttrs([
            "strength", "size"
        ], function (values) {
            // Power
            let st = +values.strength || 0;
            let sz = +values.size || 0;
            let total = st + sz;
            setAttrs({power: total});
        });
    });


    on("change:toughness change:size sheet:opened", function () {
        getAttrs([
            "toughness", "size"
        ], function (values) {
            // Body
            let tg = +values.toughness || 0;
            let sz = +values.size || 0;
            let total = tg + sz;
            setAttrs({body: total});
        });
    });
/*
    on("change:body sheet:opened", function () {
        getAttrs(["body"], function (values) {
            // Passive Perception
            let bd = +values.body || 0;
            let total = 0 + bd;
            setAttrs({repeating_armor_armortablebody: total});
        });
      });

*/
    on("change:agility change:size sheet:opened", function () {
        getAttrs([
            "agility", "size"
        ], function (values) {
            // Move
            let ag = +values.agility || 0;
            let sz = +values.size || 0;
            let total = 5 + ag + sz;
            setAttrs({movement: total});
        });
    });

    on("change:size sheet:opened", function () {
        getAttrs(["size"], function (values) {
            // Ranged DC Still
            let sz = +values.size || 0;
            let total = 9 - sz;
            setAttrs({rangedcstill: total});
        });
    });

    on("change:size sheet:opened", function () {
        getAttrs(["size"], function (values) {
            // Ranged DC Moving
            let sz = +values.size || 0;
            let total = 12 - sz;
            setAttrs({rangedcmoving: total});
        });
    });

    on("change:perception sheet:opened", function () {
        getAttrs(["perception"], function (values) {
            // Passive Perception
            let pr = +values.perception || 0;
            let total = 7 + pr + pr;
            setAttrs({passiveperception: total});
        });
      });

// Damage Reduction TOTALS AUTO CALCULATE
    //DR Cutting total
      on("change:repeating_armor:armortablebody change:repeating_armor:armorvalue sheet:opened", function () {
          getAttrs(["repeating_armor_armorvalue",
          "repeating_armor_armortablebody"], function (values) {
              // DR calculations
              let columnbody = +values.repeating_armor_armortablebody || 0;
              let columnav = +values.repeating_armor_armorvalue || 0;
              let total = columnbody + columnav;
              setAttrs({repeating_armor_damagereduction: total});
          });
    });

    //DR Piercing total
          on("change:repeating_armor:armortablebody change:repeating_armor:atP sheet:opened", function () {
          getAttrs(["repeating_armor_atP",
          "repeating_armor_armortablebody"], function (values) {
              // DR calculations
              let columnbody = +values.repeating_armor_armortablebody || 0;
              let columnav = +values.repeating_armor_atP || 0;
              let total = columnbody + columnav;
              setAttrs({repeating_armor_attP: total});
          });
    });

    //DR Blunt total
          on("change:repeating_armor:armortablebody change:repeating_armor:atB sheet:opened", function () {
          getAttrs(["repeating_armor_atB",
          "repeating_armor_armortablebody"], function (values) {
              // DR calculations
              let columnbody = +values.repeating_armor_armortablebody || 0;
              let columnav = +values.repeating_armor_atB || 0;
              let total = columnbody + columnav;
              setAttrs({repeating_armor_attB: total});
          });
    });





    //DR Energy total
          on("change:repeating_armor:armortablebody change:repeating_armor:atE sheet:opened", function () {
          getAttrs(["repeating_armor_atE",
          "repeating_armor_armortablebody"], function (values) {
              // DR calculations
              let columnbody = +values.repeating_armor_armortablebody || 0;
              let columnav = +values.repeating_armor_atE || 0;
              let total = columnbody + columnav;
              setAttrs({repeating_armor_attE: total});
          });
    });

    //ARMOR TABLE stuff
     on("change:repeating_armor:armortablebody change:repeating_armor:atE sheet:opened", function () {
          getAttrs(["repeating_armor_atE",
          "repeating_armor_armortablebody"], function (values) {
              // DR calculations
              let columnbody = +values.repeating_armor_armortablebody || 0;
              let columnav = +values.repeating_armor_atE || 0;
              let total = columnbody + columnav;
              setAttrs({repeating_armor_attE: total});
          });
    });



    //Auto calculate resolve table
       //get resolve and toughness number
   on("change:willpower sheet:opened", function () {
        getAttrs([
            "willpower"
        ], function (values) {
            // Knockout
            let wp = +values.willpower || 0;
            let total = wp;
            setAttrs({resolvewillpowernumber: total});
        });
    });

    on("change:toughness sheet:opened", function () {
        getAttrs([
            "toughness"
        ], function (values) {
            // Knockout
            let th = +values.toughness || 0;
            let total = th;
            setAttrs({fatiguetoughnessnumber: total});
        });
    });

        //set TOTAL WP
    on("change:resolvewillpowernumber change:resolvestartnumber sheet:opened", function () {
        getAttrs([
            "resolvewillpowernumber", "resolvestartnumber"
        ], function (values) {
            // Knockout
            let wptotal = +values.resolvewillpowernumber || 0;
            let wpfree = +values.resolvestartnumber || 0;
            let total = wptotal + wpfree;
            setAttrs({resolvemaxnumber: total});
        });
    });

        //set fatigue TOTAL
    on("change:fatiguetoughnessnumber change:fatiguestartnumber sheet:opened", function () {
        getAttrs([
            "fatiguetoughnessnumber", "fatiguestartnumber"
        ], function (values) {
            // Knockout
            let thatr = +values.fatiguetoughnessnumber || 0;
            let ftfree = +values.fatiguestartnumber || 0;
            let total = thatr + ftfree;
            setAttrs({fatiguemaxnumber: total});
        });
    });

    //Auto calculate initiative table
        //get REFLEX value
    on("change:reflex sheet:opened", function () {
        getAttrs([
            "reflex"
        ], function (values) {
            let rf = +values.reflex || 0;
            let total = rf;
            setAttrs({initiativereflexnumber: total});
        });
    });

    on("change:initiativereflexnumber change:initiativeskillnumber sheet:opened", function () {
        getAttrs([
            "initiativereflexnumber", "initiativeskillnumber"
        ], function (values) {
            let rfimport = +values.initiativereflexnumber || 0;
            let initskill = +values.initiativeskillnumber || 0;
            let total = rfimport + initskill;
            setAttrs({initiativetotalnumber: total});
        });
    });

//Auto calculate passive table
    //get WIT values
    on("change:wit sheet:opened", function () {
        getAttrs([
            "wit"
        ], function (values) {
            let wt = +values.wit || 0;
            let total = wt;
            setAttrs({passiveperceptionwitnumber: total}); //how to do multiple at once?
        });
    });

    on("change:passiveperceptionwitnumber sheet:opened", function () {
        getAttrs([
            "passiveperceptionwitnumber"
        ], function (values) {
            let wt = +values.passiveperceptionwitnumber || 0;
            let total = wt;
            setAttrs({enemydetectionnwitnumber: total}); //how to do multiple at once?
        });
    });

    on("change:enemydetectionnwitnumber sheet:opened", function () {
        getAttrs([
            "enemydetectionnwitnumber"
        ], function (values) {
            let wt = +values.enemydetectionnwitnumber || 0;
            let total = wt;
            setAttrs({passiveinsightnwitnumber: total}); //how to do multiple at once?
        });
    });

    //add up row to total PASSIVE TABLE
    on("change:passiveperceptionwitnumber change:passiveperceptionskillnumber change:passiveperceptionbasenumber sheet:opened", function () {
        getAttrs([
            "passiveperceptionwitnumber", "passiveperceptionskillnumber", "passiveperceptionbasenumber"
        ], function (values) {
            let witvalue = +values.initiativereflexnumber || 0;
            let skillvalue = +values.initiativeskillnumber || 0;
            let basevalue = +values.passiveperceptionbasenumber || 0;
            let total = witvalue + skillvalue + basevalue;
            setAttrs({passiveperceptiontotalnumber: total});
        });
    });

    on("change:passiveperceptionwitnumber change:passiveperceptionskillnumber change:passiveperceptionbasenumber sheet:opened", function () {
        getAttrs([
            "passiveperceptionwitnumber", "passiveperceptionskillnumber", "passiveperceptionbasenumber"
        ], function (values) {
            let witvalue = +values.passiveperceptionwitnumber || 0;
            let skillvalue = +values.passiveperceptionskillnumber || 0;
            let basevalue = +values.passiveperceptionbasenumber || 0;
            let total = witvalue + skillvalue + basevalue;
            setAttrs({passiveperceptiontotalnumber: total});
        });
    });

    on("change:enemydetectionwitnumber change:enemydetectionskillnumber change:enemydetectionbasenumber sheet:opened", function () {
        getAttrs([
            "enemydetectionwitnumber", "enemydetectionskillnumber", "enemydetectionbasenumber"
        ], function (values) {
            let witvalue = +values.enemydetectionwitnumber || 0;
            let skillvalue = +values.enemydetectionskillnumber || 0;
            let basevalue = +values.enemydetectionbasenumber || 0;
            let total = witvalue + skillvalue + basevalue;
            setAttrs({enemydetectiontotalnumber: total});
        });
    });

    on("change:passiveinsightwitnumber change:passiveinsightskillnumber change:passiveinsightbasenumber sheet:opened", function () {
        getAttrs([
            "passiveinsightwitnumber", "passiveinsightskillnumber", "passiveinsightbasenumber"
        ], function (values) {
            let witvalue = +values.passiveinsightwitnumber || 0;
            let skillvalue = +values.passiveinsightskillnumber || 0;
            let basevalue = +values.passiveinsightbasenumber || 0;
            let total = witvalue + skillvalue + basevalue;
            setAttrs({passiveinsighttotalnumber: total});
        });
    });


    //Auto calculate skill point totals, NOT WORKING, REMOVED


//AUTO CALCULATE RANGED DEFENSE, need to figure out negatives
    //get SIZE for first row
    on("change:size sheet:opened", function () {
        getAttrs([
            "size"
        ], function (values) {
            let sz = +values.size || 0;
            let total = sz;
            setAttrs({rangeddefensemodifier: total});
        });
    });

    //set size unarmed totals 9 aand 12 + modifier
    on("change:rangeddefensemodifier sheet:opened", function () {
        getAttrs([
            "rangeddefensemodifier"
        ], function (values) {
            let sizemod = +values.rangeddefensemodifier || 0;
            let total = 9 - sizemod;
            setAttrs({rangeddefenseninenumber: total});
        });
    });

    on("change:rangeddefensemodifier sheet:opened", function () {
        getAttrs([
            "rangeddefensemodifier"
        ], function (values) {
            let sizemod = +values.rangeddefensemodifier || 0;
            let total = 12 - sizemod;
            setAttrs({rangeddefensetwelvenumber: total});
        });
    });

    //set shield totals value, including 9&12-SZ from above
        //9+shield
    on("change:rangeddefenseninenumber change:rangeddefenseshieldmodifier sheet:opened", function () {
        getAttrs([
            "rangeddefenseninenumber", "rangeddefenseshieldmodifier"
        ], function (values) {
            let shieldmod = +values.rangeddefenseshieldmodifier || 0;
            let aboveninenumber = +values.rangeddefenseninenumber || 0;
            let total = aboveninenumber + shieldmod;
            setAttrs({rangeddefenseshieldninenumber: total});
        });
    });

    on("change:rangeddefensetwelvenumber change:rangeddefenseshieldmodifier sheet:opened", function () {
        getAttrs([
            "rangeddefensetwelvenumber", "rangeddefenseshieldmodifier"
        ], function (values) {
            let shieldmod = +values.rangeddefenseshieldmodifier || 0;
            let abovetwelvenumber = +values.rangeddefensetwelvenumber || 0;
            let total = abovetwelvenumber + shieldmod;
            setAttrs({rangeddefenseshieldtwelvenumber: total});
        });
    });


    // auto calculate skill table finished first draft. one variable at a time?
   on("change:repeating_skills:tierseven change:repeating_skills:tierfour change:repeating_skills:tiertwo change:repeating_skills:tierone change:repeating_skills:tierstar change:repeating_skills:tierabovesub change:repeating_skills:synergybonus change:repeating_skills:synergyoffset change:repeating_skills:attributemodifier change:repeating_skills:attributemodifiertwo sheet:opened", function () {
       getAttrs(["repeating_skills_tierseven", "repeating_skills_tierfour", "repeating_skills_tiertwo", "repeating_skills_tierone", "repeating_skills_tierstar", "repeating_skills_tierabovesub", "repeating_skills_synergybonus", "repeating_skills_synergyoffset","repeating_skills_attributemodifier", "repeating_skills_attributemodifiertwo",
       ], function (values) {
           // DR calculations
           let columntierseven = +values.repeating_skills_tierseven || 0;
           let columntierfour = +values.repeating_skills_tierfour || 0;
           let columntiertwo = +values.repeating_skills_tiertwo || 0;
           let columntierone = +values.repeating_skills_tierone || 0;
           let columntierstar = +values.repeating_skills_tierstar || 0;
           let columntierabovesub = +values.repeating_skills_tierabovesub || 0;
           let columnsynergybonus = +values.repeating_skills_synergybonus || 0;
           let columnsynergyoffset = +values.repeating_skills_synergyoffset || 0;
           let columnattributemodifier = +values.repeating_skills_attributemodifier || 0;
           let columnattributemodifiertwo = +values.repeating_skills_attributemodifiertwo || 0;
           let total = columntierseven + columntierfour + columntiertwo + columntierone + columntierstar + columntierabovesub + columnsynergybonus + columnsynergyoffset + columnattributemodifier + columnattributemodifiertwo;
           setAttrs({repeating_skills_skilltotal: total});
       });
 });


 //ALL Combat AP get
   on("change:actionpoints sheet:opened", function () {
        getAttrs([
            "actionpoints"
        ], function (values) {
            let ap = +values.actionpoints || 0;
            let total = ap;
            setAttrs({allcombatattributemodifier: total});
        });
    });

    //melee combat AP
    on("change:actionpoints sheet:opened", function () {
         getAttrs([
             "actionpoints"
         ], function (values) {
             let ap = +values.actionpoints || 0;
             let total = ap;
             setAttrs({meleecombatattributemodifier: total});
         });
     });

     on("change:actionpoints sheet:opened", function () {
          getAttrs([
              "actionpoints"
          ], function (values) {
              let ap = +values.actionpoints || 0;
              let total = ap;
              setAttrs({meleecombatattributemodifier: total});
          });
      });

     //ranged combat AP
     on("change:actionpoints sheet:opened", function () {
          getAttrs([
              "actionpoints"
          ], function (values) {
              let ap = +values.actionpoints || 0;
              let total = ap;
              setAttrs({rangedcombatattributemodifier: total});
          });
      });

      //Adventuring skills attribute get

    //knowledge
  on("change:intelligence sheet:opened", function () {
       getAttrs([
           "intelligence"
       ], function (values) {
           let int = +values.intelligence || 0;
           let total = int;
           setAttrs({knowledgeattributemodifier: total});
       });
   });


    //mobility
   on("change:knockdown sheet:opened", function () {
       getAttrs([
           "knockdown"
       ], function (values) {
           let knd = +values.knockdown || 0;
           let total = knd;
           setAttrs({mobilityattributemodifier: total});
       });
   });

   //Mechanical Devices
   on("change:reflex sheet:opened", function () {
      getAttrs([
          "reflex"
      ], function (values) {
          let ref = +values.reflex || 0;
          let total = ref;
          setAttrs({mechanicaldevicesattributemodifier: total});
      });
   });

    //removed mechanical devices int
    on("change:intelligence sheet:opened", function () {
         getAttrs([
             "intelligence"
         ], function (values) {
             let int = +values.intelligence || 0;
             let total = int;
             setAttrs({mechanicaldevicesattributemodifiertwo: total});
         });
     });

   //Medicine
   on("change:reflex sheet:opened", function () {
      getAttrs([
          "reflex"
      ], function (values) {
          let ref = +values.reflex || 0;
          let total = ref;
          setAttrs({medicineattributemodifiertwo: total});
      });
   });
        //medicine INT
   on("change:intelligence sheet:opened", function () {
        getAttrs([
            "intelligence"
        ], function (values) {
            let int = +values.intelligence || 0;
            let total = int;
            setAttrs({medicineattributemodifier: total});
        });
    });

    //Perception
    on("change:wit sheet:opened", function () {
       getAttrs([
           "wit"
       ], function (values) {
           let wt = +values.wit || 0;
           let total = wt;
           setAttrs({perceptionattributemodifier: total});
       });
    });

  //Social
  on("change:wit sheet:opened", function () {
     getAttrs([
         "wit"
     ], function (values) {
         let wt = +values.wit || 0;
         let total = wt;
         setAttrs({socialattributemodifier: total});
     });
  });

  on("change:willpower sheet:opened", function () {
     getAttrs([
         "willpower"
     ], function (values) {
         let wp = +values.willpower || 0;
         let total = wp;
         setAttrs({socialattributemodifiertwo: total});
     });
  });

  on("change:wit sheet:opened", function () {
     getAttrs([
         "wit"
     ], function (values) {
         let wt = +values.wit || 0;
         let total = wt;
         setAttrs({socialwitattributemodifier: total});
     });
  });

  on("change:willpower sheet:opened", function () {
     getAttrs([
         "willpower"
     ], function (values) {
         let wp = +values.willpower || 0;
         let total = wp;
         setAttrs({socialpersonalityattributemodifier: total});
     });
  });

  //Strength skills
  on("change:power sheet:opened", function () {
     getAttrs([
         "power"
     ], function (values) {
         let pw = +values.power || 0;
         let total = pw;
         setAttrs({strengthskillsattributemodifier: total});
     });
  });

  //Survival
  on("change:wit sheet:opened", function () {
     getAttrs([
         "wit"
     ], function (values) {
         let wt = +values.wit || 0;
         let total = wt;
         setAttrs({survivalattributemodifier: total});
     });
  });

  on("change:intelligence sheet:opened", function () {
     getAttrs([
         "intelligence"
     ], function (values) {
         let int = +values.intelligence || 0;
         let total = int;
         setAttrs({survivalattributemodifiertwo: total});
     });
  });

  on("change:wit sheet:opened", function () {
     getAttrs([
         "wit"
     ], function (values) {
         let wt = +values.wit || 0;
         let total = wt;
         setAttrs({survivaloutdoorsattributemodifier: total});
     });
  });

  on("change:intelligence sheet:opened", function () {
     getAttrs([
         "intelligence"
     ], function (values) {
         let int = +values.intelligence || 0;
         let total = int;
         setAttrs({survivaloutdoorsattributemodifiertwo: total});
     });
  });

  on("change:wit sheet:opened", function () {
     getAttrs([
         "wit"
     ], function (values) {
         let wt = +values.wit || 0;
         let total = wt;
         setAttrs({survivalurbanattributemodifier: total});
     });
  });

  on("change:intelligence sheet:opened", function () {
     getAttrs([
         "intelligence"
     ], function (values) {
         let int = +values.intelligence || 0;
         let total = int;
         setAttrs({survivalurbanattributemodifiertwo: total});
     });
  });

  //auto-calculate POINTS column x tiers by cost Number


    //all combat skill total
      on("change:allcombattierfive sheet:opened", function () {
         getAttrs(["allcombattierfive",
         ], function (values) {
             let columntierfive = +values.allcombattierfive || 0;
             let total = columntierfive * 5;
             setAttrs({allcombatpoints: total});
         });
      });

      //all combat specz tier 4
    on("change:repeating_allcombatspec:tierfour sheet:opened", function (event) {
      const [,section,rowID] = event.triggerName.match(/(repeating_.+?)_(.+?)_/);
      const row = `${section}_${rowID}`;
      getAttrs([`${row}_tierfour`], function (values) {
        let columntierfour = +values[`${row}_tierfour`] || 0;
        let total = columntierfour * 4;
        setAttrs({ [`${row}_points`]: total});
      });
    });



      //all combat specz tier 3
        on("change:repeating_allcombatspec:tierthree sheet:opened", function () {
           getAttrs(["repeating_allcombatspec_tierthree",
           ], function (values) {
               let columntierthree = +values.repeating_allcombatspec_tierthree || 0;
               let total = columntierthree * 3;
               setAttrs({repeating_allcombatspec_points: total});
           });
        });

        ///all combat specz tier 2
          on("change:repeating_allcombatspec:tiertwo sheet:opened", function () {
             getAttrs(["repeating_allcombatspec_tiertwo",
             ], function (values) {
                 let columntiertwo = +values.repeating_allcombatspec_tiertwo || 0;
                 let total = columntiertwo * 2;
                 setAttrs({repeating_allcombatspec_points: total});
             });
          });

          //all combat specz tier 1
          on("change:repeating_allcombatspec:tierone sheet:opened", function () {
             getAttrs(["repeating_allcombatspec_tierone",
             ], function (values) {
                 let columntierone = +values.repeating_allcombatspec_tierone || 0;
                 let total = columntierone * 1;
                 setAttrs({repeating_allcombatspec_points: total});
             });
          });

  //melee combat skill total
    on("change:meleecombattierfour sheet:opened", function () {
       getAttrs(["meleecombattierfour",
       ], function (values) {
           let columntierfour = +values.meleecombattierfour || 0;
           let total = columntierfour * 4;
           setAttrs({meleecombatpoints: total});
       });
    });

    //melee  combat specz tier 4
      on("change:repeating_meleespec:tierfour sheet:opened", function () {
         getAttrs(["repeating_meleespec_tierfour",
         ], function (values) {
             let columntierfour = +values.repeating_meleespec_tierfour || 0;
             let total = columntierfour * 4;
             setAttrs({repeating_meleespec_points: total});
         });
      });

    //melee  combat specz tier 3
      on("change:repeating_meleespec:tierthree sheet:opened", function () {
         getAttrs(["repeating_meleespec_tierthree",
         ], function (values) {
             let columntierthree = +values.repeating_meleespec_tierthree || 0;
             let total = columntierthree * 3;
             setAttrs({repeating_meleespec_points: total});
         });
      });

      ///melee  combat specz tier 2
        on("change:repeating_meleespec:tiertwo sheet:opened", function () {
           getAttrs(["repeating_meleespec_tiertwo",
           ], function (values) {
               let columntiertwo = +values.repeating_meleespec_tiertwo || 0;
               let total = columntiertwo * 2;
               setAttrs({repeating_meleespec_points: total});
           });
        });

        //melee  combat specz tier 1
        on("change:repeating_meleespec:tierone sheet:opened", function () {
           getAttrs(["repeating_meleespec_tierone",
           ], function (values) {
               let columntierone = +values.repeating_meleespec_tierone || 0;
               let total = columntierone;
               setAttrs({repeating_meleespec_points: total});
           });
        });

      //ranged combat skill total
        on("change:rangedcombattierfour sheet:opened", function () {
           getAttrs(["rangedcombattierfour",
           ], function (values) {
               let columntierfour = +values.rangedcombattierfour || 0;
               let total = columntierfour * 4;
               setAttrs({rangedcombatpoints: total});
           });
        });

        //ranged  combat specz tier 4
          on("change:repeating_rangedspec:tierfour sheet:opened", function () {
             getAttrs(["repeating_rangedspec_tierfour",
             ], function (values) {
                 let columntierfour = +values.repeating_rangedspec_tierfour || 0;
                 let total = columntierfour * 4;
                 setAttrs({repeating_rangedspec_points: total});
             });
          });

        //ranged  combat specz tier 3
          on("change:repeating_rangedspec:tierthree sheet:opened", function () {
             getAttrs(["repeating_rangedspec_tierthree",
             ], function (values) {
                 let columntierthree = +values.repeating_rangedspec_tierthree || 0;
                 let total = columntierthree * 3;
                 setAttrs({repeating_rangedspec_points: total});
             });
          });

          ///ranged  combat specz tier 2
            on("change:repeating_rangedspec:tiertwo sheet:opened", function () {
               getAttrs(["repeating_rangedspec_tiertwo",
               ], function (values) {
                   let columntiertwo = +values.repeating_rangedspec_tiertwo || 0;
                   let total = columntiertwo * 2;
                   setAttrs({repeating_rangedspec_points: total});
               });
            });

            //ranged  combat specz tier 1
            on("change:repeating_rangedspec:tierone sheet:opened", function () {
               getAttrs(["repeating_rangedspec_tierone",
               ], function (values) {
                   let columntierone = +values.repeating_rangedspec_tierone || 0;
                   let total = columntierone;
                   setAttrs({repeating_rangedspec_points: total});
               });
            });

//ADVENTURING SKILLS
  //knowledge skill total
    on("change:knowledgetierfour sheet:opened", function () {
       getAttrs(["knowledgetierfour",
       ], function (values) {
           let columntierfour = +values.knowledgetierfour || 0;
           let total = columntierfour * 4;
           setAttrs({knowledgepoints: total});
       });
    });

    //knowledge  specz tier 4
      on("change:repeating_knowledgespec:tierfour sheet:opened", function () {
         getAttrs(["repeating_knowledgespec_tierfour",
         ], function (values) {
             let columntierfour = +values.repeating_knowledgespec_tierfour || 0;
             let total = columntierfour * 4;
             setAttrs({repeating_knowledgespec_points: total});
         });
      });

    //knowledge specz tier 3
      on("change:repeating_knowledgespec:tierthree sheet:opened", function () {
         getAttrs(["repeating_knowledgespec_tierthree",
         ], function (values) {
             let columntierthree = +values.repeating_knowledgespec_tierthree || 0;
             let total = columntierthree * 3;
             setAttrs({repeating_knowledgespec_points: total});
         });
      });

      ///knowledge specz tier 2
        on("change:repeating_knowledgespec:tiertwo sheet:opened", function () {
           getAttrs(["repeating_knowledgespec_tiertwo",
           ], function (values) {
               let columntiertwo = +values.repeating_knowledgespec_tiertwo || 0;
               let total = columntiertwo * 2;
               setAttrs({repeating_knowledgespec_points: total});
           });
        });

        //knowledge  specz tier 1
        on("change:repeating_knowledgespec:tierone sheet:opened", function () {
           getAttrs(["repeating_knowledgespec_tierone",
           ], function (values) {
               let columntierone = +values.repeating_knowledgespec_tierone || 0;
               let total = columntierone;
               setAttrs({repeating_knowledgespec_points: total});
           });
        });

  //mobility skill total
  on("change:mobilitytierfour sheet:opened", function () {
     getAttrs(["mobilitytierfour",
     ], function (values) {
         let columntierfour = +values.mobilitytierfour || 0;
         let total = columntierfour * 4;
         setAttrs({mobilitypoints: total});
     });
  });

  //mobility specz tier 4
    on("change:repeating_mobilityspec:tierfour sheet:opened", function () {
       getAttrs(["repeating_mobilityspec_tierfour",
       ], function (values) {
           let columntierfour = +values.repeating_mobilityspec_tierfour || 0;
           let total = columntierfour * 4;
           setAttrs({repeating_mobilityspec_points: total});
       });
    });

  //mobility  combat specz tier 3
    on("change:repeating_mobilityspec:tierthree sheet:opened", function () {
       getAttrs(["repeating_mobilityspec_tierthree",
       ], function (values) {
           let columntierthree = +values.repeating_mobilityspec_tierthree || 0;
           let total = columntierthree * 3;
           setAttrs({repeating_mobilityspec_points: total});
       });
    });

    ///mobility  combat specz tier 2
      on("change:repeating_mobilityspec:tiertwo sheet:opened", function () {
         getAttrs(["repeating_mobilityspec_tiertwo",
         ], function (values) {
             let columntiertwo = +values.repeating_mobilityspec_tiertwo || 0;
             let total = columntiertwo * 2;
             setAttrs({repeating_mobilityspec_points: total});
         });
      });

      //mobility  combat specz tier 1
      on("change:repeating_mobilityspec:tierone sheet:opened", function () {
         getAttrs(["repeating_mobilityspec_tierone",
         ], function (values) {
             let columntierone = +values.repeating_mobilityspec_tierone || 0;
             let total = columntierone;
             setAttrs({repeating_mobilityspec_points: total});
         });
      });

  //mechanicaldevices skill total
    on("change:mechanicaldevicestierfour sheet:opened", function () {
       getAttrs(["mechanicaldevicestierfour",
       ], function (values) {
           let columntierfour = +values.mechanicaldevices_tierfour || 0;
           let total = columntierfour * 4;
           setAttrs({mechanicaldevicespoints: total});
       });
    });

    //mechanicaldevices specz tier 4
      on("change:repeating_mechanicaldevicesspec:tierfour sheet:opened", function () {
         getAttrs(["repeating_mechanicaldevicesspec_tierfour",
         ], function (values) {
             let columntierfour = +values.repeating_mechanicaldevicesspec_tierfour || 0;
             let total = columntierfour * 4;
             setAttrs({repeating_mechanicaldevicesspecpoints: total});
         });
      });

    //mechanicaldevices specz tier 3
      on("change:repeating_mechanicaldevicesspec:spectierthree sheet:opened", function () {
         getAttrs(["repeating_mechanicaldevicesspec_tierthree",
         ], function (values) {
             let columntierthree = +values.repeating_mechanicaldevicesspec_tierthree || 0;
             let total = columntierthree * 3;
             setAttrs({repeating_mechanicaldevicesspecpoints: total});
         });
      });

      ///mechanicaldevices specz tier 2
        on("change:repeating_mechanicaldevicesspec:tiertwo sheet:opened", function () {
           getAttrs(["repeating_mechanicaldevices_spectiertwo",
           ], function (values) {
               let columntiertwo = +values.repeating_mechanicaldevicesspec_tiertwo || 0;
               let total = columntiertwo * 2;
               setAttrs({repeating_mechanicaldevicesspecpoints: total});
           });
        });

        //mechanicaldevices specz tier 1
        on("change:repeating_mechanicaldevicesspec:tierone sheet:opened", function () {
           getAttrs(["repeating_mechanicaldevicesspec_tierone",
           ], function (values) {
               let columntierone = +values.repeating_mechanicaldevicesspec_tierone || 0;
               let total = columntierone;
               setAttrs({repeating_mechanicaldevicesspecpoints: total});
           });
        });

  //medicine skill total
    on("change:medicinetierfour sheet:opened", function () {
       getAttrs(["medicinetierfour",
       ], function (values) {
           let columntierfour = +values.medicinetierfour || 0;
           let total = columntierfour * 4;
           setAttrs({medicinepoints: total});
       });
    });

    //medicine specz tier 4
      on("change:repeating_medicinespec:tierfour sheet:opened", function () {
         getAttrs(["repeating_medicinespec_tierfour",
         ], function (values) {
             let columntierfour = +values.repeating_medicinespec_tierfour || 0;
             let total = columntierfour * 4;
             setAttrs({repeating_medicinespec_points: total});
         });
      });

    //medicine specz tier 3
      on("change:repeating_medicinespec:tierthree sheet:opened", function () {
         getAttrs(["repeating_medicinespec_tierthree",
         ], function (values) {
             let columntierthree = +values.repeating_medicinespec_tierthree || 0;
             let total = columntierthree * 3;
             setAttrs({repeating_medicinespec_points: total});
         });
      });

      ///medicine specz tier 2
        on("change:repeating_medicinespec:tiertwo sheet:opened", function () {
           getAttrs(["repeating_medicinespec_tiertwo",
           ], function (values) {
               let columntiertwo = +values.repeating_medicinespec_tiertwo || 0;
               let total = columntiertwo * 2;
               setAttrs({repeating_medicinespec_points: total});
           });
        });

        //medicine specz tier 1
        on("change:repeating_medicinespec:tierone sheet:opened", function () {
           getAttrs(["repeating_medicinespec_tierone",
           ], function (values) {
               let columntierone = +values.repeating_medicinespec_tierone || 0;
               let total = columntierone;
               setAttrs({repeating_medicinespec_points: total});
           });
        });

    //perception skill total
      on("change:perceptiontierfour sheet:opened", function () {
         getAttrs(["perceptiontierfour",
         ], function (values) {
             let columntierfour = +values.perceptiontierfour || 0;
             let total = columntierfour * 4;
             setAttrs({perceptionpoints: total});
         });
      });

      //perception specz tier 4
        on("change:repeating_perceptionspec:tierfour sheet:opened", function () {
           getAttrs(["repeating_perceptionspec_tierfour",
           ], function (values) {
               let columntierfour = +values.repeating_perceptionspec_tierfour || 0;
               let total = columntierfour * 4;
               setAttrs({repeating_perceptionspec_points: total});
           });
        });

      //perception specz tier 3
        on("change:repeating_perceptionspec:tierthree sheet:opened", function () {
           getAttrs(["repeating_perceptionspec_tierthree",
           ], function (values) {
               let columntierthree = +values.repeating_perceptionspec_tierthree || 0;
               let total = columntierthree * 3;
               setAttrs({repeating_perceptionspec_points: total});
           });
        });

        ///perception specz tier 2
          on("change:repeating_perceptionspec:tiertwo sheet:opened", function () {
             getAttrs(["repeating_perceptionspec_tiertwo",
             ], function (values) {
                 let columntiertwo = +values.repeating_perceptionspec_tiertwo || 0;
                 let total = columntiertwo * 2;
                 setAttrs({repeating_perceptionspec_points: total});
             });
          });

          //perception specz tier 1
          on("change:repeating_perceptionspec:tierone sheet:opened", function () {
             getAttrs(["repeating_perceptionspec_tierone",
             ], function (values) {
                 let columntierone = +values.repeating_perceptionspec_tierone || 0;
                 let total = columntierone;
                 setAttrs({repeating_perceptionspec_points: total});
             });
          });


  //profession
  //profession skill total
    on("change:professiontierfour sheet:opened", function () {
       getAttrs(["professiontierfour",
       ], function (values) {
           let columntierfour = +values.professiontierfour || 0;
           let total = columntierfour * 4;
           setAttrs({professionpoints: total});
       });
    });

    on("change:professiontierthree sheet:opened", function () {
       getAttrs(["professiontierthree",
       ], function (values) {
           let columntierthree = +values.professiontierthree || 0;
           let total = columntierthree * 3;
           setAttrs({professionpoints: total});
       });
    });

    on("change:professiontiertwo sheet:opened", function () {
       getAttrs(["professiontiertwo",
       ], function (values) {
           let columntiertwo = +values.professiontiertwo || 0;
           let total = columntiertwo * 4;
           setAttrs({professionpoints: total});
       });
    });

    on("change:professiontierone sheet:opened", function () {
       getAttrs(["professiontierone",
       ], function (values) {
           let columntierone = +values.professiontierone || 0;
           let total = columntierone * 4;
           setAttrs({professionpoints: total});
       });
    });

    //profession specz tier 4
      on("change:repeating_perceptionspec:tierfour sheet:opened", function () {
         getAttrs(["repeating_perceptionspec_tierfour",
         ], function (values) {
             let columntierfour = +values.repeating_perceptionspec_tierfour || 0;
             let total = columntierfour * 4;
             setAttrs({repeating_perceptionspec_points: total});
         });
      });

    //profession specz tier 3
      on("change:repeating_perceptionspec:tierthree sheet:opened", function () {
         getAttrs(["repeating_perceptionspec_tierthree",
         ], function (values) {
             let columntierthree = +values.repeating_perceptionspec_tierthree || 0;
             let total = columntierthree * 3;
             setAttrs({repeating_perceptionspec_points: total});
         });
      });

      ///profession specz tier 2
        on("change:repeating_perceptionspec:tiertwo sheet:opened", function () {
           getAttrs(["repeating_perceptionspec_tiertwo",
           ], function (values) {
               let columntiertwo = +values.repeating_perceptionspec_tiertwo || 0;
               let total = columntiertwo * 2;
               setAttrs({repeating_perceptionspec_points: total});
           });
        });

        //profession specz tier 1
        on("change:repeating_perceptionspec:tierone sheet:opened", function () {
           getAttrs(["repeating_perceptionspec_tierone",
           ], function (values) {
               let columntierone = +values.repeating_perceptionspec_tierone || 0;
               let total = columntierone;
               setAttrs({repeating_perceptionspec_points: total});
           });
        });


  //social skills
  //social skill total
  on("change:socialtierfive sheet:opened", function () {
     getAttrs(["socialtierfive",
     ], function (values) {
         let columntierfive = +values.socialtierfive || 0;
         let total = columntierfive * 5;
         setAttrs({socialpoints: total});
     });
  });

  //social wits
  on("change:socialwittierfour sheet:opened", function () {
   getAttrs(["socialwittierfour",
   ], function (values) {
       let columntierfour = +values.socialwittierfour || 0;
       let total = columntierfour * 4;
       setAttrs({socialwitpoints: total});
   });
  });

  //socialwit specz tier 4
    on("change:repeating_socialwitspec:tierfour sheet:opened", function () {
       getAttrs(["repeating_socialwitspec_tierfour",
       ], function (values) {
           let columntierfour = +values.repeating_socialwitspec_tierfour || 0;
           let total = columntierfour * 4;
           setAttrs({repeating_socialwitspec_points: total});
       });
    });

  //socialwit specz tier 3
    on("change:repeating_socialwitspec:tierthree sheet:opened", function () {
       getAttrs(["repeating_socialwitspec_tierthree",
       ], function (values) {
           let columntierthree = +values.repeating_socialwitspec_tierthree || 0;
           let total = columntierthree * 3;
           setAttrs({repeating_socialwitspec_points: total});
       });
    });

    ///socialwit specz tier 2
      on("change:repeating_socialwitspec:tiertwo sheet:opened", function () {
         getAttrs(["repeating_socialwitspec_tiertwo",
         ], function (values) {
             let columntiertwo = +values.repeating_socialwitspec_tiertwo || 0;
             let total = columntiertwo * 2;
             setAttrs({repeating_socialwitspec_points: total});
         });
      });

      //socialwit specz tier 1
      on("change:repeating_socialwitspec:tierone sheet:opened", function () {
         getAttrs(["repeating_socialwitspec_tierone",
         ], function (values) {
             let columntierone = +values.repeating_socialwitspec_tierone || 0;
             let total = columntierone;
             setAttrs({repeating_socialwitspec_points: total});
         });
      });



  //social personality
  on("change:socialpersonalitytierfour sheet:opened", function () {
     getAttrs(["socialpersonalitytierfour",
     ], function (values) {
         let columntierfour = +values.socialpersonalitytierfour || 0;
         let total = columntierfour * 4;
         setAttrs({socialpersonalitypoints: total});
     });
  });

    //socialpersonality specz tier 4
      on("change:repeating_socialpersonalityspec:tierfour sheet:opened", function () {
         getAttrs(["repeating_socialpersonalityspec_tierfour",
         ], function (values) {
             let columntierfour = +values.repeating_socialpersonalityspec_tierfour || 0;
             let total = columntierfour * 4;
             setAttrs({repeating_socialpersonalityspec_points: total});
         });
      });

    //socialpersonality specz tier 3
      on("change:repeating_socialpersonalityspec:tierthree sheet:opened", function () {
         getAttrs(["repeating_socialpersonalityspec_tierthree",
         ], function (values) {
             let columntierthree = +values.repeating_socialpersonalityspec_tierthree || 0;
             let total = columntierthree * 3;
             setAttrs({repeating_socialpersonalityspec_points: total});
         });
      });

      ///socialpersonality specz tier 2
        on("change:repeating_socialpersonalityspec:tiertwo sheet:opened", function () {
           getAttrs(["repeating_socialpersonalityspec_tiertwo",
           ], function (values) {
               let columntiertwo = +values.repeating_socialpersonalityspec_tiertwo || 0;
               let total = columntiertwo * 2;
               setAttrs({repeating_socialpersonalityspec_points: total});
           });
        });

        //socialpersonality specz tier 1
        on("change:repeating_socialpersonalityspec:tierone sheet:opened", function () {
           getAttrs(["repeating_socialpersonalityspec_tierone",
           ], function (values) {
               let columntierone = +values.repeating_socialpersonalityspec_tierone || 0;
               let total = columntierone;
               setAttrs({repeating_socialpersonalityspec_points: total});
           });
        });


  //strengthskills skill total
    on("change:strengthskillstierfour sheet:opened", function () {
       getAttrs(["strengthskillstierfour",
       ], function (values) {
           let columntierfour = +values.strengthskillstierfour || 0;
           let total = columntierfour * 4;
           setAttrs({strengthskillspoints: total});
       });
    });

    //strengthskills specz tier 4
      on("change:repeating_strengthskillsspec:tierfour sheet:opened", function () {
         getAttrs(["repeating_strengthskillsspec_tierfour",
         ], function (values) {
             let columntierfour = +values.repeating_strengthskillsspec_tierfour || 0;
             let total = columntierfour * 4;
             setAttrs({repeating_strengthskillsspec_points: total});
         });
      });

    //strengthskills specz tier 3
      on("change:repeating_strengthskillsspec:tierthree sheet:opened", function () {
         getAttrs(["repeating_strengthskillsspec_tierthree",
         ], function (values) {
             let columntierthree = +values.repeating_strengthskillsspec_tierthree || 0;
             let total = columntierthree * 3;
             setAttrs({repeating_strengthskillsspec_points: total});
         });
      });

      ///strengthskills specz tier 2
        on("change:repeating_strengthskillsspec:tiertwo sheet:opened", function () {
           getAttrs(["repeating_strengthskillsspec_tiertwo",
           ], function (values) {
               let columntiertwo = +values.repeating_strengthskillsspec_tiertwo || 0;
               let total = columntiertwo * 2;
               setAttrs({repeating_strengthskillsspec_points: total});
           });
        });

        //strengthskills specz tier 1
        on("change:repeating_strengthskillsspec:tierone sheet:opened", function () {
           getAttrs(["repeating_strengthskillsspec_tierone",
           ], function (values) {
               let columntierone = +values.repeating_strengthskillsspec_tierone || 0;
               let total = columntierone;
               setAttrs({repeating_strengthskillsspec_points: total});
           });
        });

  //survival skills
  //survival skill total
    on("change:survivaltierfive sheet:opened", function () {
       getAttrs(["survivaltierfive",
       ], function (values) {
           let columntierfive = +values.survivaltierfive || 0;
           let total = columntierfive * 5;
           setAttrs({survivalpoints: total});
       });
    });


  //survival outdoors
  on("change:survivaloutdoorstierfour sheet:opened", function () {
     getAttrs(["survivaloutdoorstierfour",
     ], function (values) {
         let columntierfour = +values.survivaloutdoorstierfour || 0;
         let total = columntierfour * 4;
         setAttrs({survivaloutdoorspoints: total});
     });
  });

    //survivaloutdoors specz tier 4
      on("change:repeating_survivaloutdoorsspec:tierfour sheet:opened", function () {
         getAttrs(["repeating_survivaloutdoorsspec_tierfour",
         ], function (values) {
             let columntierfour = +values.repeating_survivaloutdoorsspec_tierfour || 0;
             let total = columntierfour * 4;
             setAttrs({repeating_survivaloutdoorsspec_points: total});
         });
      });

    //survivaloutdoors specz tier 3
      on("change:repeating_survivaloutdoorsspec:tierthree sheet:opened", function () {
         getAttrs(["repeating_survivaloutdoorsspec_tierthree",
         ], function (values) {
             let columntierthree = +values.repeating_survivaloutdoorsspec_tierthree || 0;
             let total = columntierthree * 3;
             setAttrs({repeating_survivaloutdoorsspec_points: total});
         });
      });

      ///survivaloutdoors specz tier 2
        on("change:repeating_survivaloutdoorsspec:tiertwo sheet:opened", function () {
           getAttrs(["repeating_survivaloutdoorsspec_tiertwo",
           ], function (values) {
               let columntiertwo = +values.repeating_survivaloutdoorsspec_tiertwo || 0;
               let total = columntiertwo * 2;
               setAttrs({repeating_survivaloutdoorsspec_points: total});
           });
        });

        //survivaloutdoors specz tier 1
        on("change:repeating_survivaloutdoorsspec:tierone sheet:opened", function () {
           getAttrs(["repeating_survivaloutdoorsspec_tierone",
           ], function (values) {
               let columntierone = +values.repeating_survivaloutdoorsspec_tierone || 0;
               let total = columntierone;
               setAttrs({repeating_survivaloutdoorsspec_points: total});
           });
        });

  //survival urban
  on("change:survivalurbantierfour sheet:opened", function () {
   getAttrs(["survivalurbantierfour",
   ], function (values) {
       let columntierfour = +values.survivalurbantierfour || 0;
       let total = columntierfour * 4;
       setAttrs({survivalurbanpoints: total});
   });
  });

  //survivalurban specz tier 4
    on("change:repeating_survivalurbanspec:tierfour sheet:opened", function () {
       getAttrs(["repeating_survivalurbanspec_tierfour",
       ], function (values) {
           let columntierfour = +values.repeating_survivalurbanspec_tierfour || 0;
           let total = columntierfour * 4;
           setAttrs({repeating_survivalurbanspec_points: total});
       });
    });

  //survivalurban specz tier 3
    on("change:repeating_survivalurbanspec:tierthree sheet:opened", function () {
       getAttrs(["repeating_survivalurbanspec_tierthree",
       ], function (values) {
           let columntierthree = +values.repeating_survivalurbanspec_tierthree || 0;
           let total = columntierthree * 3;
           setAttrs({repeating_survivalurbanspec_points: total});
       });
    });

    ///survivalurban specz tier 2
      on("change:repeating_survivalurbanspec:tiertwo sheet:opened", function () {
         getAttrs(["repeating_survivalurbanspec_tiertwo",
         ], function (values) {
             let columntiertwo = +values.repeating_survivalurbanspec_tiertwo || 0;
             let total = columntiertwo * 2;
             setAttrs({repeating_survivalurbanspec_points: total});
         });
      });

      //survivalurban specz tier 1
      on("change:repeating_survivalurbanspec:tierone sheet:opened", function () {
         getAttrs(["repeating_survivalurbanspec_tierone",
         ], function (values) {
             let columntierone = +values.repeating_survivalurbanspec_tierone || 0;
             let total = columntierone;
             setAttrs({repeating_survivalurbanspec_points: total});
         });
      });

  //custom LEGACY skills
    on("change:repeating_skills:tierseven  sheet:opened", function () {
       getAttrs(["repeating_skills_tierseven",
       ], function (values) {
           let columntierfive = +values.repeating_skills_tierseven || 0;
           let total = columntierfive * 5;
           setAttrs({repeating_skills_cost: total});
       });
    });

    on("change:repeating_skills:tierfour  sheet:opened", function () {
       getAttrs(["repeating_skills_tierfour",
       ], function (values) {
           let columntierfour = +values.repeating_skills_tierfour || 0;
           let total = columntierfour * 4;
           setAttrs({repeating_skills_cost: total});
       });
    });

    on("change:repeating_skills:tiertwo  sheet:opened", function () {
       getAttrs(["repeating_skills_tiertwo",
       ], function (values) {
           let columntierthree = +values.repeating_skills_tiertwo || 0;
           let total = columntierthree * 3;
           setAttrs({repeating_skills_cost: total});
       });
    });

    on("change:repeating_skills:tierone  sheet:opened", function () {
       getAttrs(["repeating_skills_tierone",
       ], function (values) {
           let columntiertwo = +values.repeating_skills_tierone || 0;
           let total = columntiertwo * 2;
           setAttrs({repeating_skills_cost: total});
       });
    });

    on("change:repeating_skills:tierstar  sheet:opened", function () {
       getAttrs(["repeating_skills_tierstar",
       ], function (values) {
           let columntierone = +values.repeating_skills_tierstar || 0;
           let total = columntierone * 1;
           setAttrs({repeating_skills_cost: total});
       });
    });

  //POINT BUY TOTALS

  //ATTRIBUTES total
  on("change:strength change:agility change:toughness change:size change:wit change:willpower change:intelligence sheet:opened", function () {
      getAttrs([
          "strength", "agility", "toughness", "size", "wit", "willpower", "intelligence",
      ], function (values) {
          let st = +values.strength || 0;
          let ag = +values.agility || 0;
          let th = +values.toughness || 0;
          let sz = +values.size || 0;
          let wt = +values.wit || 0;
          let wp = +values.willpower || 0;
          let int = +values.intelligence || 0;
          let total = (st * 6) + (ag * 6) + (th * 6) + (sz * 12) + (wt * 6) + (wp * 6) + (int * 6);
          setAttrs({pbattributestotals: total});
      });
  });

//GiG repeating methods stuff
const sections =  ['allcombatspec','meleespec', 'rangedspec', 'knowledgespec', 'mobilityspec', 'mechanicaldevicesspec', 'medicinespec', 'perceptionspec', 'professionspec', 'socialwitspec', 'socialpersonalityspec', 'strengthskillsspec', 'survivaloutdoorsspec', 'survivalurbanspec']
  sections.forEach(section => {
     on(`change:repeating_${section}:points remove:repeating_${section}`, function() {
  	repeatingSum(`total_${section}`,section,"points");
     });
  });

  on("change:allcombatpoints change:meleecombatpoints change:rangedcombatpoints change:total_rangedspec change:total_meleespec change:total_allcombatspec sheet:opened", function () {
      getAttrs([
          "allcombatpoints", "meleecombatpoints",  "rangedcombatpoints", "total_rangedspec", "total_meleespec", "total_allcombatspec",
      ], function (values) {
          let cppt = +values.allcombatpoints || 0;
          let cpszpt = +values.total_allcombatspec || 0;
          let mlpt = +values.meleecombatpoints || 0;
          let mtszpt = +values.total_meleespec || 0;
          let rgpt = +values.rangedcombatpoints || 0;
          let rgszpt = +values.total_rangedspec || 0;
          let total = cppt + cpszpt + mlpt + mtszpt + rgpt + rgszpt;
          setAttrs({pbcombatskillstotals: total});
      });
  });

  //ADVENTURING skills repeating sections
  on("change:knowledgepoints change:mobilitypoints change:mechanicaldevicespoints change:medicinepoints change:perceptionpoints change:professionpoints change:socialpoints change:socialwitpoints change:socialpersonalitypoints change:strengthskillspoints change:survivalpoints change:survivaloutdoorspoints change:survivalurbanpoints change:total_knowledgespec change:total_mobilityspec change:total_mechanicaldevicesspec change:total_medicinespec change:total_perceptionspec change:total_professionspec change:total_socialwitspec change:total_socialpersonalityspec change:total_strengthskillsspec change:total_survivaloutdoorsspec change:total_survivalurbanspec sheet:opened", function () {
      getAttrs([
          "knowledgepoints", "mobilitypoints",  "mechanicaldevicespoints", "perceptionpoints", "professionpoints", "socialpoints", "socialwitpoints", "socialpersonalitypoints", "strengthskillspoints", "survivalpoints", "survivaloutdoorspoints", "survivalurbanpoints", "total_knowledgespec", "total_mobilityspec", "total_mechanicaldevicesspec", "total_medicinespec", "total_perceptionspec", "total_professionspec", "total_socialwitspec", "total_socialpersonalityspec", "total_strengthskillsspec", "total_survivaloutdoorsspec", "total_survivalurbanspec",
      ], function (values) {
          let k = +values.knowledgepoints || 0;
          let mb = +values.mobilitypoints || 0;
          let mc = +values.mechanicaldevicespoints || 0;
          let me = +values.medicinepoints || 0;
          let per = +values.perceptionpoints || 0;
          let pf = +values.professionpoints || 0;
          let s = +values.socialpoints || 0;
          let sw = +values.socialwitpoints || 0;
          let sp = +values.socialpersonalitypoints || 0;
          let st = +values.strengthskillspoints || 0;
          let sv = +values.survivalpoints || 0;
          let svo = +values.survivaloutdoorspoints || 0;
          let svu = +values.survivalurbanpoints || 0;
          let ksp = +values.total_knowledgespec || 0;
          let mbsp = +values.total_mobilityspec || 0;
          let mcsp = +values.total_mechanicaldevicesspec || 0;
          let mesp = +values.total_medicinespec || 0;
          let pesp = +values.total_perceptionspec || 0;
          let pfsp = +values.total_professionspec || 0;
          let swsp = +values.total_socialwitspec || 0;
          let spsp = +values.total_socialpersonalityspec || 0;
          let stsp = +values.total_strengthskillsspec || 0;
          let svosp = +values.total_survivaloutdoorsspec || 0;
          let svusp = +values.total_survivalurbanspec || 0;
          let total = k + mb + mc + me + per + pf + s + sw + sp + st + sv + svo + svu + ksp + mbsp + mcsp + mesp + pesp + pfsp + swsp + spsp +stsp + svosp + svusp;
          setAttrs({pbadventuringskillstotals: total});
      });
  });

//TOTAL Character POINTS
  on("change:pbattributestotals change:pbcombatskillstotals change:pbadventuringskillstotals change:pbequipmenttotals change:pbpowersandabilitiestotals change:pbspellslearnedtotals change:pbadvdisadvantagestotals change:pbothertotals  sheet:opened", function () {
     getAttrs(["pbattributestotals", "pbcombatskillstotals", "pbadventuringskillstotals", "pbequipmenttotals", "pbpowersandabilitiestotals", "pbspellslearnedtotals", "pbadvdisadvantagestotals", "pbothertotals",
     ], function (values) {
         let atr = +values.pbattributestotals || 0;
         let cp = +values.pbcombatskillstotals || 0;
         let adv = +values.pbadventuringskillstotals || 0;
         let eqm = +values.pbequipmenttotals || 0;
         let mag = +values.pbpowersandabilitiestotals || 0;
         let spell = +values.pbspellslearnedtotals || 0;
         let dis = +values.pbadvdisadvantagestotals || 0;
         let oth = +values.pbothertotals || 0;
         let total = atr + cp + adv + eqm + mag + spell + dis + oth;
         setAttrs({pbtotaloverall: total});
     });
  });

// 1/2 Adventuring skills
  on("change:pbadventuringskillstotals sheet:opened", function () {
     getAttrs(["pbadventuringskillstotals",
     ], function (values) {
         let adve = +values.pbadventuringskillstotals || 0;
         let total = adve * .5;
         setAttrs({pbhalfnoncombatskillstotal: total});
     });
  });

//COMBATANT value
  on("change:pbtotaloverall change:pbcombatbasevalue change:pbhalfnoncombatskillstotal change:pbmiscmodtotals sheet:opened", function () {
     getAttrs(["pbtotaloverall", "pbcombatbasevalue", "pbhalfnoncombatskillstotal", "pbmiscmodtotals",
     ], function (values) {
         let tot = +values.pbtotaloverall || 0;
         let base = +values.pbcombatbasevalue || 0;
         let half = +values.pbhalfnoncombatskillstotal || 0;
         let misc = +values.pbmiscmodtotals || 0;
         let total = tot + base - half + misc;
         setAttrs({pbcombatencountervaluetotals: total});
     });
  });

//Combat Skill table add up SKILL Total

on("change:allcombattierfive change:allcombattierabovesub change:allcombatsynergybonus change:allcombatsynergyoffset change:allcombatgroup change:allcombatattributemodifier change:allcombatattributemodifiertwo sheet:opened", function () {
      getAttrs([
          "allcombattierfive", "allcombattierabovesub", "allcombatsynergybonus", "allcombatsynergyoffset", "allcombatgroup", "allcombatattributemodifier", "allcombatattributemodifiertwo",
      ], function (values) {
          let total = 0;
          Object.values(values).forEach(item => {
             total += (+item || 0);
          });
          setAttrs({allcombatskilltotal: total});
      });
  });

  on("change:meleecombattierfive change:meleecombattierfour change:meleecombattierthree change:meleecombattiertwo change:change:meleecombattierone change:meleecombattierabovesub change:meleecombatsynergybonus change:meleecombatsynergyoffset change:meleecombatgroup change:meleecombatattributemodifier change:meleecombatattributemodifiertwo sheet:opened", function () {
        getAttrs([
            "meleecombattierfive", "meleecombattierfour", "meleecombattierthree", "meleecombattiertwo", "meleecombattierone", "meleecombattierabovesub", "meleecombatsynergybonus", "meleecombatsynergyoffset", "meleecombatgroup", "meleecombatattributemodifier", "meleecombatattributemodifiertwo",
        ], function (values) {
            let total = 0;
            Object.values(values).forEach(item => {
               total += (+item || 0);
            });
            setAttrs({meleecombatskilltotal: total});
        });
    });

    on("change:rangedcombattierfive change:rangedcombattierfour change:rangedcombattierthree change:rangedcombattiertwo change:change:rangedcombattierone change:rangedcombattierabovesub change:rangedcombatsynergybonus change:rangedcombatsynergyoffset change:rangedcombatgroup change:rangedcombatattributemodifier change:rangedcombatattributemodifiertwo sheet:opened", function () {
          getAttrs([
              "rangedcombattierfive", "rangedcombattierfour", "rangedcombattierthree", "rangedcombattiertwo", "rangedcombattierone", "rangedcombattierabovesub", "rangedcombatsynergybonus", "rangedcombatsynergyoffset", "rangedcombatgroup", "rangedcombatattributemodifier", "rangedcombatattributemodifiertwo",
          ], function (values) {
              let total = 0;
              Object.values(values).forEach(item => {
                 total += (+item || 0);
              });
              setAttrs({rangedcombatskilltotal: total});
          });
      });

  on("change:repeating_allcombatspec:tierfive change:repeating_allcombatspec:tierfour change:repeating_allcombatspec:tierthree change:repeating_allcombatspec:tiertwo change:repeating_allcombatspec:tierone change:repeating_allcombatspec:tierabovesub change:repeating_allcombatspec:synergybonus change:repeating_allcombatspec:synergyoffset change:repeating_allcombatspec:group change:repeating_allcombatspec:attributemodifier change:repeating_allcombatspec:attributemodifiertwo sheet:opened", function () {
        getAttrs([
            "repeating_allcombatspec_tierfive", "repeating_allcombatspec_tierfour", "repeating_allcombatspec_tierthree", "repeating_allcombatspec_tiertwo", "repeating_allcombatspec_tierone", "repeating_allcombatspec_tierabovesub", "repeating_allcombatspec_synergybonus", "repeating_allcombatspec_synergyoffset", "repeating_allcombatspec_group", "repeating_allcombatspec_attributemodifier", "repeating_allcombatspec_attributemodifiertwo",
        ], function (values) {
            let total = 0;
            Object.values(values).forEach(item => {
               total += (+item || 0);
            });
            setAttrs({repeating_allcombat_skilltotal: total});
        });
    });

        //ranged specializations
        on("change:repeating_rangedspec:tierfive change:repeating_rangedspec:tierfour change:repeating_rangedspec:tierthree change:repeating_rangedspec:tiertwo change:repeating_rangedspec:tierone change:repeating_rangedspec:tierabovesub change:repeating_rangedspec:synergybonus change:repeating_rangedspec:synergyoffset change:repeating_rangedspec:group change:repeating_rangedspec:attributemodifier change:repeating_rangedspec:attributemodifiertwo sheet:opened", function () {
              getAttrs([
                  "repeating_rangedspec_tierfive", "repeating_rangedspec_tierfour", "repeating_rangedspec_tierthree", "repeating_rangedspec_tiertwo", "repeating_rangedspec_tierone", "repeating_rangedspec_tierabovesub", "repeating_rangedspec_synergybonus", "repeating_rangedspec_synergyoffset", "repeating_rangedspec_group", "repeating_rangedspec_attributemodifier", "repeating_rangedspec_attributemodifiertwo",
              ], function (values) {
                  let total = 0;
                  Object.values(values).forEach(item => {
                     total += (+item || 0);
                  });
                  setAttrs({repeating_rangedspec_skilltotal: total});
              });
          });

      on("change:repeating_meleespec:tierfive change:repeating_meleespec:tierfour change:repeating_meleespec:tierthree change:repeating_meleespec:tiertwo change:repeating_meleespec:tierone change:repeating_meleespec:tierabovesub change:repeating_meleespec:synergybonus change:repeating_meleespec:synergyoffset change:repeating_meleespec:group change:repeating_meleespec:attributemodifier change:repeating_meleespec:attributemodifiertwo sheet:opened", function () {
            getAttrs([
                "repeating_meleespec_tierfive", "repeating_meleespec_tierfour", "repeating_meleespec_tierthree", "repeating_meleespec_tiertwo", "repeating_meleespec_tierone", "repeating_meleespec_tierabovesub", "repeating_meleespec_synergybonus", "repeating_meleespec_synergyoffset", "repeating_meleespec_group", "repeating_meleespec_attributemodifier", "repeating_meleespec_attributemodifiertwo",
            ], function (values) {
                let total = 0;
                Object.values(values).forEach(item => {
                   total += (+item || 0);
                });
                setAttrs({repeating_meleespec_skilltotal: total});
            });
        });

//adventuring skills auto CALCULATE
on("change:knowledgetierfive change:knowledgetierfour change:knowledgetierthree change:knowledgetiertwo change:knowledgetierone change:knowledgetierabovesub change:knowledgesynergybonus change:knowledgesynergyoffset change:knowledgegroup change:knowledgeattributemodifier change:knowledgeattributemodifiertwo sheet:opened", function () {
      getAttrs([
          "knowledgetierfive", "knowledgetierfour", "knowledgetierthree", "knowledgetiertwo", "knowledgetierone", "knowledgetierabovesub", "knowledgesynergybonus", "knowledgesynergyoffset", "knowledgegroup", "knowledgeattributemodifier", "knowledgeattributemodifiertwo",
      ], function (values) {
          let total = 0;
          Object.values(values).forEach(item => {
             total += (+item || 0);
          });
          setAttrs({knowledgeskilltotal: total});
      });
  });

  on("change:repeating_knowledgespec:tierfive change:repeating_knowledgespec:tierfour change:repeating_knowledgespec:tierthree change:repeating_knowledgespec:tiertwo change:repeating_knowledgespec:tierone change:repeating_knowledgespec:tierabovesub change:repeating_knowledgespec:synergybonus change:repeating_knowledgespec:synergyoffset change:repeating_knowledgespec:group change:repeating_knowledgespec:attributemodifier change:repeating_knowledgespec:attributemodifiertwo sheet:opened", function () {
        getAttrs([
            "repeating_knowledgespec_tierfive", "repeating_knowledgespec_tierfour", "repeating_knowledgespec_tierthree", "repeating_knowledgespec_tiertwo", "repeating_knowledgespec_tierone", "repeating_knowledgespec_tierabovesub", "repeating_knowledgespec_synergybonus", "repeating_knowledgespec_synergyoffset", "repeating_knowledgespec_group", "repeating_knowledgespec_attributemodifier", "repeating_knowledgespec_attributemodifiertwo",
        ], function (values) {
            let total = 0;
            Object.values(values).forEach(item => {
               total += (+item || 0);
            });
            setAttrs({repeating_knowledgespec_skilltotal: total});
        });
    });

    on("change:mobilitytierfive change:mobilitytierfour change:mobilitytierthree change:mobilitytiertwo change:mobilitytierone change:mobilitytierabovesub change:mobilitysynergybonus change:mobilitysynergyoffset change:mobilitygroup change:mobilityattributemodifier change:mobilityattributemodifiertwo sheet:opened", function () {
          getAttrs([
              "mobilitytierfive", "mobilitytierfour", "mobilitytierthree", "mobilitytiertwo", "mobilitytierone", "mobilitytierabovesub", "mobilitysynergybonus", "mobilitysynergyoffset", "mobilitygroup", "mobilityattributemodifier", "mobilityattributemodifiertwo",
          ], function (values) {
              let total = 0;
              Object.values(values).forEach(item => {
                 total += (+item || 0);
              });
              setAttrs({mobilityskilltotal: total});
          });
      });

      on("change:repeating_mobilityspec:tierfive change:repeating_mobilityspec:tierfour change:repeating_mobilityspec:tierthree change:repeating_mobilityspec:tiertwo change:repeating_mobilityspec:tierone change:repeating_mobilityspec:tierabovesub change:repeating_mobilityspec:synergybonus change:repeating_mobilityspec:synergyoffset change:repeating_mobilityspec:group change:repeating_mobilityspec:attributemodifier change:repeating_mobilityspec:attributemodifiertwo sheet:opened", function () {
            getAttrs([
                "repeating_mobilityspec_tierfive", "repeating_mobilityspec_tierfour", "repeating_mobilityspec_tierthree", "repeating_mobilityspec_tiertwo", "repeating_mobilityspec_tierone", "repeating_mobilityspec_tierabovesub", "repeating_mobilityspec_synergybonus", "repeating_mobilityspec_synergyoffset", "repeating_mobilityspec_group", "repeating_mobilityspec_attributemodifier", "repeating_mobilityspec_attributemodifiertwo",
            ], function (values) {
                let total = 0;
                Object.values(values).forEach(item => {
                   total += (+item || 0);
                });
                setAttrs({repeating_mobilityspec_skilltotal: total});
            });
        });

    on("change:mechanicaldevicestierfive change:mechanicaldevicestierfour change:mechanicaldevicestierthree change:mechanicaldevicestiertwo change:mechanicaldevicestierone change:mechanicaldevicestierabovesub change:mechanicaldevicessynergybonus change:mechanicaldevicessynergyoffset change:mechanicaldevicesgroup change:mechanicaldevicesattributemodifier change:mechanicaldevicesattributemodifiertwo sheet:opened", function () {
          getAttrs([
              "mechanicaldevicestierfive", "mechanicaldevicestierfour", "mechanicaldevicestierthree", "mechanicaldevicestiertwo", "mechanicaldevicestierone", "mechanicaldevicestierabovesub", "mechanicaldevicessynergybonus", "mechanicaldevicessynergyoffset", "mechanicaldevicesgroup", "mechanicaldevicesattributemodifier", "mechanicaldevicesattributemodifiertwo",
          ], function (values) {
              let total = 0;
              Object.values(values).forEach(item => {
                 total += (+item || 0);
              });
              setAttrs({mechanicaldevicesskilltotal: total});
          });
      });

      on("change:repeating_mechanicaldevicesspec:tierfive change:repeating_mechanicaldevicesspec:tierfour change:repeating_mechanicaldevicesspec:tierthree change:repeating_mechanicaldevicesspec:tiertwo change:repeating_mechanicaldevicesspec:tierone change:repeating_mechanicaldevicesspec:tierabovesub change:repeating_mechanicaldevicesspec:synergybonus change:repeating_mechanicaldevicesspec:synergyoffset change:repeating_mechanicaldevicesspec:group change:repeating_mechanicaldevicesspec:attributemodifier change:repeating_mechanicaldevicesspec:attributemodifiertwo sheet:opened", function () {
            getAttrs([
                "repeating_mechanicaldevicesspec_tierfive", "repeating_mechanicaldevicesspec_tierfour", "repeating_mechanicaldevicesspec_tierthree", "repeating_mechanicaldevicesspec_tiertwo", "repeating_mechanicaldevicesspec_tierone", "repeating_mechanicaldevicesspec_tierabovesub", "repeating_mechanicaldevicesspec_synergybonus", "repeating_mechanicaldevicesspec_synergyoffset", "repeating_mechanicaldevicesspec_group", "repeating_mechanicaldevicesspec_attributemodifier", "repeating_mechanicaldevicesspec_attributemodifiertwo",
            ], function (values) {
                let total = 0;
                Object.values(values).forEach(item => {
                   total += (+item || 0);
                });
                setAttrs({repeating_mechanicaldevicesspec_skilltotal: total});
            });
        });

    on("change:medicinetierfive change:medicinetierfour change:medicinetierthree change:medicinetiertwo change:medicinetierone change:medicinetierabovesub change:medicinesynergybonus change:medicinesynergyoffset change:medicinegroup change:medicineattributemodifier change:medicineattributemodifiertwo sheet:opened", function () {
          getAttrs([
              "medicinetierfive", "medicinetierfour", "medicinetierthree", "medicinetiertwo", "medicinetierone", "medicinetierabovesub", "medicinesynergybonus", "medicinesynergyoffset", "medicinegroup", "medicineattributemodifier", "medicineattributemodifiertwo",
          ], function (values) {
              let total = 0;
              Object.values(values).forEach(item => {
                 total += (+item || 0);
              });
              setAttrs({medicineskilltotal: total});
          });
      });

      on("change:repeating_medicinespec:tierfive change:repeating_medicinespec:tierfour change:repeating_medicinespec:tierthree change:repeating_medicinespec:tiertwo change:repeating_medicinespec:tierone change:repeating_medicinespec:tierabovesub change:repeating_medicinespec:synergybonus change:repeating_medicinespec:synergyoffset change:repeating_medicinespec:group change:repeating_medicinespec:attributemodifier change:repeating_medicinespec:attributemodifiertwo sheet:opened", function () {
            getAttrs([
                "repeating_medicinespec_tierfive", "repeating_medicinespec_tierfour", "repeating_medicinespec_tierthree", "repeating_medicinespec_tiertwo", "repeating_medicinespec_tierone", "repeating_medicinespec_tierabovesub", "repeating_medicinespec_synergybonus", "repeating_medicinespec_synergyoffset", "repeating_medicinespec_group", "repeating_medicinespec_attributemodifier", "repeating_medicinespec_attributemodifiertwo",
            ], function (values) {
                let total = 0;
                Object.values(values).forEach(item => {
                   total += (+item || 0);
                });
                setAttrs({repeating_medicinespec_skilltotal: total});
            });
        });

    on("change:perceptiontierfive change:perceptiontierfour change:perceptiontierthree change:perceptiontiertwo change:perceptiontierone change:perceptiontierabovesub change:perceptionsynergybonus change:perceptionsynergyoffset change:perceptiongroup change:perceptionattributemodifier change:perceptionattributemodifiertwo sheet:opened", function () {
          getAttrs([
              "perceptiontierfive", "perceptiontierfour", "perceptiontierthree", "perceptiontiertwo", "perceptiontierone", "perceptiontierabovesub", "perceptionsynergybonus", "perceptionsynergyoffset", "perceptiongroup", "perceptionattributemodifier", "perceptionattributemodifiertwo",
          ], function (values) {
              let total = 0;
              Object.values(values).forEach(item => {
                 total += (+item || 0);
              });
              setAttrs({perceptionskilltotal: total});
          });
      });

      on("change:repeating_perceptionspec:tierfive change:repeating_perceptionspec:tierfour change:repeating_perceptionspec:tierthree change:repeating_perceptionspec:tiertwo change:repeating_perceptionspec:tierone change:repeating_perceptionspec:tierabovesub change:repeating_perceptionspec:synergybonus change:repeating_perceptionspec:synergyoffset change:repeating_perceptionspec:group change:repeating_perceptionspec:attributemodifier change:repeating_perceptionspec:attributemodifiertwo sheet:opened", function () {
            getAttrs([
                "repeating_perceptionspec_tierfive", "repeating_perceptionspec_tierfour", "repeating_perceptionspec_tierthree", "repeating_perceptionspec_tiertwo", "repeating_perceptionspec_tierone", "repeating_perceptionspec_tierabovesub", "repeating_perceptionspec_synergybonus", "repeating_perceptionspec_synergyoffset", "repeating_perceptionspec_group", "repeating_perceptionspec_attributemodifier", "repeating_perceptionspec_attributemodifiertwo",
            ], function (values) {
                let total = 0;
                Object.values(values).forEach(item => {
                   total += (+item || 0);
                });
                setAttrs({repeating_perceptionspec_skilltotal: total});
            });
        });

    on("change:professiontierfive change:professiontierfour change:professiontierthree change:professiontiertwo change:professiontierone change:professiontierabovesub change:professionsynergybonus change:professionsynergyoffset change:professiongroup change:professionattributemodifier change:professionattributemodifiertwo sheet:opened", function () {
          getAttrs([
              "professiontierfive", "professiontierfour", "professiontierthree", "professiontiertwo", "professiontierone", "professiontierabovesub", "professionsynergybonus", "professionsynergyoffset", "professiongroup", "professionattributemodifier", "professionattributemodifiertwo",
          ], function (values) {
              let total = 0;
              Object.values(values).forEach(item => {
                 total += (+item || 0);
              });
              setAttrs({professionskilltotal: total});
          });
      });

      on("change:repeating_professionspec:tierfive change:repeating_professionspec:tierfour change:repeating_professionspec:tierthree change:repeating_professionspec:tiertwo change:repeating_professionspec:tierone change:repeating_professionspec:tierabovesub change:repeating_professionspec:synergybonus change:repeating_professionspec:synergyoffset change:repeating_professionspec:group change:repeating_professionspec:attributemodifier change:repeating_professionspec:attributemodifiertwo sheet:opened", function () {
            getAttrs([
                "repeating_professionspec_tierfive", "repeating_professionspec_tierfour", "repeating_professionspec_tierthree", "repeating_professionspec_tiertwo", "repeating_professionspec_tierone", "repeating_professionspec_tierabovesub", "repeating_professionspec_synergybonus", "repeating_professionspec_synergyoffset", "repeating_professionspec_group", "repeating_professionspec_attributemodifier", "repeating_professionspec_attributemodifiertwo",
            ], function (values) {
                let total = 0;
                Object.values(values).forEach(item => {
                   total += (+item || 0);
                });
                setAttrs({repeating_professionspec_skilltotal: total});
            });
        });

    on("change:socialtierfive change:socialtierfour change:socialtierthree change:socialtiertwo change:socialtierone change:socialtierabovesub change:socialsynergybonus change:socialsynergyoffset change:socialgroup change:socialattributemodifier change:socialattributemodifiertwo sheet:opened", function () {
          getAttrs([
              "socialtierfive", "socialtierfour", "socialtierthree", "socialtiertwo", "socialtierone", "socialtierabovesub", "socialsynergybonus", "socialsynergyoffset", "socialgroup", "socialattributemodifier", "socialattributemodifiertwo",
          ], function (values) {
              let total = 0;
              Object.values(values).forEach(item => {
                 total += (+item || 0);
              });
              setAttrs({socialskilltotal: total});
          });
      });

    on("change:socialwittierfive change:socialwittierfour change:socialwittierthree change:socialwittiertwo change:socialwittierone change:socialwittierabovesub change:socialwitsynergybonus change:socialwitsynergyoffset change:socialwitgroup change:socialwitattributemodifier change:socialwitattributemodifiertwo sheet:opened", function () {
          getAttrs([
              "socialwittierfive", "socialwittierfour", "socialwittierthree", "socialwittiertwo", "socialwittierone", "socialwittierabovesub", "socialwitsynergybonus", "socialwitsynergyoffset", "socialwitgroup", "socialwitattributemodifier", "socialwitattributemodifiertwo",
          ], function (values) {
              let total = 0;
              Object.values(values).forEach(item => {
                 total += (+item || 0);
              });
              setAttrs({socialwitskilltotal: total});
          });
      });

    on("change:socialpersonalitytierfive change:socialpersonalitytierfour change:socialpersonalitytierthree change:socialpersonalitytiertwo change:socialpersonalitytierone change:socialpersonalitytierabovesub change:socialpersonalitysynergybonus change:socialpersonalitysynergyoffset change:socialpersonalitygroup change:socialpersonalityattributemodifier change:socialpersonalityattributemodifiertwo sheet:opened", function () {
          getAttrs([
              "socialpersonalitytierfive", "socialpersonalitytierfour", "socialpersonalitytierthree", "socialpersonalitytiertwo", "socialpersonalitytierone", "socialpersonalitytierabovesub", "socialpersonalitysynergybonus", "socialpersonalitysynergyoffset", "socialpersonalitygroup", "socialpersonalityattributemodifier", "socialpersonalityattributemodifiertwo",
          ], function (values) {
              let total = 0;
              Object.values(values).forEach(item => {
                 total += (+item || 0);
              });
              setAttrs({socialpersonalityskilltotal: total});
          });
      });

      on("change:repeating_socialpersonalityspec:tierfive change:repeating_socialpersonalityspec:tierfour change:repeating_socialpersonalityspec:tierthree change:repeating_socialpersonalityspec:tiertwo change:repeating_socialpersonalityspec:tierone change:repeating_socialpersonalityspec:tierabovesub change:repeating_socialpersonalityspec:synergybonus change:repeating_socialpersonalityspec:synergyoffset change:repeating_socialpersonalityspec:group change:repeating_socialpersonalityspec:attributemodifier change:repeating_socialpersonalityspec:attributemodifiertwo sheet:opened", function () {
            getAttrs([
                "repeating_socialpersonalityspec_tierfive", "repeating_socialpersonalityspec_tierfour", "repeating_socialpersonalityspec_tierthree", "repeating_socialpersonalityspec_tiertwo", "repeating_socialpersonalityspec_tierone", "repeating_socialpersonalityspec_tierabovesub", "repeating_socialpersonalityspec_synergybonus", "repeating_socialpersonalityspec_synergyoffset", "repeating_socialpersonalityspec_group", "repeating_socialpersonalityspec_attributemodifier", "repeating_socialpersonalityspec_attributemodifiertwo",
            ], function (values) {
                let total = 0;
                Object.values(values).forEach(item => {
                   total += (+item || 0);
                });
                setAttrs({repeating_socialpersonalityspec_skilltotal: total});
            });
        });

        on("change:repeating_socialwitspec:tierfive change:repeating_socialwitspec:tierfour change:repeating_socialwitspec:tierthree change:repeating_socialwitspec:tiertwo change:repeating_socialwitspec:tierone change:repeating_socialwitspec:tierabovesub change:repeating_socialwitspec:synergybonus change:repeating_socialwitspec:synergyoffset change:repeating_socialwitspec:group change:repeating_socialwitspec:attributemodifier change:repeating_socialwitspec:attributemodifiertwo sheet:opened", function () {
              getAttrs([
                  "repeating_socialwitspec_tierfive", "repeating_socialwitspec_tierfour", "repeating_socialwitspec_tierthree", "repeating_socialwitspec_tiertwo", "repeating_socialwitspec_tierone", "repeating_socialwitspec_tierabovesub", "repeating_socialwitspec_synergybonus", "repeating_socialwitspec_synergyoffset", "repeating_socialwitspec_group", "repeating_socialwitspec_attributemodifier", "repeating_socialwitspec_attributemodifiertwo",
              ], function (values) {
                  let total = 0;
                  Object.values(values).forEach(item => {
                     total += (+item || 0);
                  });
                  setAttrs({repeating_socialwitspec_skilltotal: total});
              });
          });

          on("change:strengthskillstierfive change:strengthskillstierfour change:strengthskillstierthree change:strengthskillstiertwo change:strengthskillstierone change:strengthskillstierabovesub change:strengthskillssynergybonus change:strengthskillssynergyoffset change:strengthskillsgroup change:strengthskillsattributemodifier change:strengthskillsattributemodifiertwo sheet:opened", function () {
                getAttrs([
                    "strengthskillstierfive", "strengthskillstierfour", "strengthskillstierthree", "strengthskillstiertwo", "strengthskillstierone", "strengthskillstierabovesub", "strengthskillssynergybonus", "strengthskillssynergyoffset", "strengthskillsgroup", "strengthskillsattributemodifier", "strengthskillsattributemodifiertwo",
                ], function (values) {
                    let total = 0;
                    Object.values(values).forEach(item => {
                       total += (+item || 0);
                    });
                    setAttrs({strengthskillsskilltotal: total});
                });
            });

            on("change:repeating_strengthskillsspec:tierfive change:repeating_strengthskillsspec:tierfour change:repeating_strengthskillsspec:tierthree change:repeating_strengthskillsspec:tiertwo change:repeating_strengthskillsspec:tierone change:repeating_strengthskillsspec:tierabovesub change:repeating_strengthskillsspec:synergybonus change:repeating_strengthskillsspec:synergyoffset change:repeating_strengthskillsspec:group change:repeating_strengthskillsspec:attributemodifier change:repeating_strengthskillsspec:attributemodifiertwo sheet:opened", function () {
                  getAttrs([
                      "repeating_strengthskillsspec_tierfive", "repeating_strengthskillsspec_tierfour", "repeating_strengthskillsspec_tierthree", "repeating_strengthskillsspec_tiertwo", "repeating_strengthskillsspec_tierone", "repeating_strengthskillsspec_tierabovesub", "repeating_strengthskillsspec_synergybonus", "repeating_strengthskillsspec_synergyoffset", "repeating_strengthskillsspec_group", "repeating_strengthskillsspec_attributemodifier", "repeating_strengthskillsspec_attributemodifiertwo",
                  ], function (values) {
                      let total = 0;
                      Object.values(values).forEach(item => {
                         total += (+item || 0);
                      });
                      setAttrs({repeating_strengthskillsspec_skilltotal: total});
                  });
              });

  on("change:survivaltierfive change:survivaltierfour change:survivaltierthree change:survivaltiertwo change:survivaltierone change:survivaltierabovesub change:survivalsynergybonus change:survivalsynergyoffset change:survivalgroup change:survivalattributemodifier change:survivalattributemodifiertwo sheet:opened", function () {
        getAttrs([
            "survivaltierfive", "survivaltierfour", "survivaltierthree", "survivaltiertwo", "survivaltierone", "survivaltierabovesub", "survivalsynergybonus", "survivalsynergyoffset", "survivalgroup", "survivalattributemodifier", "survivalattributemodifiertwo",
        ], function (values) {
            let total = 0;
            Object.values(values).forEach(item => {
               total += (+item || 0);
            });
            setAttrs({survivalskilltotal: total});
        });
    });


  on("change:survivaloutdoorstierfive change:survivaloutdoorstierfour change:survivaloutdoorstierthree change:survivaloutdoorstiertwo change:survivaloutdoorstierone change:survivaloutdoorstierabovesub change:survivaloutdoorssynergybonus change:survivaloutdoorssynergyoffset change:survivaloutdoorsgroup change:survivaloutdoorsattributemodifier change:survivaloutdoorsattributemodifiertwo sheet:opened", function () {
        getAttrs([
            "survivaloutdoorstierfive", "survivaloutdoorstierfour", "survivaloutdoorstierthree", "survivaloutdoorstiertwo", "survivaloutdoorstierone", "survivaloutdoorstierabovesub", "survivaloutdoorssynergybonus", "survivaloutdoorssynergyoffset", "survivaloutdoorsgroup", "survivaloutdoorsattributemodifier", "survivaloutdoorsattributemodifiertwo",
        ], function (values) {
            let total = 0;
            Object.values(values).forEach(item => {
               total += (+item || 0);
            });
            setAttrs({survivaloutdoorsskilltotal: total});
        });
    });

    on("change:repeating_survivaloutdoorsspec:tierfive change:repeating_survivaloutdoorsspec:tierfour change:repeating_survivaloutdoorsspec:tierthree change:repeating_survivaloutdoorsspec:tiertwo change:repeating_survivaloutdoorsspec:tierone change:repeating_survivaloutdoorsspec:tierabovesub change:repeating_survivaloutdoorsspec:synergybonus change:repeating_survivaloutdoorsspec:synergyoffset change:repeating_survivaloutdoorsspec:group change:repeating_survivaloutdoorsspec:attributemodifier change:repeating_survivaloutdoorsspec:attributemodifiertwo sheet:opened", function () {
          getAttrs([
              "repeating_survivaloutdoorsspec_tierfive", "repeating_survivaloutdoorsspec_tierfour", "repeating_survivaloutdoorsspec_tierthree", "repeating_survivaloutdoorsspec_tiertwo", "repeating_survivaloutdoorsspec_tierone", "repeating_survivaloutdoorsspec_tierabovesub", "repeating_survivaloutdoorsspec_synergybonus", "repeating_survivaloutdoorsspec_synergyoffset", "repeating_survivaloutdoorsspec_group", "repeating_survivaloutdoorsspec_attributemodifier", "repeating_survivaloutdoorsspec_attributemodifiertwo",
          ], function (values) {
              let total = 0;
              Object.values(values).forEach(item => {
                 total += (+item || 0);
              });
              setAttrs({repeating_survivaloutdoorsspec_skilltotal: total});
          });
      });

  on("change:survivalurbantierfive change:survivalurbantierfour change:survivalurbantierthree change:survivalurbantiertwo change:survivalurbantierone change:survivalurbantierabovesub change:survivalurbansynergybonus change:survivalurbansynergyoffset change:survivalurbangroup change:survivalurbanattributemodifier change:survivalurbanattributemodifiertwo sheet:opened", function () {
        getAttrs([
            "survivalurbantierfive", "survivalurbantierfour", "survivalurbantierthree", "survivalurbantiertwo", "survivalurbantierone", "survivalurbantierabovesub", "survivalurbansynergybonus", "survivalurbansynergyoffset", "survivalurbangroup", "survivalurbanattributemodifier", "survivalurbanattributemodifiertwo",
        ], function (values) {
            let total = 0;
            Object.values(values).forEach(item => {
               total += (+item || 0);
            });
            setAttrs({survivalurbanskilltotal: total});
        });
    });

    on("change:repeating_survivalurbanspec:tierfive change:survivalurbanspectierfour change:survivalurbanspectierthree change:survivalurbanspectiertwo change:survivalurbanspectierone change:repeating_survivalurbanspec:tierfour change:repeating_survivalurbanspec:tierthree change:repeating_survivalurbanspec:tiertwo change:repeating_survivalurbanspec:tierone change:repeating_survivalurbanspec:tierabovesub change:repeating_survivalurbanspec:synergybonus change:repeating_survivalurbanspec:synergyoffset change:repeating_survivalurbanspec:group change:repeating_survivalurbanspec:attributemodifier change:repeating_survivalurbanspec:attributemodifiertwo sheet:opened", function () {
          getAttrs([
              "repeating_survivalurbanspec_tierfive", "repeating_survivalurbanspec_tierfour", "repeating_survivalurbanspec_tierthree", "repeating_survivalurbanspec_tiertwo", "repeating_survivalurbanspec_tierone", "repeating_survivalurbanspec_tierabovesub", "repeating_survivalurbanspec_synergybonus", "repeating_survivalurbanspec_synergyoffset", "repeating_survivalurbanspec_group", "repeating_survivalurbanspec_attributemodifier", "repeating_survivalurbanspec_attributemodifiertwo",
          ], function (values) {
              let total = 0;
              Object.values(values).forEach(item => {
                 total += (+item || 0);
              });
              setAttrs({repeating_survivalurbanspec_skilltotal: total});
          });
      });




    </script>

<main class="image-bg">
  <div class="transparent-bg flex-container">

    <div class="col transparent-bg">
      <div class="section white-bg pink-border">
        <label class="inline">
          <span data-i18n="name-u" class="pressstart2p">Name</span> <input type=text name="attr_char_name" class="mediumwidth" />
        </label>
      </div>
      <div class="section white-bg pink-border">
        <label>
          <span class="monospace" data-i18n="info-u">Info</span>
        </label>
        <textarea name="attr_info"></textarea>
      </div>
      <div class="section white-bg pink-border">
        <label class="inline transform3">
          <span class="lacquer" data-i18n="class-u">Class<span>
          </label>
          <textarea name="attr_class"></textarea>
        </div>

        <div class="section white-bg pink-border">
          <label>
            <span class="majormono" data-i18n="nano-u">Nano</span>
          </label>
          <div class="2colrow">
            <div class="col">
              <span class="note italic monospace" data-i18n="nano-note-u">Presence DR12</span>
            </div>
            <div class="col">
<!--              <button type="roll" name="roll_nano" value="/em (@{char_name}) @{labelrolls} @{labelnano}: [[1d20 + @{presence}]]"></button>
-->

            </div>
          </div>
          <fieldset class="repeating_nano" name="repeating_nano">
            <input type="text" class="mediumwidth" name="attr_nanoname" /> <button type="roll" value="&{template:attack} {{name=@{char_name} @{labelrolls} @{labelnano}: @{nanoname}}} {{attack=@{labelnano}: [[1d20 + @{presence}]]}} {{damage=@{labelfumble}: [[@{nano_fumble}]]}}" name="roll_app"></button>
            <textarea class="singleline" name="attr_nanodetails"></textarea>
            <label>
              <span class="note italic" i18n="linkedinfestation-u">Linked Infestation</span>
            </label>
            <textarea class="singleline" name="attr_nanoinfestation"></textarea>
          </fieldset>
          <br />
<!--
          <label class="inline">
            <span data-i18n="use-nano-u" class="note">Use Nano</span>
          </label>
          <button type="roll" value="/em (@{char_name}) @{labelrolls} @{labelnano}: [[1d20 + @{presence}]]"></button>
-->
          <label class="inline">
            <span data-i18n="labelfumble" class="note">Fumble</span>
          </label>
          <input name="attr_nano_fumble" type="number" class="num" value="1" />
        </div>

        <div class="section white-bg">
          <label>
            <span class="monospace" i18n="infestations-u">Infestations</span>
          </label>
          <fieldset class="repeating_infestations" name="repeating_infestations">
            <textarea class="singleline" name="attr_infestation"></textarea>
          </fieldset>
        </div>

        <div class="section white-bg pink-border">
          <label>
            <span class="courier" data-i18n="cyberdeck-u">Cyberdeck Slots</span>
            <input type="number" class="num" name="attr_cyberdeck" value="0" />
          </label>
          <label>
            <span class="majormono" data-i18n="apps-u">Apps</span>
          </label>
          <div class="2colrow">
            <div class="col">
              <span class="note italic monospace" data-i18n="apps-note-u">Knowledge DR12</span>
            </div>
            <div class="col">
<!--              <button type="roll" name="roll_apps" value="/em (@{char_name}) @{labelrolls} @{labelapp}: [[1d20 + @{knowledge}]]"></button>
-->
            </div>
        </div>
        <fieldset class="repeating_apps" name="repeating_apps">
          <input type="text" class="mediumwidth" name="attr_appname" /> <button type="roll" value="&{template:defense} {{name=@{char_name} @{labelrolls} @{labelapp}: @{appname}}} {{defend=@{labelapp}: [[1d20 + @{knowledge}]]}} {{damage=@{labelfumble} / @{labelbacklash}: [[@{app_fumble}]]}}" name="roll_app"></button>
          <textarea class="singleline" name="attr_appdetails"></textarea>
        </fieldset>
        <br />
<!--
        <label class="inline">
          <span data-i18n="use-app-u" class="note">Use App</span>
        </label>
        <button type="roll" value="/em (@{char_name}) @{labelrolls} @{labelapp}: [[1d20 + @{knowledge}]]"></button>
-->
        <label class="inline">
          <span data-i18n="labelfumble" class="note">Fumble</span>
        </label>
        <input name="attr_app_fumble" type="number" class="short" value="1" />
      </div>

      </div>

      <div class="col col-middle transparent-bg">

        <div class="transparent-bg centered section pink-border">
          <img src="https://raw.githubusercontent.com/roll20/roll20-character-sheets/master/Cy_Borg/images/cy_borg-logo.png" alt="'Compatible with CY_BORG RPG' logo" />

          <br />

          <button type="roll" value="https://cy-borg.makedatanotlore.dev/"><span class="monospace note" data-i18n="punkmaker-u">CY_BORG//:PUNKMAKER</span></button>
        </div>

          <div class="2colrow section white-bg flex-container">
            <div class="col">
              <label class="transform1">
                <span class="lacquer" data-i18n="strength-u">Strength</span>
              </label>
            </div>
            <div class="col">
              <input type=number name="attr_strength" class="num" value="0" />
              <button type="roll" value="/em (@{char_name}) @{labelrolls} @{labelstrength}: [[1d20 + @{strength}]]" name="roll_strength"></button>
            </div>
          </div>
          <div class="section white-bg">
          <div class="2colrow flex-container">
            <div class="col">
              <label class="transform2">
                <span class="lacquer" data-i18n="agility-u">Agility</span>
              </label>
            </div>
            <div class="col">
              <input type=number name="attr_agility" class="num" value="0" />
              <button type="roll" value="/em (@{char_name}) @{labelrolls} @{labelagility}: [[1d20 + @{agility}]]" name="roll_agility"></button>
            </div>
            </div>
            <div class="2colrow flex-container">
              <div class="col">
                <label>
                  <span class="note" data-i18n="defense-u">Defense</span>
                </label>
              </div>
              <div class="col">
                <!--
              <button type="roll" value="&{template:default} {{name=@{char_name} @{labelrolls} @{labeldefense}}} {{Defend:=[[1d20 + @{agility}]] (DR +@{defdr})}} {{@{labelifhit}:=[[?{Enemy Damage|1d6} - 1d@{armortier} - @{shield}]] damage}} {{@{labelifcrit}:=@{labelcritmsg}.}} {{@{labeliffumble}:=@{labelfumblemsg} (@{labelcurrently} [[@{armortier}/2]]).}}" name="roll_defense2"></button>
              -->
              <button type="roll" value="&{template:defense} {{name=@{char_name} @{labelrolls} @{labeldefense}}} {{defend=@{labeldefense}: [[1d20 + @{agility}]] (DR +@{defdr})}} {{damage=@{labeldamage}: [[?{Enemy Damage|1d6} - 1d@{armortier}]] (-d@{armortier})}} {{critmsg=@{labelcritmsg}.}} {{fumblemsg=@{labelfumblemsg} (@{labelcurrently} [[@{armortier}/2]]).}}" name="roll_defense2"></button>
              </div>
          </div>
          <div class="2colrow flex-container">
            <div class="col">
              <label>
                <span class="note" data-i18n="initiative-u">Initiative</span>
              </label> (<span class="note" data-i18n="initiative-note-u">Agility + d6</span>)
            </div>
            <div class="col">
              <button type="roll" value="/em (@{char_name}) @{labelrolls} @{labelinitiative}: [[@{agility} + 1d6 &{tracker}]]"></button>
            </div>
          </div>
        </div>
        <div class="2colrow section white-bg flex-container">
          <div class="col">
            <label class="transform3">
              <span class="lacquer" data-i18n="presence-u">Presence</span>
            </label>
          </div>
          <div class="col">
            <input type=number name="attr_presence" class="num" value="0" />
            <button type="roll" value="/em (@{char_name}) @{labelrolls} @{labelpresence}: [[1d20 + @{presence}]]" name="roll_presence"></button>
          </div>
        </div>
        <div class="2colrow section white-bg flex-container">
          <div class="col">
            <label class="transform1">
              <span class="lacquer" data-i18n="toughness-u">Toughness</span>
            </label>
          </div>
          <div class="col">
            <input type=number name="attr_toughness" class="num" value="0" />
            <button type="roll" value="/em (@{char_name}) @{labelrolls} @{labeltoughness}: [[1d20 + @{toughness}]]" name="roll_toughness"></button>
          </div>
        </div>
        <div class="2colrow section white-bg flex-container">
          <div class="col">
            <label class="transform2">
              <span class="lacquer" data-i18n="knowledge-u">Knowledge</span>
            </label>
          </div>
          <div class="col">
            <input type=number name="attr_knowledge" class="num" value="0" />
            <button type="roll" value="/em (@{char_name}) @{labelrolls} @{labelknowledge}: [[1d20 + @{knowledge}]]" name="roll_knowledge"></button>
          </div>
        </div>

        <div class="transparent-bg white-text">
          <label class="centered">
            <span class="monospace all-caps" data-i18n="hit-points-u">Hit Points</span>
          </label>
          <div class="2colrow-custom transparent-bg">
            <div class="col-custom transparent-bg col-right">
              <label class="aligns-right">
                <span class="monospace note" data-i18n="current-hit-points-u">Current<span>
              </label>
              <br />
              <input name="attr_hp" type="number" class="num" value="0" />
            </div>
            <div class="col-custom transparent-bg">
              <label>
                <span class="monospace note" data-i18n="max-hit-points-u">Max</span>
              </label>
              <br />
              <input name="attr_hp_max" type="number" class="num" value="0" />
            </div>
          </div>
          <div class="transparent-bg">
            <label class="inline">
              <span class="note italic majormono" data-i18n="selfimprovement-u">Self-Improvement</span>
            </label>
            <button type="roll" value="&{template:selfimprovement} {{name=@{char_name} @{labelrolls} @{labelselfimprovement}}} {{morehp=@{labelmorehp} [[6d10]] vs, @{hp|max}}} {{jacketlining=@{labeljacket}: [[1d6]]}} {{changes=@{labelabilitychanges}}} {{strength=@{labelstrength}: [[1d6]] vs, @{strength}}} {{agility=@{labelagility}: [[1d6]] vs. @{agility}}} {{presence=@{labelpresence}: [[1d6]] vs, @{presence}}} {{toughness=@{labeltoughness}: [[1d6]] vs. @{toughness}}} {{knowledge=@{labelknowledge}: [[1d6]] vs. @{knowledge}}}"></button>
          </div>
        </div>

              <div class="section white-bg">
                <div class="2colrow">
                  <div class="col">
                    <label>
                      <span class="courier" data-i18n="creds-u">Creds</span>
                    </label>
                  </div>
                  <div class="col">
                    <input type="text" name="attr_creds" value="0" class="widewidth" />
                  </div>
                </div>
                <div class="2colrow">
                  <div class="col">
                    <label>
                      <span class="courier" data-i18n="debt-u">Debt</span>
                    </label>
                  </div>
                  <div class="col">
                    <input type="text" name="attr_debt" value="0" class="widewidth" />
                  </div>
                </div>
              </div>

        <div class="section white-bg">
          <label>
            <span class="pressstart2p" data-i18n="glitches-u">Glitches</span>
          </label>
          <input name="attr_glitches_curr" type="number" class="short" value="0" />
          <select name="attr_glitches" class="short">
            <option value="2" selected="selected">d2</option>
            <option value="3">d3</option>
            <option value="4">d4</option>
            <option value="6">d6</option>
            <option value="8">d8</option>
            <option value="10">d10</option>
          </select>
          <span class="note italic" data-i18n="glitches-regain-u">Regain:</span>
          <button type="roll" value="/em (@{char_name}) @{labelrolls} [[1d@{glitches}]] @{labelglitches}"></button>
          <br />
          <span class="note" data-i18n="glitches-note-u">Maximum damage, Reroll, -d6 damage, DR-4, No Crit/Fumble</span>
        </div>

        <div class="section white-bg pink-border">
          <label class="centered">
            <span class="robotocondensed all-caps" data-i18n="cybertech-u">Cybertech</span>
          </label>
          <fieldset class="repeating_cybertechs" name="repeating_cybertechs">
            <textarea class="singleline" name="attr_cybertech"></textarea>
          </fieldset>
          </div>

      </div>

      <div class="col transparent-bg">
        <div class="section pink-border white-bg">
          <div>
            <label class="transform2">
              <span class="lacquer" data-i18n="weapons-u">Weapons</span>
            </label>
          </div>
          <div>
            <fieldset class="repeating_weapons" name="repeating_weapons">
              <textarea class="singleline" name="attr_weaponname"></textarea>
              <div class="3colrow">
                <div class="col collabel">
                  <label>
                    <span class="note" data-i18n="weapons-type-u">Type</span>
                  </label>
                </div>
                <div class="col collabel">
                  <label>
                    <span class="note" data-i18n="weapons-mags-u">Mags</span>
                  </label>
                </div>
                <div class="col collabel">
                  <label>
                    <span class="note" data-i18n="weapons-damage-u">Dmg</span>
                  </label>
                </div>
              </div>

              <select name="attr_attacktype" class="short">
                <option value="@{strength}" data-i18n="melee-u">Melee</option>
                <option value="@{presence}" data-i18n="singleshot-u">Single Shot</option>
                <option value="@{agility}" data-i18n="autofire-u">Autofire</option>
              </select>
              <input type=number name="attr_mags" />
              <select name="attr_weapondamage" class="short">
                <option value="1d2" selected="selected">d2</option>
                <option value="1d3">d3</option>
                <option value="1d4">d4</option>
                <option value="1d6">d6</option>
                <option value="1d6+1">d6+1</option>
                <option value="1d8">d8</option>
                <option value="1d10">d10</option>
                <option value="2d10">2d10</option>
                <option value="1d12">d12</option>
                <option value="?{Damage die|1d2}">Special</option>
              </select>
              <button type="roll" value="&{template:attack} {{name=@{char_name} @{labelattacks} @{labelwith} @{weaponname}}} {{attack=@{labelattack}: [[1d20 + @{attacktype}]]}} {{damage=@{labeldamage}: [[@{weapondamage}]]}} {{critdmg=[[(@{weapondamage})*2]]}} {{critmsg=@{labelfumblemsg}.}} {{dmgfumble=[[1d6]] @{labelattackfumble}.}}" name="roll_attack"></button>
            </fieldset>
              <div>
                <label class="inline">
                  <span class="note italic" data-i18n="countbullets-u">Count Bullets</span>
                </label>
                <select name="attr_ammo" class="short">
                  <option value="d6" selected="selected">d6</option>
                  <option value="d8">d8</option>
                </select>
                <button type="roll" value="/em @{char_name} @{labelcountsbullets}: [[@{ammo}]]" name="roll_ammo"></button>
              </div>
              <div>
                <label class="inline">
                  <span class="note italic" data-i18n="catchbreath-u">Catch Your Breath</span>
                </label>
                <button type="roll" value="/em @{char_name} @{labelcatchesbreath}: [[1d4]] HP" name="roll_catchbreath"></button>
                <br />
                <label class="inline">
                  <span class="note italic" data-i18n="sleep-u">Eat, Drink, Sleep</span>
                </label>
                <button type="roll" value="/em @{char_name} @{labelsleeps}: [[1d6]] HP."></button>
              </div>
          </div>
        </div>
        <div class="section white-bg">
          <label>
            <span data-i18n="armor-u" class="monospace">Armor</span>
          </label>
          <textarea class="singleline inline-block" name="attr_armor"></textarea>
          <br />
          <label class="inline">
            <span data-i18n="armor-tier-u">Tier</span>
          </label>
          <form class="inline-block" name="armortier">
            <input name="attr_armortier" type="radio" value="0" checked>
            <label for="0">0</label>
            <input name="attr_armortier" type="radio" value="2">
            <label for="2">1<br />-d2</label>
            <input name="attr_armortier" type="radio" value="4">
            <label for="4">2<br />-d4</label>
            <input name="attr_armortier" type="radio" value="6">
            <label for="6">3<br />-d6</label>
            <input name="attr_armortier" type="radio" value="8">
            <label for="8">4<br />-d8</label>
          </form>
        </div>
        <div class="section white-bg pink-border">
          <div>
          <div class="floats">
            <label>
              <span class="courier" data-i18n="equipment-u">Equipment</span>
            </label>
          </div>
          <div class="righttext">
            <span class="monospace italic note" data-i18n="equipment-note-u">
            Strength+8 items or DR+2 on Agility/Strength tests
            </span>
          </div>
         </div>
          <div>
            <label class="inline">
              <span class="note" data-i18n="equipment-items-carried">Items carried</span>
            </label>
            <input name="attr_items_carried" type="number" value="0" />
            <br />
              <label>
                <span class="note" data-i18n="equipment-item-u">Item</span>
              </label>
            <fieldset class="repeating_equipment" name="repeating_equipment">
              <textarea class="singleline" name="attr_equipment"></textarea>
            </fieldset>
          </div>
        </div>

        <!-- NPC Info Section -->
        <div class="section white-bg">
          <label class="centered">
            <span data-i18n="npc-rolls">NPC Rolls</span>
          </label>
          <span data-i18n="morale">Morale</span>
          <input type=number name="attr_morale" class="num" value="0" />
          <button type="roll" value="&{template:default} {{name=Morale Check 2D6}} {{Check=[[2d6]] vs. Morale @{morale}}} {{Note= If you roll over the
enemy’s Morale, [[d6]]: 1–3 Flees, 4–6 Surrenders}} {{Roll Morale When=(1) The leader is down; (2) Half the group is eliminated; (3) Lone enemy has 1/3 HP left}}" name="roll_morale"><span data-i18n="morale">Morale</span></button>
          <button type="roll" value="&{template:default} {{name=Reaction Check 2D6}} {{Check=[[2d6]]}} {{Note=<span>2–3 Hostile</span><span>4–6 Angered</span><span>7–8 Indifferent</span><span>9–10 Curious</span><span>11–12 Asks for help</span>}}" name="roll_reaction"><span data-i18n="reaction">Reaction</span></button>
        </div>

        <div class="section white-bg">
          <label class="centered">
            <span data-i18n="misc-notes" class="pressstart2p">Misc. Notes</span>
          </label>
          <textarea name="attr_miscnotes"></textarea>
        </div>

        </div>

      </div>
    </main>

    <rolltemplate class="sheet-rolltemplate-attack">
      <div class="container pink-bg">
        <div>
          <h1>{{name}}</h1>
        </div>
        <div>
          <span>{{attack}}</span>
          {{#rollWasCrit() attack}}
            <span data-i18n="crit-template" class="bold-text">CRIT</span>
          {{/rollWasCrit() attack}}
          {{#rollWasFumble() attack}}
            <span data-i18n="fumble-template" class="bold-text">FUMBLE</span>
          {{/rollWasFumble() attack}}
        </div>
        {{#^rollWasCrit() attack}}
          <div>
            <span>{{damage}}</span>
          </div>
        {{/^rollWasCrit() attack}}
        {{#rollWasCrit() attack}}
          <div>
            <span><span data-i18n="crit-damage-template">Crit Damage</span>: {{critdmg}}</span>
          </div>
          <div class="crit">
            <span>{{critmsg}}</span>
          </div>
        {{/rollWasCrit() attack}}
        {{#rollWasFumble() attack}}
          <div class="crit-black">
            <span class="lacquer">{{dmgfumble}}</span>
          </div>
        {{/rollWasFumble() attack}}
      </div>
    </rolltemplate>

    <rolltemplate class="sheet-rolltemplate-defense">
      <div class="container pink-bg">
        <div>
          <h1>{{name}}</h1>
        </div>
        <div>
          <span>{{defend}}</span>
          {{#rollWasCrit() defend}}
            <span data-i18n="crit-template" class="bold-text">CRIT</span>
          {{/rollWasCrit() defend}}
          {{#rollWasFumble() defend}}
            <span data-i18n="fumble-template" class="bold-text">FUMBLE</span>
          {{/rollWasFumble() defend}}
        </div>
        {{#damage}}
          <div>
            <span>{{damage}}</span>
          </div>
        {{/damage}}
        {{#rollWasCrit() defend}}
          <div class="crit">
            <span>{{critmsg}}</span>
          </div>
        {{/rollWasCrit() defend}}
        {{#rollWasFumble() defend}}
          <div class="crit-black">
            <span>{{fumblemsg}}</span>
          </div>
        {{/rollWasFumble() defend}}
      </div>
    </rolltemplate>

    <rolltemplate class="sheet-rolltemplate-selfimprovement">
        <div class="container yellow-bg">
          <div>
            <h1>{{name}}</h1>
          </div>
          <div>
            <span>{{morehp}}</span>
          </div>
          <div>
            <span>{{jacketlining}}</span>
          </div>
          <div class="black-bg">
            <span class="bold-text">{{changes}}</span>
          </div>
          <div>
            <span>{{strength}}</span>
          </div>
          <div>
            <span>{{agility}}</span>
          </div>
          <div>
            <span>{{presence}}</span>
          </div>
          <div>
            <span>{{toughness}}</span>
          </div>
          <div>
            <span>{{knowledge}}</span>
          </div>
        </div>
    </rolltemplate>

    <div class="no-display">
      <span class="no-display" data-i18n="labelapp">App</span>
      <span class="no-display" data-i18n="labelfumble">Fumble</span>
      <span class="no-display" data-i18n="labelbacklash">Backlash</span>
      <span class="no-display" data-i18n="labelnano">Nano</span>
      <span class="no-display" data-i18n="labelstrength">Strength</span>
      <span class="no-display" data-i18n="labelagility">Agility</span>
      <span class="no-display" data-i18n="labeldefense">Defense</span>
      <span class="no-display" data-i18n="labelinitiative">Initiative</span>
      <span class="no-display" data-i18n="labelpresence">Presence</span>
      <span class="no-display" data-i18n="labeltoughness">Toughness</span>
      <span class="no-display" data-i18n="labelknowledge">Knowledge</span>
      <span class="no-display" data-i18n="labelselfimprovement">Self-Improvement</span>
      <span class="no-display" data-i18n="labelmorehp">More HP?</span>
      <span class="no-display" data-i18n="labeljacket">In the lining of your jacket, you find</span>
      <span class="no-display" data-i18n="labelabilitychanges">Ability Changes</span>
      <span class="no-display" data-i18n="labelglitches">Glitches</span>

      <span class="no-display" data-i18n="labelrolls">rolls</span>
      <span class="no-display" data-i18n="labelcatchesbreath">catches their breath</span>
      <span class="no-display" data-i18n="labelcountsbullets">counts bullets</span>
      <span class="no-display" data-i18n="labelsleeps">eats, drinks, and sleeps</span>
      <span class="no-display" data-i18n="labelattacks">attacks</span>
      <span class="no-display" data-i18n="labelwith">with</span>
      <span class="no-display" data-i18n="labelifhit">If hit</span>
      <span class="no-display" data-i18n="labelifcrit">If crit</span>
      <span class="no-display" data-i18n="labelcritmsg">PC gains a free attack</span>
      <span class="no-display" data-i18n="labeliffumble">If fumble</span>
      <span class="no-display" data-i18n="labelfumblemsg">Double damage, armor/protection reduced one tier</span>
      <span class="no-display" data-i18n="labelattack">Attack</span>
      <span class="no-display" data-i18n="labelattackfumble">1-3: Out of ammo, drop the weapon or make it unusable until an action is spent fixing it.<br />4-5: Weapon misfires/breaks, must be repaired out of combat.<br />6: Weapon explodes or otherwise hurts you for d6 damage and is beyond repair.</span>
      <span class="no-display" data-i18n="labeldamage">Damage</span>
      <span class="no-display" data-i18n="labelammo">ammo</span>
      <span class="no-display" data-i18n="labelcurrently">currently</span>
      <span class="no-display" data-i18n="labelcybertech">Cybertech</span>
    </div>


        <script type="text/worker">

            /* When I can figure out how to successfully automate the below, I will. For the time being, it seems to elude me--which I know is just due to some JS-related mental hiccup on my part.
             */

            on("sheet:opened", function (eventInfo) {
                 setAttrs({
                  ["labelnano"]: getTranslationByKey("labelnano"),
                  ["labelapp"]: getTranslationByKey("labelapp"),
                  ["labelbacklash"]: getTranslationByKey("labelbacklash"),
                  ["labelfumble"]: getTranslationByKey("labelfumble"),
                  ["labelstrength"]: getTranslationByKey("labelstrength"),
                  ["labelagility"]: getTranslationByKey("labelagility"),
                  ["labeldefense"]: getTranslationByKey("labeldefense"),
                  ["labelinitiative"]: getTranslationByKey("labelinitiative"),
                  ["labelpresence"]: getTranslationByKey("labelpresence"),
                  ["labeltoughness"]: getTranslationByKey("labeltoughness"),
                  ["labelknowledge"]: getTranslationByKey("labelknowledge"),
                  ["labelselfimprovement"]: getTranslationByKey("labelselfimprovement"),
                  ["labelmorehp"]: getTranslationByKey("labelmorehp"),
                  ["labeljacket"]: getTranslationByKey("labeljacket"),
                  ["labelabilitychanges"]: getTranslationByKey("labelabilitychanges"),
                  ["labelglitches"]: getTranslationByKey("labelglitches"),
                  ["labelrolls"]: getTranslationByKey("labelrolls"),
                  ["labelcountsbullets"]: getTranslationByKey("labelcountsbullets"),
                  ["labelcatchesbreath"]: getTranslationByKey("labelcatchesbreath"),
                  ["labelsleeps"]: getTranslationByKey("labelsleeps"),
                  ["labelattacks"]: getTranslationByKey("labelattacks"),
                  ["labelwith"]: getTranslationByKey("labelwith"),
                  ["labelifhit"]: getTranslationByKey("labelifhit"),
                  ["labelifcrit"]: getTranslationByKey("labelifcrit"),
                  ["labelcritmsg"]: getTranslationByKey("labelcritmsg"),
                  ["labeliffumble"]: getTranslationByKey("labeliffumble"),
                  ["labelfumblemsg"]: getTranslationByKey("labelfumblemsg"),
                  ["labelattack"]: getTranslationByKey("labelattack"),
                  ["labelattackfumble"]: getTranslationByKey("labelattackfumble"),
                  ["labeldamage"]: getTranslationByKey("labeldamage"),
                  ["labelammo"]: getTranslationByKey("labelammo"),
                  ["labelcurrently"]: getTranslationByKey("labelcurrently"),
                  ["labelcybertech"]: getTranslationByKey("labelcybertech")
              });
            });


          on("change:armortier sheet:opened", function () {
            getAttrs(["armortier"], function (values) {
              const armorstat_score = parseInt(values["armortier"], 10)||0;
              var armor_agi_modifier = 0;
              var armor_def_modifier = 0;
              var str_modifier = 0;
              var tough_modifier = 0;

              if (armorstat_score == 8) {
                armor_agi_modifier = 4;
                armor_def_modifier = 2;
                str_modifier = 2;
                tough_modifier = 2;
              } else if (armorstat_score == 6) {
                armor_agi_modifier = 2;
                armor_def_modifier = 2;
              } else if (armorstat_score == 4) {
                armor_def_modifier = 2;
                armor_agi_modifier = 2;
              } else {
                armor_agi_modifier = 0;
                armor_def_modifier = 0;
              }
              setAttrs({
                ["agidr"]: armor_agi_modifier,
                ["defdr"]: armor_def_modifier,
                ["strdr"]: str_modifier,
                ["toudr"]: tough_modifier
              });
            });
          });
        </script>





<input class="version" name="attr_version" type="text" value="0">
<input name="attr_sheet_type" type="hidden" value="pc" />
<input name="attr_fate" type="hidden" value="0" />
<input name="attr_favor" type="hidden" value="0" />
<input name="attr_glory" type="hidden" value="0" />
<input name="attr_quests" type="hidden" value="0" />
<input class="sheet-toggle" name="attr_sheet_type" type="hidden" >
<div class="container-gm">
    <div class="gm-grid gm-name">
        <select class="sheet-type" name="attr_sheet_type">
            <option class="center" selected value="pc">PC Name</option>
            <option class="center" value="npc">NPC Name</option>
            <option class="center" value="minion">Minion Name</option>
            <option class="center" value="gm">GM Sheet</option>
        </select>
    </div>
    <div class="gm-grid gm-rolls dieroller">
        <div class="invasive">
            <label class="invasive gm-rolls">Useful Rolls</label>
        </div>
        <label class="roll-name roll-label">Name</label>
        <label class="roll-name roll-label">Ability</label>
        <label class="roll-dice roll-label">Base Dice</label>
        <label class="roll-bonuses roll-label">Bonuses</label>
        <br/>
        <fieldset class="repeating_gmrolls">
            <input class="roll-name" name="attr_gmroll_name" type="text" />
            <input class="roll-name" name="attr_gmroll_subname" type="text" />
            <input class="roll-dice" name="attr_gmroll_dice" type="text" value="1d6+1d6"/>
            <input class="roll-bonuses" name="attr_gmroll_bonus" type="text" value="0" />
            <button type="roll" class="ability-roll dieroller d6" name="roll_GM" 
                value="&{template:default} {{name=**@{gmroll_name} rolls @{gmroll_subname}**}}\n/roll {@{gmroll_dice}+@{gmroll_bonus}+?{Bonus Dice?|0}}kh1"
                ><span class="d6 diesize">f</span></button>
            <br/>
            <input class="roll-notes" name="attr_gmroll_notes" type="text" />
            <br/>
        </fieldset>
    </div>
    <div class="gm-grid gm-notes">
    
    </div>
</div>
<div class="container-npc">
    <div class="npc-grid npc-name">
        <div class="column name">
            <select class="sheet-type" name="attr_sheet_type">
                <option class="center" selected value="pc">PC Name</option>
                <option class="center" value="npc">NPC Name</option>
                <option class="center" value="minion">Minion Name</option>
                <option class="center" value="gm">GM Sheet</option>
            </select>
            <input class="character-name" name="attr_character_name" type="text" />
        </div>
    </div>
    <div class="npc-grid npc-type">
        <div class="column type">
            <label class="creature-type">Type</label>
            <select class="creature-type" name="attr_creature_type">
                <option class="center" value="beast">Beast</option>
                <option class="center" selected value="man">Man</option>
                <option class="center" value="monster">Monster</option>
            </select>
        </div>
    </div>
    <div class="npc-grid npc-strife">
        <div class="column strife">
            <label class="strife">Strife</label>
            <input class="strife" name="attr_strife_cost" type="number" />
        </div>
    </div>
    <div class="npc-grid npc-customrolls">
        <div class="column dieroller">
            <div class="customroller dieroller npc-customroll">
                <button type="roll" class="ability-roll" name="roll_Custom" value="&{template:default} {{name=**@{character_name} rolls @{customroll} **}}\n/roll {@{customroll}}kh1-@{wound_penalty}+@{customroll_bonus}">Custom Roll</button>
                <br/>
                <textarea class="customroll npc-customroll" name="attr_customroll"></textarea>
            </div>
            <div class="weaponhands dieroller" >
                <label class="bonus-dice">Add Bonus Die</label>
                <button type="roll" class="ability-roll d4" name="roll_d4" value="&{template:default} {{name=**@{character_name} rolls a Bonus d4**}}\n/roll 1d4+?{Add d4 to ?|4}"><span class="d4 diesize">d</span></button>
                <button type="roll" class="ability-roll d6" name="roll_d6" value="&{template:default} {{name=**@{character_name} rolls a Bonus d6**}}\n/roll 1d6+?{Add d6 to ?|6}"><span class="d6 diesize">f</span></button>
                <button type="roll" class="ability-roll d8" name="roll_d8" value="&{template:default} {{name=**@{character_name} rolls a Bonus d8**}}\n/roll 1d8+?{Add d8 to ?|8}"><span class="d8 diesize">h</span></button>
                <button type="roll" class="ability-roll d10" name="roll_d10" value="&{template:default} {{name=**@{character_name} rolls a Bonus d10**}}\n/roll 1d10+?{Add d10 to ?|10}"><span class="d10 diesize">j</span></button>
                <button type="roll" class="ability-roll d12" name="roll_d12" value="&{template:default} {{name=**@{character_name} rolls a Bonus d12**}}\n/roll 1d12+?{Add d12 to ?|12}"><span class="d12 diesize">l</span></button>
            </div>
            <div class="invasive combat">
                <label class="invasive combat">Combat Dice</label>
            </div>
            <div class="weaponhands dieroller" >
                <button type="roll" class="ability-roll" name="roll_LeftHand" value="&{template:default} {{name=**@{character_name} rolls Defence (Left Hand)**}}\n/roll {@{hand_left}}kh1-@{wound_penalty}">Left Hand</button>
                <textarea class="sheet-hand" name="attr_hand_left"></textarea>
            </div>
            <div class="weaponhands dieroller" >
                <button type="roll" class="ability-roll" name="roll_RightHand" value="&{template:default} {{name=**@{character_name} rolls Attack (Right Hand)**}}\n/roll {@{hand_right}}kh1-@{wound_penalty}">Right Hand</button>
                <textarea class="sheet-hand" name="attr_hand_right"></textarea>
            </div>
            <div class="notes">
                <label>Divine favor costs</label>
                <ul>
                    <li>1: Open-end die</li>
                    <li>1: +1d6 for 1 roll</li>
                    <li>2: Re-roll one die</li>
                    <li>2: Attack again</li>
                    <li>2: move hero 1 range</li>
                    <li>2: no dmg pen for 1 ex</li>
                    <li>3: +1d8 for 1 roll</li>
                    <li>4: Re-roll any/all dice</li>
                    <li>5: divine weapon</li>
                </ul>
            </div>
            <div class="notes">
                <label>Earning Fate</label>
                <ul>
                    <li>1: avoid wounds from 1 attack</li>
                    <li>1: Remove 4 impair levels</li>
                    <li>1: Completed quest</li>
                    <li>1: defeated</li>
                    <li>1: Challenge a god</li>
                </ul>
            </div>
            <div class="notes">
                <label>rewards</label>
                <ul>
                    <li>Completed quest: 1 divine favor</li>
                    <li>Win contest: 1 glory</li>
                    <li>highest hero roll: 1-7 glory</li>
                    <li>defeat minion: 1 glory</li>
                    <li>defeat NPC: glory = highest wound</li>
                </ul>
            </div>
        </div>
    </div>
            
    <div class="npc-grid npc-abilities npc-arete">
        <div class="row">
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Insight" value="&{template:default} {{name=**@{character_name} rolls Insight**}}\n/roll {@{insight_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Insight</button>
                    <div class="impairment">
                        <select class="die" name="attr_insight_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_insight_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_insight_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_insight_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_insight_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Grace" value="&{template:default} {{name=**@{character_name} rolls Grace**}}\n/roll {@{grace_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Grace</button>
                    <div class="impairment">
                        <select class="die" name="attr_grace_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_grace_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_grace_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_grace_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_grace_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
			</div>
			<div class="row">
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Might" value="&{template:default} {{name=**@{character_name} rolls Might**}}\n/roll {@{might_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Might</button>
                    <div class="impairment">
                        <select class="die" name="attr_might_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_might_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_might_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_might_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_might_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Spirit" value="&{template:default} {{name=**@{character_name} rolls Spirit**}}\n/roll {@{spirit_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Spirit</button>
                    <div class="impairment">
                        <select class="die" name="attr_spirit_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_spirit_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_spirit_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_spirit_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_spirit_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
    </div>
    <div class="npc-grid npc-abilities npc-craft">
            <div class="row">
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Heal" value="&{template:default} {{name=**@{character_name} rolls Heal**}}\n/roll {@{heal_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Heal</button>
                    <div class="impairment">
                        <select class="die" name="attr_heal_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_heal_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_heal_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_heal_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_heal_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Lore" value="&{template:default} {{name=**@{character_name} rolls Lore**}}\n/roll {@{lore_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Lore</button>
                    <div class="impairment">
                        <select class="die" name="attr_lore_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_lore_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_lore_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_lore_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_lore_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
			</div>
			<div class="row">
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Music" value="&{template:default} {{name=**@{character_name} rolls Music**}}\n/roll {@{music_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Music</button>
                    <div class="impairment">
                        <select class="die" name="attr_music_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_music_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_music_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_music_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_music_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Orate" value="&{template:default} {{name=**@{character_name} rolls Orate**}}\n/roll {@{orate_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Orate</button>
                    <div class="impairment">
                        <select class="die" name="attr_orate_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_orate_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_orate_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_orate_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_orate_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
    </div>
    <div class="npc-grid npc-abilities npc-sport">
            <div class="row">
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Athletics" value="&{template:default} {{name=**@{character_name} rolls Athletics**}}\n/roll {@{athletics_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Athletics</button>
                    <div class="impairment">
                        <select class="die" name="attr_athletics_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_athletics_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_athletics_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_athletics_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_athletics_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Cunning" value="&{template:default} {{name=**@{character_name} rolls Cunning**}}\n/roll {@{cunning_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Cunning</button>
                    <div class="impairment">
                        <select class="die" name="attr_cunning_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_cunning_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_cunning_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_cunning_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_cunning_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
			</div>
			<div class="row">
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Hunt" value="&{template:default} {{name=**@{character_name} rolls Hunt**}}\n/roll {@{hunt_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Hunt</button>
                    <div class="impairment">
                        <select class="die" name="attr_hunt_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_hunt_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_hunt_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_hunt_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_hunt_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Wrestle" value="&{template:default} {{name=**@{character_name} rolls Wrestle**}}\n/roll {@{wrestle_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Wrestle</button>
                    <div class="impairment">
                        <select class="die" name="attr_wrestle_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_wrestle_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_wrestle_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_wrestle_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_wrestle_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
    </div>
    <div class="npc-grid npc-abilities npc-battle">
            <div class="row">
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Aim" value="&{template:default} {{name=**@{character_name} rolls Aim**}}\n/roll {@{aim_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Aim</button>
                    <div class="impairment">
                        <select class="die" name="attr_aim_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_aim_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_aim_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_aim_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_aim_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Shield" value="&{template:default} {{name=**@{character_name} rolls Shield**}}\n/roll {@{shield_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Shield</button>
                    <div class="impairment">
                        <select class="die" name="attr_shield_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_shield_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_shield_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_shield_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_shield_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
			</div>
			<div class="row">
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Spear" value="&{template:default} {{name=**@{character_name} rolls Spear**}}\n/roll {@{spear_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Spear</button>
                    <div class="impairment">
                        <select class="die" name="attr_spear_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_spear_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_spear_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_spear_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_spear_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Sword" value="&{template:default} {{name=**@{character_name} rolls Sword**}}\n/roll {@{sword_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Sword</button>
                    <div class="impairment">
                        <select class="die" name="attr_sword_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_sword_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_sword_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_sword_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_sword_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
    </div>
    <div class="npc-grid npc-namearmorfavor">
        <div class="row npc-wound">
            <div class="element">
                <label class="npc-name-die">Name Die</label>
                <div class="impairment">
                    <input name="attr_name_active" type="hidden" value="6" />
                    <select class="die" name="attr_name_die">
                        <option class="center" value="d4">d4</option>
                        <option class="center" selected value="d6">d6</option>
                        <option class="center" value="d8">d8</option>
                        <option class="center" value="d10">d10</option>
                        <option class="center" value="d12">d12</option>
                    </select>
                    <div class="top left corner">
                        <label class="checkbox top left corner">
                            <input class="impairment" name="attr_name_impair_1" type="checkbox" value="1" />
                            <span class="impairment checkmark"></span>
                        </label>
                    </div>
                    <div class="top right corner">
                        <label class="checkbox top right corner">
                            <input class="impairment" name="attr_name_impair_2" type="checkbox" value="1"/>
                            <span class="impairment checkmark"></span>
                        </label>
                    </div>
                    <div class="bottom right corner">
                        <label class="checkbox bottom right corner">
                            <input class="impairment" name="attr_name_impair_3" type="checkbox" value="1" />
                            <span class="impairment checkmark"></span>
                        </label>
                    </div>
                    <div class="bottom left corner">
                        <label class="checkbox bottom left corner">
                            <input class="impairment" name="attr_name_impair_4" type="checkbox" value="1" />
                            <span class="impairment checkmark"></span>
                        </label>
                    </div>
                    
                </div>
            </div>
            <div class="element npc-armor">
                    <button type="roll" class="ability-roll npc-armor" name="roll_Armor" value="&{template:default} {{name=**@{character_name} rolls Armor**}}\n/roll {@{armor_roll}}kh1-?{Armour Penalty?|0}">Armor</button>
                    <div class="impairment">
                        <select class="die" name="attr_armor_die">
                            <option class="center" selected value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6">d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                        </select>
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_armor_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_armor_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_armor_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_armor_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
            </div>
        </div>
        <div class="row npc-favor">
                <label class="npc-wound npc-favour">Divine Favour</label>
                <div class="element npc-wound">
                    <label class="npc-favour">Current</label>
                    <input class="npc-favour" name="attr_npc_divinefavor" type="number" />
                </div>
                <div class="element npc-wound">
                    <label class="npc-favour">Max</label>
                    <input class="npc-favour" name="attr_npc_divinefavor_max" type="number" />
                </div>
        </div>
    </div>
    <div class="npc-grid npc-wounds">
        <label class="npc-wound header">Wounds</label>
        <div class="npc-wound">
            <label class="npc-wound">1</label>
            <span class="npc-wound">-1 to next roll</span>
            <br/>
            <label class="wound npc-wound checkbox">
                <input name="attr_wound_1" type="checkbox" value="1" />
                <span class="checkmark"></span>
            </label>
            <input class="npc-wound npc-wound-temp" name="attr_npc_wound1" type="text" />
            <label class="wound npc-wound checkbox">
                <input name="attr_wound_check" type="checkbox" value="1"/>
                <input name="attr_wound_temp" type="hidden" value="0"/>
                <span class="checkmark"></span>
            </label>
        </div>
        <div class="npc-wound">
            <label class="npc-wound">2</label>
            <span class="npc-wound">-1 to next roll</span>
            <br/>
            <label class="wound npc-wound checkbox">
                <input name="attr_wound_2" type="checkbox" value="1" />
                <span class="checkmark"></span>
            </label>
            <input class="npc-wound" name="attr_npc_wound2" type="text" />    
        </div>
        <div class="npc-wound">
            <label class="npc-wound">3</label>
            <span class="npc-wound">-2 to next roll</span>
            <br/>
            <label class="wound npc-wound checkbox">
                <input name="attr_wound_3" type="checkbox" value="2" />
                <span class="checkmark"></span>
            </label>
            <input class="npc-wound" name="attr_npc_wound3" type="text" />    
        </div>
        <div class="npc-wound">
            <label class="npc-wound">4</label>
            <span class="npc-wound">-1 to all rolls</span>
            <br/>
            <label class="wound npc-wound checkbox">
                <input name="attr_wound_4" type="checkbox" value="1" />
                <span class="checkmark"></span>
            </label>
            <input class="npc-wound" name="attr_npc_wound4" type="text" />    
        </div>
        <div class="npc-wound">
            <label class="npc-wound">5</label>
            <span class="npc-wound">-2 to all rolls</span>
            <br/>
            <label class="wound npc-wound checkbox">
                <input name="attr_wound_5" type="checkbox" value="1" />
                <span class="checkmark"></span>
            </label>
            <input class="npc-wound" name="attr_npc_wound5" type="text" />    
        </div>
        <div class="npc-wound">
            <label class="npc-wound">6</label>
            <span class="npc-wound">Defeated</span>
            <br/>
            <label class="wound npc-wound checkbox">
                <input name="attr_wound_6" type="checkbox" value="4" />
                <span class="checkmark"></span>
            </label>
            <input class="npc-wound" name="attr_npc_wound6" type="text" />    
        </div>
    </div>
    <div class="npc-grid npc-weapons">
        <div class="invasive weapons">
            <label class="invasive weapons">Weapons</label>
        </div>
        <label class="npc-weapon weapon-name">Weapon</label>
        <label class="npc-weapon weapon-details">Description</label>
        <label class="npc-weapon weapon-ability">Base</label>
        <label class="npc-weapon weapon-dice">Dice</label>
        <fieldset class="repeating_npcweapons">
            <input class="weapons name" name="attr_npcweapon_name" type="text" />
            <input class="weapons details" name="attr_npcweapon_details" type="text" />
            <select class="ability" name="attr_npcweapon_ability">
                <option class="center" value="bow">Bow</option>
                <option class="center" value="javelin">Javelin</option>
                <option class="center" value="shield" >Shield</option>
                <option class="center" value="spear">Spear</option>
                <option class="center" value="sword" selected>Sword</option>
            </select>
            <input class="weapons dice" name="attr_npcweapon_dice" type="text" value="2d6"/>
        </fieldset>
    </div>
    <div class="npc-grid npc-powers">
        <div class="invasive powers">
            <label class="invasive powers">Powers</label>
        </div>
        <label class="npc-power power-name">Power</label>
        <label class="npc-power power-details">Description</label>
        <label class="npc-power power-ability">Ability</label>
        <label class="npc-power power-dice">Dice</label>
        <fieldset class="repeating_npcpowers">
            <input class="powers name" name="attr_power_name" type="text" />
            <input class="powers details" name="attr_power_details" type="text" />
            <select class="ability" name="attr_power_ability">
                <option class="center" value="@{grace_roll}">Grace</option>
                <option class="center" value="@{insight_roll}">Insight</option>
                <option class="center" value="@{might_roll}" selected>Might</option>
                <option class="center" value="@{spirit_roll}">Spirit</option>
            </select>
            <input class="powers dice" name="attr_power_dice" type="text" value="1d8"/>
            <button type="roll" class="ability-roll dieroller d6" name="roll_Power" 
                value="&{template:default} {{name=**@{character_name} rolls @{power_name}**}}\n/roll {@{power_dice}+@{name_die}+@{power_ability}+?{Bonus Dice?|0}}kh1"
                ><span class="d6 diesize">f</span></button>
        </fieldset>
    </div>
    <div class="npc-grid npc-notes">
        <div class="invasive">
            <label class="npc-notes">Notes</label>
        </div>
        <textarea class="npc-notes" name="attr_Stuff"></textarea>
    </div>
    
</div>
<div class="container-minion">
    <div class="minion-grid minion-name">
        <div class="column name">
            <select class="sheet-type" name="attr_sheet_type">
                <option class="center" selected value="pc">PC Name</option>
                <option class="center" value="npc">NPC Name</option>
                <option class="center" value="minion">Minion Name</option>
                <option class="center" value="gm">GM Sheet</option>
            </select>
            <input class="character-name" name="attr_character_name" type="text" />
        </div>
    </div>
    <div class="minion-grid minion-type">
        <div class="column type">
            <label class="creature-type">Type</label>
            <select class="creature-type" name="attr_creature_type">
                <option class="center" value="beast">Beast</option>
                <option class="center" selected value="man">Man</option>
                <option class="center" value="monster">Monster</option>
            </select>
        </div>
    </div>
    <div class="minion-grid minion-strife">
        <div class="column strife">
            <label class="strife">Strife</label>
            <input class="strife" name="attr_strife_cost" type="number" />
        </div>
    </div>
    <div class="minion-grid minion-abilities">
        <div class="row">
                <div class="element">

                    <button type="roll" class="ability-roll" name="roll_Arete" value="&{template:default} {{name=**@{character_name} rolls Arete**}}\n/roll {@{arete_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1">Arete</button>
                    <div class="impairment">
                        <select class="die" name="attr_arete_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                        </select>
                        <input class="die" type="hidden" name="attr_arete_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_arete_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_arete_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_arete_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_arete_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Battle" value="&{template:default} {{name=**@{character_name} rolls Battle**}}\n/roll {@{battle_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1">Battle</button>
                    <div class="impairment">
                        <select class="die" name="attr_battle_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                        </select>
                        <input class="die" type="hidden" name="attr_battle_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_battle_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_battle_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_battle_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_battle_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
			</div>
			<div class="row">
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Craft" value="&{template:default} {{name=**@{character_name} rolls Craft**}}\n/roll {@{craft_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1">Craft</button>
                    <div class="impairment">
                        <select class="die" name="attr_craft_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                        </select>
                        <input class="die" type="hidden" name="attr_craft_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_craft_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_craft_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_craft_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_craft_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Sport" value="&{template:default} {{name=**@{character_name} rolls Sport**}}\n/roll {@{sport_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1">Sport</button>
                    <div class="impairment">
                        <select class="die" name="attr_sport_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                        </select>
                        <input class="die" type="hidden" name="attr_sport_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_sport_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_sport_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_sport_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_sport_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
    </div>
    <div class="minion-grid minion-master">
        <label class="minion name">Master's Name</label>
        <input class="minion name" name="attr_masters_name" type="text" />
    </div>
    <div class="minion-grid minion-master-name">
            <div class="element npc-wound">
                <label>Name Die</label>
                <div class="impairment">
                    <input name="attr_name_active" type="hidden" value="6" />
                    <select class="die" name="attr_name_die">
                        <option class="center" value="d4">d4</option>
                        <option class="center" selected value="d6">d6</option>
                        <option class="center" value="d8">d8</option>
                        <option class="center" value="d10">d10</option>
                        <option class="center" value="d12">d12</option>
                    </select>
                    <input class="die" type="hidden" name="attr_name_roll" type="text" />
                    <div class="top left corner">
                        <label class="checkbox top left corner">
                            <input class="impairment" name="attr_name_impair_1" type="checkbox" value="1" />
                            <span class="impairment checkmark"></span>
                        </label>
                    </div>
                    <div class="top right corner">
                        <label class="checkbox top right corner">
                            <input class="impairment" name="attr_name_impair_2" type="checkbox" value="1"/>
                            <span class="impairment checkmark"></span>
                        </label>
                    </div>
                    <div class="bottom right corner">
                        <label class="checkbox bottom right corner">
                            <input class="impairment" name="attr_name_impair_3" type="checkbox" value="1" />
                            <span class="impairment checkmark"></span>
                        </label>
                    </div>
                    <div class="bottom left corner">
                        <label class="checkbox bottom left corner">
                            <input class="impairment" name="attr_name_impair_4" type="checkbox" value="1" />
                            <span class="impairment checkmark"></span>
                        </label>
                    </div>
                    
                </div>
            </div>
            <div class="element npc-wound">
                    <label class="minion-number">Number</label>
                    <input class="minion-number" name="attr_minion_number" type="number" />
            </div>
                
    </div>
    <div class="minion-grid minion-dice">
        <div class="invasive minion-dice">
            <label class="minion-dice">Weapon Dice</label>
        </div>
        <div class="element weaponhands dieroller">
            <button type="roll" class="ability-roll" name="roll_LeftHand" value="&{template:default} {{name=**@{character_name} rolls Defence (Left Hand)**}}\n/roll {@{hand_left}}kh1-@{wound_penalty}">Left Hand</button>
            <textarea class="sheet-hand" name="attr_hand_left"></textarea>
        </div>
        <div class="element weaponhands dieroller" >
            <button type="roll" class="ability-roll" name="roll_RightHand" value="&{template:default} {{name=**@{character_name} rolls Attack (Right Hand)**}}\n/roll {@{hand_right}}kh1-@{wound_penalty}">Right Hand</button>
            <textarea class="sheet-hand" name="attr_hand_right"></textarea>
        </div>
        <div class="element weaponhands dieroller bonusdice" >
            <label class="bonus-dice">Bonus Die</label>
            <button type="roll" class="ability-roll d4" name="roll_d4" value="&{template:default} {{name=**@{character_name} rolls a Bonus d4**}}\n/roll 1d4+?{Add d4 to ?|4}"><span class="d4 diesize">d</span></button>
            <button type="roll" class="ability-roll d6" name="roll_d6" value="&{template:default} {{name=**@{character_name} rolls a Bonus d6**}}\n/roll 1d6+?{Add d6 to ?|6}"><span class="d6 diesize">f</span></button>
            <button type="roll" class="ability-roll d8" name="roll_d8" value="&{template:default} {{name=**@{character_name} rolls a Bonus d8**}}\n/roll 1d8+?{Add d8 to ?|8}"><span class="d8 diesize">h</span></button>
            <br>
            <button type="roll" class="ability-roll d10" name="roll_d10" value="&{template:default} {{name=**@{character_name} rolls a Bonus d10**}}\n/roll 1d10+?{Add d10 to ?|10}"><span class="d10 diesize">j</span></button>
            <button type="roll" class="ability-roll d12" name="roll_d12" value="&{template:default} {{name=**@{character_name} rolls a Bonus d12**}}\n/roll 1d12+?{Add d12 to ?|12}"><span class="d12 diesize">l</span></button>
        </div>
            
    </div>
    <div class="minion-grid minion-weapons">
        <div class="invasive weapons">
            <label class="invasive weapons">Weapons</label>
        </div>
        <label class="npc-weapon weapon-name">Weapon</label>
        <label class="npc-weapon weapon-ability">Base</label>
        <label class="npc-weapon weapon-dice">Dice</label>
        <fieldset class="repeating_npcweapons">
            <input class="weapons name" name="attr_npcweapon_name" type="text" />
            <select class="ability" name="attr_npcweapon_ability">
                <option class="center" value="bow">Bow</option>
                <option class="center" value="javelin">Javelin</option>
                <option class="center" value="shield" >Shield</option>
                <option class="center" value="spear">Spear</option>
                <option class="center" value="sword" selected>Sword</option>
            </select>
            <input class="weapons dice" name="attr_npcweapon_dice" type="text" value="2d6"/>
        </fieldset>
    </div>
    <div class="minion-grid minion-powers">
        <div class="invasive powers">
            <label class="invasive powers">Powers</label>
        </div>
        <label class="npc-power power-name">Power</label>
        <label class="npc-power power-ability">Ability</label>
        <label class="npc-power power-dice">Dice</label>
        <fieldset class="repeating_npcpowers">
            <input class="powers name" name="attr_power_name" type="text" />
            <select class="ability" name="attr_power_ability">
                <option class="center" value="@{grace_roll}">Grace</option>
                <option class="center" value="@{insight_roll}">Insight</option>
                <option class="center" value="@{might_roll}" selected>Might</option>
                <option class="center" value="@{spirit_roll}">Spirit</option>
            </select>
            <input class="powers dice" name="attr_power_dice" type="text" value="1d8"/>
            <button type="roll" class="ability-roll dieroller d6" name="roll_Power" 
                value="&{template:default} {{name=**@{character_name} rolls @{power_name}**}}\n/roll {@{power_dice}+@{name_die}+@{power_ability}+?{Bonus Dice?|0}}kh1"
                ><span class="d6 diesize">f</span></button>
        </fieldset>
    </div>
        
</div>
<div class="container-pc">
    <div class="grid-upper">
        <div class="logo">
            <img alt="Logo" class="logo" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Agon/images/agon.jpg" title="grayscale">
        </div>
        <div class="column name">
            <select class="sheet-type pc-name" name="attr_sheet_type">
                <option class="center" selected value="pc">PC Name</option>
                <option class="center" value="npc">NPC Name</option>
                <option class="center" value="minion">Minion Name</option>
                <option class="center" value="gm">GM Sheet</option>
            </select>

            <input class="character-name pc-name" name="attr_character_name" type="text" />
        </div>
        <div class="column lineage">
            <label class="lineage">Lineage</label>
            <input class="character-lineage" name="attr_lineage" type="text" />
        </div>
        <div class="column narrow name-die">
            <div class="spacer" ></div>
                <label class="pc-name-die">Name Die</label>
                <div class="impairment">
                    <select class="die" name="attr_name_die">
                        <option class="center" value="d4">d4</option>
                        <option class="center" selected value="d6">d6</option>
                        <option class="center" value="d8">d8</option>
                        <option class="center" value="d10">d10</option>
                        <option class="center" value="d12">d12</option>
                    </select>
                    <input class="die" type="hidden" name="attr_name_roll" type="text" />
                    <div class="top left corner">
                        <label class="checkbox top left corner">
                            <input class="impairment" name="attr_name_impair_1" type="checkbox" value="1" />
                            <span class="impairment checkmark"></span>
                        </label>
                    </div>
                    <div class="top right corner">
                        <label class="checkbox top right corner">
                            <input class="impairment" name="attr_name_impair_2" type="checkbox" value="1"/>
                            <span class="impairment checkmark"></span>
                        </label>
                    </div>
                    <div class="bottom right corner">
                        <label class="checkbox bottom right corner">
                            <input class="impairment" name="attr_name_impair_3" type="checkbox" value="1" />
                            <span class="impairment checkmark"></span>
                        </label>
                    </div>
                    <div class="bottom left corner">
                        <label class="checkbox bottom left corner">
                            <input class="impairment" name="attr_name_impair_4" type="checkbox" value="1" />
                            <span class="impairment checkmark"></span>
                        </label>
                    </div>
                    
                </div>
        </div>
        <div class="column dieroller">
            <div class="customroller dieroller" >
                <button type="roll" class="ability-roll" name="roll_Custom" value="&{template:default} {{name=**@{character_name} rolls @{customroll} **}}\n/roll {@{customroll}}kh1-@{wound_penalty}+@{customroll_bonus}">Custom Roll</button>
                <br/>
                <textarea class="customroll" name="attr_customroll"></textarea>
                
            </div>
        </div>
    </div>
    <div class="grid-lower">
        <div class="column grid1">
            <div class="invasive">
                <label class="invasive quests">Quests</label>
            </div>
            <div class="checkboxes">
                <div class="row">
                    <label class="checkbox">
                        <input name="attr_quests_1" type="checkbox"  value="1"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="checkbox">
                        <input name="attr_quests_2" type="checkbox"  value="2"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="checkbox">
                        <input name="attr_quests_3" type="checkbox"  value="3"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="checkbox">
                        <input name="attr_quests_4" type="checkbox"  value="4"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="checkbox">
                        <input name="attr_quests_5" type="checkbox"  value="5"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="checkbox">
                        <input name="attr_quests_6" type="checkbox"  value="6"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="checkbox">
                        <input name="attr_quests_7" type="checkbox"  value="7"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="checkbox">
                        <input name="attr_quests_8" type="checkbox"  value="8"   />
                        <span class="checkmark"></span>
                    </label>
                </div>
                <div class="row">
                    <label class="checkbox">
                        <input name="attr_quests_9" type="checkbox"  value="9"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="checkbox">
                        <input name="attr_quests_10" type="checkbox"  value="10"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="checkbox">
                        <input name="attr_quests_11" type="checkbox"  value="11"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="checkbox">
                        <input name="attr_quests_12" type="checkbox"  value="12"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="checkbox">
                        <input name="attr_quests_13" type="checkbox"  value="13"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="checkbox">
                        <input name="attr_quests_14" type="checkbox"  value="14"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="checkbox">
                        <input name="attr_quests_15" type="checkbox"  value="15"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="checkbox">
                        <input name="attr_quests_16" type="checkbox"  value="16"   />
                        <span class="checkmark"></span>
                    </label>
                </div>
            </div>
            <div class="field">
                <label>Heroic Trait</label>
                <input class="character-heroic-trait" name="attr_heroic_trait" type="text" />
            </div>
            <div class="field">
                <label>Heroic Trait Bonus</label>
                <textarea class="character-heroic-trait-bonus" name="attr_heroic_trait_bonus"></textarea>
            </div>
            <div class="repeating-field">
                <div class="invasive">
                    <label class="sheet-oaths">Oaths & Advantages</label>
                </div>
                <fieldset class="repeating_oaths">
                    <input class="oathgiver" name="attr_oathgiver" type="text" />
                    <input class="oathcount" name="attr_oathcount" type="text" />
                </fieldset>
            </div>
            <div class="invasive">
                <label class="stuff">Notes</label>
            </div>
            <textarea class="stuff" name="attr_Stuff"></textarea>
        </div>
        <div class="column wide grid2">
            <div class="invasive">
                <label>Arete</label>
            </div>
            <div class="row">
                <div class="element">
                    <!-- <label>Insight</label> -->
                    <button type="roll" class="ability-roll" name="roll_Insight" value="&{template:default} {{name=**@{character_name} rolls Insight**}}\n/roll {@{insight_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Insight</button>
                    <div class="impairment">
                        <select class="die" name="attr_insight_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <input class="die" type="hidden" name="attr_insight_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_insight_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_insight_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_insight_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_insight_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Grace" value="&{template:default} {{name=**@{character_name} rolls Grace**}}\n/roll {@{grace_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Grace</button>
                    <div class="impairment">
                        <select class="die" name="attr_grace_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <input class="die" type="hidden" name="attr_grace_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_grace_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_grace_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_grace_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_grace_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Might" value="&{template:default} {{name=**@{character_name} rolls Might**}}\n/roll {@{might_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Might</button>
                    <div class="impairment">
                        <select class="die" name="attr_might_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <input class="die" type="hidden" name="attr_might_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_might_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_might_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_might_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_might_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Spirit" value="&{template:default} {{name=**@{character_name} rolls Spirit**}}\n/roll {@{spirit_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Spirit</button>
                    <div class="impairment">
                        <select class="die" name="attr_spirit_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <input class="die" type="hidden" name="attr_spirit_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_spirit_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_spirit_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_spirit_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_spirit_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="invasive">
                <label>Craft</label>
            </div>
            <div class="row">
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Heal" value="&{template:default} {{name=**@{character_name} rolls Heal**}}\n/roll {@{heal_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Heal</button>
                    <div class="impairment">
                        <select class="die" name="attr_heal_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <input class="die" type="hidden" name="attr_heal_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_heal_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_heal_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_heal_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_heal_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Lore" value="&{template:default} {{name=**@{character_name} rolls Lore**}}\n/roll {@{lore_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Lore</button>
                    <div class="impairment">
                        <select class="die" name="attr_lore_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <input class="die" type="hidden" name="attr_lore_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_lore_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_lore_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_lore_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_lore_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Music" value="&{template:default} {{name=**@{character_name} rolls Music**}}\n/roll {@{music_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Music</button>
                    <div class="impairment">
                        <select class="die" name="attr_music_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <input class="die" type="hidden" name="attr_music_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_music_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_music_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_music_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_music_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Orate" value="&{template:default} {{name=**@{character_name} rolls Orate**}}\n/roll {@{orate_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Orate</button>
                    <div class="impairment">
                        <select class="die" name="attr_orate_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <input class="die" type="hidden" name="attr_orate_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_orate_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_orate_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_orate_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_orate_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="invasive">
                <label>Sport</label>
            </div>
            <div class="row">
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Athletics" value="&{template:default} {{name=**@{character_name} rolls Athletics**}}\n/roll {@{athletics_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Athletics</button>
                    <div class="impairment">
                        <select class="die" name="attr_athletics_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <input class="die" type="hidden" name="attr_athletics_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_athletics_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_athletics_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_athletics_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_athletics_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Cunning" value="&{template:default} {{name=**@{character_name} rolls Cunning**}}\n/roll {@{cunning_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Cunning</button>
                    <div class="impairment">
                        <select class="die" name="attr_cunning_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <input class="die" type="hidden" name="attr_cunning_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_cunning_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_cunning_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_cunning_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_cunning_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Hunt" value="&{template:default} {{name=**@{character_name} rolls Hunt**}}\n/roll {@{hunt_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Hunt</button>
                    <div class="impairment">
                        <select class="die" name="attr_hunt_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <input class="die" type="hidden" name="attr_hunt_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_hunt_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_hunt_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_hunt_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_hunt_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Wrestle" value="&{template:default} {{name=**@{character_name} rolls Wrestle**}}\n/roll {@{wrestle_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Wrestle</button>
                    <div class="impairment">
                        <select class="die" name="attr_wrestle_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <input class="die" type="hidden" name="attr_wrestle_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_wrestle_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_wrestle_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_wrestle_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_wrestle_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="invasive">
                <label>Battle</label>
            </div>
            <div class="row">
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Aim" value="&{template:default} {{name=**@{character_name} rolls Aim**}}\n/roll {@{aim_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Aim</button>
                    <div class="impairment">
                        <select class="die" name="attr_aim_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <input class="die" type="hidden" name="attr_aim_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_aim_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_aim_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_aim_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_aim_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Shield" value="&{template:default} {{name=**@{character_name} rolls Shield**}}\n/roll {@{shield_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Shield</button>
                    <div class="impairment">
                        <select class="die" name="attr_shield_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <input class="die" type="hidden" name="attr_shield_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_shield_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_shield_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_shield_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_shield_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Spear" value="&{template:default} {{name=**@{character_name} rolls Spear**}}\n/roll {@{spear_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Spear</button>
                    <div class="impairment">
                        <select class="die" name="attr_spear_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <input class="die" type="hidden" name="attr_spear_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_spear_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_spear_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_spear_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_spear_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="element">
                    <button type="roll" class="ability-roll" name="roll_Sword" value="&{template:default} {{name=**@{character_name} rolls Sword**}}\n/roll {@{sword_roll}+@{name_roll}+?{Bonus Dice?|0}}kh1-@{wound_penalty}">Sword</button>
                    <div class="impairment">
                        <select class="die" name="attr_sword_die">
                            <option class="center" value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6" selected>d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                            <option class="center" value="d4+1">d4+1</option>
                            <option class="center" value="d6+1" >d6+1</option>
                            <option class="center" value="d8+1">d8+1</option>
                            <option class="center" value="d10+1">d10+1</option>
                            <option class="center" value="d12+1">d12+1</option>
                            <option class="center" value="d4+2">d4+2</option>
                            <option class="center" value="d6+2" >d6+2</option>
                            <option class="center" value="d8+2">d8+2</option>
                            <option class="center" value="d10+2">d10+2</option>
                            <option class="center" value="d12+2">d12+2</option>
                        </select>
                        <input class="die" type="hidden" name="attr_sword_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_sword_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_sword_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_sword_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_sword_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="invasive">
                <label class="weapons">Weapons and Armor</label>
            </div>
            <div class="row">
                <div class="element pc-weapons">
                    <div class="pc-weapons">
                        <label class="pc-weapons weapon-name">Weapon</label>
                        <label class="pc-weapons weapon-dice">Dice</label>
                        <label class="pc-weapons weapon-range">Range</label>
                        <br/>
                        <fieldset class="repeating_weapons">
                            <input class="pc-weapons weapon-name" name="attr_weapon_name" type="text" />
                            <input class="pc-weapons weapon-dice" name="attr_weapon_dice" type="text" />
                            <input class="pc-weapons weapon-range" name="attr_weapon_range" type="text" />
                            <br/>
                        </fieldset>
                    </div>
                </div>
                <div class="element armor">
                    <button type="roll" class="ability-roll" name="roll_Armor" value="&{template:default} {{name=**@{character_name} rolls Armor**}}\n/roll {@{armor_roll}}kh1-?{Armour Penalty?|0}">Armor</button>
                    <div class="impairment">
                        <!-- with a sheet worker to update this automatically, would swap to a read only input field 
                        could also do it with eventInfo.eventSource = player: so whatever the player picks it gets set to the right value -->
                        <select class="die" name="attr_armor_die">
                            <option class="center" selected value="0">0</option>
                            <option class="center" value="d4">d4</option>
                            <option class="center" value="d6">d6</option>
                            <option class="center" value="d8">d8</option>
                            <option class="center" value="d10">d10</option>
                            <option class="center" value="d12">d12</option>
                        </select>
                        <input class="die" type="hidden" name="attr_armor_roll" type="text" />
                        <div class="top left corner">
                            <label class="checkbox top left corner">
                                <input class="impairment" name="attr_armor_impair_1" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="top right corner">
                            <label class="checkbox top right corner">
                                <input class="impairment" name="attr_armor_impair_2" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom left corner">
                            <label class="checkbox bottom left corner">
                                <input class="impairment" name="attr_armor_impair_3" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                        <div class="bottom right corner">
                            <label class="checkbox bottom right corner">
                                <input class="impairment" name="attr_armor_impair_4" type="checkbox" value="1"/>
                                <span class="impairment checkmark"></span>
                            </label>
                        </div>
                    </div>
                    <div class="armor checklist">
                        <div class="row">
                            <label class="checkbox small">
                                <input name="attr_armor_helmet" type="checkbox" value="1"/>
                                <span class="checkmark"></span>
                            </label>
                            <span class="strong">Helmet</span><br/>
                            <span>(-1 Missile)</span>
                        </div>
                        <div class="row">
                            <label class="checkbox small">
                                <input name="attr_armor_breastplate" type="checkbox" value="1"/>
                                <span class="checkmark"></span>
                            </label>
                            <span class="strong">Breastplate</span><br/>
                            <span>(-1 Melee)</span>
                        </div>
                        <div class="row">
                            <label class="checkbox small">
                                <input name="attr_armor_greaves" type="checkbox" value="1"/>
                                <span class="checkmark"></span>
                            </label>
                            <span class="strong">Greaves</span><br/>
                            <span>(-1 Position)</span>
                        </div>
                        <div class="row">
                            <label class="checkbox small">
                                <input name="attr_armor_bonus_1" type="checkbox" value="1"/>
                                <span class="checkmark"></span>
                            </label>
                            <label class="checkbox small">
                                <input name="attr_armor_bonus_2" type="checkbox" value="1"/>
                                <span class="checkmark"></span>
                            </label>
                            <span class="strong">Bonus</span><br/>
                            <span>(+1 Armor)</span>
                        </div>
                    </div>
                    
                </div>
            </div>
            <div class="row">
                <div class="pc-weapons">
                    <label>Special Items</label>
                    <textarea class="specialitems" name="attr_special_items"></textarea>
                </div>
            </div>
        </div>
        
        <div class="column grid3">
            <div class="invasive">
                <label>Fate</label>
            </div>
            <div class="fate checkboxes">
                <div class="row">
                    <label class="fate checkbox">
                        <input name="attr_fate_1" type="checkbox" value="1" />
                        <span class="checkmark"></span>
                    </label>
                    <label class="fate checkbox">
                        <input name="attr_fate_2" type="checkbox" value="2" />
                        <span class="checkmark"></span>
                    </label>
                    <label class="fate checkbox">
                        <input name="attr_fate_3" type="checkbox" value="3" />
                        <span class="checkmark"></span>
                    </label>
                    <label class="fate checkbox">
                        <input name="attr_fate_4" type="checkbox" value="4" />
                        <span class="checkmark"></span>
                    </label>
                    <label class="fate checkbox">
                        <input name="attr_fate_5" type="checkbox" value="5" />
                        <span class="checkmark">8</span>
                    </label>
                    <label class="fate checkbox">
                        <input name="attr_fate_6" type="checkbox" value="6" />
                        <span class="checkmark"></span>
                    </label>
                    <label class="fate checkbox">
                        <input name="attr_fate_7" type="checkbox" value="7" />
                        <span class="checkmark"></span>
                    </label>
                    <label class="fate checkbox">
                        <input name="attr_fate_8" type="checkbox" value="8" />
                        <span class="checkmark"></span>
                    </label>
                </div>
                <div class="row">
                    <label class="fate checkbox">
                        <input name="attr_fate_9" type="checkbox" value="9" />
                        <span class="checkmark"></span>
                    </label>
                    <label class="fate checkbox">
                        <input name="attr_fate_10" type="checkbox" value="10" />
                        <span class="checkmark">10</span>
                    </label>
                    <label class="fate checkbox">
                        <input name="attr_fate_11" type="checkbox" value="11" />
                        <span class="checkmark"></span>
                    </label>
                    <label class="fate checkbox">
                        <input name="attr_fate_12" type="checkbox" value="12" />
                        <span class="checkmark"></span>
                    </label>
                    <label class="fate checkbox">
                        <input name="attr_fate_13" type="checkbox" value="13" />
                        <span class="checkmark"></span>
                    </label>
                    <label class="fate checkbox">
                        <input name="attr_fate_14" type="checkbox" value="14" />
                        <span class="checkmark"></span>
                    </label>
                    <label class="fate checkbox">
                        <input name="attr_fate_15" type="checkbox" value="15" />
                        <span class="checkmark">12</span>
                    </label>
                    <label class="fate checkbox">
                        <input name="attr_fate_16" type="checkbox" value="16" />
                        <span class="checkmark"></span>
                    </label>
                </div>
            </div>
            <div class="gods">
                <label>God</label>
                <input name="attr_god" type="text" />
            </div>
            <div class="fabs">
                <label>Favored Abilities</label>
                <input name="attr_favored_abilities" type="text" />
            </div>
            <div class="favor checkboxes">
                <div class="invasive">
                    <label class="divine-favor">Divine Favor</label>
                </div>
                <div class="row favor">
                    <label class="favor checkbox">
                        <input name="attr_favor_1" type="checkbox" value="1" />
                        <span class="checkmark"></span>
                    </label>
                    <label class="favor checkbox">
                        <input name="attr_favor_2" type="checkbox" value="2" />
                        <span class="checkmark"></span>
                    </label>
                    <label class="favor checkbox">
                        <input name="attr_favor_3" type="checkbox"  value="3" />
                        <span class="checkmark"></span>
                    </label>
                    <label class="favor checkbox">
                        <input name="attr_favor_4" type="checkbox"  value="4"  />
                        <span class="checkmark"></span>
                    </label>
                    <label class="favor checkbox">
                        <input name="attr_favor_5" type="checkbox"   value="5"  />
                        <span class="checkmark"></span>
                    </label>
                    <label class="favor checkbox">
                        <input name="attr_favor_6" type="checkbox"   value="6"  />
                        <span class="checkmark"></span>
                    </label>
                    <label class="favor checkbox">
                        <input name="attr_favor_7" type="checkbox"  value="7"   />
                        <span class="checkmark"></span>
                    </label>
                </div>
                <div class="row">
                    <label class="favor checkbox">
                        <input name="attr_favor_8" type="checkbox"  value="8"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="favor checkbox">
                        <input name="attr_favor_9" type="checkbox"  value="9"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="favor checkbox">
                        <input name="attr_favor_10" type="checkbox"  value="10"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="favor checkbox">
                        <input name="attr_favor_11" type="checkbox"   value="11"  />
                        <span class="checkmark"></span>
                    </label>
                    <label class="favor checkbox">
                        <input name="attr_favor_12" type="checkbox"  value="12"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="favor checkbox">
                        <input name="attr_favor_13" type="checkbox"   value="13"  />
                        <span class="checkmark"></span>
                    </label>
                    <label class="favor checkbox">
                        <input name="attr_favor_14" type="checkbox"  value="14"   />
                        <span class="checkmark"></span>
                    </label>
                </div>
            </div>
            <div class="invasive">
                <label class="sheet-glory">Glory</label>
            </div>
            <div class="divine checkboxes">
                <div class="row">
                    <label class="glory checkbox">
                        <input name="attr_glory_1" type="checkbox"   value="1"  />
                        <span class="checkmark"></span>
                    </label>
                    <label class="glory checkbox">
                        <input name="attr_glory_2" type="checkbox"   value="2"  />
                        <span class="checkmark"></span>
                    </label>
                    <label class="glory checkbox">
                        <input name="attr_glory_3" type="checkbox"   value="3"   />
                        <span class="checkmark"></span>
                    </label>
                    <label class="glory checkbox">
                        <input name="attr_glory_4" type="checkbox"   value="4"  />
                        <span class="checkmark"></span>
                    </label>
                    <label class="glory checkbox">
                        <input name="attr_glory_5" type="checkbox"   value="5"  />
                        <span class="checkmark"></span>
                    </label>
                    <label class="glory checkbox">
                        <input name="attr_glory_6" type="checkbox"   value="6"  />
                        <span class="checkmark"></span>
                    </label>
                    <label class="glory checkbox">
                        <input name="attr_glory_7" type="checkbox"   value="7"  />
                        <span class="checkmark"></span>
                    </label>
                    <label class="glory checkbox">
                        <input name="attr_glory_8" type="checkbox"   value="8"  />
                        <span class="checkmark"></span>
                    </label>
                    <label class="glory checkbox">
                        <input name="attr_glory_9" type="checkbox"   value="9"  />
                        <span class="checkmark"></span>
                    </label>
                    <label class="glory checkbox">
                        <input name="attr_glory_10" type="checkbox"   value="10"  />
                        <span class="checkmark"></span>
                    </label>
                </div>
            </div>
            <div>
                <label>Advances</label>
                <label class="advances">Unspent</label>
                <label class="advances">Spent</label>
                <br/>
                <input class="advances" name="attr_unspent_advances" type="number" />
                <input class="advances" name="attr_spent_advances" type="number" />
            </div>
            <div class="wound-container">
                <div class="invasive">
                    <label class="invasive wounds">Wounds</label>
                </div>
                <input name="attr_wound_penalty" type="hidden" value="0" />
                <div class="wounds">
                    <div class="wound row">
                        <label class="wound checkbox">
                            <input name="attr_wound_1" type="checkbox" value="1" />
                            <span class="checkmark"></span>
                        </label>
                    </div>
                    <div class="wound value">1</div>
                    <div class="wound">
                        <span class="consequence">-1 to next roll</span>    
                    </div>
                    <div class="wound row">
                        <label class="wound checkbox">
                            <input name="attr_wound_2" type="checkbox" value="1" />
                            <span class="checkmark"></span>
                        </label>
                    </div>
                    <div class="wound value">2</div>
                    <div class="wound">
                        <span class="consequence">-1 to next roll</span>
                    </div>
                    <div class="wound row">
                        <label class="wound checkbox">
                            <input name="attr_wound_3" type="checkbox" value="2" />
                            <span class="checkmark"></span>
                        </label>
                    </div>
                    <div class="wound value">3</div>
                    <div class="wound">
                        <span class="consequence">-2 to next roll</span>
                    </div>
                    <div class="wound row">
                        <label class="wound checkbox">
                            <input name="attr_wound_4" type="checkbox" value="1" />
                            <span class="checkmark"></span>
                        </label>
                    </div>
                    <div class="wound value">4</div>
                    <div class="wound">
                        <span class="consequence">-1 to all rolls</span>
                    </div>
                    <div class="wound row">
                        <label class="wound checkbox">
                            <input name="attr_wound_5" type="checkbox" value="2" />
                            <span class="checkmark"></span>
                        </label>
                    </div>
                    <div class="wound value">5</div>
                    <div class="wound">
                        <span class="consequence">-2 to all rolls</span>
                    </div>
                    <div class="wound row">
                        <label class="wound checkbox">
                            <input name="attr_wound_6" type="checkbox" value="4"/>
                            <span class="checkmark"></span>
                        </label>
                    </div>
                    <div class="wound value">6</div>
                    <div class="wound">
                        <span class="consequence defeated">-4 to all rolls (defeated)</span>
                    </div>
                    <div class="wound row">
                        <label class="wound checkbox">
                            <input name="attr_wound_check" type="checkbox" value="1"/>
                            <input name="attr_wound_temp" type="hidden" value="0"/>
                            <span class="checkmark"></span>
                        </label>
                    </div>
                    <div class="wound value">*</div>
                    <div class="wound">
                        <span class="consequence defeated">Uncheck To Reset Temporary Penalties</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="column grid4">
            <div class="weaponhands dieroller" >
                <label class="bonus-dice">Add Bonus Die</label>
                <button type="roll" class="ability-roll d4" name="roll_d4" value="&{template:default} {{name=**@{character_name} rolls a Bonus d4**}}\n/roll 1d4+?{Add d4 to ?|4}"><span class="d4 diesize">d</span></button>
                <button type="roll" class="ability-roll d6" name="roll_d6" value="&{template:default} {{name=**@{character_name} rolls a Bonus d6**}}\n/roll 1d6+?{Add d6 to ?|6}"><span class="d6 diesize">f</span></button>
                <button type="roll" class="ability-roll d8" name="roll_d8" value="&{template:default} {{name=**@{character_name} rolls a Bonus d8**}}\n/roll 1d8+?{Add d8 to ?|8}"><span class="d8 diesize">h</span></button>
                <button type="roll" class="ability-roll d10" name="roll_d10" value="&{template:default} {{name=**@{character_name} rolls a Bonus d10**}}\n/roll 1d10+?{Add d10 to ?|10}"><span class="d10 diesize">j</span></button>
                <button type="roll" class="ability-roll d12" name="roll_d12" value="&{template:default} {{name=**@{character_name} rolls a Bonus d12**}}\n/roll 1d12+?{Add d12 to ?|12}"><span class="d12 diesize">l</span></button>
            </div>
            <div class="invasive combat">
                <label class="invasive combat">Combat Dice</label>
            </div>
            <div class="weaponhands dieroller" >
                <button type="roll" class="ability-roll" name="roll_LeftHand" value="&{template:default} {{name=**@{character_name} rolls Defence (Left Hand)**}}\n/roll {@{hand_left}}kh1-@{wound_penalty}">Left Hand</button>
                <textarea class="sheet-hand" name="attr_hand_left"></textarea>
            </div>
            <div class="weaponhands dieroller" >
                <button type="roll" class="ability-roll" name="roll_RightHand" value="&{template:default} {{name=**@{character_name} rolls Attack (Right Hand)**}}\n/roll {@{hand_right}}kh1-@{wound_penalty}">Right Hand</button>
                <textarea class="sheet-hand" name="attr_hand_right"></textarea>
            </div>
            <div class="notes">
                <label>Divine favor costs</label>
                <ul>
                    <li>1: Open-end die</li>
                    <li>1: +1d6 for 1 roll</li>
                    <li>2: Re-roll one die</li>
                    <li>2: Attack again</li>
                    <li>2: move hero 1 range</li>
                    <li>2: no dmg pen for 1 ex</li>
                    <li>3: +1d8 for 1 roll</li>
                    <li>4: Re-roll any/all dice</li>
                    <li>5: divine weapon</li>
                </ul>
            </div>
            <div class="notes">
                <label>Earning Fate</label>
                <ul>
                    <li>1: avoid wounds from 1 attack</li>
                    <li>1: Remove 4 impair levels</li>
                    <li>1: Completed quest</li>
                    <li>1: defeated</li>
                    <li>1: Challenge a god</li>
                </ul>
            </div>
            <div class="notes">
                <label>rewards</label>
                <ul>
                    <li>Completed quest: 1 divine favor</li>
                    <li>Win contest: 1 glory</li>
                    <li>highest hero roll: 1-7 glory</li>
                    <li>defeat minion: 1 glory</li>
                    <li>defeat NPC: glory = highest wound</li>
                </ul>
            </div>
        </div>
        
    </div>
</div>
<!--value="1d[[@{arete_die} - 2 * (@{arete_impair_1} + @{arete_impair_1} + @{arete_impair_1} + @{arete_impair_4})]] -->
<script type="text/worker">

on("sheet:opened", function () {
    getAttrs(['sheet_type','name'], function(values) {
        let type = values.sheet_type;
        if(type !== 'gm' && type !== 'npc' && type !== 'minion') {
            setAttrs({
        	   "sheet_type": 'pc'
            });    
        }
    });
});


const names = ['name','arete','battle','craft','sport','armor','insight','grace','might','spirit','heal','lore','music','orate',
                'athletics','cunning','hunt','wrestle','aim','shield','spear','sword'];
names.forEach(function (name) {
    on("change:" + name.toLowerCase() +"_die" + " change:" + name.toLowerCase() + "_impair_1" + " change:" + name.toLowerCase() + "_impair_2" + " change:" + name.toLowerCase() + "_impair_3" + " change:" + name.toLowerCase() + "_impair_4" + " sheet:opened", function () {
        getAttrs([name + '_die',name + '_impair_1',name + '_impair_2', name + '_impair_3', name + '_impair_4'], function(values) {
            let mods = parseInt(values[name + '_impair_1'])||0;
            mods += parseInt(values[name + '_impair_2'])||0;
            mods += parseInt(values[name + '_impair_3'])||0;
            mods += parseInt(values[name + '_impair_4'])||0;

            let dieString = values[name + '_die'];
            let dieParts = dieString.split("+");
            let die = parseInt(dieParts[0].replace("d",""))||0;
            let bonus = (dieParts.length === 1 ? 0 : parseInt(dieParts[1])||0 );
            die = die - 2* mods;
            if (die < 4) die = 0;
            setAttrs({
			    [name + "_roll"]: "d" + die + (bonus > 0 ? "+" + bonus : "")
		    });
		    
        });
    });
});


const setupBoxes = function(boxes,label) {
    boxes.forEach(function (name) {
        on("change:" + name, function (eventInfo) {
            getAttrs(boxes.push(label), function(values) {
                if(eventInfo.sourceType === 'player') {
                    let attrs = {};
                    let newValue = parseInt(eventInfo.newValue);
                    let attrName = parseInt(eventInfo.sourceAttribute.replace(label + "_",''));
                    let limit = boxes.length-1;
                    if(attrName === newValue) {
                        /*/ checked a box, so check everything below and uncheck everything above */
                        for(let i = 1; i < limit; i++) {
                            if(i <= newValue) {
                                attrs[label + "_" + i] = i;
                            } else {
                                attrs[label + "_" + i] = 0;
                            }
                        }
                        attrs[label] = newValue;
                    } else {
                        /* unchecked a box, so uncheck everything bigger than this. */
                        for(let i = attrName; i <= limit; i++) {
                            attrs[label + "_" + i] = 0;
                        }
                        attrs[label] = attrName -1;
                    }
                    setAttrs(attrs);
                }
            });
        });
    });
}

setupBoxes(['fate_1','fate_2','fate_3','fate_4','fate_5','fate_6','fate_7','fate_8',
        'fate_9','fate_10','fate_11','fate_12','fate_13','fate_14','fate_15','fate_16'],"fate");
setupBoxes(['quests_1','quests_2','quests_3','quests_4','quests_5','quests_6','quests_7','quests_8',
        'quests_9','quests_10','quests_11','quests_12','quests_13','quests_14','quests_15','quests_16'],"quests");
setupBoxes(['favor_1','favor_2','favor_3','favor_4','favor_5','favor_6','favor_7','favor_8',
        'favor_9','favor_10','favor_11','favor_12','favor_13','favor_14'],"favor");
setupBoxes(['glory_1','glory_2','glory_3','glory_4','glory_5','glory_6','glory_7','glory_8','glory_9','glory_10'],"glory");

on("change:fate sheet:opened", function () {
    getAttrs(['fate','sheet_type'], function(values) {
        let pc = (values.sheet_type.toLowerCase() === "pc");
        if(!pc) return;
        let fate = parseInt(values.fate)||0;
        let die = "d6";
        if(fate >= 15) die = "d12";
        else if(fate >= 10) die = "d10";
        else if(fate >= 5) die = "d8";
        setAttrs({
    	    "name_die": die
        });    
        
    });
});

on("change:sheet_type change:armor_die change:armor_helmet change:armor_breastplate change:armor_greaves change:armor_bonus_1 change:armor_bonus_2 sheet:opened", function (eventInfo) {
    getAttrs(['sheet_type','armor_helmet','armor_breastplate', 'armor_greaves', 'armor_bonus_1', 'armor_bonus_2'], function(values) {
        if(values.sheet_type !== 'pc' || eventInfo.sourceType === 'sheetworker') return;
        let numChecks = 0;
        numChecks += parseInt(values.armor_helmet)||0;
        numChecks += parseInt(values.armor_breastplate)||0;
        numChecks += parseInt(values.armor_greaves)||0;
        if (numChecks > 0) {
            numChecks += parseInt(values.armor_bonus_1)||0;
            numChecks += parseInt(values.armor_bonus_2)||0;
        }
        let armor = ['0','d6','d8','d10','d12','d12','d12'][numChecks];
        setAttrs({
    	   "armor_die": armor
    	});
    });
});
        
on("change:wound_1 change:wound_2 change:wound_3", function (eventInfo) {
    getAttrs(['wound_1','wound_2','wound_3','wound_temp'], function(values) {
        if(parseInt(eventInfo.newValue)||0 !== 0) {
            let newwound = parseInt(eventInfo.newValue)||0;
            let tempwound = parseInt(values.wound_temp)||0;
            setAttrs({
    	        "wound_temp": newwound + tempwound,
    	        "wound_check": 1
            });
        }
    });
});

on("change:wound_check", function () {
    getAttrs(['wound_check'], function(values) {
        let wc = parseInt(values.wound_check)||0;
        if(wc === 0) {
            setAttrs({
    	        "wound_temp": 0
            });    
        }
    });
});

on("change:repeating_weapons:weapon_name", function (eventInfo) {
    getAttrs(['repeating_weapons_weapon_name'], function(values) {
        let dice = "";
        let range = "";
        let weapon = values.repeating_weapons_weapon_name.toLowerCase();
        let weapons = ['bow','javelin','shield','spear','sword'];
        if (!weapons.includes(weapon)) return;
        switch(weapon) {
            case "bow":
                dice = "1d8+1";
                range = '5-7';
                break;
            case "javelin":
                dice = "1d6+1";
                range = '2-4';
                break;
            case "shield":
                dice = "1d8";
                range = '-';
                break;
            case "spear":
                dice = "1d8+1d6";
                range = '2';
                break;
            case "sword":
                dice = "2d6";
                range = '1';
                break;
        }
        setAttrs({
    	   repeating_weapons_weapon_dice: dice,
    	   repeating_weapons_weapon_range: range
        });
       
    });
    
});
on("change:repeating_npcweapons:npcweapon_ability", function (eventInfo) {
    getAttrs(['repeating_npcweapons_npcweapon_ability'], function(values) {
        let dice = "1d6";
        let weapon = values.repeating_npcweapons_npcweapon_ability;
        switch(weapon) {
            case "bow":
                dice = "1d8+1";
                break;
            case "javelin":
                dice = "1d6+1";
                break;
            case "shield":
                dice = "1d8";
                break;
            case "spear":
                dice = "1d8+1d6";
                break;
            case "sword":
                dice = "2d6";
                break;
        }
        setAttrs({
    	   repeating_npcweapons_npcweapon_dice: dice
        });
       
    });
    
});


on("change:wound_temp change:wound_4 change:wound_5 change:wound_6 sheet:opened", function () {
    getAttrs(['wound_temp','wound_4','wound_5','wound_6'], function(values) {
        let w4 = parseInt(values.wound_4)||0;
        let w5 = parseInt(values.wound_5)||0;
        let w6 = parseInt(values.wound_6)||0;
        let wt = parseInt(values.wound_temp)||0;
        let mods = Math.max(w4,w5,w6,0) + wt;
        setAttrs({
	        "wound_penalty": mods
        });
    });
});


/* version upgrade */
const sheetVersion = "1.0";
on("sheet:opened", function () {
    getAttrs(['version'], function(v) {
        
        console.log("============== Checking Sheet Version ==============");
        
        if(!v["version"] || v["version"] === "" || v["version"] === "0") {
            console.log("============== Upgrading Sheet To Version 1.0 ==============");
            upgrade0to1();
            setAttrs({version: "1.0"});
        }
        if(v["version"] === "1.0") {
            /* no changes needed yet */
        }
        console.log("============== Finished Checking Sheet Version ==============");
    });
});
var upgrade0to1 = function() {
    console.log("============== Moving Weapons to Repeating Field ==============");
    let attributes = ['weapon_bow_dice','weapon_bow_range','weapon_javelin_dice','weapon_javelin_range','weapon_shield_dice',
            'weapon_sword_dice','weapon_sword_range','weapon_spear_dice','weapon_spear_range',
            'character_lineage','character_heroic_trait','character_heroic_trait_bonus',
            'fate_1','fate_2','fate_3','fate_4','fate_5','fate_6','fate_7','fate_8',
            'fate_9','fate_10','fate_11','fate_12','fate_13','fate_14','fate_15','fate_16',
            'quests_1','quests_2','quests_3','quests_4','quests_5','quests_6','quests_7','quests_8',
            'quests_9','quests_10','quests_11','quests_12','quests_13','quests_14','quests_15','quests_16',
            'favor_1','favor_2','favor_3','favor_4','favor_5','favor_6','favor_7','favor_8',
            'favor_9','favor_10','favor_11','favor_12','favor_13','favor_14',
            'glory_1','glory_2','glory_3','glory_4','glory_5','glory_6','glory_7','glory_8','glory_9','glory_10',
            'wound_1','wound_2','wound_3','wound_4','wound_5','wound_6',
            'character_armor_helmet','character_armor_breastplate','character_armor_greaves'];
    const baseAttributes = ['name','armor','insight','grace','might','spirit','heal','lore','music','orate',
                'athletics','cunning','hunt','wrestle','aim','shield','spear','sword'];
    for(let i = 0; i < baseAttributes.length; i++) {
        attributes.push('character_' + baseAttributes[i] + '_dtype');
        attributes.push('character_' + baseAttributes[i] + '_dtype_tlc');
        attributes.push('character_' + baseAttributes[i] + '_dtype_trc');
        attributes.push('character_' + baseAttributes[i] + '_dtype_blc');
        attributes.push('character_' + baseAttributes[i] + '_dtype_brc');
    }
    getAttrs(attributes, function(v) {
        /* converting weapons */
        let newRows = {};
        if (v.weapon_bow_dice !== undefined || v.weapon_bow_range !== undefined) {
            let newrowid = generateRowID();
            newRows["repeating_weapons_" + newrowid + "_weapon_name"] = "Bow";
            newRows["repeating_weapons_" + newrowid + "_weapon_dice"] = (v.weapon_bow_dice === undefined ? "1d8+1" : v.weapon_bow_dice );
            newRows["repeating_weapons_" + newrowid + "_weapon_range"] = (v.weapon_bow_range === undefined ? "5-6" : v.weapon_bow_range);
        }
        if (v.weapon_javelin_dice !== undefined || v.weapon_javelin_range !== undefined) {
            let newrowid = generateRowID();
            newRows["repeating_weapons_" + newrowid + "_weapon_name"] = "Javelin";
            newRows["repeating_weapons_" + newrowid + "_weapon_dice"] = (v.weapon_javelin_dice === undefined ? "1d6+1" : v.weapon_javelin_dice );
            newRows["repeating_weapons_" + newrowid + "_weapon_range"] = (v.weapon_javelin_range === undefined ? "2-4" : v.weapon_javelin_range);
        }
        if (v.weapon_shield_dice !== undefined || v.weapon_shield_range !== undefined) {
            let newrowid = generateRowID();
            newRows["repeating_weapons_" + newrowid + "_weapon_name"] = "Shield";
            newRows["repeating_weapons_" + newrowid + "_weapon_dice"] = (v.weapon_shield_dice === undefined ? "1d8" : v.weapon_shield_dice );
            newRows["repeating_weapons_" + newrowid + "_weapon_range"] = "-";
        }
        if (v.weapon_spear_dice !== undefined || v.weapon_spear_range !== undefined) {
            let newrowid = generateRowID();
            newRows["repeating_weapons_" + newrowid + "_weapon_name"] = "Spear";
            newRows["repeating_weapons_" + newrowid + "_weapon_dice"] = (v.weapon_spear_dice === undefined ? "1d8+1d6" : v.weapon_spear_dice );
            newRows["repeating_weapons_" + newrowid + "_weapon_range"] = (v.weapon_spear_range === undefined ? "2" : v.weapon_spear_range);
        }
        if (v.weapon_sword_dice !== undefined || v.weapon_sword_range !== undefined) {
            let newrowid = generateRowID();
            newRows["repeating_weapons_" + newrowid + "_weapon_name"] = "Sword";
            newRows["repeating_weapons_" + newrowid + "_weapon_dice"] = (v.weapon_sword_dice === undefined ? "2d6" : v.weapon_sword_dice );
            newRows["repeating_weapons_" + newrowid + "_weapon_range"] = (v.weapon_sword_range === undefined ? "1" : v.weapon_sword_range);
        }
        
        console.log("============== Updating Ability Scores ==============");
        if (v.character_lineage !== undefined) newRows['lineage'] = v.character_lineage;
        if (v.character_heroic_trait !== undefined) newRows['heroic_trait'] = v.character_heroic_trait;
        if (v.character_heroic_trait_bonus !== undefined) newRows['heroic_trait_bonus'] = v.character_heroic_trait_bonus;
        newRows['sheet_type'] = 'pc';
        
        for(let i = 0; i < baseAttributes.length; i++) {
            if(v['character_' + baseAttributes[i] + '_dtype'] !== undefined)  
                newRows[baseAttributes[i] + "_die"] = v['character_' + baseAttributes[i] + '_dtype'];
               
            if(v['character_' + baseAttributes[i] + '_dtype_tlc'] === 'on')  
                newRows[baseAttributes[i] + "_impair_1"] = 1;
            if(v['character_' + baseAttributes[i] + '_dtype_trc'] === 'on')  
                newRows[baseAttributes[i] + "_impair_2"] = 1;
            if(v['character_' + baseAttributes[i] + '_dtype_brc'] === 'on')  
                newRows[baseAttributes[i] + "_impair_3"] = 1;
            if(v['character_' + baseAttributes[i] + '_dtype_blc'] === 'on')  
                newRows[baseAttributes[i] + "_impair_4"] = 1; 
        }
        console.log("============== Updating Quests, Fate, Favor, Glory ==============");
        let boxes = ['fate_1','fate_2','fate_3','fate_4','fate_5','fate_6','fate_7','fate_8',
        'fate_9','fate_10','fate_11','fate_12','fate_13','fate_14','fate_15','fate_16'];
        for(let i = 0; i < boxes.length; i++) {
            if(v[boxes[i]] === 'on') newRows[boxes[i]] = i+1;
        }
        boxes = ['quests_1','quests_2','quests_3','quests_4','quests_5','quests_6','quests_7','quests_8',
        'quests_9','quests_10','quests_11','quests_12','quests_13','quests_14','quests_15','quests_16'];
        for(let i = 0; i < boxes.length; i++) {
            if(v[boxes[i]] === 'on') newRows[boxes[i]] = i+1;
        }
        
        boxes = ['favor_1','favor_2','favor_3','favor_4','favor_5','favor_6','favor_7','favor_8',
        'favor_9','favor_10','favor_11','favor_12','favor_13','favor_14'];
        for(let i = 0; i < boxes.length; i++) {
            if(v[boxes[i]] === 'on') newRows[boxes[i]] = i+1;
        }
        
        boxes = ['glory_1','glory_2','glory_3','glory_4','glory_5','glory_6','glory_7','glory_8','glory_9','glory_10'];
        for(let i = 0; i < boxes.length; i++) {
            if(v[boxes[i]] === 'on') newRows[boxes[i]] = i+1;
        }
        console.log("============== Updating Wounds and Armor ==============");
        if(v['wound_1'] === 'on') newRows['wound_1'] = 1;
        if(v['wound_2'] === 'on') newRows['wound_2'] = 1;
        if(v['wound_3'] === 'on') newRows['wound_3'] = 2;
        if(v['wound_4'] === 'on') newRows['wound_4'] = 1;
        if(v['wound_5'] === 'on') newRows['wound_5'] = 2;
        if(v['wound_6'] === 'on') newRows['wound_6'] = 4;
        if(v['character_armor_helmet'] === 'on') newRows['armor_helmet'] = 1;
        if(v['character_armor_breastplate'] === 'on') newRows['armor_breastplate'] = 1;
        if(v['character_armor_greaves'] === 'on') newRows['armor_greaves'] = 1;
        console.log("============== Saving Attributes ==============");
        setAttrs(newRows);
    });
};


</script>





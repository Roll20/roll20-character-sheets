<div>
    <button type="action" name="act_main" >PC</button>
    <button type="action" name="act_NPC" >NPC</button>
</div>

<input type="hidden" class="sheet-tabstoggle" name="attr_sheetTab" value="main">

<div class="sheet-main">

    <div class="icrpgheader">
        <a href="https://www.runehammer.online/"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/ICRPG-MasterEdition/images/ICRPGTitle.PNG" title="source: imgur.com" /></a>
    </div>

    <div class="characterheader">
        <input class="nametext"  Type="text" name="attr_character_name"><label class="attriblabel">Name</label>
            <table>
                <tr>
                    <td>
                            <input class="headertext" Type="text" name="attr_world" value="Blood & Snow"><label class="attriblabel">world</label>
                    </td>
                    <td>
                            <input class="headertext" Type="text" name="attr_bioform" value="Human"><label class="attriblabel">lifeform</label>
                    </td>

                    <Td>
                            <input class="headertext" Type="text" name="attr_type"><label class="attriblabel">Type</label>   
                    </Td>
                </tr>
            </table>
    </div>
    
    
    <div class="gamelogo">
        <!-- <img src="https://i.imgur.com/VzXEiJV.png" width="300px" title="Blood & Snow" /> -->
        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/ICRPG-MasterEdition/images/ICRPG_ME.png" width="300px" title="ICRPG: ME" /> 
    </div>

    <div class="characterattributes">
        <table class="attribtable">
            <tr>
                <td><button class="blankbutton" type="roll"  value="&{template:ICRPG-d20}{{playername=@{character_name}}}{{attribname=Strength}}{{base=@{base_strength}}}{{loot=@{loot_strength}}}{{lifeform=@{lifeform_strength}}}{{roll=[[1d20+@{base_strength}+@{loot_strength}+@{lifeform_strength}]]}}" name="roll_str"><span class="rollbuttonlabel">STR</span></button></td>
                <td>
                    <button class="blankbutton" type="roll"  value="&{template:ICRPG-d20}{{playername=@{character_name}}}{{attribname=Strength}}{{base=@{base_strength}}}{{loot=@{loot_strength}}}{{lifeform=@{lifeform_strength}}}{{roll=[[1d20+@{base_strength}+@{loot_strength}+@{lifeform_strength}]]}}" name="roll_str">
                        <input class="dienumber" type="text" value="@{base_strength}+@{loot_strength}+@{lifeform_strength}" title="Put points into STR to create a melee fighter, a crusher, a bar-bending, boulder-
                        throwing behemoth who smashes his way through problems." name="attr_strength" disabled>
                    </button>
                </td> 
                <td>
                    <table class="">
                    <tr>
                        <td><input class="attributebonusinputtext" value=0 type="number" name="attr_base_strength" ><span class="attributebonuslabel">base</span></td>
                    </tr>
                    <tr>
                        <td><input class="attributebonusinputtext" value=0 type="number" name="attr_lifeform_strength" ><span class="attributebonuslabel">lifeform</span></td>
                    </tr>
                    <tr>
                        <td><input class="attributebonusinputtext" value=0 type="number" name="attr_loot_strength" readonly><span class="attributebonuslabel">loot</span></td>
                    </tr>
                </table>
                </td>
            </tr>
            <tr>
                <td> <button class="blankbutton" type="roll" value="&{template:ICRPG-d20}{{playername=@{character_name}}}{{attribname=Dexterity}}{{base=@{base_dexterity}}}{{loot=@{loot_dexterity}}}{{lifeform=@{lifeform_dexterity}}}{{roll=[[1d20+@{base_dexterity}+@{loot_dexterity}+@{lifeform_dexterity}]]}}" name="roll_dex"><span class="rollbuttonlabel">DEX</span></button></td>
                <td>
                    <button class="blankbutton" type="roll" value="&{template:ICRPG-d20}{{playername=@{character_name}}}{{attribname=Dexterity}}{{base=@{base_dexterity}}}{{loot=@{loot_dexterity}}}{{lifeform=@{lifeform_dexterity}}}{{roll=[[1d20+@{base_dexterity}+@{loot_dexterity}+@{lifeform_dexterity}]]}}" name="roll_dex">
                        <input class="dienumber" type="text" value="@{base_dexterity}+@{loot_dexterity}+@{lifeform_dexterity}" title="You’ll be using DEX to make ranged attacks, like guns and bows. DEX is also
                        a measure of how nimble you are, so you’ll roll with that STAT when you are
                        trying to move silently, do back flips, or deftly run along crumbling rooftops." name="attr_dexterity" disabled>
                    </button>
                </td>
                <td>
                    <table class="">
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_base_dexterity" ><span class="attributebonuslabel">base</span></td>
                    </tr>
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_lifeform_dexterity" ><span class="attributebonuslabel">lifeform</span></td>
                    </tr>
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_loot_dexterity" readonly><span class="attributebonuslabel">loot</span></td>
                    </tr>
                </table>
                </td>

            </tr>
            <tr>
                <td> <button class="blankbutton" type="roll" value="&{template:ICRPG-d20}{{playername=@{character_name}}}{{attribname=Constitution}}{{base=@{base_constituion}}}{{loot=@{loot_constituion}}}{{lifeform=@{lifeform_constituion}}}{{roll=[[1d20+@{base_constituion}+@{loot_constituion}+@{lifeform_constituion}]]}}" name="roll_con"><span class="rollbuttonlabel">CON</span></button></td>
                <td>
                    <button class="blankbutton" type="roll" value="&{template:ICRPG-d20}{{playername=@{character_name}}}{{attribname=Constitution}}{{base=@{base_constituion}}}{{loot=@{loot_constituion}}}{{lifeform=@{lifeform_constituion}}}{{roll=[[1d20+@{base_constituion}+@{loot_constituion}+@{lifeform_constituion}]]}}" name="roll_con">
                        <input class="dienumber" type="text" value="@{base_constituion}+@{loot_constituion}+@{lifeform_constituion}" title="CON measures how stout or tough you are. This STAT is used when recovering
                        HP, bracing for impact, or fighting to survive poison or terrible cold." name="attr_constituion" disabled>
                    </button>
                </td>
                <td>
                    <table class="">
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_base_constituion" ><span class="attributebonuslabel">base</span></td>
                    </tr>
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_lifeform_constituion" ><span class="attributebonuslabel">lifeform</span></td>
                    </tr>
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_loot_constituion" readonly><span class="attributebonuslabel">loot</span></td>
                    </tr>
                    </table>
                </td>

            </tr>
            <tr>
                <td><button class="blankbutton" type="roll" value="&{template:ICRPG-d20}{{playername=@{character_name}}}{{attribname=Intelligence}}{{base=@{base_intelligence}}}{{loot=@{loot_intelligence}}}{{lifeform=@{lifeform_intelligence}}}{{roll=[[1d20+@{base_intelligence}+@{loot_intelligence}+@{lifeform_intelligence}]]}}" name="roll_int"><span class="rollbuttonlabel">INT</span></button></td>
                <td>
                    <button class="blankbutton" type="roll" value="&{template:ICRPG-d20}{{playername=@{character_name}}}{{attribname=Intelligence}}{{base=@{base_intelligence}}}{{loot=@{loot_intelligence}}}{{lifeform=@{lifeform_intelligence}}}{{roll=[[1d20+@{base_intelligence}+@{loot_intelligence}+@{lifeform_intelligence}]]}}" name="roll_int">
                        <input class="dienumber" type="text" value="@{base_intelligence}+@{loot_intelligence}+@{lifeform_intelligence}" title="Some heroes use wits over fists. Their key STAT is INT, which is used to cast
                        SPELLS, investigate mysteries, recall details, or operate complex machinery." name="attr_intelligence" disabled>
                    </button>
                </td>
                <td>
                    <table class="">
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_base_intelligence" ><span class="attributebonuslabel">base</span></td>
                    </tr>
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_lifeform_intelligence" ><span class="attributebonuslabel">lifeform</span></td>
                    </tr>
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_loot_intelligence" readonly><span class="attributebonuslabel">loot</span></td>
                    </tr>
                    </table>
                </td>

            </tr>
            <tr>
                <td><button class="blankbutton" type="roll" value="&{template:ICRPG-d20}{{playername=@{character_name}}}{{attribname=Wisdom}}{{base=@{base_wisdom}}}{{loot=@{loot_wisdom}}}{{lifeform=@{lifeform_wisdom}}}{{roll=[[1d20+@{base_wisdom}+@{loot_wisdom}+@{lifeform_wisdom}]]}}" name="roll_wis"><span class="rollbuttonlabel">WIS</span></button></td>
                <td>
                    <button class="blankbutton" type="roll" value="&{template:ICRPG-d20}{{playername=@{character_name}}}{{attribname=Wisdom}}{{base=@{base_wisdom}}}{{loot=@{loot_wisdom}}}{{lifeform=@{lifeform_wisdom}}}{{roll=[[1d20+@{base_wisdom}+@{loot_wisdom}+@{lifeform_wisdom}]]}}" name="roll_wis">
                         <input type="text" value="@{base_wisdom}+@{loot_wisdom}+@{lifeform_wisdom}" name="attr_wisdom" title="This STAT measures an intuitive, organic kind of smarts. It isn’t so much knowing
                         as it is feeling. How keen is your sixth sense? Place points here to be a scout,
                         to be in tune with nature, or to feel danger coming." class="dienumber" disabled>
                    </button>
                </td>
                <td>
                    <table class="">
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_base_wisdom" ><span class="attributebonuslabel">base</span></td>
                    </tr>
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_lifeform_wisdom" ><span class="attributebonuslabel">lifeform</span></td>
                    </tr>
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_loot_wisdom" readonly><span class="attributebonuslabel">loot</span></td>
                    </tr>
                    </table>
                </td>

            </tr>
            <tr>
                <td><button class="blankbutton" type="roll" value="&{template:ICRPG-d20}{{playername=@{character_name}}}{{attribname=Charisma}}{{base=@{base_charisma}}}{{loot=@{loot_charisma}}}{{lifeform=@{lifeform_charisma}}}{{roll=[[1d20+@{base_charisma}+@{loot_charisma}+@{lifeform_charisma}]]}}" name="roll_cha"><span class="rollbuttonlabel">CHA</span></button></td>
                <td>
                    <button class="blankbutton" type="roll" value="&{template:ICRPG-d20}{{playername=@{character_name}}}{{attribname=Charisma}}{{base=@{base_charisma}}}{{loot=@{loot_charisma}}}{{lifeform=@{lifeform_charisma}}}{{roll=[[1d20+@{base_charisma}+@{loot_charisma}+@{lifeform_charisma}]]}}" name="roll_cha">
                         <input class="dienumber" type="text" value="@{base_charisma}+@{loot_charisma}+@{lifeform_charisma}" title="Your strength of will is measured by CHARISMA. You’ll be using this to roll for
                         persuasive actions, to resist fear, or drive enemies back with a battle cry." name="attr_charisma" disabled>
                    </button>
                </td>
                <td>
                    <table class="">
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_base_charisma" ><span class="attributebonuslabel">base</span></td>
                    </tr>
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_lifeform_charisma" ><span class="attributebonuslabel">lifeform</span></td>
                    </tr>
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_loot_charisma" readonly><span class="attributebonuslabel">loot</span></td>
                    </tr>
                    </table>
                </td>

            </tr>
        </table>
        <hr class="break">
        <button type="action" name="act_heartminus5">-5</button>
        <button type="action" name="act_heartminus">-1</button>
        <input class="heartnumber" type="input" name="attr_hitpoints" value=10>
        <button type="action" name="act_heartplus">+1</button>
        <button type="action" name="act_heartplus5">+5</button>

        <input class="heart" type="checkbox" name="attr_heart1" title="Max Heart 1">
        <input class="heart" type="checkbox" name="attr_heart2" title="Max Heart 2">
        <input class="heart" type="checkbox" name="attr_heart3" title="Max Heart 3">
        <input class="heart" type="checkbox" name="attr_heart4" title="Max Heart 4">
        <input class="heart" type="checkbox" name="attr_heart5" title="Max Heart 5">
        <input class="heart" type="checkbox" name="attr_heart6" title="Max Heart 6">
        
    </div>
    
    <div class="characterhp">

    </div>
    
    <div class="centerline">
        *
    </div>
    
    <div class="charactereffort">
        <table class="attribtable">
            <tr>
                <td><button class="blankbutton" type="roll" value="&{template:ICRPG-effort}{{playername=@{character_name}}}{{attribname=BASIC}}{{base=@{base_basiceffort}}}{{loot=@{loot_basiceffort}}}{{lifeform=@{lifeform_basiceffort}}}{{roll=[[1d4+@{base_basiceffort}+@{loot_basiceffort}+@{lifeform_basiceffort}]]}}" name="roll_basic"><span class="rollbuttonlabel">BASIC</span></button></td>
                <td>
                    <button class="blankbutton" type="roll" value="&{template:ICRPG-effort}{{playername=@{character_name}}}{{attribname=BASIC}}{{base=@{base_basiceffort}}}{{loot=@{loot_basiceffort}}}{{lifeform=@{lifeform_basiceffort}}}{{roll=[[1d4+@{base_basiceffort}+@{loot_basiceffort}+@{lifeform_basiceffort}]]}}" name="roll_basic">
                        <input class="dienumber_d4" type="text" value="@{base_basiceffort}+@{loot_basiceffort}+@{lifeform_basiceffort}" title="Basic Effort" name="attr_basiceffort" disabled>
                    </button>
                </td>
                <td>
                    <table class="">
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_base_basiceffort" ><span class="attributebonuslabel">base</span></td>
                    </tr>
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_lifeform_basiceffort" ><span class="attributebonuslabel">lifeform</span></td>
                    </tr>
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_loot_basiceffort" readonly><span class="attributebonuslabel">loot</span></td>
                    </tr>
                    </table>
                </td>
                <!--
                <td><button type="roll" value="/roll 1d4+@{base_basiceffort}+@{loot_basiceffort}+@{lifeform_basiceffort}" name="roll_basic"></button></td>
                -->
                <td>
                </td>
            </tr>
            <tr>
                <td><button class="blankbutton" type="roll" value="&{template:ICRPG-effort}{{playername=@{character_name}}}{{attribname=TOOL & WEAPON}}{{base=@{base_tooleffort}}}{{loot=@{loot_tooleffort}}}{{lifeform=@{lifeform_tooleffort}}}{{roll=[[1d6+@{base_tooleffort}+@{loot_tooleffort}+@{lifeform_tooleffort}]]}}" name="roll_tool"><span class="rollbuttonlabel">TOOLS &<br> WEAPONS</span></button></td>
                <td>
                    <button class="blankbutton" type="roll" value="&{template:ICRPG-effort}{{playername=@{character_name}}}{{attribname=TOOL & WEAPON}}{{base=@{base_tooleffort}}}{{loot=@{loot_tooleffort}}}{{lifeform=@{lifeform_tooleffort}}}{{roll=[[1d6+@{base_tooleffort}+@{loot_tooleffort}+@{lifeform_tooleffort}]]}}" name="roll_tool">
                        <input class="dienumber_d6" type="text" value="@{base_tooleffort}+@{loot_tooleffort}+@{lifeform_tooleffort}" title="Base Weapon/Tool Effort" name="attr_tooleffort" disabled>
                    </button>
                </td>
                <td>
                    <table class="">
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_base_tooleffort" ><span class="attributebonuslabel">base</span></td>
                    </tr>
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_lifeform_tooleffort" ><span class="attributebonuslabel">lifeform</span></td>
                    </tr>
                    <tr>
                        <td><input class="attributebonusinputtext" value="0" type="number" name="attr_loot_tooleffort" readonly><span class="attributebonuslabel">loot</span></td>
                    </tr>
                    </table>
                </td>
                <td>
                </td>
            </tr>
            <tr>
                    <td><button class="blankbutton" type="roll" value="&{template:ICRPG-effort}{{playername=@{character_name}}}{{attribname=GUNS}}{{base=@{base_guneffort}}}{{loot=@{loot_guneffort}}}{{lifeform=@{lifeform_guneffort}}}{{roll=[[1d8+@{base_guneffort}+@{loot_guneffort}+@{lifeform_guneffort}]]}}" name="roll_gun"><span class="rollbuttonlabel">GUNS</span></button></td>
                    <td>
                        <button class="blankbutton" type="roll" value="&{template:ICRPG-effort}{{playername=@{character_name}}}{{attribname=GUNS}}{{base=@{base_guneffort}}}{{loot=@{loot_guneffort}}}{{lifeform=@{lifeform_guneffort}}}{{roll=[[1d8+@{base_guneffort}+@{loot_guneffort}+@{lifeform_guneffort}]]}}" name="roll_gun">
                            <input class="dienumber_d8" type="text" value="@{base_guneffort}+@{loot_guneffort}+@{lifeform_guneffort}" title="Base Guns Effort" name="attr_guneffort" disabled>
                        </button>
                    </td>
                    <td>
                    
                        <table class="">
                        <tr>
                            <td><input class="attributebonusinputtext" value="0" type="number" name="attr_base_guneffort" ><span class="attributebonuslabel">base</span></td>
                        </tr>
                        <tr>
                            <td><input class="attributebonusinputtext" value="0" type="number" name="attr_lifeform_guneffort" ><span class="attributebonuslabel">lifeform</span></td>
                        </tr>
                        <tr>
                            <td><input class="attributebonusinputtext" value="0" type="number" name="attr_loot_guneffort" readonly><span class="attributebonuslabel">loot</span></td>
                        </tr>
                        </table>
                    </td>
                <td>
                </td>
                </tr>
            <tr>
                <td><button class="blankbutton" type="roll" value="&{template:ICRPG-effort}{{playername=@{character_name}}}{{attribname=MAGIC & ENERGY}}{{base=@{base_magiceffort}}}{{loot=@{loot_magiceffort}}}{{lifeform=@{lifeform_magiceffort}}}{{roll=[[1d10+@{base_magiceffort}+@{loot_magiceffort}+@{lifeform_magiceffort}]]}}" name="roll_magic"><span class="rollbuttonlabel">ENERGY &<br> MAGIC</span></button></td>
                <td>
                    <button class="blankbutton" type="roll" value="&{template:ICRPG-effort}{{playername=@{character_name}}}{{attribname=MAGIC & ENERGY}}{{base=@{base_magiceffort}}}{{loot=@{loot_magiceffort}}}{{lifeform=@{lifeform_magiceffort}}}{{roll=[[1d10+@{base_magiceffort}+@{loot_magiceffort}+@{lifeform_magiceffort}]]}}" name="roll_magic">
                        <input class="dienumber_d10" type="text" value="@{base_magiceffort}+@{loot_magiceffort}+@{lifeform_magiceffort}" title="Magic & Energy Effort" name="attr_magiceffort" disabled>
                    </button>    
                </td>
                     <td>
                        <table class="">
                        <tr>
                            <td><input class="attributebonusinputtext" value="0" type="number" name="attr_base_magiceffort"><span class="attributebonuslabel">base</span></td>
                        </tr>
                        <tr>
                            <td><input class="attributebonusinputtext" value="0" type="number" name="attr_lifeform_magiceffort" ><span class="attributebonuslabel">lifeform</span></td>
                        </tr>
                        <tr>
                            <td><input class="attributebonusinputtext" value="0" type="number" name="attr_loot_magiceffort" readonly><span class="attributebonuslabel">loot</span></td>
                        </tr>
                        </table>
                    </td>
                <td>
                </td>
            </tr>
            <tr>
                <td><button class="blankbutton" type="roll" value="&{template:ICRPG-effort}{{playername=@{character_name}}}{{attribname=ULTIMATE}}{{base=@{base_ultimateeffort}}}{{loot=@{loot_ultimateeffort}}}{{lifeform=@{lifeform_ultimateeffort}}}{{roll=[[1d12+@{base_ultimateeffort}+@{loot_ultimateeffort}+@{lifeform_ultimateeffort}]]}}" name="roll_ultimate"><span class="rollbuttonlabel">ULTIMATE</span></button></td>
                <td>
                    <button class="blankbutton" type="roll" value="&{template:ICRPG-effort}{{playername=@{character_name}}}{{attribname=ULTIMATE}}{{base=@{base_ultimateeffort}}}{{loot=@{loot_ultimateeffort}}}{{lifeform=@{lifeform_ultimateeffort}}}{{roll=[[1d12+@{base_ultimateeffort}+@{loot_ultimateeffort}+@{lifeform_ultimateeffort}]]}}" name="roll_ultimate">
                        <input class="dienumber_d12" type="text" value="@{base_ultimateeffort}+@{loot_ultimateeffort}+@{lifeform_ultimateeffort}" title="Ultimate Effort" name="attr_ultimateeffort" disabled>
                    </button>
                </td>
                     <td>
                        <table class="">
                        <tr>
                            <td><input class="attributebonusinputtext" value="0" type="number" name="attr_base_ultimateeffort"><span class="attributebonuslabel">base</span></td>
                        </tr>
                        <tr>
                            <td><input class="attributebonusinputtext" value="0" type="number" name="attr_lifeform_ultimateeffort" ><span class="attributebonuslabel">lifeform</span></td>
                        </tr>
                        <tr>
                            <td><input class="attributebonusinputtext" value="0" type="number" name="attr_loot_ultimateeffort" readonly><span class="attributebonuslabel">loot</span></td>
                        </tr>
                        </table>
                    </td>
                <td>
                </td>
            </tr>
        </table>
        

        <hr class="break"> 
        
        <table class="attribtable2" cellspacing="0">
            <tr>
                <td>
                    <input class="shieldnumber" type="text" name="attr_defense" title="Con+Loot+10 = Enemy to Hit Number" value="@{constituion}+@{loot_defense}+10" disabled>
                    <input type="text" name="attr_loot_defense" title="Con+Loot+10 = Enemy to Hit Number" value=0 readonly hidden>
                </td>
                <td>
                    <input type="text" class="heronumber" name="attr_herocoin">
                </td>
                <td>
                    <input type="text" class="dieingnumber" title="1d4 rounds till dead!" name="attr_dieing">
                </td>
            </tr>
        </table>
    </div>
    
    <div class="charactermastery">
        <h2 class="areaheader">MASTERY</h2>
            <input class="masterybox" type="checkbox" name="attr_mastery1">
            <input class="masterybox" type="checkbox" name="attr_mastery2">
            <input class="masterybox" type="checkbox" name="attr_mastery3">
            <input class="masterybox" type="checkbox" name="attr_mastery4">
            <input class="masterybox" type="checkbox" name="attr_mastery5">
            <input class="masterybox" type="checkbox" name="attr_mastery6">
            <input class="masterybox" type="checkbox" name="attr_mastery7">
            <input class="masterybox" type="checkbox" name="attr_mastery8">
            <input class="masterybox" type="checkbox" name="attr_mastery9">
            <input class="masterybox" type="checkbox" name="attr_mastery10">
            <input class="masterybox" type="checkbox" name="attr_mastery11">
            <input class="masterybox" type="checkbox" name="attr_mastery12">
            <input class="masterybox" type="checkbox" name="attr_mastery13">
            <input class="masterybox" type="checkbox" name="attr_mastery14">
            <input class="masterybox" type="checkbox" name="attr_mastery15">
            <input class="masterybox" type="checkbox" name="attr_mastery16">
            <input class="masterybox" type="checkbox" name="attr_mastery17">
            <input class="masterybox" type="checkbox" name="attr_mastery18">
            <input class="masterybox" type="checkbox" name="attr_mastery19">
            <input class="masterybox" type="checkbox" name="attr_mastery20">
            <button type="action" name="act_clear">CLEAR</button>
    </div>

    

    <div class="characterabilities">
    <hr class="break">   
        <h2 class="areaheader">ABILITIES</h2>
        <table>
            <fieldset class="repeating_abilitiy">
                <input class="abilitiestext" type="text" name="attr_ability" >
            </fieldset>
        </table>
        <hr class="minorbreak">   
        <h2 class="areaheader">POWERS</h2>
        <table>
            <fieldset class="repeating_power">
                <input class="abilitiestext" type="text" name="attr_power" >
            </fieldset>
        </table>
        <hr class="minorbreak">   
        <h2 class="areaheader">AUGMENTS</h2>
        <table>
            <fieldset class="repeating_Augment">
                <input class="abilitiestext" type="text" name="attr_augment" >
            </fieldset>
        </table>
    </div>
    
    
    <div class="characterloot">
        <hr class="break">      
        <h2 class="areaheader">LOOT</h2>
        1.
        <input class="loottext" type="text" name="attr_loot1">
        <input class="attribtext"type="number" name="attr_lootbonus1" class="dtype">

        <Select name="attr_ability1" class="tinytext">
            <option value="na">N/A</option>
            <option value="strength">STR</option>
            <option value="dexterity">DEX</option>
            <option value="constituion">CON</option>
            <option value="intelligence">INT</option>
            <option value="wisdom">WIS</option>
            <option value="charisma">CHA</option>
            <option value="defense">Defense</option>
            <option value="basiceffort">Basic</option>
            <option value="tooleffort">Weapon/Tool</option>
            <option value="guneffort">Guns</option></option>
            <option value="magiceffort">Magic</option>
            <option value="ultimateeffort">Ultimate</option>

        </Select>
        <input type="radio" value="1" name="attr_equipped1" title="Equipped">
        <input type="radio" value="0" name="attr_equipped1" title="Carried">
        <input type="radio" value="3" name="attr_equipped1" title="Empty" checked>
        <br>
        2.
        <input class="loottext" type="text" name="attr_loot2">
        <input class="attribtext"type="number" name="attr_lootbonus2">
        <Select name="attr_ability2" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">Defense</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>

            </Select>
        <input type="radio" value="1" name="attr_equipped2" title="Equipped">
        <input type="radio" value="0" name="attr_equipped2" title="Carried">
        <input type="radio" value="3" name="attr_equipped2" checked title="Empty">
        <br>
        3.
        <input class="loottext" type="text" name="attr_loot3">
        <input class="attribtext"type="number" name="attr_lootbonus3">
        <Select name="attr_ability3" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">Defense</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>

            </Select>
        <input type="radio" value="1" name="attr_equipped3" title="Equipped">
        <input type="radio" value="0" name="attr_equipped3" title="Carried">
        <input type="radio" value="3" name="attr_equipped3" checked title="Empty">
        <br>
        4.
        <input class="loottext" type="text" name="attr_loot4">
        <input class="attribtext"type="number" name="attr_lootbonus4">
        <Select name="attr_ability4" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">Defense</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>
            </Select>
        <input type="radio" value="1" name="attr_equipped4" title="Equipped">
        <input type="radio" value="0" name="attr_equipped4" title="Carried">
        <input type="radio" value="3" name="attr_equipped4" checked title="Empty">
        <br>
        5.
        <input class="loottext" type="text" name="attr_loot5">
        <input class="attribtext"type="number" name="attr_lootbonus5">
        <Select name="attr_ability5" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">DEF</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>
            </Select>
        <input type="radio" value="1" name="attr_equipped5" title="Equipped">
        <input type="radio" value="0" name="attr_equipped5" title="Carried">
        <input type="radio" value="3" name="attr_equipped5" checked title="Empty">
        <br>
        6.
        <input class="loottext" type="text" name="attr_loot6">
        <input class="attribtext"type="number" name="attr_lootbonus6">
        <Select name="attr_ability6" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">Defense</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>
            </Select>
        <input type="radio" value="1" name="attr_equipped6" title="Equipped">
        <input type="radio" value="0" name="attr_equipped6" title="Carried">
        <input type="radio" value="3" name="attr_equipped6" checked title="Empty">
        <br>
        7.
        <input class="loottext" type="text" name="attr_loot7">
        <input class="attribtext"type="number" name="attr_lootbonus7">
        <Select name="attr_ability7" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">Defense</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>
            </Select>
        <input type="radio" value="1" name="attr_equipped7" title="Equipped">
        <input type="radio" value="0" name="attr_equipped7" title="Carried">
        <input type="radio" value="3" name="attr_equipped7" checked title="Empty">
        <br>
        8.
        <input class="loottext" type="text" name="attr_loot8">
        <input class="attribtext"type="number" name="attr_lootbonus8">
        <Select name="attr_ability8" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">Defense</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>
            </Select>
        <input type="radio" value="1" name="attr_equipped8" title="Equipped">
        <input type="radio" value="0" name="attr_equipped8" title="Carried">
        <input type="radio" value="3" name="attr_equipped8" checked title="Empty">
        <br>
        9.
        <input class="loottext" type="text" name="attr_loot9">
        <input class="attribtext"type="number" name="attr_lootbonus9">
        <Select name="attr_ability9" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">Defense</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>
            </Select>
        <input type="radio" value="1" name="attr_equipped9" title="Equipped">
        <input type="radio" value="0" name="attr_equipped9" title="Carried">
        <input type="radio" value="3" name="attr_equipped9" checked title="Empty">
        <br>
        10.
        <input class="loottext" type="text" name="attr_loot10">
        <input class="attribtext"type="number" name="attr_lootbonus10">
        <Select name="attr_ability10" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">Defense</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>
            </Select>
        <input type="radio" value="1" name="attr_equipped10" title="Equipped">
        <input type="radio" value="0" name="attr_equipped10" title="Carried">
        <input type="radio" value="3" name="attr_equipped10" checked title="Empty">
        <br>
        11.        
        <input class="loottext" type="text" name="attr_loot11">
        <input class="attribtext"type="number" name="attr_lootbonus11">
        <Select name="attr_ability11" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">Defense</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>
            </Select>
        <input type="radio" value="1" name="attr_equipped11" title="Equipped">
        <input type="radio" value="0" name="attr_equipped11" title="Carried">
        <input type="radio" value="3" name="attr_equipped11" checked title="Empty">
        <br>
        12.        
        <input class="loottext" type="text" name="attr_loot12">
        <input class="attribtext"type="number" name="attr_lootbonus12">
        <Select name="attr_ability12" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">Defense</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>
            </Select>
        <input type="radio" value="1" name="attr_equipped12" title="Equipped">
        <input type="radio" value="0" name="attr_equipped12" title="Carried">
        <input type="radio" value="3" name="attr_equipped12" checked title="Empty">
        <br>
        13.        
        <input class="loottext" type="text" name="attr_loot13">
        <input class="attribtext"type="number" name="attr_lootbonus13">
        <Select name="attr_ability13" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">Defense</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>
            </Select>
        <input type="radio" value="1" name="attr_equipped13" title="Equipped">
        <input type="radio" value="0" name="attr_equipped13" title="Carried">
        <input type="radio" value="3" name="attr_equipped13" checked title="Empty">
        <br>    
        14.        
        <input class="loottext" type="text" name="attr_loot14">
        <input class="attribtext"type="number" name="attr_lootbonus14">
        <Select name="attr_ability14" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">Defense</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>
            </Select>
        <input type="radio" value="1" name="attr_equipped14" title="Equipped">
        <input type="radio" value="0" name="attr_equipped14" title="Carried">
        <input type="radio" value="3" name="attr_equipped14" checked title="Empty">
        <br>
        15.        
        <input class="loottext" type="text" name="attr_loot15">
        <input class="attribtext"type="number" name="attr_lootbonus15">
        <Select name="attr_ability15" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">Defense</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>
            </Select>
        <input type="radio" value="1" name="attr_equipped15" title="Equipped">
        <input type="radio" value="0" name="attr_equipped15" title="Carried">
        <input type="radio" value="3" name="attr_equipped15" checked title="Empty">
        <br>
        16.        
        <input class="loottext" type="text" name="attr_loot16">
        <input class="attribtext"type="number" name="attr_lootbonus16">
        <Select name="attr_ability16" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">Defense</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>
            </Select>
        <input type="radio" value="1" name="attr_equipped16" title="Equipped">
        <input type="radio" value="0" name="attr_equipped16" title="Carried">
        <input type="radio" value="3" name="attr_equipped16" checked title="Empty">
        <br>
        17.        
        <input class="loottext" type="text" name="attr_loot17">
        <input class="attribtext"type="number" name="attr_lootbonus17">
        <Select name="attr_ability17" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">Defense</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>
            </Select>
        <input type="radio" value="1" name="attr_equipped17" title="Equipped">
        <input type="radio" value="0" name="attr_equipped17" title="Carried">
        <input type="radio" value="3" name="attr_equipped17" checked title="Empty">
        <br>
        18.        
        <input class="loottext" type="text" name="attr_loot18">
        <input class="attribtext"type="number" name="attr_lootbonus18">
        <Select name="attr_ability18" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">Defense</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>
            </Select>
        <input type="radio" value="1" name="attr_equipped18" title="Equipped">
        <input type="radio" value="0" name="attr_equipped18" title="Carried">
        <input type="radio" value="3" name="attr_equipped18" checked title="Empty">
        <br>
        19.        
        <input class="loottext" type="text" name="attr_loot19">
        <input class="attribtext"type="number" name="attr_lootbonus19">
        <Select name="attr_ability19" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">Defense</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>
            </Select>
        <input type="radio" value="1" name="attr_equipped19" title="Equipped">
        <input type="radio" value="0" name="attr_equipped19" title="Carried">
        <input type="radio" value="3" name="attr_equipped19" checked title="Empty">
        <br>
        20.        
        <input class="loottext" type="text" name="attr_loot20">
        <input class="attribtext"type="number" name="attr_lootbonus20">
        <Select name="attr_ability20" class="tinytext">
                <option value="na">N/A</option>
                <option value="strength">STR</option>
                <option value="dexterity">DEX</option>
                <option value="constituion">CON</option>
                <option value="intelligence">INT</option>
                <option value="wisdom">WIS</option>
                <option value="charisma">CHA</option>
                <option value="defense">Defense</option>
                <option value="basiceffort">Basic</option>
                <option value="tooleffort">Weapon/Tool</option>
                <option value="guneffort">Guns</option></option>
                <option value="magiceffort">Magic</option>
                <option value="ultimateeffort">Ultimate</option>
            </Select>
        <input type="radio" value="1" name="attr_equipped20" title="Equipped">
        <input type="radio" value="0" name="attr_equipped20" title="Carried">
        <input type="radio" value="3" name="attr_equipped20" checked title="Empty">
        <br>
    </div>

 <!--   <div class="characterdefense">
        <hr class="break"> 
        <table class="attribtable">
            <tr>
                <td>Defense</td>
                <td>Hero Coin</td>
                <td>Dying</td>
            </tr>
            <tr>
                <td>
                    <input class="shieldnumber" type="text" name="attr_loot_defense" value=10 readonly>
                </td>
                <td>
                    <input type="text" class="heronumber" name="attr_herocoin">
                </td>
                <td>
                    <input type="text" class="dieingnumber" name="attr_dieing">
                </td>
            </tr>
        </table>
    </div>-->
</div>
 
<div class="sheet-NPC">
    <div class="icrpgheader">
        <a href="https://www.runehammer.online/"><img src="https://i.imgur.com/DqoIrKF.png" title="source: imgur.com" /></a>
    </div>
    
    <div class="NPCName">
        <input class="nametext"  Type="text" name="attr_character_name"><label class="attriblabel">Name</label>
        <input class="heartnumber" type="text" name="attr_hitpoints" value=10>
        <input class="heartbox" type="checkbox" name="attr_heart1">
        <input class="heartbox" type="checkbox" name="attr_heart2">
        <input class="heartbox" type="checkbox" name="attr_heart3">
        <input class="heartbox" type="checkbox" name="attr_heart4">
        <input class="heartbox" type="checkbox" name="attr_heart5">
        <input class="heartbox" type="checkbox" name="attr_heart6">
        <input class="heartbox" type="checkbox" name="attr_heart7">
        <input class="heartbox" type="checkbox" name="attr_heart8">
        <input class="heartbox" type="checkbox" name="attr_heart9">
        <input class="heartbox" type="checkbox" name="attr_heart10">
    </div>
    
    <div class="NPCActions">
        <span class="attribtable"># Actions</span><input name="attr_NPC_attacks" type="number">
        
    </div>
    
    <div class="NPCAttributes">
        <hr class="break">
        <table class="attribtable">
            <tr>
                <td>STR</td>
                <td><input class="NPC-dienumber" type="text" value="0" title="Base Strength" name="attr_npcstrength"></td> 
                <!-- <td><input class="" type="number" name="attr_loot_strength" readonly></td> -->
                <td>
                    <button type="roll" value="&{template:ICRPG-NPC}{{playername=@{character_name}}}{{attribname=Strength}}{{base=@{npcstrength}}}{{roll=[[1d20+@{npcstrength}]]}}" name="roll_str"></button>
                </td>

                <td>DEX</td>
                <td><input class="NPC-dienumber" type="text" value="0" title="Base Dexterity" name="attr_npcdexterity"></td>
                  <!-- <td><input class="" type="number" name="attr_loot_dexterity" readonly></td>-->
                <td>
                    <button type="roll" value="&{template:ICRPG-NPC}{{playername=@{character_name}}}{{attribname=Dexterity}}{{base=@{npcdexterity}}}{{roll=[[1d20+@{npcdexterity}]]}}" name="roll_dex"></button>
                </td>

                <td>CON</td>
                <td><input class="NPC-dienumber" type="text" value="0" title="Base Constitution"  name="attr_npcconstituion"></td>
                  <!-- <td><input class="" type="number" name="attr_loot_constituion" readonly></td>-->
                <td>
                    <button type="roll" value="&{template:ICRPG-NPC}{{playername=@{character_name}}}{{attribname=Constitution}}{{base=@{npcconstituion}}}{{roll=[[1d20+@{npcconstituion}]]}}" name="roll_con"></button>
                </td> 
            </tr>
            <tr>
                <td>INT</td>
                <td><input class="NPC-dienumber" type="text" value="0" title="Base Intelligence" name="attr_npcintelligence"></td>
                  <!-- <td><input class="" type="number" name="attr_loot_intelligence" readonly></td>-->
                <td>
                    <button type="roll" value="&{template:ICRPG-NPC}{{playername=@{character_name}}}{{attribname=Intelligence}}{{base=@{npcintelligence}}}{{roll=[[1d20+@{npcintelligence}]]}}" name="roll_int"></button>
                </td>

                <td>WIS</td>
                <td><input type="text" value="0" name="attr_npcwisdom" title="Base Wisdom" class="NPC-dienumber"></td>
                  <!-- <td><input class="" type="number" name="attr_loot_wisdom" readonly></td>-->
                <td>
                    <button type="roll" value="&{template:ICRPG-NPC}{{playername=@{character_name}}}{{attribname=Wisdom}}{{base=@{npcwisdom}}}{{roll=[[1d20+@{npcwisdom}]]}}" name="roll_wis"></button>
                </td>

                <td>CHA</td>
                <td><input class="NPC-dienumber" type="text" value="0" title="Base Charisma" name="attr_npccharisma"></td>
                  <!-- <td><input class="" type="number" name="attr_loot_charisma" readonly></td>-->
                <td>
                    <button type="roll" value="&{template:ICRPG-NPC}{{playername=@{character_name}}}{{attribname=Charisma}}{{base=@{npccharisma}}}{{roll=[[1d20+@{npccharisma}]]}}" name="roll_cha"></button>
                </td>
            </tr>
        </table>
        <table class="attribtable">
            <hr class="break">
            <tr>
                <td>BASIC</td>
                <td><input class="NPC-dienumber_d4" type="text" value="0" title="Base Basic Effort"name="attr_npcbasiceffort"></td>
                <!--<td><input class="" type="number" name="attr_loot_basiceffort" readonly></td>-->
                <td>
                    <button type="roll" value="&{template:ICRPG-NPC}{{playername=@{character_name}}}{{attribname=Basic}}{{base=@{npcbasiceffort}}}{{roll=[[1d4+@{npcbasiceffort}]]}}" name="roll_basic"></button>
                </td>

                <td>WEAPONS &<br> TOOLS</td>
                <td><input class="NPC-dienumber_d6" type="text" value="0" title="Base Weapon/Tool Effort" name="attr_npctooleffort"></td>
                <!--<td><input class="" type="number" name="attr_loot_tooleffort" readonly></td>-->
                <td>
                    <button type="roll" value="&{template:ICRPG-NPC}{{playername=@{character_name}}}{{attribname=Weapon & Tool}}{{base=@{npctooleffort}}}{{roll=[[1d6+@{npctooleffort}]]}}" name="roll_tool"></button>
                </td>

                <td>GUNS</td>
                <td><input class="NPC-dienumber_d8" type="text" value="0" title="Base Weapon/Tool Effort" name="attr_npcguneffort"></td>
                <!--<td><input class="" type="number" name="attr_loot_tooleffort" readonly></td>-->
                <td>
                    <button type="roll" value="&{template:ICRPG-NPC}{{playername=@{character_name}}}{{attribname=Gun}}{{base=@{npcguneffort}}}{{roll=[[1d8+@{npcguneffort}]]}}" name="roll_gun"></button>
                </td>
            </tr>
            <tr>
                <td>ENERGY &<br> MAGIC</td>
                <td><input class="NPC-dienumber_d10" type="text" value="0" title="Magic Effort" name="attr_npcmagiceffort"></td>
                <!--<td><input class="" type="number" name="attr_loot_magiceffort" readonly></td>-->
                <td>
                    <button type="roll" value="&{template:ICRPG-NPC}{{playername=@{character_name}}}{{attribname=Magic & Energy}}{{base=@{npcmagiceffort}}}{{roll=[[1d10+@{npcmagiceffort}]]}}" name="roll_magic"></button>
                </td>

                <td>ULTIMATE</td>
                <td><input class="NPC-dienumber_d12" type="text" value="0" title="Base Magic Effort" name="attr_npcultimateeffort"></td>
                <!--<td><input class="" type="number" name="attr_loot_magiceffort" readonly></td>-->
                <td>
                    <button type="roll" value="&{template:ICRPG-NPC}{{playername=@{character_name}}}{{attribname=Ultimate}}{{base=@{npcultimateeffort}}}{{roll=[[1d12+@{npcultimateeffort}]]}}" name="roll_ultimate"></button>
                </td>
            </tr>
        </table>
    </div>
   
    <div class="NPCAbilities">
        <hr class="break">
        <h2 class="areaheader">Abilities</h2>
        <fieldset class="repeating_NPCAbilities">
             <input class="shorttext" type="text" name="attr_NPCAbilities" ><br>
             <input class="NPCAbilitytext" type="text" name="attr_NPCAbilityDesc">
         </fieldset>
    </div>
</div>

<rolltemplate class="sheet-rolltemplate-ICRPG-d20">
<div class="sheet-ICRPG-container">
    <div class="sheet-ICRPG-header">
        {{playername}}
    </div>
    <div class="sheet-ICRPG-subheader">
        {{attribname}}
    </div>
    <div class="sheet-ICRPG-type">
        BASE: {{base}}
        LOOT: {{loot}}
        LIFE: {{lifeform}}
   </div>
    <div class="sheet-ICRPG-type">
        {{roll}}
    </div>
</div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-ICRPG-effort">
    <div class="sheet-ICRPGe-container">
        <div class="sheet-ICRPGe-header">
            {{playername}}
        </div>
        <div class="sheet-ICRPGe-subheader">
            {{attribname}}
        </div>
        <div class="sheet-ICRPGe-type">
            BASE: {{base}}
            LOOT: {{loot}}
            LIFE: {{lifeform}}
       </div>
        <div class="sheet-ICRPGe-type">
            {{roll}}
        </div>
    </div>
    </rolltemplate>


<rolltemplate class="sheet-rolltemplate-ICRPG-NPC">
<div class="sheet-ICRPGNPC-container">
    <div class="sheet-ICRPGNPC-header">
        {{playername}}
    </div>
    <div class="sheet-ICRPGNPC-subheader">
        {{attribname}}
    </div>
    <div class="sheet-ICRPGNPC-type">
       +{{base}}
   </div>
    <div class="sheet-ICRPGNPC-type">
        {{roll}}
    </div>
</div>
</rolltemplate>



<script type="text/worker">

const buttonlist = ["main","NPC"];
const heartlist = ["heartplus","heartminus","heartplus5","heartminus5"]
const lootlist=["equipped1","equipped2","equipped3","equipped4","equipped5","equipped6","equipped7","equipped8","equipped9","equipped10","equipped11","equipped12","equipped13","equipped14","equipped15","equipped16","equipped17","equipped18","equipped19","equipped20"];
const lootbonus=["lootbonus1","lootbonus2","lootbonus3","lootbonus4","lootbonus5","lootbonus6","lootbonus7","lootbonus8","lootbonus9","lootbonus10","lootbonus11","lootbonus12","lootbonus13","lootbonus14","lootbonus15","lootbonus16","lootbonus17","lootbonus18","lootbonus19","lootbonus20"];
const statlist=["strength","dexterity","constituion","intelligence","wisdom","charisma","defense","basiceffort","tooleffort","magiceffort","guneffort","ultimateeffort"];
const changeitems = lootlist;
console.log(changeitems);

buttonlist.forEach(button => {
on(`clicked:${button}`, function() {

    console.log("Switching Sheets...");

    setAttrs({
        sheetTab: button
    });
});
});

heartlist.forEach(button=> {
    on(`clicked:${button}`,function() {
        getAttrs(["hitpoints"], function(values){
            var hp=parseInt(values.hitpoints)||0;
            if(button=="heartplus"){
                hp=hp+1;
            } else if (button=="heartminus"){
                hp=hp-1;
            } else if (button=="heartplus5"){
                hp=hp+5;
            } else if (button=="heartminus5"){
                hp=hp-5;
            }
            console.log(values.hitpoints);
            if (hp<0) {
                hp=0;
            }
            setAttrs({
                "hitpoints": hp 
            });
        });
    });
});


changeitems.forEach(lootitem => {
    on(`change:${lootitem}`, function(){
        
        let tempstat=0;
        //console.log("CHECK!");
    
        for (let i=1;i<=20;i++){
            let abilityname="ability"+String(i);
            let lootbonusvalue="lootbonus"+String(i);
            let equipped="equipped"+String(i);
            var tempstats={strength:0,dexterity:0,constituion:0,intelligence:0,wisdom:0,charisma:0,defense:0,basiceffort:0,tooleffort:0,magiceffort:0,guneffort:0,ultimateeffort:0};
            getAttrs ([equipped,abilityname,lootbonusvalue,"constituion"], function(values){
                //console.log(values[equipped]);
                //console.log("Checked: "+values[equipped]);
                for (let stat of statlist){
                    console.log("Dictionary "+stat+" =>"+tempstats[stat]);
                    lootstat="loot_"+stat;
                    //console.log(lootstat);
                    if(values[abilityname]==stat){
                        if (values[equipped]==1){
                            tempstats[stat]=tempstats[stat]+parseInt(values[lootbonusvalue]);
                        }
                    }
                    setAttrs ({
                       [lootstat]:tempstats[stat]
                    });
                }
            });
        }
    });
});

on("clicked:clear", function() {
    let resetvalue=0;
    let resetname="";
    for (let i=1;i<21;i++){
        resetname="mastery"+String(i);
        setAttrs({
            [resetname]: resetvalue
        });
    }
});


</script>


.encounter-block {
  display: inline-grid;
  grid-template-columns: 5% 90% 5%;
  height: auto;
  margin-top: 0.5em;
  @include fill-available();

  input {
    @include std-font($mono-font); 
    border: 2px solid transparent; //$dark-red;
    // background-color: $dark-red;
    background-color:  transparent; //$white;

    // Chrome, Firefox, Opera, Safari 10.1+
    &::placeholder { 
      color: $dark-gray;
      // font-style: italic;
      padding: 0 1em;
      opacity: 1; /* Firefox */
    }

    // Microsoft Edge
    &::-ms-input-placeholder { 
      color: $dark-gray;
      // font-style: italic;
      padding: 0 1em;
    }

    // Internet Explorer 10-11
    &:-ms-input-placeholder { 
      color: $dark-gray;
      // font-style: italic;
      padding: 0 1em;
    }
  }
  
  .encounter-row-1 {
    grid-column-start: 1;
    grid-column-end: 4;
    display: flex;
    @include fill-available();
    input {
      border: none;
      padding: 0;
    }
  }

  .gray-diamond {
    grid-column-start: 1;
    grid-column-end: 4;
    display: flex;
    justify-content: space-evenly;
    @include fill-available();

    span {
      width: 20px;
      height: 20px;
      background-color: $dark-gray;
      border: 2px solid $dark-gray;
      margin: -10px 0 5px;
      @include rotate(45deg);

    }
  }

  .encounter-inputs {
    display: flex;
    flex-direction: column;
    justify-content: space-evenly;
    background-color: $white;
    @include fill-available();


    .encounter-row-2, .encounter-row-3 {
      display: flex;
      justify-content: space-between;
      @include fill-available();
    }
  }

  .right {
    input { text-align: right; }
  }

  .encounter-taken-recovered.left,
  .encounter-details.right  {
    background-color: $light-gray;
    transform: skew(45deg, 0deg);
    .reverse-skew { transform: skew(-45deg, 0deg); }
  }
  
  .encounter-taken-recovered.right,
  .encounter-details.left {
    background-color: $light-gray;
    transform: skew(-45deg, 0deg);
    .reverse-skew { transform: skew(45deg, 0deg); }
  }

  .encounter-context {
    margin-bottom: 5px;
    @include fill-available();
  }

  .encounter-success-defeat {
    align-self: center;
    text-align: center;
    // display: flex;
    // flex-direction: column;

    // .success-defeat-label:before {
    //   font-family: pictos;
    //   content: '*';
    // }

    // .success-defeat-label:after {
    //   font-family: pictos;
    //   content: '3';
    // }

    &.left {
      @include rotate(-45deg);
      // margin-right: 4px;
      // border-right: 4px solid $red;
    }
    &.right {
      @include rotate(45deg);
      // margin-left: 4px;
      // border-left: 4px solid $red;
    }

    // diamond radios
    input[type='radio'] {
      box-sizing: border-box;
      appearance: none;
      outline: 4px solid $medium-gray;
      background: $medium-gray; //$dark-red;
      border: 4px solid $medium-gray;
      width: 20px;
      height: 20px;
      // @include rotate(45deg);
    }

    input[type='radio']:checked {
      background: $black;
      border: 4px solid $medium-gray;
      // @include rotate(45deg);
    }

    // pictos radios
    // label.checkbox input[type="radio"] {display:none;}
    // label.checkbox span {
    //   display: inline-block;
    //   border: 4px solid $black;
    //   width: 35px;
    //   height: 35px;
    //   background: transparent;
    //   vertical-align: middle;
    //   margin: 11px;
    //   position:  relative;
    //   transition: width 0.1s, height 0.1s, margin 0.1s;
    //   @include rotate(45deg);
    // }
    // label.checkbox :not(:checked) + span:after {
    //   font-family: pictos;
    //   content: '*';
    //   font-size: 1.5em;
    //   position: absolute;
    //   top: 4px;
    //   left: 5px;
    //   color: $black;
    //   @include rotate(45deg);
    // }

    // label.checkbox :checked + span {
    //   background: transparent;
    //   width: 35px;
    //   height: 35px;
    //   margin: 11px;
    // }

    // label.checkbox :checked + span:after {
    //   font-family: pictos;
    //   content: '3';
    //   font-size: 1.5em;
    //   position: absolute;
    //   top: 5px;
    //   left: 3px;
    //   color: $black;
    //   @include rotate(-45deg);
    // }
  }


    
  // .encounter-taken-recovered { grid-row-start: 2; }

  .encounter-taken-recovered, .encounter-details {
    width: 47%;
    &.left {
    }
    &.right {
    }
  }

  .encounter-date {

    &.left {
      margin-right: 0.5em;
    }

    input { 
      text-align: center; 
      color: $red;
      font-weight: bold;
      width: 8em;
    }
  }

  .encounter-details {
    margin-top: 5px;
    // margin-bottom: 5px;
  }
}

.encounter-report {
  @include fill-available();
}


.loss-increment .left {
  @include rotate(-45deg);
  color: orange;
  // border-right: 4px solid $red;
}
.loss-increment .right {
  @include rotate(45deg);
  color: magenta;
  // border-left: 4px solid $red;
}

.losses-block {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: 0 10px;
  // border: 4px solid $dark-gray;
  height: 100px;
  @include fill-available();

  .losses-label {
    text-align: center;
    text-transform: uppercase;
    font-size: 1.2em;
    @include std-font($mono-font);
  }

  .losses-counter {  
    display: flex;
    justify-content: space-between;
    @include fill-available();

    .loss-increments {  
      display: flex;
      justify-content: space-between;
      align-items: center;
      @include fill-available();

      label {
        display: flex;
        justify-content: space-evenly;
        @include rotate(45deg);

        // diamond radios
        input[type='checkbox'] {
          box-sizing: border-box;
          appearance: none;
          outline: 4px solid $medium-gray;
          background: $medium-gray; //$dark-red;
          border: 4px solid $medium-gray;
          width: 20px;
          height: 20px;
        }

        input[type='checkbox'].checkbox-size-2 {
          width: 26px;
          height: 26px;

          &:checked {
            border: 5px solid $medium-gray;
          }
        }
        input[type='checkbox'].checkbox-size-3 {
          width: 32px;
          height: 32px;

          &:checked {
            border: 6px solid $medium-gray;
          }
        }
        input[type='checkbox'].checkbox-size-4 {
          width: 38px;
          height: 38px;

          &:checked {
            border: 7px solid $medium-gray;
          }
        }
        input[type='checkbox'].checkbox-size-5 {
          width: 42px;
          height: 42px;

          &:checked {
            border: 8px solid $medium-gray;
          }
        }
        input[type='checkbox'].checkbox-size-6 {
          width: 54px;
          height: 54px;

          &:checked {
            border: 9px solid $medium-gray;
          }
        }

        input[type='checkbox']:checked {
          background: $black;
          border: 4px solid $medium-gray;
        }
      }
    }
  }
}

.final-result-block {
  display: flex;
  flex-direction: column;
  justify-content: space-evenly;
  text-transform: uppercase;
  font-size: 1.2em;
  height: 6em;
  margin-top: 1em;
  @include std-font($mono-font);
  @include fill-available();

  .final-win-row, .final-loss-row {
    display: inline-grid;
    justify-content: space-between;
    @include fill-available();
  }
  .final-win-row {
    grid-template-columns: 5% 40% 40% 5%;
  }
  .final-loss-row {
    grid-template-columns: 10% 35% 35% 10%;
    margin-top: 10px;
  }

  .result-label, .result-radio {
    @include fill-available();
  }

  .result-label { 
    border-bottom: 4px solid $medium-gray; 
    &.left {
      text-align: left;
    }
    &.right {
      text-align: right;
    }
  }

  .result-radio {
    text-align-last: center;

    &.left {
      @include rotate(-45deg);
    }
    &.right {
      @include rotate(45deg);
    }

    // diamond radios
    input[type=radio] {
      box-sizing: border-box;
      appearance: none;
      outline: 4px solid $medium-gray;
      background: $medium-gray;
      border: 4px solid $medium-gray;
      width: 20px;
      height: 20px;

      // &.left {
      //   border-top-color: $black;
      //   border-left-color: $black;
      //   border-right-color: $dark-gray;
      //   border-bottom-color: $dark-gray;
      // }
      // &.right {
      //   border-top-color: $black;
      //   border-right-color: $black;
      //   border-left-color: $dark-gray;
      //   border-bottom-color: $dark-gray;
      // }
    }

    input[type=radio]:checked {
      background: $black;
      // border: 4px solid $medium-gray;
      // @include rotate(45deg);
    }
  }
}

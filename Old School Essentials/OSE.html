<div class="sheet">
    <div>
        <div class="logo">
            <img src="https://i84.servimg.com/u/f84/13/24/51/43/logone12.png">   
        </div>
        <div class="infos">
            <div class="infos1">
                <label><span data-i18n="playercharacter-pc-u">PC</span><input type="text" name="attr_character_name" data-i18n-placeholder="character-name" placeholder="Character name"></label>
                <label><span data-i18n="class">Class</span><input type="text" name="attr_class" data-i18n-placeholder="class" placeholder="Class"></label>
                <label><span data-i18n="title">Title</span><input type="text" name="attr_title" data-i18n-placeholder="title" placeholder="Title"></label>
            </div>
            <div class="infos1">
                <label><span data-i18n="al-alignment-u">AL</span><input type="text" name="attr_alignment" data-i18n-placeholder="alignment" placeholder="Alignment"></label>
                <label><span data-i18n="level">Level</span><input type="number" name="attr_level" value="1"></label>
                <label><span data-i18n="hitdice-u">HD</span><input type="number" name="attr_hitdice" value="0"></label>
            </div>
        </div>
    </div>
    
    <div>
       <h1 data-i18n="combat-u">COMBAT</h1>
       <div class="sheet-3colrow roll">
           <div class="sheet-col hp">
               <label style="margin-right:51px;"><span data-i18n="hitpoints-hp-u">HP</span><input type="number" name="attr_HP" value="0"></label>
               <label><input type="number" name="attr_HP_max" value="0"><span data-i18n="maximum-max">Max</span></label><br>
               <label style="margin-right:51px;"><span data-i18n="mod-constitution-con-u">± CON</span><input type="number" name="attr_HPConMod" value="0"></label>
               <label><span>±</span><input type="number" name="attr_HPMod" value="0"></label>
           </div>
           <div class="sheet-col movement">
               <div style="margin-right:5px;vertical-align:top;width:148px;display:inline-block">
                    <div class="move" style="width:147px;line-height:15px;height:39px;padding-top:10px;" data-i18n="movement-encounter-en-exploration-ex-overland-ov">Movement<br><i>en</i><i>ex</i><i>ov</i></div> <br>
                    <input type="number" name="attr_movement-en" value="0">
                    <input type="number" name="attr_movement-ex" value="0">
                    <input type="number" name="attr_movement-ov" value="0">
                </div>
                <p><button type="roll" name="attr_rollInit" value="&{template:simple} {{roll=^{initiative}}} {{result=[[1d6 &{tracker}]]}}" data-i18n="initiative-init">Init.</button><input type="number" name="attr_initiative" value="0" style="margin-left:0px;"><br>
                <label style="width:95.5px;margin-top:8px;"><span data-i18n="mod-dexterity-dex-u">± DEX</span><input type="number" name="attr_InitDexMod" value="0"></p>
           </div>
           <div class="sheet-col ac">
               <label><span data-i18n="armorclass-ac-u">AC</span><input type="number" name="attr_ac" value="0"></label>
               <label><span style="width:90px;" data-i18n="unarmored">Unarmored</span><input type="number" name="attr_ac-unarmored" value="0"></label><br>
               <label style="width:100px;"><span data-i18n="mod-dexterity-dex-u">± DEX</span><input type="number" name="attr_ACDexMod" value="0"></label>
               <img src="https://i84.servimg.com/u/f84/13/24/51/43/castle10.png" style="width:149px;">
           </div>
       </div>
       <div class="matrix roll">
           <p style="width:100%;margin-right:10px;margin-top:10px;text-align:center;">
                <span style="width:99.1%;" data-i18n="attack-value-matrix">Attack value matrix</span><br>
                <span style="background:none;width:100%;line-height:0;">
                <button type="roll" name="attr_rollAttack9" value="&{template:greater} {{roll=^{attack}}} {{result=[[ 1d20+@{atk_rollquery}>@{matrix-9}+@{modquery} ]]}} {{check=[[ @{matrix-9}+@{modquery} ]]}}">9</button><input type="number" name="attr_matrix-9" value="[[@{matrix-0}-9]]" disabled>
                <button type="roll" name="attr_rollAttack8" value="&{template:greater} {{roll=^{attack}}} {{result=[[ 1d20+@{atk_rollquery}>@{matrix-8}+@{modquery} ]]}} {{check=[[ @{matrix-8}+@{modquery} ]]}}">8</button><input type="number" name="attr_matrix-8" value="[[@{matrix-0}-8]]" disabled>
                <button type="roll" name="attr_rollAttack7" value="&{template:greater} {{roll=^{attack}}} {{result=[[ 1d20+@{atk_rollquery}>@{matrix-7}+@{modquery} ]]}} {{check=[[ @{matrix-7}+@{modquery} ]]}}">7</button><input type="number" name="attr_matrix-7" value="[[@{matrix-0}-7]]" disabled>
                <button type="roll" name="attr_rollAttack6" value="&{template:greater} {{roll=^{attack}}} {{result=[[ 1d20+@{atk_rollquery}>@{matrix-6}+@{modquery} ]]}} {{check=[[ @{matrix-6}+@{modquery} ]]}}">6</button><input type="number" name="attr_matrix-6" value="[[@{matrix-0}-6]]" disabled>
                <button type="roll" name="attr_rollAttack5" value="&{template:greater} {{roll=^{attack}}} {{result=[[ 1d20+@{atk_rollquery}>@{matrix-5}+@{modquery} ]]}} {{check=[[ @{matrix-5}+@{modquery} ]]}}">5</button><input type="number" name="attr_matrix-5" value="[[@{matrix-0}-5]]" disabled>
                <button type="roll" name="attr_rollAttack4" value="&{template:greater} {{roll=^{attack}}} {{result=[[ 1d20+@{atk_rollquery}>@{matrix-4}+@{modquery} ]]}} {{check=[[ @{matrix-4}+@{modquery} ]]}}">4</button><input type="number" name="attr_matrix-4" value="[[@{matrix-0}-4]]" disabled>
                <button type="roll" name="attr_rollAttack3" value="&{template:greater} {{roll=^{attack}}} {{result=[[ 1d20+@{atk_rollquery}>@{matrix-3}+@{modquery} ]]}} {{check=[[ @{matrix-3}+@{modquery} ]]}}">3</button><input type="number" name="attr_matrix-3" value="[[@{matrix-0}-3]]" disabled>
                <button type="roll" name="attr_rollAttack2" value="&{template:greater} {{roll=^{attack}}} {{result=[[ 1d20+@{atk_rollquery}>@{matrix-2}+@{modquery} ]]}} {{check=[[ @{matrix-2}+@{modquery} ]]}}">2</button><input type="number" name="attr_matrix-2" value="[[@{matrix-0}-2]]" disabled>
                <button type="roll" name="attr_rollAttack1" value="&{template:greater} {{roll=^{attack}}} {{result=[[ 1d20+@{atk_rollquery}>@{matrix-1}+@{modquery} ]]}} {{check=[[ @{matrix-1}+@{modquery} ]]}}">1</button><input type="number" name="attr_matrix-1" value="[[@{matrix-0}-1]]" disabled>
                <button type="roll" name="attr_rollAttack0" value="&{template:greater} {{roll=^{attack}}} {{result=[[ 1d20+@{atk_rollquery}>@{matrix-0}+@{modquery} ]]}} {{check=[[ @{matrix-0}+@{modquery} ]]}}">0</button><input type="number" name="attr_matrix-0" value="0"></label></span>
            </p>
       </div>
       <div class="attack roll">
           <p><button type="roll" name="attr_rollAttack" data-i18n="attack-roll" value="&{template:simple} {{roll=^{attack}}} {{result=[[ 1d20+@{atk_rollquery}+@{mod} ]]}}">Attack roll</button></p>
           <p><label><span data-i18n="bonus-str">Bonus STR</span><input type="number" name="attr_BonusSTR" value="0"></label></p>
           <p><label><span data-i18n="bonus-dex">Bonus DEX</span><input type="number" name="attr_BonusDEX" value="0"></label></p>
           <p><img src="https://i.servimg.com/u/f84/13/24/51/43/banniz12.png"></p>
       </div>
    </div>
    
    <div>
       <h1 data-i18n="ability-scores-u">ABILITY SCORES</h1>
       <div class="scores roll">
           <p><button type="roll" name="attr_rollSTR" value="&{template:less} {{roll=^{strength}}} {{result=[[ [[1d20]]<@{str}+@{modquery} ]]}} {{check=[[@{str}+@{modquery}]]}}" data-i18n="strength-str-u">STR</button><input type="number" name="attr_str" value="0"></p>
           <p><button type="roll" name="attr_rollINT" value="&{template:less} {{roll=^{intelligence}}} {{result=[[ [[1d20]]<@{int}+@{modquery} ]]}} {{check=[[@{int}+@{modquery}]]}}" data-i18n="intelligence-int-u">INT</button><input type="number" name="attr_int" value="0"></p>
           <p><button type="roll" name="attr_rollWIS" value="&{template:less} {{roll=^{wisdom}}} {{result=[[ [[1d20]]<@{wis}+@{modquery} ]]}} {{check=[[@{wis}+@{modquery}]]}}" data-i18n="wisdom-wis-u">WIS</button><input type="number" name="attr_wis" value="0"></p>
           <p><button type="roll" name="attr_rollDEX" value="&{template:less} {{roll=^{dexterity}}} {{result=[[ [[1d20]]<@{dex}+@{modquery} ]]}} {{check=[[@{dex}+@{modquery}]]}}" data-i18n="dexterity-dex-u">DEX</button><input type="number" name="attr_dex" value="0"></p>
           <p><button type="roll" name="attr_rollCON" value="&{template:less} {{roll=^{constitution}}} {{result=[[ [[1d20]]<@{con}+@{modquery} ]]}} {{check=[[@{con}+@{modquery}]]}}" data-i18n="constitution-con-u">CON</button><input type="number" name="attr_con" value="0"></p>
           <p><button type="roll" name="attr_rollCHA" value="&{template:less} {{roll=^{charisma}}} {{result=[[ [[1d20]]<@{cha}+@{modquery} ]]}} {{check=[[@{cha}+@{modquery}]]}}" data-i18n="charisma-cha-u">CHA</button><input type="number" name="attr_cha" value="0"></p>
       </div>
    </div>
    
    <div>
       <h1 data-i18n="saving-throws-u">SAVING THROWS</h1>
       <div class="saving roll">
           <p><label><button type="roll" name="attr_rollSaving-1" value="&{template:greater} {{roll=^{death-poison-full}}} {{result=[[ [[1d20]]>@{Saving-1}+@{modquery} ]]}} {{check=[[@{Saving-1}+@{modquery}]]}}" data-i18n="death-poison">Death<br>Poison</button><input type="number" name="attr_Saving-1" value="0"></p>
           <p><label><button type="roll" name="attr_rollSaving-2" value="&{template:greater} {{roll=^{magic-wands-full}}} {{result=[[ [[1d20]]>@{Saving-2}+@{modquery} ]]}} {{check=[[@{Saving-2}+@{modquery}]]}}" data-i18n="magic-wands">Magic<br>wands</button><input type="number" name="attr_Saving-2" value="0"></p>
           <p><label><button type="roll" name="attr_rollSaving-3" value="&{template:greater} {{roll=^{paralysis-petrification-full}}} {{result=[[ [[1d20]]>@{Saving-3}+@{modquery} ]]}} {{check=[[@{Saving-3}+@{modquery}]]}}" data-i18n="paralysis-petrification">Paralysis<br>Petrification</button><input type="number" name="attr_Saving-3" value="0"></p>
           <p><label><button type="roll" name="attr_rollSaving-4" value="&{template:greater} {{roll=^{breath-attacks-full}}} {{result=[[ [[1d20]]>@{Saving-4}+@{modquery} ]]}} {{check=[[@{Saving-4}+@{modquery}]]}}" data-i18n="breath-attacks">Breath<br>attacks</button><input type="number" name="attr_Saving-4" value="0"></p>
           <p><label><button type="roll" name="attr_rollSaving-5" value="&{template:greater} {{roll=^{spells-rods-staves-full}}} {{result=[[ [[1d20]]>@{Saving-5}+@{modquery} ]]}} {{check=[[@{Saving-5}+@{modquery}]]}}" data-i18n="spells-rods-staves">Spells, Rods, <br>Staves</button><input type="number" name="attr_Saving-5" value="0"></p>
       </div>
    </div>
    
    <div>
       <h1 data-i18n="exploration-u">EXPLORATION</h1>
       <div class="exploration roll">
           <p><label><button type="roll" name="attr_rollListenDoor" value="&{template:less} {{roll=^{listen-at-door-full}}} {{result=[[ [[1d6]]<@{ListenDoor}+@{modquery} ]]}} {{check=[[@{ListenDoor}+@{modquery}]]}}" data-i18n="listen-at-door">Listen at<br>door</button><input type="number" name="attr_ListenDoor" value="0"></p>
           <p><label><button type="roll" name="attr_rollOpenDoor" value="&{template:less} {{roll=^{open-stuck-door-full}}} {{result=[[ [[1d6]]<@{OpenDoor}+@{modquery} ]]}} {{check=[[@{OpenDoor}+@{modquery}]]}}" data-i18n="open-stuck-door">Open stuck<br>door</button><input type="number" name="attr_OpenDoor" value="0"></p>
           <p><label><button type="roll" name="attr_rollFindSecretDoor" value="&{template:less} {{roll=^{find-secret-door-full}}} {{result=[[ [[1d6]]<@{FindSecretDoor}+@{modquery} ]]}} {{check=[[@{FindSecretDoor}+@{modquery}]]}}" data-i18n="find-secret-door">Find secret<br>door</button><input type="number" name="attr_FindSecretDoor" value="0"></p>
           <p><label><button type="roll" name="attr_rollFindRoomTrap" value="&{template:less} {{roll=^{find-room-trap-full}}} {{result=[[ [[1d6]]<@{FindRoomTrap}+@{modquery} ]]}} {{check=[[@{FindRoomTrap}+@{modquery}]]}}" data-i18n="find-room-trap">Find room<br>trap</button><input type="number" name="attr_FindRoomTrap" value="0"></p>
       </div>
    </div>
    
    <div>
       <h1 data-i18n="experience">EXPERIENCE</h1>
       <div class="exp">
           <p><label><span data-i18n="experience-points-xp-u">XP</span><input type="number" name="attr_XP" value="0"></label></p>
           <p><label><span data-i18n="next">Next</span><input type="number" name="attr_Next" value="0"></label></p>
           <p><label><span>%</span><input type="number" name="attr_ExpPercentage" value="0"></label></p>
       </div>
    </div>
        
    <div>
       <h1 data-i18n="abilities-skills-weapons-u">ABILITIES, SKILLS, WEAPONS</h1>
       <fieldset class="repeating_abilities">
           <div class="sheet-2colrow abilities">
               <div class="sheet-col">
                   <input type="text" name="attr_AbilityName1" placeholder="Name">
                   <input type="text" name="attr_AbilityRollValue1" placeholder="2d6"><!--
                    --><select name="attr_AbilityGreaterLess1">
                        <option value="0"></option>
                        <option value="1"><</option>
                        <option value="2">></option>
                    </select><!--
                    --><input type="number" name="attr_AbilityRollValueThreshold1" placeholder="7">
                    <button type="roll" name="AbilityRoll1" value="&{template:skill} {{symbol=[[@{AbilityGreaterLess1}]]}} {{roll=@{AbilityName1}}} {{result=[[@{AbilityRollValue1}]]}} {{check=[[0+@{AbilityRollValueThreshold1}]]}} {{description=@{AbilityDescription1}}}"></button>
                   <textarea name="attr_AbilityDescription1" data-i18n-placeholder="description-or-weapon-qualities" placeholder="Description or Weapon qualities"></textarea>
               </div>
               <div class="sheet-col">
                   <input type="text" name="attr_AbilityName2" placeholder="Name">
                   <input type="text" name="attr_AbilityRollValue2" placeholder="2d6"><!--
                    --><select name="attr_AbilityGreaterLess2">
                        <option value="0"></option>
                        <option value="1"><</option>
                        <option value="2">></option>
                    </select><!--
                    --><input type="number" name="attr_AbilityRollValueThreshold2" style="width:;" placeholder="7">
                    <button type="roll" name="AbilityRoll2" value="&{template:skill} {{symbol=[[@{AbilityGreaterLess2}]]}} {{roll=@{AbilityName2}}} {{result=[[@{AbilityRollValue2}]]}} {{check=[[0+@{AbilityRollValueThreshold2}]]}} {{description=@{AbilityDescription2}}}"></button>
                   <textarea name="attr_AbilityDescription2" data-i18n-placeholder="description-or-weapon-qualities" placeholder="Description or Weapon qualities"></textarea>
               </div>
           </div>
       </fieldset>
    </div>
    
    <div>
       <h1 data-i18n="items-equipment-u">ITEMS & EQUIPMENT</h1>
       <div class="equip" style="width:79%;display:inline-block;vertical-align:top;">
           <span data-i18n="quantity-qty">Qty</span><span data-i18n="name">Name</span><span data-i18n="description">Description</span><span data-i18n="weight">Weight</span>
           <fieldset class="repeating_items">
               <input type="number" name="attr_ItemQuantity" value="1"><input type="text" name="attr_ItemName" data-i18n-placeholder="item-name" placeholder="Item name"><input type="text" name="attr_ItemDescription" data-i18n-placeholder="item-description" placeholder="Item description" class="idesc"><input type="number" name="attr_ItemWeight" value="0">
           </fieldset>
       </div>
       <div class="coins" style="width:20%;display:inline-block;text-align:center;">
           <p><label><span data-i18n="platinum-piece-pp-u">PP</span><input type="number" name="attr_PP" value="0"></label></p>
           <p><label><span data-i18n="gold-piece-gp-u">GP</span><input type="number" name="attr_GP" value="0"></label></p>
           <p><label><span data-i18n="electrum-piece-ep-u">EP</span><input type="number" name="attr_EP" value="0"></label></p>
           <p><label><span data-i18n="silver-piece-sp-u">SP</span><input type="number" name="attr_SP" value="0"></label></p>
           <p><label><span data-i18n="copper-piece-cp-u">CP</span><input type="number" name="attr_CP" value="0"></label></p>
       </div>
    </div>
</div>

<!-- Attack roll translation -->
<span style="display:none;" data-i18n="typeofattack">Type of attack</span>
<span style="display:none;" data-i18n="melee">Melee</span>
<span style="display:none;" data-i18n="missile">Missile</span>
<span style="display:none;" data-i18n="modifier">Threshold modifier</span>
<span style="display:none;" data-i18n="modifier-mod">Modif</span>
<span style="display:none;" data-i18n="attack">Attack</span>

<!-- Other translation -->
<span style="display:none;" data-i18n="initiative">Initiative</span>
<span style="display:none;" data-i18n="strength">Strength</span>
<span style="display:none;" data-i18n="intelligence">Intelligence</span>
<span style="display:none;" data-i18n="wisdom">Wisdom</span>
<span style="display:none;" data-i18n="dexterity">Dexterity</span>
<span style="display:none;" data-i18n="constitution">Constitution</span>
<span style="display:none;" data-i18n="charisma">Charisma</span>

<span style="display:none;" data-i18n="death-poison-full">Death or poison</span>
<span style="display:none;" data-i18n="magic-wands-full">Magic wands</span>
<span style="display:none;" data-i18n="paralysis-petrification-full">Paralysis or petrification</span>
<span style="display:none;" data-i18n="breath-attacks-full">Breath attacks</span>
<span style="display:none;" data-i18n="spells-rods-staves-full">Spells, rods or staves</span>
<span style="display:none;" data-i18n="listen-at-door-full">Listen at door</span>
<span style="display:none;" data-i18n="open-stuck-door-full">Open stuck door</span>
<span style="display:none;" data-i18n="find-secret-room-full">Find secret room</span>
<span style="display:none;" data-i18n="find-room-trap-full">Find room trap</span>

<rolltemplate class="sheet-rolltemplate-simple">
    <div>
        <span style="background:black;">{{roll}}</span>
        <span style="background:white;">{{result}}</span>
    </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-greater">
    <div>
        <span style="background:black;">{{roll}}</span>
        <span style="background:white;display:none;">{{check}}</span>
        <span style="background:white;">{{result}}</span>
        {{#rollLess() result check}}
            <span class="rollresult rollfail" data-i18n="fail">Fail</span>
        {{/rollLess() result check}}
        {{#rollGreater() result check}}
            <span class="rollresult rollsuccess" data-i18n="success">Success</span>
        {{/rollGreater() result check}}
        {{#rollTotal() result check}}
            <span class="rollresult rollsuccess" data-i18n="success">Success</span>
        {{/rollTotal() result check}}
    </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-less">
    <div>
        <span style="background:black;">{{roll}}</span>
        <span style="background:white;display:none;">{{check}}</span>
        <span style="background:white;">{{result}}</span>
        {{#rollTotal() result check}}
            <span class="rollresult rollsuccess" data-i18n="success">Success</span>
        {{/rollTotal() result check}}
        {{#rollLess() result check}}
            <span class="rollresult rollsuccess" data-i18n="success">Success</span>
        {{/rollLess() result check}}
        {{#rollGreater() result check}}
            <span class="rollresult rollfail" data-i18n="fail">Fail</span>
        {{/rollGreater() result check}}
    </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-skill">
    <div>
        <span style="background:black;">{{roll}}</span>
        <span style="background:white;">{{result}}</span>
        {{#rollTotal() symbol 2}}
            {{#rollLess() result check}}
                <span class="rollresult rollfail" data-i18n="fail">Fail</span>
            {{/rollLess() result check}}
            {{#rollGreater() result check}}
                <span class="rollresult rollsuccess" data-i18n="success">Success</span>
            {{/rollGreater() result check}}
            {{#rollTotal() result check}}
                <span class="rollresult rollsuccess" data-i18n="success">Success</span>
            {{/rollTotal() result check}}
        {{/rollTotal() symbol 2}}
        {{#rollTotal() symbol 1}}
            {{#rollTotal() result check}}
                <span class="rollresult rollsuccess" data-i18n="success">Success</span>
            {{/rollTotal() result check}}
            {{#rollLess() result check}}
                <span class="rollresult rollsuccess" data-i18n="success">Success</span>
            {{/rollLess() result check}}
            {{#rollGreater() result check}}
                <span class="rollresult rollfail" data-i18n="fail">Fail</span>
            {{/rollGreater() result check}}
        {{/rollTotal() symbol 1}}
        <span class="rolldescr">
            {{description}}
        </span>
    
    </div>
</rolltemplate>

<script type="text/worker">

    on("sheet:opened", function(eventInfo){
        
        setAttrs({
            atk_rollquery: "?{" + getTranslationByKey("typeofattack") +"|" + getTranslationByKey("melee") + ",@{BonusSTR}[" + getTranslationByKey("bonus-str") + "]|" + getTranslationByKey("missile") + ",@{BonusDEX}[" + getTranslationByKey("bonus-dex") + "]}",
            modquery: "?{" + getTranslationByKey("modifier") + "|0}[" + getTranslationByKey("modifier-short") + "]",
            mod: "?{" + getTranslationByKey("modifier-mod") + "|0}[" + getTranslationByKey("modifier-mod") + "]"
        });
        
    });
    
    on("change:dex", function() {
       getAttrs(["ACDexMod", "InitDexMod", "BonusDEX", "dex"], function(values) {
          if (values.dex == 3) {
            setAttrs({
               ACDexMod: -3,
               BonusDEX: -3,
               InitDexMod: -2
            });
          };
          if (values.dex > 3 && values.dex <= 5 ) {
            setAttrs({
               ACDexMod: -2,
               BonusDEX: -2,
               InitDexMod: -1
            });
          };
          if (values.dex >= 6 && values.dex <= 8 ) {
            setAttrs({
               ACDexMod: -1,
               BonusDEX: -1,
               InitDexMod: -1
            });
          };
          if (values.dex >= 9 && values.dex <= 12 ) {
            setAttrs({
               ACDexMod: 0,
               BonusDEX: 0,
               InitDexMod: 0
            });
          };
          if (values.dex >= 13 && values.dex <= 15 ) {
            setAttrs({
               ACDexMod: 1,
               BonusDEX: 1,
               InitDexMod: 1
            });
          };
          if (values.dex >= 16 && values.dex <= 17 ) {
            setAttrs({
               ACDexMod: 2,
               BonusDEX: 2,
               InitDexMod: 1
            });
          };
          if (values.dex == 18 ) {
            setAttrs({
               ACDexMod: 3,
               BonusDEX: 3,
               InitDexMod: 2
            });
          };
       });
    });
    
    on("change:str", function() {
       getAttrs(["BonusSTR", "str"], function(values) {
          if (values.str == 3) {
            setAttrs({
               BonusSTR: -3
            });
          };
          if (values.str > 3 && values.str <= 5 ) {
            setAttrs({
               BonusSTR: -2
            });
          };
          if (values.str >= 6 && values.str <= 8 ) {
            setAttrs({
               BonusSTR: -1
            });
          };
          if (values.str >= 9 && values.str <= 12 ) {
            setAttrs({
               BonusSTR: 0
            });
          };
          if (values.str >= 13 && values.str <= 15 ) {
            setAttrs({
               BonusSTR: 1
            });
          };
          if (values.str >= 16 && values.str <= 17 ) {
            setAttrs({
               BonusSTR: 2
            });
          };
          if (values.str == 18 ) {
            setAttrs({
               BonusSTR: 3
            });
          };
       });
    });
    
    on("change:con", function() {
       getAttrs(["HPConMod", "con"], function(values) {
          if (values.con == 3) {
            setAttrs({
               HPConMod: -3
            });
          };
          if (values.con > 3 && values.con <= 5 ) {
            setAttrs({
               HPConMod: -2
            });
          };
          if (values.con >= 6 && values.con <= 8 ) {
            setAttrs({
               HPConMod: -1
            });
          };
          if (values.con >= 9 && values.con <= 12 ) {
            setAttrs({
               HPConMod: 0
            });
          };
          if (values.con >= 13 && values.con <= 15 ) {
            setAttrs({
               HPConMod: 1
            });
          };
          if (values.con >= 16 && values.con <= 17 ) {
            setAttrs({
               HPConMod: 2
            });
          };
          if (values.con == 18 ) {
            setAttrs({
               HPConMod: 3
            });
          };
       });
    });
    
</script>
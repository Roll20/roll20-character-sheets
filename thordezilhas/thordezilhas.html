<html>
<div class="body">
    <br />

    <div class="sheet-header">
		<div class="sheet-personagem">
			<div class="4colrow">

				<!-- BOTÃO E ATRIBUTOS NOME E NAÇÃO -->
				<div class="row">
					<div class="col">
						<label>Nome: <input class="name" type="text" name="attr_character_name" style="width: 250;" /> </label>
					</div>
					<div class="col">
						<label>Nação: <input type="text" name="attr_nacao" style="width: 150px;" /> </label>
					</div>
					<div class="col" style="margin-left: 80px; position: absolute; float: right">
						<img src="https://i.imgur.com/OAQUjEZ.png" style="width: 260px; height:100px; max-height: 100px; margin-top:-40px; text-align: right">
					</div>

				</div>


				<!-- ATRIBUTOS Povo, Arquétipo E NÍVEL -->
				<div class="row">
					<div class="col">
						<label>Povo:  <input type="text" name="attr_raca" style="width: 120px;" /> </label>
					</div>

					<div class="col">
						<label>Arquétipo: <input type="text" name="attr_classe" style="width: 130px;" /> </label>
					</div>

					<div class="col">
						<label>Nivel: <input type="number" name="attr_nivel" style="width: 42px;" /> </label>
					</div>
				</div>


				<!-- ATRIBUTOS ALINHAMENTO, PAIXÕES E RELAÇÕES -->
				<div class="row">
					<div class="col">
						<label>Alinhamento: <input type="text" name="attr_alinhamento" style="width: 120px;" /> </label>
					</div>

					<div class="col">
						<label>Paixões: <input type="text" name="attr_paixoes" style="width: 160px;" /> </label>
					</div>
				</div>

				<!-- ATRIBUTOS ESPECIALIZAÇÕES -->
				<div class="row">
					<div class="col">
						<label>Especializações: <input type="text" name="attr_especializacao" style="width: 582px;" />  </label>
					</div>
					<div class="col">
						<label>XP: <input type="number" name="attr_xp" style="width: 42px;" /> </label>
					</div>
				</div>
			</div>
		</div>
    </div>

    <img src="https://i.imgur.com/rA73vNY.png" style="max-width:820px">

    <br/>
    <div style="margin-top:2px;">
        <button class="botao-selecao" type="action" name="act_principal">Atributos</button>
        <button class="botao-selecao" type="action" name="act_magias">Magias</button>
    </div>
    <input type='hidden' class='sheet-tabstoggle' name='attr_sheetTab' value='principal' />
    <br />


    <div class='sheet-principal'>
        <div class="col atributos dados-atributos">
            <div class="row">
                <h2 class="titulo">Atributos</h2>

                <label class="atributos-name">Força</label><input type="number" name='attr_for' class='sheet-short atributos-value'>
				<button type="roll" align="right" value="&{template:atributo} {{nome=@{character_name}}} {{atributo=Força}} {{desempenho=[[?{Situação|Normal, 1d20|Vantagem, 2d20kh1|Desvantagem, 2d20kl1}+@{for}+?{MP|Não,0|Sim,@{MP}}+?{Bônus|0}]]}}"></button>
                <br />
                <label class="atributos-name">Destreza</label><input type="number" name='attr_des' class='sheet-short atributos-value'>
                <button type="roll" align="right" value="&{template:atributo} {{nome=@{character_name}}} {{atributo=Destreza}} {{desempenho=[[?{Situação|Normal, 1d20|Vantagem, 2d20kh1|Desvantagem, 2d20kl1}+@{des}+?{MP|Não,0|Sim,@{MP}}+?{Bônus|0}]]}}"></button>
                <br />
                <label class="atributos-name">Constituição</label><input type="number" name='attr_con' class='sheet-short atributos-value'>
                <button type="roll" align="right" value="&{template:atributo} {{nome=@{character_name}}} {{atributo=Constituição}} {{desempenho=[[?{Situação|Normal, 1d20|Vantagem, 2d20kh1|Desvantagem, 2d20kl1}+@{con}+?{MP|Não,0|Sim,@{MP}}+?{Bônus|0}]]}}"></button>
                <br />
                <label class="atributos-name">Inteligência</label><input type="number" name='attr_int' class='sheet-short atributos-value'>
                <button type="roll" align="right" value="&{template:atributo} {{nome=@{character_name}}} {{atributo=Inteligência}} {{desempenho=[[?{Situação|Normal, 1d20|Vantagem, 2d20kh1|Desvantagem, 2d20kl1}+@{int}+?{MP|Não,0|Sim,@{MP}}+?{Bônus|0}]]}}"></button>
                <br />
                <label class="atributos-name">Sabedoria</label><input type="number" name='attr_sab' class='sheet-short atributos-value'>
                <button type="roll" align="right" value="&{template:atributo} {{nome=@{character_name}}} {{atributo=Sabedoria}} {{desempenho=[[?{Situação|Normal, 1d20|Vantagem, 2d20kh1|Desvantagem, 2d20kl1}+@{sab}+?{MP|Não,0|Sim,@{MP}}+?{Bônus|0}]]}}"></button>
                <br />
                <label class="atributos-name">Carisma</label><input type="number" name='attr_car' class='sheet-short atributos-value'>
                <button type="roll" align="right" value="&{template:atributo} {{nome=@{character_name}}} {{atributo=Carisma}} {{desempenho=[[?{Situação|Normal, 1d20|Vantagem, 2d20kh1|Desvantagem, 2d20kl1}+@{car}+?{MP|Não,0|Sim,@{MP}}+?{Bônus|0}]]}}"></button>
                <hr />
            </div>
            <div class="row">
                <div class="col">

                    <h2 class="titulo">Proficiências</h2>

                    <textarea name="attr_proficiencias"></textarea>

                    <h2 class="titulo">Idiomas</h2>

                    <textarea name="attr_idiomas" style="height: 35px" ;></textarea>
					
					<h2 class="titulo">Anotações</h2>

					<textarea name="attr_notas"></textarea>

                </div>
            </div>
        </div>

        <div class="col" style="margin-left:10px; min-width: 370px; min-height=80px; max-height=80px;">
            <div class="row">
                <h2 class="titulo">Parâmetros</h2>
                <div class="parametros">
                    <label class="label-1-5">PV</label><input type="text" name='attr_pvmax' class='sheet-short parametros-input-pv'>
                    <input type="text" name="attr_pvdano" class='sheet-short parametros-input-dano' />
                    <br />
                    <label class="obs-label pvs">Totais</label><label class="obs-label pvs-atuais">Atuais</label>
                    <br />
                    <label class="label-1-5">Def</label><input type="text" name="attr_def" value="10+@{def_des}+@{def_armadura}+@{def_outros}" disabled="true" style="margin-left:-85px; width: 40px;" />
                    <label>= 10 + </label><input type="text" name="attr_def_des" value="0" class="parametros-input-def-atributo"/>
                    <label class="parametros-def-separador"> + </label><input type="text" name="attr_def_armadura" value="0" class="parametros-input-def-armadura" />
                    <label class="parametros-def-separador"> + </label><input type="text" name="attr_def_outros" value="0" class="parametros-input-def-outros" />
                    <br />
                    <label class="parametros-label-def-atributo">DES/CON*</label>
                    <label class="obs-label parametros-label-def-armadura">Armadura</label>
                    <label class="obs-label parametros-label-def-outros">Outros</label>
                    <br />
                    <label class="label-1-5">MP</label><input type="text" name="attr_MP" value="0" class="parametros-input-mp" />
                    <label class="label-1-5 parametros-def-separador">Triunfo</label><input type="text" name="attr_triunfo" class="parametros-input-triunfo" />
                    <br />
                </div>
                <h2 class="titulo">Combate</h2>
                <div class="atributos combate">
                    <label>Corporal</label><input type="text" name="attr_atq_corporal" value="@{atqc_for}+@{atqc_mp}+@{atqc_outros}" disabled="true" class="combate-corporal-input-total" />
                    <label class="combate-label-separador">=</label><input type="text" name="attr_atqc_for" value="0" class="combate-input-atributo" />
                    <label class="combate-label-separador"> + </label><input type="text" name="attr_atqc_mp" value="@{MP}" disabled="true" />
                    <label class="combate-label-separador"> + </label><input type="text" name="attr_atqc_outros" value="0" />
                    <br />
                    <label class="obs-label-combate combate-corporal-label-atributo">FOR/DES*</label>
                    <label class="obs-label-combate combate-corporal-label-mp">MP</label>
                    <label class="obs-label-combate combate-corporal-label-perito">Perito</label>
                    <br />
                    <label style="max-width:20px">Distância</label><input type="text" name="attr_atq_distancia" value="@{atqd_des}+@{atqd_mp}+@{atqd_outros}" disabled="true" class="combate-distancia-input-total" />
                    <label  class="combate-label-separador">=</label><input type="text" name="attr_atqd_des" value="0" class="combate-input-atributo" />
                    <label class="combate-label-separador"> + </label><input type="text" name="attr_atqd_mp" value="@{MP}" disabled="true" />
                    <label class="combate-label-separador"> + </label><input type="text" name="attr_atqd_outros" value="0" />
                    <br />
                    <label class="obs-label-combate combate-distancia-label-atributo">DES</label>
                    <label class="obs-label-combate combate-distancia-label-mp">MP</label>
                    <label class="obs-label-combate combate-distancia-label-perito">Perito</label>
                </div>
                <h2 class="titulo">Armas e Ataques</h2>
                <div class="atributos armas">
					<!-- arma 1 -->
                    <input type="text" name="attr_nome_arma1" class="arma-input-nome" />
					<select name="attr_atributoataque1">
						<option value="@{atq_corporal}" selected="">Corporal</option>
						<option value="@{atq_distancia}">Distância</option>
					</select>
                    <input type="text" name="attr_dano_arma1" class="armas-input-dano" />
                    <input type="number" name="attr_municao1" class="armas-input-municao" />
                    <button type="roll" align="right" value="&{template:ataque} {{nome=@{character_name} atacou com @{nome_arma1}!}} {{ataque=[[?{Situação|Normal, 1d20|Vantagem, 2d20kh1|Desvantagem, 2d20kl1}+@{atributoataque1}+?{Bônus|0}]]}} {{dano=[[@{dano_arma1}}]]}}"></button>
                    <br />
                    <label class="armas-label-nome">Nome</label>
					<label class="armas-label-tipo">Tipo</label>
                    <label class="armas-label-dano">Dano</label>
                    <label class="armas-label-municao">Munição</label>
                    <br>
					<!-- arma 2 -->
                    <input type="text" name="attr_nome_arma2" class="arma-input-nome" />
					<select name="attr_atributoataque2">
						<option value="@{atq_corporal}" selected="">Corporal</option>
						<option value="@{atq_distancia}">Distância</option>
					</select>
                    <input type="text" name="attr_dano_arma2" class="armas-input-dano" />
                    <input type="number" name="attr_municao2" class="armas-input-municao" />
                    <button type="roll" align="right" value="&{template:ataque} {{nome=@{character_name} atacou com @{nome_arma2}!}} {{ataque=[[?{Situação|Normal, 1d20|Vantagem, 2d20kh1|Desvantagem, 2d20kl1}+@{atributoataque2}+?{Bônus|0}]]}} {{dano=[[@{dano_arma2}}]]}}"></button>
                    <br />
                    <label class="armas-label-nome">Nome</label>
					<label class="armas-label-tipo">Tipo</label>
                    <label class="armas-label-dano">Dano</label>
                    <label class="armas-label-municao">Munição</label>
                    <br>
					<!-- arma 3 -->
                    <input type="text" name="attr_nome_arma3" class="arma-input-nome" />
					<select name="attr_atributoataque3">
						<option value="@{atq_corporal}" selected="">Corporal</option>
						<option value="@{atq_distancia}">Distância</option>
					</select>
                    <input type="text" name="attr_dano_arma3" class="armas-input-dano" />
                    <input type="number" name="attr_municao3" class="armas-input-municao" />
                    <button type="roll" align="right" value="&{template:ataque} {{nome=@{character_name} atacou com @{nome_arma3}!}} {{ataque=[[?{Situação|Normal, 1d20|Vantagem, 2d20kh1|Desvantagem, 2d20kl1}+@{atributoataque3}+?{Bônus|0}]]}} {{dano=[[@{dano_arma3}}]]}}"></button>
                    <br />
                    <label class="armas-label-nome">Nome</label>
					<label class="armas-label-tipo">Tipo</label>
                    <label class="armas-label-dano">Dano</label>
                    <label class="armas-label-municao">Munição</label>
                    <br>
					<!-- arma 4 -->
                    <input type="text" name="attr_nome_arma4" class="arma-input-nome" />
					<select name="attr_atributoataque4">
						<option value="@{atq_corporal}" selected="">Corporal</option>
						<option value="@{atq_distancia}">Distância</option>
					</select>
                    <input type="text" name="attr_dano_arma4" class="armas-input-dano" />
                    <input type="number" name="attr_municao4" class="armas-input-municao" />
                    <button type="roll" align="right" value="&{template:ataque} {{nome=@{character_name} atacou com @{nome_arma4}!}} {{ataque=[[?{Situação|Normal, 1d20|Vantagem, 2d20kh1|Desvantagem, 2d20kl1}+@{atributoataque4}+?{Bônus|0}]]}} {{dano=[[@{dano_arma4}}]]}}"></button>
                    <br />
                    <label class="armas-label-nome">Nome</label>
					<label class="armas-label-tipo">Tipo</label>
                    <label class="armas-label-dano">Dano</label>
                    <label class="armas-label-municao">Munição</label>
                    <br>
					<!-- arma 5 -->
                    <input type="text" name="attr_nome_arma5" class="arma-input-nome" />
					<select name="attr_atributoataque5">
						<option value="@{atq_corporal}" selected="">Corporal</option>
						<option value="@{atq_distancia}">Distância</option>
					</select>
                    <input type="text" name="attr_dano_arma5" class="armas-input-dano" />
                    <input type="number" name="attr_municao5" class="armas-input-municao" />
                    <button type="roll" align="right" value="&{template:ataque} {{nome=@{character_name} atacou com @{nome_arma5}!}} {{ataque=[[?{Situação|Normal, 1d20|Vantagem, 2d20kh1|Desvantagem, 2d20kl1}+@{atributoataque5}+?{Bônus|0}]]}} {{dano=[[@{dano_arma5}}]]}}"></button>
                    <br />
                    <label class="armas-label-nome">Nome</label>
					<label class="armas-label-tipo">Tipo</label>
                    <label class="armas-label-dano">Dano</label>
                    <label class="armas-label-municao">Munição</label>
                    <br>
					<!-- arma 6 -->
                    <input type="text" name="attr_nome_arma6" class="arma-input-nome" />
					<select name="attr_atributoataque6">
						<option value="@{atq_corporal}" selected="">Corporal</option>
						<option value="@{atq_distancia}">Distância</option>
					</select>
                    <input type="text" name="attr_dano_arma6" class="armas-input-dano" />
                    <input type="number" name="attr_municao6" class="armas-input-municao" />
                    <button type="roll" align="right" value="&{template:ataque} {{nome=@{character_name} atacou com @{nome_arma6}!}} {{ataque=[[?{Situação|Normal, 1d20|Vantagem, 2d20kh1|Desvantagem, 2d20kl1}+@{atributoataque6}+?{Bônus|0}]]}} {{dano=[[@{dano_arma6}}]]}}"></button>
                    <br />
                    <label class="armas-label-nome">Nome</label>
					<label class="armas-label-tipo">Tipo</label>
                    <label class="armas-label-dano">Dano</label>
                    <label class="armas-label-municao">Munição</label>
                    <br>
					<!-- arma 7 -->
                    <input type="text" name="attr_nome_arma7" class="arma-input-nome" />
					<select name="attr_atributoataque7">
						<option value="@{atq_corporal}" selected="">Corporal</option>
						<option value="@{atq_distancia}">Distância</option>
					</select>
                    <input type="text" name="attr_dano_arma7" class="armas-input-dano" />
                    <input type="number" name="attr_municao7" class="armas-input-municao" />
                    <button type="roll" align="right" value="&{template:ataque} {{nome=@{character_name} atacou com @{nome_arma7}!}} {{ataque=[[?{Situação|Normal, 1d20|Vantagem, 2d20kh1|Desvantagem, 2d20kl1}+@{atributoataque7}+?{Bônus|0}]]}} {{dano=[[@{dano_arma7}}]]}}"></button>
                    <br />
                    <label class="armas-label-nome">Nome</label>
					<label class="armas-label-tipo">Tipo</label>
                    <label class="armas-label-dano">Dano</label>
                    <label class="armas-label-municao">Munição</label>
                    <br>

                    <br />

                    <br />
                </div>
            </div>
        </div>

        <div class="col" class="caracteristicas">

            <h2 class="titulo">Características</h2>

            <textarea name="attr_caracteristicas"></textarea>
            <hr />

            <h2 class="titulo">Equipamentos</h2>

            <textarea name="attr_equipamentos"></textarea>
            <label class="atributos dinheiro">PO: <input type="number" name="attr_po" /> </label>
            <label class="atributos dinheiro">PP: <input type="number" name="attr_pp" /> </label>
            <label class="atributos dinheiro">PC: <input type="number" name="attr_pc" /> </label>
            <hr />
        </div>
    </div>


    <div class='sheet-magias'>
       <h2 class="atributos">Magias</h2>
        <br/>

        <fieldset class="repeating_skills">
            <span class="armas">

				<div class="4colrow">
                    <div class="row">
                        <div class="col">
                            <label>Nome: <input type="text" name="attr_listamagiasNome" style="width: 630px;" /> </label>
                        </div>
                        <div class="col">
                            <label>Arco: <input type="number" name="attr_listamagiasArco" style="width: 52px;" /> </label>
                        </div>
                    </div>

                    <div class="row" style="padding-top:2px;">
                        <div class="col">
                            <label>Antecedente: <input type="text" name="attr_listamagiasAntecedente" style="width: 130px;" /> </label>
                        </div>
                        <div class="col">
                            <label>Alcance: <input type="text" name="attr_listamagiasAlcance" style="width: 130px;" /> </label>
                        </div>
                        <div class="col">
                            <label>Duração: <input type="text" name="attr_listamagiasDuracao" style="width: 130px;" /> </label>
                        </div>
                        <div class="col">
                            <label>Resistir: <input type="text" name="attr_listamagiasResistir" style="width: 130px;" /> </label>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <textarea style="width: 780px; height: 30px;" name="attr_listamagiasDescricao"></textarea>
                </div>

                <hr />

            </span>
        </fieldset>
    </div>
	<br/><br/>

	<div class="row">
		<label class="creditos">
			Ficha desenvolvida por David Dornelles, Cleison Ferreira e Júlia Yamamoto baseada no modelo original de Mônica de Faria
		</label>
	</div>
</div>

<rolltemplate class="sheet-rolltemplate-ataque">
	<div class="sheet-rollbox-container">
	   <div class="header">
    		<div class="roll">
    			Ahoy!
    		</div>
		    <span class="left">{{nome}}</span>
	    </div>
	    <br>
        <div class="rollbox">
            <div>
                <div class="roll">
                    {{ataque}}
                </div>
                <div class="roll-label">
                    Desempenho
                </div>
            </div>
            <div class="divisor"><span></span></div>
            <div>
				<div class="roll">
					{{dano}}
				</div>
				<div class="roll-label">
					Dano
				</div>
            </div>
        </div>
    </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-atributo">
	<div class="sheet-rollbox-container">
	   <div class="header">
    		<div class="roll">
    			Ahoy!
    		</div>
		    <span class="left">{{nome}} está testando {{atributo}}</span>
	    </div>
	    <br>
		<div class="rollbox">
            <div>
                <div class="roll">
                    Arrr! O desempenho de {{nome}} foi
                </div>
            </div>
        </div>
        <div class="rollbox-desempenho">
            <div>
                <div class="roll">
                    {{desempenho}}
                </div>
            </div>
        </div>
    </div>
</rolltemplate>

</html>
<script type="text/worker">
    const buttonlist = ["principal","magias"];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
			setAttrs({
				sheetTab: button
			});
        });
    });
</script>

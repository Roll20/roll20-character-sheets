<div class="linha centre">
    <img src="https://i0.wp.com/coisinhaverde.com.br/jogos/wp-content/uploads/2019/09/LOGO-Notequest-PRETO-sem-fundo.png?w=700&ssl=1" width="400">
</div>

<div class="linha">
    &nbsp;
    <br>
    &nbsp;
</div>

<div class="linha">
    <div class="cell width-60"><span>NOME</span></div>
    <div class="cell"><input type="text" name="attr_nome"></div>
</div>

<div class="linha">&nbsp;</div>

<div class="linha top">
    <div class="cell width-60 "><span>RAÇA</span></div>
    <div class="cell width-40 "><button type="action" name="act_btnRaca" class="sheet-d6-dice"></button></div>
    <div class="cell width-190"><input type="text" name="attr_raca" class="width-170" ></div>
    <div class="cell width-100"><span>VANTAGEM</span></div>
    <div class="cell top">      <textarea name="attr_racaVantagem" class="width-400"></textarea></div>
</div>

<hr>
<div class="linha top">
    <label>CLASSE</label>
    <fieldset class="repeating_class">
        <div class="cell width-60 "><span>CLASSE</span></div>       
        <div class="cell width-190"><input  type="text"   name="attr_classe"   class="width-170"></div> 
        <div class="cell width-40 "><button type="action" name="act_btnClasse" class="sheet-d6-dice"></button></div>
        <div class="cell width-100"><span>VANTAGEM</span></div>
        <div class="cell top">      <textarea name="attr_classeVantagem" class="width-400"></textarea></div>
    </fieldset>
</div>

<hr>


<div class="linha">

    <div class="cell width-150">
        <div class="linha">
            <div class="cell">
                <div class="cell width-70"> <span>PV</span> </div>
                <div class="cell width-30"> <input type="number" name="attr_pv" min="0"  min="0" value="0"> </div>
            </div>
        </div>

        <div class="linha">&nbsp;</div>

        
        <div class="linha">
            <div class="cell width-70"> <span>MOEDAS</span> </div>
            <div class="cell width-30"> <input type="number" name="attr_moedas"  min="0" value="0"> </div>
        </div>
    </div>


    <div class="cell width-210">

        <div class="linha"> 

            <div class="cell width-90 valign"> <span>PROVISÕES</span> </div>
            <div class="cell cell width-85">   <input type="number" name="attr_provisoes" min="0" max="20" value="20"></div>

        </div>

        <div class="linha">&nbsp;</div>

        <div class="linha">

            <div class="cell valign width-90"> <span>TOCHAS</span> </div>
            <div class="cell"> <input type="number" name="attr_tochas" min="0" max="10" value="10"></div>

        </div>
    
    </div>

    <div class="cell">
        <div class="linha">
            <div class="linha centre"><label>DADOS</label></div>
            <div class="cell valign">
                <div class="cell width-60"><input type='number' name="attr_dados" value="1" min="1"></div>
                <div class="cell width-70"><span>dados &nbsp;&nbsp;&nbsp;+ </span></div>
                <div class="cell width-60"><input type="number" name="attr_modificador" value="0"></div>
                <div class="cell"><button type='roll' name="roll_btnDados" class="" value="/r @{dados}d6sd+@{modificador}" ></button></div>
            </div>
        </div>
    </div>

</div>


<div class="linha">

    <div class="cell width-60"></div>


</div>


<hr>


<div class="linha">

    
    <div class="cell width-310">
        <div class="linha"><label>EQUIPAMENTOS</label></div>

        <div class="linha">
            <div class="cell width-100">
                <span>ARMA</span>
            </div>
            <div class="cell">
                <input type="text" name="attr_arma">
            </div>
        </div>

        <div class="linha">
            <div class="cell width-100">
                <span>CABEÇA</span>
            </div>
            <div class="cell">
                <input type="text" name="attr_cabeca">
            </div>
        </div>

        <div class="linha">
            <div class="cell width-100">
                <span>PEITORAL</span>
            </div>
            <div class="cell">
                <input type="text" name="attr_peitoral">
            </div>
        </div>

        <div class="linha">
            <div class="cell width-100">
                <span>OMBREIRAS</span>
            </div>
            <div class="cell">
                <input type="text" name="attr_ombreiras">
            </div>
        </div>

        <div class="linha">
            <div class="cell width-100">
                <span>BRACELETES</span>
            </div>
            <div class="cell">
                <input type="text" name="attr_braceletes">
            </div>
        </div>

        <div class="linha">
            <div class="cell width-100">
                <span>BOTAS</span>
            </div>
            <div class="cell">
                <input type="text" name="attr_botas">
            </div>
        </div>

        <hr>

        <div class="linha"><label>MOCHILA</label></div>
        
        <div class="linha">
            <fieldset class="repeating_mochila">
                <input type="text" name="attr_item" class="width-255">
                <input type="number" name="attr_itemQtd">
            </fieldset>
        </div>

        <hr>
        
        <div class="linha"><label>MAGIAS</label></div>

        <div class="linha">

            <div class="linha">
                <div class="cell width-260"><span>MAGIAS</span></div>
                <div class="cell width-50"><span>QTD</span></div>
            </div>

            <fieldset class="repeating_magias">

                <div class="linha">
                    <input type="text"   name="attr_magia"  class="width-255">
                    <input type="number" name="attr_magiaQtd" value="0" min="0">
                </div>

                <div class="linha">
                    <textarea name="attr_magiaUso" name="attr_magiaEfeito" class="width-295" placeholder="EFEITO"></textarea>
                </div>

             </fieldset>
        
        </div>
        

    </div>

    <div class="cell width-50"></div>

    <div class="cell">
        <div class="linha"><label>MONSTROS</label></div>

        <div class="cell width-180">
            <div class="linha"><span>MONSTRO</span></div>
        </div>
        <div class="cell width-50">
            <div class="linha"><span>PV</span></div>
        </div>
        <div class="cell width-100">
            <div class="linha"><span>DANO</span></div>
        </div>
        <div class="cell">
            <div class="linha"><span>ESPECIAL</span></div>
        </div>


        <fieldset class="repeating_mostro">
            <div class="cell">
                <div class="linha"><input type="text"   name="attr_monstro" class="width-180"></div>
            </div>
            <div class="cell">
                <div class="linha"><input type="number" name="attr_monstroPv" class="width-50"  min="0" value="0"></div>
            </div>
            <div class="cell">
                <div class="linha"><input type="text"   name="attr_monstroDano" class="width-100"></div>
            </div>
            <div class="cell">
                <div class="linha"><input type="text"   name="attr_monstroEspecial" class="width-150"></div>
            </div>
        </fieldset>
    </div>
</div>


<rolltemplate class="sheet-rolltemplate-moveDesc">
    <div class="sheet-container sheet-color-{{color}}">
        <div class="sheet-header">
        {{#title}}<div class="sheet-title">{{title}}</div>{{/title}}
        {{#subtitle}}<div class="sheet-subtitle">{{subtitle}}</div>{{/subtitle}}
        </div>
        <div class="sheet-content sheet-color-text-{{colorText}}">
        {{#allprops() title subtitle color colorText dados}}
            <div class="sheet-desc">{{value}}</div>
        {{/allprops() title subtitle color colorText dados}}
        </div>
    </div>
</rolltemplate>



<rolltemplate class="sheet-rolltemplate-custom">
    <div class="sheet-container sheet-color-{{color}}">
        <div class="sheet-header">
        {{#title}}<div class="sheet-title">{{title}}</div>{{/title}}
        {{#subtitle}}<div class="sheet-subtitle">{{subtitle}}</div>{{/subtitle}}
        </div>
        <div class="sheet-content sheet-color-text-{{colorText}}">
            <div class="sheet-key">dados</div>
            {{#dados}}<div class="sheet-value">{{dados}}</div>{{/dados}}
        {{#allprops() title subtitle color colorText dados}}
            <div class="sheet-desc">{{value}}</div>
        {{/allprops() title subtitle color colorText dados}}
        </div>
    </div>
</rolltemplate>


<script type="text/worker">

var matrixRaca = [];

var obj = {
    raca: "Homem-Gosma",
    pv: 10,
    vantagem: "Se engolfar o corpo de um inimigo morto recupera todos PV."
}
matrixRaca.push(obj);

var obj = {
    raca: "Vagalóide",
    pv: 16,
    vantagem: "Começa o jogo com 3 usos da Magia Básica: Luz."
}
matrixRaca.push(obj);

var obj = {
    raca: "Fada",
    pv: 8,
    vantagem: "Começa o jogo com 5 Magias Básicas aleatórias."
}
matrixRaca.push(obj);

var obj = {
    raca: "Gnomo",
    pv: 10,
    vantagem: "Começa o jogo com 3 Magias Básicas aleatórias."
}
matrixRaca.push(obj);

var obj = {
    raca: "Elfo",
    pv: 16,
    vantagem: "Começa o jogo com 1 Magia Básica aleatória."
}
matrixRaca.push(obj);

var obj = {
    raca: "Humano",
    pv: 16,
    vantagem: "Começa o jogo com 1 Magia Básica aleatória."
}
matrixRaca.push(obj);

var obj = {
    raca: "Elfo",
    pv: 20,
    vantagem: "Nenhuma."
}
matrixRaca.push(obj);

var obj = {
    raca: "Anão",
    pv: 18,
    vantagem: "Quando for rolar para Achar Passagens Secretas, role dois dados e descarte o menor."
}
matrixRaca.push(obj);

var obj = {
    raca: "Pequenino",
    pv: 14,
    vantagem: "Quando Mover em Silêncio, para cada monstro role dois dados e descarte o menor."
}
matrixRaca.push(obj);

var obj = {
    raca: "Povo-Gato",
    pv: 19,
    vantagem: "Pode vender equipamento na cidade pelo dobro do valor."
}
matrixRaca.push(obj);

var obj = {
    raca: "Rinoceróide",
    pv: 24,
    vantagem: "Pode atacar com seu chifre (Dano 1d6) em vez de atacar com uma arma."
}
matrixRaca.push(obj);

var obj = {
    raca: "Meio-Dragão",
    pv: 30,
    vantagem: "Começa o jogo com 3 usos da Magia Básica: Bola de Fogo."
}
matrixRaca.push(obj);

var obj = {
    raca: "Meio-Humano",
    pv: 20,
    vantagem: "Role uma nova raça e use a vantagem deste."
}
matrixRaca.push(obj);

var obj = {
    raca: "Samambro",
    pv: 10,
    vantagem: "Quando morrer, role um dado. Se cair 3 ou mais irá voltar a vida com 1 PV."
}
matrixRaca.push(obj);

var obj = {
    raca: "Corvino",
    pv: 14,
    vantagem: "Começa o jogo com 2 Magias Avançadas e pode ignorar eventos na viagem."
}
matrixRaca.push(obj);

var obj = {
    raca: "Patovsky",
    pv: 15,
    vantagem: "Pode andar em territórios de água e pode ignorar eventos na viagem."
}
matrixRaca.push(obj);

var obj = {
    raca: "Pandakhan",
    pv: 30,
    vantagem: "Gasta o dobro de provisões."
}
matrixRaca.push(obj);

var obj = {
    raca: "Sharkin",
    pv: 18,
    vantagem: "Pode andar em territórios de água."
}
matrixRaca.push(obj);

var obj = {
    raca: "Goblin",
    pv: 3,
    vantagem: "Se rolar 1 no dado de dano você explode causando 5 de dano em todos da sala."
}
matrixRaca.push(obj);

var obj = {
    raca: "Orc",
    pv: 21,
    vantagem: "Nenhuma"
}
matrixRaca.push(obj);

var obj = {
    raca: "Centauro",
    pv: 19,
    vantagem: "Gasta metade de provisões ao se mover no mapa."
}
matrixRaca.push(obj);

var obj = {
    raca: "Fungóide",
    pv: 10,
    vantagem: "A qualquer momento, gaste 1 provisão e recupere 1d6 Pontos de Vida."
}
matrixRaca.push(obj);

var obj = {
    raca: "Ogro",
    pv: 40,
    vantagem: "Não pode usar poções, pergaminhos ou vestir armadura. Causa +2 de Dano."
}
matrixRaca.push(obj);














var matrixClasse = [];

var obj = {
    classe: "Mendigo",
    pv: 4,
    vantagem: "Nenhuma",
    equipamento: "Pedaço de Pau (Dano 1d6-2)"
}
matrixClasse.push(obj);

var obj = {
    classe: "Coveiro",
    pv: 2,
    vantagem: "Causa +2 de dano em Mortos-Vivos.",
    equipamento: "Pá (Dano 1d6-1)"
}
matrixClasse.push(obj);

var obj = {
    classe: "Nobre",
    pv: 0,
    vantagem: "Começa o jogo com 1 Magia Básica aleatórias.",
    equipamento: "Rapieira (Dano 1d6+1)"
}
matrixClasse.push(obj);

var obj = {
    classe: "Estudante",
    pv: 0,
    vantagem: "Começa o jogo com 3 Magias Básicas aleatórias.",
    equipamento: "Adaga (Dano 1d6-1)"
}
matrixClasse.push(obj);

var obj = {
    classe: "Ferreiro",
    pv: 4,
    vantagem: "Pode recuperar armaduras gastando 1 Tocha.",
    equipamento: "Martelo (Dano 1d6)"
}
matrixClasse.push(obj);

var obj = {
    classe: "Guarda",
    pv: 4,
    vantagem: "Nenhuma.",
    equipamento: "Espada Curta (Dano 1d6)"
}
matrixClasse.push(obj);

var obj = {
    classe: "Cozinheiro",
    pv: 2,
    vantagem: "Ganha 1 Provisão por monstro (que não seja morto-vivo)",
    equipamento: "Cutelo (Dano 1d6)"
}
matrixClasse.push(obj);

var obj = {
    classe: "Chaveiro", 
    pv: 2,
    vantagem: "Não gasta tochas quando Abrir Fechaduras",
    equipamento: "Adaga (Dano 1d6-1)"
}
matrixClasse.push(obj);

var obj = {
    classe: "Lenhador",
    pv: 4,
    vantagem: "Quando destruir portas, role o dado. Se cair 6 ganha 1 tocha.",
    equipamento: "Machado (Dano 1d6)"
}
matrixClasse.push(obj);

var obj = {
    classe: "Minerador",
    pv: 4,
    vantagem: "Se acabar as tochas pode sair caso tenha caminho livre.",
    equipamento: "Picareta (Dano 1d6-1)"
}
matrixClasse.push(obj);

var obj = {
    classe: "Gladiador",
    pv: 4,
    vantagem: "Nenhuma",
    equipamento: "Espada Curta (Dano 1d6)"
}
matrixClasse.push(obj);


on("clicked:btnRaca", function(eventInfo){

    var x = randomInteger(matrixRaca.length) - 1;

    var raca = matrixRaca[x];

    setAttrs({
        "raca" : raca.raca,
        "racaVantagem" : "PV: " + raca.pv + "\n" + raca.vantagem       
    });

});

on("clicked:repeating_class", function(eventInfo) {

    console.log(eventInfo);

    var x = randomInteger(matrixClasse.length) - 1;

    var classe = matrixClasse[x];

    setAttrs({
        "repeating_class_classe" : classe.classe,
        "repeating_class_classeVantagem" : "PV: " + classe.pv + "\n" + classe.vantagem   
    });

});


function randomInteger(max){
    return Math.floor(Math.random() * max) + 1;
}

</script>




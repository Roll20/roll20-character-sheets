include ../difficulties/array

.sheet-sites-container
  fieldset.repeating_sites
    .sheet-site-container
      .sheet-site-row
        .sheet-site-column.sheet-site-background
          p.sheet-site-title Site Name:
          input(type="text" class="sheet-site-name" name="attr_site-name" placeholder="Site Name")
        .sheet-site-column.sheet-site-background
          p.sheet-site-title Objective:
          input(type="text" class="sheet-site-name" name="attr_site-objective" placeholder="Objective")
      .sheet-site-row.sheet-site-background
        .sheet-site-column
          p.sheet-site-title Theme:
          input(type="text" class="sheet-site-name" name="attr_site-theme" placeholder="Theme")
        .sheet-site-column
          p.sheet-site-title Domain:
          input(type="text" class="sheet-site-name" name="attr_site-domain" placeholder="Domain")
      .sheet-site-details-bar
        label.sheet-site-details.sheet-btn
          input(type='checkbox' class='sheet-hide sheet-site-details-button' name='attr_site_details_button')
          .sheet-site-details-content DETAILS
        label.sheet-site-details.sheet-btn
          input(type='checkbox' class='sheet-hide sheet-site-details-button' name='attr_site_theme_domain_button')
          .sheet-site-details-content THEMES & DOMAINS
      
      input(type="checkbox" class="sheet-show-site-info sheet-hide" name="attr_site_details")
      .sheet-show-site-info.sheet-showhide
        .sheet-full-width
          .sheet-site-progress-header
            each difficulty, index in difficulties
              label.sheet-difficulty
                if difficulty.checked
                  input(type="radio" class="sheet-hide" name="attr_rank" value=index checked)
                else
                  input(type="radio" class="sheet-hide" name="attr_rank" value=index)
                h5=difficulty.text
          .sheet-progress
            div
              select(name="attr_progress_one" class="sheet-progress-input") 
                option(value="0" selected) 
                option(value="1") -
                option(value="2") +
                option(value="3") *
                option(value="4") #
              select(name="attr_progress_two" class="sheet-progress-input") 
                option(value="0" selected) 
                option(value="1") -
                option(value="2") +
                option(value="3") *
                option(value="4") #
              select(name="attr_progress_three" class="sheet-progress-input") 
                option(value="0" selected) 
                option(value="1") -
                option(value="2") +
                option(value="3") *
                option(value="4") #
              select(name="attr_progress_four" class="sheet-progress-input") 
                option(value="0" selected) 
                option(value="1") -
                option(value="2") +
                option(value="3") *
                option(value="4") #
              select(name="attr_progress_five" class="sheet-progress-input") 
                option(value="0" selected) 
                option(value="1") -
                option(value="2") +
                option(value="3") *
                option(value="4") #
              select(name="attr_progress_six" class="sheet-progress-input") 
                option(value="0" selected) 
                option(value="1") -
                option(value="2") +
                option(value="3") *
                option(value="4") #
              select(name="attr_progress_seven" class="sheet-progress-input") 
                option(value="0" selected) 
                option(value="1") -
                option(value="2") +
                option(value="3") *
                option(value="4") #
              select(name="attr_progress_eight" class="sheet-progress-input") 
                option(value="0" selected) 
                option(value="1") -
                option(value="2") +
                option(value="3") *
                option(value="4") #
              select(name="attr_progress_nine" class="sheet-progress-input") 
                option(value="0" selected) 
                option(value="1") -
                option(value="2") +
                option(value="3") *
                option(value="4") #
              select(name="attr_progress_ten" class="sheet-progress-input") 
                option(value="0" selected) 
                option(value="1") -
                option(value="2") +
                option(value="3") *
                option(value="4") #
              button(type="roll" title="Conclude your progress" name="rollprogress1" value="&{template:ironcrunch_progress} {{header=@{character_name} Conclude Your Progress}} {{progressname=@{site-name}}} {{progress=[[@{progress-filled}]]}} {{challenge1=[[d10]]}} {{challenge2=[[d10]]}}")
              input(type="text" class="sheet-hide" name="attr_progress-filled" value="floor((@{progress_one}+@{progress_two}+@{progress_three}+@{progress_four}+@{progress_five}+@{progress_six}+@{progress_seven}+@{progress_eight}+@{progress_nine}+@{progress_ten})/4)" disabled="true")
        
        .sheet-full-width
          h3.sheet-site-denizens-divide &emsp;DENIZENS&emsp;
          
          .sheet-denizen-row
            .sheet-denizen-column
              p.sheet-denizen-title Very Common 01-27
              input(type="text" class="sheet-denizen-input sheet-denizen-background" name="attr_vCommonDen1" placeholder="Denizen")
            .sheet-denizen-column
              p.sheet-denizen-title Common 28-41
              input(type="text" class="sheet-denizen-input sheet-denizen-background" name="attr_CommonDen1" placeholder="Denizen") 
            .sheet-denizen-column
              p.sheet-denizen-title Common 42-55
              input(type="text" class="sheet-denizen-input sheet-denizen-background" name="attr_CommonDen2" placeholder="Denizen") 
            .sheet-denizen-column
              p.sheet-denizen-title Common 56-69
              input(type="text" class="sheet-denizen-input sheet-denizen-background" name="attr_CommonDen3" placeholder="Denizen") 
          
          .sheet-denizen-row 
            .sheet-denizen-column
              p.sheet-denizen-title Uncommon 70-75
              input(type="text" class="sheet-denizen-input sheet-denizen-background" name="attr_uncommonDen1" placeholder="Denizen") 
            .sheet-denizen-column
              p.sheet-denizen-title Uncommon 76-81
              input(type="text" class="sheet-denizen-input sheet-denizen-background" name="attr_uncommonDen2" placeholder="Denizen") 
            .sheet-denizen-column
              p.sheet-denizen-title Uncommon 82-87
              input(type="text" class="sheet-denizen-input sheet-denizen-background" name="attr_uncommonDen3" placeholder="Denizen") 
            .sheet-denizen-column
              p.sheet-denizen-title Uncommon 88-93
              input(type="text" class="sheet-denizen-input sheet-denizen-background" name="attr_uncommonDen4" placeholder="Denizen") 
          
          .sheet-denizen-row 
            .sheet-denizen-column
              p.sheet-denizen-title Rare 94-95
              input(type="text" class="sheet-denizen-input sheet-denizen-background" name="attr_rareDen1" placeholder="Denizen") 
            .sheet-denizen-column
              p.sheet-denizen-title Rare 96-97
              input(type="text" class="sheet-denizen-input sheet-denizen-background" name="attr_rareDen2" placeholder="Denizen") 
            .sheet-denizen-column
              p.sheet-denizen-title Rare 98-99
              input(type="text" class="sheet-denizen-input sheet-denizen-background" name="attr_rareDen3" placeholder="Denizen") 
            .sheet-denizen-column
              p.sheet-denizen-title Unforeseen 100
              input(type="text" class="sheet-denizen-input sheet-denizen-background" name="attr_unforeseenDen1" placeholder="Denizen") 
          
          .sheet-denizen-row 
            .sheet-denizen-option-column 
              p.sheet-denizen-option When the outcome of a move prompts an encounter with a denizen, you may:
            .sheet-denizen-operand-column 
              p.sheet-denizen-operand >
            .sheet-denizen-option-column 
              p.sheet-denizen-option Choose or introduce a denizen based on the situation and what you know of this place.
            .sheet-denizen-operand-column 
              p.sheet-denizen-operand or
            .sheet-denizen-option-column 
              p.sheet-denizen-option Roll on the matrix to generate a random encounter. If the field is blank, add a new denizen.
            .sheet-denizen-operand-column 
              p.sheet-denizen-operand or
            .sheet-denizen-option-column 
              p.sheet-denizen-option Identify a denizen as ‘likely’ to appear, and Ask the Oracle. If the answer is “no,” roll on the matrix.
            .sheet-denizen-operand-column 
              p.sheet-denizen-operand or
            .sheet-denizen-option-column 
              p.sheet-denizen-option Pick two denizens, rate one as ‘likely’, and Ask the Oracle to determine which you encounter.

        .sheet-full-width
          h3.sheet-site-divide-notes &emsp;NOTES&emsp;
          textarea(class="sheet-site-notes" name="attr_site-notes")

      input(type="checkbox" class="sheet-show-theme-domains sheet-hide" name="attr_site_theme_domain")
      .sheet-show-theme-domains.sheet-showhide
        .sheet-card-column
          h3 Theme
          include ./cards/themes
        .sheet-card-column
          h3 Domain
          include ./cards/domains
